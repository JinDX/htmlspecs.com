<!doctype html>
<html lang="zh-hans">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <meta content="#3c790a" name="theme-color">
    <meta content="light dark" name="color-scheme">
    <title>流标准</title>
    <link crossorigin href="https://resources.whatwg.org/standard-shared-with-dev.css" rel="stylesheet">
    <link crossorigin href="https://resources.whatwg.org/standard.css" rel="stylesheet">
    <link crossorigin href="https://resources.whatwg.org/spec.css" rel="stylesheet">
    <link crossorigin href="https://resources.whatwg.org/logo-streams.svg" rel="icon">
    <script crossorigin defer src="https://resources.whatwg.org/commit-snapshot-shortcut-key.js"></script>
    <!-- <meta content="Bikeshed version b25686b9f, updated Fri Mar 14 14:15:20 2025 -0700" name="generator">
    <meta content="080852ccd709e063cc6af239ae07fc040e365179" name="revision"> -->
    <style>
        div.algorithm+div.algorithm {
            margin-top: 3em;
        }
    </style>
    <style>
        /* Boilerplate: style-dfn-panel */
        :root {
            --dfnpanel-bg: #ddd;
            --dfnpanel-text: var(--text);
            --dfnpanel-target-bg: #ffc;
            --dfnpanel-target-outline: orange;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --dfnpanel-bg: #222;
                --dfnpanel-text: var(--text);
                --dfnpanel-target-bg: #333;
                --dfnpanel-target-outline: silver;
            }
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--dfnpanel-bg);
            color: var(--dfnpanel-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .dfn-panel:not(.on) {
            display: none;
        }

        .dfn-panel * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .dfn-panel>b {
            display: block;
        }

        .dfn-panel a {
            color: var(--dfnpanel-text);
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important;
        }

        .dfn-panel a:focus {
            outline: 5px auto Highlight;
            outline: 5px auto -webkit-focus-ring-color;
        }

        .dfn-panel>b+b {
            margin-top: 0.25em;
        }

        .dfn-panel ul {
            padding: 0 0 0 1em;
            list-style: none;
        }

        .dfn-panel li a {
            max-width: calc(300px - 1.5em - 1em);
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: 8px;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
            transition: left 1s ease-out, bottom 1s ease-out;
        }

        .dfn-panel .link-item:hover {
            text-decoration: underline;
        }

        .dfn-panel .link-item .copy-icon {
            opacity: 0;
        }

        .dfn-panel .link-item:hover .copy-icon,
        .dfn-panel .link-item .copy-icon:focus {
            opacity: 1;
        }

        .dfn-panel .copy-icon {
            display: inline-block;
            margin-right: 0.5em;
            width: 0.85em;
            height: 1em;
            border-radius: 3px;
            background-color: #ccc;
            cursor: pointer;
        }

        .dfn-panel .copy-icon .icon {
            width: 100%;
            height: 100%;
            background-color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .dfn-panel .copy-icon .icon::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 1px solid black;
            background-color: #ccc;
            opacity: 0.25;
            transform: translate(3px, -3px);
        }

        .dfn-panel .copy-icon:active .icon::before {
            opacity: 1;
        }

        .dfn-paneled[role="button"] {
            cursor: help;
        }

        .highlighted {
            animation: target-fade 3s;
        }

        @keyframes target-fade {
            from {
                background-color: var(--dfnpanel-target-bg);
                outline: 5px solid var(--dfnpanel-target-outline);
            }

            to {
                color: var(--a-normal-text);
                background-color: transparent;
                outline: transparent;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-mdn-anno */
        :root {
            --mdn-bg: #EEE;
            --mdn-shadow: #999;
            --mdn-nosupport-text: #ccc;
            --mdn-pass: green;
            --mdn-fail: red;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --mdn-bg: #222;
                --mdn-shadow: #444;
                --mdn-nosupport-text: #666;
                --mdn-pass: #690;
                --mdn-fail: #d22;
            }
        }

        .mdn-anno {
            background: var(--mdn-bg, #EEE);
            border-radius: .25em;
            box-shadow: 0 0 3px var(--mdn-shadow, #999);
            color: var(--text, black);
            font: 1em sans-serif;
            hyphens: none;
            max-width: min-content;
            overflow: hidden;
            padding: 0.2em;
            position: absolute;
            right: 0.3em;
            top: auto;
            white-space: nowrap;
            word-wrap: normal;
            z-index: 8;
        }

        .mdn-anno.unpositioned {
            display: none;
        }

        .mdn-anno.overlapping-main {
            opacity: .2;
            transition: opacity .1s;
        }

        .mdn-anno[open] {
            opacity: 1;
            z-index: 9;
            min-width: 9em;
        }

        .mdn-anno:hover {
            opacity: 1;
            outline: var(--text, black) 1px solid;
        }

        .mdn-anno>summary {
            font-weight: normal;
            text-align: right;
            cursor: pointer;
            display: block;
        }

        .mdn-anno>summary>.less-than-two-engines-flag {
            color: var(--mdn-fail);
            padding-right: 2px;
        }

        .mdn-anno>summary>.all-engines-flag {
            color: var(--mdn-pass);
            padding-right: 2px;
        }

        .mdn-anno>summary>span {
            color: #fff;
            background-color: #000;
            font-weight: normal;
            font-family: zillaslab, Palatino, "Palatino Linotype", serif;
            padding: 2px 3px 0px 3px;
            line-height: 1.3em;
            vertical-align: top;
        }

        .mdn-anno>.feature {
            margin-top: 20px;
        }

        .mdn-anno>.feature:not(:first-of-type) {
            border-top: 1px solid #999;
            margin-top: 6px;
            padding-top: 2px;
        }

        .mdn-anno>.feature>.less-than-two-engines-text {
            color: var(--mdn-fail);
        }

        .mdn-anno>.feature>.all-engines-text {
            color: var(--mdn-pass);
        }

        .mdn-anno>.feature>p {
            font-size: .75em;
            margin-top: 6px;
            margin-bottom: 0;
        }

        .mdn-anno>.feature>p+p {
            margin-top: 3px;
        }

        .mdn-anno>.feature>.support {
            display: block;
            font-size: 0.6em;
            margin: 0;
            padding: 0;
            margin-top: 2px;
        }

        .mdn-anno>.feature>.support+div {
            padding-top: 0.5em;
        }

        .mdn-anno>.feature>.support>hr {
            display: block;
            border: none;
            border-top: 1px dotted #999;
            padding: 3px 0px 0px 0px;
            margin: 2px 3px 0px 3px;
        }

        .mdn-anno>.feature>.support>hr::before {
            content: "";
        }

        .mdn-anno>.feature>.support>span {
            padding: 0.2em 0;
            display: block;
            display: table;
        }

        .mdn-anno>.feature>.support>span.no {
            color: var(--mdn-nosupport-text);
            filter: grayscale(100%);
        }

        .mdn-anno>.feature>.support>span.no::before {
            opacity: 0.5;
        }

        .mdn-anno>.feature>.support>span:first-of-type {
            padding-top: 0.5em;
        }

        .mdn-anno>.feature>.support>span>span {
            padding: 0 0.5em;
            display: table-cell;
        }

        .mdn-anno>.feature>.support>span>span:first-child {
            width: 100%;
        }

        .mdn-anno>.feature>.support>span>span:last-child {
            width: 100%;
            white-space: pre;
            padding: 0;
        }

        .mdn-anno>.feature>.support>span::before {
            content: ' ';
            display: table-cell;
            min-width: 1.5em;
            height: 1.5em;
            background: no-repeat center center;
            background-size: contain;
            text-align: right;
            font-size: 0.75em;
            font-weight: bold;
        }

        .mdn-anno>.feature>.support>.chrome_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
        }

        .mdn-anno>.feature>.support>.firefox_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
        }

        .mdn-anno>.feature>.support>.chrome::before {
            background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
        }

        .mdn-anno>.feature>.support>.edge_blink::before {
            background-image: url(https://resources.whatwg.org/browser-logos/edge.svg);
        }

        .mdn-anno>.feature>.support>.edge::before {
            background-image: url(https://resources.whatwg.org/browser-logos/edge_legacy.svg);
        }

        .mdn-anno>.feature>.support>.firefox::before {
            background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
        }

        .mdn-anno>.feature>.support>.ie::before {
            background-image: url(https://resources.whatwg.org/browser-logos/ie.png);
        }

        .mdn-anno>.feature>.support>.safari_ios::before {
            background-image: url(https://resources.whatwg.org/browser-logos/safari-ios.svg);
        }

        .mdn-anno>.feature>.support>.nodejs::before {
            background-image: url(https://nodejs.org/favicon.ico);
        }

        .mdn-anno>.feature>.support>.opera_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
        }

        .mdn-anno>.feature>.support>.opera::before {
            background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
        }

        .mdn-anno>.feature>.support>.safari::before {
            background-image: url(https://resources.whatwg.org/browser-logos/safari.png);
        }

        .mdn-anno>.feature>.support>.samsunginternet_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/samsung.svg);
        }

        .mdn-anno>.feature>.support>.webview_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/android-webview.png);
        }

        .name-slug-mismatch {
            color: red;
        }

        .caniuse-status:hover {
            z-index: 9;
        }

        /* dt, li, .issue, .note, and .example are "position: relative", so to put annotation at right margin, must move to right of containing block */
        ;

        .h-entry:not(.status-LS) dt>.mdn-anno,
        .h-entry:not(.status-LS) li>.mdn-anno,
        .h-entry:not(.status-LS) .issue>.mdn-anno,
        .h-entry:not(.status-LS) .note>.mdn-anno,
        .h-entry:not(.status-LS) .example>.mdn-anno {
            right: -6.7em;
        }

        .h-entry p+.mdn-anno {
            margin-top: 0;
        }

        h2+.mdn-anno.after {
            margin: -48px 0 0 0;
        }

        h3+.mdn-anno.after {
            margin: -46px 0 0 0;
        }

        h4+.mdn-anno.after {
            margin: -42px 0 0 0;
        }

        h5+.mdn-anno.after {
            margin: -40px 0 0 0;
        }

        h6+.mdn-anno.after {
            margin: -40px 0 0 0;
        }
    </style>
    <style>
        /* Boilerplate: style-ref-hints */
        :root {
            --ref-hint-bg: #ddd;
            --ref-hint-text: var(--text);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --ref-hint-bg: #222;
                --ref-hint-text: var(--text);
            }
        }

        .ref-hint {
            display: inline-block;
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.5em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--ref-hint-bg);
            color: var(--ref-hint-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .ref-hint * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .ref-hint ul {
            padding: 0 0 0 1em;
            list-style: none;
        }
    </style>

<body class="h-entry status-LS">
    <div class="head">
        <a class="logo" href="https://whatwg.org/">
            <img alt="WHATWG" class="darkmode-aware" crossorigin height="100"
                src="https://resources.whatwg.org/logo-streams.svg">
        </a>
        <hgroup>
            <h1 class="p-name no-ref" id="title">流（Streams）</h1>
            <p id="subtitle">现行标准 — 最后更新 <time class="dt-updated" datetime="2026-02-16">2026年2月16日</time></p>
        </hgroup>
        <div data-fill-with="spec-metadata">
            <dl>
                <dt>参与：
                <dd><a href="https://github.com/whatwg/streams">GitHub whatwg/streams</a>（<a
                        href="https://github.com/whatwg/streams/issues/new/choose">新建议题</a>，<a
                        href="https://github.com/whatwg/streams/issues">所有议题</a>）
                <dd><a href="https://whatwg.org/chat">Matrix 聊天</a>
                <dt>提交记录：
                <dd><a href="https://github.com/whatwg/streams/commits">GitHub whatwg/streams/commits</a>
                <dd><a href="https://streams.spec.whatwg.org/commit-snapshots/682ffc5ed8e5e00155f739d60e4dcabb6dac3e5b/"
                        id="commit-snapshot-link">当前提交快照</a>
                <dd><a href="https://twitter.com/streamsstandard">@streamsstandard</a>
                <dt>测试：
                <dd><a href="https://github.com/web-platform-tests/wpt/tree/master/streams">web-platform-tests
                        streams/</a>（<a href="https://github.com/web-platform-tests/wpt/labels/streams">进行中的工作</a>）
                <dt>翻译 <small>（非规范性）</small>：
                <dd><span title="Japanese"><a href="https://triple-underscore.github.io/Streams-ja.html" hreflang="ja"
                            lang="ja" rel="alternate">日本語</a></span>
                <dd><span title="Simplified Chinese"><a href="https://htmlspecs.com/streams/" hreflang="zh-hans"
                            lang="zh-hans" rel="alternate">简体中文</a></span>
                <dd><span title="Korean"><a href="https://ko.htmlspecs.com/streams/" hreflang="ko" lang="ko"
                            rel="alternate">한국어</a></span>
                <dt>演示：
                <dd><a href="https://streams.spec.whatwg.org/demos/">streams.spec.whatwg.org/demos</a>
            </dl>
        </div>
        <div data-fill-with="warning"></div>
    </div>
    <div class="p-summary" data-fill-with="abstract">
        <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">摘要</span></h2>
        <p>本规范提供了用于创建、组合和消费数据流的 API，这些数据流能够高效地映射到底层 I/O 原语。</p>
    </div>
    <nav data-fill-with="table-of-contents" id="toc">
        <h2 class="no-num no-toc no-ref" id="contents">目录</h2>
        <ol class="toc">
            <li><a href="#intro"><span class="secno">1</span> <span class="content">简介</span></a>
            <li>
                <a href="#model"><span class="secno">2</span> <span class="content">模型</span></a>
                <ol class="toc">
                    <li><a href="#rs-model"><span class="secno">2.1</span> <span class="content">可读流</span></a>
                    <li><a href="#ws-model"><span class="secno">2.2</span> <span class="content">可写流</span></a>
                    <li><a href="#ts-model"><span class="secno">2.3</span> <span class="content">转换流</span></a>
                    <li><a href="#pipe-chains"><span class="secno">2.4</span> <span class="content">管道链与背压</span></a>
                    <li><a href="#queuing-strategies"><span class="secno">2.5</span> <span
                                class="content">内部队列与排队策略</span></a>
                    <li><a href="#locking"><span class="secno">2.6</span> <span class="content">锁定</span></a>
                </ol>
            <li><a href="#conventions"><span class="secno">3</span> <span class="content">约定</span></a>
            <li>
                <a href="#rs"><span class="secno">4</span> <span class="content">可读流</span></a>
                <ol class="toc">
                    <li><a href="#rs-intro"><span class="secno">4.1</span> <span class="content">使用可读流</span></a>
                    <li>
                        <a href="#rs-class"><span class="secno">4.2</span> <span class="content"><code
                                    class="idl"><span>ReadableStream</span></code> 类</span></a>
                        <ol class="toc">
                            <li><a href="#rs-class-definition"><span class="secno">4.2.1</span> <span
                                        class="content">接口定义</span></a>
                            <li><a href="#rs-internal-slots"><span class="secno">4.2.2</span> <span
                                        class="content">内部插槽</span></a>
                            <li><a href="#underlying-source-api"><span class="secno">4.2.3</span> <span
                                        class="content">底层源 API</span></a>
                            <li><a href="#rs-prototype"><span class="secno">4.2.4</span> <span
                                        class="content">构造函数、方法和属性</span></a>
                            <li><a href="#rs-asynciterator"><span class="secno">4.2.5</span> <span
                                        class="content">异步迭代</span></a>
                            <li><a href="#rs-transfer"><span class="secno">4.2.6</span> <span class="content">通过
                                        <code>postMessage()</code> 传递</span></a>
                        </ol>
                    <li>
                        <a href="#generic-reader-mixin"><span class="secno">4.3</span> <span class="content"><code
                                    class="idl"><span>ReadableStreamGenericReader</span></code> mixin</span></a>
                        <ol class="toc">
                            <li><a href="#generic-reader-mixin-definition"><span class="secno">4.3.1</span> <span
                                        class="content">混入定义</span></a>
                            <li><a href="#generic-reader-internal-slots"><span class="secno">4.3.2</span> <span
                                        class="content">内部插槽</span></a>
                            <li><a href="#generic-reader-prototype"><span class="secno">4.3.3</span> <span
                                        class="content">方法与属性</span></a>
                        </ol>
                    <li>
                        <a href="#default-reader-class"><span class="secno">4.4</span> <span class="content"><code
                                    class="idl"><span>ReadableStreamDefaultReader</span></code> 类</span></a>
                        <ol class="toc">
                            <li><a href="#default-reader-class-definition"><span class="secno">4.4.1</span> <span
                                        class="content">接口定义</span></a>
                            <li><a href="#default-reader-internal-slots"><span class="secno">4.4.2</span> <span
                                        class="content">内部插槽</span></a>
                            <li><a href="#default-reader-prototype"><span class="secno">4.4.3</span> <span
                                        class="content">构造函数、方法和属性</span></a>
                        </ol>
                    <li>
                        <a href="#byob-reader-class"><span class="secno">4.5</span> <span class="content"><code
                                    class="idl"><span>ReadableStreamBYOBReader</span></code> 类</span></a>
                        <ol class="toc">
                            <li><a href="#byob-reader-class-definition"><span class="secno">4.5.1</span> <span
                                        class="content">接口定义</span></a>
                            <li><a href="#byob-reader-internal-slots"><span class="secno">4.5.2</span> <span
                                        class="content">内部插槽</span></a>
                            <li><a href="#byob-reader-prototype"><span class="secno">4.5.3</span> <span
                                        class="content">构造函数、方法和属性</span></a>
                        </ol>
                    <li>
                        <a href="#rs-default-controller-class"><span class="secno">4.6</span> <span
                                class="content"><code class="idl"><span>ReadableStreamDefaultController</span></code>
                                类</span></a>
                        <ol class="toc">
                            <li><a href="#rs-default-controller-class-definition"><span class="secno">4.6.1</span> <span
                                        class="content">接口定义</span></a>
                            <li><a href="#rs-default-controller-internal-slots"><span class="secno">4.6.2</span> <span
                                        class="content">内部插槽</span></a>
                            <li><a href="#rs-default-controller-prototype"><span class="secno">4.6.3</span> <span
                                        class="content">方法与属性</span></a>
                            <li><a href="#rs-default-controller-internal-methods"><span class="secno">4.6.4</span> <span
                                        class="content">内部方法</span></a>
                        </ol>
                    <li>
                        <a href="#rbs-controller-class"><span class="secno">4.7</span> <span class="content"><code
                                    class="idl"><span>ReadableByteStreamController</span></code> 类</span></a>
                        <ol class="toc">
                            <li><a href="#rbs-controller-class-definition"><span class="secno">4.7.1</span> <span
                                        class="content">接口定义</span></a>
                            <li><a href="#rbs-controller-internal-slots"><span class="secno">4.7.2</span> <span
                                        class="content">内部插槽</span></a>
                            <li><a href="#rbs-controller-prototype"><span class="secno">4.7.3</span> <span
                                        class="content">方法与属性</span></a>
                            <li><a href="#rbs-controller-internal-methods"><span class="secno">4.7.4</span> <span
                                        class="content">内部方法</span></a>
                        </ol>
                    <li>
                        <a href="#rs-byob-request-class"><span class="secno">4.8</span> <span class="content"><code
                                    class="idl"><span>ReadableStreamBYOBRequest</span></code> 类</span></a>
                        <ol class="toc">
                            <li><a href="#rs-byob-request-class-definition"><span class="secno">4.8.1</span> <span
                                        class="content">接口定义</span></a>
                            <li><a href="#rs-byob-request-internal-slots"><span class="secno">4.8.2</span> <span
                                        class="content">内部插槽</span></a>
                            <li><a href="#rs-byob-request-prototype"><span class="secno">4.8.3</span> <span
                                        class="content">方法与属性</span></a>
                        </ol>
                    <li>
                        <a href="#rs-all-abstract-ops"><span class="secno">4.9</span> <span
                                class="content">抽象操作</span></a>
                        <ol class="toc">
                            <li><a href="#rs-abstract-ops"><span class="secno">4.9.1</span> <span
                                        class="content">与可读流协作</span></a>
                            <li><a href="#rs-abstract-ops-used-by-controllers"><span class="secno">4.9.2</span> <span
                                        class="content">与控制器的接口</span></a>
                            <li><a href="#rs-reader-abstract-ops"><span class="secno">4.9.3</span> <span
                                        class="content">读者</span></a>
                            <li><a href="#rs-default-controller-abstract-ops"><span class="secno">4.9.4</span> <span
                                        class="content">默认控制器</span></a>
                            <li><a href="#rbs-controller-abstract-ops"><span class="secno">4.9.5</span> <span
                                        class="content">字节流控制器</span></a>
                        </ol>
                </ol>
            <li>
                <a href="#ws"><span class="secno">5</span> <span class="content">可写流</span></a>
                <ol class="toc">
                    <li><a href="#ws-intro"><span class="secno">5.1</span> <span class="content">使用可写流</span></a>
                    <li>
                        <a href="#ws-class"><span class="secno">5.2</span> <span class="content"><code
                                    class="idl"><span>WritableStream</span></code> 类</span></a>
                        <ol class="toc">
                            <li><a href="#ws-class-definition"><span class="secno">5.2.1</span> <span
                                        class="content">接口定义</span></a>
                            <li><a href="#ws-internal-slots"><span class="secno">5.2.2</span> <span
                                        class="content">内部槽</span></a>
                            <li><a href="#underlying-sink-api"><span class="secno">5.2.3</span> <span
                                        class="content">底层接收器 API</span></a>
                            <li><a href="#ws-prototype"><span class="secno">5.2.4</span> <span
                                        class="content">构造函数、方法和属性</span></a>
                            <li><a href="#ws-transfer"><span class="secno">5.2.5</span> <span class="content">通过
                                        <code>postMessage()</code> 进行传递</span></a>
                        </ol>
                    <li>
                        <a href="#default-writer-class"><span class="secno">5.3</span> <span class="content"><code
                                    class="idl"><span>WritableStreamDefaultWriter</span></code> 类</span></a>
                        <ol class="toc">
                            <li><a href="#default-writer-class-definition"><span class="secno">5.3.1</span> <span
                                        class="content">接口定义</span></a>
                            <li><a href="#default-writer-internal-slots"><span class="secno">5.3.2</span> <span
                                        class="content">内部槽</span></a>
                            <li><a href="#default-writer-prototype"><span class="secno">5.3.3</span> <span
                                        class="content">构造函数、方法和属性</span></a>
                        </ol>
                    <li>
                        <a href="#ws-default-controller-class"><span class="secno">5.4</span> <span
                                class="content"><code class="idl"><span>WritableStreamDefaultController</span></code>
                                类</span></a>
                        <ol class="toc">
                            <li><a href="#ws-default-controller-class-definition"><span class="secno">5.4.1</span> <span
                                        class="content">接口定义</span></a>
                            <li><a href="#ws-default-controller-internal-slots"><span class="secno">5.4.2</span> <span
                                        class="content">内部槽</span></a>
                            <li><a href="#ws-default-controller-prototype"><span class="secno">5.4.3</span> <span
                                        class="content">方法和属性</span></a>
                            <li><a href="#ws-default-controller-internal-methods"><span class="secno">5.4.4</span> <span
                                        class="content">内部方法</span></a>
                        </ol>
                    <li>
                        <a href="#ws-all-abstract-ops"><span class="secno">5.5</span> <span
                                class="content">抽象操作</span></a>
                        <ol class="toc">
                            <li><a href="#ws-abstract-ops"><span class="secno">5.5.1</span> <span
                                        class="content">可写流相关操作</span></a>
                            <li><a href="#ws-abstract-ops-used-by-controllers"><span class="secno">5.5.2</span> <span
                                        class="content">与控制器的接口</span></a>
                            <li><a href="#ws-writer-abstract-ops"><span class="secno">5.5.3</span> <span
                                        class="content">Writer 抽象操作</span></a>
                            <li><a href="#ws-default-controller-abstract-ops"><span class="secno">5.5.4</span> <span
                                        class="content">默认控制器</span></a>
                        </ol>
                </ol>
            <li>
                <a href="#ts"><span class="secno">6</span> <span class="content">转换流</span></a>
                <ol class="toc">
                    <li><a href="#ts-intro"><span class="secno">6.1</span> <span class="content">使用转换流</span></a>
                    <li>
                        <a href="#ts-class"><span class="secno">6.2</span> <span class="content"><code
                                    class="idl"><span>TransformStream</span></code> 类</span></a>
                        <ol class="toc">
                            <li><a href="#ts-class-definition"><span class="secno">6.2.1</span> <span
                                        class="content">接口定义</span></a>
                            <li><a href="#ts-internal-slots"><span class="secno">6.2.2</span> <span
                                        class="content">内部槽</span></a>
                            <li><a href="#transformer-api"><span class="secno">6.2.3</span> <span
                                        class="content">transformer API</span></a>
                            <li><a href="#ts-prototype"><span class="secno">6.2.4</span> <span
                                        class="content">构造函数和属性</span></a>
                            <li><a href="#ts-transfer"><span class="secno">6.2.5</span> <span class="content">通过
                                        <code>postMessage()</code> 传递</span></a>
                        </ol>
                    <li>
                        <a href="#ts-default-controller-class"><span class="secno">6.3</span> <span
                                class="content"><code class="idl"><span>TransformStreamDefaultController</span></code>
                                类</span></a>
                        <ol class="toc">
                            <li><a href="#ts-default-controller-class-definition"><span class="secno">6.3.1</span> <span
                                        class="content">接口定义</span></a>
                            <li><a href="#ts-default-controller-internal-slots"><span class="secno">6.3.2</span> <span
                                        class="content">内部槽</span></a>
                            <li><a href="#ts-default-controller-prototype"><span class="secno">6.3.3</span> <span
                                        class="content">方法与属性</span></a>
                        </ol>
                    <li>
                        <a href="#ts-all-abstract-ops"><span class="secno">6.4</span> <span
                                class="content">抽象操作</span></a>
                        <ol class="toc">
                            <li><a href="#ts-abstract-ops"><span class="secno">6.4.1</span> <span
                                        class="content">与转换流相关操作</span></a>
                            <li><a href="#ts-default-controller-abstract-ops"><span class="secno">6.4.2</span> <span
                                        class="content">默认控制器</span></a>
                            <li><a href="#ts-default-sink-abstract-ops"><span class="secno">6.4.3</span> <span
                                        class="content">默认 sink</span></a>
                            <li><a href="#ts-default-source-abstract-ops"><span class="secno">6.4.4</span> <span
                                        class="content">默认 source</span></a>
                        </ol>
                </ol>
            <li>
                <a href="#qs"><span class="secno">7</span> <span class="content">队列策略</span></a>
                <ol class="toc">
                    <li><a href="#qs-api"><span class="secno">7.1</span> <span class="content">队列策略 API</span></a>
                    <li>
                        <a href="#blqs-class"><span class="secno">7.2</span> <span class="content"><code
                                    class="idl"><span>ByteLengthQueuingStrategy</span></code> 类</span></a>
                        <ol class="toc">
                            <li><a href="#blqs-class-definition"><span class="secno">7.2.1</span> <span
                                        class="content">接口定义</span></a>
                            <li><a href="#blqs-internal-slots"><span class="secno">7.2.2</span> <span
                                        class="content">内部槽</span></a>
                            <li><a href="#blqs-prototype"><span class="secno">7.2.3</span> <span
                                        class="content">构造函数与属性</span></a>
                        </ol>
                    <li>
                        <a href="#cqs-class"><span class="secno">7.3</span> <span class="content"><code
                                    class="idl"><span>CountQueuingStrategy</span></code> 类</span></a>
                        <ol class="toc">
                            <li><a href="#cqs-class-definition"><span class="secno">7.3.1</span> <span
                                        class="content">接口定义</span></a>
                            <li><a href="#cqs-internal-slots"><span class="secno">7.3.2</span> <span
                                        class="content">内部槽</span></a>
                            <li><a href="#cqs-prototype"><span class="secno">7.3.3</span> <span
                                        class="content">构造函数与属性</span></a>
                        </ol>
                    <li><a href="#qs-abstract-ops"><span class="secno">7.4</span> <span class="content">抽象操作</span></a>
                </ol>
            <li>
                <a href="#other-stuff"><span class="secno">8</span> <span class="content">支持性抽象操作</span></a>
                <ol class="toc">
                    <li><a href="#queue-with-sizes"><span class="secno">8.1</span> <span
                                class="content">带大小的队列</span></a>
                    <li><a href="#transferrable-streams"><span class="secno">8.2</span> <span
                                class="content">可转移流</span></a>
                    <li><a href="#misc-abstract-ops"><span class="secno">8.3</span> <span class="content">杂项</span></a>
                </ol>
            <li>
                <a href="#other-specs"><span class="secno">9</span> <span class="content">在其他规范中使用流</span></a>
                <ol class="toc">
                    <li>
                        <a href="#other-specs-rs"><span class="secno">9.1</span> <span class="content">可读流</span></a>
                        <ol class="toc">
                            <li><a href="#other-specs-rs-create"><span class="secno">9.1.1</span> <span
                                        class="content">创建与操作</span></a>
                            <li><a href="#other-specs-rs-reading"><span class="secno">9.1.2</span> <span
                                        class="content">读取</span></a>
                            <li><a href="#other-specs-rs-introspect"><span class="secno">9.1.3</span> <span
                                        class="content">自省</span></a>
                        </ol>
                    <li>
                        <a href="#other-specs-ws"><span class="secno">9.2</span> <span class="content">可写流</span></a>
                        <ol class="toc">
                            <li><a href="#other-specs-ws-creation"><span class="secno">9.2.1</span> <span
                                        class="content">创建与操作</span></a>
                            <li><a href="#other-specs-ws-writing"><span class="secno">9.2.2</span> <span
                                        class="content">写入</span></a>
                        </ol>
                    <li>
                        <a href="#other-specs-ts"><span class="secno">9.3</span> <span class="content">转换流</span></a>
                        <ol class="toc">
                            <li><a href="#other-specs-ts-creation"><span class="secno">9.3.1</span> <span
                                        class="content">创建与操作</span></a>
                            <li><a href="#other-specs-ts-wrapping"><span class="secno">9.3.2</span> <span
                                        class="content">包装为自定义类</span></a>
                        </ol>
                    <li>
                        <a href="#other-specs-pairs"><span class="secno">9.4</span> <span
                                class="content">其他流对</span></a>
                        <ol class="toc">
                            <li><a href="#other-specs-duplex"><span class="secno">9.4.1</span> <span
                                        class="content">双工流</span></a>
                            <li><a href="#other-specs-endpoints"><span class="secno">9.4.2</span> <span
                                        class="content">端点配对</span></a>
                        </ol>
                    <li><a href="#other-specs-piping"><span class="secno">9.5</span> <span
                                class="content">管道连接</span></a>
                </ol>
            <li>
                <a href="#creating-examples"><span class="secno">10</span> <span class="content">创建流的示例</span></a>
                <ol class="toc">
                    <li><a href="#example-rs-push-no-backpressure"><span class="secno">10.1</span> <span
                                class="content">具有底层推送源的可读流（无背压支持）</span></a>
                    <li><a href="#example-rs-push-backpressure"><span class="secno">10.2</span> <span
                                class="content">具有底层推送源并支持背压的可读流</span></a>
                    <li><a href="#example-rbs-push"><span class="secno">10.3</span> <span
                                class="content">具有底层推送源的可读字节流（无背压支持）</span></a>
                    <li><a href="#example-rs-pull"><span class="secno">10.4</span> <span
                                class="content">具有底层拉取源的可读流</span></a>
                    <li><a href="#example-rbs-pull"><span class="secno">10.5</span> <span
                                class="content">具有底层拉取源的可读字节流</span></a>
                    <li><a href="#example-ws-no-backpressure"><span class="secno">10.6</span> <span
                                class="content">无背压或成功信号的可写流</span></a>
                    <li><a href="#example-ws-backpressure"><span class="secno">10.7</span> <span
                                class="content">具有背压和成功信号的可写流</span></a>
                    <li><a href="#example-both"><span class="secno">10.8</span> <span class="content">包装同一底层资源的 {
                                readable, writable } 流对</span></a>
                    <li><a href="#example-ts-lipfuzz"><span class="secno">10.9</span> <span
                                class="content">替换模板标签的转换流</span></a>
                    <li><a href="#example-ts-sync-mapper"><span class="secno">10.10</span> <span class="content">由同步
                                mapper 函数创建的转换流</span></a>
                    <li><a href="#example-identity-transform-usages"><span class="secno">10.11</span> <span
                                class="content">用恒等转换流作为原语创建新可读流</span></a>
                </ol>
            <li><a href="#acks"><span class="secno"></span> <span class="content">致谢</span></a>
            <li><a href="#ipr"><span class="secno"></span> <span class="content">知识产权</span></a>
            <li>
                <a href="#index"><span class="secno"></span> <span class="content">索引</span></a>
                <ol class="toc">
                    <li><a href="#index-defined-here"><span class="secno"></span> <span
                                class="content">本规范定义的术语</span></a>
                    <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span
                                class="content">引用定义的术语</span></a>
                </ol>
            <li>
                <a href="#references"><span class="secno"></span> <span class="content">参考文献</span></a>
                <ol class="toc">
                    <li><a href="#normative"><span class="secno"></span> <span class="content">规范性引用</span></a>
                    <li><a href="#informative"><span class="secno"></span> <span class="content">参考性引用</span></a>
                </ol>
            <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL 索引</span></a>
        </ol>
    </nav>
    <main>
        <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span
                class="content">简介</span><a class="self-link" href="#intro"></a></h2>
        <div class="non-normative">
            <p><em>本节为非规范性内容。</em></p>
            <p>Web 平台的大部分内容都建立在流数据之上：也就是说，数据以增量的方式被创建、处理和消费，无需将所有数据一次性读取到内存中。Streams 标准为创建和交互此类流数据提供了一套通用 API，体现在<a
                    data-link-type="dfn" href="#readable-stream" id="ref-for-readable-stream">可读流</a>、<a
                    data-link-type="dfn" href="#writable-stream" id="ref-for-writable-stream">可写流</a>和<a
                    data-link-type="dfn" href="#transform-stream" id="ref-for-transform-stream">转换流</a>中。</p>
            <p>这些 API 被设计为能够高效地映射到底层的 I/O 原语，包括在合适情况下对字节流的专门支持。它们允许轻松地将多个流组合为<a data-link-type="dfn" href="#pipe-chain"
                    id="ref-for-pipe-chain">管道链</a>，或者通过<a data-link-type="dfn" href="#reader"
                    id="ref-for-reader">读取器</a>和<a data-link-type="dfn" href="#writer"
                    id="ref-for-writer">写入器</a>直接使用。最后，它们还被设计为自动提供<a data-link-type="dfn" href="#backpressure"
                    id="ref-for-backpressure">背压</a>和排队特性。</p>
            <p>本标准为其他 Web 平台的组成部分提供了基础流原语，以便它们用于暴露其流式数据。例如，<a data-link-type="biblio" href="#biblio-fetch"
                    title="Fetch 标准">[FETCH]</a>将<code
                    class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#response" id="ref-for-response">Response</a></code>
                的 body 暴露为<code
                    class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream">ReadableStream</a></code>
                实例。更一般而言，平台中充满了等待被表达为流的流式抽象：多媒体流、文件流、跨全局通信等，都因能够增量处理数据而无需全部缓冲到内存后再处理而受益。通过为这些流向开发者暴露提供基础，Streams
                标准使如下用例成为可能：</p>
            <ul>
                <li data-md>
                    <p>视频特效：将可读视频流通过转换流实时应用特效。</p>
                <li data-md>
                    <p>解压缩：将文件流通过转换流，选择性地解压缩 <kbd>.tgz</kbd> 归档中的文件，并在用户浏览图片库时，将其转为
                        <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#the-img-element" id="ref-for-the-img-element">img</a></code>
                        元素。
                    </p>
                <li data-md>
                    <p>图像解码：通过转换流将 HTTP 响应流中的字节解码为位图数据，再通过另一个转换流将位图转为 PNG。如果在 service worker 的 <code
                            class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#service-worker-global-scope-fetch-event" id="ref-for-service-worker-global-scope-fetch-event">fetch</a></code>
                        钩子中安装这段代码，开发者就可以透明地为新图像格式提供兼容实现。<a data-link-type="biblio" href="#biblio-service-workers"
                            title="Service Workers Nightly">[SERVICE-WORKERS]</a></p>
            </ul>
            <p>Web 开发者也可以使用此处描述的 API 创建自己的流，其 API 与平台提供的流一致。其他开发者随后可以透明地将平台流与库提供的流进行组合。通过这种方式，这里的 API
                提供了所有流的统一抽象，促进了围绕这些共享且可组合接口的生态系统发展。</p>
        </div>
        <h2 class="heading settled" data-level="2" id="model"><span class="secno">2. </span><span
                class="content">模型</span><a class="self-link" href="#model"></a></h2>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="chunk">数据块（chunk）</dfn>是写入或从流中读取的单个数据片段。它可以是任意类型；流甚至可以包含不同类型的数据块。对于给定流而言，数据块往往不是最原子的单位；例如，字节流中的数据块可能由
            16 KiB 大小的 <code
                class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-typedarray-objects" id="ref-for-sec-typedarray-objects">Uint8Array</a></code>
            组成，而不是单个字节。</p>
        <h3 class="heading settled" data-level="2.1" id="rs-model"><span class="secno">2.1. </span><span
                class="content">可读流</span><a class="self-link" href="#rs-model"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="readable-stream">可读流（readable stream）</dfn>
            代表一个数据源，你可以从中读取数据。换句话说，数据<em>从</em>可读流流出。具体来说，可读流是
            <code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream①">ReadableStream</a></code>
            类的一个实例。
        </p>
        <p>尽管可读流可以用任意行为来创建，但大多数可读流会包装一个较低层次的 I/O 源，这被称为<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="underlying-source">底层源（underlying source）</dfn>。底层源有两种类型：推送源（push sources）和拉取源（pull sources）。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="push source" data-noexport
                id="push-source">推送源</dfn>会主动向你推送数据，无论你是否在监听。它们通常还会提供暂停和恢复数据流的机制。推送源的一个例子是 TCP
            套接字，数据会持续从操作系统层面推送过来，可以通过调整 TCP 窗口大小来控制速率。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="pull source" data-noexport
                id="pull-source">拉取源</dfn>则需要你主动请求数据。数据可能是同步可用的，例如被操作系统缓存在内存中的缓冲区，也可能是异步的，比如从磁盘读取。拉取源的一个例子是文件句柄，你可以定位到特定位置并读取指定数量的数据。
        </p>
        <p>可读流被设计为通过统一的接口包装这两种类型的源。对于 Web 开发者自定义的流，底层源的实现细节由<a href="#underlying-source-api">一个包含特定方法和属性的对象</a>提供，并传递给
            <code
                class="idl"><a data-link-type="idl" href="#rs-constructor" id="ref-for-rs-constructor">ReadableStream()</a></code>
            构造函数。
        </p>
        <p><a data-link-type="dfn" href="#chunk" id="ref-for-chunk">数据块（chunk）</a>由流的<a data-link-type="dfn"
                href="#underlying-source" id="ref-for-underlying-source">底层源</a>入队至流中。它们随后可以通过流的公共接口逐个读取，特别是通过使用流的 <a
                data-link-type="dfn" href="#reader" id="ref-for-reader①">可读流读取器</a>，该读取器可通过流的 <code
                class="idl"><a data-link-type="idl" href="#rs-get-reader" id="ref-for-rs-get-reader">getReader()</a></code>
            方法获取。</p>
        <p>使用流的公共接口从可读流读取数据的代码被称为<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="consumer">消费者（consumer）</dfn>。</p>
        <p>消费者还可以通过 <code
                class="idl"><a data-link-type="idl" href="#rs-cancel" id="ref-for-rs-cancel">cancel()</a></code> 方法<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-lt="cancel a readable stream" data-noexport
                id="cancel-a-readable-stream">取消</dfn>可读流。这表示消费者不再关注该流，会立即关闭流、丢弃队列中的所有<a data-link-type="dfn"
                href="#chunk" id="ref-for-chunk①">数据块</a>，并执行<a data-link-type="dfn" href="#underlying-source"
                id="ref-for-underlying-source①">底层源</a>的任何取消机制。</p>
        <p>消费者还可以通过流的 <code class="idl"><a data-link-type="idl" href="#rs-tee" id="ref-for-rs-tee">tee()</a></code>
            方法<dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="tee a readable stream" data-noexport
                id="tee-a-readable-stream">分叉（tee）</dfn>可读流。这会<a data-link-type="dfn" href="#lock"
                id="ref-for-lock">锁定</a>该流，使其无法直接使用，但会创建两个新的流，称为<dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="branches of a
readable stream tee" data-noexport id="branches-of-a-readable-stream-tee">分支（branches）</dfn>，可分别消费。</p>
        <p>对于表示字节的流，提供了扩展版本的<a data-link-type="dfn" href="#readable-stream"
                id="ref-for-readable-stream①">可读流</a>，以高效处理字节，尤其是减少拷贝。此类可读流的<a data-link-type="dfn"
                href="#underlying-source" id="ref-for-underlying-source②">底层源</a>被称为<dfn class="dfn-paneled"
                data-dfn-type="dfn" data-noexport id="underlying-byte-source">底层字节源（underlying byte
                source）</dfn>。底层源为底层字节源的可读流有时被称为<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="readable-byte-stream">可读字节流（readable byte stream）</dfn>。可读字节流的消费者可以通过流的 <code
                class="idl"><a data-link-type="idl" href="#rs-get-reader" id="ref-for-rs-get-reader①">getReader()</a></code>
            方法获取<a data-link-type="dfn" href="#byob-reader" id="ref-for-byob-reader">BYOB 读取器</a>。</p>
        <h3 class="heading settled" data-level="2.2" id="ws-model"><span class="secno">2.2. </span><span
                class="content">可写流</span><a class="self-link" href="#ws-model"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="writable-stream">可写流（writable stream）</dfn>
            代表一个数据目标，你可以向其中写入数据。换句话说，数据<em>流入</em>可写流。具体来说，可写流是
            <code
                class="idl"><a data-link-type="idl" href="#writablestream" id="ref-for-writablestream">WritableStream</a></code>
            类的一个实例。
        </p>
        <p>类似于可读流，大多数可写流会包装一个较低层次的 I/O 目标，称为<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="underlying-sink">底层接收器（underlying sink）</dfn>。
            可写流通过排队后续写入并逐个交付给底层接收器，来抽象底层接收器的一些复杂性。</p>
        <p><a data-link-type="dfn" href="#chunk" id="ref-for-chunk②">数据块（chunk）</a>通过流的公共接口写入流中，并依次传递给流的<a
                data-link-type="dfn" href="#underlying-sink" id="ref-for-underlying-sink">底层接收器</a>。
            对于 Web 开发者自定义的流，底层接收器的实现细节由<a href="#underlying-sink-api">一个包含特定方法的对象</a>提供，并传递给
            <code
                class="idl"><a data-link-type="idl" href="#ws-constructor" id="ref-for-ws-constructor">WritableStream()</a></code>
            构造函数。
        </p>
        <p>使用流的公共接口向可写流写入数据的代码被称为<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="producer">生产者（producer）</dfn>。</p>
        <p>生产者还可以通过 <code class="idl"><a data-link-type="idl" href="#ws-abort" id="ref-for-ws-abort">abort()</a></code>
            方法<dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="abort a writable stream" data-noexport
                id="abort-a-writable-stream">中止</dfn>可写流，
            这表示生产者认为出现了问题，后续写入应当被终止。即使没有来自<a data-link-type="dfn" href="#underlying-sink"
                id="ref-for-underlying-sink①">底层接收器</a>的信号，这也会使流进入错误状态，并丢弃流<a data-link-type="dfn"
                href="#internal-queues" id="ref-for-internal-queues">内部队列</a>中的所有写入。</p>
        <h3 class="heading settled" data-level="2.3" id="ts-model"><span class="secno">2.3. </span><span
                class="content">转换流</span><a class="self-link" href="#ts-model"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="transform-stream">转换流（transform stream）</dfn>
            由一对流组成：一个<a data-link-type="dfn" href="#writable-stream" id="ref-for-writable-stream①">可写流</a>，称为其<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-export id="writable-side">可写端（writable side）</dfn>，以及一个<a
                data-link-type="dfn" href="#readable-stream" id="ref-for-readable-stream②">可读流</a>，称为其<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="readable side"
                id="readable-side">可读端（readable side）</dfn>。对于特定的转换流，写入可写端的数据会以特定方式产生可以从可读端读取的新数据。
        </p>
        <p>具体来说，任何包含 <code>writable</code> 属性和 <code>readable</code> 属性的对象都可以作为转换流。然而，标准的<code
                class="idl"><a data-link-type="idl" href="#transformstream" id="ref-for-transformstream">TransformStream</a></code>
            类可以更容易地创建一对正确关联的流。它包装了一个<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="transformer">转换器（transformer）</dfn>，定义了要执行的具体转换算法。对于 Web 开发者自定义的流，转换器的实现细节由<a
                href="#transformer-api">一个包含特定方法和属性的对象</a>提供，并传递给
            <code
                class="idl"><a data-link-type="idl" href="#ts-constructor" id="ref-for-ts-constructor">TransformStream()</a></code>
            构造函数。其他规范可能会使用 <code
                class="idl"><a data-link-type="idl" href="#generictransformstream" id="ref-for-generictransformstream">GenericTransformStream</a></code>
            混入来创建具有相同 <code>writable</code>/<code>readable</code> 属性对，但上层带有自定义 API 的类。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="identity-transform-stream">恒等转换流（identity
                transform stream）</dfn>是一种特殊的转换流，会将写入其<a data-link-type="dfn" href="#writable-side"
                id="ref-for-writable-side">可写端</a>的所有<a data-link-type="dfn" href="#chunk"
                id="ref-for-chunk③">数据块</a>原样转发到其<a data-link-type="dfn" href="#readable-side"
                id="ref-for-readable-side">可读端</a>，不做任何更改。这在<a href="#example-transform-identity">多种场景</a>下很有用。当传递给
            <code
                class="idl"><a data-link-type="idl" href="#transformstream" id="ref-for-transformstream①">TransformStream</a></code>
            构造函数的<code
                class="idl"><a data-link-type="idl" href="#dom-transformer-transform" id="ref-for-dom-transformer-transform">transform()</a></code>
            方法不存在于<a data-link-type="dfn" href="#transformer" id="ref-for-transformer">转换器</a>对象上时，默认会创建一个恒等转换流。
        </p>
        <p>一些可能的转换流示例包括：</p>
        <ul>
            <li data-md>
                <p>GZIP 压缩器：将未压缩字节写入并从中读取压缩字节；</p>
            <li data-md>
                <p>视频解码器：写入编码字节并从中读取未压缩的视频帧；</p>
            <li data-md>
                <p>文本解码器：写入字节并从中读取字符串；</p>
            <li data-md>
                <p>CSV 转 JSON 转换器：写入表示 CSV 文件行的字符串，并从中读取对应的 JavaScript 对象。</p>
        </ul>
        <h3 class="heading settled" data-level="2.4" id="pipe-chains"><span class="secno">2.4. </span><span
                class="content">管道链与背压</span><a class="self-link" href="#pipe-chains"></a></h3>
        <p>流主要通过<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="piping">管道（piping）</dfn>方式相互连接使用。可读流可以直接通过其 <code
                class="idl"><a data-link-type="idl" href="#rs-pipe-to" id="ref-for-rs-pipe-to">pipeTo()</a></code>
            方法连接到可写流，也可以先通过一个或多个转换流连接，使用其 <code
                class="idl"><a data-link-type="idl" href="#rs-pipe-through" id="ref-for-rs-pipe-through">pipeThrough()</a></code>
            方法。</p>
        <p>这样连接在一起的一组流被称为<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="pipe-chain">管道链（pipe
                chain）</dfn>。在管道链中，<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="original-source">原始源（original source）</dfn>是链中第一个可读流的<a data-link-type="dfn"
                href="#underlying-source" id="ref-for-underlying-source③">底层源</a>；<dfn class="dfn-paneled"
                data-dfn-type="dfn" data-noexport id="ultimate-sink">最终接收器（ultimate sink）</dfn>是链中最后一个可写流的<a
                data-link-type="dfn" href="#underlying-sink" id="ref-for-underlying-sink②">底层接收器</a>。</p>
        <p>一旦管道链被构建，关于<a data-link-type="dfn" href="#chunk"
                id="ref-for-chunk④">数据块</a>流经速度的信号就会在整个链上传播。如果链中的某一环节无法立即接收数据块，它会向管道链反向传播信号，最终告知原始源不要太快地产生数据块。这种根据链条处理速度来规范原始源输出速度的机制被称为<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-noexport id="backpressure">背压（backpressure）</dfn>。</p>
        <p>具体来说，<a data-link-type="dfn" href="#original-source" id="ref-for-original-source">原始源</a>会获取 <code
                class="idl"><a data-link-type="idl" href="#rs-default-controller-desired-size" id="ref-for-rs-default-controller-desired-size">controller.desiredSize</a></code>
            （或 <code
                class="idl"><a data-link-type="idl" href="#rbs-controller-desired-size" id="ref-for-rbs-controller-desired-size">byteController.desiredSize</a></code>）
            的值，并据此调整自身数据流速率。这个值来源于与<a data-link-type="dfn" href="#ultimate-sink" id="ref-for-ultimate-sink">最终接收器</a>对应的
            <code
                class="idl"><a data-link-type="idl" href="#default-writer-desired-size" id="ref-for-default-writer-desired-size">writer.desiredSize</a></code>
            ，该值会随着最终接收器完成写入<a data-link-type="dfn" href="#chunk" id="ref-for-chunk⑤">数据块</a>而更新。用于构建管道链的 <code
                class="idl"><a data-link-type="idl" href="#rs-pipe-to" id="ref-for-rs-pipe-to①">pipeTo()</a></code>
            方法会自动确保这些信息能够在<a data-link-type="dfn" href="#pipe-chain" id="ref-for-pipe-chain①">管道链</a>中向后传播。
        </p>
        <p>当对可读流进行<a data-link-type="dfn" href="#tee-a-readable-stream"
                id="ref-for-tee-a-readable-stream">分叉（tee）</a>时，其两个<a data-link-type="dfn"
                href="#branches-of-a-readable-stream-tee" id="ref-for-branches-of-a-readable-stream-tee">分支</a>的<a
                data-link-type="dfn" href="#backpressure" id="ref-for-backpressure①">背压</a>信号会聚合；如果两个分支都没有被读取，则会向原始流的<a
                data-link-type="dfn" href="#underlying-source" id="ref-for-underlying-source④">底层源</a>发出背压信号。</p>
        <p>管道操作会<a data-link-type="dfn" href="#lock"
                id="ref-for-lock①">锁定</a>可读流和可写流，在管道操作期间无法再对它们进行其他操作。这允许实现进行重要的优化，比如在底层源与底层接收器之间直接传递数据，绕过许多中间队列。</p>
        <h3 class="heading settled" data-level="2.5" id="queuing-strategies"><span class="secno">2.5. </span><span
                class="content">内部队列与排队策略</span><a class="self-link" href="#queuing-strategies"></a></h3>
        <p>可读流和可写流都维护着<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="internal-queues">内部队列（internal
                queues）</dfn>，它们的用途基本类似。对于可读流，内部队列包含由<a data-link-type="dfn" href="#chunk"
                id="ref-for-chunk⑥">数据块</a>被<a data-link-type="dfn" href="#underlying-source"
                id="ref-for-underlying-source⑤">底层源</a>入队但尚未被消费者读取的数据。对于可写流，内部队列包含由生产者写入但尚未被<a data-link-type="dfn"
                href="#underlying-sink" id="ref-for-underlying-sink③">底层接收器</a>处理和确认的数据块。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="queuing-strategy">排队策略（queuing
                strategy）</dfn>是一个对象，根据流的<a data-link-type="dfn" href="#internal-queues"
                id="ref-for-internal-queues①">内部队列</a>状态，决定如何向流发出<a data-link-type="dfn" href="#backpressure"
                id="ref-for-backpressure②">背压</a>信号。排队策略会为每个<a data-link-type="dfn" href="#chunk"
                id="ref-for-chunk⑧">数据块</a>分配一个大小，并将队列中所有数据块的总大小与一个特定值（<dfn class="dfn-paneled" data-dfn-type="dfn"
                data-export id="high-water-mark">高水位线（high water mark）</dfn>）进行比较。两者的差值（高水位线减去当前总大小）被用来确定<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-lt="desired size to fill a stream&apos;s internal
queue" data-noexport id="desired-size-to-fill-a-streams-internal-queue">队列需要填充的期望大小</dfn>。
        </p>
        <p>对于可读流，底层源可以将这个期望大小作为背压信号，放慢数据块的生成速度，以尽量保持队列期望大小大于或等于零。对于可写流，生产者也可以类似地避免写入导致期望大小变为负数的数据。</p>
        <p><a href="#qs-api">具体来说</a>，Web 开发者自定义流的排队策略由任何具有 <code
                class="idl"><a data-link-type="idl" href="#dom-queuingstrategy-highwatermark" id="ref-for-dom-queuingstrategy-highwatermark">highWaterMark</a></code>
            属性的 JavaScript 对象给出。对于字节流，<code
                class="idl"><a data-link-type="idl" href="#dom-queuingstrategy-highwatermark" id="ref-for-dom-queuingstrategy-highwatermark①">highWaterMark</a></code>
            的单位始终为字节。对于其他流，默认单位为<a data-link-type="dfn" href="#chunk" id="ref-for-chunk⑨">数据块</a>，但也可以在策略对象中包含一个 <code
                class="idl"><a data-link-type="idl" href="#dom-queuingstrategy-size" id="ref-for-dom-queuingstrategy-size">size()</a></code>
            函数，为每个数据块返回其大小。这允许 <code
                class="idl"><a data-link-type="idl" href="#dom-queuingstrategy-highwatermark" id="ref-for-dom-queuingstrategy-highwatermark②">highWaterMark</a></code>
            以任意浮点单位表示。</p>
        <div class="example" id="example-simple-queuing-strategy">
            <a class="self-link" href="#example-simple-queuing-strategy"></a> 一个简单的排队策略示例是：为每个数据块分配大小为 1，高水位线为
            3。这样在可读流中最多可以入队 3 个数据块，在可写流中最多可以写入 3 个数据块，超过后流就会施加背压。
            <p>在 JavaScript 中，这样的策略可手动写为 <code
                    class="highlight"><c- p>{</c-> highWaterMark<c- o>:</c-> <c- mf>3</c-><c- p>,</c-> size<c- p>()</c-> <c- p>{</c-> <c- k>return</c-> <c- mf>1</c-><c- p>;</c-> <c- p>}}</c-></code>，
                或用内置的 <code
                    class="idl"><a data-link-type="idl" href="#countqueuingstrategy" id="ref-for-countqueuingstrategy">CountQueuingStrategy</a></code>
                类写为 <code
                    class="highlight"><c- ow>new</c-> CountQueuingStrategy<c- p>({</c-> highWaterMark<c- o>:</c-> <c- mf>3</c-> <c- p>})</c-></code>。
            </p>
        </div>
        <h3 class="heading settled" data-level="2.6" id="locking"><span class="secno">2.6. </span><span
                class="content">锁定</span><a class="self-link" href="#locking"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="reader|readable stream reader" data-noexport
                id="reader">可读流读取器（reader/readable stream reader）</dfn>，简称 reader，是一个允许直接从<a data-link-type="dfn"
                href="#readable-stream" id="ref-for-readable-stream③">可读流</a>读取<a data-link-type="dfn" href="#chunk"
                id="ref-for-chunk①⓪">数据块</a>的对象。如果没有读取器，<a data-link-type="dfn" href="#consumer"
                id="ref-for-consumer">消费者</a>只能对可读流执行高级操作：<a data-link-type="dfn" href="#cancel-a-readable-stream"
                id="ref-for-cancel-a-readable-stream">取消</a>流或<a data-link-type="dfn" href="#piping"
                id="ref-for-piping">管道</a>到可写流。读取器可通过流的 <code
                class="idl"><a data-link-type="idl" href="#rs-get-reader" id="ref-for-rs-get-reader②">getReader()</a></code>
            方法获取。</p>
        <p><a data-link-type="dfn" href="#readable-byte-stream"
                id="ref-for-readable-byte-stream">可读字节流</a>可以提供两种读取器：<dfn class="dfn-paneled" data-dfn-type="dfn"
                data-export data-lt="default
reader" id="default-reader">默认读取器（default reader）</dfn>和<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                data-lt="BYOB reader" id="byob-reader">BYOB 读取器（BYOB reader）</dfn>。BYOB（"bring your
            own buffer"）读取器允许读取到开发者自定义的缓冲区，从而减少拷贝。非字节流的可读流只能提供默认读取器。默认读取器是 <code
                class="idl"><a data-link-type="idl" href="#readablestreamdefaultreader" id="ref-for-readablestreamdefaultreader">ReadableStreamDefaultReader</a></code>
            类的实例，BYOB 读取器是 <code
                class="idl"><a data-link-type="idl" href="#readablestreambyobreader" id="ref-for-readablestreambyobreader">ReadableStreamBYOBReader</a></code>
            类的实例。
        </p>
        <p>类似地，<dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="writer|writable stream writer"
                id="writer">可写流写入器（writer/writable stream writer）</dfn>，简称 writer，是一个允许直接向<a data-link-type="dfn"
                href="#writable-stream" id="ref-for-writable-stream②">可写流</a>写入<a data-link-type="dfn" href="#chunk"
                id="ref-for-chunk①①">数据块</a>的对象。如果没有写入器，<a data-link-type="dfn" href="#producer"
                id="ref-for-producer">生产者</a>只能执行高级操作，如<a data-link-type="dfn" href="#abort-a-writable-stream"
                id="ref-for-abort-a-writable-stream">中止</a>流或<a data-link-type="dfn" href="#piping"
                id="ref-for-piping①">管道</a>可读流到可写流。写入器由 <code
                class="idl"><a data-link-type="idl" href="#writablestreamdefaultwriter" id="ref-for-writablestreamdefaultwriter">WritableStreamDefaultWriter</a></code>
            类表示。</p>
        <p class="note" role="note">在底层，这些高级操作其实内部也会用到读取器或写入器。</p>
        <p>每个可读流或可写流在同一时刻最多只能有一个读取器或写入器。此时称该流被<dfn class="dfn-paneled" data-dfn-type="dfn"
                data-lt="lock|locked to a reader|locked to a writer" data-noexport
                id="lock">锁定（locked）</dfn>，且该读取器或写入器为<dfn class="dfn-paneled" data-dfn-type="dfn"
                data-lt="active|active reader|active writer" data-noexport id="active">活动（active）</dfn>。可通过 <code
                class="idl"><a data-link-type="idl" href="#rs-locked" id="ref-for-rs-locked">readableStream.locked</a></code>
            或 <code
                class="idl"><a data-link-type="idl" href="#ws-locked" id="ref-for-ws-locked">writableStream.locked</a></code>
            属性判断流是否锁定。</p>
        <p>读取器或写入器还可以<dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="release a lock|release a read lock|release a
write lock" data-noexport id="release-a-lock">释放其锁（release its lock）</dfn>，此时其不再为活动状态，允许获取新的读取器或写入器。可通过 <code
                class="idl"><a data-link-type="idl" href="#default-reader-release-lock" id="ref-for-default-reader-release-lock">defaultReader.releaseLock()</a></code>、
            <code
                class="idl"><a data-link-type="idl" href="#byob-reader-release-lock" id="ref-for-byob-reader-release-lock">byobReader.releaseLock()</a></code>、
            或 <code
                class="idl"><a data-link-type="idl" href="#default-writer-release-lock" id="ref-for-default-writer-release-lock">writer.releaseLock()</a></code>
            方法实现。
        </p>
        <h2 class="heading settled" data-level="3" id="conventions"><span class="secno">3. </span><span
                class="content">约定</span><a class="self-link" href="#conventions"></a></h2>
        <p>本规范依赖于 Infra 标准。<a data-link-type="biblio" href="#biblio-infra" title="Infra Standard">[INFRA]</a></p>
        <p>本规范在内部算法中使用了 JavaScript 规范中的<a data-link-type="dfn"
                href="https://tc39.es/ecma262/#sec-algorithm-conventions-abstract-operations"
                id="ref-for-sec-algorithm-conventions-abstract-operations">抽象操作（abstract operation）</a>概念。这包括将其返回值视为<a
                data-link-type="dfn"
                href="https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-completion-record-specification-type"
                id="ref-for-sec-completion-record-specification-type">完成记录（completion records）</a>，并使用 ! 和 ?
            前缀来解包这些完成记录。<a data-link-type="biblio" href="#biblio-ecmascript"
                title="ECMAScript Language Specification">[ECMASCRIPT]</a></p>
        <p>本规范还使用了 JavaScript 规范中的<a data-link-type="dfn"
                href="https://tc39.es/ecma262/#sec-object-internal-methods-and-internal-slots"
                id="ref-for-sec-object-internal-methods-and-internal-slots">内部插槽（internal slot）</a>概念和记法。（不过，这些内部插槽是用在
            Web IDL 的<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-platform-object"
                id="ref-for-dfn-platform-object">平台对象</a>上的，而不是 JavaScript 对象上。）</p>
        <p class="note" role="note">采用这些外来的 JavaScript 规范约定主要是历史原因。我们建议你在编写自己的 Web 规范时避免效仿我们的做法。</p>
        <p>在本规范中，所有数字都表示为双精度 64 位 IEEE 754 浮点值（如 JavaScript 的<a data-link-type="dfn"
                href="https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-ecmascript-language-types-number-type"
                id="ref-for-sec-ecmascript-language-types-number-type">Number 类型</a>或 Web IDL 的 <code
                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double" id="ref-for-idl-unrestricted-double">unrestricted double</a></code>
            类型），并且所有算术操作都必须按此标准方式执行。这对于<a href="#queue-with-sizes">§ 8.1 队列含大小</a>中描述的数据结构尤为重要。<a
                data-link-type="biblio" href="#biblio-ieee-754"
                title="IEEE Standard for Floating-Point Arithmetic">[IEEE-754]</a></p>
        <h2 class="heading settled" data-level="4" id="rs"><span class="secno">4. </span><span
                class="content">可读流</span><a class="self-link" href="#rs"></a></h2>
        <h3 class="heading settled" data-level="4.1" id="rs-intro"><span class="secno">4.1. </span><span
                class="content">使用可读流</span><a class="self-link" href="#rs-intro"></a></h3>
        <div class="example" id="example-basic-pipe-to">
            <a class="self-link" href="#example-basic-pipe-to"></a> 消费可读流的最简单方式就是将其<a data-link-type="dfn"
                href="#piping" id="ref-for-piping②">管道</a>到一个<a data-link-type="dfn" href="#writable-stream"
                id="ref-for-writable-stream③">可写流</a>。这样可以保证<a data-link-type="dfn" href="#backpressure"
                id="ref-for-backpressure③">背压</a>被正确处理，且写入或读取的任何错误都会沿链路传播：
            <pre class="highlight">readableStream<c- p>.</c->pipeTo<c- p>(</c->writableStream<c- p>)</c->
  <c- p>.</c->then<c- p>(()</c-> <c- p>=></c-> console<c- p>.</c->log<c- p>(</c-><c- u>"所有数据已成功写入！"</c-><c- p>))</c->
  <c- p>.</c-><c- k>catch</c-><c- p>(</c->e <c- p>=></c-> console<c- p>.</c->error<c- p>(</c-><c- u>"发生错误！"</c-><c- p>,</c-> e<c- p>));</c->
</pre>
        </div>
        <div class="example" id="example-pipe-as-chunks-receiver">
            <a class="self-link" href="#example-pipe-as-chunks-receiver"></a> 如果你只是想获知每个新数据块，可以创建一个自定义的<a
                data-link-type="dfn" href="#writable-stream" id="ref-for-writable-stream④">可写流</a>并将可读流<a
                data-link-type="dfn" href="#piping" id="ref-for-piping③">管道</a>进去：
            <pre class="highlight">readableStream<c- p>.</c->pipeTo<c- p>(</c-><c- ow>new</c-> WritableStream<c- p>({</c->
  write<c- p>(</c->chunk<c- p>)</c-> <c- p>{</c->
    console<c- p>.</c->log<c- p>(</c-><c- u>"收到数据块"</c-><c- p>,</c-> chunk<c- p>);</c->
  <c- p>},</c->
  close<c- p>()</c-> <c- p>{</c->
    console<c- p>.</c->log<c- p>(</c-><c- u>"所有数据已成功读取！"</c-><c- p>);</c->
  <c- p>},</c->
  abort<c- p>(</c->e<c- p>)</c-> <c- p>{</c->
    console<c- p>.</c->error<c- p>(</c-><c- u>"发生错误！"</c-><c- p>,</c-> e<c- p>);</c->
  <c- p>}</c->
<c- p>}));</c->
</pre>
            <p>通过让 <code
                    class="idl"><a data-link-type="idl" href="#dom-underlyingsink-write" id="ref-for-dom-underlyingsink-write">write()</a></code>
                返回 Promise，你可以向可读流发出<a data-link-type="dfn" href="#backpressure" id="ref-for-backpressure④">背压</a>信号。
            </p>
        </div>
        <div class="example" id="example-manual-read">
            <a class="self-link" href="#example-manual-read"></a> 虽然可读流通常通过管道到可写流使用，但你也可以获取<a data-link-type="dfn"
                href="#reader" id="ref-for-reader②">读取器</a>并用其 <code>read()</code> 方法直接读取每一个数据块。例如，下面的代码会打印流中的下一个<a
                data-link-type="dfn" href="#chunk" id="ref-for-chunk①②">数据块</a>（如有）：
            <pre class="highlight"><c- a>const</c-> reader <c- o>=</c-> readableStream<c- p>.</c->getReader<c- p>();</c->

reader<c- p>.</c->read<c- p>().</c->then<c- p>(</c->
  <c- p>({</c-> value<c- p>,</c-> done <c- p>})</c-> <c- p>=></c-> <c- p>{</c->
    <c- k>if</c-> <c- p>(</c->done<c- p>)</c-> <c- p>{</c->
      console<c- p>.</c->log<c- p>(</c-><c- u>"流已关闭！"</c-><c- p>);</c->
    <c- p>}</c-> <c- k>else</c-> <c- p>{</c->
      console<c- p>.</c->log<c- p>(</c->value<c- p>);</c->
    <c- p>}</c->
  <c- p>},</c->
  e <c- p>=></c-> console<c- p>.</c->error<c- p>(</c-><c- u>"流发生错误，无法读取！"</c-><c- p>,</c-> e<c- p>)</c->
<c- p>);</c->
</pre>
            <p>这种更为手动的读取方式主要适用于为流开发新型高级操作的库作者，超越了已有的<a data-link-type="dfn" href="#piping"
                    id="ref-for-piping④">管道</a>和<a data-link-type="dfn" href="#tee-a-readable-stream"
                    id="ref-for-tee-a-readable-stream①">分叉</a>操作。</p>
        </div>
        <div class="example" id="example-manual-read-bytes">
            <a class="self-link" href="#example-manual-read-bytes"></a> 上述示例用的是可读流的<a data-link-type="dfn"
                href="#default-reader" id="ref-for-default-reader">默认读取器</a>。如果该流是<a data-link-type="dfn"
                href="#readable-byte-stream" id="ref-for-readable-byte-stream①">可读字节流</a>，你还可以获取<a data-link-type="dfn"
                href="#byob-reader" id="ref-for-byob-reader①">BYOB 读取器</a>，以便对缓冲区分配有更高的控制权，避免拷贝。例如，下面代码会将流中的前 1024
            字节读取到一块内存缓冲区中：
            <pre class="highlight"><c- a>const</c-> reader <c- o>=</c-> readableStream<c- p>.</c->getReader<c- p>({</c-> mode<c- o>:</c-> <c- u>"byob"</c-> <c- p>});</c->

<c- a>let</c-> startingAB <c- o>=</c-> <c- ow>new</c-> ArrayBuffer<c- p>(</c-><c- mf>1024</c-><c- p>);</c->
<c- a>const</c-> buffer <c- o>=</c-> <c- k>await</c-> readInto<c- p>(</c->startingAB<c- p>);</c->
console<c- p>.</c->log<c- p>(</c-><c- u>"前 1024 字节: "</c-><c- p>,</c-> buffer<c- p>);</c->

<c- k>async</c-> <c- a>function</c-> readInto<c- p>(</c->buffer<c- p>)</c-> <c- p>{</c->
  <c- a>let</c-> offset <c- o>=</c-> <c- mf>0</c-><c- p>;</c->

  <c- k>while</c-> <c- p>(</c->offset <c- o>&lt;</c-> buffer<c- p>.</c->byteLength<c- p>)</c-> <c- p>{</c->
    <c- a>const</c-> <c- p>{</c-> value<c- o>:</c-> view<c- p>,</c-> done <c- p>}</c-> <c- o>=</c->
     <c- k>await</c-> reader<c- p>.</c->read<c- p>(</c-><c- ow>new</c-> Uint8Array<c- p>(</c->buffer<c- p>,</c-> offset<c- p>,</c-> buffer<c- p>.</c->byteLength <c- o>-</c-> offset<c- p>));</c->
    buffer <c- o>=</c-> view<c- p>.</c->buffer<c- p>;</c->
    <c- k>if</c-> <c- p>(</c->done<c- p>)</c-> <c- p>{</c->
      <c- k>break</c-><c- p>;</c->
    <c- p>}</c->
    offset <c- o>+=</c-> view<c- p>.</c->byteLength<c- p>;</c->
  <c- p>}</c->

  <c- k>return</c-> buffer<c- p>;</c->
<c- p>}</c->
</pre>
            <p>需要注意的是，最终的 <code>buffer</code> 变量与 <code>startingAB</code> 不同，但它（以及所有中间缓冲区）实际上共享同一块底层内存。在每一步，buffer 都会<a
                    href="#transfer-array-buffer" id="ref-for-transfer-array-buffer">转移</a>给一个新的 <code
                    class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-arraybuffer-objects" id="ref-for-sec-arraybuffer-objects">ArrayBuffer</a></code>
                对象。<code>view</code> 是读取结果中解构出来的 <code
                    class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-typedarray-objects" id="ref-for-sec-typedarray-objects①">Uint8Array</a></code>，其
                <code>buffer</code> 属性指向 <code
                    class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-arraybuffer-objects" id="ref-for-sec-arraybuffer-objects①">ArrayBuffer</a></code>
                对象，<code>byteOffset</code> 表示字节写入的起始偏移，<code>byteLength</code> 表示写入的字节数。
            </p>
            <p>需要说明的是，这个示例主要用于教学。实际应用中，<code
                    class="idl"><a data-link-type="idl" href="#dom-readablestreambyobreaderreadoptions-min" id="ref-for-dom-readablestreambyobreaderreadoptions-min">min</a></code>
                选项可以更简单直接地读取指定字节数：
            </p>
            <pre class="highlight"><c- a>const</c-> reader <c- o>=</c-> readableStream<c- p>.</c->getReader<c- p>({</c-> mode<c- o>:</c-> <c- u>"byob"</c-> <c- p>});</c->
<c- a>const</c-> <c- p>{</c-> value<c- o>:</c-> view<c- p>,</c-> done <c- p>}</c-> <c- o>=</c-> <c- k>await</c-> reader<c- p>.</c->read<c- p>(</c-><c- ow>new</c-> Uint8Array<c- p>(</c-><c- mf>1024</c-><c- p>),</c-> <c- p>{</c-> min<c- o>:</c-> <c- mf>1024</c-> <c- p>});</c->
console<c- p>.</c->log<c- p>(</c-><c- u>"前 1024 字节: "</c-><c- p>,</c-> view<c- p>);</c->
</pre>
        </div>
        <h3 class="heading settled" data-level="4.2" id="rs-class"><span class="secno">4.2. </span><span
                class="content"><code
                    class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream②">ReadableStream</a></code>
                类</span><a class="self-link" href="#rs-class"></a></h3>
        <p><code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream③">ReadableStream</a></code>
            类是通用<a data-link-type="dfn" href="#readable-stream" id="ref-for-readable-stream④">可读流</a>概念的具体实现。它适用于任何<a
                data-link-type="dfn" href="#chunk" id="ref-for-chunk①③">数据块</a>类型，并维护一个内部队列，用于跟踪由<a data-link-type="dfn"
                href="#underlying-source" id="ref-for-underlying-source⑥">底层源</a>提供但尚未被消费者读取的数据。</p>
        <h4 class="heading settled" data-level="4.2.1" id="rs-class-definition"><span class="secno">4.2.1. </span><span
                class="content">接口定义</span><a class="self-link" href="#rs-class-definition"></a></h4>
        <p><code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream④">ReadableStream</a></code>
            类的 Web IDL 定义如下：</p>
        <pre class="idl highlight def">[Exposed=*, <a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/structured-data.html#transferable" id="ref-for-transferable"><c- g>Transferable</c-></a>]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="readablestream"><code><c- g>ReadableStream</c-></code></dfn> {
  <a class="idl-code" data-link-type="constructor" href="#rs-constructor" id="ref-for-rs-constructor①"><c- g>constructor</c-></a>(<c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object" id="ref-for-idl-object"><c- b>object</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStream/ReadableStream(underlyingSource, strategy), ReadableStream/constructor(underlyingSource, strategy), ReadableStream/ReadableStream(underlyingSource), ReadableStream/constructor(underlyingSource), ReadableStream/ReadableStream(), ReadableStream/constructor()" data-dfn-type="argument" data-export id="dom-readablestream-readablestream-underlyingsource-strategy-underlyingsource"><code><c- g>underlyingSource</c-></code></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-queuingstrategy" id="ref-for-dictdef-queuingstrategy"><c- n>QueuingStrategy</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStream/ReadableStream(underlyingSource, strategy), ReadableStream/constructor(underlyingSource, strategy), ReadableStream/ReadableStream(underlyingSource), ReadableStream/constructor(underlyingSource), ReadableStream/ReadableStream(), ReadableStream/constructor()" data-dfn-type="argument" data-export id="dom-readablestream-readablestream-underlyingsource-strategy-strategy"><code><c- g>strategy</c-></code></dfn> = {});

  <c- b>static</c-> <a data-link-type="idl-name" href="#readablestream" id="ref-for-readablestream⑤"><c- n>ReadableStream</c-></a> <a class="idl-code" data-link-type="method" href="#rs-from" id="ref-for-rs-from"><c- g>from</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStream/from(asyncIterable)" data-dfn-type="argument" data-export id="dom-readablestream-from-asynciterable-asynciterable"><code><c- g>asyncIterable</c-></code></dfn>);

  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#rs-locked" id="ref-for-rs-locked①"><c- g>locked</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#rs-cancel" id="ref-for-rs-cancel①"><c- g>cancel</c-></a>(<c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any①"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStream/cancel(reason), ReadableStream/cancel()" data-dfn-type="argument" data-export id="dom-readablestream-cancel-reason-reason"><code><c- g>reason</c-></code></dfn>);
  <a data-link-type="idl-name" href="#typedefdef-readablestreamreader" id="ref-for-typedefdef-readablestreamreader"><c- n>ReadableStreamReader</c-></a> <a class="idl-code" data-link-type="method" href="#rs-get-reader" id="ref-for-rs-get-reader③"><c- g>getReader</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-readablestreamgetreaderoptions" id="ref-for-dictdef-readablestreamgetreaderoptions"><c- n>ReadableStreamGetReaderOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStream/getReader(options), ReadableStream/getReader()" data-dfn-type="argument" data-export id="dom-readablestream-getreader-options-options"><code><c- g>options</c-></code></dfn> = {});
  <a data-link-type="idl-name" href="#readablestream" id="ref-for-readablestream⑥"><c- n>ReadableStream</c-></a> <a class="idl-code" data-link-type="method" href="#rs-pipe-through" id="ref-for-rs-pipe-through①"><c- g>pipeThrough</c-></a>(<a data-link-type="idl-name" href="#dictdef-readablewritablepair" id="ref-for-dictdef-readablewritablepair"><c- n>ReadableWritablePair</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStream/pipeThrough(transform, options), ReadableStream/pipeThrough(transform)" data-dfn-type="argument" data-export id="dom-readablestream-pipethrough-transform-options-transform"><code><c- g>transform</c-></code></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-streampipeoptions" id="ref-for-dictdef-streampipeoptions"><c- n>StreamPipeOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStream/pipeThrough(transform, options), ReadableStream/pipeThrough(transform)" data-dfn-type="argument" data-export id="dom-readablestream-pipethrough-transform-options-options"><code><c- g>options</c-></code></dfn> = {});
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#rs-pipe-to" id="ref-for-rs-pipe-to②"><c- g>pipeTo</c-></a>(<a data-link-type="idl-name" href="#writablestream" id="ref-for-writablestream①"><c- n>WritableStream</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStream/pipeTo(destination, options), ReadableStream/pipeTo(destination)" data-dfn-type="argument" data-export id="dom-readablestream-pipeto-destination-options-destination"><code><c- g>destination</c-></code></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-streampipeoptions" id="ref-for-dictdef-streampipeoptions①"><c- n>StreamPipeOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStream/pipeTo(destination, options), ReadableStream/pipeTo(destination)" data-dfn-type="argument" data-export id="dom-readablestream-pipeto-destination-options-options"><code><c- g>options</c-></code></dfn> = {});
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#readablestream" id="ref-for-readablestream⑦"><c- n>ReadableStream</c-></a>> <a class="idl-code" data-link-type="method" href="#rs-tee" id="ref-for-rs-tee①"><c- g>tee</c-></a>();

  <c- b>async</c-> <c- b>iterable</c->&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any②"><c- b>any</c-></a>>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-readablestreamiteratoroptions" id="ref-for-dictdef-readablestreamiteratoroptions"><c- n>ReadableStreamIteratorOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStream" data-dfn-type="argument" data-export id="dom-readablestream-options"><code><c- g>options</c-></code></dfn> = {});
};

<c- b>typedef</c-> (<a data-link-type="idl-name" href="#readablestreamdefaultreader" id="ref-for-readablestreamdefaultreader①"><c- n>ReadableStreamDefaultReader</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#readablestreambyobreader" id="ref-for-readablestreambyobreader①"><c- n>ReadableStreamBYOBReader</c-></a>) <dfn class="dfn-paneled idl-code" data-dfn-type="typedef" data-export id="typedefdef-readablestreamreader"><code><c- g>ReadableStreamReader</c-></code></dfn>;

<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-readablestreamreadermode"><code><c- g>ReadableStreamReaderMode</c-></code></dfn> { <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStreamReaderMode" data-dfn-type="enum-value" data-export id="dom-readablestreamreadermode-byob"><code><c- s>"byob"</c-></code></dfn> };

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-readablestreamgetreaderoptions"><code><c- g>ReadableStreamGetReaderOptions</c-></code></dfn> {
  <a data-link-type="idl-name" href="#enumdef-readablestreamreadermode" id="ref-for-enumdef-readablestreamreadermode"><c- n>ReadableStreamReaderMode</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStreamGetReaderOptions" data-dfn-type="dict-member" data-export data-type="ReadableStreamReaderMode" id="dom-readablestreamgetreaderoptions-mode"><code><c- g>mode</c-></code></dfn>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-readablestreamiteratoroptions"><code><c- g>ReadableStreamIteratorOptions</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean①"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-default="false" data-dfn-for="ReadableStreamIteratorOptions" data-dfn-type="dict-member" data-export data-type="boolean" id="dom-readablestreamiteratoroptions-preventcancel"><code><c- g>preventCancel</c-></code></dfn> = <c- b>false</c->;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-readablewritablepair"><code><c- g>ReadableWritablePair</c-></code></dfn> {
  <c- b>required</c-> <a data-link-type="idl-name" href="#readablestream" id="ref-for-readablestream⑧"><c- n>ReadableStream</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableWritablePair" data-dfn-type="dict-member" data-export data-type="ReadableStream" id="dom-readablewritablepair-readable"><code><c- g>readable</c-></code></dfn>;
  <c- b>required</c-> <a data-link-type="idl-name" href="#writablestream" id="ref-for-writablestream②"><c- n>WritableStream</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableWritablePair" data-dfn-type="dict-member" data-export data-type="WritableStream" id="dom-readablewritablepair-writable"><code><c- g>writable</c-></code></dfn>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-streampipeoptions"><code><c- g>StreamPipeOptions</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean②"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-default="false" data-dfn-for="StreamPipeOptions" data-dfn-type="dict-member" data-export data-type="boolean" id="dom-streampipeoptions-preventclose"><code><c- g>preventClose</c-></code></dfn> = <c- b>false</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean③"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-default="false" data-dfn-for="StreamPipeOptions" data-dfn-type="dict-member" data-export data-type="boolean" id="dom-streampipeoptions-preventabort"><code><c- g>preventAbort</c-></code></dfn> = <c- b>false</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean④"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-default="false" data-dfn-for="StreamPipeOptions" data-dfn-type="dict-member" data-export data-type="boolean" id="dom-streampipeoptions-preventcancel"><code><c- g>preventCancel</c-></code></dfn> = <c- b>false</c->;
  <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#abortsignal" id="ref-for-abortsignal"><c- n>AbortSignal</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="StreamPipeOptions" data-dfn-type="dict-member" data-export data-type="AbortSignal" id="dom-streampipeoptions-signal"><code><c- g>signal</c-></code></dfn>;
};
</pre>
        <h4 class="heading settled" data-level="4.2.2" id="rs-internal-slots"><span class="secno">4.2.2. </span><span
                class="content">内部插槽</span><a class="self-link" href="#rs-internal-slots"></a></h4>
        <p><code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream⑨">ReadableStream</a></code>
            的实例具有下表所述的内部插槽：</p>
        <table>
            <thead>
                <tr>
                    <th>内部插槽
                    <th>描述（<em>非规范性</em>）
            <tbody>
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="ReadableStream" data-dfn-type="dfn" data-noexport
                            id="readablestream-controller">[[controller]]</dfn>
                    <td class="non-normative">一个 <code
                            class="idl"><a data-link-type="idl" href="#readablestreamdefaultcontroller" id="ref-for-readablestreamdefaultcontroller">ReadableStreamDefaultController</a></code>
                        或 <code
                            class="idl"><a data-link-type="idl" href="#readablebytestreamcontroller" id="ref-for-readablebytestreamcontroller">ReadableByteStreamController</a></code>
                        ，用于控制该流的状态和队列
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="ReadableStream" data-dfn-type="dfn" data-export
                            id="readablestream-detached">[[Detached]]</dfn>
                    <td class="non-normative">当流被转移（transferred）时为 true 的布尔值标志
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="ReadableStream" data-dfn-type="dfn" data-noexport
                            id="readablestream-disturbed">[[disturbed]]</dfn>
                    <td class="non-normative">当流已被读取或已被取消时为 true 的布尔值标志
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="ReadableStream" data-dfn-type="dfn" data-noexport
                            id="readablestream-reader">[[reader]]</dfn>
                    <td class="non-normative">如果流<a data-link-type="dfn" href="#lock" id="ref-for-lock②">被读取器锁定</a>，则为
                        <code
                            class="idl"><a data-link-type="idl" href="#readablestreamdefaultreader" id="ref-for-readablestreamdefaultreader②">ReadableStreamDefaultReader</a></code>
                        或 <code
                            class="idl"><a data-link-type="idl" href="#readablestreambyobreader" id="ref-for-readablestreambyobreader②">ReadableStreamBYOBReader</a></code>
                        实例，否则为 undefined
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="ReadableStream" data-dfn-type="dfn" data-noexport
                            id="readablestream-state">[[state]]</dfn>
                    <td class="non-normative">包含流当前状态的字符串，仅供内部使用；取值为 "<code>readable</code>"、"<code>closed</code>" 或
                        "<code>errored</code>"
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="ReadableStream" data-dfn-type="dfn" data-noexport
                            id="readablestream-storederror">[[storedError]]</dfn>
                    <td class="non-normative">指示流如何失败的值，用作操作出错流时的失败原因或异常
        </table>
        <h4 class="heading settled" data-level="4.2.3" id="underlying-source-api"><span class="secno">4.2.3.
            </span><span class="content">底层源 API</span><a class="self-link" href="#underlying-source-api"></a></h4>
        <p><code
                class="idl"><a data-link-type="idl" href="#rs-constructor" id="ref-for-rs-constructor②">ReadableStream()</a></code>
            构造函数的第一个参数是一个 JavaScript 对象，表示<a data-link-type="dfn" href="#underlying-source"
                id="ref-for-underlying-source⑦">底层源（underlying source）</a>。
            这样的对象可以包含以下任意属性：</p>
        <pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-underlyingsource"><code><c- g>UnderlyingSource</c-></code></dfn> {
  <a data-link-type="idl-name" href="#callbackdef-underlyingsourcestartcallback" id="ref-for-callbackdef-underlyingsourcestartcallback"><c- n>UnderlyingSourceStartCallback</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="UnderlyingSourceStartCallback" href="#dom-underlyingsource-start" id="ref-for-dom-underlyingsource-start"><c- g>start</c-></a>;
  <a data-link-type="idl-name" href="#callbackdef-underlyingsourcepullcallback" id="ref-for-callbackdef-underlyingsourcepullcallback"><c- n>UnderlyingSourcePullCallback</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="UnderlyingSourcePullCallback" href="#dom-underlyingsource-pull" id="ref-for-dom-underlyingsource-pull"><c- g>pull</c-></a>;
  <a data-link-type="idl-name" href="#callbackdef-underlyingsourcecancelcallback" id="ref-for-callbackdef-underlyingsourcecancelcallback"><c- n>UnderlyingSourceCancelCallback</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="UnderlyingSourceCancelCallback" href="#dom-underlyingsource-cancel" id="ref-for-dom-underlyingsource-cancel"><c- g>cancel</c-></a>;
  <a data-link-type="idl-name" href="#enumdef-readablestreamtype" id="ref-for-enumdef-readablestreamtype"><c- n>ReadableStreamType</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="ReadableStreamType" href="#dom-underlyingsource-type" id="ref-for-dom-underlyingsource-type"><c- g>type</c-></a>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#EnforceRange" id="ref-for-EnforceRange"><c- g>EnforceRange</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="unsigned long long" href="#dom-underlyingsource-autoallocatechunksize" id="ref-for-dom-underlyingsource-autoallocatechunksize"><c- g>autoAllocateChunkSize</c-></a>;
};

<c- b>typedef</c-> (<a data-link-type="idl-name" href="#readablestreamdefaultcontroller" id="ref-for-readablestreamdefaultcontroller①"><c- n>ReadableStreamDefaultController</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#readablebytestreamcontroller" id="ref-for-readablebytestreamcontroller①"><c- n>ReadableByteStreamController</c-></a>) <dfn class="dfn-paneled idl-code" data-dfn-type="typedef" data-export id="typedefdef-readablestreamcontroller"><code><c- g>ReadableStreamController</c-></code></dfn>;

<c- b>callback</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="callback" data-export id="callbackdef-underlyingsourcestartcallback"><code><c- g>UnderlyingSourceStartCallback</c-></code></dfn> = <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any③"><c- b>any</c-></a> (<a data-link-type="idl-name" href="#typedefdef-readablestreamcontroller" id="ref-for-typedefdef-readablestreamcontroller"><c- n>ReadableStreamController</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="UnderlyingSourceStartCallback" data-dfn-type="argument" data-export id="dom-underlyingsourcestartcallback-controller"><code><c- g>controller</c-></code></dfn>);
<c- b>callback</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="callback" data-export id="callbackdef-underlyingsourcepullcallback"><code><c- g>UnderlyingSourcePullCallback</c-></code></dfn> = <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined②"><c- b>undefined</c-></a>> (<a data-link-type="idl-name" href="#typedefdef-readablestreamcontroller" id="ref-for-typedefdef-readablestreamcontroller①"><c- n>ReadableStreamController</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="UnderlyingSourcePullCallback" data-dfn-type="argument" data-export id="dom-underlyingsourcepullcallback-controller"><code><c- g>controller</c-></code></dfn>);
<c- b>callback</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="callback" data-export id="callbackdef-underlyingsourcecancelcallback"><code><c- g>UnderlyingSourceCancelCallback</c-></code></dfn> = <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise③"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined③"><c- b>undefined</c-></a>> (<c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any④"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="UnderlyingSourceCancelCallback" data-dfn-type="argument" data-export id="dom-underlyingsourcecancelcallback-reason"><code><c- g>reason</c-></code></dfn>);

<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-readablestreamtype"><code><c- g>ReadableStreamType</c-></code></dfn> { <a class="idl-code" data-link-type="enum-value" href="#dom-readablestreamtype-bytes" id="ref-for-dom-readablestreamtype-bytes"><c- s>"bytes"</c-></a> };
</pre>
        <dl>
            <dt><dfn class="dfn-paneled idl-code" data-dfn-for="UnderlyingSource" data-dfn-type="dict-member"
                    data-export data-lt="start"
                    id="dom-underlyingsource-start"><code>start(<var>controller</var>)</code></dfn>, <span> 类型为 <a
                        data-link-type="idl-name" href="#callbackdef-underlyingsourcestartcallback"
                        id="ref-for-callbackdef-underlyingsourcestartcallback①">UnderlyingSourceStartCallback</a></span>
            <dd>
                <p>在创建 <code
                        class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream①⓪">ReadableStream</a></code>
                    实例时立即调用的函数。</p>
                <p>通常用于适配<a data-link-type="dfn" href="#push-source" id="ref-for-push-source">推送源</a>，比如设置相关事件监听（见<a
                        href="#example-rs-push-no-backpressure">§ 10.1 一个没有背压支持的底层推送源的可读流示例</a>），或者用于获取<a
                        data-link-type="dfn" href="#pull-source" id="ref-for-pull-source">拉取源</a>的访问权（见<a
                        href="#example-rs-pull">§ 10.4 一个底层拉取源的可读流示例</a>）。</p>
                <p>如果初始化过程是异步的，可以返回一个 promise 以通知成功或失败；被拒绝的 promise 会使流变为错误状态。抛出的异常将由 <code
                        class="idl"><a data-link-type="idl" href="#rs-constructor" id="ref-for-rs-constructor③">ReadableStream()</a></code>
                    构造函数重新抛出。</p>
            <dt><dfn class="dfn-paneled idl-code" data-dfn-for="UnderlyingSource" data-dfn-type="dict-member"
                    data-export data-lt="pull"
                    id="dom-underlyingsource-pull"><code>pull(<var>controller</var>)</code></dfn>, <span> 类型为 <a
                        data-link-type="idl-name" href="#callbackdef-underlyingsourcepullcallback"
                        id="ref-for-callbackdef-underlyingsourcepullcallback①">UnderlyingSourcePullCallback</a></span>
            <dd>
                <p>当流的<a data-link-type="dfn" href="#internal-queues"
                        id="ref-for-internal-queues②">内部队列</a>中数据块未满时调用（即队列的<a data-link-type="dfn"
                        href="#desired-size-to-fill-a-streams-internal-queue"
                        id="ref-for-desired-size-to-fill-a-streams-internal-queue">期望大小</a>为正时）。通常会反复调用，直到队列达到<a
                        data-link-type="dfn" href="#high-water-mark" id="ref-for-high-water-mark">高水位线</a>（即期望大小≤0）。</p>
                <p>对于<a data-link-type="dfn" href="#push-source" id="ref-for-push-source①">推送源</a>，可用于恢复暂停的数据流（见<a
                        href="#example-rs-push-backpressure">§ 10.2 支持背压的底层推送源可读流</a>）；对于<a data-link-type="dfn"
                        href="#pull-source" id="ref-for-pull-source①">拉取源</a>，用于获取新的<a data-link-type="dfn"
                        href="#chunk" id="ref-for-chunk①④">数据块</a>并入队（见<a href="#example-rs-pull">§ 10.4
                        一个底层拉取源的可读流示例</a>）。</p>
                <p>只有在 <code
                        class="idl"><a data-link-type="idl" href="#dom-underlyingsource-start" id="ref-for-dom-underlyingsource-start①">start()</a></code>
                    成功完成后才会被调用。并且只有在 pull() 实现中入队了至少一个数据块或满足了 BYOB 请求时才会持续被调用；无操作的 <code
                        class="idl"><a data-link-type="idl" href="#dom-underlyingsource-pull" id="ref-for-dom-underlyingsource-pull①">pull()</a></code>
                    不会持续被调用。</p>
                <p>如果该函数返回一个 promise，则只有该 promise 履约后才会再次调用 pull()。（若 promise 被拒绝，流会进入错误状态。）这主要用于拉取源，返回的 promise
                    表示获取新数据块的过程。抛出异常等同于返回被拒绝的 promise。</p>
            <dt><dfn class="dfn-paneled idl-code" data-dfn-for="UnderlyingSource" data-dfn-type="dict-member"
                    data-export data-lt="cancel"
                    id="dom-underlyingsource-cancel"><code>cancel(<var>reason</var>)</code></dfn>, <span> 类型为 <a
                        data-link-type="idl-name" href="#callbackdef-underlyingsourcecancelcallback"
                        id="ref-for-callbackdef-underlyingsourcecancelcallback①">UnderlyingSourceCancelCallback</a></span>
            <dd>
                <p>当<a data-link-type="dfn" href="#consumer" id="ref-for-consumer①">消费者</a>通过 <code
                        class="idl"><a data-link-type="idl" href="#rs-cancel" id="ref-for-rs-cancel②">stream.cancel()</a></code>
                    或 <code
                        class="idl"><a data-link-type="idl" href="#generic-reader-cancel" id="ref-for-generic-reader-cancel">reader.cancel()</a></code>
                    取消流时调用。其参数与消费者传递给这些方法的值相同。</p>
                <p>可读流在管道操作中也可能被取消（见 <code
                        class="idl"><a data-link-type="idl" href="#rs-pipe-to" id="ref-for-rs-pipe-to③">pipeTo()</a></code>
                    方法的定义）。</p>
                <p>通常用于释放底层资源的访问权（见<a href="#example-rs-push-no-backpressure">§ 10.1 一个没有背压支持的底层推送源的可读流示例</a>）。</p>
                <p>如果取消过程是异步的，可以返回 promise 通知成功或失败；结果会通过调用 <code>cancel()</code> 方法的返回值反馈。抛出异常等同于返回被拒绝的 promise。</p>
                <div class="note" role="note">
                    <p>即使取消过程失败，流也会关闭，不会进入错误状态。因为一旦消费者通过 cancel 表达了不再关心该流，取消过程的失败对消费者视角已无影响，失败结果只通知给相应方法的直接调用者。</p>
                    <p>这不同于 <code
                            class="idl"><a data-link-type="idl" href="#dom-underlyingsink-close" id="ref-for-dom-underlyingsink-close">close</a></code>
                        和 <code
                            class="idl"><a data-link-type="idl" href="#dom-underlyingsink-abort" id="ref-for-dom-underlyingsink-abort">abort</a></code>
                        这类 <code
                            class="idl"><a data-link-type="idl" href="#writablestream" id="ref-for-writablestream③">WritableStream</a></code>
                        的<a data-link-type="dfn" href="#underlying-sink"
                            id="ref-for-underlying-sink④">底层接收器</a>选项，后者失败时会令对应 <code
                            class="idl"><a data-link-type="idl" href="#writablestream" id="ref-for-writablestream④">WritableStream</a></code>
                        进入错误状态。因为这些操作对应生产者请求的特定动作，失败时意味着有更严重的问题。</p>
                </div>
            <dt><dfn class="dfn-paneled idl-code" data-dfn-for="UnderlyingSource" data-dfn-type="dict-member"
                    data-export id="dom-underlyingsource-type"><code>type</code></dfn>（仅字节流），<span> 类型为 <a
                        data-link-type="idl-name" href="#enumdef-readablestreamtype"
                        id="ref-for-enumdef-readablestreamtype①">ReadableStreamType</a></span>
            <dd>
                <p>可设置为 "<dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStreamType" data-dfn-type="enum-value"
                        data-export data-lt="&quot;bytes&quot;|bytes"
                        id="dom-readablestreamtype-bytes"><code>bytes</code></dfn>"，表示构造得到的 <code
                        class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream①①">ReadableStream</a></code>
                    是<a data-link-type="dfn" href="#readable-byte-stream"
                        id="ref-for-readable-byte-stream②">可读字节流</a>。这保证流可通过 <code
                        class="idl"><a data-link-type="idl" href="#rs-get-reader" id="ref-for-rs-get-reader④">getReader()</a></code>
                    方法成功获取 <a data-link-type="dfn" href="#byob-reader" id="ref-for-byob-reader②">BYOB 读取器</a>。同时会影响传递给
                    <code
                        class="idl"><a data-link-type="idl" href="#dom-underlyingsource-start" id="ref-for-dom-underlyingsource-start②">start()</a></code>
                    和 <code
                        class="idl"><a data-link-type="idl" href="#dom-underlyingsource-pull" id="ref-for-dom-underlyingsource-pull②">pull()</a></code>
                    方法的 <var>controller</var> 参数类型（见下文）。
                </p>
                <p>如何设置一个可读字节流，包括使用不同的控制器接口，可参考 <a href="#example-rbs-push">§ 10.3 一个没有背压支持的字节推送源可读字节流</a>。</p>
                <p>设置为 "<code
                        class="idl"><a data-link-type="idl" href="#dom-readablestreamtype-bytes" id="ref-for-dom-readablestreamtype-bytes①">bytes</a></code>"
                    或 undefined 之外的任何值都会导致 <code
                        class="idl"><a data-link-type="idl" href="#rs-constructor" id="ref-for-rs-constructor④">ReadableStream()</a></code>
                    构造函数抛出异常。</p>
            <dt><dfn class="dfn-paneled idl-code" data-dfn-for="UnderlyingSource" data-dfn-type="dict-member"
                    data-export id="dom-underlyingsource-autoallocatechunksize"><code>autoAllocateChunkSize</code></dfn>
                （仅字节流），<span> 类型为 <a data-link-type="idl-name"
                        href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"
                        id="ref-for-idl-unsigned-long-long①">unsigned long long</a></span>
            <dd>
                <p>可设为一个正整数，使实现自动为底层源分配缓冲区。当消费者使用 <a data-link-type="dfn" href="#default-reader"
                        id="ref-for-default-reader①">默认读取器</a> 时，流实现会自动分配指定大小的 <code
                        class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-arraybuffer-objects" id="ref-for-sec-arraybuffer-objects②">ArrayBuffer</a></code>
                    ，这样 <code
                        class="idl"><a data-link-type="idl" href="#rbs-controller-byob-request" id="ref-for-rbs-controller-byob-request">controller.byobRequest</a></code>
                    始终存在，仿佛消费者使用的是 <a data-link-type="dfn" href="#byob-reader" id="ref-for-byob-reader③">BYOB 读取器</a>。
                </p>
                <p>这样可以减少处理默认读取器消费者时所需代码量（可比较 <a href="#example-rbs-push">§ 10.3 一个没有背压支持的字节推送源可读字节流</a> 与 <a
                        href="#example-rbs-pull">§ 10.5 一个带自动分配的字节拉取源可读字节流</a>）。</p>
        </dl>
        <p>传递给 <code
                class="idl"><a data-link-type="idl" href="#dom-underlyingsource-start" id="ref-for-dom-underlyingsource-start③">start()</a></code>
            和 <code
                class="idl"><a data-link-type="idl" href="#dom-underlyingsource-pull" id="ref-for-dom-underlyingsource-pull③">pull()</a></code>
            方法的 <var>controller</var> 参数类型取决于 <code
                class="idl"><a data-link-type="idl" href="#dom-underlyingsource-type" id="ref-for-dom-underlyingsource-type①">type</a></code>
            选项的值。如果 <code
                class="idl"><a data-link-type="idl" href="#dom-underlyingsource-type" id="ref-for-dom-underlyingsource-type②">type</a></code>
            为 undefined（包括未设置），则 <var>controller</var> 为 <code
                class="idl"><a data-link-type="idl" href="#readablestreamdefaultcontroller" id="ref-for-readablestreamdefaultcontroller②">ReadableStreamDefaultController</a></code>。
            如果为
            "<code
                class="idl"><a data-link-type="idl" href="#dom-readablestreamtype-bytes" id="ref-for-dom-readablestreamtype-bytes②">bytes</a></code>"，
            则 <var>controller</var> 为 <code
                class="idl"><a data-link-type="idl" href="#readablebytestreamcontroller" id="ref-for-readablebytestreamcontroller②">ReadableByteStreamController</a></code>。
        </p>
        <h4 class="heading settled" data-level="4.2.4" id="rs-prototype"><span class="secno">4.2.4. </span><span
                class="content">构造函数、方法和属性</span><a class="self-link" href="#rs-prototype"></a></h4>
        <dl class="domintro non-normative">
            <dt><code><var>stream</var> = new <code class="idl"><a data-link-type="idl" href="#rs-constructor" id="ref-for-rs-constructor⑤">ReadableStream</a></code>(<var>underlyingSource</var>[,
                <var>strategy</var>])</code>
            <dd>
                <p>创建一个新的 <code
                        class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream①③">ReadableStream</a></code>，包装所提供的<a
                        data-link-type="dfn" href="#underlying-source" id="ref-for-underlying-source⑧">底层源</a>。更多关于
                    <var>underlyingSource</var> 参数的信息见 <a href="#underlying-source-api">§ 4.2.3 底层源 API</a>。
                </p>
                <p><var>strategy</var> 参数表示流的<a data-link-type="dfn" href="#queuing-strategy"
                        id="ref-for-queuing-strategy">排队策略</a>，详见 <a href="#qs-api">§ 7.1 排队策略 API</a>。如果未提供该参数，则默认行为等同于
                    <code
                        class="idl"><a data-link-type="idl" href="#countqueuingstrategy" id="ref-for-countqueuingstrategy①">CountQueuingStrategy</a></code>，其<a
                        data-link-type="dfn" href="#high-water-mark" id="ref-for-high-water-mark①">高水位线</a>为 1。
                </p>
            <dt><code><var>stream</var> = <code class="idl"><a data-link-type="idl" href="#rs-from" id="ref-for-rs-from①">ReadableStream.from</a></code>(<var>asyncIterable</var>)</code>
            <dd>
                <p>创建一个新的 <code
                        class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream①④">ReadableStream</a></code>，包装所提供的<a
                        data-link-type="dfn" href="https://tc39.es/ecma262/#sec-iterable-interface"
                        id="ref-for-sec-iterable-interface">可迭代对象</a>或<a data-link-type="dfn"
                        href="https://tc39.es/ecma262/#sec-asynciterable-interface"
                        id="ref-for-sec-asynciterable-interface">异步可迭代对象</a>。</p>
                <p>这可以用于将各种对象适配为<a data-link-type="dfn" href="#readable-stream"
                        id="ref-for-readable-stream⑤">可读流</a>，如<a data-link-type="dfn"
                        href="https://tc39.es/ecma262/#sec-array-objects" id="ref-for-sec-array-objects">数组</a>、<a
                        data-link-type="dfn" href="https://tc39.es/ecma262/#sec-asyncgenerator-objects"
                        id="ref-for-sec-asyncgenerator-objects">异步生成器</a>，或 <a
                        href="https://nodejs.org/api/stream.html#class-streamreadable">Node.js readable stream</a> 等。
                </p>
            <dt><code><var>isLocked</var> = <var>stream</var>.<code class="idl"><a data-link-type="idl" href="#rs-locked" id="ref-for-rs-locked②">locked</a></code></code>
            <dd>
                <p>返回该可读流是否<a data-link-type="dfn" href="#lock" id="ref-for-lock③">被某个读取器锁定</a>。</p>
            <dt><code>await <var>stream</var>.<code class="idl"><a data-link-type="idl" href="#rs-cancel" id="ref-for-rs-cancel③">cancel</a></code>([
                <var>reason</var> ])</code>
            <dd>
                <p><a data-link-type="dfn" href="#cancel-a-readable-stream"
                        id="ref-for-cancel-a-readable-stream②">取消</a>流，表示消费者不再关心该流。提供的 <var>reason</var> 参数会传递给底层源的
                    <code
                        class="idl"><a data-link-type="idl" href="#dom-underlyingsource-cancel" id="ref-for-dom-underlyingsource-cancel①">cancel()</a></code>
                    方法，具体是否使用由底层源决定。
                </p>
                <p>返回的 promise 在流被成功关闭时履约，在底层源关闭失败时拒绝。如果流当前<a data-link-type="dfn" href="#lock"
                        id="ref-for-lock④">被锁定</a>，则会直接拒绝并抛出 <code
                        class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror">TypeError</a></code>，不会尝试取消流。
                </p>
            <dt><code><var>reader</var> = <var>stream</var>.<code class="idl"><a data-link-type="idl" href="#rs-get-reader" id="ref-for-rs-get-reader⑤">getReader</a></code>()</code>
            <dd>
                <p>创建一个 <code
                        class="idl"><a data-link-type="idl" href="#readablestreamdefaultreader" id="ref-for-readablestreamdefaultreader③">ReadableStreamDefaultReader</a></code>
                    并<a data-link-type="dfn" href="#lock" id="ref-for-lock⑤">锁定</a>该流。流被锁定期间，不能获取其他读取器，直到释放该读取器（<a
                        data-link-type="dfn" href="#release-a-lock" id="ref-for-release-a-lock">release</a>）。</p>
                <p>该功能尤其适合希望独占消费整个流的抽象对象。通过为流获取读取器，可以确保不会有其他人与你并发读取或取消流，从而影响你的抽象。</p>
            <dt><code><var>reader</var> = <var>stream</var>.<code class="idl"><a data-link-type="idl" href="#rs-get-reader" id="ref-for-rs-get-reader⑥">getReader</a></code>({
                <code
                    class="idl"><a data-link-type="idl" href="#dom-readablestreamgetreaderoptions-mode" id="ref-for-dom-readablestreamgetreaderoptions-mode">mode</a></code>:
                "<code
                    class="idl"><a data-link-type="idl" href="#dom-readablestreamreadermode-byob" id="ref-for-dom-readablestreamreadermode-byob">byob</a></code>"
                })</code>
            <dd>
                <p>创建一个 <code
                        class="idl"><a data-link-type="idl" href="#readablestreambyobreader" id="ref-for-readablestreambyobreader③">ReadableStreamBYOBReader</a></code>
                    并<a data-link-type="dfn" href="#lock" id="ref-for-lock⑥">锁定</a>该流。</p>
                <p>该调用与无参数版本行为相同，但只适用于<a data-link-type="dfn" href="#readable-byte-stream"
                        id="ref-for-readable-byte-stream③">可读字节流</a>，即专门支持“自带缓冲区”读取的流。返回的<a data-link-type="dfn"
                        href="#byob-reader" id="ref-for-byob-reader④">BYOB 读取器</a>允许直接通过 <code
                        class="idl"><a data-link-type="idl" href="#byob-reader-read" id="ref-for-byob-reader-read①">read()</a></code>
                    方法将数据读入开发者自定义的缓冲区，实现对分配的精细控制。</p>
            <dt><code><var>readable</var> = <var>stream</var>.<code class="idl"><a data-link-type="idl" href="#rs-pipe-through" id="ref-for-rs-pipe-through②">pipeThrough</a></code>({
                <code
                    class="idl"><a data-link-type="idl" href="#dom-readablewritablepair-writable" id="ref-for-dom-readablewritablepair-writable">writable</a></code>,
                <code
                    class="idl"><a data-link-type="idl" href="#dom-readablewritablepair-readable" id="ref-for-dom-readablewritablepair-readable">readable</a></code>
                }[, { <code
                    class="idl"><a data-link-type="idl" href="#dom-streampipeoptions-preventclose" id="ref-for-dom-streampipeoptions-preventclose">preventClose</a></code>,
                <code
                    class="idl"><a data-link-type="idl" href="#dom-streampipeoptions-preventabort" id="ref-for-dom-streampipeoptions-preventabort">preventAbort</a></code>,
                <code
                    class="idl"><a data-link-type="idl" href="#dom-streampipeoptions-preventcancel" id="ref-for-dom-streampipeoptions-preventcancel">preventCancel</a></code>,
                <code
                    class="idl"><a data-link-type="idl" href="#dom-streampipeoptions-signal" id="ref-for-dom-streampipeoptions-signal">signal</a></code>
                }])</code>
            <dd>
                <p>为该<a data-link-type="dfn" href="#readable-stream" id="ref-for-readable-stream⑥">可读流</a>提供一个便捷的链式<a
                        data-link-type="dfn" href="#piping" id="ref-for-piping⑥">管道</a>方式，通过一个<a data-link-type="dfn"
                        href="#transform-stream" id="ref-for-transform-stream①">转换流</a>（或任意
                    <code>{ writable, readable }</code> 对）进行处理。它会将当前流管道到指定对的 writable 端，并返回 readable 端以便继续使用。
                </p>
                <p>执行管道操作会在整个管道操作期间<a data-link-type="dfn" href="#lock" id="ref-for-lock⑦">锁定</a>该流，防止其他消费者获取读取器。</p>
            <dt><code>await <var>stream</var>.<code class="idl"><a data-link-type="idl" href="#rs-pipe-to" id="ref-for-rs-pipe-to④">pipeTo</a></code>(<var>destination</var>[,
                { <code
                    class="idl"><a data-link-type="idl" href="#dom-streampipeoptions-preventclose" id="ref-for-dom-streampipeoptions-preventclose①">preventClose</a></code>,
                <code
                    class="idl"><a data-link-type="idl" href="#dom-streampipeoptions-preventabort" id="ref-for-dom-streampipeoptions-preventabort①">preventAbort</a></code>,
                <code
                    class="idl"><a data-link-type="idl" href="#dom-streampipeoptions-preventcancel" id="ref-for-dom-streampipeoptions-preventcancel①">preventCancel</a></code>,
                <code
                    class="idl"><a data-link-type="idl" href="#dom-streampipeoptions-signal" id="ref-for-dom-streampipeoptions-signal①">signal</a></code>
                }])</code>
            <dd>
                <p>将该<a data-link-type="dfn" href="#readable-stream" id="ref-for-readable-stream⑦">可读流</a><a
                        data-link-type="dfn" href="#piping" id="ref-for-piping⑦">管道</a>到给定的<a data-link-type="dfn"
                        href="#writable-stream"
                        id="ref-for-writable-stream⑤">可写流</a><var>destination</var>。通过传递参数可以自定义在各种错误条件下管道的行为。返回一个
                    promise，在管道过程成功完成时履约，否则在出错时拒绝。</p>
                <p>执行管道操作会在整个管道期间<a data-link-type="dfn" href="#lock" id="ref-for-lock⑧">锁定</a>该流，防止其他消费者获取读取器。</p>
                <p>源流与目标流的错误与关闭传播规则如下：</p>
                <ul>
                    <li data-md>
                        <p>源<a data-link-type="dfn" href="#readable-stream" id="ref-for-readable-stream⑧">可读流</a>出错时，会<a
                                data-link-type="dfn" href="#abort-a-writable-stream"
                                id="ref-for-abort-a-writable-stream①">中止</a><var>destination</var>，除非 <code
                                class="idl"><a data-link-type="idl" href="#dom-streampipeoptions-preventabort" id="ref-for-dom-streampipeoptions-preventabort②">preventAbort</a></code>
                            为真。promise 会以源流的错误或中止目标流时产生的错误拒绝。</p>
                    <li data-md>
                        <p><var>destination</var> 出错时，会<a data-link-type="dfn" href="#cancel-a-readable-stream"
                                id="ref-for-cancel-a-readable-stream③">取消</a>该<a data-link-type="dfn"
                                href="#readable-stream" id="ref-for-readable-stream⑨">可读流</a>，除非 <code
                                class="idl"><a data-link-type="idl" href="#dom-streampipeoptions-preventcancel" id="ref-for-dom-streampipeoptions-preventcancel②">preventCancel</a></code>
                            为真。promise 会以目标流的错误或取消源流时的错误拒绝。</p>
                    <li data-md>
                        <p>当源<a data-link-type="dfn" href="#readable-stream"
                                id="ref-for-readable-stream①⓪">可读流</a>关闭时，<var>destination</var> 也会关闭，除非 <code
                                class="idl"><a data-link-type="idl" href="#dom-streampipeoptions-preventclose" id="ref-for-dom-streampipeoptions-preventclose②">preventClose</a></code>
                            为真。promise 会在关闭目标流过程完成后履约，如果关闭目标流时报错则以该错误拒绝。</p>
                    <li data-md>
                        <p>如果 <var>destination</var> 最初已关闭或正在关闭，则该<a data-link-type="dfn" href="#readable-stream"
                                id="ref-for-readable-stream①①">可读流</a>会被<a data-link-type="dfn"
                                href="#cancel-a-readable-stream" id="ref-for-cancel-a-readable-stream④">取消</a>，除非 <code
                                class="idl"><a data-link-type="idl" href="#dom-streampipeoptions-preventcancel" id="ref-for-dom-streampipeoptions-preventcancel③">preventCancel</a></code>
                            为真。promise 会以管道到已关闭流失败的错误或取消源流时的错误拒绝。</p>
                </ul>
                <p><code
                        class="idl"><a data-link-type="idl" href="#dom-streampipeoptions-signal" id="ref-for-dom-streampipeoptions-signal②">signal</a></code>
                    选项可以设置为 <code
                        class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortsignal" id="ref-for-abortsignal①">AbortSignal</a></code>，以允许通过相应的
                    <code
                        class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortcontroller" id="ref-for-abortcontroller">AbortController</a></code>
                    中止正在进行的管道操作。在这种情况下，源<a data-link-type="dfn" href="#readable-stream"
                        id="ref-for-readable-stream①②">可读流</a>会被<a data-link-type="dfn" href="#cancel-a-readable-stream"
                        id="ref-for-cancel-a-readable-stream⑤">取消</a>，<var>destination</var> 会被<a data-link-type="dfn"
                        href="#abort-a-writable-stream" id="ref-for-abort-a-writable-stream②">中止</a>，除非相应的 <code
                        class="idl"><a data-link-type="idl" href="#dom-streampipeoptions-preventcancel" id="ref-for-dom-streampipeoptions-preventcancel④">preventCancel</a></code>
                    或 <code
                        class="idl"><a data-link-type="idl" href="#dom-streampipeoptions-preventabort" id="ref-for-dom-streampipeoptions-preventabort③">preventAbort</a></code>
                    被设置。
                </p>
            <dt><code>[<var>branch1</var>, <var>branch2</var>] = <var>stream</var>.<code class="idl"><a data-link-type="idl" href="#rs-tee" id="ref-for-rs-tee②">tee</a></code>()</code>
            <dd>
                <p><a data-link-type="dfn" href="#tee-a-readable-stream"
                        id="ref-for-tee-a-readable-stream②">分叉</a>该可读流，返回一个包含两个分支的新 <code
                        class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream①⑤">ReadableStream</a></code>
                    实例的数组。</p>
                <p>分叉操作会<a data-link-type="dfn" href="#lock" id="ref-for-lock⑨">锁定</a>该流，防止其他消费者获取读取器。要<a
                        data-link-type="dfn" href="#cancel-a-readable-stream"
                        id="ref-for-cancel-a-readable-stream⑥">取消</a>流，需要取消两个分支，最终组合的取消原因会传递给流的<a data-link-type="dfn"
                        href="#underlying-source" id="ref-for-underlying-source⑨">底层源</a>。</p>
                <p>如果该流是<a data-link-type="dfn" href="#readable-byte-stream"
                        id="ref-for-readable-byte-stream④">可读字节流</a>，每个分支会收到各自的数据块副本；否则，两个分支看到的数据块是同一个对象。如果数据块不是不可变的，这可能导致两个分支间互相影响。
                </p>
        </dl>
        <div class="algorithm" data-algorithm="ReadableStream(underlyingSource, strategy)"
            data-algorithm-for="ReadableStream">
            <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStream" data-dfn-type="constructor" data-export
                data-lt="ReadableStream(underlyingSource, strategy)|constructor(underlyingSource, strategy)|ReadableStream(underlyingSource)|constructor(underlyingSource)|ReadableStream()|constructor()"
                id="rs-constructor"><code>new ReadableStream(<var>underlyingSource</var>, <var>strategy</var>)</code></dfn>
            构造函数的步骤如下：
            <ol>
                <li data-md>
                    <p>如果 <var>underlyingSource</var> 缺失，则将其设为 null。</p>
                <li data-md>
                    <p>令 <var>underlyingSourceDict</var> 为 <var>underlyingSource</var>，<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value"
                            id="ref-for-dfn-convert-ecmascript-to-idl-value">转换为类型为</a> <code
                            class="idl"><a data-link-type="idl" href="#dictdef-underlyingsource" id="ref-for-dictdef-underlyingsource">UnderlyingSource</a></code>
                        的 IDL 值。
                    </p>
                    <p class="note" role="note">我们不能直接将 <var>underlyingSource</var> 参数声明为 <code
                            class="idl"><a data-link-type="idl" href="#dictdef-underlyingsource" id="ref-for-dictdef-underlyingsource①">UnderlyingSource</a></code>
                        类型，否则会丢失原始对象的引用。我们需要保留该对象，以便调用其上的各种方法。
                    </p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#initialize-readable-stream"
                            id="ref-for-initialize-readable-stream">InitializeReadableStream</a>(<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-this">this</a>)。</p>
                <li data-md>
                    <p>如果 <var>underlyingSourceDict</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-underlyingsource-type" id="ref-for-dom-underlyingsource-type③">type</a></code>"]
                        为 "<code
                            class="idl"><a data-link-type="idl" href="#dom-readablestreamtype-bytes" id="ref-for-readablestreamtype-bytes③">bytes</a></code>"：
                    </p>
                    <ol>
                        <li data-md>
                            <p>如果 <var>strategy</var>["<code
                                    class="idl"><a data-link-type="idl" href="#dom-queuingstrategy-size" id="ref-for-dom-queuingstrategy-size①">size</a></code>"]
                                <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                                    id="ref-for-map-exists">存在</a>，则抛出 <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-rangeerror" id="ref-for-exceptiondef-rangeerror">RangeError</a></code>
                                异常。
                            </p>
                        <li data-md>
                            <p>令 <var>highWaterMark</var> 为 ? <a data-link-type="abstract-op"
                                    href="#validate-and-normalize-high-water-mark"
                                    id="ref-for-validate-and-normalize-high-water-mark">ExtractHighWaterMark</a>(<var>strategy</var>,
                                0)。</p>
                        <li data-md>
                            <p>执行 ? <a data-link-type="abstract-op"
                                    href="#set-up-readable-byte-stream-controller-from-underlying-source"
                                    id="ref-for-set-up-readable-byte-stream-controller-from-underlying-source">SetUpReadableByteStreamControllerFromUnderlyingSource</a>(<a
                                    data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                    id="ref-for-this①">this</a>, <var>underlyingSource</var>,
                                <var>underlyingSourceDict</var>, <var>highWaterMark</var>)。
                            </p>
                    </ol>
                <li data-md>
                    <p>否则，</p>
                    <ol>
                        <li data-md>
                            <p class="assertion">断言：<var>underlyingSourceDict</var>["<code
                                    class="idl"><a data-link-type="idl" href="#dom-underlyingsource-type" id="ref-for-dom-underlyingsource-type④">type</a></code>"]
                                不<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                                    id="ref-for-map-exists①">存在</a>。</p>
                        <li data-md>
                            <p>令 <var>sizeAlgorithm</var> 为 ! <a data-link-type="abstract-op"
                                    href="#make-size-algorithm-from-size-function"
                                    id="ref-for-make-size-algorithm-from-size-function">ExtractSizeAlgorithm</a>(<var>strategy</var>)。
                            </p>
                        <li data-md>
                            <p>令 <var>highWaterMark</var> 为 ? <a data-link-type="abstract-op"
                                    href="#validate-and-normalize-high-water-mark"
                                    id="ref-for-validate-and-normalize-high-water-mark①">ExtractHighWaterMark</a>(<var>strategy</var>,
                                1)。</p>
                        <li data-md>
                            <p>执行 ? <a data-link-type="abstract-op"
                                    href="#set-up-readable-stream-default-controller-from-underlying-source"
                                    id="ref-for-set-up-readable-stream-default-controller-from-underlying-source">SetUpReadableStreamDefaultControllerFromUnderlyingSource</a>(<a
                                    data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                    id="ref-for-this②">this</a>, <var>underlyingSource</var>,
                                <var>underlyingSourceDict</var>, <var>highWaterMark</var>, <var>sizeAlgorithm</var>)。
                            </p>
                    </ol>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="from(asyncIterable)" data-algorithm-for="ReadableStream">
            静态 <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStream" data-dfn-type="method" data-export
                id="rs-from"><code>from(<var>asyncIterable</var>)</code></dfn> 方法的步骤如下：
            <ol>
                <li data-md>
                    <p>返回 ? <a data-link-type="abstract-op" href="#readable-stream-from-iterable"
                            id="ref-for-readable-stream-from-iterable">ReadableStreamFromIterable</a>(<var>asyncIterable</var>)。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="locked" data-algorithm-for="ReadableStream">
            <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStream" data-dfn-type="attribute" data-export
                id="rs-locked"><code>locked</code></dfn> getter 步骤如下：
            <ol>
                <li data-md>
                    <p>返回 ! <a data-link-type="abstract-op" href="#is-readable-stream-locked"
                            id="ref-for-is-readable-stream-locked">IsReadableStreamLocked</a>(<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③">this</a>)。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="cancel(reason)" data-algorithm-for="ReadableStream">
            <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStream" data-dfn-type="method" data-export
                data-lt="cancel(reason)|cancel()" id="rs-cancel"><code>cancel(<var>reason</var>)</code></dfn> 方法的步骤如下：
            <ol>
                <li data-md>
                    <p>如果 ! <a data-link-type="abstract-op" href="#is-readable-stream-locked"
                            id="ref-for-is-readable-stream-locked①">IsReadableStreamLocked</a>(<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④">this</a>) 为 true，则返回<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                            id="ref-for-a-promise-rejected-with">一个被拒绝的 promise</a>，其原因是 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror①">TypeError</a></code>
                        异常。</p>
                <li data-md>
                    <p>返回 ! <a data-link-type="abstract-op" href="#readable-stream-cancel"
                            id="ref-for-readable-stream-cancel">ReadableStreamCancel</a>(<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤">this</a>, <var>reason</var>)。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="getReader(options)" data-algorithm-for="ReadableStream">
            <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStream" data-dfn-type="method" data-export
                data-lt="getReader(options)|getReader()"
                id="rs-get-reader"><code>getReader(<var>options</var>)</code></dfn> 方法的步骤如下：
            <ol>
                <li data-md>
                    <p>如果 <var>options</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-readablestreamgetreaderoptions-mode" id="ref-for-dom-readablestreamgetreaderoptions-mode①">mode</a></code>"]
                        不<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                            id="ref-for-map-exists②">存在</a>，则返回 ? <a data-link-type="abstract-op"
                            href="#acquire-readable-stream-reader"
                            id="ref-for-acquire-readable-stream-reader">AcquireReadableStreamDefaultReader</a>(<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑥">this</a>)。</p>
                <li data-md>
                    <p class="assertion">断言：<var>options</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-readablestreamgetreaderoptions-mode" id="ref-for-dom-readablestreamgetreaderoptions-mode②">mode</a></code>"]
                        的值为
                        "<code
                            class="idl"><a data-link-type="idl" href="#dom-readablestreamreadermode-byob" id="ref-for-dom-readablestreamreadermode-byob①">byob</a></code>"。
                    </p>
                <li data-md>
                    <p>返回 ? <a data-link-type="abstract-op" href="#acquire-readable-stream-byob-reader"
                            id="ref-for-acquire-readable-stream-byob-reader">AcquireReadableStreamBYOBReader</a>(<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑦">this</a>)。</p>
            </ol>
            <div class="example" id="example-read-all-chunks">
                <a class="self-link" href="#example-read-all-chunks"></a> 一个使用读取器的抽象示例如下，该函数将整个可读流读取到内存数组，数组元素为每个<a
                    data-link-type="dfn" href="#chunk" id="ref-for-chunk①⑦">数据块</a>。
                <pre class="highlight"><c- a>function</c-> readAllChunks<c- p>(</c->readableStream<c- p>)</c-> <c- p>{</c->
  <c- a>const</c-> reader <c- o>=</c-> readableStream<c- p>.</c->getReader<c- p>();</c->
  <c- a>const</c-> chunks <c- o>=</c-> <c- p>[];</c->

  <c- k>return</c-> pump<c- p>();</c->

  <c- a>function</c-> pump<c- p>()</c-> <c- p>{</c->
    <c- k>return</c-> reader<c- p>.</c->read<c- p>().</c->then<c- p>(({</c-> value<c- p>,</c-> done <c- p>})</c-> <c- p>=></c-> <c- p>{</c->
      <c- k>if</c-> <c- p>(</c->done<c- p>)</c-> <c- p>{</c->
        <c- k>return</c-> chunks<c- p>;</c->
      <c- p>}</c->

      chunks<c- p>.</c->push<c- p>(</c->value<c- p>);</c->
      <c- k>return</c-> pump<c- p>();</c->
    <c- p>});</c->
  <c- p>}</c->
<c- p>}</c->
</pre>
                <p>注意它第一步就获取读取器，之后只使用该读取器。这确保了没有其他消费者可以干扰流（如并发读取或<a data-link-type="dfn"
                        href="#cancel-a-readable-stream" id="ref-for-cancel-a-readable-stream⑦">取消</a>流）。</p>
            </div>
        </div>
        <div class="algorithm" data-algorithm="pipeThrough(transform, options)" data-algorithm-for="ReadableStream">
            <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStream" data-dfn-type="method" data-export
                data-lt="pipeThrough(transform, options)|pipeThrough(transform)"
                id="rs-pipe-through"><code>pipeThrough(<var>transform</var>, <var>options</var>)</code></dfn>
            方法步骤如下：
            <ol>
                <li data-md>
                    <p>如果 ! <a data-link-type="abstract-op" href="#is-readable-stream-locked"
                            id="ref-for-is-readable-stream-locked②">IsReadableStreamLocked</a>(<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑧">this</a>) 为 true，则抛出 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror②">TypeError</a></code>
                        异常。
                    </p>
                <li data-md>
                    <p>如果 ! <a data-link-type="abstract-op" href="#is-writable-stream-locked"
                            id="ref-for-is-writable-stream-locked">IsWritableStreamLocked</a>(<var>transform</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-readablewritablepair-writable" id="ref-for-dom-readablewritablepair-writable①">writable</a></code>"])
                        为 true，则抛出 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror③">TypeError</a></code>
                        异常。</p>
                <li data-md>
                    <p>令 <var>signal</var> 为 <var>options</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-streampipeoptions-signal" id="ref-for-dom-streampipeoptions-signal③">signal</a></code>"]，如果<a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                            id="ref-for-map-exists③">存在</a>则取该值，否则为 undefined。</p>
                <li data-md>
                    <p>令 <var>promise</var> 为 ! <a data-link-type="abstract-op" href="#readable-stream-pipe-to"
                            id="ref-for-readable-stream-pipe-to">ReadableStreamPipeTo</a>(<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑨">this</a>,
                        <var>transform</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-readablewritablepair-writable" id="ref-for-dom-readablewritablepair-writable②">writable</a></code>"],
                        <var>options</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-streampipeoptions-preventclose" id="ref-for-dom-streampipeoptions-preventclose③">preventClose</a></code>"],
                        <var>options</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-streampipeoptions-preventabort" id="ref-for-dom-streampipeoptions-preventabort④">preventAbort</a></code>"],
                        <var>options</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-streampipeoptions-preventcancel" id="ref-for-dom-streampipeoptions-preventcancel⑤">preventCancel</a></code>"],
                        <var>signal</var>)。
                    </p>
                <li data-md>
                    <p>将 <var>promise</var>.[[PromiseIsHandled]] 设为 true。</p>
                <li data-md>
                    <p>返回 <var>transform</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-readablewritablepair-readable" id="ref-for-dom-readablewritablepair-readable①">readable</a></code>"]。
                    </p>
            </ol>
            <div class="example" id="example-pipe-chain">
                <a class="self-link" href="#example-pipe-chain"></a> 使用 <code
                    class="idl"><a data-link-type="idl" href="#rs-pipe-through" id="ref-for-rs-pipe-through③">pipeThrough(transform, options)</a></code>
                构建<a data-link-type="dfn" href="#pipe-chain" id="ref-for-pipe-chain②">管道链</a>的典型示例如下：
                <pre class="highlight">httpResponseBody
  <c- p>.</c->pipeThrough<c- p>(</c->decompressorTransform<c- p>)</c->
  <c- p>.</c->pipeThrough<c- p>(</c->ignoreNonImageFilesTransform<c- p>)</c->
  <c- p>.</c->pipeTo<c- p>(</c->mediaGallery<c- p>);</c->
</pre>
            </div>
        </div>
        <div class="algorithm" data-algorithm="pipeTo(destination, options)" data-algorithm-for="ReadableStream">
            <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStream" data-dfn-type="method" data-export
                data-lt="pipeTo(destination, options)|pipeTo(destination)"
                id="rs-pipe-to"><code>pipeTo(<var>destination</var>, <var>options</var>)</code></dfn>
            方法步骤如下：
            <ol>
                <li data-md>
                    <p>如果 ! <a data-link-type="abstract-op" href="#is-readable-stream-locked"
                            id="ref-for-is-readable-stream-locked③">IsReadableStreamLocked</a>(<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⓪">this</a>) 为 true，返回<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                            id="ref-for-a-promise-rejected-with①">一个被拒绝的 promise</a>，其原因为 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror④">TypeError</a></code>
                        异常。</p>
                <li data-md>
                    <p>如果 ! <a data-link-type="abstract-op" href="#is-writable-stream-locked"
                            id="ref-for-is-writable-stream-locked①">IsWritableStreamLocked</a>(<var>destination</var>)
                        为 true，返回<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                            id="ref-for-a-promise-rejected-with②">一个被拒绝的 promise</a>，其原因为 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror⑤">TypeError</a></code>
                        异常。</p>
                <li data-md>
                    <p>令 <var>signal</var> 为 <var>options</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-streampipeoptions-signal" id="ref-for-dom-streampipeoptions-signal④">signal</a></code>"]，如果<a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                            id="ref-for-map-exists④">存在</a>则取该值，否则为 undefined。</p>
                <li data-md>
                    <p>返回 ! <a data-link-type="abstract-op" href="#readable-stream-pipe-to"
                            id="ref-for-readable-stream-pipe-to①">ReadableStreamPipeTo</a>(<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①①">this</a>,
                        <var>destination</var>, <var>options</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-streampipeoptions-preventclose" id="ref-for-dom-streampipeoptions-preventclose④">preventClose</a></code>"],
                        <var>options</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-streampipeoptions-preventabort" id="ref-for-dom-streampipeoptions-preventabort⑤">preventAbort</a></code>"],
                        <var>options</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-streampipeoptions-preventcancel" id="ref-for-dom-streampipeoptions-preventcancel⑥">preventCancel</a></code>"],
                        <var>signal</var>)。
                    </p>
            </ol>
            <div class="example" id="example-pipe-abortsignal">
                <a class="self-link" href="#example-pipe-abortsignal"></a> 可以使用 <code
                    class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortsignal" id="ref-for-abortsignal②">AbortSignal</a></code>
                停止正在进行的 <a data-link-type="dfn" href="#readablestream-pipe"
                    id="ref-for-readablestream-pipe">管道</a>操作，示例如下：
                <pre class="highlight"><c- a>const</c-> controller <c- o>=</c-> <c- ow>new</c-> AbortController<c- p>();</c->
readable<c- p>.</c->pipeTo<c- p>(</c->writable<c- p>,</c-> <c- p>{</c-> signal<c- o>:</c-> controller<c- p>.</c->signal <c- p>});</c->

<c- c1>// ... 之后的某个时刻 ...</c->
controller<c- p>.</c->abort<c- p>();</c->
</pre>
                <p>（上述代码省略了对 <code
                        class="idl"><a data-link-type="idl" href="#rs-pipe-to" id="ref-for-rs-pipe-to⑤">pipeTo()</a></code>
                    返回的 promise 的错误处理。此外，<code
                        class="idl"><a data-link-type="idl" href="#dom-streampipeoptions-preventabort" id="ref-for-dom-streampipeoptions-preventabort⑥">preventAbort</a></code>
                    和 <code
                        class="idl"><a data-link-type="idl" href="#dom-streampipeoptions-preventcancel" id="ref-for-dom-streampipeoptions-preventcancel⑦">preventCancel</a></code>
                    选项对于管道被终止时的影响也值得考虑。）</p>
            </div>
            <div class="example" id="example-pipe-switch-dest">
                <a class="self-link" href="#example-pipe-switch-dest"></a> 上述技术也可用于切换被管道的 <code
                    class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream①⑥">ReadableStream</a></code>，但写入同一个
                <code
                    class="idl"><a data-link-type="idl" href="#writablestream" id="ref-for-writablestream⑤">WritableStream</a></code>：
                <pre class="highlight"><c- a>const</c-> controller <c- o>=</c-> <c- ow>new</c-> AbortController<c- p>();</c->
<c- a>const</c-> pipePromise <c- o>=</c-> readable1<c- p>.</c->pipeTo<c- p>(</c->writable<c- p>,</c-> <c- p>{</c-> preventAbort<c- o>:</c-> <c- kc>true</c-><c- p>,</c-> signal<c- o>:</c-> controller<c- p>.</c->signal <c- p>});</c->

<c- c1>// ... 之后的某个时刻 ...</c->
controller<c- p>.</c->abort<c- p>();</c->

<c- c1>// 等待管道完成后再启动新管道：</c->
<c- k>try</c-> <c- p>{</c->
 <c- k>await</c-> pipePromise<c- p>;</c->
<c- p>}</c-> <c- k>catch</c-> <c- p>(</c->e<c- p>)</c-> <c- p>{</c->
 <c- c1>// 预期 "AbortError" DOMException 可吞掉，其他错误需重新抛出。</c->
 <c- k>if</c-> <c- p>(</c->e<c- p>.</c->name <c- o>!==</c-> <c- u>"AbortError"</c-><c- p>)</c-> <c- p>{</c->
  <c- k>throw</c-> e<c- p>;</c->
 <c- p>}</c->
<c- p>}</c->

<c- c1>// 启动新的管道！</c->
readable2<c- p>.</c->pipeTo<c- p>(</c->writable<c- p>);</c->
</pre>
            </div>
        </div>
        <div class="algorithm" data-algorithm="tee()" data-algorithm-for="ReadableStream">
            <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStream" data-dfn-type="method" data-export
                id="rs-tee"><code>tee()</code></dfn> 方法步骤如下：
            <ol>
                <li data-md>
                    <p>返回 ? <a data-link-type="abstract-op" href="#readable-stream-tee"
                            id="ref-for-readable-stream-tee">ReadableStreamTee</a>(<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①②">this</a>, false)。</p>
            </ol>
            <div class="example" id="example-tee-and-pipe">
                <a class="self-link" href="#example-tee-and-pipe"></a>
                对流进行分叉（tee）在希望让两个独立的消费者并行读取流（甚至读取速度不同）时很有用。例如，给定一个代表本地文件的可写流 <code>cacheEntry</code>，和一个代表远程服务器上传的可写流
                <code>httpRequestBody</code>，你可以同时将同一个可读流管道到两个目标：
                <pre class="highlight"><c- a>const</c-> <c- p>[</c->forLocal<c- p>,</c-> forRemote<c- p>]</c-> <c- o>=</c-> readableStream<c- p>.</c->tee<c- p>();</c->

Promise<c- p>.</c->all<c- p>([</c->
  forLocal<c- p>.</c->pipeTo<c- p>(</c->cacheEntry<c- p>),</c->
  forRemote<c- p>.</c->pipeTo<c- p>(</c->httpRequestBody<c- p>)</c->
<c- p>])</c->
<c- p>.</c->then<c- p>(()</c-> <c- p>=></c-> console<c- p>.</c->log<c- p>(</c-><c- u>"已保存到缓存并上传！"</c-><c- p>))</c->
<c- p>.</c-><c- k>catch</c-><c- p>(</c->e <c- p>=></c-> console<c- p>.</c->error<c- p>(</c-><c- u>"缓存或上传失败：" </c-><c- p>,</c-> e<c- p>));</c->
</pre>
            </div>
        </div>
        <h4 class="heading settled" data-level="4.2.5" id="rs-asynciterator"><span class="secno">4.2.5. </span><span
                class="bs-old-id" id="default-reader-asynciterator-prototype-internal-slots"></span><span
                class="bs-old-id" id="rs-asynciterator-prototype"></span><span class="content">异步迭代</span><a
                class="self-link" href="#rs-asynciterator"></a></h4>
        <dl class="domintro">
            <dt><code>for await (const <var>chunk</var> of <var>stream</var>) { ... }</code>
            <dt><code>for await (const <var>chunk</var> of <var>stream</var>.values({ <code class="idl"><a data-link-type="idl" href="#dom-readablestreamiteratoroptions-preventcancel" id="ref-for-dom-readablestreamiteratoroptions-preventcancel">preventCancel</a></code>:
                true })) { ... }</code>
            <dd>
                <p>异步遍历流内部队列中的<a data-link-type="dfn" href="#chunk" id="ref-for-chunk①⑧">数据块（chunk）</a>。</p>
                <p>异步迭代流时会<a data-link-type="dfn" href="#lock" id="ref-for-lock①⓪">锁定</a>该流，阻止其他消费者获取读取器。如果通过
                    <code>return()</code> 方法（如通过 <code>break</code> 跳出循环）结束异步迭代，会释放该锁。
                </p>
                <p>默认情况下，调用异步迭代器的 <code>return()</code> 方法也会<a data-link-type="dfn" href="#cancel-a-readable-stream"
                        id="ref-for-cancel-a-readable-stream⑧">取消</a>流。如要阻止此行为，可调用流的 <code>values()</code> 方法并为 <code
                        class="idl"><a data-link-type="idl" href="#dom-readablestreamiteratoroptions-preventcancel" id="ref-for-dom-readablestreamiteratoroptions-preventcancel①">preventCancel</a></code>
                    选项传入 true。
                </p>
        </dl>
        <div class="algorithm" data-algorithm="ReadableStream asynchronous iterator initialization steps"
            id="rs-get-iterator">
            <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#asynchronous-iterator-initialization-steps"
                id="ref-for-asynchronous-iterator-initialization-steps">可读流的异步迭代器初始化步骤</a>，给定
            <var>stream</var>、<var>iterator</var> 和 <var>args</var>，如下：
            <ol>
                <li data-md>
                    <p>令 <var>reader</var> 为 ? <a data-link-type="abstract-op" href="#acquire-readable-stream-reader"
                            id="ref-for-acquire-readable-stream-reader①">AcquireReadableStreamDefaultReader</a>(<var>stream</var>)。
                    </p>
                <li data-md>
                    <p>将 <var>iterator</var> 的 <dfn class="dfn-paneled" data-dfn-for="ReadableStream async iterator"
                            data-dfn-type="dfn" data-noexport id="readablestream-async-iterator-reader">reader</dfn> 设为
                        <var>reader</var>。
                    </p>
                <li data-md>
                    <p>令 <var>preventCancel</var> 为 <var>args</var>[0]["<code
                            class="idl"><a data-link-type="idl" href="#dom-readablestreamiteratoroptions-preventcancel" id="ref-for-dom-readablestreamiteratoroptions-preventcancel②">preventCancel</a></code>"]。
                    </p>
                <li data-md>
                    <p>将 <var>iterator</var> 的 <dfn class="dfn-paneled" data-dfn-for="ReadableStream async iterator"
                            data-dfn-type="dfn" data-noexport id="readablestream-async-iterator-prevent-cancel">prevent
                            cancel</dfn> 设为 <var>preventCancel</var>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableStream get the next iteration result"
            id="rs-asynciterator-prototype-next">
            <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-get-the-next-iteration-result"
                id="ref-for-dfn-get-the-next-iteration-result">获取下一个迭代结果</a>的步骤（针对 <code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream①⑧">ReadableStream</a></code>，给定
            <var>stream</var> 和 <var>iterator</var>）如下：
            <ol>
                <li data-md>
                    <p>令 <var>reader</var> 为 <var>iterator</var> 的 <a data-link-type="dfn"
                            href="#readablestream-async-iterator-reader"
                            id="ref-for-readablestream-async-iterator-reader">reader</a>。</p>
                <li data-md>
                    <p class="assertion">断言：<var>reader</var>.<a data-link-type="dfn"
                            href="#readablestreamgenericreader-stream"
                            id="ref-for-readablestreamgenericreader-stream">[[stream]]</a> 不为 undefined。</p>
                <li data-md>
                    <p>令 <var>promise</var> 为<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise">新建的
                            promise</a>。</p>
                <li data-md>
                    <p>令 <var>readRequest</var> 为新的<a data-link-type="dfn" href="#read-request"
                            id="ref-for-read-request">读取请求（read request）</a>，包含以下<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item">条目</a>：</p>
                    <dl>
                        <dt data-md><a data-link-type="dfn" href="#read-request-chunk-steps"
                                id="ref-for-read-request-chunk-steps">chunk steps</a>，给定 <var>chunk</var>
                        <dd data-md>
                            <ol>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                            id="ref-for-resolve">解析</a> <var>promise</var>，值为 <var>chunk</var>。
                                    </p>
                                </li>
                            </ol>
                        <dt data-md><a data-link-type="dfn" href="#read-request-close-steps"
                                id="ref-for-read-request-close-steps">close steps</a>
                        <dd data-md>
                            <ol>
                                <li data-md>
                                    <p>执行 ! <a data-link-type="abstract-op"
                                            href="#abstract-opdef-readablestreamdefaultreaderrelease"
                                            id="ref-for-abstract-opdef-readablestreamdefaultreaderrelease">ReadableStreamDefaultReaderRelease</a>(<var>reader</var>)。
                                    </p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                            id="ref-for-resolve①">解析</a> <var>promise</var>，值为 <a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#end-of-iteration"
                                            id="ref-for-end-of-iteration">迭代结束</a>。
                                    </p>
                            </ol>
                        <dt data-md><a data-link-type="dfn" href="#read-request-error-steps"
                                id="ref-for-read-request-error-steps">error steps</a>，给定 <var>e</var>
                        <dd data-md>
                            <ol>
                                <li data-md>
                                    <p>执行 ! <a data-link-type="abstract-op"
                                            href="#abstract-opdef-readablestreamdefaultreaderrelease"
                                            id="ref-for-abstract-opdef-readablestreamdefaultreaderrelease①">ReadableStreamDefaultReaderRelease</a>(<var>reader</var>)。
                                    </p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                            id="ref-for-reject">拒绝</a> <var>promise</var>，理由为 <var>e</var>。</p>
                            </ol>
                    </dl>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#readable-stream-default-reader-read"
                            id="ref-for-readable-stream-default-reader-read">ReadableStreamDefaultReaderRead</a>(<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this①③">this</a>, <var>readRequest</var>)。</p>
                <li data-md>
                    <p>返回 <var>promise</var>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableStream asynchronous iterator return"
            id="rs-asynciterator-prototype-return">
            <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#asynchronous-iterator-return"
                id="ref-for-asynchronous-iterator-return">异步迭代器 return 步骤</a>（针对 <code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream①⑨">ReadableStream</a></code>，给定
            <var>stream</var>、<var>iterator</var> 和 <var>arg</var>）如下：
            <ol>
                <li data-md>
                    <p>令 <var>reader</var> 为 <var>iterator</var> 的 <a data-link-type="dfn"
                            href="#readablestream-async-iterator-reader"
                            id="ref-for-readablestream-async-iterator-reader①">reader</a>。</p>
                <li data-md>
                    <p class="assertion">断言：<var>reader</var>.<a data-link-type="dfn"
                            href="#readablestreamgenericreader-stream"
                            id="ref-for-readablestreamgenericreader-stream①">[[stream]]</a> 不为 undefined。</p>
                <li data-md>
                    <p class="assertion">断言：<var>reader</var>.<a data-link-type="dfn"
                            href="#readablestreamdefaultreader-readrequests"
                            id="ref-for-readablestreamdefaultreader-readrequests">[[readRequests]]</a> 为空（async iterator
                        机制保证所有之前对 <code>next()</code> 的调用都已 settle，才会调用此方法）。</p>
                <li data-md>
                    <p>如果 <var>iterator</var> 的 <a data-link-type="dfn"
                            href="#readablestream-async-iterator-prevent-cancel"
                            id="ref-for-readablestream-async-iterator-prevent-cancel">prevent cancel</a> 为 false：</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>result</var> 为 ! <a data-link-type="abstract-op"
                                    href="#readable-stream-reader-generic-cancel"
                                    id="ref-for-readable-stream-reader-generic-cancel">ReadableStreamReaderGenericCancel</a>(<var>reader</var>,
                                <var>arg</var>)。
                            </p>
                        <li data-md>
                            <p>执行 ! <a data-link-type="abstract-op"
                                    href="#abstract-opdef-readablestreamdefaultreaderrelease"
                                    id="ref-for-abstract-opdef-readablestreamdefaultreaderrelease②">ReadableStreamDefaultReaderRelease</a>(<var>reader</var>)。
                            </p>
                        <li data-md>
                            <p>返回 <var>result</var>。</p>
                    </ol>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#abstract-opdef-readablestreamdefaultreaderrelease"
                            id="ref-for-abstract-opdef-readablestreamdefaultreaderrelease③">ReadableStreamDefaultReaderRelease</a>(<var>reader</var>)。
                    </p>
                <li data-md>
                    <p>返回<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                            id="ref-for-a-promise-resolved-with">一个以 undefined 解决的 promise</a>。</p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="4.2.6" id="rs-transfer"><span class="secno">4.2.6. </span><span
                class="content">通过 <code>postMessage()</code> 传递</span><a class="self-link" href="#rs-transfer"></a>
        </h4>
        <dl class="domintro">
            <dt><code>destination.postMessage(rs, { transfer: [rs] });</code>
            <dd>
                <p>将一个 <code
                        class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream②⓪">ReadableStream</a></code>
                    发送到另一个 frame、window 或 worker。</p>
                <p>被传递的流可与原始流一样使用。原始流会被<a data-link-type="dfn" href="#lock" id="ref-for-lock①①">锁定</a>，无法再直接使用。</p>
        </dl>
        <div class="algorithm" data-algorithm="ReadableStream transfer steps">
            <code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream②①">ReadableStream</a></code>
            对象是<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/structured-data.html#transferable-objects"
                id="ref-for-transferable-objects">可转移对象（transferable objects）</a>。它们的<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/structured-data.html#transfer-steps"
                id="ref-for-transfer-steps">转移步骤（transfer steps）</a>，给定 <var>value</var> 和 <var>dataHolder</var>，如下：
            <ol>
                <li data-md>
                    <p>如果 ! <a data-link-type="abstract-op" href="#is-readable-stream-locked"
                            id="ref-for-is-readable-stream-locked④">IsReadableStreamLocked</a>(<var>value</var>) 为
                        true，则抛出 "<code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#datacloneerror" id="ref-for-datacloneerror">DataCloneError</a></code>"
                        <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException">DOMException</a></code>。
                    </p>
                <li data-md>
                    <p>令 <var>port1</var> 为在<a data-link-type="dfn" href="https://tc39.es/ecma262/#current-realm"
                            id="ref-for-current-realm">当前 Realm</a>中新建的 <code
                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/web-messaging.html#messageport" id="ref-for-messageport">MessagePort</a></code>。
                    </p>
                <li data-md>
                    <p>令 <var>port2</var> 为在<a data-link-type="dfn" href="https://tc39.es/ecma262/#current-realm"
                            id="ref-for-current-realm①">当前 Realm</a>中新建的 <code
                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/web-messaging.html#messageport" id="ref-for-messageport①">MessagePort</a></code>。
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/web-messaging.html#entangle"
                            id="ref-for-entangle">关联</a> <var>port1</var> 和 <var>port2</var>。</p>
                <li data-md>
                    <p>令 <var>writable</var> 为在<a data-link-type="dfn" href="https://tc39.es/ecma262/#current-realm"
                            id="ref-for-current-realm②">当前 Realm</a>中新建的 <code
                            class="idl"><a data-link-type="idl" href="#writablestream" id="ref-for-writablestream⑥">WritableStream</a></code>。
                    </p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#abstract-opdef-setupcrossrealmtransformwritable"
                            id="ref-for-abstract-opdef-setupcrossrealmtransformwritable">SetUpCrossRealmTransformWritable</a>(<var>writable</var>,
                        <var>port1</var>)。
                    </p>
                <li data-md>
                    <p>令 <var>promise</var> 为 ! <a data-link-type="abstract-op" href="#readable-stream-pipe-to"
                            id="ref-for-readable-stream-pipe-to②">ReadableStreamPipeTo</a>(<var>value</var>,
                        <var>writable</var>, false, false, false)。
                    </p>
                <li data-md>
                    <p>将 <var>promise</var>.[[PromiseIsHandled]] 设为 true。</p>
                <li data-md>
                    <p>将 <var>dataHolder</var>.[[port]] 设为 ! <a data-link-type="abstract-op"
                            href="https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializewithtransfer"
                            id="ref-for-structuredserializewithtransfer">StructuredSerializeWithTransfer</a>(<var>port2</var>,
                        « <var>port2</var> »)。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableStream transfer-receiving steps">
            <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/structured-data.html#transfer-receiving-steps"
                id="ref-for-transfer-receiving-steps">转移接收步骤（transfer-receiving steps）</a>，给定 <var>dataHolder</var> 和
            <var>value</var>，如下：
            <ol>
                <li data-md>
                    <p>令 <var>deserializedRecord</var> 为 ! <a data-link-type="abstract-op"
                            href="https://html.spec.whatwg.org/multipage/structured-data.html#structureddeserializewithtransfer"
                            id="ref-for-structureddeserializewithtransfer">StructuredDeserializeWithTransfer</a>(<var>dataHolder</var>.[[port]],
                        <a data-link-type="dfn" href="https://tc39.es/ecma262/#current-realm"
                            id="ref-for-current-realm③">当前 Realm</a>)。
                    </p>
                <li data-md>
                    <p>令 <var>port</var> 为 <var>deserializedRecord</var>.[[Deserialized]]。</p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#abstract-opdef-setupcrossrealmtransformreadable"
                            id="ref-for-abstract-opdef-setupcrossrealmtransformreadable">SetUpCrossRealmTransformReadable</a>(<var>value</var>,
                        <var>port</var>)。
                    </p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="4.3" id="generic-reader-mixin"><span class="secno">4.3. </span><span
                class="content"><code
                    class="idl"><a data-link-type="idl" href="#readablestreamgenericreader" id="ref-for-readablestreamgenericreader">ReadableStreamGenericReader</a></code>
                mixin</span><a class="self-link" href="#generic-reader-mixin"></a></h3>
        <p><code
                class="idl"><a data-link-type="idl" href="#readablestreamgenericreader" id="ref-for-readablestreamgenericreader①">ReadableStreamGenericReader</a></code>
            mixin 定义了 <code
                class="idl"><a data-link-type="idl" href="#readablestreamdefaultreader" id="ref-for-readablestreamdefaultreader④">ReadableStreamDefaultReader</a></code>
            和 <code
                class="idl"><a data-link-type="idl" href="#readablestreambyobreader" id="ref-for-readablestreambyobreader④">ReadableStreamBYOBReader</a></code>
            对象共享的内部槽、getter 和方法。</p>
        <h4 class="heading settled" data-level="4.3.1" id="generic-reader-mixin-definition"><span class="secno">4.3.1.
            </span><span class="content">混入定义</span><a class="self-link" href="#generic-reader-mixin-definition"></a>
        </h4>
        <p><code
                class="idl"><a data-link-type="idl" href="#readablestreamgenericreader" id="ref-for-readablestreamgenericreader②">ReadableStreamGenericReader</a></code>
            混入的 Web IDL 定义如下：</p>
        <pre class="idl highlight def"><c- b>interface</c-> <c- b>mixin</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="readablestreamgenericreader"><code><c- g>ReadableStreamGenericReader</c-></code></dfn> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise④"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined④"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Promise<undefined>" href="#generic-reader-closed" id="ref-for-generic-reader-closed"><c- g>closed</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑤"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined⑤"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#generic-reader-cancel" id="ref-for-generic-reader-cancel①"><c- g>cancel</c-></a>(<c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any⑤"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStreamGenericReader/cancel(reason), ReadableStreamGenericReader/cancel()" data-dfn-type="argument" data-export id="dom-readablestreamgenericreader-cancel-reason-reason"><code><c- g>reason</c-></code></dfn>);
};
</pre>
        <h4 class="heading settled" data-level="4.3.2" id="generic-reader-internal-slots"><span class="secno">4.3.2.
            </span><span class="content">内部插槽</span><a class="self-link" href="#generic-reader-internal-slots"></a></h4>
        <p>包含 <code
                class="idl"><a data-link-type="idl" href="#readablestreamgenericreader" id="ref-for-readablestreamgenericreader③">ReadableStreamGenericReader</a></code>
            混入的类的实例会带有下表描述的内部插槽：</p>
        <table>
            <thead>
                <tr>
                    <th>内部插槽
                    <th>描述（<em>非规范性</em>）
            <tbody>
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="ReadableStreamGenericReader" data-dfn-type="dfn"
                            data-noexport id="readablestreamgenericreader-closedpromise">[[closedPromise]]</dfn>
                    <td class="non-normative">由 reader 的 <code
                            class="idl"><a data-link-type="idl" href="#generic-reader-closed" id="ref-for-generic-reader-closed①">closed</a></code>
                        getter 返回的 promise
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="ReadableStreamGenericReader" data-dfn-type="dfn"
                            data-noexport id="readablestreamgenericreader-stream">[[stream]]</dfn>
                    <td class="non-normative">拥有此 reader 的 <code
                            class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream②②">ReadableStream</a></code>
                        实例
        </table>
        <h4 class="heading settled" data-level="4.3.3" id="generic-reader-prototype"><span class="secno">4.3.3.
            </span><span class="content">方法与属性</span><a class="self-link" href="#generic-reader-prototype"></a></h4>
        <div class="algorithm" data-algorithm="closed" data-algorithm-for="ReadableStreamGenericReader">
            <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStreamGenericReader" data-dfn-type="attribute"
                data-export
                id="generic-reader-closed"><code><span class="bs-old-id" id="byob-reader-closed"></span><span class="bs-old-id" id="default-reader-closed"></span><code>closed</code></code></dfn>
            属性步骤如下：
            <ol>
                <li data-md>
                    <p>返回 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this①④">this</a>.<a data-link-type="dfn"
                            href="#readablestreamgenericreader-closedpromise"
                            id="ref-for-readablestreamgenericreader-closedpromise">[[closedPromise]]</a>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="cancel(reason)" data-algorithm-for="ReadableStreamGenericReader">
            <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStreamGenericReader" data-dfn-type="method"
                data-export data-lt="cancel(reason)|cancel()"
                id="generic-reader-cancel"><code><span class="bs-old-id" id="byob-reader-cancel"></span><span class="bs-old-id" id="default-reader-cancel"></span><code>cancel(<var>reason</var>)</code></code></dfn>
            方法步骤如下：
            <ol>
                <li data-md>
                    <p>如果 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this①⑤">this</a>.<a data-link-type="dfn"
                            href="#readablestreamgenericreader-stream"
                            id="ref-for-readablestreamgenericreader-stream②">[[stream]]</a> 为 undefined，则返回以 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror⑥">TypeError</a></code>
                        异常拒绝的 promise。</p>
                <li data-md>
                    <p>返回 ! <a data-link-type="abstract-op" href="#readable-stream-reader-generic-cancel"
                            id="ref-for-readable-stream-reader-generic-cancel①">ReadableStreamReaderGenericCancel</a>(<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this①⑥">this</a>, <var>reason</var>)。</p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="4.4" id="default-reader-class"><span class="secno">4.4. </span><span
                class="content"><code
                    class="idl"><a data-link-type="idl" href="#readablestreamdefaultreader" id="ref-for-readablestreamdefaultreader⑤">ReadableStreamDefaultReader</a></code>
                类</span><a class="self-link" href="#default-reader-class"></a></h3>
        <p><code
                class="idl"><a data-link-type="idl" href="#readablestreamdefaultreader" id="ref-for-readablestreamdefaultreader⑥">ReadableStreamDefaultReader</a></code>
            类表示被 <code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream②③">ReadableStream</a></code>
            实例提供的<a data-link-type="dfn" href="#default-reader" id="ref-for-default-reader②">默认 reader</a>。</p>
        <h4 class="heading settled" data-level="4.4.1" id="default-reader-class-definition"><span class="secno">4.4.1.
            </span><span class="content">接口定义</span><a class="self-link" href="#default-reader-class-definition"></a>
        </h4>
        <p><code
                class="idl"><a data-link-type="idl" href="#readablestreamdefaultreader" id="ref-for-readablestreamdefaultreader⑦">ReadableStreamDefaultReader</a></code>
            类的 Web IDL 定义如下：</p>
        <pre class="idl highlight def">[Exposed=*]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="readablestreamdefaultreader"><code><c- g>ReadableStreamDefaultReader</c-></code></dfn> {
  <a class="idl-code" data-link-type="constructor" href="#default-reader-constructor" id="ref-for-default-reader-constructor"><c- g>constructor</c-></a>(<a data-link-type="idl-name" href="#readablestream" id="ref-for-readablestream②④"><c- n>ReadableStream</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStreamDefaultReader/ReadableStreamDefaultReader(stream), ReadableStreamDefaultReader/constructor(stream)" data-dfn-type="argument" data-export id="dom-readablestreamdefaultreader-readablestreamdefaultreader-stream-stream"><code><c- g>stream</c-></code></dfn>);

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑥"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-readablestreamreadresult" id="ref-for-dictdef-readablestreamreadresult"><c- n>ReadableStreamReadResult</c-></a>> <a class="idl-code" data-link-type="method" href="#default-reader-read" id="ref-for-default-reader-read"><c- g>read</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined⑥"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#default-reader-release-lock" id="ref-for-default-reader-release-lock①"><c- g>releaseLock</c-></a>();
};
<a data-link-type="idl-name" href="#readablestreamdefaultreader" id="ref-for-readablestreamdefaultreader⑧"><c- n>ReadableStreamDefaultReader</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#readablestreamgenericreader" id="ref-for-readablestreamgenericreader④"><c- n>ReadableStreamGenericReader</c-></a>;

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-readablestreamreadresult"><code><c- g>ReadableStreamReadResult</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any⑥"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStreamReadResult" data-dfn-type="dict-member" data-export data-type="any" id="dom-readablestreamreadresult-value"><code><c- g>value</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean⑤"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStreamReadResult" data-dfn-type="dict-member" data-export data-type="boolean" id="dom-readablestreamreadresult-done"><code><c- g>done</c-></code></dfn>;
};
</pre>
        <h4 class="heading settled" data-level="4.4.2" id="default-reader-internal-slots"><span class="secno">4.4.2.
            </span><span class="content">内部插槽</span><a class="self-link" href="#default-reader-internal-slots"></a></h4>
        <p><code
                class="idl"><a data-link-type="idl" href="#readablestreamdefaultreader" id="ref-for-readablestreamdefaultreader⑨">ReadableStreamDefaultReader</a></code>
            的实例拥有 <code
                class="idl"><a data-link-type="idl" href="#readablestreamgenericreader" id="ref-for-readablestreamgenericreader⑤">ReadableStreamGenericReader</a></code>
            定义的内部插槽，以及下表所述的插槽：</p>
        <table>
            <thead>
                <tr>
                    <th>内部插槽
                    <th>描述（<em>非规范性</em>）
            <tbody>
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="ReadableStreamDefaultReader" data-dfn-type="dfn"
                            data-noexport id="readablestreamdefaultreader-readrequests">[[readRequests]]</dfn>
                    <td class="non-normative">一个<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list"
                            id="ref-for-list">列表</a>，包含<a data-link-type="dfn" href="#read-request"
                            id="ref-for-read-request①">读取请求</a>，用于在<a data-link-type="dfn" href="#consumer"
                            id="ref-for-consumer③">消费者</a>请求<a data-link-type="dfn" href="#chunk"
                            id="ref-for-chunk①⑨">块</a>时，这些块尚未可用
        </table>
        <p><a class="dfn-paneled" data-dfn-type="dfn" data-export id="read-request">读取请求</a>是一个<a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct">结构体</a>
            ，包含三个算法，用于响应填充<a data-link-type="dfn" href="#readable-stream" id="ref-for-readable-stream①③">可读流</a>的<a
                data-link-type="dfn" href="#internal-queues" id="ref-for-internal-queues③">内部队列</a>或其状态变化。它包含如下<a
                data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item①">项</a>：
        </p>
        <dl>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="read request" data-dfn-type="dfn" data-export
                    id="read-request-chunk-steps">chunk steps</dfn>
            <dd data-md>
                <p>接收一个<a data-link-type="dfn" href="#chunk" id="ref-for-chunk②⓪">块</a>的算法，当有可读取的块时调用</p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="read request" data-dfn-type="dfn" data-export
                    id="read-request-close-steps">close steps</dfn>
            <dd data-md>
                <p>无参数的算法，当没有<a data-link-type="dfn" href="#chunk" id="ref-for-chunk②①">块</a>且流已关闭时调用</p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="read request" data-dfn-type="dfn" data-export
                    id="read-request-error-steps">error steps</dfn>
            <dd data-md>
                <p>接收一个 JavaScript 值的算法，当没有<a data-link-type="dfn" href="#chunk" id="ref-for-chunk②②">块</a>且流出错时调用</p>
        </dl>
        <h4 class="heading settled" data-level="4.4.3" id="default-reader-prototype"><span class="secno">4.4.3.
            </span><span class="content">构造函数、方法和属性</span><a class="self-link" href="#default-reader-prototype"></a>
        </h4>
        <dl class="domintro non-normative">
            <dt><code><var>reader</var> = new <code class="idl"><a data-link-type="idl" href="#default-reader-constructor" id="ref-for-default-reader-constructor①">ReadableStreamDefaultReader</a></code>(<var>stream</var>)</code>
            <dd>
                <p>这等价于调用
                    <code><var>stream</var>.<code class="idl"><a data-link-type="idl" href="#rs-get-reader" id="ref-for-rs-get-reader⑦">getReader()</a></code></code>。
                </p>
            <dt><code>await <var>reader</var>.<code class="idl"><a data-link-type="idl" href="#generic-reader-closed" id="ref-for-generic-reader-closed②">closed</a></code></code>
            <dd>
                <p>返回一个 promise，当流关闭时被满足；如果流发生错误或 reader 的锁在流关闭前被<a data-link-type="dfn" href="#release-a-lock"
                        id="ref-for-release-a-lock①">释放</a>，则 promise 被拒绝。 </p>
            <dt><code>await <var>reader</var>.<code class="idl"><a data-link-type="idl" href="#generic-reader-cancel" id="ref-for-generic-reader-cancel②">cancel</a></code>([
                <var>reason</var> ])</code>
            <dd>
                <p>如果 reader 处于<a data-link-type="dfn" href="#active" id="ref-for-active">活动</a>状态，则行为与
                    <code><var>stream</var>.<code class="idl"><a data-link-type="idl" href="#rs-cancel" id="ref-for-rs-cancel④">cancel</a></code>(<var>reason</var>)</code>
                    相同。
                </p>
            <dt><code>{ <var>value</var>, <var>done</var> } = await <var>reader</var>.<code class="idl"><a data-link-type="idl" href="#default-reader-read" id="ref-for-default-reader-read①">read</a></code>()</code>
            <dd>
                <p>返回一个 promise，允许访问流的内部队列中的下一个<a data-link-type="dfn" href="#chunk" id="ref-for-chunk②③">块</a>（如果有）。
                </p>
                <ul>
                    <li>如果块可用，promise 被满足，返回的对象格式为
                        <code
                            class="highlight"><c- p>{</c-> value<c- o>:</c-> theChunk<c- p>,</c-> done<c- o>:</c-> <c- kc>false</c-> <c- p>}</c-></code>。
                    <li>如果流被关闭，promise 被满足，返回对象格式为 <code
                            class="highlight"><c- p>{</c-> value<c- o>:</c-> <c- kc>undefined</c-><c- p>,</c-> done<c- o>:</c-> <c- kc>true</c-> <c- p>}</c-></code>。
                    <li>如果流出错，promise 被拒绝并带有相关错误。
                </ul>
                <p>如果读取一个块导致队列变为空，将会从<a data-link-type="dfn" href="#underlying-source"
                        id="ref-for-underlying-source①⓪">底层源</a>拉取更多数据。 </p>
            <dt><code><var>reader</var>.<code class="idl"><a data-link-type="idl" href="#default-reader-release-lock" id="ref-for-default-reader-release-lock②">releaseLock</a></code>()</code>
            <dd>
                <p><a data-link-type="dfn" href="#release-a-lock" id="ref-for-release-a-lock②">释放 reader
                        对应流的锁</a>。锁被释放后，reader 不再<a data-link-type="dfn" href="#active"
                        id="ref-for-active①">处于活动状态</a>。如果关联的流在释放锁时出错，reader 从此也会表现为出错；否则 reader 表现为已关闭。</p>
                <p>如果 reader 在释放锁时还有未完成的读取请求，则 <code
                        class="idl"><a data-link-type="idl" href="#default-reader-read" id="ref-for-default-reader-read②">read()</a></code>
                    方法返回的 promise 会立即被 <code
                        class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror⑦">TypeError</a></code>
                    拒绝。所有未读取的块将保留在流的<a data-link-type="dfn" href="#internal-queues"
                        id="ref-for-internal-queues④">内部队列</a>，可通过获取新 reader 再次读取。 </p>
        </dl>
        <div class="algorithm" data-algorithm="ReadableStreamDefaultReader(stream)"
            data-algorithm-for="ReadableStreamDefaultReader">
            <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStreamDefaultReader" data-dfn-type="constructor"
                data-export data-lt="ReadableStreamDefaultReader(stream)|constructor(stream)"
                id="default-reader-constructor"><code>new ReadableStreamDefaultReader(<var>stream</var>)</code></dfn>
            构造函数步骤如下：
            <ol>
                <li data-md>
                    <p>执行 ? <a data-link-type="abstract-op" href="#set-up-readable-stream-default-reader"
                            id="ref-for-set-up-readable-stream-default-reader">SetUpReadableStreamDefaultReader</a>(<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this①⑦">this</a>, <var>stream</var>)。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="read()" data-algorithm-for="ReadableStreamDefaultReader">
            <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStreamDefaultReader" data-dfn-type="method"
                data-export id="default-reader-read"><code>read()</code></dfn> 方法步骤如下：
            <ol>
                <li data-md>
                    <p>如果 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this①⑧">this</a>.<a data-link-type="dfn"
                            href="#readablestreamgenericreader-stream"
                            id="ref-for-readablestreamgenericreader-stream③">[[stream]]</a> 为 undefined，返回以 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror⑧">TypeError</a></code>
                        异常拒绝的 promise。</p>
                <li data-md>
                    <p>令 <var>promise</var> 为<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise①">一个新的
                            promise</a>。</p>
                <li data-md>
                    <p>令 <var>readRequest</var> 为一个新的<a data-link-type="dfn" href="#read-request"
                            id="ref-for-read-request②">读取请求</a>，包含以下<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item②">项</a>：</p>
                    <dl>
                        <dt data-md><a data-link-type="dfn" href="#read-request-chunk-steps"
                                id="ref-for-read-request-chunk-steps①">分块步骤</a>，给定 <var>chunk</var>
                        <dd data-md>
                            <ol>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                            id="ref-for-resolve②">解析</a> <var>promise</var>，值为 «[ "<code
                                            class="idl"><a data-link-type="idl" href="#dom-readablestreamreadresult-value" id="ref-for-dom-readablestreamreadresult-value">value</a></code>"
                                        → <var>chunk</var>,
                                        "<code
                                            class="idl"><a data-link-type="idl" href="#dom-readablestreamreadresult-done" id="ref-for-dom-readablestreamreadresult-done">done</a></code>"
                                        → false ]»。
                                    </p>
                            </ol>
                        <dt data-md><a data-link-type="dfn" href="#read-request-close-steps"
                                id="ref-for-read-request-close-steps①">关闭步骤</a>
                        <dd data-md>
                            <ol>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                            id="ref-for-resolve③">解析</a> <var>promise</var>，值为 «[ "<code
                                            class="idl"><a data-link-type="idl" href="#dom-readablestreamreadresult-value" id="ref-for-dom-readablestreamreadresult-value①">value</a></code>"
                                        → undefined,
                                        "<code
                                            class="idl"><a data-link-type="idl" href="#dom-readablestreamreadresult-done" id="ref-for-dom-readablestreamreadresult-done①">done</a></code>"
                                        → true ]»。
                                    </p>
                            </ol>
                        <dt data-md><a data-link-type="dfn" href="#read-request-error-steps"
                                id="ref-for-read-request-error-steps①">错误步骤</a>，给定 <var>e</var>
                        <dd data-md>
                            <ol>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                            id="ref-for-reject①">拒绝</a> <var>promise</var>，理由为 <var>e</var>。</p>
                            </ol>
                    </dl>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#readable-stream-default-reader-read"
                            id="ref-for-readable-stream-default-reader-read①">ReadableStreamDefaultReaderRead</a>(<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this①⑨">this</a>, <var>readRequest</var>)。</p>
                <li data-md>
                    <p>返回 <var>promise</var>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="releaseLock()" data-algorithm-for="ReadableStreamDefaultReader">
            <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStreamDefaultReader" data-dfn-type="method"
                data-export id="default-reader-release-lock"><code>releaseLock()</code></dfn> 方法步骤如下：
            <ol>
                <li data-md>
                    <p>如果 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this②⓪">this</a>.<a data-link-type="dfn"
                            href="#readablestreamgenericreader-stream"
                            id="ref-for-readablestreamgenericreader-stream④">[[stream]]</a> 为 undefined，则返回。</p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#abstract-opdef-readablestreamdefaultreaderrelease"
                            id="ref-for-abstract-opdef-readablestreamdefaultreaderrelease④">ReadableStreamDefaultReaderRelease</a>(<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this②①">this</a>)。</p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="4.5" id="byob-reader-class"><span class="secno">4.5. </span><span
                class="content"><code
                    class="idl"><a data-link-type="idl" href="#readablestreambyobreader" id="ref-for-readablestreambyobreader⑤">ReadableStreamBYOBReader</a></code>
                类</span><a class="self-link" href="#byob-reader-class"></a></h3>
        <p><code
                class="idl"><a data-link-type="idl" href="#readablestreambyobreader" id="ref-for-readablestreambyobreader⑥">ReadableStreamBYOBReader</a></code>
            类表示一种<a data-link-type="dfn" href="#byob-reader" id="ref-for-byob-reader⑤">BYOB reader</a>
            ，用于由 <code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream②⑤">ReadableStream</a></code>
            实例提供。</p>
        <h4 class="heading settled" data-level="4.5.1" id="byob-reader-class-definition"><span class="secno">4.5.1.
            </span><span class="content">接口定义</span><a class="self-link" href="#byob-reader-class-definition"></a></h4>
        <p><code
                class="idl"><a data-link-type="idl" href="#readablestreambyobreader" id="ref-for-readablestreambyobreader⑦">ReadableStreamBYOBReader</a></code>
            类的 Web IDL 定义如下：</p>
        <pre class="idl highlight def">[Exposed=*]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="readablestreambyobreader"><code><c- g>ReadableStreamBYOBReader</c-></code></dfn> {
  <a class="idl-code" data-link-type="constructor" href="#byob-reader-constructor" id="ref-for-byob-reader-constructor"><c- g>constructor</c-></a>(<a data-link-type="idl-name" href="#readablestream" id="ref-for-readablestream②⑥"><c- n>ReadableStream</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStreamBYOBReader/ReadableStreamBYOBReader(stream), ReadableStreamBYOBReader/constructor(stream)" data-dfn-type="argument" data-export id="dom-readablestreambyobreader-readablestreambyobreader-stream-stream"><code><c- g>stream</c-></code></dfn>);

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑦"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-readablestreamreadresult" id="ref-for-dictdef-readablestreamreadresult①"><c- n>ReadableStreamReadResult</c-></a>> <a class="idl-code" data-link-type="method" href="#byob-reader-read" id="ref-for-byob-reader-read②"><c- g>read</c-></a>(<a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#ArrayBufferView" id="ref-for-ArrayBufferView"><c- n>ArrayBufferView</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStreamBYOBReader/read(view, options), ReadableStreamBYOBReader/read(view)" data-dfn-type="argument" data-export id="dom-readablestreambyobreader-read-view-options-view"><code><c- g>view</c-></code></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-readablestreambyobreaderreadoptions" id="ref-for-dictdef-readablestreambyobreaderreadoptions"><c- n>ReadableStreamBYOBReaderReadOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStreamBYOBReader/read(view, options), ReadableStreamBYOBReader/read(view)" data-dfn-type="argument" data-export id="dom-readablestreambyobreader-read-view-options-options"><code><c- g>options</c-></code></dfn> = {});
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined⑦"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#byob-reader-release-lock" id="ref-for-byob-reader-release-lock①"><c- g>releaseLock</c-></a>();
};
<a data-link-type="idl-name" href="#readablestreambyobreader" id="ref-for-readablestreambyobreader⑧"><c- n>ReadableStreamBYOBReader</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#readablestreamgenericreader" id="ref-for-readablestreamgenericreader⑥"><c- n>ReadableStreamGenericReader</c-></a>;

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-readablestreambyobreaderreadoptions"><code><c- g>ReadableStreamBYOBReaderReadOptions</c-></code></dfn> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#EnforceRange" id="ref-for-EnforceRange①"><c- g>EnforceRange</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long②"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <dfn class="dfn-paneled idl-code" data-default="1" data-dfn-for="ReadableStreamBYOBReaderReadOptions" data-dfn-type="dict-member" data-export data-type="unsigned long long" id="dom-readablestreambyobreaderreadoptions-min"><code><c- g>min</c-></code></dfn> = 1;
};
</pre>
        <h4 class="heading settled" data-level="4.5.2" id="byob-reader-internal-slots"><span class="secno">4.5.2.
            </span><span class="content">内部插槽</span><a class="self-link" href="#byob-reader-internal-slots"></a></h4>
        <p><code
                class="idl"><a data-link-type="idl" href="#readablestreambyobreader" id="ref-for-readablestreambyobreader⑨">ReadableStreamBYOBReader</a></code>
            的实例拥有 <code
                class="idl"><a data-link-type="idl" href="#readablestreamgenericreader" id="ref-for-readablestreamgenericreader⑦">ReadableStreamGenericReader</a></code>
            定义的内部插槽，以及下表所述的插槽：</p>
        <table>
            <thead>
                <tr>
                    <th>内部插槽
                    <th>描述（<em>非规范性</em>）
            <tbody>
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="ReadableStreamBYOBReader" data-dfn-type="dfn"
                            data-noexport id="readablestreambyobreader-readintorequests">[[readIntoRequests]]</dfn>
                    <td class="non-normative">一个<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list"
                            id="ref-for-list①">列表</a>，包含<a data-link-type="dfn" href="#read-into-request"
                            id="ref-for-read-into-request">read-into 请求</a>，用于在<a data-link-type="dfn" href="#consumer"
                            id="ref-for-consumer④">消费者</a>请求<a data-link-type="dfn" href="#chunk"
                            id="ref-for-chunk②④">块</a>时，这些块尚未可用
        </table>
        <p><a class="dfn-paneled" data-dfn-type="dfn" data-export id="read-into-request">read-into 请求</a>是一个<a
                data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①">结构体</a>
            ，包含三个算法，用于响应填充<a data-link-type="dfn" href="#readable-byte-stream"
                id="ref-for-readable-byte-stream⑤">可读字节流</a>的<a data-link-type="dfn" href="#internal-queues"
                id="ref-for-internal-queues⑤">内部队列</a>或其状态变化。它包含如下<a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item③">项</a>：</p>
        <dl>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="read-into request" data-dfn-type="dfn" data-export
                    id="read-into-request-chunk-steps">chunk steps</dfn>
            <dd data-md>
                <p>接收一个<a data-link-type="dfn" href="#chunk" id="ref-for-chunk②⑤">块</a>的算法，当有可读取的块时调用</p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="read-into request" data-dfn-type="dfn" data-export
                    id="read-into-request-close-steps">close steps</dfn>
            <dd data-md>
                <p>接收一个<a data-link-type="dfn" href="#chunk" id="ref-for-chunk②⑥">块</a>或 undefined
                    的算法，当没有块（chunk）且流已关闭时调用</p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="read-into request" data-dfn-type="dfn" data-export
                    id="read-into-request-error-steps">error steps</dfn>
            <dd data-md>
                <p>接收一个 JavaScript 值的算法，当没有<a data-link-type="dfn" href="#chunk" id="ref-for-chunk②⑦">块</a>且流出错时调用</p>
        </dl>
        <p class="note" role="note"><a data-link-type="dfn" href="#read-into-request-close-steps"
                id="ref-for-read-into-request-close-steps">close steps</a> 接收一个<a data-link-type="dfn" href="#chunk"
                id="ref-for-chunk②⑧">块</a>，这样在可能的情况下可以将底层内存返回给调用者。例如，<code
                class="idl"><a data-link-type="idl" href="#byob-reader-read" id="ref-for-byob-reader-read③">byobReader.read(chunk)</a></code>
            会在流关闭时以 <code
                class="highlight"><c- p>{</c-> value<c- o>:</c-> newViewOnSameMemory<c- p>,</c-> done<c- o>:</c-> <c- kc>true</c-> <c- p>}</c-></code>
            形式 fulfill。如果流被<a data-link-type="dfn" href="#cancel-a-readable-stream"
                id="ref-for-cancel-a-readable-stream⑨">取消</a>，则底层内存会被丢弃，<code
                class="idl"><a data-link-type="idl" href="#byob-reader-read" id="ref-for-byob-reader-read④">byobReader.read(chunk)</a></code>
            会以更传统的 <code
                class="highlight"><c- p>{</c-> value<c- o>:</c-> <c- kc>undefined</c-><c- p>,</c-> done<c- o>:</c-> <c- kc>true</c-> <c- p>}</c-></code>
            fulfill。</p>
        <h4 class="heading settled" data-level="4.5.3" id="byob-reader-prototype"><span class="secno">4.5.3.
            </span><span class="content">构造函数、方法和属性</span><a class="self-link" href="#byob-reader-prototype"></a></h4>
        <dl class="domintro non-normative">
            <dt><code><var>reader</var> = new <code class="idl"><a data-link-type="idl" href="#byob-reader-constructor" id="ref-for-byob-reader-constructor①">ReadableStreamBYOBReader</a></code>(<var>stream</var>)</code>
            <dd>
                <p>这等价于调用
                    <code><var>stream</var>.<code class="idl"><a data-link-type="idl" href="#rs-get-reader" id="ref-for-rs-get-reader⑧">getReader</a></code>({
                    <code
                        class="idl"><a data-link-type="idl" href="#dom-readablestreamgetreaderoptions-mode" id="ref-for-dom-readablestreamgetreaderoptions-mode③">mode</a></code>:
                    "<code
                        class="idl"><a data-link-type="idl" href="#dom-readablestreamreadermode-byob" id="ref-for-dom-readablestreamreadermode-byob②">byob</a></code>"
                    })</code>。
                </p>
            <dt><code>await <var>reader</var>.<code class="idl"><a data-link-type="idl" href="#generic-reader-closed" id="ref-for-generic-reader-closed③">closed</a></code></code>
            <dd>
                <p>返回一个 promise，当流关闭时被满足；如果流发生错误或 reader 的锁在流关闭前被<a data-link-type="dfn" href="#release-a-lock"
                        id="ref-for-release-a-lock③">释放</a>，则 promise 被拒绝。 </p>
            <dt><code>await <var>reader</var>.<code class="idl"><a data-link-type="idl" href="#generic-reader-cancel" id="ref-for-generic-reader-cancel③">cancel</a></code>([
                <var>reason</var> ])</code>
            <dd>
                <p>如果 reader 处于<a data-link-type="dfn" href="#active" id="ref-for-active②">活动</a>状态，则行为与
                    <code><var>stream</var>.<code class="idl"><a data-link-type="idl" href="#rs-cancel" id="ref-for-rs-cancel⑤">cancel</a></code>(<var>reason</var>)</code>
                    相同。
                </p>
            <dt><code>{ <var>value</var>, <var>done</var> } = await <var>reader</var>.<code class="idl"><a data-link-type="idl" href="#byob-reader-read" id="ref-for-byob-reader-read⑤">read</a></code>(<var>view</var>[,
                { <code
                    class="idl"><a data-link-type="idl" href="#dom-readablestreambyobreaderreadoptions-min" id="ref-for-dom-readablestreambyobreaderreadoptions-min①">min</a></code>
                }])</code>
            <dd>
                <p>尝试将字节读取到 <var>view</var> 中，并返回一个 promise，promise 解析后的结果如下：</p>
                <ul>
                    <li>如果块可用，promise 被满足，返回的对象格式为
                        <code
                            class="highlight"><c- p>{</c-> value<c- o>:</c-> newView<c- p>,</c-> done<c- o>:</c-> <c- kc>false</c-> <c- p>}</c-></code>。
                        此时 <var>view</var> 会被<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-detach"
                            id="ref-for-dfn-detach">分离</a>，不可再用，<code>newView</code>
                        是同一底层内存的新视图，数据已写入其中。
                    <li>如果流被关闭，promise 被满足，返回对象格式为 <code
                            class="highlight"><c- p>{</c-> value<c- o>:</c-> newView<c- p>,</c-> done<c- o>:</c-> <c- kc>true</c-> <c- p>}</c-></code>。
                        此时 <var>view</var> 会被<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-detach"
                            id="ref-for-dfn-detach①">分离</a>，不可再用，<code>newView</code>
                        是同一底层内存的新视图，未修改数据，目的是保证内存返回给调用者。
                    <li>如果 reader 被<a data-link-type="dfn" href="#cancel-a-readable-stream"
                            id="ref-for-cancel-a-readable-stream①⓪">取消</a>，promise 被满足，返回对象格式为 <code
                            class="highlight"><c- p>{</c-> value<c- o>:</c-> <c- kc>undefined</c-><c- p>,</c-> done<c- o>:</c-> <c- kc>true</c-> <c- p>}</c-></code>。
                        此时 <var>view</var> 的底层内存会被丢弃，不再返回给调用者。
                    <li>如果流出错，promise 被拒绝并带有相关错误。
                </ul>
                <p>如果读取一个块导致队列变为空，将会从<a data-link-type="dfn" href="#underlying-source"
                        id="ref-for-underlying-source①①">底层源</a>拉取更多数据。</p>
                <p>如果指定了 <code
                        class="idl"><a data-link-type="idl" href="#dom-readablestreambyobreaderreadoptions-min" id="ref-for-dom-readablestreambyobreaderreadoptions-min②">min</a></code>
                    ，promise 只会在满足最小元素数量时才会被 fulfill。此处“元素数量”对于 typed array 是 <code>newView</code> 的
                    <code>length</code>，对于 <code
                        class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-dataview-objects" id="ref-for-sec-dataview-objects">DataView</a></code>
                    是 <code>newView.byteLength</code>。如果流关闭，则 promise 返回流中剩余元素，可能少于最初请求数量。如果未指定，则至少有一个元素时就会 fulfill。
                </p>
            <dt><code><var>reader</var>.<code class="idl"><a data-link-type="idl" href="#byob-reader-release-lock" id="ref-for-byob-reader-release-lock②">releaseLock</a></code>()</code>
            <dd>
                <p><a data-link-type="dfn" href="#release-a-lock" id="ref-for-release-a-lock④">释放 reader
                        对应流的锁</a>。锁被释放后，reader 不再<a data-link-type="dfn" href="#active"
                        id="ref-for-active③">处于活动状态</a>。如果关联的流在释放锁时出错，reader 从此也会表现为出错；否则 reader 表现为已关闭。</p>
                <p>如果 reader 在释放锁时还有未完成的读取请求，则 <code
                        class="idl"><a data-link-type="idl" href="#byob-reader-read" id="ref-for-byob-reader-read⑥">read()</a></code>
                    方法返回的 promise 会立即被 <code
                        class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror⑨">TypeError</a></code>
                    拒绝。所有未读取的块将保留在流的<a data-link-type="dfn" href="#internal-queues"
                        id="ref-for-internal-queues⑥">内部队列</a>，可通过获取新 reader 再次读取。</p>
        </dl>
        <div class="algorithm" data-algorithm="ReadableStreamBYOBReader(stream)"
            data-algorithm-for="ReadableStreamBYOBReader">
            <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStreamBYOBReader" data-dfn-type="constructor"
                data-export data-lt="ReadableStreamBYOBReader(stream)|constructor(stream)"
                id="byob-reader-constructor"><code>new ReadableStreamBYOBReader(<var>stream</var>)</code></dfn>
            构造函数步骤如下：
            <ol>
                <li data-md>
                    <p>执行 ? <a data-link-type="abstract-op" href="#set-up-readable-stream-byob-reader"
                            id="ref-for-set-up-readable-stream-byob-reader">SetUpReadableStreamBYOBReader</a>(<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this②②">this</a>, <var>stream</var>)。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="read(view, options)" data-algorithm-for="ReadableStreamBYOBReader">
            <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStreamBYOBReader" data-dfn-type="method" data-export
                data-lt="read(view, options)|read(view)"
                id="byob-reader-read"><code>read(<var>view</var>, <var>options</var>)</code></dfn> 方法步骤如下：
            <ol>
                <li data-md>
                    <p>如果 <var>view</var>.[[ByteLength]] 为 0，返回以 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror①⓪">TypeError</a></code>
                        异常拒绝的 promise。</p>
                <li data-md>
                    <p>如果 <var>view</var>.[[ViewedArrayBuffer]].[[ByteLength]] 为 0，返回以 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror①①">TypeError</a></code>
                        异常拒绝的 promise。</p>
                <li data-md>
                    <p>如果 ! <a data-link-type="abstract-op"
                            href="https://tc39.es/ecma262/multipage/structured-data.html#sec-isdetachedbuffer"
                            id="ref-for-sec-isdetachedbuffer">IsDetachedBuffer</a>(<var>view</var>.[[ViewedArrayBuffer]])
                        为 true，返回以 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror①②">TypeError</a></code>
                        异常拒绝的 promise。</p>
                <li data-md>
                    <p>如果 <var>options</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-readablestreambyobreaderreadoptions-min" id="ref-for-dom-readablestreambyobreaderreadoptions-min③">min</a></code>"]
                        为 0，返回以 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror①③">TypeError</a></code>
                        异常拒绝的 promise。</p>
                <li data-md>
                    <p>如果 <var>view</var> 拥有 [[TypedArrayName]] 内部插槽，</p>
                    <ol>
                        <li data-md>
                            <p>如果 <var>options</var>["<code
                                    class="idl"><a data-link-type="idl" href="#dom-readablestreambyobreaderreadoptions-min" id="ref-for-dom-readablestreambyobreaderreadoptions-min④">min</a></code>"]
                                > <var>view</var>.[[ArrayLength]]，
                                返回以 <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-rangeerror" id="ref-for-exceptiondef-rangeerror①">RangeError</a></code>
                                异常拒绝的 promise。</p>
                    </ol>
                <li data-md>
                    <p>否则（即为 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-dataview-objects" id="ref-for-sec-dataview-objects①">DataView</a></code>），
                    </p>
                    <ol>
                        <li data-md>
                            <p>如果 <var>options</var>["<code
                                    class="idl"><a data-link-type="idl" href="#dom-readablestreambyobreaderreadoptions-min" id="ref-for-dom-readablestreambyobreaderreadoptions-min⑤">min</a></code>"]
                                > <var>view</var>.[[ByteLength]]，
                                返回以 <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-rangeerror" id="ref-for-exceptiondef-rangeerror②">RangeError</a></code>
                                异常拒绝的 promise。</p>
                    </ol>
                <li data-md>
                    <p>如果 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this②③">this</a>.<a data-link-type="dfn"
                            href="#readablestreamgenericreader-stream"
                            id="ref-for-readablestreamgenericreader-stream⑤">[[stream]]</a> 为 undefined，返回以 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror①④">TypeError</a></code>
                        异常拒绝的 promise。</p>
                <li data-md>
                    <p>令 <var>promise</var> 为<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise②">一个新的
                            promise</a>。</p>
                <li data-md>
                    <p>令 <var>readIntoRequest</var> 为一个新的<a data-link-type="dfn" href="#read-into-request"
                            id="ref-for-read-into-request①">read-into 请求</a>，包含以下<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item④">项</a>：</p>
                    <dl>
                        <dt data-md><a data-link-type="dfn" href="#read-into-request-chunk-steps"
                                id="ref-for-read-into-request-chunk-steps">分块步骤</a>，给定 <var>chunk</var>
                        <dd data-md>
                            <ol>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                            id="ref-for-resolve④">解析</a> <var>promise</var>，值为 «[ "<code
                                            class="idl"><a data-link-type="idl" href="#dom-readablestreamreadresult-value" id="ref-for-dom-readablestreamreadresult-value②">value</a></code>"
                                        → <var>chunk</var>,
                                        "<code
                                            class="idl"><a data-link-type="idl" href="#dom-readablestreamreadresult-done" id="ref-for-dom-readablestreamreadresult-done②">done</a></code>"
                                        → false ]»。
                                    </p>
                            </ol>
                        <dt data-md><a data-link-type="dfn" href="#read-into-request-close-steps"
                                id="ref-for-read-into-request-close-steps①">关闭步骤</a>，给定 <var>chunk</var>
                        <dd data-md>
                            <ol>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                            id="ref-for-resolve⑤">解析</a> <var>promise</var>，值为 «[ "<code
                                            class="idl"><a data-link-type="idl" href="#dom-readablestreamreadresult-value" id="ref-for-dom-readablestreamreadresult-value③">value</a></code>"
                                        → <var>chunk</var>,
                                        "<code
                                            class="idl"><a data-link-type="idl" href="#dom-readablestreamreadresult-done" id="ref-for-dom-readablestreamreadresult-done③">done</a></code>"
                                        → true ]»。
                                    </p>
                            </ol>
                        <dt data-md><a data-link-type="dfn" href="#read-into-request-error-steps"
                                id="ref-for-read-into-request-error-steps">错误步骤</a>，给定 <var>e</var>
                        <dd data-md>
                            <ol>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                            id="ref-for-reject②">拒绝</a> <var>promise</var>，理由为 <var>e</var>。</p>
                            </ol>
                    </dl>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#readable-stream-byob-reader-read"
                            id="ref-for-readable-stream-byob-reader-read">ReadableStreamBYOBReaderRead</a>(<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this②④">this</a>, <var>view</var>, <var>options</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-readablestreambyobreaderreadoptions-min" id="ref-for-dom-readablestreambyobreaderreadoptions-min⑥">min</a></code>"],
                        <var>readIntoRequest</var>).
                    </p>
                <li data-md>
                    <p>返回 <var>promise</var>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="releaseLock()" data-algorithm-for="ReadableStreamBYOBReader">
            <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStreamBYOBReader" data-dfn-type="method" data-export
                id="byob-reader-release-lock"><code>releaseLock()</code></dfn> 方法步骤如下：
            <ol>
                <li data-md>
                    <p>如果 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this②⑤">this</a>.<a data-link-type="dfn"
                            href="#readablestreamgenericreader-stream"
                            id="ref-for-readablestreamgenericreader-stream⑥">[[stream]]</a> 为 undefined，则返回。</p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#abstract-opdef-readablestreambyobreaderrelease"
                            id="ref-for-abstract-opdef-readablestreambyobreaderrelease">ReadableStreamBYOBReaderRelease</a>(<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this②⑥">this</a>)。</p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="4.6" id="rs-default-controller-class"><span class="secno">4.6.
            </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#readablestreamdefaultcontroller" id="ref-for-readablestreamdefaultcontroller③">ReadableStreamDefaultController</a></code>
                类</span><a class="self-link" href="#rs-default-controller-class"></a></h3>
        <p><code
                class="idl"><a data-link-type="idl" href="#readablestreamdefaultcontroller" id="ref-for-readablestreamdefaultcontroller④">ReadableStreamDefaultController</a></code>
            类拥有允许控制 <code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream②⑦">ReadableStream</a></code>
            状态和<a data-link-type="dfn" href="#internal-queues" id="ref-for-internal-queues⑦">内部队列</a>的方法。
            当构造一个不是<a data-link-type="dfn" href="#readable-byte-stream" id="ref-for-readable-byte-stream⑥">可读字节流</a>的
            <code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream②⑧">ReadableStream</a></code>
            时，<a data-link-type="dfn" href="#underlying-source" id="ref-for-underlying-source①②">底层源</a>会被赋予一个对应的 <code
                class="idl"><a data-link-type="idl" href="#readablestreamdefaultcontroller" id="ref-for-readablestreamdefaultcontroller⑤">ReadableStreamDefaultController</a></code>
            实例用于操作流。
        </p>
        <h4 class="heading settled" data-level="4.6.1" id="rs-default-controller-class-definition"><span
                class="secno">4.6.1. </span><span class="content">接口定义</span><a class="self-link"
                href="#rs-default-controller-class-definition"></a></h4>
        <p><code
                class="idl"><a data-link-type="idl" href="#readablestreamdefaultcontroller" id="ref-for-readablestreamdefaultcontroller⑥">ReadableStreamDefaultController</a></code>
            类的 Web IDL 定义如下：</p>
        <pre class="idl highlight def">[Exposed=*]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="readablestreamdefaultcontroller"><code><c- g>ReadableStreamDefaultController</c-></code></dfn> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double" id="ref-for-idl-unrestricted-double①"><c- b>unrestricted</c-> <c- b>double</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="unrestricted double?" href="#rs-default-controller-desired-size" id="ref-for-rs-default-controller-desired-size①"><c- g>desiredSize</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined⑧"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#rs-default-controller-close" id="ref-for-rs-default-controller-close"><c- g>close</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined⑨"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#rs-default-controller-enqueue" id="ref-for-rs-default-controller-enqueue"><c- g>enqueue</c-></a>(<c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any⑦"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStreamDefaultController/enqueue(chunk), ReadableStreamDefaultController/enqueue()" data-dfn-type="argument" data-export id="dom-readablestreamdefaultcontroller-enqueue-chunk-chunk"><code><c- g>chunk</c-></code></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①⓪"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#rs-default-controller-error" id="ref-for-rs-default-controller-error"><c- g>error</c-></a>(<c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any⑧"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStreamDefaultController/error(e), ReadableStreamDefaultController/error()" data-dfn-type="argument" data-export id="dom-readablestreamdefaultcontroller-error-e-e"><code><c- g>e</c-></code></dfn>);
};
</pre>
        <h4 class="heading settled" data-level="4.6.2" id="rs-default-controller-internal-slots"><span
                class="secno">4.6.2. </span><span class="content">内部插槽</span><a class="self-link"
                href="#rs-default-controller-internal-slots"></a></h4>
        <p><code
                class="idl"><a data-link-type="idl" href="#readablestreamdefaultcontroller" id="ref-for-readablestreamdefaultcontroller⑦">ReadableStreamDefaultController</a></code>
            的实例拥有下表所描述的内部插槽：</p>
        <table>
            <thead>
                <tr>
                    <th>内部插槽
                    <th>描述（<em>非规范性</em>）
            <tbody>
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="ReadableStreamDefaultController" data-dfn-type="dfn"
                            data-noexport id="readablestreamdefaultcontroller-cancelalgorithm">[[cancelAlgorithm]]</dfn>
                    <td class="non-normative">一个返回 promise 的算法，接收一个参数（取消原因），用于将取消请求传递给<a data-link-type="dfn"
                            href="#underlying-source" id="ref-for-underlying-source①③">底层源</a>
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="ReadableStreamDefaultController" data-dfn-type="dfn"
                            data-noexport id="readablestreamdefaultcontroller-closerequested">[[closeRequested]]</dfn>
                    <td class="non-normative">一个布尔标志，指示流是否已被<a data-link-type="dfn" href="#underlying-source"
                            id="ref-for-underlying-source①④">底层源</a>关闭，但其内部队列中仍有未读取的<a data-link-type="dfn"
                            href="#chunk" id="ref-for-chunk②⑨">块</a>
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="ReadableStreamDefaultController" data-dfn-type="dfn"
                            data-noexport id="readablestreamdefaultcontroller-pullagain">[[pullAgain]]</dfn>
                    <td class="non-normative">一个布尔标志，如果流的机制请求调用<a data-link-type="dfn" href="#underlying-source"
                            id="ref-for-underlying-source①⑤">底层源</a>的 pull 算法拉取更多数据，但由于上一次调用尚未完成，不能立即执行，则设置为 true
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="ReadableStreamDefaultController" data-dfn-type="dfn"
                            data-noexport id="readablestreamdefaultcontroller-pullalgorithm">[[pullAlgorithm]]</dfn>
                    <td class="non-normative">一个返回 promise 的算法，从<a data-link-type="dfn" href="#underlying-source"
                            id="ref-for-underlying-source①⑥">底层源</a>拉取数据
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="ReadableStreamDefaultController" data-dfn-type="dfn"
                            data-noexport id="readablestreamdefaultcontroller-pulling">[[pulling]]</dfn>
                    <td class="non-normative">一个布尔标志，在<a data-link-type="dfn" href="#underlying-source"
                            id="ref-for-underlying-source①⑦">底层源</a>的 pull 算法执行且返回的 promise 尚未完成时为 true，用于防止重入调用
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="ReadableStreamDefaultController" data-dfn-type="dfn"
                            data-noexport id="readablestreamdefaultcontroller-queue">[[queue]]</dfn>
                    <td class="non-normative">一个<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list"
                            id="ref-for-list②">列表</a>，表示流的内部<a data-link-type="dfn" href="#chunk"
                            id="ref-for-chunk③⓪">块</a>队列
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="ReadableStreamDefaultController" data-dfn-type="dfn"
                            data-noexport id="readablestreamdefaultcontroller-queuetotalsize">[[queueTotalSize]]</dfn>
                    <td class="non-normative">存储于<a data-link-type="dfn" href="#readablestreamdefaultcontroller-queue"
                            id="ref-for-readablestreamdefaultcontroller-queue">[[queue]]</a>中的所有块的总大小（见 <a
                            href="#queue-with-sizes">§ 8.1 队列与大小</a>）
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="ReadableStreamDefaultController" data-dfn-type="dfn"
                            data-noexport id="readablestreamdefaultcontroller-started">[[started]]</dfn>
                    <td class="non-normative">一个布尔标志，表示<a data-link-type="dfn" href="#underlying-source"
                            id="ref-for-underlying-source①⑧">底层源</a>是否已完成启动
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="ReadableStreamDefaultController" data-dfn-type="dfn"
                            data-noexport id="readablestreamdefaultcontroller-strategyhwm">[[strategyHWM]]</dfn>
                    <td class="non-normative">构造时作为流<a data-link-type="dfn" href="#queuing-strategy"
                            id="ref-for-queuing-strategy①">排队策略</a>一部分提供的数值，表示应用<a data-link-type="dfn"
                            href="#backpressure" id="ref-for-backpressure⑤">背压</a>于<a data-link-type="dfn"
                            href="#underlying-source" id="ref-for-underlying-source①⑨">底层源</a>的阈值
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="ReadableStreamDefaultController" data-dfn-type="dfn"
                            data-noexport
                            id="readablestreamdefaultcontroller-strategysizealgorithm">[[strategySizeAlgorithm]]</dfn>
                    <td class="non-normative">一个算法，用于计算加入队列的<a data-link-type="dfn" href="#chunk"
                            id="ref-for-chunk③①">块</a>的大小，作为流<a data-link-type="dfn" href="#queuing-strategy"
                            id="ref-for-queuing-strategy②">排队策略</a>的一部分
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="ReadableStreamDefaultController" data-dfn-type="dfn"
                            data-noexport id="readablestreamdefaultcontroller-stream">[[stream]]</dfn>
                    <td class="non-normative">被控制的 <code
                            class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream②⑨">ReadableStream</a></code>
                        实例
        </table>
        <h4 class="heading settled" data-level="4.6.3" id="rs-default-controller-prototype"><span class="secno">4.6.3.
            </span><span class="content">方法与属性</span><a class="self-link" href="#rs-default-controller-prototype"></a>
        </h4>
        <dl class="domintro non-normative">
            <dt><code><var>desiredSize</var> = <var>controller</var>.<code class="idl"><a data-link-type="idl" href="#rs-default-controller-desired-size" id="ref-for-rs-default-controller-desired-size②">desiredSize</a></code></code>
            <dd>
                <p>返回<a data-link-type="dfn" href="#desired-size-to-fill-a-streams-internal-queue"
                        id="ref-for-desired-size-to-fill-a-streams-internal-queue②">填满所控制流的内部队列所需的期望大小</a>。如果队列过满，该值可能为负。<a
                        data-link-type="dfn" href="#underlying-source"
                        id="ref-for-underlying-source②⓪">底层源</a>应利用此信息判断何时以及如何施加<a data-link-type="dfn"
                        href="#backpressure" id="ref-for-backpressure⑥">背压</a>。</p>
            <dt><code><var>controller</var>.<code class="idl"><a data-link-type="idl" href="#rs-default-controller-close" id="ref-for-rs-default-controller-close①">close</a></code>()</code>
            <dd>
                <p>关闭所控制的可读流。<a data-link-type="dfn" href="#consumer" id="ref-for-consumer⑤">消费者</a>仍可读取之前已进入队列的<a
                        data-link-type="dfn" href="#chunk" id="ref-for-chunk③②">块</a>，但全部读取后流将关闭。</p>
            <dt><code><var>controller</var>.<code class="idl"><a data-link-type="idl" href="#rs-default-controller-enqueue" id="ref-for-rs-default-controller-enqueue①">enqueue</a></code>(<var>chunk</var>)</code>
            <dd>
                <p>将给定的<a data-link-type="dfn" href="#chunk" id="ref-for-chunk③③">块</a><var>chunk</var>加入所控制的可读流队列。</p>
            <dt><code><var>controller</var>.<code class="idl"><a data-link-type="idl" href="#rs-default-controller-error" id="ref-for-rs-default-controller-error①">error</a></code>(<var>e</var>)</code>
            <dd>
                <p>使所控制的可读流出错，后续所有操作均会因给定错误<var>e</var>失败。</p>
        </dl>
        <div class="algorithm" data-algorithm="desiredSize" data-algorithm-for="ReadableStreamDefaultController">
            <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStreamDefaultController" data-dfn-type="attribute"
                data-export id="rs-default-controller-desired-size"><code>desiredSize</code></dfn> getter 步骤如下：
            <ol>
                <li data-md>
                    <p>返回 ! <a data-link-type="abstract-op" href="#readable-stream-default-controller-get-desired-size"
                            id="ref-for-readable-stream-default-controller-get-desired-size">ReadableStreamDefaultControllerGetDesiredSize</a>(<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this②⑦">this</a>)。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="close()" data-algorithm-for="ReadableStreamDefaultController">
            <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStreamDefaultController" data-dfn-type="method"
                data-export id="rs-default-controller-close"><code>close()</code></dfn> 方法步骤如下：
            <ol>
                <li data-md>
                    <p>如果 ! <a data-link-type="abstract-op"
                            href="#readable-stream-default-controller-can-close-or-enqueue"
                            id="ref-for-readable-stream-default-controller-can-close-or-enqueue">ReadableStreamDefaultControllerCanCloseOrEnqueue</a>(<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this②⑧">this</a>) 为 false，则抛出 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror①⑤">TypeError</a></code>
                        异常。</p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#readable-stream-default-controller-close"
                            id="ref-for-readable-stream-default-controller-close">ReadableStreamDefaultControllerClose</a>(<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this②⑨">this</a>)。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="enqueue(chunk)" data-algorithm-for="ReadableStreamDefaultController">
            <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStreamDefaultController" data-dfn-type="method"
                data-export data-lt="enqueue(chunk)|enqueue()"
                id="rs-default-controller-enqueue"><code>enqueue(<var>chunk</var>)</code></dfn> 方法步骤如下：
            <ol>
                <li data-md>
                    <p>如果 ! <a data-link-type="abstract-op"
                            href="#readable-stream-default-controller-can-close-or-enqueue"
                            id="ref-for-readable-stream-default-controller-can-close-or-enqueue①">ReadableStreamDefaultControllerCanCloseOrEnqueue</a>(<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this③⓪">this</a>) 为 false，则抛出 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror①⑥">TypeError</a></code>
                        异常。</p>
                <li data-md>
                    <p>执行 ? <a data-link-type="abstract-op" href="#readable-stream-default-controller-enqueue"
                            id="ref-for-readable-stream-default-controller-enqueue">ReadableStreamDefaultControllerEnqueue</a>(<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this③①">this</a>, <var>chunk</var>)。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="error(e)" data-algorithm-for="ReadableStreamDefaultController">
            <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStreamDefaultController" data-dfn-type="method"
                data-export data-lt="error(e)|error()"
                id="rs-default-controller-error"><code>error(<var>e</var>)</code></dfn> 方法步骤如下：
            <ol>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#readable-stream-default-controller-error"
                            id="ref-for-readable-stream-default-controller-error">ReadableStreamDefaultControllerError</a>(<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this③②">this</a>, <var>e</var>)。</p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="4.6.4" id="rs-default-controller-internal-methods"><span
                class="secno">4.6.4. </span><span class="content">内部方法</span><a class="self-link"
                href="#rs-default-controller-internal-methods"></a></h4>
        <p>每个 <code
                class="idl"><a data-link-type="idl" href="#readablestreamdefaultcontroller" id="ref-for-readablestreamdefaultcontroller⑧">ReadableStreamDefaultController</a></code>
            实例实现以下内部方法。
            可读流实现会多态地调用这些方法，或调用 BYOB 控制器的对应方法，详见<a href="#rs-abstract-ops-used-by-controllers">§ 4.9.2 控制器接口抽象操作</a>。
        </p>
        <div class="algorithm" data-algorithm="[[CancelSteps]]" data-algorithm-for="ReadableStreamDefaultController">
            <dfn class="dfn-paneled" data-dfn-for="ReadableStreamDefaultController" data-dfn-type="abstract-op"
                data-export data-lt="[[CancelSteps]]"
                id="rs-default-controller-private-cancel">[[CancelSteps]](<var>reason</var>)</dfn> 实现 <a
                data-link-type="abstract-op" href="#abstract-opdef-readablestreamcontroller-cancelsteps"
                id="ref-for-abstract-opdef-readablestreamcontroller-cancelsteps">[[CancelSteps]]</a> 合约。步骤如下：
            <ol>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#reset-queue"
                            id="ref-for-reset-queue">ResetQueue</a>(<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③③">this</a>)。</p>
                <li data-md>
                    <p>令 <var>result</var> 为执行 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this③④">this</a>.<a data-link-type="dfn"
                            href="#readablestreamdefaultcontroller-cancelalgorithm"
                            id="ref-for-readablestreamdefaultcontroller-cancelalgorithm">[[cancelAlgorithm]]</a>，传入
                        <var>reason</var> 的结果。
                    </p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#readable-stream-default-controller-clear-algorithms"
                            id="ref-for-readable-stream-default-controller-clear-algorithms">ReadableStreamDefaultControllerClearAlgorithms</a>(<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this③⑤">this</a>)。</p>
                <li data-md>
                    <p>返回 <var>result</var>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="[[PullSteps]]" data-algorithm-for="ReadableStreamDefaultController">
            <dfn class="dfn-paneled" data-dfn-for="ReadableStreamDefaultController" data-dfn-type="abstract-op"
                data-export data-lt="[[PullSteps]]"
                id="rs-default-controller-private-pull">[[PullSteps]](<var>readRequest</var>)</dfn> 实现 <a
                data-link-type="abstract-op" href="#abstract-opdef-readablestreamcontroller-pullsteps"
                id="ref-for-abstract-opdef-readablestreamcontroller-pullsteps">[[PullSteps]]</a> 合约。步骤如下：
            <ol>
                <li data-md>
                    <p>令 <var>stream</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this③⑥">this</a>.<a data-link-type="dfn"
                            href="#readablestreamdefaultcontroller-stream"
                            id="ref-for-readablestreamdefaultcontroller-stream">[[stream]]</a>。</p>
                <li data-md>
                    <p>如果 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this③⑦">this</a>.<a data-link-type="dfn"
                            href="#readablestreamdefaultcontroller-queue"
                            id="ref-for-readablestreamdefaultcontroller-queue①">[[queue]]</a> 非<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty①">空</a>，</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>chunk</var> 为 ! <a data-link-type="abstract-op" href="#dequeue-value"
                                    id="ref-for-dequeue-value">DequeueValue</a>(<a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③⑧">this</a>)。</p>
                        <li data-md>
                            <p>如果 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                    id="ref-for-this③⑨">this</a>.<a data-link-type="dfn"
                                    href="#readablestreamdefaultcontroller-closerequested"
                                    id="ref-for-readablestreamdefaultcontroller-closerequested">[[closeRequested]]</a>
                                为 true 且 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                    id="ref-for-this④⓪">this</a>.<a data-link-type="dfn"
                                    href="#readablestreamdefaultcontroller-queue"
                                    id="ref-for-readablestreamdefaultcontroller-queue②">[[queue]]</a> <a
                                    data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty"
                                    id="ref-for-list-is-empty②">为空</a>，</p>
                            <ol>
                                <li data-md>
                                    <p>执行 ! <a data-link-type="abstract-op"
                                            href="#readable-stream-default-controller-clear-algorithms"
                                            id="ref-for-readable-stream-default-controller-clear-algorithms①">ReadableStreamDefaultControllerClearAlgorithms</a>(<a
                                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                            id="ref-for-this④①">this</a>)。</p>
                                <li data-md>
                                    <p>执行 ! <a data-link-type="abstract-op" href="#readable-stream-close"
                                            id="ref-for-readable-stream-close">ReadableStreamClose</a>(<var>stream</var>).
                                    </p>
                            </ol>
                        <li data-md>
                            <p>否则，执行 ! <a data-link-type="abstract-op"
                                    href="#readable-stream-default-controller-call-pull-if-needed"
                                    id="ref-for-readable-stream-default-controller-call-pull-if-needed">ReadableStreamDefaultControllerCallPullIfNeeded</a>(<a
                                    data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                    id="ref-for-this④②">this</a>)。</p>
                        <li data-md>
                            <p>执行 <var>readRequest</var> 的 <a data-link-type="dfn" href="#read-request-chunk-steps"
                                    id="ref-for-read-request-chunk-steps②">chunk steps</a>，传入 <var>chunk</var>。</p>
                    </ol>
                <li data-md>
                    <p>否则，</p>
                    <ol>
                        <li data-md>
                            <p>执行 ! <a data-link-type="abstract-op" href="#readable-stream-add-read-request"
                                    id="ref-for-readable-stream-add-read-request">ReadableStreamAddReadRequest</a>(<var>stream</var>,
                                <var>readRequest</var>)。
                            </p>
                        <li data-md>
                            <p>执行 ! <a data-link-type="abstract-op"
                                    href="#readable-stream-default-controller-call-pull-if-needed"
                                    id="ref-for-readable-stream-default-controller-call-pull-if-needed①">ReadableStreamDefaultControllerCallPullIfNeeded</a>(<a
                                    data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                    id="ref-for-this④③">this</a>)。</p>
                    </ol>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="[[ReleaseSteps]]" data-algorithm-for="ReadableStreamDefaultController">
            <dfn class="dfn-paneled" data-dfn-for="ReadableStreamDefaultController" data-dfn-type="abstract-op"
                data-export data-lt="[[ReleaseSteps]]"
                id="abstract-opdef-readablestreamdefaultcontroller-releasesteps">[[ReleaseSteps]]()</dfn> 实现 <a
                data-link-type="abstract-op" href="#abstract-opdef-readablestreamcontroller-releasesteps"
                id="ref-for-abstract-opdef-readablestreamcontroller-releasesteps">[[ReleaseSteps]]</a> 合约。步骤如下：
            <ol>
                <li data-md>
                    <p>返回。</p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="4.7" id="rbs-controller-class"><span class="secno">4.7. </span><span
                class="content"><code
                    class="idl"><a data-link-type="idl" href="#readablebytestreamcontroller" id="ref-for-readablebytestreamcontroller③">ReadableByteStreamController</a></code>
                类</span><a class="self-link" href="#rbs-controller-class"></a></h3>
        <p><code
                class="idl"><a data-link-type="idl" href="#readablebytestreamcontroller" id="ref-for-readablebytestreamcontroller④">ReadableByteStreamController</a></code>
            类拥有允许控制 <code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream③⓪">ReadableStream</a></code>
            状态和<a data-link-type="dfn" href="#internal-queues" id="ref-for-internal-queues⑧">内部队列</a>的方法。
            当构造一个<a data-link-type="dfn" href="#readable-byte-stream" id="ref-for-readable-byte-stream⑦">可读字节流</a>的
            <code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream③①">ReadableStream</a></code>
            时，<a data-link-type="dfn" href="#underlying-source" id="ref-for-underlying-source②①">底层源</a>会被赋予一个对应的 <code
                class="idl"><a data-link-type="idl" href="#readablebytestreamcontroller" id="ref-for-readablebytestreamcontroller⑤">ReadableByteStreamController</a></code>
            实例用于操作流。
        </p>
        <h4 class="heading settled" data-level="4.7.1" id="rbs-controller-class-definition"><span class="secno">4.7.1.
            </span><span class="content">接口定义</span><a class="self-link" href="#rbs-controller-class-definition"></a>
        </h4>
        <p><code
                class="idl"><a data-link-type="idl" href="#readablebytestreamcontroller" id="ref-for-readablebytestreamcontroller⑥">ReadableByteStreamController</a></code>
            类的 Web IDL 定义如下：</p>
        <pre class="idl highlight def">[Exposed=*]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="readablebytestreamcontroller"><code><c- g>ReadableByteStreamController</c-></code></dfn> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#readablestreambyobrequest" id="ref-for-readablestreambyobrequest"><c- n>ReadableStreamBYOBRequest</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="ReadableStreamBYOBRequest?" href="#rbs-controller-byob-request" id="ref-for-rbs-controller-byob-request①"><c- g>byobRequest</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double" id="ref-for-idl-unrestricted-double②"><c- b>unrestricted</c-> <c- b>double</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="unrestricted double?" href="#rbs-controller-desired-size" id="ref-for-rbs-controller-desired-size①"><c- g>desiredSize</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①①"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#rbs-controller-close" id="ref-for-rbs-controller-close"><c- g>close</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①②"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#rbs-controller-enqueue" id="ref-for-rbs-controller-enqueue"><c- g>enqueue</c-></a>(<a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#ArrayBufferView" id="ref-for-ArrayBufferView①"><c- n>ArrayBufferView</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableByteStreamController/enqueue(chunk)" data-dfn-type="argument" data-export id="dom-readablebytestreamcontroller-enqueue-chunk-chunk"><code><c- g>chunk</c-></code></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①③"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#rbs-controller-error" id="ref-for-rbs-controller-error"><c- g>error</c-></a>(<c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any⑨"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableByteStreamController/error(e), ReadableByteStreamController/error()" data-dfn-type="argument" data-export id="dom-readablebytestreamcontroller-error-e-e"><code><c- g>e</c-></code></dfn>);
};
</pre>
        <h4 class="heading settled" data-level="4.7.2" id="rbs-controller-internal-slots"><span class="secno">4.7.2.
            </span><span class="content">内部插槽</span><a class="self-link" href="#rbs-controller-internal-slots"></a></h4>
        <p><code
                class="idl"><a data-link-type="idl" href="#readablebytestreamcontroller" id="ref-for-readablebytestreamcontroller⑦">ReadableByteStreamController</a></code>
            的实例拥有下表所描述的内部插槽：</p>
        <table>
            <thead>
                <tr>
                    <th>内部插槽
                    <th>描述（<em>非规范性</em>）
            <tbody>
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="ReadableByteStreamController" data-dfn-type="dfn"
                            data-noexport
                            id="readablebytestreamcontroller-autoallocatechunksize">[[autoAllocateChunkSize]]</dfn>
                    <td class="non-normative">一个正整数，当启用自动 buffer 分配特性时存在。在这种情况下，该值指定要分配的 buffer 大小。否则为 undefined。
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="ReadableByteStreamController" data-dfn-type="dfn"
                            data-noexport id="readablebytestreamcontroller-byobrequest">[[byobRequest]]</dfn>
                    <td class="non-normative">一个 <code
                            class="idl"><a data-link-type="idl" href="#readablestreambyobrequest" id="ref-for-readablestreambyobrequest①">ReadableStreamBYOBRequest</a></code>
                        实例，表示当前 BYOB 读取请求，如果没有待处理请求则为 null
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="ReadableByteStreamController" data-dfn-type="dfn"
                            data-noexport id="readablebytestreamcontroller-cancelalgorithm">[[cancelAlgorithm]]</dfn>
                    <td class="non-normative">一个返回 promise 的算法，接收一个参数（取消原因），用于将取消请求传递给<a data-link-type="dfn"
                            href="#underlying-byte-source" id="ref-for-underlying-byte-source">底层字节源</a>
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="ReadableByteStreamController" data-dfn-type="dfn"
                            data-noexport id="readablebytestreamcontroller-closerequested">[[closeRequested]]</dfn>
                    <td class="non-normative">一个布尔标志，指示流是否已被<a data-link-type="dfn" href="#underlying-byte-source"
                            id="ref-for-underlying-byte-source①">底层字节源</a>关闭，但其内部队列中仍有未读取的<a data-link-type="dfn"
                            href="#chunk" id="ref-for-chunk③④">块</a>
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="ReadableByteStreamController" data-dfn-type="dfn"
                            data-noexport id="readablebytestreamcontroller-pullagain">[[pullAgain]]</dfn>
                    <td class="non-normative">一个布尔标志，如果流的机制请求调用<a data-link-type="dfn" href="#underlying-byte-source"
                            id="ref-for-underlying-byte-source②">底层字节源</a>的 pull 算法拉取更多数据，但由于上一次调用尚未完成，不能立即执行，则设置为 true
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="ReadableByteStreamController" data-dfn-type="dfn"
                            data-noexport id="readablebytestreamcontroller-pullalgorithm">[[pullAlgorithm]]</dfn>
                    <td class="non-normative">一个返回 promise 的算法，从<a data-link-type="dfn" href="#underlying-byte-source"
                            id="ref-for-underlying-byte-source③">底层字节源</a>拉取数据
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="ReadableByteStreamController" data-dfn-type="dfn"
                            data-noexport id="readablebytestreamcontroller-pulling">[[pulling]]</dfn>
                    <td class="non-normative">一个布尔标志，在<a data-link-type="dfn" href="#underlying-byte-source"
                            id="ref-for-underlying-byte-source④">底层字节源</a>的 pull 算法执行且返回的 promise 尚未完成时为 true，用于防止重入调用
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="ReadableByteStreamController" data-dfn-type="dfn"
                            data-noexport id="readablebytestreamcontroller-pendingpullintos">[[pendingPullIntos]]</dfn>
                    <td class="non-normative">一个<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list"
                            id="ref-for-list③">列表</a>，包含<a data-link-type="dfn" href="#pull-into-descriptor"
                            id="ref-for-pull-into-descriptor">pull-into 描述符</a>
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="ReadableByteStreamController" data-dfn-type="dfn"
                            data-noexport id="readablebytestreamcontroller-queue">[[queue]]</dfn>
                    <td class="non-normative">一个<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list"
                            id="ref-for-list④">列表</a>，包含<a data-link-type="dfn" href="#readable-byte-stream-queue-entry"
                            id="ref-for-readable-byte-stream-queue-entry">可读字节流队列项</a>，表示流的内部<a data-link-type="dfn"
                            href="#chunk" id="ref-for-chunk③⑤">块</a>队列
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="ReadableByteStreamController" data-dfn-type="dfn"
                            data-noexport id="readablebytestreamcontroller-queuetotalsize">[[queueTotalSize]]</dfn>
                    <td class="non-normative">以字节为单位，存储于<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-queue"
                            id="ref-for-readablebytestreamcontroller-queue">[[queue]]</a>中的所有块的总大小（见 <a
                            href="#queue-with-sizes">§ 8.1 队列与大小</a>）
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="ReadableByteStreamController" data-dfn-type="dfn"
                            data-noexport id="readablebytestreamcontroller-started">[[started]]</dfn>
                    <td class="non-normative">一个布尔标志，表示<a data-link-type="dfn" href="#underlying-byte-source"
                            id="ref-for-underlying-byte-source⑤">底层字节源</a>是否已完成启动
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="ReadableByteStreamController" data-dfn-type="dfn"
                            data-noexport id="readablebytestreamcontroller-strategyhwm">[[strategyHWM]]</dfn>
                    <td class="non-normative">构造时作为流<a data-link-type="dfn" href="#queuing-strategy"
                            id="ref-for-queuing-strategy③">排队策略</a>一部分提供的数值，表示应用<a data-link-type="dfn"
                            href="#backpressure" id="ref-for-backpressure⑦">背压</a>于<a data-link-type="dfn"
                            href="#underlying-byte-source" id="ref-for-underlying-byte-source⑥">底层字节源</a>的阈值
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="ReadableByteStreamController" data-dfn-type="dfn"
                            data-noexport id="readablebytestreamcontroller-stream">[[stream]]</dfn>
                    <td class="non-normative">被控制的 <code
                            class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream③②">ReadableStream</a></code>
                        实例
        </table>
        <div class="note" role="note">
            <p>虽然 <code
                    class="idl"><a data-link-type="idl" href="#readablebytestreamcontroller" id="ref-for-readablebytestreamcontroller⑧">ReadableByteStreamController</a></code>
                实例有 <a data-link-type="dfn" href="#readablebytestreamcontroller-queue"
                    id="ref-for-readablebytestreamcontroller-queue①">[[queue]]</a> 和 <a data-link-type="dfn"
                    href="#readablebytestreamcontroller-queuetotalsize"
                    id="ref-for-readablebytestreamcontroller-queuetotalsize">[[queueTotalSize]]</a> 插槽，但我们并不会对它们使用 <a
                    href="#queue-with-sizes">§ 8.1 队列与大小</a> 中的大多数抽象操作，因为规范中对该队列的操作与其他类型有较大不同。我们会手动同步更新这两个插槽。</p>
            <p>这部分可能会在后续规范重构中得到优化。</p>
        </div>
        <p><a class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="readable-byte-stream-queue-entry">可读字节流队列项</a>是一个<a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct②">结构体</a>，用于封装<a data-link-type="dfn"
                href="#readable-byte-stream" id="ref-for-readable-byte-stream⑧">可读字节流</a>中特有的<a data-link-type="dfn"
                href="#chunk" id="ref-for-chunk③⑥">块</a>重要信息。它包含如下<a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item⑤">项</a>：</p>
        <dl>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="readable byte stream queue entry" data-dfn-type="dfn"
                    data-noexport id="readable-byte-stream-queue-entry-buffer">buffer</dfn>
            <dd data-md>
                <p>一个 <code
                        class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-arraybuffer-objects" id="ref-for-sec-arraybuffer-objects③">ArrayBuffer</a></code>，为<a
                        href="#transfer-array-buffer" id="ref-for-transfer-array-buffer⑥">转移</a>自底层字节源最初提供的 buffer。</p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="readable byte stream queue entry" data-dfn-type="dfn"
                    data-noexport id="readable-byte-stream-queue-entry-byte-offset">byte offset</dfn>
            <dd data-md>
                <p>一个非负整数，表示来自底层字节源视图的字节偏移量。</p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="readable byte stream queue entry" data-dfn-type="dfn"
                    data-noexport id="readable-byte-stream-queue-entry-byte-length">byte length</dfn>
            <dd data-md>
                <p>一个非负整数，表示来自底层字节源视图的字节长度。</p>
        </dl>
        <p><a class="dfn-paneled" data-dfn-type="dfn" data-noexport id="pull-into-descriptor">pull-into 描述符</a>是一个<a
                data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct③">结构体</a>，用于表示待处理的
            BYOB 拉取请求。其包含如下<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item"
                id="ref-for-struct-item⑥">项</a>：</p>
        <dl>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="pull-into descriptor" data-dfn-type="dfn" data-noexport
                    id="pull-into-descriptor-buffer">buffer</dfn>
            <dd data-md>
                <p>一个 <code
                        class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-arraybuffer-objects" id="ref-for-sec-arraybuffer-objects④">ArrayBuffer</a></code>
                </p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="pull-into descriptor" data-dfn-type="dfn" data-noexport
                    id="pull-into-descriptor-buffer-byte-length">buffer byte length</dfn>
            <dd data-md>
                <p>一个正整数，表示 <a data-link-type="dfn" href="#pull-into-descriptor-buffer"
                        id="ref-for-pull-into-descriptor-buffer">buffer</a> 的初始字节长度</p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="pull-into descriptor" data-dfn-type="dfn" data-noexport
                    id="pull-into-descriptor-byte-offset">byte offset</dfn>
            <dd data-md>
                <p>一个非负整数，表示 <a data-link-type="dfn" href="#pull-into-descriptor-buffer"
                        id="ref-for-pull-into-descriptor-buffer①">buffer</a> 中，底层字节源将开始写入的字节偏移量</p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="pull-into descriptor" data-dfn-type="dfn" data-noexport
                    id="pull-into-descriptor-byte-length">byte length</dfn>
            <dd data-md>
                <p>一个正整数，表示可以写入 <a data-link-type="dfn" href="#pull-into-descriptor-buffer"
                        id="ref-for-pull-into-descriptor-buffer②">buffer</a> 的字节数</p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="pull-into descriptor" data-dfn-type="dfn" data-noexport
                    id="pull-into-descriptor-bytes-filled">bytes filled</dfn>
            <dd data-md>
                <p>一个非负整数，表示当前已写入 <a data-link-type="dfn" href="#pull-into-descriptor-buffer"
                        id="ref-for-pull-into-descriptor-buffer③">buffer</a> 的字节数</p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="pull-into descriptor" data-dfn-type="dfn" data-noexport
                    id="pull-into-descriptor-minimum-fill">minimum fill</dfn>
            <dd data-md>
                <p>一个正整数，表示在满足相关 <code
                        class="idl"><a data-link-type="idl" href="#byob-reader-read" id="ref-for-byob-reader-read⑦">read()</a></code>
                    请求前，必须写入 <a data-link-type="dfn" href="#pull-into-descriptor-buffer"
                        id="ref-for-pull-into-descriptor-buffer④">buffer</a> 的最小字节数。默认等于 <a data-link-type="dfn"
                        href="#pull-into-descriptor-element-size"
                        id="ref-for-pull-into-descriptor-element-size">元素大小</a>。</p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="pull-into descriptor" data-dfn-type="dfn" data-noexport
                    id="pull-into-descriptor-element-size">element size</dfn>
            <dd data-md>
                <p>一个正整数，表示每次可写入 <a data-link-type="dfn" href="#pull-into-descriptor-buffer"
                        id="ref-for-pull-into-descriptor-buffer⑤">buffer</a> 的字节数，根据 <a data-link-type="dfn"
                        href="#pull-into-descriptor-view-constructor"
                        id="ref-for-pull-into-descriptor-view-constructor">视图构造器</a> 类型确定</p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="pull-into descriptor" data-dfn-type="dfn" data-noexport
                    id="pull-into-descriptor-view-constructor">view constructor</dfn>
            <dd data-md>
                <p>一个<a data-link-type="dfn" href="https://tc39.es/ecma262/#table-49" id="ref-for-table-49">typed array
                        构造器</a>或 <code
                        class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/structured-data.html#sec-dataview-constructor" id="ref-for-sec-dataview-constructor">%DataView%</a></code>，用于构造写入
                    <a data-link-type="dfn" href="#pull-into-descriptor-buffer"
                        id="ref-for-pull-into-descriptor-buffer⑥">buffer</a> 的视图
                </p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="pull-into descriptor" data-dfn-type="dfn" data-noexport
                    id="pull-into-descriptor-reader-type">reader type</dfn>
            <dd data-md>
                <p>“<code>default</code>” 或 “<code>byob</code>”，表示发起本次请求的<a data-link-type="dfn" href="#reader"
                        id="ref-for-reader③">可读流 reader</a>类型，如果发起方<a data-link-type="dfn" href="#reader"
                        id="ref-for-reader④">reader</a>已<a data-link-type="dfn" href="#release-a-lock"
                        id="ref-for-release-a-lock⑤">释放</a>，则为 “<code>none</code>”。</p>
        </dl>
        <h4 class="heading settled" data-level="4.7.3" id="rbs-controller-prototype"><span class="secno">4.7.3.
            </span><span class="content">方法与属性</span><a class="self-link" href="#rbs-controller-prototype"></a></h4>
        <dl class="domintro non-normative">
            <dt><code><var>byobRequest</var> = <var>controller</var>.<code class="idl"><a data-link-type="idl" href="#rbs-controller-byob-request" id="ref-for-rbs-controller-byob-request②">byobRequest</a></code></code>
            <dd>
                <p>返回当前的 BYOB 拉取请求，如果没有则为 null。</p>
            <dt><code><var>desiredSize</var> = <var>controller</var>.<code class="idl"><a data-link-type="idl" href="#rbs-controller-desired-size" id="ref-for-rbs-controller-desired-size②">desiredSize</a></code></code>
            <dd>
                <p>返回<a data-link-type="dfn" href="#desired-size-to-fill-a-streams-internal-queue"
                        id="ref-for-desired-size-to-fill-a-streams-internal-queue③">填满所控制流的内部队列所需的期望大小</a>。如果队列过满，该值可能为负。<a
                        data-link-type="dfn" href="#underlying-byte-source"
                        id="ref-for-underlying-byte-source①①">底层字节源</a>应利用此信息判断何时以及如何施加<a data-link-type="dfn"
                        href="#backpressure" id="ref-for-backpressure⑧">背压</a>。</p>
            <dt><code><var>controller</var>.<code class="idl"><a data-link-type="idl" href="#rbs-controller-close" id="ref-for-rbs-controller-close①">close</a></code>()</code>
            <dd>
                <p>关闭所控制的可读流。<a data-link-type="dfn" href="#consumer" id="ref-for-consumer⑥">消费者</a>仍可读取之前已进入队列的<a
                        data-link-type="dfn" href="#chunk" id="ref-for-chunk③⑦">块</a>，但全部读取后流将关闭。</p>
            <dt><code><var>controller</var>.<code class="idl"><a data-link-type="idl" href="#rbs-controller-enqueue" id="ref-for-rbs-controller-enqueue①">enqueue</a></code>(<var>chunk</var>)</code>
            <dd>
                <p>将给定的<a data-link-type="dfn" href="#chunk" id="ref-for-chunk③⑧">块</a><var>chunk</var>加入所控制的可读流队列。
                    <var>chunk</var> 必须是 <code
                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#ArrayBufferView" id="ref-for-ArrayBufferView②">ArrayBufferView</a></code>
                    实例，否则会抛出 <code
                        class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror①⑦">TypeError</a></code>。
                </p>
            <dt><code><var>controller</var>.<code class="idl"><a data-link-type="idl" href="#rbs-controller-error" id="ref-for-rbs-controller-error①">error</a></code>(<var>e</var>)</code>
            <dd>
                <p>使所控制的可读流出错，后续所有操作均会因给定错误<var>e</var>失败。</p>
        </dl>
        <div class="algorithm" data-algorithm="byobRequest" data-algorithm-for="ReadableByteStreamController">
            <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableByteStreamController" data-dfn-type="attribute"
                data-export id="rbs-controller-byob-request"><code>byobRequest</code></dfn> getter 步骤如下：
            <ol>
                <li data-md>
                    <p>返回 ! <a data-link-type="abstract-op"
                            href="#abstract-opdef-readablebytestreamcontrollergetbyobrequest"
                            id="ref-for-abstract-opdef-readablebytestreamcontrollergetbyobrequest">ReadableByteStreamControllerGetBYOBRequest</a>(<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this④④">this</a>)。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="desiredSize" data-algorithm-for="ReadableByteStreamController">
            <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableByteStreamController" data-dfn-type="attribute"
                data-export id="rbs-controller-desired-size"><code>desiredSize</code></dfn> getter 步骤如下：
            <ol>
                <li data-md>
                    <p>返回 ! <a data-link-type="abstract-op" href="#readable-byte-stream-controller-get-desired-size"
                            id="ref-for-readable-byte-stream-controller-get-desired-size">ReadableByteStreamControllerGetDesiredSize</a>(<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this④⑤">this</a>)。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="close()" data-algorithm-for="ReadableByteStreamController">
            <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableByteStreamController" data-dfn-type="method"
                data-export id="rbs-controller-close"><code>close()</code></dfn> 方法步骤如下：
            <ol>
                <li data-md>
                    <p>如果 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this④⑥">this</a>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-closerequested"
                            id="ref-for-readablebytestreamcontroller-closerequested">[[closeRequested]]</a> 为 true，
                        抛出 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror①⑧">TypeError</a></code>
                        异常。</p>
                <li data-md>
                    <p>如果 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this④⑦">this</a>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-stream"
                            id="ref-for-readablebytestreamcontroller-stream">[[stream]]</a>.<a data-link-type="dfn"
                            href="#readablestream-state" id="ref-for-readablestream-state">[[state]]</a> 不为
                        "<code>readable</code>"，抛出 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror①⑨">TypeError</a></code>
                        异常。</p>
                <li data-md>
                    <p>执行 ? <a data-link-type="abstract-op" href="#readable-byte-stream-controller-close"
                            id="ref-for-readable-byte-stream-controller-close">ReadableByteStreamControllerClose</a>(<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this④⑧">this</a>)。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="enqueue(chunk)" data-algorithm-for="ReadableByteStreamController">
            <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableByteStreamController" data-dfn-type="method"
                data-export id="rbs-controller-enqueue"><code>enqueue(<var>chunk</var>)</code></dfn> 方法步骤如下：
            <ol>
                <li data-md>
                    <p>如果 <var>chunk</var>.[[ByteLength]] 为 0，抛出 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror②⓪">TypeError</a></code>
                        异常。</p>
                <li data-md>
                    <p>如果 <var>chunk</var>.[[ViewedArrayBuffer]].[[ByteLength]] 为 0，抛出 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror②①">TypeError</a></code>
                        异常。</p>
                <li data-md>
                    <p>如果 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this④⑨">this</a>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-closerequested"
                            id="ref-for-readablebytestreamcontroller-closerequested①">[[closeRequested]]</a> 为 true，
                        抛出 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror②②">TypeError</a></code>
                        异常。</p>
                <li data-md>
                    <p>如果 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑤⓪">this</a>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-stream"
                            id="ref-for-readablebytestreamcontroller-stream①">[[stream]]</a>.<a data-link-type="dfn"
                            href="#readablestream-state" id="ref-for-readablestream-state①">[[state]]</a> 不为
                        "<code>readable</code>"，抛出 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror②③">TypeError</a></code>
                        异常。</p>
                <li data-md>
                    <p>返回 ? <a data-link-type="abstract-op" href="#readable-byte-stream-controller-enqueue"
                            id="ref-for-readable-byte-stream-controller-enqueue">ReadableByteStreamControllerEnqueue</a>(<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑤①">this</a>, <var>chunk</var>)。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="error(e)" data-algorithm-for="ReadableByteStreamController">
            <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableByteStreamController" data-dfn-type="method"
                data-export data-lt="error(e)|error()" id="rbs-controller-error"><code>error(<var>e</var>)</code></dfn>
            方法步骤如下：
            <ol>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#readable-byte-stream-controller-error"
                            id="ref-for-readable-byte-stream-controller-error">ReadableByteStreamControllerError</a>(<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑤②">this</a>, <var>e</var>)。</p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="4.7.4" id="rbs-controller-internal-methods"><span class="secno">4.7.4.
            </span><span class="content">内部方法</span><a class="self-link" href="#rbs-controller-internal-methods"></a>
        </h4>
        <p>每个 <code
                class="idl"><a data-link-type="idl" href="#readablebytestreamcontroller" id="ref-for-readablebytestreamcontroller⑨">ReadableByteStreamController</a></code>
            实例实现以下内部方法。
            可读流实现会多态地调用这些方法，或调用默认控制器的对应方法，详见<a href="#rs-abstract-ops-used-by-controllers">§ 4.9.2 控制器接口抽象操作</a>。</p>
        <div class="algorithm" data-algorithm="[[CancelSteps]]" data-algorithm-for="ReadableByteStreamController">
            <dfn class="dfn-paneled" data-dfn-for="ReadableByteStreamController" data-dfn-type="abstract-op" data-export
                data-lt="[[CancelSteps]]" id="rbs-controller-private-cancel">[[CancelSteps]](<var>reason</var>)</dfn>
            实现 <a data-link-type="abstract-op" href="#abstract-opdef-readablestreamcontroller-cancelsteps"
                id="ref-for-abstract-opdef-readablestreamcontroller-cancelsteps①">[[CancelSteps]]</a> 合约。步骤如下：
            <ol>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op"
                            href="#readable-byte-stream-controller-clear-pending-pull-intos"
                            id="ref-for-readable-byte-stream-controller-clear-pending-pull-intos">ReadableByteStreamControllerClearPendingPullIntos</a>(<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑤③">this</a>)。</p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#reset-queue"
                            id="ref-for-reset-queue①">ResetQueue</a>(<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤④">this</a>)。</p>
                <li data-md>
                    <p>令 <var>result</var> 为执行 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑤⑤">this</a>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-cancelalgorithm"
                            id="ref-for-readablebytestreamcontroller-cancelalgorithm">[[cancelAlgorithm]]</a>，传入
                        <var>reason</var> 的结果。
                    </p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#readable-byte-stream-controller-clear-algorithms"
                            id="ref-for-readable-byte-stream-controller-clear-algorithms">ReadableByteStreamControllerClearAlgorithms</a>(<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑤⑥">this</a>)。</p>
                <li data-md>
                    <p>返回 <var>result</var>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="[[PullSteps]]" data-algorithm-for="ReadableByteStreamController">
            <dfn class="dfn-paneled" data-dfn-for="ReadableByteStreamController" data-dfn-type="abstract-op" data-export
                data-lt="[[PullSteps]]" id="rbs-controller-private-pull">[[PullSteps]](<var>readRequest</var>)</dfn>
            实现 <a data-link-type="abstract-op" href="#abstract-opdef-readablestreamcontroller-pullsteps"
                id="ref-for-abstract-opdef-readablestreamcontroller-pullsteps①">[[PullSteps]]</a> 合约。步骤如下：
            <ol>
                <li data-md>
                    <p>令 <var>stream</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑤⑦">this</a>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-stream"
                            id="ref-for-readablebytestreamcontroller-stream②">[[stream]]</a>。</p>
                <li data-md>
                    <p class="assertion">断言：! <a data-link-type="abstract-op" href="#readable-stream-has-default-reader"
                            id="ref-for-readable-stream-has-default-reader">ReadableStreamHasDefaultReader</a>(<var>stream</var>)
                        为 true。</p>
                <li data-md>
                    <p>如果 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑤⑧">this</a>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-queuetotalsize"
                            id="ref-for-readablebytestreamcontroller-queuetotalsize①">[[queueTotalSize]]</a> > 0，</p>
                    <ol>
                        <li data-md>
                            <p class="assertion">断言：! <a data-link-type="abstract-op"
                                    href="#readable-stream-get-num-read-requests"
                                    id="ref-for-readable-stream-get-num-read-requests">ReadableStreamGetNumReadRequests</a>(<var>stream</var>)
                                为 0。</p>
                        <li data-md>
                            <p>执行 ! <a data-link-type="abstract-op"
                                    href="#abstract-opdef-readablebytestreamcontrollerfillreadrequestfromqueue"
                                    id="ref-for-abstract-opdef-readablebytestreamcontrollerfillreadrequestfromqueue">ReadableByteStreamControllerFillReadRequestFromQueue</a>(<a
                                    data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                    id="ref-for-this⑤⑨">this</a>, <var>readRequest</var>)。</p>
                        <li data-md>
                            <p>返回。</p>
                    </ol>
                <li data-md>
                    <p>令 <var>autoAllocateChunkSize</var> 为 <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑥⓪">this</a>.<a
                            data-link-type="dfn" href="#readablebytestreamcontroller-autoallocatechunksize"
                            id="ref-for-readablebytestreamcontroller-autoallocatechunksize">[[autoAllocateChunkSize]]</a>。
                    </p>
                <li data-md>
                    <p>如果 <var>autoAllocateChunkSize</var> 不为 undefined，</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>buffer</var> 为 <a data-link-type="abstract-op"
                                    href="https://tc39.es/ecma262/multipage/abstract-operations.html#sec-construct"
                                    id="ref-for-sec-construct">Construct</a>(<code
                                    class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/structured-data.html#sec-arraybuffer-constructor" id="ref-for-sec-arraybuffer-constructor">%ArrayBuffer%</a></code>,
                                « <var>autoAllocateChunkSize</var> »)。</p>
                        <li data-md>
                            <p>如果 <var>buffer</var> 是异常完成，</p>
                            <ol>
                                <li data-md>
                                    <p>执行 <var>readRequest</var> 的 <a data-link-type="dfn"
                                            href="#read-request-error-steps"
                                            id="ref-for-read-request-error-steps②">error steps</a>，参数为
                                        <var>buffer</var>.[[Value]]。
                                    </p>
                                <li data-md>
                                    <p>返回。</p>
                            </ol>
                        <li data-md>
                            <p>令 <var>pullIntoDescriptor</var> 为一个新的<a data-link-type="dfn" href="#pull-into-descriptor"
                                    id="ref-for-pull-into-descriptor①">pull-into
                                    描述符</a>，内容为</p>
                            <dl class="props">
                                <dt><a data-link-type="dfn" href="#pull-into-descriptor-buffer"
                                        id="ref-for-pull-into-descriptor-buffer⑦">buffer</a>
                                <dd><var>buffer</var>.[[Value]]
                                <dt><a data-link-type="dfn" href="#pull-into-descriptor-buffer-byte-length"
                                        id="ref-for-pull-into-descriptor-buffer-byte-length">buffer byte length</a>
                                <dd><var>autoAllocateChunkSize</var>
                                <dt><a data-link-type="dfn" href="#pull-into-descriptor-byte-offset"
                                        id="ref-for-pull-into-descriptor-byte-offset">byte offset</a>
                                <dd>0
                                <dt><a data-link-type="dfn" href="#pull-into-descriptor-byte-length"
                                        id="ref-for-pull-into-descriptor-byte-length">byte length</a>
                                <dd><var>autoAllocateChunkSize</var>
                                <dt><a data-link-type="dfn" href="#pull-into-descriptor-bytes-filled"
                                        id="ref-for-pull-into-descriptor-bytes-filled">bytes filled</a>
                                <dd>0
                                <dt><a data-link-type="dfn" href="#pull-into-descriptor-minimum-fill"
                                        id="ref-for-pull-into-descriptor-minimum-fill">minimum fill</a>
                                <dd>1
                                <dt><a data-link-type="dfn" href="#pull-into-descriptor-element-size"
                                        id="ref-for-pull-into-descriptor-element-size①">element size</a>
                                <dd>1
                                <dt><a data-link-type="dfn" href="#pull-into-descriptor-view-constructor"
                                        id="ref-for-pull-into-descriptor-view-constructor①">view constructor</a>
                                <dd><code
                                        class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/indexed-collections.html#sec-typedarray-objects" id="ref-for-sec-typedarray-objects②">%Uint8Array%</a></code>
                                <dt><a data-link-type="dfn" href="#pull-into-descriptor-reader-type"
                                        id="ref-for-pull-into-descriptor-reader-type">reader type</a>
                                <dd>"<code>default</code>"
                            </dl>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                                    id="ref-for-list-append">将</a> <var>pullIntoDescriptor</var> 添加到 <a
                                    data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                    id="ref-for-this⑥①">this</a>.<a data-link-type="dfn"
                                    href="#readablebytestreamcontroller-pendingpullintos"
                                    id="ref-for-readablebytestreamcontroller-pendingpullintos">[[pendingPullIntos]]</a>。
                            </p>
                    </ol>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#readable-stream-add-read-request"
                            id="ref-for-readable-stream-add-read-request①">ReadableStreamAddReadRequest</a>(<var>stream</var>,
                        <var>readRequest</var>)。
                    </p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#readable-byte-stream-controller-call-pull-if-needed"
                            id="ref-for-readable-byte-stream-controller-call-pull-if-needed">ReadableByteStreamControllerCallPullIfNeeded</a>(<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑥②">this</a>)。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="[[ReleaseSteps]]" data-algorithm-for="ReadableByteStreamController">
            <dfn class="dfn-paneled" data-dfn-for="ReadableByteStreamController" data-dfn-type="abstract-op" data-export
                data-lt="[[ReleaseSteps]]"
                id="abstract-opdef-readablebytestreamcontroller-releasesteps">[[ReleaseSteps]]()</dfn> 实现 <a
                data-link-type="abstract-op" href="#abstract-opdef-readablestreamcontroller-releasesteps"
                id="ref-for-abstract-opdef-readablestreamcontroller-releasesteps①">[[ReleaseSteps]]</a> 合约。步骤如下：
            <ol>
                <li data-md>
                    <p>如果 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑥③">this</a>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-pendingpullintos"
                            id="ref-for-readablebytestreamcontroller-pendingpullintos①">[[pendingPullIntos]]</a> 非
                        <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty"
                            id="ref-for-list-is-empty③">空</a>，
                    </p>
                    <ol>
                        <li data-md>
                            <p>令 <var>firstPendingPullInto</var> 为 <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑥④">this</a>.<a
                                    data-link-type="dfn" href="#readablebytestreamcontroller-pendingpullintos"
                                    id="ref-for-readablebytestreamcontroller-pendingpullintos②">[[pendingPullIntos]]</a>[0]。
                            </p>
                        <li data-md>
                            <p>将 <var>firstPendingPullInto</var> 的 <a data-link-type="dfn"
                                    href="#pull-into-descriptor-reader-type"
                                    id="ref-for-pull-into-descriptor-reader-type①">reader type</a> 设为
                                "<code>none</code>"。</p>
                        <li data-md>
                            <p>将 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                    id="ref-for-this⑥⑤">this</a>.<a data-link-type="dfn"
                                    href="#readablebytestreamcontroller-pendingpullintos"
                                    id="ref-for-readablebytestreamcontroller-pendingpullintos③">[[pendingPullIntos]]</a>
                                设为仅包含 <var>firstPendingPullInto</var> 的<a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑤">列表</a> «
                                <var>firstPendingPullInto</var> »。
                            </p>
                    </ol>
            </ol>
        </div>
        <h3 class="heading settled" data-level="4.8" id="rs-byob-request-class"><span class="secno">4.8. </span><span
                class="content"><code
                    class="idl"><a data-link-type="idl" href="#readablestreambyobrequest" id="ref-for-readablestreambyobrequest②">ReadableStreamBYOBRequest</a></code>
                类</span><a class="self-link" href="#rs-byob-request-class"></a></h3>
        <p><code
                class="idl"><a data-link-type="idl" href="#readablestreambyobrequest" id="ref-for-readablestreambyobrequest③">ReadableStreamBYOBRequest</a></code>
            类表示 <code
                class="idl"><a data-link-type="idl" href="#readablebytestreamcontroller" id="ref-for-readablebytestreamcontroller①⓪">ReadableByteStreamController</a></code>
            中的拉取（pull-into）请求。
        </p>
        <h4 class="heading settled" data-level="4.8.1" id="rs-byob-request-class-definition"><span class="secno">4.8.1.
            </span><span class="content">接口定义</span><a class="self-link" href="#rs-byob-request-class-definition"></a>
        </h4>
        <p><code
                class="idl"><a data-link-type="idl" href="#readablestreambyobrequest" id="ref-for-readablestreambyobrequest④">ReadableStreamBYOBRequest</a></code>
            类的 Web IDL 定义如下：</p>
        <pre class="idl highlight def">[Exposed=*]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="readablestreambyobrequest"><code><c- g>ReadableStreamBYOBRequest</c-></code></dfn> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#ArrayBufferView" id="ref-for-ArrayBufferView③"><c- n>ArrayBufferView</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="ArrayBufferView?" href="#rs-byob-request-view" id="ref-for-rs-byob-request-view"><c- g>view</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①④"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#rs-byob-request-respond" id="ref-for-rs-byob-request-respond"><c- g>respond</c-></a>([<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#EnforceRange" id="ref-for-EnforceRange②"><c- g>EnforceRange</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long③"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStreamBYOBRequest/respond(bytesWritten)" data-dfn-type="argument" data-export id="dom-readablestreambyobrequest-respond-byteswritten-byteswritten"><code><c- g>bytesWritten</c-></code></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①⑤"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#rs-byob-request-respond-with-new-view" id="ref-for-rs-byob-request-respond-with-new-view"><c- g>respondWithNewView</c-></a>(<a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#ArrayBufferView" id="ref-for-ArrayBufferView④"><c- n>ArrayBufferView</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStreamBYOBRequest/respondWithNewView(view)" data-dfn-type="argument" data-export id="dom-readablestreambyobrequest-respondwithnewview-view-view"><code><c- g>view</c-></code></dfn>);
};
</pre>
        <h4 class="heading settled" data-level="4.8.2" id="rs-byob-request-internal-slots"><span class="secno">4.8.2.
            </span><span class="content">内部插槽</span><a class="self-link" href="#rs-byob-request-internal-slots"></a>
        </h4>
        <p><code
                class="idl"><a data-link-type="idl" href="#readablestreambyobrequest" id="ref-for-readablestreambyobrequest⑤">ReadableStreamBYOBRequest</a></code>
            的实例拥有下表所描述的内部插槽：</p>
        <table>
            <thead>
                <tr>
                    <th>内部插槽
                    <th>描述（<em>非规范性</em>）
            <tbody>
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="ReadableStreamBYOBRequest" data-dfn-type="dfn"
                            data-noexport id="readablestreambyobrequest-controller">[[controller]]</dfn>
                    <td class="non-normative">父 <code
                            class="idl"><a data-link-type="idl" href="#readablebytestreamcontroller" id="ref-for-readablebytestreamcontroller①①">ReadableByteStreamController</a></code>
                        实例
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="ReadableStreamBYOBRequest" data-dfn-type="dfn"
                            data-noexport id="readablestreambyobrequest-view">[[view]]</dfn>
                    <td class="non-normative">一个<a data-link-type="dfn" data-refhint-key="b4cd276c"
                            href="https://tc39.es/ecma262/#sec-typedarray-objects"
                            id="ref-for-sec-typedarray-objects③">typed array</a>，表示控制器可写入生成数据的目标区域；BYOB 请求失效后为 null。
        </table>
        <h4 class="heading settled" data-level="4.8.3" id="rs-byob-request-prototype"><span class="secno">4.8.3.
            </span><span class="content">方法与属性</span><a class="self-link" href="#rs-byob-request-prototype"></a></h4>
        <dl class="domintro non-normative">
            <dt><code><var>view</var> = <var>byobRequest</var>.<code class="idl"><a data-link-type="idl" href="#rs-byob-request-view" id="ref-for-rs-byob-request-view①">view</a></code></code>
            <dd>
                <p>返回用于写入的数据视图，如果 BYOB 请求已经响应则为 null。</p>
            <dt><code><var>byobRequest</var>.<code class="idl"><a data-link-type="idl" href="#rs-byob-request-respond" id="ref-for-rs-byob-request-respond①">respond</a></code>(<var>bytesWritten</var>)</code>
            <dd>
                <p>通知关联的<a data-link-type="dfn" href="#readable-byte-stream"
                        id="ref-for-readable-byte-stream⑨">可读字节流</a>，表示有 <var>bytesWritten</var> 字节已写入 <code
                        class="idl"><a data-link-type="idl" href="#rs-byob-request-view" id="ref-for-rs-byob-request-view②">view</a></code>，
                    结果会传递给<a data-link-type="dfn" href="#consumer" id="ref-for-consumer⑦">消费者</a>。</p>
                <p>调用此方法后，<code
                        class="idl"><a data-link-type="idl" href="#rs-byob-request-view" id="ref-for-rs-byob-request-view③">view</a></code>
                    会被<a href="#transfer-array-buffer" id="ref-for-transfer-array-buffer⑦">转移</a>，无法再被修改。</p>
            <dt><code><var>byobRequest</var>.<code class="idl"><a data-link-type="idl" href="#rs-byob-request-respond-with-new-view" id="ref-for-rs-byob-request-respond-with-new-view①">respondWithNewView</a></code>(<var>view</var>)</code>
            <dd>
                <p>通知关联的<a data-link-type="dfn" href="#readable-byte-stream"
                        id="ref-for-readable-byte-stream①⓪">可读字节流</a>，底层字节源不再写入 <code
                        class="idl"><a data-link-type="idl" href="#rs-byob-request-view" id="ref-for-rs-byob-request-view④">view</a></code>，
                    而是提供一个新的 <code
                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#ArrayBufferView" id="ref-for-ArrayBufferView⑤">ArrayBufferView</a></code>，
                    会返回给<a data-link-type="dfn" href="#consumer" id="ref-for-consumer⑧">消费者</a>。</p>
                <p>新 <var>view</var> 必须是和 <code
                        class="idl"><a data-link-type="idl" href="#rs-byob-request-view" id="ref-for-rs-byob-request-view⑤">view</a></code>
                    相同底层内存的新视图，即其 buffer 必须等于（或为<a href="#transfer-array-buffer"
                        id="ref-for-transfer-array-buffer⑧">转移</a>自）<code
                        class="idl"><a data-link-type="idl" href="#rs-byob-request-view" id="ref-for-rs-byob-request-view⑥">view</a></code>
                    的 buffer。其 <code>byteOffset</code> 必须等于
                    <code
                        class="idl"><a data-link-type="idl" href="#rs-byob-request-view" id="ref-for-rs-byob-request-view⑦">view</a></code>
                    的 <code>byteOffset</code>，其 <code>byteLength</code>（表示写入的字节数）必须小于等于 <code
                        class="idl"><a data-link-type="idl" href="#rs-byob-request-view" id="ref-for-rs-byob-request-view⑧">view</a></code>
                    的 <code>byteLength</code>。
                </p>
                <p>调用此方法后，<var>view</var> 会被<a href="#transfer-array-buffer"
                        id="ref-for-transfer-array-buffer⑨">转移</a>，无法再被修改。</p>
        </dl>
        <div class="algorithm" data-algorithm="view" data-algorithm-for="ReadableStreamBYOBRequest">
            <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStreamBYOBRequest" data-dfn-type="attribute"
                data-export id="rs-byob-request-view"><code>view</code></dfn> getter 步骤如下：
            <ol>
                <li data-md>
                    <p>返回 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑥⑥">this</a>.<a data-link-type="dfn" href="#readablestreambyobrequest-view"
                            id="ref-for-readablestreambyobrequest-view">[[view]]</a>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="respond(bytesWritten)" data-algorithm-for="ReadableStreamBYOBRequest">
            <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStreamBYOBRequest" data-dfn-type="method"
                data-export id="rs-byob-request-respond"><code>respond(<var>bytesWritten</var>)</code></dfn> 方法步骤如下：
            <ol>
                <li data-md>
                    <p>如果 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑥⑦">this</a>.<a data-link-type="dfn"
                            href="#readablestreambyobrequest-controller"
                            id="ref-for-readablestreambyobrequest-controller">[[controller]]</a> 为 undefined，则抛出
                        <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror②④">TypeError</a></code>
                        异常。
                    </p>
                <li data-md>
                    <p>如果 ! <a data-link-type="abstract-op"
                            href="https://tc39.es/ecma262/multipage/structured-data.html#sec-isdetachedbuffer"
                            id="ref-for-sec-isdetachedbuffer①">IsDetachedBuffer</a>(<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑥⑧">this</a>.<a
                            data-link-type="dfn" href="#readablestreambyobrequest-view"
                            id="ref-for-readablestreambyobrequest-view①">[[view]]</a>.[[ArrayBuffer]])
                        为 true，则抛出 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror②⑤">TypeError</a></code>
                        异常。</p>
                <li data-md>
                    <p class="assertion">断言：<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑥⑨">this</a>.<a data-link-type="dfn" href="#readablestreambyobrequest-view"
                            id="ref-for-readablestreambyobrequest-view②">[[view]]</a>.[[ByteLength]] > 0。</p>
                <li data-md>
                    <p class="assertion">断言：<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑦⓪">this</a>.<a data-link-type="dfn" href="#readablestreambyobrequest-view"
                            id="ref-for-readablestreambyobrequest-view③">[[view]]</a>.[[ViewedArrayBuffer]].[[ByteLength]]
                        > 0。</p>
                <li data-md>
                    <p>执行 ? <a data-link-type="abstract-op" href="#readable-byte-stream-controller-respond"
                            id="ref-for-readable-byte-stream-controller-respond">ReadableByteStreamControllerRespond</a>(<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑦①">this</a>.<a data-link-type="dfn"
                            href="#readablestreambyobrequest-controller"
                            id="ref-for-readablestreambyobrequest-controller①">[[controller]]</a>,
                        <var>bytesWritten</var>)。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="respondWithNewView(view)" data-algorithm-for="ReadableStreamBYOBRequest">
            <dfn class="dfn-paneled idl-code" data-dfn-for="ReadableStreamBYOBRequest" data-dfn-type="method"
                data-export
                id="rs-byob-request-respond-with-new-view"><code>respondWithNewView(<var>view</var>)</code></dfn>
            方法步骤如下：
            <ol>
                <li data-md>
                    <p>如果 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑦②">this</a>.<a data-link-type="dfn"
                            href="#readablestreambyobrequest-controller"
                            id="ref-for-readablestreambyobrequest-controller②">[[controller]]</a> 为 undefined，则抛出
                        <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror②⑥">TypeError</a></code>
                        异常。
                    </p>
                <li data-md>
                    <p>如果 ! <a data-link-type="abstract-op"
                            href="https://tc39.es/ecma262/multipage/structured-data.html#sec-isdetachedbuffer"
                            id="ref-for-sec-isdetachedbuffer②">IsDetachedBuffer</a>(<var>view</var>.[[ViewedArrayBuffer]])
                        为 true，
                        则抛出 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror②⑦">TypeError</a></code>
                        异常。</p>
                <li data-md>
                    <p>返回 ? <a data-link-type="abstract-op"
                            href="#readable-byte-stream-controller-respond-with-new-view"
                            id="ref-for-readable-byte-stream-controller-respond-with-new-view">ReadableByteStreamControllerRespondWithNewView</a>(<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑦③">this</a>.<a data-link-type="dfn"
                            href="#readablestreambyobrequest-controller"
                            id="ref-for-readablestreambyobrequest-controller③">[[controller]]</a>, <var>view</var>)。</p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="4.9" id="rs-all-abstract-ops"><span class="secno">4.9. </span><span
                class="content">抽象操作</span><a class="self-link" href="#rs-all-abstract-ops"></a></h3>
        <h4 class="heading settled" data-level="4.9.1" id="rs-abstract-ops"><span class="secno">4.9.1. </span><span
                class="content">与可读流协作</span><a class="self-link" href="#rs-abstract-ops"></a>
        </h4>
        <p>下列抽象操作以较高层次操作 <code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream③③">ReadableStream</a></code>
            实例。</p>
        <div class="algorithm" data-algorithm="AcquireReadableStreamBYOBReader">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="AcquireReadableStreamBYOBReader"
                id="acquire-readable-stream-byob-reader">AcquireReadableStreamBYOBReader(<var>stream</var>)</dfn>
            执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>reader</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new"
                            id="ref-for-new③">新建</a>的 <code
                            class="idl"><a data-link-type="idl" href="#readablestreambyobreader" id="ref-for-readablestreambyobreader①⓪">ReadableStreamBYOBReader</a></code>。
                    </p>
                <li data-md>
                    <p>执行 ? <a data-link-type="abstract-op" href="#set-up-readable-stream-byob-reader"
                            id="ref-for-set-up-readable-stream-byob-reader①">SetUpReadableStreamBYOBReader</a>(<var>reader</var>,
                        <var>stream</var>)。
                    </p>
                <li data-md>
                    <p>返回 <var>reader</var>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="AcquireReadableStreamDefaultReader">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="AcquireReadableStreamDefaultReader"
                id="acquire-readable-stream-reader">AcquireReadableStreamDefaultReader(<var>stream</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>reader</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new"
                            id="ref-for-new④">新建</a>的 <code
                            class="idl"><a data-link-type="idl" href="#readablestreamdefaultreader" id="ref-for-readablestreamdefaultreader①⓪">ReadableStreamDefaultReader</a></code>。
                    </p>
                <li data-md>
                    <p>执行 ? <a data-link-type="abstract-op" href="#set-up-readable-stream-default-reader"
                            id="ref-for-set-up-readable-stream-default-reader①">SetUpReadableStreamDefaultReader</a>(<var>reader</var>,
                        <var>stream</var>)。
                    </p>
                <li data-md>
                    <p>返回 <var>reader</var>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="CreateReadableStream">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="CreateReadableStream"
                id="create-readable-stream">CreateReadableStream(<var>startAlgorithm</var>, <var>pullAlgorithm</var>,
                <var>cancelAlgorithm</var>[, <var>highWaterMark</var>, [, <var>sizeAlgorithm</var>]])</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p>如果未传入 <var>highWaterMark</var>，则设为 1。</p>
                <li data-md>
                    <p>如果未传入 <var>sizeAlgorithm</var>，则设为一个返回 1 的算法。</p>
                <li data-md>
                    <p class="assertion">断言：! <a data-link-type="abstract-op" href="#is-non-negative-number"
                            id="ref-for-is-non-negative-number">IsNonNegativeNumber</a>(<var>highWaterMark</var>) 为
                        true。</p>
                <li data-md>
                    <p>令 <var>stream</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new"
                            id="ref-for-new⑤">新建</a>的 <code
                            class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream③④">ReadableStream</a></code>。
                    </p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#initialize-readable-stream"
                            id="ref-for-initialize-readable-stream①">InitializeReadableStream</a>(<var>stream</var>)。
                    </p>
                <li data-md>
                    <p>令 <var>controller</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new"
                            id="ref-for-new⑥">新建</a>的 <code
                            class="idl"><a data-link-type="idl" href="#readablestreamdefaultcontroller" id="ref-for-readablestreamdefaultcontroller⑨">ReadableStreamDefaultController</a></code>。
                    </p>
                <li data-md>
                    <p>执行 ? <a data-link-type="abstract-op" href="#set-up-readable-stream-default-controller"
                            id="ref-for-set-up-readable-stream-default-controller">SetUpReadableStreamDefaultController</a>(<var>stream</var>,
                        <var>controller</var>, <var>startAlgorithm</var>, <var>pullAlgorithm</var>,
                        <var>cancelAlgorithm</var>, <var>highWaterMark</var>, <var>sizeAlgorithm</var>)。
                    </p>
                <li data-md>
                    <p>返回 <var>stream</var>。</p>
            </ol>
            <p class="note" role="note">本抽象操作仅当传入的 <var>startAlgorithm</var> 抛出异常时才会抛出异常。</p>
        </div>
        <div class="algorithm" data-algorithm="CreateReadableByteStream">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="CreateReadableByteStream"
                id="abstract-opdef-createreadablebytestream">CreateReadableByteStream(<var>startAlgorithm</var>,
                <var>pullAlgorithm</var>, <var>cancelAlgorithm</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>stream</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new"
                            id="ref-for-new⑦">新建</a>的 <code
                            class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream③⑤">ReadableStream</a></code>。
                    </p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#initialize-readable-stream"
                            id="ref-for-initialize-readable-stream②">InitializeReadableStream</a>(<var>stream</var>)。
                    </p>
                <li data-md>
                    <p>令 <var>controller</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new"
                            id="ref-for-new⑧">新建</a>的 <code
                            class="idl"><a data-link-type="idl" href="#readablebytestreamcontroller" id="ref-for-readablebytestreamcontroller①②">ReadableByteStreamController</a></code>。
                    </p>
                <li data-md>
                    <p>执行 ? <a data-link-type="abstract-op" href="#set-up-readable-byte-stream-controller"
                            id="ref-for-set-up-readable-byte-stream-controller">SetUpReadableByteStreamController</a>(<var>stream</var>,
                        <var>controller</var>, <var>startAlgorithm</var>, <var>pullAlgorithm</var>,
                        <var>cancelAlgorithm</var>, 0, undefined)。
                    </p>
                <li data-md>
                    <p>返回 <var>stream</var>。</p>
            </ol>
            <p class="note" role="note">本抽象操作仅当传入的 <var>startAlgorithm</var> 抛出异常时才会抛出异常。</p>
        </div>
        <div class="algorithm" data-algorithm="InitializeReadableStream">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="InitializeReadableStream"
                id="initialize-readable-stream">InitializeReadableStream(<var>stream</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p>将 <var>stream</var>.<a data-link-type="dfn" href="#readablestream-state"
                            id="ref-for-readablestream-state②">[[state]]</a> 设为 "<code>readable</code>"。</p>
                <li data-md>
                    <p>将 <var>stream</var>.<a data-link-type="dfn" href="#readablestream-reader"
                            id="ref-for-readablestream-reader">[[reader]]</a> 和 <var>stream</var>.<a
                            data-link-type="dfn" href="#readablestream-storederror"
                            id="ref-for-readablestream-storederror">[[storedError]]</a> 设为 undefined。</p>
                <li data-md>
                    <p>将 <var>stream</var>.<a data-link-type="dfn" href="#readablestream-disturbed"
                            id="ref-for-readablestream-disturbed">[[disturbed]]</a> 设为 false。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="IsReadableStreamLocked">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="IsReadableStreamLocked"
                id="is-readable-stream-locked">IsReadableStreamLocked(<var>stream</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p>如果 <var>stream</var>.<a data-link-type="dfn" href="#readablestream-reader"
                            id="ref-for-readablestream-reader①">[[reader]]</a> 为 undefined，返回 false。</p>
                <li data-md>
                    <p>返回 true。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableStreamFromIterable">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="ReadableStreamFromIterable"
                id="readable-stream-from-iterable"> ReadableStreamFromIterable(<var>asyncIterable</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>stream</var> 为 undefined。</p>
                <li data-md>
                    <p>令 <var>iteratorRecord</var> 为 ? <a data-link-type="abstract-op"
                            href="https://tc39.es/ecma262/multipage/abstract-operations.html#sec-getiterator"
                            id="ref-for-sec-getiterator">GetIterator</a>(<var>asyncIterable</var>, async)。</p>
                <li data-md>
                    <p>令 <var>startAlgorithm</var> 为一个返回 undefined 的算法。</p>
                <li data-md>
                    <p>令 <var>pullAlgorithm</var> 为以下步骤：</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>nextResult</var> 为 <a data-link-type="abstract-op"
                                    href="https://tc39.es/ecma262/multipage/abstract-operations.html#sec-iteratornext"
                                    id="ref-for-sec-iteratornext">IteratorNext</a>(<var>iteratorRecord</var>)。</p>
                        <li data-md>
                            <p>如果 <var>nextResult</var> 是异常完成，返回 <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                                    id="ref-for-a-promise-rejected-with①②">以 <var>nextResult</var>.[[Value]] 拒绝的
                                    promise</a>。
                            </p>
                        <li data-md>
                            <p>令 <var>nextPromise</var> 为 <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                                    id="ref-for-a-promise-resolved-with①">以 <var>nextResult</var>.[[Value]] 解决的
                                    promise</a>。
                            </p>
                        <li data-md>
                            <p>返回对 <var>nextPromise</var> <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled"
                                    id="ref-for-dfn-perform-steps-once-promise-is-settled">反应</a>的结果，满足时执行如下步骤，参数
                                <var>iterResult</var>：
                            </p>
                            <ol>
                                <li data-md>
                                    <p>如果 <var>iterResult</var> <a data-link-type="dfn"
                                            href="https://tc39.es/ecma262/#sec-object-type"
                                            id="ref-for-sec-object-type">不是对象</a>，抛出 <code
                                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror②⑧">TypeError</a></code>。
                                    </p>
                                <li data-md>
                                    <p>令 <var>done</var> 为 ? <a data-link-type="abstract-op"
                                            href="https://tc39.es/ecma262/multipage/abstract-operations.html#sec-iteratorcomplete"
                                            id="ref-for-sec-iteratorcomplete">IteratorComplete</a>(<var>iterResult</var>)。
                                    </p>
                                <li data-md>
                                    <p>如果 <var>done</var> 为 true：</p>
                                    <ol>
                                        <li data-md>
                                            <p>执行 ! <a data-link-type="abstract-op"
                                                    href="#readable-stream-default-controller-close"
                                                    id="ref-for-readable-stream-default-controller-close①">ReadableStreamDefaultControllerClose</a>(<var>stream</var>.<a
                                                    data-link-type="dfn" href="#readablestream-controller"
                                                    id="ref-for-readablestream-controller">[[controller]]</a>)。</p>
                                    </ol>
                                <li data-md>
                                    <p>否则：</p>
                                    <ol>
                                        <li data-md>
                                            <p>令 <var>value</var> 为 ? <a data-link-type="abstract-op"
                                                    href="https://tc39.es/ecma262/multipage/abstract-operations.html#sec-iteratorvalue"
                                                    id="ref-for-sec-iteratorvalue">IteratorValue</a>(<var>iterResult</var>)。
                                            </p>
                                        <li data-md>
                                            <p>执行 ! <a data-link-type="abstract-op"
                                                    href="#readable-stream-default-controller-enqueue"
                                                    id="ref-for-readable-stream-default-controller-enqueue①">ReadableStreamDefaultControllerEnqueue</a>(<var>stream</var>.<a
                                                    data-link-type="dfn" href="#readablestream-controller"
                                                    id="ref-for-readablestream-controller①">[[controller]]</a>,
                                                <var>value</var>)。
                                            </p>
                                    </ol>
                            </ol>
                    </ol>
                <li data-md>
                    <p>令 <var>cancelAlgorithm</var> 为以下步骤，参数 <var>reason</var>：</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>iterator</var> 为 <var>iteratorRecord</var>.[[Iterator]]。</p>
                        <li data-md>
                            <p>令 <var>returnMethod</var> 为 <a data-link-type="abstract-op"
                                    href="https://tc39.es/ecma262/multipage/abstract-operations.html#sec-getmethod"
                                    id="ref-for-sec-getmethod">GetMethod</a>(<var>iterator</var>,
                                "<code>return</code>")。</p>
                        <li data-md>
                            <p>如果 <var>returnMethod</var> 是异常完成，返回 <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                                    id="ref-for-a-promise-rejected-with①③">以 <var>returnMethod</var>.[[Value]] 拒绝的
                                    promise</a>。
                            </p>
                        <li data-md>
                            <p>如果 <var>returnMethod</var>.[[Value]] 为 undefined，返回 <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                                    id="ref-for-a-promise-resolved-with②">以 undefined 解决的 promise</a>。</p>
                        <li data-md>
                            <p>令 <var>returnResult</var> 为 <a data-link-type="abstract-op"
                                    href="https://tc39.es/ecma262/multipage/abstract-operations.html#sec-call"
                                    id="ref-for-sec-call">Call</a>(<var>returnMethod</var>.[[Value]],
                                <var>iterator</var>, « <var>reason</var> »)。
                            </p>
                        <li data-md>
                            <p>如果 <var>returnResult</var> 是异常完成，返回 <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                                    id="ref-for-a-promise-rejected-with①④">以 <var>returnResult</var>.[[Value]] 拒绝的
                                    promise</a>。
                            </p>
                        <li data-md>
                            <p>令 <var>returnPromise</var> 为 <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                                    id="ref-for-a-promise-resolved-with③">以 <var>returnResult</var>.[[Value]] 解决的
                                    promise</a>。
                            </p>
                        <li data-md>
                            <p>返回对 <var>returnPromise</var> <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled"
                                    id="ref-for-dfn-perform-steps-once-promise-is-settled①">反应</a>的结果，满足时执行如下步骤，参数
                                <var>iterResult</var>：
                            </p>
                            <ol>
                                <li data-md>
                                    <p>如果 <var>iterResult</var> <a data-link-type="dfn"
                                            href="https://tc39.es/ecma262/#sec-object-type"
                                            id="ref-for-sec-object-type①">不是对象</a>，抛出 <code
                                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror②⑨">TypeError</a></code>。
                                    </p>
                                <li data-md>
                                    <p>返回 undefined。</p>
                            </ol>
                    </ol>
                <li data-md>
                    <p>将 <var>stream</var> 设为 ! <a data-link-type="abstract-op" href="#create-readable-stream"
                            id="ref-for-create-readable-stream">CreateReadableStream</a>(<var>startAlgorithm</var>,
                        <var>pullAlgorithm</var>, <var>cancelAlgorithm</var>,
                        0)。
                    </p>
                <li data-md>
                    <p>返回 <var>stream</var>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableStreamPipeTo">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="ReadableStreamPipeTo"
                id="readable-stream-pipe-to">ReadableStreamPipeTo(<var>source</var>, <var>dest</var>,
                <var>preventClose</var>, <var>preventAbort</var>, <var>preventCancel</var>[, <var>signal</var>])</dfn>
            执行以下步骤：
            <ol>
                <li data-md>
                    <p class="assertion">断言：<var>source</var> <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#implements" id="ref-for-implements">实现了</a>
                        <code
                            class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream③⑥">ReadableStream</a></code>。
                    </p>
                <li data-md>
                    <p class="assertion">断言：<var>dest</var> <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#implements" id="ref-for-implements①">实现了</a>
                        <code
                            class="idl"><a data-link-type="idl" href="#writablestream" id="ref-for-writablestream⑦">WritableStream</a></code>。
                    </p>
                <li data-md>
                    <p class="assertion">断言：<var>preventClose</var>、<var>preventAbort</var> 和
                        <var>preventCancel</var> 都是布尔值。
                    </p>
                <li data-md>
                    <p>如果未传入 <var>signal</var>，则令 <var>signal</var> 为 undefined。</p>
                <li data-md>
                    <p class="assertion">断言：<var>signal</var> 要么为 undefined，要么 <var>signal</var> <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#implements" id="ref-for-implements②">实现了</a> <code
                            class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortsignal" id="ref-for-abortsignal③">AbortSignal</a></code>。
                    </p>
                <li data-md>
                    <p class="assertion">断言：! <a data-link-type="abstract-op" href="#is-readable-stream-locked"
                            id="ref-for-is-readable-stream-locked⑤">IsReadableStreamLocked</a>(<var>source</var>) 为
                        false。</p>
                <li data-md>
                    <p class="assertion">断言：! <a data-link-type="abstract-op" href="#is-writable-stream-locked"
                            id="ref-for-is-writable-stream-locked②">IsWritableStreamLocked</a>(<var>dest</var>) 为 false。
                    </p>
                <li data-md>
                    <p>如果 <var>source</var>.<a data-link-type="dfn" href="#readablestream-controller"
                            id="ref-for-readablestream-controller②">[[controller]]</a> <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#implements" id="ref-for-implements③">实现了</a>
                        <code
                            class="idl"><a data-link-type="idl" href="#readablebytestreamcontroller" id="ref-for-readablebytestreamcontroller①③">ReadableByteStreamController</a></code>，
                        则令 <var>reader</var> 为 ! <a data-link-type="abstract-op"
                            href="#acquire-readable-stream-byob-reader"
                            id="ref-for-acquire-readable-stream-byob-reader①">AcquireReadableStreamBYOBReader</a>(<var>source</var>)
                        或 ! <a data-link-type="abstract-op" href="#acquire-readable-stream-reader"
                            id="ref-for-acquire-readable-stream-reader②">AcquireReadableStreamDefaultReader</a>(<var>source</var>),
                        由 user agent 自行决定。
                    </p>
                <li data-md>
                    <p>否则，令 <var>reader</var> 为 ! <a data-link-type="abstract-op" href="#acquire-readable-stream-reader"
                            id="ref-for-acquire-readable-stream-reader③">AcquireReadableStreamDefaultReader</a>(<var>source</var>)。
                    </p>
                <li data-md>
                    <p>令 <var>writer</var> 为 ! <a data-link-type="abstract-op"
                            href="#acquire-writable-stream-default-writer"
                            id="ref-for-acquire-writable-stream-default-writer">AcquireWritableStreamDefaultWriter</a>(<var>dest</var>)。
                    </p>
                <li data-md>
                    <p>将 <var>source</var>.<a data-link-type="dfn" href="#readablestream-disturbed"
                            id="ref-for-readablestream-disturbed①">[[disturbed]]</a> 设为 true。</p>
                <li data-md>
                    <p>令 <var>shuttingDown</var> 为 false。</p>
                <li data-md>
                    <p>令 <var>promise</var> 为<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise③">一个新的
                            promise</a>。</p>
                <li data-md>
                    <p>如果 <var>signal</var> 不为 undefined，</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>abortAlgorithm</var> 为以下步骤：</p>
                            <ol>
                                <li data-md>
                                    <p>令 <var>error</var> 为 <var>signal</var> 的 <a data-link-type="dfn"
                                            href="https://dom.spec.whatwg.org/#abortsignal-abort-reason"
                                            id="ref-for-abortsignal-abort-reason">中止原因</a>。</p>
                                <li data-md>
                                    <p>令 <var>actions</var> 为一个空的<a data-link-type="dfn"
                                            href="https://infra.spec.whatwg.org/#ordered-set"
                                            id="ref-for-ordered-set">有序集合</a>。</p>
                                <li data-md>
                                    <p>如果 <var>preventAbort</var> 为 false，<a data-link-type="dfn"
                                            href="https://infra.spec.whatwg.org/#set-append"
                                            id="ref-for-set-append">添加</a>以下 action 到 <var>actions</var> 中：
                                    </p>
                                    <ol>
                                        <li data-md>
                                            <p>如果 <var>dest</var>.<a data-link-type="dfn" href="#writablestream-state"
                                                    id="ref-for-writablestream-state">[[state]]</a> 为
                                                "<code>writable</code>"，返回 ! <a data-link-type="abstract-op"
                                                    href="#writable-stream-abort"
                                                    id="ref-for-writable-stream-abort">WritableStreamAbort</a>(<var>dest</var>,
                                                <var>error</var>)。
                                            </p>
                                        <li data-md>
                                            <p>否则，返回 <a data-link-type="dfn"
                                                    href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                                                    id="ref-for-a-promise-resolved-with④">以 undefined 解决的 promise</a>。
                                            </p>
                                    </ol>
                                <li data-md>
                                    <p>如果 <var>preventCancel</var> 为 false，<a data-link-type="dfn"
                                            href="https://infra.spec.whatwg.org/#set-append"
                                            id="ref-for-set-append①">添加</a>以下 action 到 <var>actions</var> 中：
                                    </p>
                                    <ol>
                                        <li data-md>
                                            <p>如果 <var>source</var>.<a data-link-type="dfn" href="#readablestream-state"
                                                    id="ref-for-readablestream-state③">[[state]]</a> 为
                                                "<code>readable</code>"，返回 ! <a data-link-type="abstract-op"
                                                    href="#readable-stream-cancel"
                                                    id="ref-for-readable-stream-cancel①">ReadableStreamCancel</a>(<var>source</var>,
                                                <var>error</var>)。
                                            </p>
                                        <li data-md>
                                            <p>否则，返回 <a data-link-type="dfn"
                                                    href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                                                    id="ref-for-a-promise-resolved-with⑤">以 undefined 解决的 promise</a>。
                                            </p>
                                    </ol>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="#rs-pipeTo-shutdown-with-action"
                                            id="ref-for-rs-pipeTo-shutdown-with-action">带有 action 的关闭</a>，action 为<a
                                            data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#waiting-for-all-promise"
                                            id="ref-for-waiting-for-all-promise">等待所有</a> actions 的 promise，error 为
                                        <var>error</var>。
                                    </p>
                            </ol>
                        <li data-md>
                            <p>如果 <var>signal</var> 已<a data-link-type="dfn"
                                    href="https://dom.spec.whatwg.org/#abortsignal-aborted"
                                    id="ref-for-abortsignal-aborted">中止</a>，执行 <var>abortAlgorithm</var> 并返回
                                <var>promise</var>。
                            </p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-add"
                                    id="ref-for-abortsignal-add">添加</a> <var>abortAlgorithm</var> 到 <var>signal</var>。
                            </p>
                    </ol>
                <li data-md>
                    <p><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                            id="ref-for-in-parallel">并行</a> <span class="XXX">但实际上不是；参见 <a
                                href="https://github.com/whatwg/streams/issues/905">#905</a></span>，使用
                        <var>reader</var> 和 <var>writer</var>，从 <var>source</var> 读取所有<a data-link-type="dfn"
                            href="#chunk" id="ref-for-chunk③⑨">块</a>并写入 <var>dest</var>。由于 reader 和 writer
                        提供的锁定机制，具体实现方式对作者代码不可见，因此有灵活性。无论实现方式如何，都必须遵循以下约束：
                    </p>
                    <ul>
                        <li data-md>
                            <p><strong>禁止使用公共 API：</strong> 在读取或写入，或执行下面的任何操作时，不得使用 JS 可修改的 reader、writer 和 stream
                                API（即相关原型上的方法）。必须直接操作流对象。</p>
                        <li data-md>
                            <p><strong>必须执行背压：</strong></p>
                            <ul>
                                <li data-md>
                                    <p>当 <a data-link-type="abstract-op"
                                            href="#writable-stream-default-writer-get-desired-size"
                                            id="ref-for-writable-stream-default-writer-get-desired-size">WritableStreamDefaultWriterGetDesiredSize</a>(<var>writer</var>)
                                        ≤ 0 或为 null 时，不得从 <var>reader</var> 读取。</p>
                                <li data-md>
                                    <p>如果 <var>reader</var> 是 <a data-link-type="dfn" href="#byob-reader"
                                            id="ref-for-byob-reader⑥">BYOB reader</a>，应以 <a data-link-type="abstract-op"
                                            href="#writable-stream-default-writer-get-desired-size"
                                            id="ref-for-writable-stream-default-writer-get-desired-size①">WritableStreamDefaultWriterGetDesiredSize</a>(<var>writer</var>)
                                        作为读取块大小的参考。</p>
                                    <p class="note" role="note">读取过大或过小的块通常效率较低。可结合其他信息综合确定最佳块大小。</p>
                                <li data-md>
                                    <p>读取或写入不应因背压信号外的其他原因被延迟。</p>
                                    <p class="example" id="example-bad-backpressure"><a class="self-link"
                                            href="#example-bad-backpressure"></a>如等待每次写入完成后才进行下一次读写，会导致 <a
                                            data-link-type="dfn" href="#internal-queues"
                                            id="ref-for-internal-queues⑨">内部队列</a>失效，始终最多只保留一个<a data-link-type="dfn"
                                            href="#chunk" id="ref-for-chunk④⓪">块</a>。</p>
                            </ul>
                        <li data-md>
                            <p><strong>Shutdown 必须停止活动：</strong> 若 <var>shuttingDown</var> 变为 true，则不得再从
                                <var>reader</var> 读取，只能写入已读取的<a data-link-type="dfn" href="#chunk"
                                    id="ref-for-chunk④①">块</a>。在每次读写前都要检查 shutdown 状态。
                            </p>
                        <li data-md>
                            <p><strong>必须传播错误和关闭状态：</strong> 下列条件按顺序应用：</p>
                            <ol>
                                <li data-md>
                                    <p><strong>必须向前传播错误：</strong> 如果 <var>source</var>.<a data-link-type="dfn"
                                            href="#readablestream-state"
                                            id="ref-for-readablestream-state④">[[state]]</a> 为或变为
                                        "<code>errored</code>"，则：</p>
                                    <ol>
                                        <li data-md>
                                            <p>若 <var>preventAbort</var> 为 false，<a data-link-type="dfn"
                                                    href="#rs-pipeTo-shutdown-with-action"
                                                    id="ref-for-rs-pipeTo-shutdown-with-action①">带有 action
                                                    的关闭</a>，action 为 ! <a data-link-type="abstract-op"
                                                    href="#writable-stream-abort"
                                                    id="ref-for-writable-stream-abort①">WritableStreamAbort</a>(<var>dest</var>,
                                                <var>source</var>.<a data-link-type="dfn"
                                                    href="#readablestream-storederror"
                                                    id="ref-for-readablestream-storederror①">[[storedError]]</a>)，error
                                                为 <var>source</var>.<a data-link-type="dfn"
                                                    href="#readablestream-storederror"
                                                    id="ref-for-readablestream-storederror②">[[storedError]]</a>。
                                            </p>
                                        <li data-md>
                                            <p>否则，<a data-link-type="dfn" href="#rs-pipeTo-shutdown"
                                                    id="ref-for-rs-pipeTo-shutdown">关闭</a>，error 为 <var>source</var>.<a
                                                    data-link-type="dfn" href="#readablestream-storederror"
                                                    id="ref-for-readablestream-storederror③">[[storedError]]</a>。
                                            </p>
                                    </ol>
                                <li data-md>
                                    <p><strong>必须向后传播错误：</strong> 如果 <var>dest</var>.<a data-link-type="dfn"
                                            href="#writablestream-state"
                                            id="ref-for-writablestream-state①">[[state]]</a> 为或变为
                                        "<code>errored</code>"，则：</p>
                                    <ol>
                                        <li data-md>
                                            <p>若 <var>preventCancel</var> 为 false，<a data-link-type="dfn"
                                                    href="#rs-pipeTo-shutdown-with-action"
                                                    id="ref-for-rs-pipeTo-shutdown-with-action②">带有 action
                                                    的关闭</a>，action 为 ! <a data-link-type="abstract-op"
                                                    href="#readable-stream-cancel"
                                                    id="ref-for-readable-stream-cancel②">ReadableStreamCancel</a>(<var>source</var>,
                                                <var>dest</var>.<a data-link-type="dfn"
                                                    href="#writablestream-storederror"
                                                    id="ref-for-writablestream-storederror">[[storedError]]</a>)，error 为
                                                <var>dest</var>.<a data-link-type="dfn"
                                                    href="#writablestream-storederror"
                                                    id="ref-for-writablestream-storederror①">[[storedError]]</a>。
                                            </p>
                                        <li data-md>
                                            <p>否则，<a data-link-type="dfn" href="#rs-pipeTo-shutdown"
                                                    id="ref-for-rs-pipeTo-shutdown①">关闭</a>，error 为 <var>dest</var>.<a
                                                    data-link-type="dfn" href="#writablestream-storederror"
                                                    id="ref-for-writablestream-storederror②">[[storedError]]</a>。
                                            </p>
                                    </ol>
                                <li data-md>
                                    <p><strong>必须向前传播关闭：</strong> 如果 <var>source</var>.<a data-link-type="dfn"
                                            href="#readablestream-state"
                                            id="ref-for-readablestream-state⑤">[[state]]</a> 为或变为
                                        "<code>closed</code>"，则：</p>
                                    <ol>
                                        <li data-md>
                                            <p>若 <var>preventClose</var> 为 false，<a data-link-type="dfn"
                                                    href="#rs-pipeTo-shutdown-with-action"
                                                    id="ref-for-rs-pipeTo-shutdown-with-action③">带有 action
                                                    的关闭</a>，action 为 ! <a data-link-type="abstract-op"
                                                    href="#writable-stream-default-writer-close-with-error-propagation"
                                                    id="ref-for-writable-stream-default-writer-close-with-error-propagation">WritableStreamDefaultWriterCloseWithErrorPropagation</a>(<var>writer</var>)。
                                            </p>
                                        <li data-md>
                                            <p>否则，<a data-link-type="dfn" href="#rs-pipeTo-shutdown"
                                                    id="ref-for-rs-pipeTo-shutdown②">关闭</a>。</p>
                                    </ol>
                                <li data-md>
                                    <p><strong>必须向后传播关闭：</strong> 如果 ! <a data-link-type="abstract-op"
                                            href="#writable-stream-close-queued-or-in-flight"
                                            id="ref-for-writable-stream-close-queued-or-in-flight">WritableStreamCloseQueuedOrInFlight</a>(<var>dest</var>)
                                        为 true 或 <var>dest</var>.<a data-link-type="dfn" href="#writablestream-state"
                                            id="ref-for-writablestream-state②">[[state]]</a> 为 "<code>closed</code>"，
                                        则：</p>
                                    <ol>
                                        <li data-md>
                                            <p class="assertion">断言：未读未写任何<a data-link-type="dfn" href="#chunk"
                                                    id="ref-for-chunk④②">块</a>。</p>
                                        <li data-md>
                                            <p>令 <var>destClosed</var> 为新的 <code
                                                    class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror③⓪">TypeError</a></code>。
                                            </p>
                                        <li data-md>
                                            <p>若 <var>preventCancel</var> 为 false，<a data-link-type="dfn"
                                                    href="#rs-pipeTo-shutdown-with-action"
                                                    id="ref-for-rs-pipeTo-shutdown-with-action④">带有 action
                                                    的关闭</a>，action 为 ! <a data-link-type="abstract-op"
                                                    href="#readable-stream-cancel"
                                                    id="ref-for-readable-stream-cancel③">ReadableStreamCancel</a>(<var>source</var>,
                                                <var>destClosed</var>)，error 为 <var>destClosed</var>。
                                            </p>
                                        <li data-md>
                                            <p>否则，<a data-link-type="dfn" href="#rs-pipeTo-shutdown"
                                                    id="ref-for-rs-pipeTo-shutdown③">关闭</a>，error 为
                                                <var>destClosed</var>。
                                            </p>
                                    </ol>
                            </ol>
                        <li data-md>
                            <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                                    id="rs-pipeTo-shutdown-with-action"><i>带有 action 的关闭</i></dfn>：如有上述要求需要带有 action
                                的关闭，action 为 <var>action</var>，可选 error 为 <var>originalError</var>，则：</p>
                            <ol>
                                <li data-md>
                                    <p>若 <var>shuttingDown</var> 为 true，终止以下子步骤。</p>
                                <li data-md>
                                    <p>将 <var>shuttingDown</var> 设为 true。</p>
                                <li data-md>
                                    <p>如果 <var>dest</var>.<a data-link-type="dfn" href="#writablestream-state"
                                            id="ref-for-writablestream-state③">[[state]]</a> 为 "<code>writable</code>" 且
                                        ! <a data-link-type="abstract-op"
                                            href="#writable-stream-close-queued-or-in-flight"
                                            id="ref-for-writable-stream-close-queued-or-in-flight①">WritableStreamCloseQueuedOrInFlight</a>(<var>dest</var>)
                                        为 false，</p>
                                    <ol>
                                        <li data-md>
                                            <p>若有已读但未写的<a data-link-type="dfn" href="#chunk"
                                                    id="ref-for-chunk④③">块</a>，写入 <var>dest</var>。</p>
                                        <li data-md>
                                            <p>等待所有已读已写操作（即 promise 已 settle）。</p>
                                    </ol>
                                <li data-md>
                                    <p>令 <var>p</var> 为执行 <var>action</var> 的结果。</p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#upon-fulfillment"
                                            id="ref-for-upon-fulfillment">当 <var>p</var> 完成时</a>，<a data-link-type="dfn"
                                            href="#rs-pipeTo-finalize" id="ref-for-rs-pipeTo-finalize">finalize</a>，传递
                                        <var>originalError</var>（如有）。
                                    </p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#upon-rejection"
                                            id="ref-for-upon-rejection">当 <var>p</var> 拒绝时</a>，<a data-link-type="dfn"
                                            href="#rs-pipeTo-finalize"
                                            id="ref-for-rs-pipeTo-finalize①">finalize</a>，error 为 <var>newError</var>。
                                    </p>
                            </ol>
                        <li data-md>
                            <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                                    id="rs-pipeTo-shutdown"><i>关闭</i></dfn>：如有上述要求或步骤需要关闭，可选 error 为 <var>error</var>，则：
                            </p>
                            <ol>
                                <li data-md>
                                    <p>若 <var>shuttingDown</var> 为 true，终止以下子步骤。</p>
                                <li data-md>
                                    <p>将 <var>shuttingDown</var> 设为 true。</p>
                                <li data-md>
                                    <p>如果 <var>dest</var>.<a data-link-type="dfn" href="#writablestream-state"
                                            id="ref-for-writablestream-state④">[[state]]</a> 为 "<code>writable</code>" 且
                                        ! <a data-link-type="abstract-op"
                                            href="#writable-stream-close-queued-or-in-flight"
                                            id="ref-for-writable-stream-close-queued-or-in-flight②">WritableStreamCloseQueuedOrInFlight</a>(<var>dest</var>)
                                        为 false，</p>
                                    <ol>
                                        <li data-md>
                                            <p>若有已读但未写的<a data-link-type="dfn" href="#chunk"
                                                    id="ref-for-chunk④⑤">块</a>，写入 <var>dest</var>。</p>
                                        <li data-md>
                                            <p>等待所有已读已写操作（即 promise 已 settle）。</p>
                                    </ol>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="#rs-pipeTo-finalize"
                                            id="ref-for-rs-pipeTo-finalize②">finalize</a>，传递 error（如有）。
                                    </p>
                            </ol>
                        <li data-md>
                            <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                                    id="rs-pipeTo-finalize"><i>finalize</i></dfn>：上述两种关闭最终都会要求 finalize，可选 error
                                <var>error</var>，步骤如下：
                            </p>
                            <ol>
                                <li data-md>
                                    <p>执行 ! <a data-link-type="abstract-op"
                                            href="#writable-stream-default-writer-release"
                                            id="ref-for-writable-stream-default-writer-release">WritableStreamDefaultWriterRelease</a>(<var>writer</var>)。
                                    </p>
                                <li data-md>
                                    <p>如果 <var>reader</var> <a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#implements"
                                            id="ref-for-implements④">实现了</a> <code
                                            class="idl"><a data-link-type="idl" href="#readablestreambyobreader" id="ref-for-readablestreambyobreader①①">ReadableStreamBYOBReader</a></code>，
                                        执行
                                        ! <a data-link-type="abstract-op"
                                            href="#abstract-opdef-readablestreambyobreaderrelease"
                                            id="ref-for-abstract-opdef-readablestreambyobreaderrelease①">ReadableStreamBYOBReaderRelease</a>(<var>reader</var>)。
                                    </p>
                                <li data-md>
                                    <p>否则，执行 ! <a data-link-type="abstract-op"
                                            href="#abstract-opdef-readablestreamdefaultreaderrelease"
                                            id="ref-for-abstract-opdef-readablestreamdefaultreaderrelease⑤">ReadableStreamDefaultReaderRelease</a>(<var>reader</var>)。
                                    </p>
                                <li data-md>
                                    <p>如果 <var>signal</var> 不为 undefined，<a data-link-type="dfn"
                                            href="https://dom.spec.whatwg.org/#abortsignal-remove"
                                            id="ref-for-abortsignal-remove">移除</a> <var>abortAlgorithm</var>。</p>
                                <li data-md>
                                    <p>如果有 <var>error</var>，<a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject③">拒绝</a>
                                        <var>promise</var>，error 为 <var>error</var>。
                                    </p>
                                <li data-md>
                                    <p>否则，<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                            id="ref-for-resolve⑥">解决</a> <var>promise</var>，值为 undefined。</p>
                            </ol>
                    </ul>
                <li data-md>
                    <p>返回 <var>promise</var>。</p>
            </ol>
        </div>
        <p class="note" role="note">此处执行的多种抽象操作包括对象创建（通常为 promise），按理需指定对象创建的 realm。但由于加锁，外部代码无法观察到这些对象，因此采用何种 realm
            并不影响行为。</p>
        <div class="algorithm" data-algorithm="ReadableStreamTee">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="ReadableStreamTee"
                id="readable-stream-tee">ReadableStreamTee(<var>stream</var>, <var>cloneForBranch2</var>)</dfn> 会<a
                data-link-type="dfn" href="#tee-a-readable-stream" id="ref-for-tee-a-readable-stream③">分叉</a>给定的可读流。
            <p>第二个参数 <var>cloneForBranch2</var> 控制原始流中的数据是否会在出现在返回的第二个分支前被克隆（使用 HTML 的 <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/structured-data.html#serializable-objects"
                    id="ref-for-serializable-objects">可序列化对象</a>机制）。这对于两分支都会以会互相干扰的方式消费，例如<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/structured-data.html#transferable-objects"
                    id="ref-for-transferable-objects①">转移</a>其<a data-link-type="dfn" href="#chunk"
                    id="ref-for-chunk④⑦">块</a>的场景很有用。但这样会导致两个分支不对称，并限制<a data-link-type="dfn" href="#chunk"
                    id="ref-for-chunk④⑧">块</a>必须可序列化。<a data-link-type="biblio" href="#biblio-html"
                    title="HTML Standard">[HTML]</a></p>
            <p>如果 <var>stream</var> 是<a data-link-type="dfn" href="#readable-byte-stream"
                    id="ref-for-readable-byte-stream①②">可读字节流</a>，则 <var>cloneForBranch2</var> 被忽略，块始终无条件克隆。</p>
            <p class="note" role="note">在本标准中，ReadbleStreamTee 总是以 <var>cloneForBranch2</var> 为 false 调用；其他规范会通过 <a
                    data-link-type="dfn" href="#readablestream-tee" id="ref-for-readablestream-tee">tee</a> 包装算法传递 true。
            </p>
            <p>执行以下步骤：</p>
            <ol>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var> <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#implements" id="ref-for-implements⑤">实现了</a>
                        <code
                            class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream③⑦">ReadableStream</a></code>。
                    </p>
                <li data-md>
                    <p class="assertion">断言：<var>cloneForBranch2</var> 为布尔值。</p>
                <li data-md>
                    <p>如果 <var>stream</var>.<a data-link-type="dfn" href="#readablestream-controller"
                            id="ref-for-readablestream-controller③">[[controller]]</a> <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#implements" id="ref-for-implements⑥">实现了</a>
                        <code
                            class="idl"><a data-link-type="idl" href="#readablebytestreamcontroller" id="ref-for-readablebytestreamcontroller①④">ReadableByteStreamController</a></code>，
                        返回 ? <a data-link-type="abstract-op" href="#abstract-opdef-readablebytestreamtee"
                            id="ref-for-abstract-opdef-readablebytestreamtee">ReadableByteStreamTee</a>(<var>stream</var>)。
                    </p>
                <li data-md>
                    <p>否则，返回 ? <a data-link-type="abstract-op" href="#abstract-opdef-readablestreamdefaulttee"
                            id="ref-for-abstract-opdef-readablestreamdefaulttee">ReadableStreamDefaultTee</a>(<var>stream</var>,
                        <var>cloneForBranch2</var>)。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableStreamDefaultTee">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="ReadableStreamDefaultTee"
                id="abstract-opdef-readablestreamdefaulttee">ReadableStreamDefaultTee(<var>stream</var>,
                <var>cloneForBranch2</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var> <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#implements" id="ref-for-implements⑦">实现了</a>
                        <code
                            class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream③⑧">ReadableStream</a></code>。
                    </p>
                <li data-md>
                    <p class="assertion">断言：<var>cloneForBranch2</var> 为布尔值。</p>
                <li data-md>
                    <p>令 <var>reader</var> 为 ? <a data-link-type="abstract-op" href="#acquire-readable-stream-reader"
                            id="ref-for-acquire-readable-stream-reader④">AcquireReadableStreamDefaultReader</a>(<var>stream</var>)。
                    </p>
                <li data-md>
                    <p>令 <var>reading</var> 为 false。</p>
                <li data-md>
                    <p>令 <var>readAgain</var> 为 false。</p>
                <li data-md>
                    <p>令 <var>canceled1</var> 为 false。</p>
                <li data-md>
                    <p>令 <var>canceled2</var> 为 false。</p>
                <li data-md>
                    <p>令 <var>reason1</var> 为 undefined。</p>
                <li data-md>
                    <p>令 <var>reason2</var> 为 undefined。</p>
                <li data-md>
                    <p>令 <var>branch1</var> 为 undefined。</p>
                <li data-md>
                    <p>令 <var>branch2</var> 为 undefined。</p>
                <li data-md>
                    <p>令 <var>cancelPromise</var> 为<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise④">一个新的
                            promise</a>。</p>
                <li data-md>
                    <p>令 <var>pullAlgorithm</var> 为以下步骤：</p>
                    <ol>
                        <li data-md>
                            <p>如果 <var>reading</var> 为 true，</p>
                            <ol>
                                <li data-md>
                                    <p>设 <var>readAgain</var> 为 true。</p>
                                <li data-md>
                                    <p>返回 <a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                                            id="ref-for-a-promise-resolved-with⑥">以 undefined 解决的 promise</a>。
                                    </p>
                            </ol>
                        <li data-md>
                            <p>设 <var>reading</var> 为 true。</p>
                        <li data-md>
                            <p>令 <var>readRequest</var> 为一个<a data-link-type="dfn" href="#read-request"
                                    id="ref-for-read-request③">读取请求</a>，包含如下<a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item⑦">项</a>：
                            </p>
                            <dl>
                                <dt data-md><a data-link-type="dfn" href="#read-request-chunk-steps"
                                        id="ref-for-read-request-chunk-steps③">chunk steps</a>，参数 <var>chunk</var>
                                <dd data-md>
                                    <ol>
                                        <li data-md>
                                            <p><a data-link-type="dfn"
                                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-microtask"
                                                    id="ref-for-queue-a-microtask">队列一个 microtask</a>执行如下步骤：</p>
                                            <ol>
                                                <li data-md>
                                                    <p>设 <var>readAgain</var> 为 false。</p>
                                                <li data-md>
                                                    <p>令 <var>chunk1</var> 和 <var>chunk2</var> 皆为 <var>chunk</var>。</p>
                                                <li data-md>
                                                    <p>如果 <var>canceled2</var> 为 false 且 <var>cloneForBranch2</var> 为
                                                        true，</p>
                                                    <ol>
                                                        <li data-md>
                                                            <p>令 <var>cloneResult</var> 为 <a
                                                                    data-link-type="abstract-op"
                                                                    href="#abstract-opdef-structuredclone"
                                                                    id="ref-for-abstract-opdef-structuredclone">StructuredClone</a>(<var>chunk2</var>)。
                                                            </p>
                                                        <li data-md>
                                                            <p>如果 <var>cloneResult</var> 是异常完成，</p>
                                                            <ol>
                                                                <li data-md>
                                                                    <p>执行 ! <a data-link-type="abstract-op"
                                                                            href="#readable-stream-default-controller-error"
                                                                            id="ref-for-readable-stream-default-controller-error①">ReadableStreamDefaultControllerError</a>(<var>branch1</var>.<a
                                                                            data-link-type="dfn"
                                                                            href="#readablestream-controller"
                                                                            id="ref-for-readablestream-controller④">[[controller]]</a>,
                                                                        <var>cloneResult</var>.[[Value]])。
                                                                    </p>
                                                                <li data-md>
                                                                    <p>执行 ! <a data-link-type="abstract-op"
                                                                            href="#readable-stream-default-controller-error"
                                                                            id="ref-for-readable-stream-default-controller-error②">ReadableStreamDefaultControllerError</a>(<var>branch2</var>.<a
                                                                            data-link-type="dfn"
                                                                            href="#readablestream-controller"
                                                                            id="ref-for-readablestream-controller⑤">[[controller]]</a>,
                                                                        <var>cloneResult</var>.[[Value]])。
                                                                    </p>
                                                                <li data-md>
                                                                    <p><a data-link-type="dfn"
                                                                            href="https://webidl.spec.whatwg.org/#resolve"
                                                                            id="ref-for-resolve⑦">解决</a>
                                                                        <var>cancelPromise</var>，值为 ! <a
                                                                            data-link-type="abstract-op"
                                                                            href="#readable-stream-cancel"
                                                                            id="ref-for-readable-stream-cancel④">ReadableStreamCancel</a>(<var>stream</var>,
                                                                        <var>cloneResult</var>.[[Value]])。
                                                                    </p>
                                                                <li data-md>
                                                                    <p>返回。</p>
                                                            </ol>
                                                        <li data-md>
                                                            <p>否则，设 <var>chunk2</var> 为
                                                                <var>cloneResult</var>.[[Value]]。
                                                            </p>
                                                    </ol>
                                                <li data-md>
                                                    <p>如果 <var>canceled1</var> 为 false，执行 ! <a
                                                            data-link-type="abstract-op"
                                                            href="#readable-stream-default-controller-enqueue"
                                                            id="ref-for-readable-stream-default-controller-enqueue②">ReadableStreamDefaultControllerEnqueue</a>(<var>branch1</var>.<a
                                                            data-link-type="dfn" href="#readablestream-controller"
                                                            id="ref-for-readablestream-controller⑥">[[controller]]</a>,
                                                        <var>chunk1</var>)。
                                                    </p>
                                                <li data-md>
                                                    <p>如果 <var>canceled2</var> 为 false，执行 ! <a
                                                            data-link-type="abstract-op"
                                                            href="#readable-stream-default-controller-enqueue"
                                                            id="ref-for-readable-stream-default-controller-enqueue③">ReadableStreamDefaultControllerEnqueue</a>(<var>branch2</var>.<a
                                                            data-link-type="dfn" href="#readablestream-controller"
                                                            id="ref-for-readablestream-controller⑦">[[controller]]</a>,
                                                        <var>chunk2</var>)。
                                                    </p>
                                                <li data-md>
                                                    <p>设 <var>reading</var> 为 false。</p>
                                                <li data-md>
                                                    <p>如果 <var>readAgain</var> 为 true，执行
                                                        <var>pullAlgorithm</var>。
                                                    </p>
                                            </ol>
                                    </ol>
                                    <p class="note" role="note">这里的 microtask 延迟是必要的，因为要检测错误至少需要一个 microtask（见下文
                                        <var>reader</var>.<a data-link-type="dfn"
                                            href="#readablestreamgenericreader-closedpromise"
                                            id="ref-for-readablestreamgenericreader-closedpromise①">[[closedPromise]]</a>）。
                                        这样才能保证流的错误会立即传递到两个分支，而不会先发生成功同步读取。
                                    </p>
                                <dt data-md><a data-link-type="dfn" href="#read-request-close-steps"
                                        id="ref-for-read-request-close-steps②">close steps</a>
                                <dd data-md>
                                    <ol>
                                        <li data-md>
                                            <p>设 <var>reading</var> 为 false。</p>
                                        <li data-md>
                                            <p>如果 <var>canceled1</var> 为 false，执行 ! <a data-link-type="abstract-op"
                                                    href="#readable-stream-default-controller-close"
                                                    id="ref-for-readable-stream-default-controller-close②">ReadableStreamDefaultControllerClose</a>(<var>branch1</var>.<a
                                                    data-link-type="dfn" href="#readablestream-controller"
                                                    id="ref-for-readablestream-controller⑧">[[controller]]</a>)。</p>
                                        <li data-md>
                                            <p>如果 <var>canceled2</var> 为 false，执行 ! <a data-link-type="abstract-op"
                                                    href="#readable-stream-default-controller-close"
                                                    id="ref-for-readable-stream-default-controller-close③">ReadableStreamDefaultControllerClose</a>(<var>branch2</var>.<a
                                                    data-link-type="dfn" href="#readablestream-controller"
                                                    id="ref-for-readablestream-controller⑨">[[controller]]</a>)。</p>
                                        <li data-md>
                                            <p>如果 <var>canceled1</var> 为 false 或 <var>canceled2</var> 为 false，<a
                                                    data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                                    id="ref-for-resolve⑧">解决</a> <var>cancelPromise</var>，值为 undefined。
                                            </p>
                                    </ol>
                                <dt data-md><a data-link-type="dfn" href="#read-request-error-steps"
                                        id="ref-for-read-request-error-steps③">error steps</a>
                                <dd data-md>
                                    <ol>
                                        <li data-md>
                                            <p>设 <var>reading</var> 为 false。</p>
                                    </ol>
                            </dl>
                        <li data-md>
                            <p>执行 ! <a data-link-type="abstract-op" href="#readable-stream-default-reader-read"
                                    id="ref-for-readable-stream-default-reader-read②">ReadableStreamDefaultReaderRead</a>(<var>reader</var>,
                                <var>readRequest</var>)。
                            </p>
                        <li data-md>
                            <p>返回 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                                    id="ref-for-a-promise-resolved-with⑦">以 undefined 解决的 promise</a>。</p>
                    </ol>
                <li data-md>
                    <p>令 <var>cancel1Algorithm</var> 为以下步骤，参数 <var>reason</var>：</p>
                    <ol>
                        <li data-md>
                            <p>设 <var>canceled1</var> 为 true。</p>
                        <li data-md>
                            <p>设 <var>reason1</var> 为 <var>reason</var>。</p>
                        <li data-md>
                            <p>如果 <var>canceled2</var> 为 true，</p>
                            <ol>
                                <li data-md>
                                    <p>令 <var>compositeReason</var> 为 ! <a data-link-type="abstract-op"
                                            href="https://tc39.es/ecma262/multipage/abstract-operations.html#sec-createarrayfromlist"
                                            id="ref-for-sec-createarrayfromlist">CreateArrayFromList</a>(«
                                        <var>reason1</var>, <var>reason2</var> »)。
                                    </p>
                                <li data-md>
                                    <p>令 <var>cancelResult</var> 为 ! <a data-link-type="abstract-op"
                                            href="#readable-stream-cancel"
                                            id="ref-for-readable-stream-cancel⑤">ReadableStreamCancel</a>(<var>stream</var>,
                                        <var>compositeReason</var>)。
                                    </p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                            id="ref-for-resolve⑨">解决</a> <var>cancelPromise</var>，值为
                                        <var>cancelResult</var>。
                                    </p>
                            </ol>
                        <li data-md>
                            <p>返回 <var>cancelPromise</var>。</p>
                    </ol>
                <li data-md>
                    <p>令 <var>cancel2Algorithm</var> 为以下步骤，参数 <var>reason</var>：</p>
                    <ol>
                        <li data-md>
                            <p>设 <var>canceled2</var> 为 true。</p>
                        <li data-md>
                            <p>设 <var>reason2</var> 为 <var>reason</var>。</p>
                        <li data-md>
                            <p>如果 <var>canceled1</var> 为 true，</p>
                            <ol>
                                <li data-md>
                                    <p>令 <var>compositeReason</var> 为 ! <a data-link-type="abstract-op"
                                            href="https://tc39.es/ecma262/multipage/abstract-operations.html#sec-createarrayfromlist"
                                            id="ref-for-sec-createarrayfromlist①">CreateArrayFromList</a>(«
                                        <var>reason1</var>, <var>reason2</var> »)。
                                    </p>
                                <li data-md>
                                    <p>令 <var>cancelResult</var> 为 ! <a data-link-type="abstract-op"
                                            href="#readable-stream-cancel"
                                            id="ref-for-readable-stream-cancel⑥">ReadableStreamCancel</a>(<var>stream</var>,
                                        <var>compositeReason</var>)。
                                    </p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                            id="ref-for-resolve①⓪">解决</a> <var>cancelPromise</var>，值为
                                        <var>cancelResult</var>。
                                    </p>
                            </ol>
                        <li data-md>
                            <p>返回 <var>cancelPromise</var>。</p>
                    </ol>
                <li data-md>
                    <p>令 <var>startAlgorithm</var> 为一个返回 undefined 的算法。</p>
                <li data-md>
                    <p>设 <var>branch1</var> 为 ! <a data-link-type="abstract-op" href="#create-readable-stream"
                            id="ref-for-create-readable-stream①">CreateReadableStream</a>(<var>startAlgorithm</var>,
                        <var>pullAlgorithm</var>, <var>cancel1Algorithm</var>)。
                    </p>
                <li data-md>
                    <p>设 <var>branch2</var> 为 ! <a data-link-type="abstract-op" href="#create-readable-stream"
                            id="ref-for-create-readable-stream②">CreateReadableStream</a>(<var>startAlgorithm</var>,
                        <var>pullAlgorithm</var>, <var>cancel2Algorithm</var>)。
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#upon-rejection"
                            id="ref-for-upon-rejection①">当拒绝</a> <var>reader</var>.<a data-link-type="dfn"
                            href="#readablestreamgenericreader-closedpromise"
                            id="ref-for-readablestreamgenericreader-closedpromise②">[[closedPromise]]</a>，原因为
                        <var>r</var>，
                    </p>
                    <ol>
                        <li data-md>
                            <p>执行 ! <a data-link-type="abstract-op" href="#readable-stream-default-controller-error"
                                    id="ref-for-readable-stream-default-controller-error③">ReadableStreamDefaultControllerError</a>(<var>branch1</var>.<a
                                    data-link-type="dfn" href="#readablestream-controller"
                                    id="ref-for-readablestream-controller①⓪">[[controller]]</a>, <var>r</var>)。</p>
                        <li data-md>
                            <p>执行 ! <a data-link-type="abstract-op" href="#readable-stream-default-controller-error"
                                    id="ref-for-readable-stream-default-controller-error④">ReadableStreamDefaultControllerError</a>(<var>branch2</var>.<a
                                    data-link-type="dfn" href="#readablestream-controller"
                                    id="ref-for-readablestream-controller①①">[[controller]]</a>, <var>r</var>)。</p>
                        <li data-md>
                            <p>如果 <var>canceled1</var> 为 false 或 <var>canceled2</var> 为 false，<a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve①①">解决</a>
                                <var>cancelPromise</var>，值为 undefined。
                            </p>
                    </ol>
                <li data-md>
                    <p>返回 « <var>branch1</var>, <var>branch2</var> »。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableByteStreamTee">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="ReadableByteStreamTee"
                id="abstract-opdef-readablebytestreamtee">ReadableByteStreamTee(<var>stream</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var> <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#implements" id="ref-for-implements⑧">实现了</a>
                        <code
                            class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream③⑨">ReadableStream</a></code>。
                    </p>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn" href="#readablestream-controller"
                            id="ref-for-readablestream-controller①②">[[controller]]</a> <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#implements" id="ref-for-implements⑨">实现了</a>
                        <code
                            class="idl"><a data-link-type="idl" href="#readablebytestreamcontroller" id="ref-for-readablebytestreamcontroller①⑤">ReadableByteStreamController</a></code>。
                    </p>
                <li data-md>
                    <p>令 <var>reader</var> 为 ? <a data-link-type="abstract-op" href="#acquire-readable-stream-reader"
                            id="ref-for-acquire-readable-stream-reader⑤">AcquireReadableStreamDefaultReader</a>(<var>stream</var>)。
                    </p>
                <li data-md>
                    <p>令 <var>reading</var> 为 false。</p>
                <li data-md>
                    <p>令 <var>readAgainForBranch1</var> 为 false。</p>
                <li data-md>
                    <p>令 <var>readAgainForBranch2</var> 为 false。</p>
                <li data-md>
                    <p>令 <var>canceled1</var> 为 false。</p>
                <li data-md>
                    <p>令 <var>canceled2</var> 为 false。</p>
                <li data-md>
                    <p>令 <var>reason1</var> 为 undefined。</p>
                <li data-md>
                    <p>令 <var>reason2</var> 为 undefined。</p>
                <li data-md>
                    <p>令 <var>branch1</var> 为 undefined。</p>
                <li data-md>
                    <p>令 <var>branch2</var> 为 undefined。</p>
                <li data-md>
                    <p>令 <var>cancelPromise</var> 为<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise⑤">一个新的
                            promise</a>。</p>
                <li data-md>
                    <p>令 <var>forwardReaderError</var> 为下述步骤，参数 <var>thisReader</var>：</p>
                    <ol>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#upon-rejection"
                                    id="ref-for-upon-rejection②">当拒绝</a> <var>thisReader</var>.<a data-link-type="dfn"
                                    href="#readablestreamgenericreader-closedpromise"
                                    id="ref-for-readablestreamgenericreader-closedpromise③">[[closedPromise]]</a>，原因为
                                <var>r</var>，
                            </p>
                            <ol>
                                <li data-md>
                                    <p>如果 <var>thisReader</var> 不等于 <var>reader</var>，返回。</p>
                                <li data-md>
                                    <p>执行 ! <a data-link-type="abstract-op"
                                            href="#readable-byte-stream-controller-error"
                                            id="ref-for-readable-byte-stream-controller-error①">ReadableByteStreamControllerError</a>(<var>branch1</var>.<a
                                            data-link-type="dfn" href="#readablestream-controller"
                                            id="ref-for-readablestream-controller①③">[[controller]]</a>, <var>r</var>)。
                                    </p>
                                <li data-md>
                                    <p>执行 ! <a data-link-type="abstract-op"
                                            href="#readable-byte-stream-controller-error"
                                            id="ref-for-readable-byte-stream-controller-error②">ReadableByteStreamControllerError</a>(<var>branch2</var>.<a
                                            data-link-type="dfn" href="#readablestream-controller"
                                            id="ref-for-readablestream-controller①④">[[controller]]</a>, <var>r</var>)。
                                    </p>
                                <li data-md>
                                    <p>若 <var>canceled1</var> 为 false 或 <var>canceled2</var> 为 false，<a
                                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                            id="ref-for-resolve①②">解决</a> <var>cancelPromise</var>，值为 undefined。
                                    </p>
                            </ol>
                    </ol>
                <li data-md>
                    <p>令 <var>pullWithDefaultReader</var> 为下述步骤：</p>
                    <ol>
                        <li data-md>
                            <p>如果 <var>reader</var> <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#implements" id="ref-for-implements①⓪">实现了</a>
                                <code
                                    class="idl"><a data-link-type="idl" href="#readablestreambyobreader" id="ref-for-readablestreambyobreader①②">ReadableStreamBYOBReader</a></code>，
                            </p>
                            <ol>
                                <li data-md>
                                    <p class="assertion">断言：<var>reader</var>.<a data-link-type="dfn"
                                            href="#readablestreambyobreader-readintorequests"
                                            id="ref-for-readablestreambyobreader-readintorequests">[[readIntoRequests]]</a>
                                        为空。</p>
                                <li data-md>
                                    <p>执行 ! <a data-link-type="abstract-op"
                                            href="#abstract-opdef-readablestreambyobreaderrelease"
                                            id="ref-for-abstract-opdef-readablestreambyobreaderrelease②">ReadableStreamBYOBReaderRelease</a>(<var>reader</var>)。
                                    </p>
                                <li data-md>
                                    <p>设 <var>reader</var> 为 ! <a data-link-type="abstract-op"
                                            href="#acquire-readable-stream-reader"
                                            id="ref-for-acquire-readable-stream-reader⑥">AcquireReadableStreamDefaultReader</a>(<var>stream</var>)。
                                    </p>
                                <li data-md>
                                    <p>执行 <var>forwardReaderError</var>，参数 <var>reader</var>。</p>
                            </ol>
                        <li data-md>
                            <p>令 <var>readRequest</var> 为一个<a data-link-type="dfn" href="#read-request"
                                    id="ref-for-read-request④">读取请求</a>，包含如下<a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item⑧">项</a>：
                            </p>
                            <dl>
                                <dt data-md><a data-link-type="dfn" href="#read-request-chunk-steps"
                                        id="ref-for-read-request-chunk-steps④">chunk steps</a>，参数 <var>chunk</var>
                                <dd data-md>
                                    <ol>
                                        <li data-md>
                                            <p><a data-link-type="dfn"
                                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-microtask"
                                                    id="ref-for-queue-a-microtask①">队列一个 microtask</a>，执行以下步骤：</p>
                                            <ol>
                                                <li data-md>
                                                    <p>设 <var>readAgainForBranch1</var> 和 <var>readAgainForBranch2</var>
                                                        均为 false。</p>
                                                <li data-md>
                                                    <p>令 <var>chunk1</var> 和 <var>chunk2</var> 都为 <var>chunk</var>。</p>
                                                <li data-md>
                                                    <p>若 <var>canceled1</var> 和 <var>canceled2</var> 均为 false，</p>
                                                    <ol>
                                                        <li data-md>
                                                            <p>令 <var>cloneResult</var> 为 <a
                                                                    data-link-type="abstract-op"
                                                                    href="#abstract-opdef-cloneasuint8array"
                                                                    id="ref-for-abstract-opdef-cloneasuint8array">CloneAsUint8Array</a>(<var>chunk</var>)。
                                                            </p>
                                                        <li data-md>
                                                            <p>若 <var>cloneResult</var> 为异常完成，</p>
                                                            <ol>
                                                                <li data-md>
                                                                    <p>执行 ! <a data-link-type="abstract-op"
                                                                            href="#readable-byte-stream-controller-error"
                                                                            id="ref-for-readable-byte-stream-controller-error③">ReadableByteStreamControllerError</a>(<var>branch1</var>.<a
                                                                            data-link-type="dfn"
                                                                            href="#readablestream-controller"
                                                                            id="ref-for-readablestream-controller①⑤">[[controller]]</a>,
                                                                        <var>cloneResult</var>.[[Value]])。
                                                                    </p>
                                                                <li data-md>
                                                                    <p>执行 ! <a data-link-type="abstract-op"
                                                                            href="#readable-byte-stream-controller-error"
                                                                            id="ref-for-readable-byte-stream-controller-error④">ReadableByteStreamControllerError</a>(<var>branch2</var>.<a
                                                                            data-link-type="dfn"
                                                                            href="#readablestream-controller"
                                                                            id="ref-for-readablestream-controller①⑥">[[controller]]</a>,
                                                                        <var>cloneResult</var>.[[Value]])。
                                                                    </p>
                                                                <li data-md>
                                                                    <p><a data-link-type="dfn"
                                                                            href="https://webidl.spec.whatwg.org/#resolve"
                                                                            id="ref-for-resolve①③">解决</a>
                                                                        <var>cancelPromise</var>，值为 ! <a
                                                                            data-link-type="abstract-op"
                                                                            href="#readable-stream-cancel"
                                                                            id="ref-for-readable-stream-cancel⑦">ReadableStreamCancel</a>(<var>stream</var>,
                                                                        <var>cloneResult</var>.[[Value]])。
                                                                    </p>
                                                                <li data-md>
                                                                    <p>返回。</p>
                                                            </ol>
                                                        <li data-md>
                                                            <p>否则，设 <var>chunk2</var> 为
                                                                <var>cloneResult</var>.[[Value]]。
                                                            </p>
                                                    </ol>
                                                <li data-md>
                                                    <p>若 <var>canceled1</var> 为 false，执行 ! <a
                                                            data-link-type="abstract-op"
                                                            href="#readable-byte-stream-controller-enqueue"
                                                            id="ref-for-readable-byte-stream-controller-enqueue①">ReadableByteStreamControllerEnqueue</a>(<var>branch1</var>.<a
                                                            data-link-type="dfn" href="#readablestream-controller"
                                                            id="ref-for-readablestream-controller①⑦">[[controller]]</a>,
                                                        <var>chunk1</var>)。
                                                    </p>
                                                <li data-md>
                                                    <p>若 <var>canceled2</var> 为 false，执行 ! <a
                                                            data-link-type="abstract-op"
                                                            href="#readable-byte-stream-controller-enqueue"
                                                            id="ref-for-readable-byte-stream-controller-enqueue②">ReadableByteStreamControllerEnqueue</a>(<var>branch2</var>.<a
                                                            data-link-type="dfn" href="#readablestream-controller"
                                                            id="ref-for-readablestream-controller①⑧">[[controller]]</a>,
                                                        <var>chunk2</var>)。
                                                    </p>
                                                <li data-md>
                                                    <p>设 <var>reading</var> 为 false。</p>
                                                <li data-md>
                                                    <p>若 <var>readAgainForBranch1</var> 为 true，执行
                                                        <var>pull1Algorithm</var>。
                                                    </p>
                                                <li data-md>
                                                    <p>否则如 <var>readAgainForBranch2</var> 为 true，执行
                                                        <var>pull2Algorithm</var>。
                                                    </p>
                                            </ol>
                                    </ol>
                                    <p class="note" role="note">此处 microtask 延迟是必要的，因为要检测错误至少需要一个 microtask，见下文
                                        <var>reader</var>.<a data-link-type="dfn"
                                            href="#readablestreamgenericreader-closedpromise"
                                            id="ref-for-readablestreamgenericreader-closedpromise④">[[closedPromise]]</a>。
                                        这样可保证流错误立即传递到两个分支，而不会让同步读取领先于异步错误。
                                    </p>
                                <dt data-md><a data-link-type="dfn" href="#read-request-close-steps"
                                        id="ref-for-read-request-close-steps③">close steps</a>
                                <dd data-md>
                                    <ol>
                                        <li data-md>
                                            <p>设 <var>reading</var> 为 false。</p>
                                        <li data-md>
                                            <p>若 <var>canceled1</var> 为 false，执行 ! <a data-link-type="abstract-op"
                                                    href="#readable-byte-stream-controller-close"
                                                    id="ref-for-readable-byte-stream-controller-close①">ReadableByteStreamControllerClose</a>(<var>branch1</var>.<a
                                                    data-link-type="dfn" href="#readablestream-controller"
                                                    id="ref-for-readablestream-controller①⑨">[[controller]]</a>)。</p>
                                        <li data-md>
                                            <p>若 <var>canceled2</var> 为 false，执行 ! <a data-link-type="abstract-op"
                                                    href="#readable-byte-stream-controller-close"
                                                    id="ref-for-readable-byte-stream-controller-close②">ReadableByteStreamControllerClose</a>(<var>branch2</var>.<a
                                                    data-link-type="dfn" href="#readablestream-controller"
                                                    id="ref-for-readablestream-controller②⓪">[[controller]]</a>)。</p>
                                        <li data-md>
                                            <p>若 <var>branch1</var>.<a data-link-type="dfn"
                                                    href="#readablestream-controller"
                                                    id="ref-for-readablestream-controller②①">[[controller]]</a>.<a
                                                    data-link-type="dfn"
                                                    href="#readablebytestreamcontroller-pendingpullintos"
                                                    id="ref-for-readablebytestreamcontroller-pendingpullintos④">[[pendingPullIntos]]</a>
                                                非空，执行 ! <a data-link-type="abstract-op"
                                                    href="#readable-byte-stream-controller-respond"
                                                    id="ref-for-readable-byte-stream-controller-respond①">ReadableByteStreamControllerRespond</a>(<var>branch1</var>.<a
                                                    data-link-type="dfn" href="#readablestream-controller"
                                                    id="ref-for-readablestream-controller②②">[[controller]]</a>, 0)。</p>
                                        <li data-md>
                                            <p>若 <var>branch2</var>.<a data-link-type="dfn"
                                                    href="#readablestream-controller"
                                                    id="ref-for-readablestream-controller②③">[[controller]]</a>.<a
                                                    data-link-type="dfn"
                                                    href="#readablebytestreamcontroller-pendingpullintos"
                                                    id="ref-for-readablebytestreamcontroller-pendingpullintos⑤">[[pendingPullIntos]]</a>
                                                非空，执行 ! <a data-link-type="abstract-op"
                                                    href="#readable-byte-stream-controller-respond"
                                                    id="ref-for-readable-byte-stream-controller-respond②">ReadableByteStreamControllerRespond</a>(<var>branch2</var>.<a
                                                    data-link-type="dfn" href="#readablestream-controller"
                                                    id="ref-for-readablestream-controller②④">[[controller]]</a>, 0)。</p>
                                        <li data-md>
                                            <p>若 <var>canceled1</var> 为 false 或 <var>canceled2</var> 为 false，<a
                                                    data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                                    id="ref-for-resolve①④">解决</a> <var>cancelPromise</var>，值为 undefined。
                                            </p>
                                    </ol>
                                <dt data-md><a data-link-type="dfn" href="#read-request-error-steps"
                                        id="ref-for-read-request-error-steps④">error steps</a>
                                <dd data-md>
                                    <ol>
                                        <li data-md>
                                            <p>设 <var>reading</var> 为 false。</p>
                                    </ol>
                            </dl>
                        <li data-md>
                            <p>执行 ! <a data-link-type="abstract-op" href="#readable-stream-default-reader-read"
                                    id="ref-for-readable-stream-default-reader-read③">ReadableStreamDefaultReaderRead</a>(<var>reader</var>,
                                <var>readRequest</var>)。
                            </p>
                    </ol>
                <li data-md>
                    <p>令 <var>pullWithBYOBReader</var> 为下述步骤，参数 <var>view</var> 和 <var>forBranch2</var>：</p>
                    <ol>
                        <li data-md>
                            <p>如果 <var>reader</var> <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#implements" id="ref-for-implements①①">实现了</a>
                                <code
                                    class="idl"><a data-link-type="idl" href="#readablestreamdefaultreader" id="ref-for-readablestreamdefaultreader①①">ReadableStreamDefaultReader</a></code>，
                            </p>
                            <ol>
                                <li data-md>
                                    <p class="assertion">断言：<var>reader</var>.<a data-link-type="dfn"
                                            href="#readablestreamdefaultreader-readrequests"
                                            id="ref-for-readablestreamdefaultreader-readrequests①">[[readRequests]]</a>
                                        为空。</p>
                                <li data-md>
                                    <p>执行 ! <a data-link-type="abstract-op"
                                            href="#abstract-opdef-readablestreamdefaultreaderrelease"
                                            id="ref-for-abstract-opdef-readablestreamdefaultreaderrelease⑥">ReadableStreamDefaultReaderRelease</a>(<var>reader</var>)。
                                    </p>
                                <li data-md>
                                    <p>设 <var>reader</var> 为 ! <a data-link-type="abstract-op"
                                            href="#acquire-readable-stream-byob-reader"
                                            id="ref-for-acquire-readable-stream-byob-reader②">AcquireReadableStreamBYOBReader</a>(<var>stream</var>)。
                                    </p>
                                <li data-md>
                                    <p>执行 <var>forwardReaderError</var>，参数 <var>reader</var>。</p>
                            </ol>
                        <li data-md>
                            <p>令 <var>byobBranch</var> 为 <var>branch2</var> 若 <var>forBranch2</var> 为 true，否则为
                                <var>branch1</var>。
                            </p>
                        <li data-md>
                            <p>令 <var>otherBranch</var> 为 <var>branch2</var> 若 <var>forBranch2</var> 为 false，否则为
                                <var>branch1</var>。
                            </p>
                        <li data-md>
                            <p>令 <var>readIntoRequest</var> 为一个<a data-link-type="dfn" href="#read-into-request"
                                    id="ref-for-read-into-request②">read-into 请求</a>，包含如下<a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item⑨">项</a>：
                            </p>
                            <dl>
                                <dt data-md><a data-link-type="dfn" href="#read-into-request-chunk-steps"
                                        id="ref-for-read-into-request-chunk-steps①">chunk steps</a>，参数 <var>chunk</var>
                                <dd data-md>
                                    <ol>
                                        <li data-md>
                                            <p><a data-link-type="dfn"
                                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-microtask"
                                                    id="ref-for-queue-a-microtask②">队列一个 microtask</a>，执行以下步骤：</p>
                                            <ol>
                                                <li data-md>
                                                    <p>设 <var>readAgainForBranch1</var>、<var>readAgainForBranch2</var>
                                                        均为 false。</p>
                                                <li data-md>
                                                    <p>令 <var>byobCanceled</var> 为 <var>canceled2</var> 若
                                                        <var>forBranch2</var> 为 true，否则为 <var>canceled1</var>。
                                                    </p>
                                                <li data-md>
                                                    <p>令 <var>otherCanceled</var> 为 <var>canceled2</var> 若
                                                        <var>forBranch2</var> 为 false，否则为 <var>canceled1</var>。
                                                    </p>
                                                <li data-md>
                                                    <p>若 <var>otherCanceled</var> 为 false，</p>
                                                    <ol>
                                                        <li data-md>
                                                            <p>令 <var>cloneResult</var> 为 <a
                                                                    data-link-type="abstract-op"
                                                                    href="#abstract-opdef-cloneasuint8array"
                                                                    id="ref-for-abstract-opdef-cloneasuint8array①">CloneAsUint8Array</a>(<var>chunk</var>)。
                                                            </p>
                                                        <li data-md>
                                                            <p>若 <var>cloneResult</var> 为异常完成，</p>
                                                            <ol>
                                                                <li data-md>
                                                                    <p>执行 ! <a data-link-type="abstract-op"
                                                                            href="#readable-byte-stream-controller-error"
                                                                            id="ref-for-readable-byte-stream-controller-error⑤">ReadableByteStreamControllerError</a>(<var>byobBranch</var>.<a
                                                                            data-link-type="dfn"
                                                                            href="#readablestream-controller"
                                                                            id="ref-for-readablestream-controller②⑤">[[controller]]</a>,
                                                                        <var>cloneResult</var>.[[Value]])。
                                                                    </p>
                                                                <li data-md>
                                                                    <p>执行 ! <a data-link-type="abstract-op"
                                                                            href="#readable-byte-stream-controller-error"
                                                                            id="ref-for-readable-byte-stream-controller-error⑥">ReadableByteStreamControllerError</a>(<var>otherBranch</var>.<a
                                                                            data-link-type="dfn"
                                                                            href="#readablestream-controller"
                                                                            id="ref-for-readablestream-controller②⑥">[[controller]]</a>,
                                                                        <var>cloneResult</var>.[[Value]])。
                                                                    </p>
                                                                <li data-md>
                                                                    <p><a data-link-type="dfn"
                                                                            href="https://webidl.spec.whatwg.org/#resolve"
                                                                            id="ref-for-resolve①⑤">解决</a>
                                                                        <var>cancelPromise</var>，值为 ! <a
                                                                            data-link-type="abstract-op"
                                                                            href="#readable-stream-cancel"
                                                                            id="ref-for-readable-stream-cancel⑧">ReadableStreamCancel</a>(<var>stream</var>,
                                                                        <var>cloneResult</var>.[[Value]])。
                                                                    </p>
                                                                <li data-md>
                                                                    <p>返回。</p>
                                                            </ol>
                                                        <li data-md>
                                                            <p>否则，令 <var>clonedChunk</var> 为
                                                                <var>cloneResult</var>.[[Value]]。
                                                            </p>
                                                        <li data-md>
                                                            <p>若 <var>byobCanceled</var> 为 false，执行 ! <a
                                                                    data-link-type="abstract-op"
                                                                    href="#readable-byte-stream-controller-respond-with-new-view"
                                                                    id="ref-for-readable-byte-stream-controller-respond-with-new-view①">ReadableByteStreamControllerRespondWithNewView</a>(<var>byobBranch</var>.<a
                                                                    data-link-type="dfn"
                                                                    href="#readablestream-controller"
                                                                    id="ref-for-readablestream-controller②⑦">[[controller]]</a>,
                                                                <var>chunk</var>)。
                                                            </p>
                                                        <li data-md>
                                                            <p>执行 ! <a data-link-type="abstract-op"
                                                                    href="#readable-byte-stream-controller-enqueue"
                                                                    id="ref-for-readable-byte-stream-controller-enqueue③">ReadableByteStreamControllerEnqueue</a>(<var>otherBranch</var>.<a
                                                                    data-link-type="dfn"
                                                                    href="#readablestream-controller"
                                                                    id="ref-for-readablestream-controller②⑧">[[controller]]</a>,
                                                                <var>clonedChunk</var>)。
                                                            </p>
                                                    </ol>
                                                <li data-md>
                                                    <p>否则如 <var>byobCanceled</var> 为 false，执行 ! <a
                                                            data-link-type="abstract-op"
                                                            href="#readable-byte-stream-controller-respond-with-new-view"
                                                            id="ref-for-readable-byte-stream-controller-respond-with-new-view②">ReadableByteStreamControllerRespondWithNewView</a>(<var>byobBranch</var>.<a
                                                            data-link-type="dfn" href="#readablestream-controller"
                                                            id="ref-for-readablestream-controller②⑨">[[controller]]</a>,
                                                        <var>chunk</var>)。
                                                    </p>
                                                <li data-md>
                                                    <p>设 <var>reading</var> 为 false。</p>
                                                <li data-md>
                                                    <p>若 <var>readAgainForBranch1</var> 为 true，执行
                                                        <var>pull1Algorithm</var>。
                                                    </p>
                                                <li data-md>
                                                    <p>否则如 <var>readAgainForBranch2</var> 为 true，执行
                                                        <var>pull2Algorithm</var>。
                                                    </p>
                                            </ol>
                                    </ol>
                                    <p class="note" role="note">此处 microtask 延迟是必要的，因为要检测错误至少需要一个 microtask，见下文
                                        <var>reader</var>.<a data-link-type="dfn"
                                            href="#readablestreamgenericreader-closedpromise"
                                            id="ref-for-readablestreamgenericreader-closedpromise⑤">[[closedPromise]]</a>。
                                        这样可保证流错误立即传递到两个分支，而不会让同步读取领先于异步错误。
                                    </p>
                                <dt data-md><a data-link-type="dfn" href="#read-into-request-close-steps"
                                        id="ref-for-read-into-request-close-steps②">close steps</a>，参数 <var>chunk</var>
                                <dd data-md>
                                    <ol>
                                        <li data-md>
                                            <p>设 <var>reading</var> 为 false。</p>
                                        <li data-md>
                                            <p>令 <var>byobCanceled</var> 为 <var>canceled2</var> 若 <var>forBranch2</var>
                                                为 true，否则为 <var>canceled1</var>。</p>
                                        <li data-md>
                                            <p>令 <var>otherCanceled</var> 为 <var>canceled2</var> 若 <var>forBranch2</var>
                                                为 false，否则为 <var>canceled1</var>。</p>
                                        <li data-md>
                                            <p>若 <var>byobCanceled</var> 为 false，执行 ! <a data-link-type="abstract-op"
                                                    href="#readable-byte-stream-controller-close"
                                                    id="ref-for-readable-byte-stream-controller-close③">ReadableByteStreamControllerClose</a>(<var>byobBranch</var>.<a
                                                    data-link-type="dfn" href="#readablestream-controller"
                                                    id="ref-for-readablestream-controller③⓪">[[controller]]</a>)。</p>
                                        <li data-md>
                                            <p>若 <var>otherCanceled</var> 为 false，执行 ! <a data-link-type="abstract-op"
                                                    href="#readable-byte-stream-controller-close"
                                                    id="ref-for-readable-byte-stream-controller-close④">ReadableByteStreamControllerClose</a>(<var>otherBranch</var>.<a
                                                    data-link-type="dfn" href="#readablestream-controller"
                                                    id="ref-for-readablestream-controller③①">[[controller]]</a>)。</p>
                                        <li data-md>
                                            <p>如果 <var>chunk</var> 不为 undefined，</p>
                                            <ol>
                                                <li data-md>
                                                    <p class="assertion">断言：<var>chunk</var>.[[ByteLength]] 为 0。</p>
                                                <li data-md>
                                                    <p>若 <var>byobCanceled</var> 为 false，执行 ! <a
                                                            data-link-type="abstract-op"
                                                            href="#readable-byte-stream-controller-respond-with-new-view"
                                                            id="ref-for-readable-byte-stream-controller-respond-with-new-view③">ReadableByteStreamControllerRespondWithNewView</a>(<var>byobBranch</var>.<a
                                                            data-link-type="dfn" href="#readablestream-controller"
                                                            id="ref-for-readablestream-controller③②">[[controller]]</a>,
                                                        <var>chunk</var>)。
                                                    </p>
                                                <li data-md>
                                                    <p>若 <var>otherCanceled</var> 为 false 且
                                                        <var>otherBranch</var>.<a data-link-type="dfn"
                                                            href="#readablestream-controller"
                                                            id="ref-for-readablestream-controller③③">[[controller]]</a>.<a
                                                            data-link-type="dfn"
                                                            href="#readablebytestreamcontroller-pendingpullintos"
                                                            id="ref-for-readablebytestreamcontroller-pendingpullintos⑥">[[pendingPullIntos]]</a>
                                                        非空，执行 ! <a data-link-type="abstract-op"
                                                            href="#readable-byte-stream-controller-respond"
                                                            id="ref-for-readable-byte-stream-controller-respond③">ReadableByteStreamControllerRespond</a>(<var>otherBranch</var>.<a
                                                            data-link-type="dfn" href="#readablestream-controller"
                                                            id="ref-for-readablestream-controller③④">[[controller]]</a>,
                                                        0)。
                                                    </p>
                                            </ol>
                                        <li data-md>
                                            <p>若 <var>byobCanceled</var> 为 false 或 <var>otherCanceled</var> 为 false，
                                                <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                                    id="ref-for-resolve①⑥">解决</a> <var>cancelPromise</var>，值为 undefined。
                                            </p>
                                    </ol>
                                <dt data-md><a data-link-type="dfn" href="#read-into-request-error-steps"
                                        id="ref-for-read-into-request-error-steps①">error steps</a>
                                <dd data-md>
                                    <ol>
                                        <li data-md>
                                            <p>设 <var>reading</var> 为 false。</p>
                                    </ol>
                            </dl>
                        <li data-md>
                            <p>执行 ! <a data-link-type="abstract-op" href="#readable-stream-byob-reader-read"
                                    id="ref-for-readable-stream-byob-reader-read①">ReadableStreamBYOBReaderRead</a>(<var>reader</var>,
                                <var>view</var>, 1, <var>readIntoRequest</var>)。
                            </p>
                    </ol>
                <li data-md>
                    <p>令 <var>pull1Algorithm</var> 为下述步骤：</p>
                    <ol>
                        <li data-md>
                            <p>若 <var>reading</var> 为 true，</p>
                            <ol>
                                <li data-md>
                                    <p>设 <var>readAgainForBranch1</var> 为 true。</p>
                                <li data-md>
                                    <p>返回 <a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                                            id="ref-for-a-promise-resolved-with⑧">以 undefined 解决的 promise</a>。</p>
                            </ol>
                        <li data-md>
                            <p>设 <var>reading</var> 为 true。</p>
                        <li data-md>
                            <p>令 <var>byobRequest</var> 为 ! <a data-link-type="abstract-op"
                                    href="#abstract-opdef-readablebytestreamcontrollergetbyobrequest"
                                    id="ref-for-abstract-opdef-readablebytestreamcontrollergetbyobrequest①">ReadableByteStreamControllerGetBYOBRequest</a>(<var>branch1</var>.<a
                                    data-link-type="dfn" href="#readablestream-controller"
                                    id="ref-for-readablestream-controller③⑤">[[controller]]</a>)。</p>
                        <li data-md>
                            <p>若 <var>byobRequest</var> 为 null，执行 <var>pullWithDefaultReader</var>。</p>
                        <li data-md>
                            <p>否则，执行 <var>pullWithBYOBReader</var>，参数为 <var>byobRequest</var>.<a data-link-type="dfn"
                                    href="#readablestreambyobrequest-view"
                                    id="ref-for-readablestreambyobrequest-view④">[[view]]</a> 和 false。</p>
                        <li data-md>
                            <p>返回 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                                    id="ref-for-a-promise-resolved-with⑨">以 undefined 解决的 promise</a>。</p>
                    </ol>
                <li data-md>
                    <p>令 <var>pull2Algorithm</var> 为下述步骤：</p>
                    <ol>
                        <li data-md>
                            <p>若 <var>reading</var> 为 true，</p>
                            <ol>
                                <li data-md>
                                    <p>设 <var>readAgainForBranch2</var> 为 true。</p>
                                <li data-md>
                                    <p>返回 <a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                                            id="ref-for-a-promise-resolved-with①⓪">以 undefined 解决的 promise</a>。</p>
                            </ol>
                        <li data-md>
                            <p>设 <var>reading</var> 为 true。</p>
                        <li data-md>
                            <p>令 <var>byobRequest</var> 为 ! <a data-link-type="abstract-op"
                                    href="#abstract-opdef-readablebytestreamcontrollergetbyobrequest"
                                    id="ref-for-abstract-opdef-readablebybestreamcontrollergetbyobrequest②">ReadableByteStreamControllerGetBYOBRequest</a>(<var>branch2</var>.<a
                                    data-link-type="dfn" href="#readablestream-controller"
                                    id="ref-for-readablestream-controller③⑥">[[controller]]</a>)。</p>
                        <li data-md>
                            <p>若 <var>byobRequest</var> 为 null，执行 <var>pullWithDefaultReader</var>。</p>
                        <li data-md>
                            <p>否则，执行 <var>pullWithBYOBReader</var>，参数为 <var>byobRequest</var>.<a data-link-type="dfn"
                                    href="#readablestreambyobrequest-view"
                                    id="ref-for-readablestreambyobrequest-view⑤">[[view]]</a> 和 true。</p>
                        <li data-md>
                            <p>返回 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                                    id="ref-for-a-promise-resolved-with①①">以 undefined 解决的 promise</a>。</p>
                    </ol>
                <li data-md>
                    <p>令 <var>cancel1Algorithm</var> 为下述步骤，参数 <var>reason</var>：</p>
                    <ol>
                        <li data-md>
                            <p>设 <var>canceled1</var> 为 true。</p>
                        <li data-md>
                            <p>设 <var>reason1</var> 为 <var>reason</var>。</p>
                        <li data-md>
                            <p>若 <var>canceled2</var> 为 true，</p>
                            <ol>
                                <li data-md>
                                    <p>令 <var>compositeReason</var> 为 ! <a data-link-type="abstract-op"
                                            href="https://tc39.es/ecma262/multipage/abstract-operations.html#sec-createarrayfromlist"
                                            id="ref-for-sec-createarrayfromlist②">CreateArrayFromList</a>(«
                                        <var>reason1</var>, <var>reason2</var> »)。
                                    </p>
                                <li data-md>
                                    <p>令 <var>cancelResult</var> 为 ! <a data-link-type="abstract-op"
                                            href="#readable-stream-cancel"
                                            id="ref-for-readable-stream-cancel⑨">ReadableStreamCancel</a>(<var>stream</var>,
                                        <var>compositeReason</var>)。
                                    </p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                            id="ref-for-resolve①⑦">解决</a> <var>cancelPromise</var>，值为
                                        <var>cancelResult</var>。
                                    </p>
                            </ol>
                        <li data-md>
                            <p>返回 <var>cancelPromise</var>。</p>
                    </ol>
                <li data-md>
                    <p>令 <var>cancel2Algorithm</var> 为下述步骤，参数 <var>reason</var>：</p>
                    <ol>
                        <li data-md>
                            <p>设 <var>canceled2</var> 为 true。</p>
                        <li data-md>
                            <p>设 <var>reason2</var> 为 <var>reason</var>。</p>
                        <li data-md>
                            <p>若 <var>canceled1</var> 为 true，</p>
                            <ol>
                                <li data-md>
                                    <p>令 <var>compositeReason</var> 为 ! <a data-link-type="abstract-op"
                                            href="https://tc39.es/ecma262/multipage/abstract-operations.html#sec-createarrayfromlist"
                                            id="ref-for-sec-createarrayfromlist③">CreateArrayFromList</a>(«
                                        <var>reason1</var>, <var>reason2</var> »)。
                                    </p>
                                <li data-md>
                                    <p>令 <var>cancelResult</var> 为 ! <a data-link-type="abstract-op"
                                            href="#readable-stream-cancel"
                                            id="ref-for-readable-stream-cancel①⓪">ReadableStreamCancel</a>(<var>stream</var>,
                                        <var>compositeReason</var>)。
                                    </p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                            id="ref-for-resolve①⑧">解决</a> <var>cancelPromise</var>，值为
                                        <var>cancelResult</var>。
                                    </p>
                            </ol>
                        <li data-md>
                            <p>返回 <var>cancelPromise</var>。</p>
                    </ol>
                <li data-md>
                    <p>令 <var>startAlgorithm</var> 为一个返回 undefined 的算法。</p>
                <li data-md>
                    <p>设 <var>branch1</var> 为 ! <a data-link-type="abstract-op"
                            href="#abstract-opdef-createreadablebytestream"
                            id="ref-for-abstract-opdef-createreadablebytestream">CreateReadableByteStream</a>(<var>startAlgorithm</var>,
                        <var>pull1Algorithm</var>, <var>cancel1Algorithm</var>)。
                    </p>
                <li data-md>
                    <p>设 <var>branch2</var> 为 ! <a data-link-type="abstract-op"
                            href="#abstract-opdef-createreadablebytestream"
                            id="ref-for-abstract-opdef-createreadablebytestream①">CreateReadableByteStream</a>(<var>startAlgorithm</var>,
                        <var>pull2Algorithm</var>, <var>cancel2Algorithm</var>)。
                    </p>
                <li data-md>
                    <p>执行 <var>forwardReaderError</var>，参数 <var>reader</var>。</p>
                <li data-md>
                    <p>返回 « <var>branch1</var>, <var>branch2</var> »。</p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="4.9.2" id="rs-abstract-ops-used-by-controllers"><span
                class="secno">4.9.2. </span><span class="content">与控制器的接口</span><a class="self-link"
                href="#rs-abstract-ops-used-by-controllers"></a></h4>
        <p>在规范结构上，<code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream④⓪">ReadableStream</a></code>
            类将简单可读流和<a data-link-type="dfn" href="#readable-byte-stream"
                id="ref-for-readable-byte-stream①③">可读字节流</a>的行为封装到一个类中，主要通过将大部分可能变化的逻辑集中到两个控制器类：<code
                class="idl"><a data-link-type="idl" href="#readablestreamdefaultcontroller" id="ref-for-readablestreamdefaultcontroller①⓪">ReadableStreamDefaultController</a></code>
            和 <code
                class="idl"><a data-link-type="idl" href="#readablebytestreamcontroller" id="ref-for-readablebytestreamcontroller①⑥">ReadableByteStreamController</a></code>。
            这两个类定义了大多数有状态的内部插槽和抽象操作，来管理流的<a data-link-type="dfn" href="#internal-queues"
                id="ref-for-internal-queues①⓪">内部队列</a>及与<a data-link-type="dfn" href="#underlying-source"
                id="ref-for-underlying-source②②">底层源</a>或<a data-link-type="dfn" href="#underlying-byte-source"
                id="ref-for-underlying-byte-source①③">底层字节源</a>的接口。</p>
        <p>每个控制器类都定义了三个内部方法，由<code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream④①">ReadableStream</a></code>
            的算法调用：</p>
        <dl>
            <dt><dfn class="dfn-paneled" data-dfn-for="ReadableStreamController" data-dfn-type="abstract-op" data-export
                    data-lt="[[CancelSteps]]"
                    id="abstract-opdef-readablestreamcontroller-cancelsteps">[[CancelSteps]](<var>reason</var>)</dfn>
            <dd>控制器在流被<a data-link-type="dfn" href="#cancel-a-readable-stream"
                    id="ref-for-cancel-a-readable-stream①①">取消</a>时运行的步骤，用于清理控制器存储的状态，并通知<a data-link-type="dfn"
                    href="#underlying-source" id="ref-for-underlying-source②③">底层源</a>。
            <dt><dfn class="dfn-paneled" data-dfn-for="ReadableStreamController" data-dfn-type="abstract-op" data-export
                    data-lt="[[PullSteps]]"
                    id="abstract-opdef-readablestreamcontroller-pullsteps">[[PullSteps]](<var>readRequest</var>)</dfn>
            <dd>控制器在<a data-link-type="dfn" href="#default-reader" id="ref-for-default-reader③">默认
                    reader</a>被读取时运行的步骤，用于从控制器拉取排队的<a data-link-type="dfn" href="#chunk" id="ref-for-chunk④⑨">块</a>，或从<a
                    data-link-type="dfn" href="#underlying-source" id="ref-for-underlying-source②④">底层源</a>拉取更多块。
            <dt><dfn class="dfn-paneled" data-dfn-for="ReadableStreamController" data-dfn-type="abstract-op" data-export
                    data-lt="[[ReleaseSteps]]"
                    id="abstract-opdef-readablestreamcontroller-releasesteps">[[ReleaseSteps]]()</dfn>
            <dd>控制器在<a data-link-type="dfn" href="#reader" id="ref-for-reader⑤">reader</a>被<a data-link-type="dfn"
                    href="#release-a-lock" id="ref-for-release-a-lock⑥">释放</a>时运行的步骤，用于清理控制器中 reader 相关的资源。
        </dl>
        <p>（这些定义为内部方法而非抽象操作，因此 <code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream④②">ReadableStream</a></code>
            算法可以多态调用，无需判断控制器类型。）</p>
        <p>本节剩余部分是控制器反向调用流对象的抽象操作：用于控制器实现影响其关联的 <code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream④③">ReadableStream</a></code>
            ，将控制器的内部状态变化反映到开发者可见的 public API。</p>
        <div class="algorithm" data-algorithm="ReadableStreamAddReadIntoRequest">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="ReadableStreamAddReadIntoRequest"
                id="readable-stream-add-read-into-request">ReadableStreamAddReadIntoRequest(<var>stream</var>,
                <var>readRequest</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn" href="#readablestream-reader"
                            id="ref-for-readablestream-reader②">[[reader]]</a> <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#implements" id="ref-for-implements①②">实现了</a>
                        <code
                            class="idl"><a data-link-type="idl" href="#readablestreambyobreader" id="ref-for-readablestreambyobreader①③">ReadableStreamBYOBReader</a></code>。
                    </p>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn" href="#readablestream-state"
                            id="ref-for-readablestream-state⑥">[[state]]</a> 为 "<code>readable</code>" 或
                        "<code>closed</code>"。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                            id="ref-for-list-append①">追加</a> <var>readRequest</var> 到 <var>stream</var>.<a
                            data-link-type="dfn" href="#readablestream-reader"
                            id="ref-for-readablestream-reader③">[[reader]]</a>.<a data-link-type="dfn"
                            href="#readablestreambyobreader-readintorequests"
                            id="ref-for-readablestreambyobreader-readintorequests①">[[readIntoRequests]]</a>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableStreamAddReadRequest">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="ReadableStreamAddReadRequest"
                id="readable-stream-add-read-request">ReadableStreamAddReadRequest(<var>stream</var>,
                <var>readRequest</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn" href="#readablestream-reader"
                            id="ref-for-readablestream-reader④">[[reader]]</a> <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#implements" id="ref-for-implements①③">实现了</a>
                        <code
                            class="idl"><a data-link-type="idl" href="#readablestreamdefaultreader" id="ref-for-readablestreamdefaultreader①②">ReadableStreamDefaultReader</a></code>。
                    </p>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn" href="#readablestream-state"
                            id="ref-for-readablestream-state⑦">[[state]]</a> 为 "<code>readable</code>"。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                            id="ref-for-list-append②">追加</a> <var>readRequest</var> 到 <var>stream</var>.<a
                            data-link-type="dfn" href="#readablestream-reader"
                            id="ref-for-readablestream-reader⑤">[[reader]]</a>.<a data-link-type="dfn"
                            href="#readablestreamdefaultreader-readrequests"
                            id="ref-for-readablestreamdefaultreader-readrequests②">[[readRequests]]</a>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableStreamCancel">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="ReadableStreamCancel"
                id="readable-stream-cancel">ReadableStreamCancel(<var>stream</var>, <var>reason</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p>将 <var>stream</var>.<a data-link-type="dfn" href="#readablestream-disturbed"
                            id="ref-for-readablestream-disturbed②">[[disturbed]]</a> 设为 true。</p>
                <li data-md>
                    <p>如果 <var>stream</var>.<a data-link-type="dfn" href="#readablestream-state"
                            id="ref-for-readablestream-state⑧">[[state]]</a> 为 "<code>closed</code>"，返回 <a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                            id="ref-for-a-promise-resolved-with①②">以 undefined 解决的 promise</a>。</p>
                <li data-md>
                    <p>如果 <var>stream</var>.<a data-link-type="dfn" href="#readablestream-state"
                            id="ref-for-readablestream-state⑨">[[state]]</a> 为 "<code>errored</code>"，返回 <a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                            id="ref-for-a-promise-rejected-with①⑤">以</a> <var>stream</var>.<a data-link-type="dfn"
                            href="#readablestream-storederror"
                            id="ref-for-readablestream-storederror④">[[storedError]]</a> 拒绝的 promise。</p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#readable-stream-close"
                            id="ref-for-readable-stream-close①">ReadableStreamClose</a>(<var>stream</var>)。</p>
                <li data-md>
                    <p>令 <var>reader</var> 为 <var>stream</var>.<a data-link-type="dfn" href="#readablestream-reader"
                            id="ref-for-readablestream-reader⑥">[[reader]]</a>。</p>
                <li data-md>
                    <p>如果 <var>reader</var> 不为 undefined 且 <var>reader</var> <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#implements" id="ref-for-implements①④">实现了</a>
                        <code
                            class="idl"><a data-link-type="idl" href="#readablestreambyobreader" id="ref-for-readablestreambyobreader①④">ReadableStreamBYOBReader</a></code>，
                    </p>
                    <ol>
                        <li data-md>
                            <p>令 <var>readIntoRequests</var> 为 <var>reader</var>.<a data-link-type="dfn"
                                    href="#readablestreambyobreader-readintorequests"
                                    id="ref-for-readablestreambyobreader-readintorequests②">[[readIntoRequests]]</a>。
                            </p>
                        <li data-md>
                            <p>将 <var>reader</var>.<a data-link-type="dfn"
                                    href="#readablestreambyobreader-readintorequests"
                                    id="ref-for-readablestreambyobreader-readintorequests③">[[readIntoRequests]]</a> 设为空
                                <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list"
                                    id="ref-for-list⑥">列表</a>。
                            </p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                                    id="ref-for-list-iterate">对于每个</a> <var>readIntoRequest</var> 属于
                                <var>readIntoRequests</var>，
                            </p>
                            <ol>
                                <li data-md>
                                    <p>以 undefined 作为参数，执行 <var>readIntoRequest</var> 的 <a data-link-type="dfn"
                                            href="#read-into-request-close-steps"
                                            id="ref-for-read-into-request-close-steps③">close steps</a>。</p>
                            </ol>
                    </ol>
                <li data-md>
                    <p>令 <var>sourceCancelPromise</var> 为 ! <var>stream</var>.<a data-link-type="dfn"
                            href="#readablestream-controller"
                            id="ref-for-readablestream-controller③⑦">[[controller]]</a>.<a data-link-type="abstract-op"
                            href="#abstract-opdef-readablestreamcontroller-cancelsteps"
                            id="ref-for-abstract-opdef-readablestreamcontroller-cancelsteps②">[[CancelSteps]]</a>(<var>reason</var>)。
                    </p>
                <li data-md>
                    <p>返回 <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled"
                            id="ref-for-dfn-perform-steps-once-promise-is-settled②">对 <var>sourceCancelPromise</var>
                            的反应</a>，fulfilled 时返回 undefined。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableStreamClose">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="ReadableStreamClose"
                id="readable-stream-close">ReadableStreamClose(<var>stream</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn" href="#readablestream-state"
                            id="ref-for-readablestream-state①⓪">[[state]]</a> 为 "<code>readable</code>"。</p>
                <li data-md>
                    <p>将 <var>stream</var>.<a data-link-type="dfn" href="#readablestream-state"
                            id="ref-for-readablestream-state①①">[[state]]</a> 设为 "<code>closed</code>"。</p>
                <li data-md>
                    <p>令 <var>reader</var> 为 <var>stream</var>.<a data-link-type="dfn" href="#readablestream-reader"
                            id="ref-for-readablestream-reader⑦">[[reader]]</a>。</p>
                <li data-md>
                    <p>如果 <var>reader</var> 未定义，返回。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                            id="ref-for-resolve①⑨">解决</a> <var>reader</var>.<a data-link-type="dfn"
                            href="#readablestreamgenericreader-closedpromise"
                            id="ref-for-readablestreamgenericreader-closedpromise⑥">[[closedPromise]]</a>，值为 undefined。
                    </p>
                <li data-md>
                    <p>如果 <var>reader</var> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#implements"
                            id="ref-for-implements①⑤">实现了</a> <code
                            class="idl"><a data-link-type="idl" href="#readablestreamdefaultreader" id="ref-for-readablestreamdefaultreader①③">ReadableStreamDefaultReader</a></code>，
                    </p>
                    <ol>
                        <li data-md>
                            <p>令 <var>readRequests</var> 为 <var>reader</var>.<a data-link-type="dfn"
                                    href="#readablestreamdefaultreader-readrequests"
                                    id="ref-for-readablestreamdefaultreader-readrequests③">[[readRequests]]</a>。</p>
                        <li data-md>
                            <p>将 <var>reader</var>.<a data-link-type="dfn"
                                    href="#readablestreamdefaultreader-readrequests"
                                    id="ref-for-readablestreamdefaultreader-readrequests④">[[readRequests]]</a> 设为空 <a
                                    data-link-type="dfn" href="https://infra.spec.whatwg.org/#list"
                                    id="ref-for-list⑦">列表</a>。</p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                                    id="ref-for-list-iterate①">对于每个</a> <var>readRequest</var> 属于
                                <var>readRequests</var>，
                            </p>
                            <ol>
                                <li data-md>
                                    <p>执行 <var>readRequest</var> 的 <a data-link-type="dfn"
                                            href="#read-request-close-steps"
                                            id="ref-for-read-request-close-steps④">close steps</a>。</p>
                            </ol>
                    </ol>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableStreamError">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="ReadableStreamError"
                id="readable-stream-error">ReadableStreamError(<var>stream</var>, <var>e</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn" href="#readablestream-state"
                            id="ref-for-readablestream-state①②">[[state]]</a> 为 "<code>readable</code>"。</p>
                <li data-md>
                    <p>将 <var>stream</var>.<a data-link-type="dfn" href="#readablestream-state"
                            id="ref-for-readablestream-state①③">[[state]]</a> 设为 "<code>errored</code>"。</p>
                <li data-md>
                    <p>将 <var>stream</var>.<a data-link-type="dfn" href="#readablestream-storederror"
                            id="ref-for-readablestream-storederror⑤">[[storedError]]</a> 设为 <var>e</var>。</p>
                <li data-md>
                    <p>令 <var>reader</var> 为 <var>stream</var>.<a data-link-type="dfn" href="#readablestream-reader"
                            id="ref-for-readablestream-reader⑧">[[reader]]</a>。</p>
                <li data-md>
                    <p>如果 <var>reader</var> 未定义，返回。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject④">拒绝</a>
                        <var>reader</var>.<a data-link-type="dfn" href="#readablestreamgenericreader-closedpromise"
                            id="ref-for-readablestreamgenericreader-closedpromise⑦">[[closedPromise]]</a>，原因为
                        <var>e</var>。
                    </p>
                <li data-md>
                    <p>将 <var>reader</var>.<a data-link-type="dfn" href="#readablestreamgenericreader-closedpromise"
                            id="ref-for-readablestreamgenericreader-closedpromise⑧">[[closedPromise]]</a>.[[PromiseIsHandled]]
                        设为 true。</p>
                <li data-md>
                    <p>如果 <var>reader</var> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#implements"
                            id="ref-for-implements①⑥">实现了</a> <code
                            class="idl"><a data-link-type="idl" href="#readablestreamdefaultreader" id="ref-for-readablestreamdefaultreader①④">ReadableStreamDefaultReader</a></code>，
                    </p>
                    <ol>
                        <li data-md>
                            <p>执行 !<a data-link-type="abstract-op"
                                    href="#abstract-opdef-readablestreamdefaultreadererrorreadrequests"
                                    id="ref-for-abstract-opdef-readablestreamdefaultreadererrorreadrequests">ReadableStreamDefaultReaderErrorReadRequests</a>(<var>reader</var>,
                                <var>e</var>)。
                            </p>
                    </ol>
                <li data-md>
                    <p>否则，</p>
                    <ol>
                        <li data-md>
                            <p class="assertion">断言：<var>reader</var> <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#implements" id="ref-for-implements①⑦">实现了</a>
                                <code
                                    class="idl"><a data-link-type="idl" href="#readablestreambyobreader" id="ref-for-readablestreambyobreader①⑤">ReadableStreamBYOBReader</a></code>。
                            </p>
                        <li data-md>
                            <p>执行 !<a data-link-type="abstract-op"
                                    href="#abstract-opdef-readablestreambyobreadererrorreadintorequests"
                                    id="ref-for-abstract-opdef-readablestreambyobreadererrorreadintorequests">ReadableStreamBYOBReaderErrorReadIntoRequests</a>(<var>reader</var>,
                                <var>e</var>)。
                            </p>
                    </ol>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableStreamFulfillReadIntoRequest">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="ReadableStreamFulfillReadIntoRequest"
                id="readable-stream-fulfill-read-into-request">ReadableStreamFulfillReadIntoRequest(<var>stream</var>,
                <var>chunk</var>, <var>done</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p class="assertion">断言：!<a data-link-type="abstract-op" href="#readable-stream-has-byob-reader"
                            id="ref-for-readable-stream-has-byob-reader">ReadableStreamHasBYOBReader</a>(<var>stream</var>)
                        为 true。</p>
                <li data-md>
                    <p>令 <var>reader</var> 为 <var>stream</var>.<a data-link-type="dfn" href="#readablestream-reader"
                            id="ref-for-readablestream-reader⑨">[[reader]]</a>。</p>
                <li data-md>
                    <p class="assertion">断言：<var>reader</var>.<a data-link-type="dfn"
                            href="#readablestreambyobreader-readintorequests"
                            id="ref-for-readablestreambyobreader-readintorequests④">[[readIntoRequests]]</a> 不为 <a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty"
                            id="ref-for-list-is-empty⑨">空</a>。</p>
                <li data-md>
                    <p>令 <var>readIntoRequest</var> 为 <var>reader</var>.<a data-link-type="dfn"
                            href="#readablestreambyobreader-readintorequests"
                            id="ref-for-readablestreambyobreader-readintorequests⑤">[[readIntoRequests]]</a>[0]。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove"
                            id="ref-for-list-remove">移除</a> <var>readIntoRequest</var> 从 <var>reader</var>.<a
                            data-link-type="dfn" href="#readablestreambyobreader-readintorequests"
                            id="ref-for-readablestreambyobreader-readintorequests⑥">[[readIntoRequests]]</a>。</p>
                <li data-md>
                    <p>如果 <var>done</var> 为 true，执行 <var>readIntoRequest</var> 的 <a data-link-type="dfn"
                            href="#read-into-request-close-steps" id="ref-for-read-into-request-close-steps④">close
                            steps</a>，参数为 <var>chunk</var>。</p>
                <li data-md>
                    <p>否则，执行 <var>readIntoRequest</var> 的 <a data-link-type="dfn" href="#read-into-request-chunk-steps"
                            id="ref-for-read-into-request-chunk-steps②">chunk steps</a>，参数为 <var>chunk</var>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableStreamFulfillReadRequest">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="ReadableStreamFulfillReadRequest"
                id="readable-stream-fulfill-read-request">ReadableStreamFulfillReadRequest(<var>stream</var>,
                <var>chunk</var>, <var>done</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p class="assertion">断言：!<a data-link-type="abstract-op" href="#readable-stream-has-default-reader"
                            id="ref-for-readable-stream-has-default-reader①">ReadableStreamHasDefaultReader</a>(<var>stream</var>)
                        为 true。</p>
                <li data-md>
                    <p>令 <var>reader</var> 为 <var>stream</var>.<a data-link-type="dfn" href="#readablestream-reader"
                            id="ref-for-readablestream-reader①⓪">[[reader]]</a>。</p>
                <li data-md>
                    <p class="assertion">断言：<var>reader</var>.<a data-link-type="dfn"
                            href="#readablestreamdefaultreader-readrequests"
                            id="ref-for-readablestreamdefaultreader-readrequests⑤">[[readRequests]]</a> 不为 <a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty"
                            id="ref-for-list-is-empty①⓪">空</a>。</p>
                <li data-md>
                    <p>令 <var>readRequest</var> 为 <var>reader</var>.<a data-link-type="dfn"
                            href="#readablestreamdefaultreader-readrequests"
                            id="ref-for-readablestreamdefaultreader-readrequests⑥">[[readRequests]]</a>[0]。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove"
                            id="ref-for-list-remove①">移除</a> <var>readRequest</var> 从 <var>reader</var>.<a
                            data-link-type="dfn" href="#readablestreamdefaultreader-readrequests"
                            id="ref-for-readablestreamdefaultreader-readrequests⑦">[[readRequests]]</a>。</p>
                <li data-md>
                    <p>如果 <var>done</var> 为 true，执行 <var>readRequest</var> 的 <a data-link-type="dfn"
                            href="#read-request-close-steps" id="ref-for-read-request-close-steps⑤">close steps</a>。</p>
                <li data-md>
                    <p>否则，执行 <var>readRequest</var> 的 <a data-link-type="dfn" href="#read-request-chunk-steps"
                            id="ref-for-read-request-chunk-steps⑤">chunk steps</a>，参数为 <var>chunk</var>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableStreamGetNumReadIntoRequests">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="ReadableStreamGetNumReadIntoRequests"
                id="readable-stream-get-num-read-into-requests">ReadableStreamGetNumReadIntoRequests(<var>stream</var>)</dfn>
            执行以下步骤：
            <ol>
                <li data-md>
                    <p class="assertion">断言：!<a data-link-type="abstract-op" href="#readable-stream-has-byob-reader"
                            id="ref-for-readable-stream-has-byob-reader①">ReadableStreamHasBYOBReader</a>(<var>stream</var>)
                        为 true。</p>
                <li data-md>
                    <p>返回 <var>stream</var>.<a data-link-type="dfn" href="#readablestream-reader"
                            id="ref-for-readablestream-reader①①">[[reader]]</a>.<a data-link-type="dfn"
                            href="#readablestreambyobreader-readintorequests"
                            id="ref-for-readablestreambyobreader-readintorequests⑦">[[readIntoRequests]]</a> 的 <a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size"
                            id="ref-for-list-size">大小</a>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableStreamGetNumReadRequests">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="ReadableStreamGetNumReadRequests"
                id="readable-stream-get-num-read-requests">ReadableStreamGetNumReadRequests(<var>stream</var>)</dfn>
            执行以下步骤：
            <ol>
                <li data-md>
                    <p class="assertion">断言：!<a data-link-type="abstract-op" href="#readable-stream-has-default-reader"
                            id="ref-for-readable-stream-has-default-reader②">ReadableStreamHasDefaultReader</a>(<var>stream</var>)
                        为 true。</p>
                <li data-md>
                    <p>返回 <var>stream</var>.<a data-link-type="dfn" href="#readablestream-reader"
                            id="ref-for-readablestream-reader①②">[[reader]]</a>.<a data-link-type="dfn"
                            href="#readablestreamdefaultreader-readrequests"
                            id="ref-for-readablestreamdefaultreader-readrequests⑧">[[readRequests]]</a> 的 <a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size"
                            id="ref-for-list-size①">大小</a>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableStreamHasBYOBReader">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="ReadableStreamHasBYOBReader"
                id="readable-stream-has-byob-reader">ReadableStreamHasBYOBReader(<var>stream</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>reader</var> 为 <var>stream</var>.<a data-link-type="dfn" href="#readablestream-reader"
                            id="ref-for-readablestream-reader①③">[[reader]]</a>。</p>
                <li data-md>
                    <p>如果 <var>reader</var> 未定义，返回 false。</p>
                <li data-md>
                    <p>如果 <var>reader</var> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#implements"
                            id="ref-for-implements①⑧">实现了</a> <code
                            class="idl"><a data-link-type="idl" href="#readablestreambyobreader" id="ref-for-readablestreambyobreader①⑥">ReadableStreamBYOBReader</a></code>，返回
                        true。</p>
                <li data-md>
                    <p>返回 false。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableStreamHasDefaultReader">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="ReadableStreamHasDefaultReader"
                id="readable-stream-has-default-reader">ReadableStreamHasDefaultReader(<var>stream</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>reader</var> 为 <var>stream</var>.<a data-link-type="dfn" href="#readablestream-reader"
                            id="ref-for-readablestream-reader①④">[[reader]]</a>。</p>
                <li data-md>
                    <p>如果 <var>reader</var> 未定义，返回 false。</p>
                <li data-md>
                    <p>如果 <var>reader</var> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#implements"
                            id="ref-for-implements①⑨">实现了</a> <code
                            class="idl"><a data-link-type="idl" href="#readablestreamdefaultreader" id="ref-for-readablestreamdefaultreader①⑤">ReadableStreamDefaultReader</a></code>，返回
                        true。</p>
                <li data-md>
                    <p>返回 false。</p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="4.9.3" id="rs-reader-abstract-ops"><span class="secno">4.9.3.
            </span><span class="content">读者（Readers）</span><a class="self-link" href="#rs-reader-abstract-ops"></a></h4>
        <p>以下抽象操作用于支持 <code
                class="idl"><a data-link-type="idl" href="#readablestreamdefaultreader" id="ref-for-readablestreamdefaultreader①⑥">ReadableStreamDefaultReader</a></code>
            和 <code
                class="idl"><a data-link-type="idl" href="#readablestreambyobreader" id="ref-for-readablestreambyobreader①⑦">ReadableStreamBYOBReader</a></code>
            实例的实现和操作。</p>
        <div class="algorithm" data-algorithm="ReadableStreamReaderGenericCancel">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="ReadableStreamReaderGenericCancel"
                id="readable-stream-reader-generic-cancel">ReadableStreamReaderGenericCancel(<var>reader</var>,
                <var>reason</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>stream</var> 为 <var>reader</var>.<a data-link-type="dfn"
                            href="#readablestreamgenericreader-stream"
                            id="ref-for-readablestreamgenericreader-stream⑦">[[stream]]</a>。</p>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var> 不为 undefined。</p>
                <li data-md>
                    <p>返回 !<a data-link-type="abstract-op" href="#readable-stream-cancel"
                            id="ref-for-readable-stream-cancel①①">ReadableStreamCancel</a>(<var>stream</var>,
                        <var>reason</var>)。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableStreamReaderGenericInitialize">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="ReadableStreamReaderGenericInitialize"
                id="readable-stream-reader-generic-initialize">ReadableStreamReaderGenericInitialize(<var>reader</var>,
                <var>stream</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p>将 <var>reader</var>.<a data-link-type="dfn" href="#readablestreamgenericreader-stream"
                            id="ref-for-readablestreamgenericreader-stream⑧">[[stream]]</a> 设为 <var>stream</var>。</p>
                <li data-md>
                    <p>将 <var>stream</var>.<a data-link-type="dfn" href="#readablestream-reader"
                            id="ref-for-readablestream-reader①⑤">[[reader]]</a> 设为 <var>reader</var>。</p>
                <li data-md>
                    <p>如果 <var>stream</var>.<a data-link-type="dfn" href="#readablestream-state"
                            id="ref-for-readablestream-state①④">[[state]]</a> 为 "<code>readable</code>"，</p>
                    <ol>
                        <li data-md>
                            <p>将 <var>reader</var>.<a data-link-type="dfn"
                                    href="#readablestreamgenericreader-closedpromise"
                                    id="ref-for-readablestreamgenericreader-closedpromise⑨">[[closedPromise]]</a> 设为<a
                                    data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                                    id="ref-for-a-new-promise⑥">新的 promise</a>。</p>
                    </ol>
                <li data-md>
                    <p>否则，如果 <var>stream</var>.<a data-link-type="dfn" href="#readablestream-state"
                            id="ref-for-readablestream-state①⑤">[[state]]</a> 为 "<code>closed</code>"，</p>
                    <ol>
                        <li data-md>
                            <p>将 <var>reader</var>.<a data-link-type="dfn"
                                    href="#readablestreamgenericreader-closedpromise"
                                    id="ref-for-readablestreamgenericreader-closedpromise①⓪">[[closedPromise]]</a> 设为<a
                                    data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                                    id="ref-for-a-promise-resolved-with①③">以 undefined 解决的 promise</a>。</p>
                    </ol>
                <li data-md>
                    <p>否则，</p>
                    <ol>
                        <li data-md>
                            <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn"
                                    href="#readablestream-state" id="ref-for-readablestream-state①⑥">[[state]]</a> 为
                                "<code>errored</code>"。</p>
                        <li data-md>
                            <p>将 <var>reader</var>.<a data-link-type="dfn"
                                    href="#readablestreamgenericreader-closedpromise"
                                    id="ref-for-readablestreamgenericreader-closedpromise①①">[[closedPromise]]</a> 设置为
                                <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                                    id="ref-for-a-promise-rejected-with①⑥">一个被拒绝的 promise</a>，
                                原因为 <var>stream</var>.<a data-link-type="dfn" href="#readablestream-storederror"
                                    id="ref-for-readablestream-storederror⑥">[[storedError]]</a>。
                            </p>
                        <li data-md>
                            <p>将 <var>reader</var>.<a data-link-type="dfn"
                                    href="#readablestreamgenericreader-closedpromise"
                                    id="ref-for-readablestreamgenericreader-closedpromise①②">[[closedPromise]]</a>.[[PromiseIsHandled]]
                                设为 true。</p>
                    </ol>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableStreamReaderGenericRelease">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="ReadableStreamReaderGenericRelease"
                id="readable-stream-reader-generic-release">ReadableStreamReaderGenericRelease(<var>reader</var>)</dfn>
            执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>stream</var> 为 <var>reader</var>.<a data-link-type="dfn"
                            href="#readablestreamgenericreader-stream"
                            id="ref-for-readablestreamgenericreader-stream⑨">[[stream]]</a>。</p>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var> 不为 undefined。</p>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn" href="#readablestream-reader"
                            id="ref-for-readablestream-reader①⑥">[[reader]]</a> 为 <var>reader</var>。</p>
                <li data-md>
                    <p>如果 <var>stream</var>.<a data-link-type="dfn" href="#readablestream-state"
                            id="ref-for-readablestream-state①⑦">[[state]]</a> 为 "<code>readable</code>"，<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                            id="ref-for-reject⑤">拒绝</a> <var>reader</var>.<a data-link-type="dfn"
                            href="#readablestreamgenericreader-closedpromise"
                            id="ref-for-readablestreamgenericreader-closedpromise①③">[[closedPromise]]</a>，原因为 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror③①">TypeError</a></code>
                        异常。</p>
                <li data-md>
                    <p>否则，将 <var>reader</var>.<a data-link-type="dfn" href="#readablestreamgenericreader-closedpromise"
                            id="ref-for-readablestreamgenericreader-closedpromise①④">[[closedPromise]]</a> 设置为 <a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                            id="ref-for-a-promise-rejected-with①⑦">一个被拒绝的 promise</a>，
                        原因为 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror③②">TypeError</a></code>
                        异常。</p>
                <li data-md>
                    <p>将 <var>reader</var>.<a data-link-type="dfn" href="#readablestreamgenericreader-closedpromise"
                            id="ref-for-readablestreamgenericreader-closedpromise①⑤">[[closedPromise]]</a>.[[PromiseIsHandled]]
                        设为 true。</p>
                <li data-md>
                    <p>执行 !<var>stream</var>.<a data-link-type="dfn" href="#readablestream-controller"
                            id="ref-for-readablestream-controller③⑧">[[controller]]</a>.<a data-link-type="abstract-op"
                            href="#abstract-opdef-readablestreamcontroller-releasesteps"
                            id="ref-for-abstract-opdef-readablestreamcontroller-releasesteps②">[[ReleaseSteps]]</a>()。
                    </p>
                <li data-md>
                    <p>将 <var>stream</var>.<a data-link-type="dfn" href="#readablestream-reader"
                            id="ref-for-readablestream-reader①⑦">[[reader]]</a> 设为 undefined。</p>
                <li data-md>
                    <p>将 <var>reader</var>.<a data-link-type="dfn" href="#readablestreamgenericreader-stream"
                            id="ref-for-readablestreamgenericreader-stream①⓪">[[stream]]</a> 设为 undefined。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableStreamBYOBReaderErrorReadIntoRequests">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="ReadableStreamBYOBReaderErrorReadIntoRequests"
                id="abstract-opdef-readablestreambyobreadererrorreadintorequests">ReadableStreamBYOBReaderErrorReadIntoRequests(<var>reader</var>,
                <var>e</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>readIntoRequests</var> 为 <var>reader</var>.<a data-link-type="dfn"
                            href="#readablestreambyobreader-readintorequests"
                            id="ref-for-readablestreambyobreader-readintorequests⑧">[[readIntoRequests]]</a>。</p>
                <li data-md>
                    <p>将 <var>reader</var>.<a data-link-type="dfn" href="#readablestreambyobreader-readintorequests"
                            id="ref-for-readablestreambyobreader-readintorequests⑨">[[readIntoRequests]]</a> 设为一个新的空 <a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑧">列表</a>。
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                            id="ref-for-list-iterate②">对于每个</a> <var>readIntoRequest</var> 属于
                        <var>readIntoRequests</var>，
                    </p>
                    <ol>
                        <li data-md>
                            <p>以 <var>e</var> 作为参数，执行 <var>readIntoRequest</var> 的 <a data-link-type="dfn"
                                    href="#read-into-request-error-steps"
                                    id="ref-for-read-into-request-error-steps②">error steps</a>。</p>
                    </ol>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableStreamBYOBReaderRead">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="ReadableStreamBYOBReaderRead"
                id="readable-stream-byob-reader-read">ReadableStreamBYOBReaderRead(<var>reader</var>, <var>view</var>,
                <var>min</var>, <var>readIntoRequest</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>stream</var> 为 <var>reader</var>.<a data-link-type="dfn"
                            href="#readablestreamgenericreader-stream"
                            id="ref-for-readablestreamgenericreader-stream①①">[[stream]]</a>。</p>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var> 不为 undefined。</p>
                <li data-md>
                    <p>将 <var>stream</var>.<a data-link-type="dfn" href="#readablestream-disturbed"
                            id="ref-for-readablestream-disturbed③">[[disturbed]]</a> 设为 true。</p>
                <li data-md>
                    <p>如果 <var>stream</var>.<a data-link-type="dfn" href="#readablestream-state"
                            id="ref-for-readablestream-state①⑧">[[state]]</a> 为 "<code>errored</code>"，以
                        <var>stream</var>.<a data-link-type="dfn" href="#readablestream-storederror"
                            id="ref-for-readablestream-storederror⑦">[[storedError]]</a> 作为参数，执行
                        <var>readIntoRequest</var> 的 <a data-link-type="dfn" href="#read-into-request-error-steps"
                            id="ref-for-read-into-request-error-steps③">error steps</a>。
                    </p>
                <li data-md>
                    <p>否则，执行 !<a data-link-type="abstract-op" href="#readable-byte-stream-controller-pull-into"
                            id="ref-for-readable-byte-stream-controller-pull-into">ReadableByteStreamControllerPullInto</a>(<var>stream</var>.<a
                            data-link-type="dfn" href="#readablestream-controller"
                            id="ref-for-readablestream-controller③⑨">[[controller]]</a>, <var>view</var>,
                        <var>min</var>, <var>readIntoRequest</var>)。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableStreamBYOBReaderRelease">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="ReadableStreamBYOBReaderRelease"
                id="abstract-opdef-readablestreambyobreaderrelease">ReadableStreamBYOBReaderRelease(<var>reader</var>)</dfn>
            执行以下步骤：
            <ol>
                <li data-md>
                    <p>执行 !<a data-link-type="abstract-op" href="#readable-stream-reader-generic-release"
                            id="ref-for-readable-stream-reader-generic-release">ReadableStreamReaderGenericRelease</a>(<var>reader</var>)。
                    </p>
                <li data-md>
                    <p>令 <var>e</var> 为一个新的 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror③③">TypeError</a></code>
                        异常。</p>
                <li data-md>
                    <p>执行 !<a data-link-type="abstract-op"
                            href="#abstract-opdef-readablestreambyobreadererrorreadintorequests"
                            id="ref-for-abstract-opdef-readablestreambyobreadererrorreadintorequests①">ReadableStreamBYOBReaderErrorReadIntoRequests</a>(<var>reader</var>,
                        <var>e</var>)。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableStreamDefaultReaderErrorReadRequests">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="ReadableStreamDefaultReaderErrorReadRequests"
                id="abstract-opdef-readablestreamdefaultreadererrorreadrequests">ReadableStreamDefaultReaderErrorReadRequests(<var>reader</var>,
                <var>e</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>readRequests</var> 为 <var>reader</var>.<a data-link-type="dfn"
                            href="#readablestreamdefaultreader-readrequests"
                            id="ref-for-readablestreamdefaultreader-readrequests⑨">[[readRequests]]</a>。</p>
                <li data-md>
                    <p>将 <var>reader</var>.<a data-link-type="dfn" href="#readablestreamdefaultreader-readrequests"
                            id="ref-for-readablestreamdefaultreader-readrequests①⓪">[[readRequests]]</a> 设为新的空 <a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑨">列表</a>。
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                            id="ref-for-list-iterate③">对于每个</a> <var>readRequest</var> 属于 <var>readRequests</var>，</p>
                    <ol>
                        <li data-md>
                            <p>以 <var>e</var> 作为参数，执行 <var>readRequest</var> 的 <a data-link-type="dfn"
                                    href="#read-request-error-steps" id="ref-for-read-request-error-steps⑤">error
                                    steps</a>。</p>
                    </ol>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableStreamDefaultReaderRead">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="ReadableStreamDefaultReaderRead"
                id="readable-stream-default-reader-read">ReadableStreamDefaultReaderRead(<var>reader</var>,
                <var>readRequest</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>stream</var> 为 <var>reader</var>.<a data-link-type="dfn"
                            href="#readablestreamgenericreader-stream"
                            id="ref-for-readablestreamgenericreader-stream①②">[[stream]]</a>。</p>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var> 不为 undefined。</p>
                <li data-md>
                    <p>将 <var>stream</var>.<a data-link-type="dfn" href="#readablestream-disturbed"
                            id="ref-for-readablestream-disturbed④">[[disturbed]]</a> 设为 true。</p>
                <li data-md>
                    <p>如果 <var>stream</var>.<a data-link-type="dfn" href="#readablestream-state"
                            id="ref-for-readablestream-state①⑨">[[state]]</a> 为 "<code>closed</code>"，执行
                        <var>readRequest</var> 的 <a data-link-type="dfn" href="#read-request-close-steps"
                            id="ref-for-read-request-close-steps⑥">close steps</a>。
                    </p>
                <li data-md>
                    <p>否则，如果 <var>stream</var>.<a data-link-type="dfn" href="#readablestream-state"
                            id="ref-for-readablestream-state②⓪">[[state]]</a> 为 "<code>errored</code>"，以
                        <var>stream</var>.<a data-link-type="dfn" href="#readablestream-storederror"
                            id="ref-for-readablestream-storederror⑧">[[storedError]]</a> 作为参数，执行 <var>readRequest</var>
                        的 <a data-link-type="dfn" href="#read-request-error-steps"
                            id="ref-for-read-request-error-steps⑥">error steps</a>。
                    </p>
                <li data-md>
                    <p>否则，</p>
                    <ol>
                        <li data-md>
                            <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn"
                                    href="#readablestream-state" id="ref-for-readablestream-state②①">[[state]]</a> 为
                                "<code>readable</code>"。</p>
                        <li data-md>
                            <p>执行 !<var>stream</var>.<a data-link-type="dfn" href="#readablestream-controller"
                                    id="ref-for-readablestream-controller④⓪">[[controller]]</a>.<a
                                    data-link-type="abstract-op"
                                    href="#abstract-opdef-readablestreamcontroller-pullsteps"
                                    id="ref-for-abstract-opdef-readablestreamcontroller-pullsteps②">[[PullSteps]]</a>(<var>readRequest</var>)。
                            </p>
                    </ol>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableStreamDefaultReaderRelease">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="ReadableStreamDefaultReaderRelease"
                id="abstract-opdef-readablestreamdefaultreaderrelease">ReadableStreamDefaultReaderRelease(<var>reader</var>)</dfn>
            执行以下步骤：
            <ol>
                <li data-md>
                    <p>执行 !<a data-link-type="abstract-op" href="#readable-stream-reader-generic-release"
                            id="ref-for-readable-stream-reader-generic-release①">ReadableStreamReaderGenericRelease</a>(<var>reader</var>)。
                    </p>
                <li data-md>
                    <p>令 <var>e</var> 为一个新的 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror③④">TypeError</a></code>
                        异常。</p>
                <li data-md>
                    <p>执行 !<a data-link-type="abstract-op"
                            href="#abstract-opdef-readablestreamdefaultreadererrorreadrequests"
                            id="ref-for-abstract-opdef-readablestreamdefaultreadererrorreadrequests①">ReadableStreamDefaultReaderErrorReadRequests</a>(<var>reader</var>,
                        <var>e</var>)。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="SetUpReadableStreamBYOBReader">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="SetUpReadableStreamBYOBReader"
                id="set-up-readable-stream-byob-reader">SetUpReadableStreamBYOBReader(<var>reader</var>,
                <var>stream</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p>如果 !<a data-link-type="abstract-op" href="#is-readable-stream-locked"
                            id="ref-for-is-readable-stream-locked⑥">IsReadableStreamLocked</a>(<var>stream</var>) 为
                        true，抛出 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror③⑤">TypeError</a></code>
                        异常。</p>
                <li data-md>
                    <p>如果 <var>stream</var>.<a data-link-type="dfn" href="#readablestream-controller"
                            id="ref-for-readablestream-controller④①">[[controller]]</a> 未<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#implements" id="ref-for-implements②⓪">实现</a>
                        <code
                            class="idl"><a data-link-type="idl" href="#readablebytestreamcontroller" id="ref-for-readablebytestreamcontroller①⑦">ReadableByteStreamController</a></code>，
                        抛出 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror③⑥">TypeError</a></code>
                        异常。
                    </p>
                <li data-md>
                    <p>执行 !<a data-link-type="abstract-op" href="#readable-stream-reader-generic-initialize"
                            id="ref-for-readable-stream-reader-generic-initialize">ReadableStreamReaderGenericInitialize</a>(<var>reader</var>,
                        <var>stream</var>)。
                    </p>
                <li data-md>
                    <p>将 <var>reader</var>.<a data-link-type="dfn" href="#readablestreambyobreader-readintorequests"
                            id="ref-for-readablestreambyobreader-readintorequests①⓪">[[readIntoRequests]]</a> 设为新的空 <a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①⓪">列表</a>。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="SetUpReadableStreamDefaultReader">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="SetUpReadableStreamDefaultReader"
                id="set-up-readable-stream-default-reader">SetUpReadableStreamDefaultReader(<var>reader</var>,
                <var>stream</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p>如果 !<a data-link-type="abstract-op" href="#is-readable-stream-locked"
                            id="ref-for-is-readable-stream-locked⑦">IsReadableStreamLocked</a>(<var>stream</var>) 为
                        true，抛出 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror③⑦">TypeError</a></code>
                        异常。</p>
                <li data-md>
                    <p>执行 !<a data-link-type="abstract-op" href="#readable-stream-reader-generic-initialize"
                            id="ref-for-readable-stream-reader-generic-initialize①">ReadableStreamReaderGenericInitialize</a>(<var>reader</var>,
                        <var>stream</var>)。
                    </p>
                <li data-md>
                    <p>将 <var>reader</var>.<a data-link-type="dfn" href="#readablestreamdefaultreader-readrequests"
                            id="ref-for-readablestreamdefaultreader-readrequests①①">[[readRequests]]</a> 设为新的空 <a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①①">列表</a>。
                    </p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="4.9.4" id="rs-default-controller-abstract-ops"><span
                class="secno">4.9.4. </span><span class="content">默认控制器</span><a class="self-link"
                href="#rs-default-controller-abstract-ops"></a></h4>
        <p>以下抽象操作用于支持 <code
                class="idl"><a data-link-type="idl" href="#readablestreamdefaultcontroller" id="ref-for-readablestreamdefaultcontroller①①">ReadableStreamDefaultController</a></code>
            类的实现。</p>
        <div class="algorithm" data-algorithm="ReadableStreamDefaultControllerCallPullIfNeeded">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="ReadableStreamDefaultControllerCallPullIfNeeded"
                id="readable-stream-default-controller-call-pull-if-needed">ReadableStreamDefaultControllerCallPullIfNeeded(<var>controller</var>)</dfn>
            执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>shouldPull</var> 为 !<a data-link-type="abstract-op"
                            href="#readable-stream-default-controller-should-call-pull"
                            id="ref-for-readable-stream-default-controller-should-call-pull">ReadableStreamDefaultControllerShouldCallPull</a>(<var>controller</var>)。
                    </p>
                <li data-md>
                    <p>如果 <var>shouldPull</var> 为 false，返回。</p>
                <li data-md>
                    <p>如果 <var>controller</var>.<a data-link-type="dfn" href="#readablestreamdefaultcontroller-pulling"
                            id="ref-for-readablestreamdefaultcontroller-pulling">[[pulling]]</a> 为 true，</p>
                    <ol>
                        <li data-md>
                            <p>将 <var>controller</var>.<a data-link-type="dfn"
                                    href="#readablestreamdefaultcontroller-pullagain"
                                    id="ref-for-readablestreamdefaultcontroller-pullagain">[[pullAgain]]</a> 设为 true。
                            </p>
                        <li data-md>
                            <p>返回。</p>
                    </ol>
                <li data-md>
                    <p class="assertion">断言：<var>controller</var>.<a data-link-type="dfn"
                            href="#readablestreamdefaultcontroller-pullagain"
                            id="ref-for-readablestreamdefaultcontroller-pullagain①">[[pullAgain]]</a> 为 false。</p>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn" href="#readablestreamdefaultcontroller-pulling"
                            id="ref-for-readablestreamdefaultcontroller-pulling①">[[pulling]]</a> 设为 true。</p>
                <li data-md>
                    <p>令 <var>pullPromise</var> 为执行 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablestreamdefaultcontroller-pullalgorithm"
                            id="ref-for-readablestreamdefaultcontroller-pullalgorithm">[[pullAlgorithm]]</a> 的结果。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#upon-fulfillment"
                            id="ref-for-upon-fulfillment①">当 <var>pullPromise</var> 成功时</a>，</p>
                    <ol>
                        <li data-md>
                            <p>将 <var>controller</var>.<a data-link-type="dfn"
                                    href="#readablestreamdefaultcontroller-pulling"
                                    id="ref-for-readablestreamdefaultcontroller-pulling②">[[pulling]]</a> 设为 false。</p>
                        <li data-md>
                            <p>如果 <var>controller</var>.<a data-link-type="dfn"
                                    href="#readablestreamdefaultcontroller-pullagain"
                                    id="ref-for-readablestreamdefaultcontroller-pullagain②">[[pullAgain]]</a> 为 true，
                            </p>
                            <ol>
                                <li data-md>
                                    <p>将 <var>controller</var>.<a data-link-type="dfn"
                                            href="#readablestreamdefaultcontroller-pullagain"
                                            id="ref-for-readablestreamdefaultcontroller-pullagain③">[[pullAgain]]</a> 设为
                                        false。</p>
                                <li data-md>
                                    <p>执行 !<a data-link-type="abstract-op"
                                            href="#readable-stream-default-controller-call-pull-if-needed"
                                            id="ref-for-readable-stream-default-controller-call-pull-if-needed②">ReadableStreamDefaultControllerCallPullIfNeeded</a>(<var>controller</var>)。
                                    </p>
                            </ol>
                    </ol>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#upon-rejection"
                            id="ref-for-upon-rejection③">当 <var>pullPromise</var> 被拒绝</a>且原因为 <var>e</var> 时，</p>
                    <ol>
                        <li data-md>
                            <p>执行 !<a data-link-type="abstract-op" href="#readable-stream-default-controller-error"
                                    id="ref-for-readable-stream-default-controller-error⑤">ReadableStreamDefaultControllerError</a>(<var>controller</var>,
                                <var>e</var>)。
                            </p>
                    </ol>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableStreamDefaultControllerShouldCallPull">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="ReadableStreamDefaultControllerShouldCallPull"
                id="readable-stream-default-controller-should-call-pull">ReadableStreamDefaultControllerShouldCallPull(<var>controller</var>)</dfn>
            执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>stream</var> 为 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablestreamdefaultcontroller-stream"
                            id="ref-for-readablestreamdefaultcontroller-stream①">[[stream]]</a>。</p>
                <li data-md>
                    <p>如果 !<a data-link-type="abstract-op"
                            href="#readable-stream-default-controller-can-close-or-enqueue"
                            id="ref-for-readable-stream-default-controller-can-close-or-enqueue②">ReadableStreamDefaultControllerCanCloseOrEnqueue</a>(<var>controller</var>)
                        为 false，返回 false。</p>
                <li data-md>
                    <p>如果 <var>controller</var>.<a data-link-type="dfn" href="#readablestreamdefaultcontroller-started"
                            id="ref-for-readablestreamdefaultcontroller-started">[[started]]</a> 为 false，返回 false。</p>
                <li data-md>
                    <p>如果 !<a data-link-type="abstract-op" href="#is-readable-stream-locked"
                            id="ref-for-is-readable-stream-locked⑧">IsReadableStreamLocked</a>(<var>stream</var>) 为 true
                        且 !<a data-link-type="abstract-op" href="#readable-stream-get-num-read-requests"
                            id="ref-for-readable-stream-get-num-read-requests①">ReadableStreamGetNumReadRequests</a>(<var>stream</var>)
                        > 0，返回 true。</p>
                <li data-md>
                    <p>令 <var>desiredSize</var> 为 !<a data-link-type="abstract-op"
                            href="#readable-stream-default-controller-get-desired-size"
                            id="ref-for-readable-stream-default-controller-get-desired-size①">ReadableStreamDefaultControllerGetDesiredSize</a>(<var>controller</var>)。
                    </p>
                <li data-md>
                    <p class="assertion">断言：<var>desiredSize</var> 不为 null。</p>
                <li data-md>
                    <p>如果 <var>desiredSize</var> > 0，返回 true。</p>
                <li data-md>
                    <p>返回 false。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableStreamDefaultControllerClearAlgorithms">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="ReadableStreamDefaultControllerClearAlgorithms"
                id="readable-stream-default-controller-clear-algorithms">ReadableStreamDefaultControllerClearAlgorithms(<var>controller</var>)</dfn>
            在流关闭或出错且算法不再会被执行时调用。通过移除算法引用，即使 <code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream④⑤">ReadableStream</a></code>
            仍被引用，也允许<a data-link-type="dfn" href="#underlying-source" id="ref-for-underlying-source②⑤">底层源</a>对象被垃圾回收。
            <p class="note" role="note">这可以通过<a href="https://github.com/tc39/proposal-weakrefs/">弱引用</a>观察到。详细内容见 <a
                    href="https://github.com/tc39/proposal-weakrefs/issues/31">tc39/proposal-weakrefs#31</a>。</p>
            <p>执行以下步骤：</p>
            <ol>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablestreamdefaultcontroller-pullalgorithm"
                            id="ref-for-readablestreamdefaultcontroller-pullalgorithm①">[[pullAlgorithm]]</a> 设为
                        undefined。</p>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablestreamdefaultcontroller-cancelalgorithm"
                            id="ref-for-readablestreamdefaultcontroller-cancelalgorithm①">[[cancelAlgorithm]]</a> 设为
                        undefined。</p>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablestreamdefaultcontroller-strategysizealgorithm"
                            id="ref-for-readablestreamdefaultcontroller-strategysizealgorithm">[[strategySizeAlgorithm]]</a>
                        设为 undefined。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableStreamDefaultControllerClose">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="ReadableStreamDefaultControllerClose"
                id="readable-stream-default-controller-close">ReadableStreamDefaultControllerClose(<var>controller</var>)</dfn>
            执行以下步骤：
            <ol>
                <li data-md>
                    <p>如果 !<a data-link-type="abstract-op"
                            href="#readable-stream-default-controller-can-close-or-enqueue"
                            id="ref-for-readable-stream-default-controller-can-close-or-enqueue③">ReadableStreamDefaultControllerCanCloseOrEnqueue</a>(<var>controller</var>)
                        为 false，返回。</p>
                <li data-md>
                    <p>令 <var>stream</var> 为 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablestreamdefaultcontroller-stream"
                            id="ref-for-readablestreamdefaultcontroller-stream②">[[stream]]</a>。</p>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablestreamdefaultcontroller-closerequested"
                            id="ref-for-readablestreamdefaultcontroller-closerequested①">[[closeRequested]]</a> 设为 true。
                    </p>
                <li data-md>
                    <p>如果 <var>controller</var>.<a data-link-type="dfn" href="#readablestreamdefaultcontroller-queue"
                            id="ref-for-readablestreamdefaultcontroller-queue③">[[queue]]</a> <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty①①">为空</a>，</p>
                    <ol>
                        <li data-md>
                            <p>执行 !<a data-link-type="abstract-op"
                                    href="#readable-stream-default-controller-clear-algorithms"
                                    id="ref-for-readable-stream-default-controller-clear-algorithms②">ReadableStreamDefaultControllerClearAlgorithms</a>(<var>controller</var>)。
                            </p>
                        <li data-md>
                            <p>执行 !<a data-link-type="abstract-op" href="#readable-stream-close"
                                    id="ref-for-readable-stream-close②">ReadableStreamClose</a>(<var>stream</var>)。</p>
                    </ol>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableStreamDefaultControllerEnqueue">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="ReadableStreamDefaultControllerEnqueue"
                id="readable-stream-default-controller-enqueue">ReadableStreamDefaultControllerEnqueue(<var>controller</var>,
                <var>chunk</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p>如果 !<a data-link-type="abstract-op"
                            href="#readable-stream-default-controller-can-close-or-enqueue"
                            id="ref-for-readable-stream-default-controller-can-close-or-enqueue④">ReadableStreamDefaultControllerCanCloseOrEnqueue</a>(<var>controller</var>)
                        为 false，返回。</p>
                <li data-md>
                    <p>令 <var>stream</var> 为 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablestreamdefaultcontroller-stream"
                            id="ref-for-readablestreamdefaultcontroller-stream③">[[stream]]</a>。</p>
                <li data-md>
                    <p>如果 !<a data-link-type="abstract-op" href="#is-readable-stream-locked"
                            id="ref-for-is-readable-stream-locked⑨">IsReadableStreamLocked</a>(<var>stream</var>) 为 true
                        且 !<a data-link-type="abstract-op" href="#readable-stream-get-num-read-requests"
                            id="ref-for-readable-stream-get-num-read-requests②">ReadableStreamGetNumReadRequests</a>(<var>stream</var>)
                        > 0，执行 !<a data-link-type="abstract-op" href="#readable-stream-fulfill-read-request"
                            id="ref-for-readable-stream-fulfill-read-request">ReadableStreamFulfillReadRequest</a>(<var>stream</var>,
                        <var>chunk</var>, false)。
                    </p>
                <li data-md>
                    <p>否则，</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>result</var> 为执行 <var>controller</var>.<a data-link-type="dfn"
                                    href="#readablestreamdefaultcontroller-strategysizealgorithm"
                                    id="ref-for-readablestreamdefaultcontroller-strategysizealgorithm①">[[strategySizeAlgorithm]]</a>，参数为
                                <var>chunk</var> 并将结果视为 <a data-link-type="dfn"
                                    href="https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-completion-record-specification-type"
                                    id="ref-for-sec-completion-record-specification-type①">completion record</a>。
                            </p>
                        <li data-md>
                            <p>如果 <var>result</var> 为异常完成，</p>
                            <ol>
                                <li data-md>
                                    <p>执行 !<a data-link-type="abstract-op"
                                            href="#readable-stream-default-controller-error"
                                            id="ref-for-readable-stream-default-controller-error⑥">ReadableStreamDefaultControllerError</a>(<var>controller</var>,
                                        <var>result</var>.[[Value]])。
                                    </p>
                                <li data-md>
                                    <p>返回 <var>result</var>。</p>
                            </ol>
                        <li data-md>
                            <p>令 <var>chunkSize</var> 为 <var>result</var>.[[Value]]。</p>
                        <li data-md>
                            <p>令 <var>enqueueResult</var> 为 <a data-link-type="abstract-op"
                                    href="#enqueue-value-with-size"
                                    id="ref-for-enqueue-value-with-size">EnqueueValueWithSize</a>(<var>controller</var>,
                                <var>chunk</var>, <var>chunkSize</var>)。
                            </p>
                        <li data-md>
                            <p>如果 <var>enqueueResult</var> 为异常完成，</p>
                            <ol>
                                <li data-md>
                                    <p>执行 !<a data-link-type="abstract-op"
                                            href="#readable-stream-default-controller-error"
                                            id="ref-for-readable-stream-default-controller-error⑦">ReadableStreamDefaultControllerError</a>(<var>controller</var>,
                                        <var>enqueueResult</var>.[[Value]])。
                                    </p>
                                <li data-md>
                                    <p>返回 <var>enqueueResult</var>。</p>
                            </ol>
                    </ol>
                <li data-md>
                    <p>执行 !<a data-link-type="abstract-op"
                            href="#readable-stream-default-controller-call-pull-if-needed"
                            id="ref-for-readable-stream-default-controller-call-pull-if-needed③">ReadableStreamDefaultControllerCallPullIfNeeded</a>(<var>controller</var>)。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableStreamDefaultControllerError">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="ReadableStreamDefaultControllerError"
                id="readable-stream-default-controller-error">ReadableStreamDefaultControllerError(<var>controller</var>,
                <var>e</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>stream</var> 为 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablestreamdefaultcontroller-stream"
                            id="ref-for-readablestreamdefaultcontroller-stream④">[[stream]]</a>。</p>
                <li data-md>
                    <p>如果 <var>stream</var>.<a data-link-type="dfn" href="#readablestream-state"
                            id="ref-for-readablestream-state②②">[[state]]</a> 不为 "<code>readable</code>"，返回。</p>
                <li data-md>
                    <p>执行 !<a data-link-type="abstract-op" href="#reset-queue"
                            id="ref-for-reset-queue②">ResetQueue</a>(<var>controller</var>)。</p>
                <li data-md>
                    <p>执行 !<a data-link-type="abstract-op" href="#readable-stream-default-controller-clear-algorithms"
                            id="ref-for-readable-stream-default-controller-clear-algorithms③">ReadableStreamDefaultControllerClearAlgorithms</a>(<var>controller</var>)。
                    </p>
                <li data-md>
                    <p>执行 !<a data-link-type="abstract-op" href="#readable-stream-error"
                            id="ref-for-readable-stream-error">ReadableStreamError</a>(<var>stream</var>, <var>e</var>)。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableStreamDefaultControllerGetDesiredSize">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="ReadableStreamDefaultControllerGetDesiredSize"
                id="readable-stream-default-controller-get-desired-size">ReadableStreamDefaultControllerGetDesiredSize(<var>controller</var>)</dfn>
            执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>state</var> 为 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablestreamdefaultcontroller-stream"
                            id="ref-for-readablestreamdefaultcontroller-stream⑤">[[stream]]</a>.<a data-link-type="dfn"
                            href="#readablestream-state" id="ref-for-readablestream-state②③">[[state]]</a>。</p>
                <li data-md>
                    <p>如果 <var>state</var> 为 "<code>errored</code>"，返回 null。</p>
                <li data-md>
                    <p>如果 <var>state</var> 为 "<code>closed</code>"，返回 0。</p>
                <li data-md>
                    <p>返回 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablestreamdefaultcontroller-strategyhwm"
                            id="ref-for-readablestreamdefaultcontroller-strategyhwm">[[strategyHWM]]</a> −
                        <var>controller</var>.<a data-link-type="dfn"
                            href="#readablestreamdefaultcontroller-queuetotalsize"
                            id="ref-for-readablestreamdefaultcontroller-queuetotalsize">[[queueTotalSize]]</a>。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableStreamDefaultControllerHasBackpressure">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="ReadableStreamDefaultControllerHasBackpressure"
                id="rs-default-controller-has-backpressure">ReadableStreamDefaultControllerHasBackpressure(<var>controller</var>)</dfn>
            用于 <code
                class="idl"><a data-link-type="idl" href="#transformstream" id="ref-for-transformstream②">TransformStream</a></code>
            的实现。
            执行以下步骤：
            <ol>
                <li data-md>
                    <p>如果 !<a data-link-type="abstract-op" href="#readable-stream-default-controller-should-call-pull"
                            id="ref-for-readable-stream-default-controller-should-call-pull①">ReadableStreamDefaultControllerShouldCallPull</a>(<var>controller</var>)
                        为 true，返回 false。</p>
                <li data-md>
                    <p>否则，返回 true。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableStreamDefaultControllerCanCloseOrEnqueue">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="ReadableStreamDefaultControllerCanCloseOrEnqueue"
                id="readable-stream-default-controller-can-close-or-enqueue">ReadableStreamDefaultControllerCanCloseOrEnqueue(<var>controller</var>)</dfn>
            执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>state</var> 为 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablestreamdefaultcontroller-stream"
                            id="ref-for-readablestreamdefaultcontroller-stream⑥">[[stream]]</a>.<a data-link-type="dfn"
                            href="#readablestream-state" id="ref-for-readablestream-state②④">[[state]]</a>。</p>
                <li data-md>
                    <p>如果 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablestreamdefaultcontroller-closerequested"
                            id="ref-for-readablestreamdefaultcontroller-closerequested②">[[closeRequested]]</a> 为 false
                        且 <var>state</var> 为
                        "<code>readable</code>"，返回 true。</p>
                <li data-md>
                    <p>否则，返回 false。</p>
            </ol>
            <p class="note" role="note">当 <var>controller</var>.<a data-link-type="dfn"
                    href="#readablestreamdefaultcontroller-closerequested"
                    id="ref-for-readablestreamdefaultcontroller-closerequested③">[[closeRequested]]</a> 为 false，但
                <var>state</var> 不为 "<code>readable</code>" 时，可能是因为流被 <code
                    class="idl"><a data-link-type="idl" href="#rs-default-controller-error" id="ref-for-rs-default-controller-error②">controller.error()</a></code>
                置为错误，或者流被关闭但未调用其控制器的 <code
                    class="idl"><a data-link-type="idl" href="#rs-default-controller-close" id="ref-for-rs-default-controller-close②">controller.close()</a></code>
                方法，例如通过调用 <code
                    class="idl"><a data-link-type="idl" href="#rs-cancel" id="ref-for-rs-cancel⑥">stream.cancel()</a></code>
                关闭流。
            </p>
        </div>
        <div class="algorithm" data-algorithm="SetUpReadableStreamDefaultController">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="SetUpReadableStreamDefaultController"
                id="set-up-readable-stream-default-controller">SetUpReadableStreamDefaultController(<var>stream</var>,
                <var>controller</var>, <var>startAlgorithm</var>, <var>pullAlgorithm</var>, <var>cancelAlgorithm</var>,
                <var>highWaterMark</var>, <var>sizeAlgorithm</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn" href="#readablestream-controller"
                            id="ref-for-readablestream-controller④②">[[controller]]</a> 未定义。</p>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn" href="#readablestreamdefaultcontroller-stream"
                            id="ref-for-readablestreamdefaultcontroller-stream⑦">[[stream]]</a> 设为 <var>stream</var>。
                    </p>
                <li data-md>
                    <p>执行 !<a data-link-type="abstract-op" href="#reset-queue"
                            id="ref-for-reset-queue③">ResetQueue</a>(<var>controller</var>)。</p>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn" href="#readablestreamdefaultcontroller-started"
                            id="ref-for-readablestreamdefaultcontroller-started①">[[started]]</a>、
                        <var>controller</var>.<a data-link-type="dfn"
                            href="#readablestreamdefaultcontroller-closerequested"
                            id="ref-for-readablestreamdefaultcontroller-closerequested④">[[closeRequested]]</a>、
                        <var>controller</var>.<a data-link-type="dfn" href="#readablestreamdefaultcontroller-pullagain"
                            id="ref-for-readablestreamdefaultcontroller-pullagain④">[[pullAgain]]</a> 和
                        <var>controller</var>.<a data-link-type="dfn" href="#readablestreamdefaultcontroller-pulling"
                            id="ref-for-readablestreamdefaultcontroller-pulling③">[[pulling]]</a> 设为 false。
                    </p>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablestreamdefaultcontroller-strategysizealgorithm"
                            id="ref-for-readablestreamdefaultcontroller-strategysizealgorithm②">[[strategySizeAlgorithm]]</a>
                        设为 <var>sizeAlgorithm</var>，<var>controller</var>.<a data-link-type="dfn"
                            href="#readablestreamdefaultcontroller-strategyhwm"
                            id="ref-for-readablestreamdefaultcontroller-strategyhwm①">[[strategyHWM]]</a> 设为
                        <var>highWaterMark</var>。
                    </p>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablestreamdefaultcontroller-pullalgorithm"
                            id="ref-for-readablestreamdefaultcontroller-pullalgorithm②">[[pullAlgorithm]]</a> 设为
                        <var>pullAlgorithm</var>。
                    </p>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablestreamdefaultcontroller-cancelalgorithm"
                            id="ref-for-readablestreamdefaultcontroller-cancelalgorithm②">[[cancelAlgorithm]]</a> 设为
                        <var>cancelAlgorithm</var>。
                    </p>
                <li data-md>
                    <p>将 <var>stream</var>.<a data-link-type="dfn" href="#readablestream-controller"
                            id="ref-for-readablestream-controller④③">[[controller]]</a> 设为 <var>controller</var>。</p>
                <li data-md>
                    <p>令 <var>startResult</var> 为执行 <var>startAlgorithm</var> 的结果。（此操作可能抛出异常。）</p>
                <li data-md>
                    <p>令 <var>startPromise</var> 为 <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                            id="ref-for-a-promise-resolved-with①④">以 <var>startResult</var> 解决的 promise</a>。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#upon-fulfillment"
                            id="ref-for-upon-fulfillment②">当 <var>startPromise</var> fulfilled 时</a>，</p>
                    <ol>
                        <li data-md>
                            <p>将 <var>controller</var>.<a data-link-type="dfn"
                                    href="#readablestreamdefaultcontroller-started"
                                    id="ref-for-readablestreamdefaultcontroller-started②">[[started]]</a> 设为 true。</p>
                        <li data-md>
                            <p class="assertion">断言：<var>controller</var>.<a data-link-type="dfn"
                                    href="#readablestreamdefaultcontroller-pulling"
                                    id="ref-for-readablestreamdefaultcontroller-pulling④">[[pulling]]</a> 为 false。</p>
                        <li data-md>
                            <p class="assertion">断言：<var>controller</var>.<a data-link-type="dfn"
                                    href="#readablestreamdefaultcontroller-pullagain"
                                    id="ref-for-readablestreamdefaultcontroller-pullagain⑤">[[pullAgain]]</a> 为 false。
                            </p>
                        <li data-md>
                            <p>执行 !<a data-link-type="abstract-op"
                                    href="#readable-stream-default-controller-call-pull-if-needed"
                                    id="ref-for-readable-stream-default-controller-call-pull-if-needed④">ReadableStreamDefaultControllerCallPullIfNeeded</a>(<var>controller</var>)。
                            </p>
                    </ol>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#upon-rejection"
                            id="ref-for-upon-rejection④">当 <var>startPromise</var> 被拒绝，原因为 <var>r</var> 时，</a></p>
                    <ol>
                        <li data-md>
                            <p>执行 !<a data-link-type="abstract-op" href="#readable-stream-default-controller-error"
                                    id="ref-for-readable-stream-default-controller-error⑧">ReadableStreamDefaultControllerError</a>(<var>controller</var>,
                                <var>r</var>)。
                            </p>
                    </ol>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="SetUpReadableStreamDefaultControllerFromUnderlyingSource">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="SetUpReadableStreamDefaultControllerFromUnderlyingSource"
                id="set-up-readable-stream-default-controller-from-underlying-source">SetUpReadableStreamDefaultControllerFromUnderlyingSource(<var>stream</var>,
                <var>underlyingSource</var>, <var>underlyingSourceDict</var>, <var>highWaterMark</var>,
                <var>sizeAlgorithm</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>controller</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new"
                            id="ref-for-new⑨">新的</a> <code
                            class="idl"><a data-link-type="idl" href="#readablestreamdefaultcontroller" id="ref-for-readablestreamdefaultcontroller①②">ReadableStreamDefaultController</a></code>。
                    </p>
                <li data-md>
                    <p>令 <var>startAlgorithm</var> 为一个返回 undefined 的算法。</p>
                <li data-md>
                    <p>令 <var>pullAlgorithm</var> 为一个返回 <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                            id="ref-for-a-promise-resolved-with①⑤">以 undefined 解决的 promise</a> 的算法。</p>
                <li data-md>
                    <p>令 <var>cancelAlgorithm</var> 为一个返回 <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                            id="ref-for-a-promise-resolved-with①⑥">以 undefined 解决的 promise</a> 的算法。</p>
                <li data-md>
                    <p>如果 <var>underlyingSourceDict</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-underlyingsource-start" id="ref-for-dom-underlyingsource-start④">start</a></code>"]
                        <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                            id="ref-for-map-exists⑤">存在</a>，则将 <var>startAlgorithm</var> 设为一个算法，其返回 <a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#invoke-a-callback-function"
                            id="ref-for-invoke-a-callback-function①">调用</a> <var>underlyingSourceDict</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-underlyingsource-start" id="ref-for-dom-underlyingsource-start⑤">start</a></code>"]，
                        参数为 « <var>controller</var> »，<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#dfn-callback-this-value"
                            id="ref-for-dfn-callback-this-value">回调 this 值</a>为 <var>underlyingSource</var> 的结果。
                    </p>
                <li data-md>
                    <p>如果 <var>underlyingSourceDict</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-underlyingsource-pull" id="ref-for-dom-underlyingsource-pull④">pull</a></code>"]
                        <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                            id="ref-for-map-exists⑥">存在</a>，则将 <var>pullAlgorithm</var> 设为一个算法，其返回 <a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#invoke-a-callback-function"
                            id="ref-for-invoke-a-callback-function②">调用</a> <var>underlyingSourceDict</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-underlyingsource-pull" id="ref-for-dom-underlyingsource-pull⑤">pull</a></code>"]，
                        参数为 « <var>controller</var> »，<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#dfn-callback-this-value"
                            id="ref-for-dfn-callback-this-value①">回调 this 值</a>为 <var>underlyingSource</var> 的结果。
                    </p>
                <li data-md>
                    <p>如果 <var>underlyingSourceDict</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-underlyingsource-cancel" id="ref-for-dom-underlyingsource-cancel②">cancel</a></code>"]
                        <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                            id="ref-for-map-exists⑦">存在</a>，则将 <var>cancelAlgorithm</var> 设为一个接收参数 <var>reason</var> 并返回
                        <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#invoke-a-callback-function"
                            id="ref-for-invoke-a-callback-function③">调用</a> <var>underlyingSourceDict</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-underlyingsource-cancel" id="ref-for-dom-underlyingsource-cancel③">cancel</a></code>"]，
                        参数为 « <var>reason</var> »，<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#dfn-callback-this-value"
                            id="ref-for-dfn-callback-this-value②">回调 this 值</a>为 <var>underlyingSource</var> 的结果的算法。
                    </p>
                <li data-md>
                    <p>执行 ?<a data-link-type="abstract-op" href="#set-up-readable-stream-default-controller"
                            id="ref-for-set-up-readable-stream-default-controller①">SetUpReadableStreamDefaultController</a>(<var>stream</var>,
                        <var>controller</var>, <var>startAlgorithm</var>, <var>pullAlgorithm</var>,
                        <var>cancelAlgorithm</var>, <var>highWaterMark</var>, <var>sizeAlgorithm</var>)。
                    </p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="4.9.5" id="rbs-controller-abstract-ops"><span class="secno">4.9.5.
            </span><span class="content">字节流控制器</span><a class="self-link" href="#rbs-controller-abstract-ops"></a></h4>
        <div class="algorithm" data-algorithm="ReadableByteStreamControllerCallPullIfNeeded">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="ReadableByteStreamControllerCallPullIfNeeded"
                id="readable-byte-stream-controller-call-pull-if-needed">ReadableByteStreamControllerCallPullIfNeeded(<var>controller</var>)</dfn>
            执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>shouldPull</var> 为 !<a data-link-type="abstract-op"
                            href="#readable-byte-stream-controller-should-call-pull"
                            id="ref-for-readable-byte-stream-controller-should-call-pull">ReadableByteStreamControllerShouldCallPull</a>(<var>controller</var>)。
                    </p>
                <li data-md>
                    <p>如果 <var>shouldPull</var> 为 false，返回。</p>
                <li data-md>
                    <p>如果 <var>controller</var>.<a data-link-type="dfn" href="#readablebytestreamcontroller-pulling"
                            id="ref-for-readablebytestreamcontroller-pulling">[[pulling]]</a> 为 true，</p>
                    <ol>
                        <li data-md>
                            <p>将 <var>controller</var>.<a data-link-type="dfn"
                                    href="#readablebytestreamcontroller-pullagain"
                                    id="ref-for-readablebytestreamcontroller-pullagain">[[pullAgain]]</a> 设为 true。</p>
                        <li data-md>
                            <p>返回。</p>
                    </ol>
                <li data-md>
                    <p class="assertion">断言：<var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-pullagain"
                            id="ref-for-readablebytestreamcontroller-pullagain①">[[pullAgain]]</a> 为 false。</p>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn" href="#readablebytestreamcontroller-pulling"
                            id="ref-for-readablebytestreamcontroller-pulling①">[[pulling]]</a> 设为 true。</p>
                <li data-md>
                    <p>令 <var>pullPromise</var> 为执行 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-pullalgorithm"
                            id="ref-for-readablebytestreamcontroller-pullalgorithm">[[pullAlgorithm]]</a> 的结果。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#upon-fulfillment"
                            id="ref-for-upon-fulfillment③">当 <var>pullPromise</var> fulfilled 时</a>，</p>
                    <ol>
                        <li data-md>
                            <p>将 <var>controller</var>.<a data-link-type="dfn"
                                    href="#readablebytestreamcontroller-pulling"
                                    id="ref-for-readablebytestreamcontroller-pulling②">[[pulling]]</a> 设为 false。</p>
                        <li data-md>
                            <p>如果 <var>controller</var>.<a data-link-type="dfn"
                                    href="#readablebytestreamcontroller-pullagain"
                                    id="ref-for-readablebytestreamcontroller-pullagain②">[[pullAgain]]</a> 为 true，</p>
                            <ol>
                                <li data-md>
                                    <p>将 <var>controller</var>.<a data-link-type="dfn"
                                            href="#readablebytestreamcontroller-pullagain"
                                            id="ref-for-readablebytestreamcontroller-pullagain③">[[pullAgain]]</a> 设为
                                        false。</p>
                                <li data-md>
                                    <p>执行 !<a data-link-type="abstract-op"
                                            href="#readable-byte-stream-controller-call-pull-if-needed"
                                            id="ref-for-readable-byte-stream-controller-call-pull-if-needed①">ReadableByteStreamControllerCallPullIfNeeded</a>(<var>controller</var>)。
                                    </p>
                            </ol>
                    </ol>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#upon-rejection"
                            id="ref-for-upon-rejection⑤">当 <var>pullPromise</var> 被拒绝，原因为 <var>e</var> 时，</a></p>
                    <ol>
                        <li data-md>
                            <p>执行 !<a data-link-type="abstract-op" href="#readable-byte-stream-controller-error"
                                    id="ref-for-readable-byte-stream-controller-error⑦">ReadableByteStreamControllerError</a>(<var>controller</var>,
                                <var>e</var>)。
                            </p>
                    </ol>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableByteStreamControllerClearAlgorithms">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="ReadableByteStreamControllerClearAlgorithms"
                id="readable-byte-stream-controller-clear-algorithms">ReadableByteStreamControllerClearAlgorithms(<var>controller</var>)</dfn>
            在流关闭或出错且算法不再会被执行时调用。通过移除算法引用，即使 <code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream④⑥">ReadableStream</a></code>
            仍被引用，也允许<a data-link-type="dfn" href="#underlying-byte-source"
                id="ref-for-underlying-byte-source①④">底层字节源</a>对象被垃圾回收。
            <p class="note" role="note">这可以通过<a href="https://github.com/tc39/proposal-weakrefs/">弱引用</a>观察到。详细内容见 <a
                    href="https://github.com/tc39/proposal-weakrefs/issues/31">tc39/proposal-weakrefs#31</a>。</p>
            <p>执行以下步骤：</p>
            <ol>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-pullalgorithm"
                            id="ref-for-readablebytestreamcontroller-pullalgorithm①">[[pullAlgorithm]]</a> 设为 undefined。
                    </p>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-cancelalgorithm"
                            id="ref-for-readablebytestreamcontroller-cancelalgorithm①">[[cancelAlgorithm]]</a> 设为
                        undefined。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableByteStreamControllerClearPendingPullIntos">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="ReadableByteStreamControllerClearPendingPullIntos"
                id="readable-byte-stream-controller-clear-pending-pull-intos">ReadableByteStreamControllerClearPendingPullIntos(<var>controller</var>)</dfn>
            执行以下步骤：
            <ol>
                <li data-md>
                    <p>执行 !<a data-link-type="abstract-op"
                            href="#readable-byte-stream-controller-invalidate-byob-request"
                            id="ref-for-readable-byte-stream-controller-invalidate-byob-request">ReadableByteStreamControllerInvalidateBYOBRequest</a>(<var>controller</var>)。
                    </p>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-pendingpullintos"
                            id="ref-for-readablebytestreamcontroller-pendingpullintos⑦">[[pendingPullIntos]]</a> 设为新的空
                        <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①②">列表</a>。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableByteStreamControllerClose">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="ReadableByteStreamControllerClose"
                id="readable-byte-stream-controller-close">ReadableByteStreamControllerClose(<var>controller</var>)</dfn>
            执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>stream</var> 为 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-stream"
                            id="ref-for-readablebytestreamcontroller-stream③">[[stream]]</a>。</p>
                <li data-md>
                    <p>如果 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-closerequested"
                            id="ref-for-readablebytestreamcontroller-closerequested②">[[closeRequested]]</a> 为 true 或
                        <var>stream</var>.<a data-link-type="dfn" href="#readablestream-state"
                            id="ref-for-readablestream-state②⑤">[[state]]</a> 不为 "<code>readable</code>"，返回。
                    </p>
                <li data-md>
                    <p>如果 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-queuetotalsize"
                            id="ref-for-readablebytestreamcontroller-queuetotalsize②">[[queueTotalSize]]</a> > 0，</p>
                    <ol>
                        <li data-md>
                            <p>将 <var>controller</var>.<a data-link-type="dfn"
                                    href="#readablebytestreamcontroller-closerequested"
                                    id="ref-for-readablebytestreamcontroller-closerequested③">[[closeRequested]]</a> 设为
                                true。</p>
                        <li data-md>
                            <p>返回。</p>
                    </ol>
                <li data-md>
                    <p>如果 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-pendingpullintos"
                            id="ref-for-readablebytestreamcontroller-pendingpullintos⑧">[[pendingPullIntos]]</a> 不为空，
                    </p>
                    <ol>
                        <li data-md>
                            <p>令 <var>firstPendingPullInto</var> 为 <var>controller</var>.<a data-link-type="dfn"
                                    href="#readablebytestreamcontroller-pendingpullintos"
                                    id="ref-for-readablebytestreamcontroller-pendingpullintos⑨">[[pendingPullIntos]]</a>[0]。
                            </p>
                        <li data-md>
                            <p>如果 <var>firstPendingPullInto</var> 的 <a data-link-type="dfn"
                                    href="#pull-into-descriptor-bytes-filled"
                                    id="ref-for-pull-into-descriptor-bytes-filled①">bytes filled</a> 除以
                                <var>firstPendingPullInto</var> 的 <a data-link-type="dfn"
                                    href="#pull-into-descriptor-element-size"
                                    id="ref-for-pull-into-descriptor-element-size②">element size</a> 的余数不为 0，
                            </p>
                            <ol>
                                <li data-md>
                                    <p>令 <var>e</var> 为一个新的 <code
                                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror③⑧">TypeError</a></code>
                                        异常。</p>
                                <li data-md>
                                    <p>执行 !<a data-link-type="abstract-op" href="#readable-byte-stream-controller-error"
                                            id="ref-for-readable-byte-stream-controller-error⑧">ReadableByteStreamControllerError</a>(<var>controller</var>,
                                        <var>e</var>)。
                                    </p>
                                <li data-md>
                                    <p>抛出 <var>e</var>。</p>
                            </ol>
                    </ol>
                <li data-md>
                    <p>执行 !<a data-link-type="abstract-op" href="#readable-byte-stream-controller-clear-algorithms"
                            id="ref-for-readable-byte-stream-controller-clear-algorithms①">ReadableByteStreamControllerClearAlgorithms</a>(<var>controller</var>)。
                    </p>
                <li data-md>
                    <p>执行 !<a data-link-type="abstract-op" href="#readable-stream-close"
                            id="ref-for-readable-stream-close③">ReadableStreamClose</a>(<var>stream</var>)。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableByteStreamControllerCommitPullIntoDescriptor">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="ReadableByteStreamControllerCommitPullIntoDescriptor"
                id="readable-byte-stream-controller-commit-pull-into-descriptor">ReadableByteStreamControllerCommitPullIntoDescriptor(<var>stream</var>,
                <var>pullIntoDescriptor</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn" href="#readablestream-state"
                            id="ref-for-readablestream-state②⑥">[[state]]</a> 不为 "<code>errored</code>"。</p>
                <li data-md>
                    <p class="assertion">断言：<var>pullIntoDescriptor</var>.<a data-link-type="dfn"
                            href="#pull-into-descriptor-reader-type"
                            id="ref-for-pull-into-descriptor-reader-type②">reader type</a> 不为 "<code>none</code>"。</p>
                <li data-md>
                    <p>令 <var>done</var> 为 false。</p>
                <li data-md>
                    <p>如果 <var>stream</var>.<a data-link-type="dfn" href="#readablestream-state"
                            id="ref-for-readablestream-state②⑦">[[state]]</a> 为 "<code>closed</code>"，</p>
                    <ol>
                        <li data-md>
                            <p class="assertion">断言：<var>pullIntoDescriptor</var> 的 <a data-link-type="dfn"
                                    href="#pull-into-descriptor-bytes-filled"
                                    id="ref-for-pull-into-descriptor-bytes-filled②">bytes filled</a> 除以
                                <var>pullIntoDescriptor</var> 的 <a data-link-type="dfn"
                                    href="#pull-into-descriptor-element-size"
                                    id="ref-for-pull-into-descriptor-element-size③">element size</a> 的余数为 0。
                            </p>
                        <li data-md>
                            <p>将 <var>done</var> 设为 true。</p>
                    </ol>
                <li data-md>
                    <p>令 <var>filledView</var> 为 !<a data-link-type="abstract-op"
                            href="#readable-byte-stream-controller-convert-pull-into-descriptor"
                            id="ref-for-readable-byte-stream-controller-convert-pull-into-descriptor">ReadableByteStreamControllerConvertPullIntoDescriptor</a>(<var>pullIntoDescriptor</var>)。
                    </p>
                <li data-md>
                    <p>如果 <var>pullIntoDescriptor</var> 的 <a data-link-type="dfn"
                            href="#pull-into-descriptor-reader-type"
                            id="ref-for-pull-into-descriptor-reader-type③">reader type</a> 为 "<code>default</code>"，</p>
                    <ol>
                        <li data-md>
                            <p>执行 !<a data-link-type="abstract-op" href="#readable-stream-fulfill-read-request"
                                    id="ref-for-readable-stream-fulfill-read-request①">ReadableStreamFulfillReadRequest</a>(<var>stream</var>,
                                <var>filledView</var>, <var>done</var>)。
                            </p>
                    </ol>
                <li data-md>
                    <p>否则，</p>
                    <ol>
                        <li data-md>
                            <p class="assertion">断言：<var>pullIntoDescriptor</var> 的 <a data-link-type="dfn"
                                    href="#pull-into-descriptor-reader-type"
                                    id="ref-for-pull-into-descriptor-reader-type④">reader type</a> 为
                                "<code>byob</code>"。</p>
                        <li data-md>
                            <p>执行 !<a data-link-type="abstract-op" href="#readable-stream-fulfill-read-into-request"
                                    id="ref-for-readable-stream-fulfill-read-into-request">ReadableStreamFulfillReadIntoRequest</a>(<var>stream</var>,
                                <var>filledView</var>, <var>done</var>)。
                            </p>
                    </ol>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableByteStreamControllerConvertPullIntoDescriptor">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="ReadableByteStreamControllerConvertPullIntoDescriptor"
                id="readable-byte-stream-controller-convert-pull-into-descriptor">ReadableByteStreamControllerConvertPullIntoDescriptor(<var>pullIntoDescriptor</var>)</dfn>
            执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>bytesFilled</var> 为 <var>pullIntoDescriptor</var> 的 <a data-link-type="dfn"
                            href="#pull-into-descriptor-bytes-filled"
                            id="ref-for-pull-into-descriptor-bytes-filled③">bytes filled</a>。</p>
                <li data-md>
                    <p>令 <var>elementSize</var> 为 <var>pullIntoDescriptor</var> 的 <a data-link-type="dfn"
                            href="#pull-into-descriptor-element-size"
                            id="ref-for-pull-into-descriptor-element-size④">element size</a>。</p>
                <li data-md>
                    <p class="assertion">断言：<var>bytesFilled</var> ≤ <var>pullIntoDescriptor</var> 的 <a
                            data-link-type="dfn" href="#pull-into-descriptor-byte-length"
                            id="ref-for-pull-into-descriptor-byte-length①">byte length</a>。</p>
                <li data-md>
                    <p class="assertion">断言：<var>bytesFilled</var> 除以 <var>elementSize</var> 的余数为 0。</p>
                <li data-md>
                    <p>令 <var>buffer</var> 为 !<a data-link-type="abstract-op" href="#transfer-array-buffer"
                            id="ref-for-transfer-array-buffer①⓪">TransferArrayBuffer</a>(<var>pullIntoDescriptor</var> 的
                        <a data-link-type="dfn" href="#pull-into-descriptor-buffer"
                            id="ref-for-pull-into-descriptor-buffer⑧">buffer</a>)。
                    </p>
                <li data-md>
                    <p>返回 !<a data-link-type="abstract-op"
                            href="https://tc39.es/ecma262/multipage/abstract-operations.html#sec-construct"
                            id="ref-for-sec-construct①">Construct</a>(<var>pullIntoDescriptor</var> 的 <a
                            data-link-type="dfn" href="#pull-into-descriptor-view-constructor"
                            id="ref-for-pull-into-descriptor-view-constructor②">view constructor</a>，«
                        <var>buffer</var>, <var>pullIntoDescriptor</var> 的 <a data-link-type="dfn"
                            href="#pull-into-descriptor-byte-offset" id="ref-for-pull-into-descriptor-byte-offset①">byte
                            offset</a>, <var>bytesFilled</var> ÷ <var>elementSize</var> »)。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableByteStreamControllerEnqueue">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="ReadableByteStreamControllerEnqueue"
                id="readable-byte-stream-controller-enqueue">ReadableByteStreamControllerEnqueue(<var>controller</var>,
                <var>chunk</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>stream</var> 为 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-stream"
                            id="ref-for-readablebytestreamcontroller-stream④">[[stream]]</a>。</p>
                <li data-md>
                    <p>如果 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-closerequested"
                            id="ref-for-readablebytestreamcontroller-closerequested④">[[closeRequested]]</a> 为 true 或
                        <var>stream</var>.<a data-link-type="dfn" href="#readablestream-state"
                            id="ref-for-readablestream-state②⑧">[[state]]</a> 不为 "<code>readable</code>"，返回。
                    </p>
                <li data-md>
                    <p>令 <var>buffer</var> 为 <var>chunk</var>.[[ViewedArrayBuffer]]。</p>
                <li data-md>
                    <p>令 <var>byteOffset</var> 为 <var>chunk</var>.[[ByteOffset]]。</p>
                <li data-md>
                    <p>令 <var>byteLength</var> 为 <var>chunk</var>.[[ByteLength]]。</p>
                <li data-md>
                    <p>如果 !<a data-link-type="abstract-op"
                            href="https://tc39.es/ecma262/multipage/structured-data.html#sec-isdetachedbuffer"
                            id="ref-for-sec-isdetachedbuffer③">IsDetachedBuffer</a>(<var>buffer</var>) 为 true，抛出 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror③⑨">TypeError</a></code>
                        异常。
                    </p>
                <li data-md>
                    <p>令 <var>transferredBuffer</var> 为 ?<a data-link-type="abstract-op" href="#transfer-array-buffer"
                            id="ref-for-transfer-array-buffer①">TransferArrayBuffer</a>(<var>buffer</var>)。</p>
                <li data-md>
                    <p>如果 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-pendingpullintos"
                            id="ref-for-readablebytestreamcontroller-pendingpullintos①⓪">[[pendingPullIntos]]</a> 不为
                        <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty"
                            id="ref-for-list-is-empty①②">空</a>，
                    </p>
                    <ol>
                        <li data-md>
                            <p>令 <var>firstPendingPullInto</var> 为 <var>controller</var>.<a data-link-type="dfn"
                                    href="#readablebytestreamcontroller-pendingpullintos"
                                    id="ref-for-readablestreamcontroller-pendingpullintos①①">[[pendingPullIntos]]</a>[0]。
                            </p>
                        <li data-md>
                            <p>如果 !<a data-link-type="abstract-op"
                                    href="https://tc39.es/ecma262/multipage/structured-data.html#sec-isdetachedbuffer"
                                    id="ref-for-sec-isdetachedbuffer④">IsDetachedBuffer</a>(<var>firstPendingPullInto</var>
                                的
                                <a data-link-type="dfn" href="#pull-into-descriptor-buffer"
                                    id="ref-for-pull-into-descriptor-buffer⑨">buffer</a>)
                                为 true，抛出 <code
                                    class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror④⓪">TypeError</a></code>
                                异常。
                            </p>
                        <li data-md>
                            <p>执行 !<a data-link-type="abstract-op"
                                    href="#readable-byte-stream-controller-invalidate-byob-request"
                                    id="ref-for-readable-byte-stream-controller-invalidate-byob-request①">ReadableByteStreamControllerInvalidateBYOBRequest</a>(<var>controller</var>)。
                            </p>
                        <li data-md>
                            <p>将 <var>firstPendingPullInto</var> 的 <a data-link-type="dfn"
                                    href="#pull-into-descriptor-buffer"
                                    id="ref-for-pull-into-descriptor-buffer①⓪">buffer</a> 设为 !<a
                                    data-link-type="abstract-op" href="#transfer-array-buffer"
                                    id="ref-for-transfer-array-buffer②">TransferArrayBuffer</a>(<var>firstPendingPullInto</var>
                                的
                                <a data-link-type="dfn" href="#pull-into-descriptor-buffer"
                                    id="ref-for-pull-into-descriptor-buffer①①">buffer</a>)。
                            </p>
                        <li data-md>
                            <p>如果 <var>firstPendingPullInto</var> 的 <a data-link-type="dfn"
                                    href="#pull-into-descriptor-reader-type"
                                    id="ref-for-pull-into-descriptor-reader-type⑤">reader type</a> 为
                                "<code>none</code>"，执行 ?<a data-link-type="abstract-op"
                                    href="#abstract-opdef-readablebytestreamcontrollerenqueuedetachedpullintotoqueue"
                                    id="ref-for-abstract-opdef-readablebytestreamcontrollerenqueuedetachedpullintotoqueue">ReadableByteStreamControllerEnqueueDetachedPullIntoToQueue</a>(<var>controller</var>,
                                <var>firstPendingPullInto</var>)。
                            </p>
                    </ol>
                <li data-md>
                    <p>如果 !<a data-link-type="abstract-op" href="#readable-stream-has-default-reader"
                            id="ref-for-readable-stream-has-default-reader③">ReadableStreamHasDefaultReader</a>(<var>stream</var>)
                        为 true，</p>
                    <ol>
                        <li data-md>
                            <p>执行 !<a data-link-type="abstract-op"
                                    href="#abstract-opdef-readablebytestreamcontrollerprocessreadrequestsusingqueue"
                                    id="ref-for-abstract-opdef-readablebytestreamcontrollerprocessreadrequestsusingqueue">ReadableByteStreamControllerProcessReadRequestsUsingQueue</a>(<var>controller</var>)。
                            </p>
                        <li data-md>
                            <p>如果 !<a data-link-type="abstract-op" href="#readable-stream-get-num-read-requests"
                                    id="ref-for-readable-stream-get-num-read-requests③">ReadableStreamGetNumReadRequests</a>(<var>stream</var>)
                                为 0，</p>
                            <ol>
                                <li data-md>
                                    <p class="assertion">断言：<var>controller</var>.<a data-link-type="dfn"
                                            href="#readablebytestreamcontroller-pendingpullintos"
                                            id="ref-for-readablebytestreamcontroller-pendingpullintos①②">[[pendingPullIntos]]</a>
                                        为 <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty"
                                            id="ref-for-list-is-empty①③">空</a>。</p>
                                <li data-md>
                                    <p>执行 !<a data-link-type="abstract-op"
                                            href="#readable-byte-stream-controller-enqueue-chunk-to-queue"
                                            id="ref-for-readable-byte-stream-controller-enqueue-chunk-to-queue">ReadableByteStreamControllerEnqueueChunkToQueue</a>(<var>controller</var>,
                                        <var>transferredBuffer</var>, <var>byteOffset</var>, <var>byteLength</var>)。
                                    </p>
                            </ol>
                        <li data-md>
                            <p>否则，</p>
                            <ol>
                                <li data-md>
                                    <p class="assertion">断言：<var>controller</var>.<a data-link-type="dfn"
                                            href="#readablebytestreamcontroller-queue"
                                            id="ref-for-readablebytestreamcontroller-queue②">[[queue]]</a> <a
                                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty"
                                            id="ref-for-list-is-empty①④">为空</a>。</p>
                                <li data-md>
                                    <p>如果 <var>controller</var>.<a data-link-type="dfn"
                                            href="#readablebytestreamcontroller-pendingpullintos"
                                            id="ref-for-readablebytestreamcontroller-pendingpullintos①③">[[pendingPullIntos]]</a>
                                        不为 <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty"
                                            id="ref-for-list-is-empty①⑤">空</a>，</p>
                                    <ol>
                                        <li data-md>
                                            <p class="assertion">断言：<var>controller</var>.<a data-link-type="dfn"
                                                    href="#readablebytestreamcontroller-pendingpullintos"
                                                    id="ref-for-readablebytestreamcontroller-pendingpullintos①④">[[pendingPullIntos]]</a>[0]
                                                的
                                                <a data-link-type="dfn" href="#pull-into-descriptor-reader-type"
                                                    id="ref-for-pull-into-descriptor-reader-type⑥">reader type</a> 为
                                                "<code>default</code>"。
                                            </p>
                                        <li data-md>
                                            <p>执行 !<a data-link-type="abstract-op"
                                                    href="#readable-byte-stream-controller-shift-pending-pull-into"
                                                    id="ref-for-readable-byte-stream-controller-shift-pending-pull-into">ReadableByteStreamControllerShiftPendingPullInto</a>(<var>controller</var>)。
                                            </p>
                                    </ol>
                                <li data-md>
                                    <p>令 <var>transferredView</var> 为 !<a data-link-type="abstract-op"
                                            href="https://tc39.es/ecma262/multipage/abstract-operations.html#sec-construct"
                                            id="ref-for-sec-construct②">Construct</a>(<code
                                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/indexed-collections.html#sec-typedarray-objects" id="ref-for-sec-typedarray-objects④">%Uint8Array%</a></code>，
                                        « <var>transferredBuffer</var>, <var>byteOffset</var>, <var>byteLength</var> »)。
                                    </p>
                                <li data-md>
                                    <p>执行 !<a data-link-type="abstract-op" href="#readable-stream-fulfill-read-request"
                                            id="ref-for-readable-stream-fulfill-read-request②">ReadableStreamFulfillReadRequest</a>(<var>stream</var>,
                                        <var>transferredView</var>, false)。
                                    </p>
                            </ol>
                    </ol>
                <li data-md>
                    <p>否则，如果 !<a data-link-type="abstract-op" href="#readable-stream-has-byob-reader"
                            id="ref-for-readable-stream-has-byob-reader②">ReadableStreamHasBYOBReader</a>(<var>stream</var>)
                        为 true，</p>
                    <ol>
                        <li data-md>
                            <p>执行 !<a data-link-type="abstract-op"
                                    href="#readable-byte-stream-controller-enqueue-chunk-to-queue"
                                    id="ref-for-readable-byte-stream-controller-enqueue-chunk-to-queue①">ReadableByteStreamControllerEnqueueChunkToQueue</a>(<var>controller</var>,
                                <var>transferredBuffer</var>, <var>byteOffset</var>, <var>byteLength</var>)。
                            </p>
                        <li data-md>
                            <p>令 <var>filledPullIntos</var> 为执行
                                !<a data-link-type="abstract-op"
                                    href="#readable-byte-stream-controller-process-pull-into-descriptors-using-queue"
                                    id="ref-for-readable-byte-stream-controller-process-pull-into-descriptors-using-queue">ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue</a>(<var>controller</var>)
                                的结果。</p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                                    id="ref-for-list-iterate④">对于每个</a> <var>filledPullInto</var> 属于
                                <var>filledPullIntos</var>，
                            </p>
                            <ol>
                                <li data-md>
                                    <p>执行 !<a data-link-type="abstract-op"
                                            href="#readable-byte-stream-controller-commit-pull-into-descriptor"
                                            id="ref-for-readable-byte-stream-controller-commit-pull-into-descriptor">ReadableByteStreamControllerCommitPullIntoDescriptor</a>(<var>stream</var>,
                                        <var>filledPullInto</var>)。
                                    </p>
                            </ol>
                    </ol>
                <li data-md>
                    <p>否则，</p>
                    <ol>
                        <li data-md>
                            <p class="assertion">断言：!<a data-link-type="abstract-op" href="#is-readable-stream-locked"
                                    id="ref-for-is-readable-stream-locked①⓪">IsReadableStreamLocked</a>(<var>stream</var>)
                                为 false。</p>
                        <li data-md>
                            <p>执行 !<a data-link-type="abstract-op"
                                    href="#readable-byte-stream-controller-enqueue-chunk-to-queue"
                                    id="ref-for-readable-byte-stream-controller-enqueue-chunk-to-queue②">ReadableByteStreamControllerEnqueueChunkToQueue</a>(<var>controller</var>,
                                <var>transferredBuffer</var>, <var>byteOffset</var>, <var>byteLength</var>)。
                            </p>
                    </ol>
                <li data-md>
                    <p>执行 !<a data-link-type="abstract-op" href="#readable-byte-stream-controller-call-pull-if-needed"
                            id="ref-for-readable-byte-stream-controller-call-pull-if-needed②">ReadableByteStreamControllerCallPullIfNeeded</a>(<var>controller</var>)。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableByteStreamControllerEnqueueChunkToQueue">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="ReadableByteStreamControllerEnqueueChunkToQueue"
                id="readable-byte-stream-controller-enqueue-chunk-to-queue">ReadableByteStreamControllerEnqueueChunkToQueue(<var>controller</var>,
                <var>buffer</var>, <var>byteOffset</var>, <var>byteLength</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                            id="ref-for-list-append③">追加</a> 一个带有 <a data-link-type="dfn"
                            href="#readable-byte-stream-queue-entry-buffer"
                            id="ref-for-readable-byte-stream-queue-entry-buffer">buffer</a> <var>buffer</var>、<a
                            data-link-type="dfn" href="#readable-byte-stream-queue-entry-byte-offset"
                            id="ref-for-readable-byte-stream-queue-entry-byte-offset">byte offset</a>
                        <var>byteOffset</var> 和 <a data-link-type="dfn"
                            href="#readable-byte-stream-queue-entry-byte-length"
                            id="ref-for-readable-byte-stream-queue-entry-byte-length">byte length</a>
                        <var>byteLength</var> 的新的 <a data-link-type="dfn" href="#readable-byte-stream-queue-entry"
                            id="ref-for-readable-byte-stream-queue-entry①">readable byte stream queue entry</a> 到
                        <var>controller</var>.<a data-link-type="dfn" href="#readablebytestreamcontroller-queue"
                            id="ref-for-readablebytestreamcontroller-queue③">[[queue]]</a>。
                    </p>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-queuetotalsize"
                            id="ref-for-readablestreamcontroller-queuetotalsize③">[[queueTotalSize]]</a> 设为
                        <var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-queuetotalsize"
                            id="ref-for-readablestreamcontroller-queuetotalsize④">[[queueTotalSize]]</a> +
                        <var>byteLength</var>。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableByteStreamControllerEnqueueClonedChunkToQueue">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="ReadableByteStreamControllerEnqueueClonedChunkToQueue"
                id="abstract-opdef-readablebytestreamcontrollerenqueueclonedchunktoqueue">ReadableByteStreamControllerEnqueueClonedChunkToQueue(<var>controller</var>,
                <var>buffer</var>, <var>byteOffset</var>, <var>byteLength</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>cloneResult</var> 为 <a data-link-type="abstract-op"
                            href="https://tc39.es/ecma262/multipage/structured-data.html#sec-clonearraybuffer"
                            id="ref-for-sec-clonearraybuffer">CloneArrayBuffer</a>(<var>buffer</var>,
                        <var>byteOffset</var>, <var>byteLength</var>, <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/structured-data.html#sec-arraybuffer-constructor" id="ref-for-sec-arraybuffer-constructor①">%ArrayBuffer%</a></code>)。
                    </p>
                <li data-md>
                    <p>如果 <var>cloneResult</var> 为异常完成，</p>
                    <ol>
                        <li data-md>
                            <p>执行 !<a data-link-type="abstract-op" href="#readable-byte-stream-controller-error"
                                    id="ref-for-readable-byte-stream-controller-error⑨">ReadableByteStreamControllerError</a>(<var>controller</var>,
                                <var>cloneResult</var>.[[Value]])。
                            </p>
                        <li data-md>
                            <p>返回 <var>cloneResult</var>。</p>
                    </ol>
                <li data-md>
                    <p>执行 !<a data-link-type="abstract-op"
                            href="#readable-byte-stream-controller-enqueue-chunk-to-queue"
                            id="ref-for-readable-byte-stream-controller-enqueue-chunk-to-queue③">ReadableByteStreamControllerEnqueueChunkToQueue</a>(<var>controller</var>,
                        <var>cloneResult</var>.[[Value]], 0, <var>byteLength</var>)。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableByteStreamControllerEnqueueDetachedPullIntoToQueue">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="ReadableByteStreamControllerEnqueueDetachedPullIntoToQueue"
                id="abstract-opdef-readablebytestreamcontrollerenqueuedetachedpullintotoqueue">ReadableByteStreamControllerEnqueueDetachedPullIntoToQueue(<var>controller</var>,
                <var>pullIntoDescriptor</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p class="assertion">断言：<var>pullIntoDescriptor</var> 的 <a data-link-type="dfn"
                            href="#pull-into-descriptor-reader-type"
                            id="ref-for-pull-into-descriptor-reader-type⑦">reader type</a> 为 "<code>none</code>"。</p>
                <li data-md>
                    <p>如果 <var>pullIntoDescriptor</var> 的 <a data-link-type="dfn"
                            href="#pull-into-descriptor-bytes-filled"
                            id="ref-for-pull-into-descriptor-bytes-filled④">bytes filled</a> > 0，执行 ?<a
                            data-link-type="abstract-op"
                            href="#abstract-opdef-readablebytestreamcontrollerenqueueclonedchunktoqueue"
                            id="ref-for-abstract-opdef-readablebytestreamcontrollerenqueueclonedchunktoqueue">ReadableByteStreamControllerEnqueueClonedChunkToQueue</a>(<var>controller</var>,
                        <var>pullIntoDescriptor</var> 的 <a data-link-type="dfn" href="#pull-into-descriptor-buffer"
                            id="ref-for-pull-into-descriptor-buffer①②">buffer</a>, <var>pullIntoDescriptor</var> 的 <a
                            data-link-type="dfn" href="#pull-into-descriptor-byte-offset"
                            id="ref-for-pull-into-descriptor-byte-offset②">byte offset</a>,
                        <var>pullIntoDescriptor</var> 的 <a data-link-type="dfn"
                            href="#pull-into-descriptor-bytes-filled"
                            id="ref-for-pull-into-descriptor-bytes-filled⑤">bytes filled</a>)。
                    </p>
                <li data-md>
                    <p>执行 !<a data-link-type="abstract-op"
                            href="#readable-byte-stream-controller-shift-pending-pull-into"
                            id="ref-for-readable-byte-stream-controller-shift-pending-pull-into①">ReadableByteStreamControllerShiftPendingPullInto</a>(<var>controller</var>)。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableByteStreamControllerError">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="ReadableByteStreamControllerError"
                id="readable-byte-stream-controller-error">ReadableByteStreamControllerError(<var>controller</var>,
                <var>e</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>stream</var> 为 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-stream"
                            id="ref-for-readablebytestreamcontroller-stream⑤">[[stream]]</a>。</p>
                <li data-md>
                    <p>如果 <var>stream</var>.<a data-link-type="dfn" href="#readablestream-state"
                            id="ref-for-readablestream-state②⑨">[[state]]</a> 不为 "<code>readable</code>"，返回。</p>
                <li data-md>
                    <p>执行 !<a data-link-type="abstract-op"
                            href="#readable-byte-stream-controller-clear-pending-pull-intos"
                            id="ref-for-readable-byte-stream-controller-clear-pending-pull-intos①">ReadableByteStreamControllerClearPendingPullIntos</a>(<var>controller</var>)。
                    </p>
                <li data-md>
                    <p>执行 !<a data-link-type="abstract-op" href="#reset-queue"
                            id="ref-for-reset-queue④">ResetQueue</a>(<var>controller</var>)。</p>
                <li data-md>
                    <p>执行 !<a data-link-type="abstract-op" href="#readable-byte-stream-controller-clear-algorithms"
                            id="ref-for-readable-byte-stream-controller-clear-algorithms②">ReadableByteStreamControllerClearAlgorithms</a>(<var>controller</var>)。
                    </p>
                <li data-md>
                    <p>执行 !<a data-link-type="abstract-op" href="#readable-stream-error"
                            id="ref-for-readable-stream-error①">ReadableStreamError</a>(<var>stream</var>,
                        <var>e</var>)。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableByteStreamControllerFillHeadPullIntoDescriptor">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="ReadableByteStreamControllerFillHeadPullIntoDescriptor"
                id="readable-byte-stream-controller-fill-head-pull-into-descriptor">ReadableByteStreamControllerFillHeadPullIntoDescriptor(<var>controller</var>,
                <var>size</var>, <var>pullIntoDescriptor</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p class="assertion">断言：<var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-pendingpullintos"
                            id="ref-for-readablebytestreamcontroller-pendingpullintos①⑤">[[pendingPullIntos]]</a> <a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty"
                            id="ref-for-list-is-empty①⑥">为空</a>，或 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-pendingpullintos"
                            id="ref-for-readablebytestreamcontroller-pendingpullintos①⑥">[[pendingPullIntos]]</a>[0]
                        为 <var>pullIntoDescriptor</var>。</p>
                <li data-md>
                    <p class="assertion">断言：<var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-byobrequest"
                            id="ref-for-readablebytestreamcontroller-byobrequest">[[byobRequest]]</a> 为 null。</p>
                <li data-md>
                    <p>将 <var>pullIntoDescriptor</var> 的 <a data-link-type="dfn"
                            href="#pull-into-descriptor-bytes-filled"
                            id="ref-for-pull-into-descriptor-bytes-filled⑥">bytes filled</a> 设为 <a data-link-type="dfn"
                            href="#pull-into-descriptor-bytes-filled"
                            id="ref-for-pull-into-descriptor-bytes-filled⑦">bytes filled</a> + <var>size</var>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableByteStreamControllerFillPullIntoDescriptorFromQueue">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="ReadableByteStreamControllerFillPullIntoDescriptorFromQueue"
                id="readable-byte-stream-controller-fill-pull-into-descriptor-from-queue">ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(<var>controller</var>,
                <var>pullIntoDescriptor</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>maxBytesToCopy</var> 为 min(<var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-queuetotalsize"
                            id="ref-for-readablebytestreamcontroller-queuetotalsize⑤">[[queueTotalSize]]</a>，
                        <var>pullIntoDescriptor</var> 的 <a data-link-type="dfn" href="#pull-into-descriptor-byte-length"
                            id="ref-for-pull-into-descriptor-byte-length②">byte length</a> −
                        <var>pullIntoDescriptor</var> 的 <a data-link-type="dfn"
                            href="#pull-into-descriptor-bytes-filled"
                            id="ref-for-pull-into-descriptor-bytes-filled⑧">bytes filled</a>)。
                    </p>
                <li data-md>
                    <p>令 <var>maxBytesFilled</var> 为 <var>pullIntoDescriptor</var> 的 <a data-link-type="dfn"
                            href="#pull-into-descriptor-bytes-filled"
                            id="ref-for-pull-into-descriptor-bytes-filled⑨">bytes filled</a> +
                        <var>maxBytesToCopy</var>。
                    </p>
                <li data-md>
                    <p>令 <var>totalBytesToCopyRemaining</var> 为 <var>maxBytesToCopy</var>。</p>
                <li data-md>
                    <p>令 <var>ready</var> 为 false。</p>
                <li data-md>
                    <p class="assertion">断言：!<a data-link-type="abstract-op"
                            href="https://tc39.es/ecma262/multipage/structured-data.html#sec-isdetachedbuffer"
                            id="ref-for-sec-isdetachedbuffer⑤">IsDetachedBuffer</a>(<var>pullIntoDescriptor</var> 的 <a
                            data-link-type="dfn" href="#pull-into-descriptor-buffer"
                            id="ref-for-pull-into-descriptor-buffer①③">buffer</a>) 为 false。</p>
                <li data-md>
                    <p class="assertion">断言：<var>pullIntoDescriptor</var> 的 <a data-link-type="dfn"
                            href="#pull-into-descriptor-bytes-filled"
                            id="ref-for-pull-into-descriptor-bytes-filled①⓪">bytes filled</a> &lt;
                        <var>pullIntoDescriptor</var> 的 <a data-link-type="dfn"
                            href="#pull-into-descriptor-minimum-fill"
                            id="ref-for-pull-into-descriptor-minimum-fill①">minimum fill</a>。
                    </p>
                <li data-md>
                    <p>令 <var>remainderBytes</var> 为 <var>maxBytesFilled</var> 除以 <var>pullIntoDescriptor</var> 的 <a
                            data-link-type="dfn" href="#pull-into-descriptor-element-size"
                            id="ref-for-pull-into-descriptor-element-size⑤">element size</a> 的余数。</p>
                <li data-md>
                    <p>令 <var>maxAlignedBytes</var> 为 <var>maxBytesFilled</var> − <var>remainderBytes</var>。</p>
                <li data-md>
                    <p>如果 <var>maxAlignedBytes</var> ≥ <var>pullIntoDescriptor</var> 的 <a data-link-type="dfn"
                            href="#pull-into-descriptor-minimum-fill"
                            id="ref-for-pull-into-descriptor-minimum-fill②">minimum fill</a>，</p>
                    <ol>
                        <li data-md>
                            <p>将 <var>totalBytesToCopyRemaining</var> 设为 <var>maxAlignedBytes</var> −
                                <var>pullIntoDescriptor</var> 的 <a data-link-type="dfn"
                                    href="#pull-into-descriptor-bytes-filled"
                                    id="ref-for-pull-into-descriptor-bytes-filled①①">bytes filled</a>。
                            </p>
                        <li data-md>
                            <p>将 <var>ready</var> 设为 true。</p>
                            <p class="note" role="note">尚未填充到最小长度的 <code
                                    class="idl"><a data-link-type="idl" href="#byob-reader-read" id="ref-for-byob-reader-read⑧">read()</a></code>
                                请求描述符会保持在队列头部，底层源 <a data-link-type="dfn" href="#underlying-source"
                                    id="ref-for-underlying-source②⑥">underlying source</a> 可以继续填充。</p>
                    </ol>
                <li data-md>
                    <p>令 <var>queue</var> 为 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-queue"
                            id="ref-for-readablebytestreamcontroller-queue④">[[queue]]</a>。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-while"
                            id="ref-for-iteration-while">当</a> <var>totalBytesToCopyRemaining</var> > 0，</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>headOfQueue</var> 为 <var>queue</var>[0]。</p>
                        <li data-md>
                            <p>令 <var>bytesToCopy</var> 为 min(<var>totalBytesToCopyRemaining</var>,
                                <var>headOfQueue</var> 的 <a data-link-type="dfn"
                                    href="#readable-byte-stream-queue-entry-byte-length"
                                    id="ref-for-readable-byte-stream-queue-entry-byte-length①">byte length</a>)。
                            </p>
                        <li data-md>
                            <p>令 <var>destStart</var> 为 <var>pullIntoDescriptor</var> 的 <a data-link-type="dfn"
                                    href="#pull-into-descriptor-byte-offset"
                                    id="ref-for-pull-into-descriptor-byte-offset③">byte offset</a> +
                                <var>pullIntoDescriptor</var> 的 <a data-link-type="dfn"
                                    href="#pull-into-descriptor-bytes-filled"
                                    id="ref-for-pull-into-descriptor-bytes-filled①②">bytes filled</a>。
                            </p>
                        <li data-md>
                            <p>令 <var>descriptorBuffer</var> 为 <var>pullIntoDescriptor</var> 的 <a data-link-type="dfn"
                                    href="#pull-into-descriptor-buffer"
                                    id="ref-for-pull-into-descriptor-buffer①④">buffer</a>。</p>
                        <li data-md>
                            <p>令 <var>queueBuffer</var> 为 <var>headOfQueue</var> 的 <a data-link-type="dfn"
                                    href="#readable-byte-stream-queue-entry-buffer"
                                    id="ref-for-readable-byte-stream-queue-entry-buffer①">buffer</a>。</p>
                        <li data-md>
                            <p>令 <var>queueByteOffset</var> 为 <var>headOfQueue</var> 的 <a data-link-type="dfn"
                                    href="#readable-byte-stream-queue-entry-byte-offset"
                                    id="ref-for-readable-byte-stream-queue-entry-byte-offset①">byte offset</a>。</p>
                        <li data-md>
                            <p class="assertion">断言：!<a data-link-type="abstract-op"
                                    href="#abstract-opdef-cancopydatablockbytes"
                                    id="ref-for-abstract-opdef-cancopydatablockbytes">CanCopyDataBlockBytes</a>(<var>descriptorBuffer</var>,
                                <var>destStart</var>, <var>queueBuffer</var>, <var>queueByteOffset</var>,
                                <var>bytesToCopy</var>) 为 true。
                            </p>
                            <p class="warning">如断言失败（由于规范或实现错误），下一步可能会读写无效内存。实现应始终检查此断言，如失败应以实现定义方式终止（如崩溃或 <a
                                    data-link-type="abstract-op" href="#readable-byte-stream-controller-error"
                                    id="ref-for-readable-byte-stream-controller-error①⓪">erroring the stream</a>）。</p>
                        <li data-md>
                            <p>执行 !<a data-link-type="abstract-op"
                                    href="https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-copydatablockbytes"
                                    id="ref-for-sec-copydatablockbytes">CopyDataBlockBytes</a>(<var>descriptorBuffer</var>.[[ArrayBufferData]],
                                <var>destStart</var>, <var>queueBuffer</var>.[[ArrayBufferData]],
                                <var>queueByteOffset</var>, <var>bytesToCopy</var>)。
                            </p>
                        <li data-md>
                            <p>如果 <var>headOfQueue</var> 的 <a data-link-type="dfn"
                                    href="#readable-byte-stream-queue-entry-byte-length"
                                    id="ref-for-readable-byte-stream-queue-entry-byte-length②">byte length</a> 为
                                <var>bytesToCopy</var>，
                            </p>
                            <ol>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove"
                                            id="ref-for-list-remove②">移除</a> <var>queue</var>[0]。</p>
                            </ol>
                        <li data-md>
                            <p>否则，</p>
                            <ol>
                                <li data-md>
                                    <p>将 <var>headOfQueue</var> 的 <a data-link-type="dfn"
                                            href="#readable-byte-stream-queue-entry-byte-offset"
                                            id="ref-for-readable-byte-stream-queue-entry-byte-offset②">byte offset</a>
                                        设为 <var>headOfQueue</var> 的 <a data-link-type="dfn"
                                            href="#readable-byte-stream-queue-entry-byte-offset"
                                            id="ref-for-readable-byte-stream-queue-entry-byte-offset③">byte offset</a> +
                                        <var>bytesToCopy</var>。
                                    </p>
                                <li data-md>
                                    <p>将 <var>headOfQueue</var> 的 <a data-link-type="dfn"
                                            href="#readable-byte-stream-queue-entry-byte-length"
                                            id="ref-for-readable-byte-stream-queue-entry-byte-length③">byte length</a>
                                        设为 <var>headOfQueue</var> 的 <a data-link-type="dfn"
                                            href="#readable-byte-stream-queue-entry-byte-length"
                                            id="ref-for-readable-byte-stream-queue-entry-byte-length④">byte length</a> −
                                        <var>bytesToCopy</var>。
                                    </p>
                            </ol>
                        <li data-md>
                            <p>将 <var>controller</var>.<a data-link-type="dfn"
                                    href="#readablebytestreamcontroller-queuetotalsize"
                                    id="ref-for-readablebytestreamcontroller-queuetotalsize⑥">[[queueTotalSize]]</a> 设为
                                <var>controller</var>.<a data-link-type="dfn"
                                    href="#readablebytestreamcontroller-queuetotalsize"
                                    id="ref-for-readablebytestreamcontroller-queuetotalsize⑦">[[queueTotalSize]]</a> −
                                <var>bytesToCopy</var>。
                            </p>
                        <li data-md>
                            <p>执行 !<a data-link-type="abstract-op"
                                    href="#readable-byte-stream-controller-fill-head-pull-into-descriptor"
                                    id="ref-for-readable-byte-stream-controller-fill-head-pull-into-descriptor">ReadableByteStreamControllerFillHeadPullIntoDescriptor</a>(<var>controller</var>,
                                <var>bytesToCopy</var>, <var>pullIntoDescriptor</var>)。
                            </p>
                        <li data-md>
                            <p>将 <var>totalBytesToCopyRemaining</var> 设为 <var>totalBytesToCopyRemaining</var> −
                                <var>bytesToCopy</var>。
                            </p>
                    </ol>
                <li data-md>
                    <p>如果 <var>ready</var> 为 false，</p>
                    <ol>
                        <li data-md>
                            <p class="assertion">断言：<var>controller</var>.<a data-link-type="dfn"
                                    href="#readablebytestreamcontroller-queuetotalsize"
                                    id="ref-for-readablebytestreamcontroller-queuetotalsize⑧">[[queueTotalSize]]</a> 为
                                0。</p>
                        <li data-md>
                            <p class="assertion">断言：<var>pullIntoDescriptor</var> 的 <a data-link-type="dfn"
                                    href="#pull-into-descriptor-bytes-filled"
                                    id="ref-for-pull-into-descriptor-bytes-filled①③">bytes filled</a> > 0。</p>
                        <li data-md>
                            <p class="assertion">断言：<var>pullIntoDescriptor</var> 的 <a data-link-type="dfn"
                                    href="#pull-into-descriptor-bytes-filled"
                                    id="ref-for-pull-into-descriptor-bytes-filled①④">bytes filled</a> &lt;
                                <var>pullIntoDescriptor</var> 的 <a data-link-type="dfn"
                                    href="#pull-into-descriptor-minimum-fill"
                                    id="ref-for-pull-into-descriptor-minimum-fill③">minimum fill</a>。
                            </p>
                    </ol>
                <li data-md>
                    <p>返回 <var>ready</var>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableByteStreamControllerFillReadRequestFromQueue">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="ReadableByteStreamControllerFillReadRequestFromQueue"
                id="abstract-opdef-readablebytestreamcontrollerfillreadrequestfromqueue">ReadableByteStreamControllerFillReadRequestFromQueue(<var>controller</var>,
                <var>readRequest</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p class="assertion">断言：<var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-queuetotalsize"
                            id="ref-for-readablebytestreamcontroller-queuetotalsize⑨">[[queueTotalSize]]</a> > 0。</p>
                <li data-md>
                    <p>令 <var>entry</var> 为 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-queue"
                            id="ref-for-readablebytestreamcontroller-queue⑤">[[queue]]</a>[0]。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove"
                            id="ref-for-list-remove③">移除</a> <var>entry</var> 从 <var>controller</var>.<a
                            data-link-type="dfn" href="#readablebytestreamcontroller-queue"
                            id="ref-for-readablebytestreamcontroller-queue⑥">[[queue]]</a>。</p>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-queuetotalsize"
                            id="ref-for-readablebytestreamcontroller-queuetotalsize①⓪">[[queueTotalSize]]</a> 设为
                        <var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-queuetotalsize"
                            id="ref-for-readablebytestreamcontroller-queuetotalsize①①">[[queueTotalSize]]</a> −
                        <var>entry</var> 的 <a data-link-type="dfn" href="#readable-byte-stream-queue-entry-byte-length"
                            id="ref-for-readable-byte-stream-queue-entry-byte-length⑤">byte length</a>。
                    </p>
                <li data-md>
                    <p>执行 !<a data-link-type="abstract-op" href="#readable-byte-stream-controller-handle-queue-drain"
                            id="ref-for-readable-byte-stream-controller-handle-queue-drain">ReadableByteStreamControllerHandleQueueDrain</a>(<var>controller</var>)。
                    </p>
                <li data-md>
                    <p>令 <var>view</var> 为 !<a data-link-type="abstract-op"
                            href="https://tc39.es/ecma262/multipage/abstract-operations.html#sec-construct"
                            id="ref-for-sec-construct③">Construct</a>(<code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/indexed-collections.html#sec-typedarray-objects" id="ref-for-sec-typedarray-objects⑤">%Uint8Array%</a></code>，
                        « <var>entry</var> 的 <a data-link-type="dfn" href="#readable-byte-stream-queue-entry-buffer"
                            id="ref-for-readable-byte-stream-queue-entry-buffer②">buffer</a>，<var>entry</var> 的 <a
                            data-link-type="dfn" href="#readable-byte-stream-queue-entry-byte-offset"
                            id="ref-for-readable-byte-stream-queue-entry-byte-offset④">byte offset</a>，
                        <var>entry</var> 的 <a data-link-type="dfn" href="#readable-byte-stream-queue-entry-byte-length"
                            id="ref-for-readable-byte-stream-queue-entry-byte-length⑥">byte length</a> »)。
                    </p>
                <li data-md>
                    <p>以 <var>view</var> 作为参数，执行 <var>readRequest</var> 的 <a data-link-type="dfn"
                            href="#read-request-chunk-steps" id="ref-for-read-request-chunk-steps⑥">chunk steps</a>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableByteStreamControllerGetBYOBRequest">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="ReadableByteStreamControllerGetBYOBRequest"
                id="abstract-opdef-readablebytestreamcontrollergetbyobrequest">ReadableByteStreamControllerGetBYOBRequest(<var>controller</var>)</dfn>
            执行以下步骤：
            <ol>
                <li data-md>
                    <p>如果 <var>controller</var>.<a data-link-type="dfn" href="#readablebytestreamcontroller-byobrequest"
                            id="ref-for-readablebytestreamcontroller-byobrequest①">[[byobRequest]]</a> 为 null 且
                        <var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-pendingpullintos"
                            id="ref-for-readablebytestreamcontroller-pendingpullintos①⑦">[[pendingPullIntos]]</a> 不为
                        <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty"
                            id="ref-for-list-is-empty①⑦">空</a>，
                    </p>
                    <ol>
                        <li data-md>
                            <p>令 <var>firstDescriptor</var> 为 <var>controller</var>.<a data-link-type="dfn"
                                    href="#readablebytestreamcontroller-pendingpullintos"
                                    id="ref-for-readablebytestreamcontroller-pendingpullintos①⑧">[[pendingPullIntos]]</a>[0]。
                            </p>
                        <li data-md>
                            <p>令 <var>view</var> 为 !<a data-link-type="abstract-op"
                                    href="https://tc39.es/ecma262/multipage/abstract-operations.html#sec-construct"
                                    id="ref-for-sec-construct④">Construct</a>(<code
                                    class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/indexed-collections.html#sec-typedarray-objects" id="ref-for-sec-typedarray-objects⑥">%Uint8Array%</a></code>，
                                « <var>firstDescriptor</var> 的 <a data-link-type="dfn"
                                    href="#pull-into-descriptor-buffer"
                                    id="ref-for-pull-into-descriptor-buffer①⑤">buffer</a>，<var>firstDescriptor</var> 的
                                <a data-link-type="dfn" href="#pull-into-descriptor-byte-offset"
                                    id="ref-for-pull-into-descriptor-byte-offset④">byte offset</a> +
                                <var>firstDescriptor</var> 的 <a data-link-type="dfn"
                                    href="#pull-into-descriptor-bytes-filled"
                                    id="ref-for-pull-into-descriptor-bytes-filled①⑤">bytes filled</a>，
                                <var>firstDescriptor</var> 的 <a data-link-type="dfn"
                                    href="#pull-into-descriptor-byte-length"
                                    id="ref-for-pull-into-descriptor-byte-length③">byte length</a> −
                                <var>firstDescriptor</var> 的 <a data-link-type="dfn"
                                    href="#pull-into-descriptor-bytes-filled"
                                    id="ref-for-pull-into-descriptor-bytes-filled①⑥">bytes filled</a> »)。
                            </p>
                        <li data-md>
                            <p>令 <var>byobRequest</var> 为 <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#new" id="ref-for-new①⓪">新的</a> <code
                                    class="idl"><a data-link-type="idl" href="#readablestreambyobrequest" id="ref-for-readablestreambyobrequest⑥">ReadableStreamBYOBRequest</a></code>。
                            </p>
                        <li data-md>
                            <p>将 <var>byobRequest</var>.<a data-link-type="dfn"
                                    href="#readablestreambyobrequest-controller"
                                    id="ref-for-readablestreambyobrequest-controller④">[[controller]]</a> 设为
                                <var>controller</var>。
                            </p>
                        <li data-md>
                            <p>将 <var>byobRequest</var>.<a data-link-type="dfn" href="#readablestreambyobrequest-view"
                                    id="ref-for-readablestreambyobrequest-view⑥">[[view]]</a> 设为 <var>view</var>。</p>
                        <li data-md>
                            <p>将 <var>controller</var>.<a data-link-type="dfn"
                                    href="#readablebytestreamcontroller-byobrequest"
                                    id="ref-for-readablebytestreamcontroller-byobrequest②">[[byobRequest]]</a> 设为
                                <var>byobRequest</var>。
                            </p>
                    </ol>
                <li data-md>
                    <p>返回 <var>controller</var>.<a data-link-type="dfn" href="#readablebytestreamcontroller-byobrequest"
                            id="ref-for-readablebytestreamcontroller-byobrequest③">[[byobRequest]]</a>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableByteStreamControllerGetDesiredSize">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="ReadableByteStreamControllerGetDesiredSize"
                id="readable-byte-stream-controller-get-desired-size">ReadableByteStreamControllerGetDesiredSize(<var>controller</var>)</dfn>
            执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>state</var> 为 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-stream"
                            id="ref-for-readablebytestreamcontroller-stream⑥">[[stream]]</a>.<a data-link-type="dfn"
                            href="#readablestream-state" id="ref-for-readablestream-state③⓪">[[state]]</a>。</p>
                <li data-md>
                    <p>如果 <var>state</var> 为 "<code>errored</code>"，返回 null。</p>
                <li data-md>
                    <p>如果 <var>state</var> 为 "<code>closed</code>"，返回 0。</p>
                <li data-md>
                    <p>返回 <var>controller</var>.<a data-link-type="dfn" href="#readablebytestreamcontroller-strategyhwm"
                            id="ref-for-readablebytestreamcontroller-strategyhwm">[[strategyHWM]]</a> −
                        <var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-queuetotalsize"
                            id="ref-for-readablebytestreamcontroller-queuetotalsize①②">[[queueTotalSize]]</a>。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableByteStreamControllerHandleQueueDrain">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="ReadableByteStreamControllerHandleQueueDrain"
                id="readable-byte-stream-controller-handle-queue-drain">ReadableByteStreamControllerHandleQueueDrain(<var>controller</var>)</dfn>
            执行以下步骤：
            <ol>
                <li data-md>
                    <p class="assertion">断言：<var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-stream"
                            id="ref-for-readablebytestreamcontroller-stream⑦">[[stream]]</a>.<a data-link-type="dfn"
                            href="#readablestream-state" id="ref-for-readablestream-state③①">[[state]]</a> 为
                        "<code>readable</code>"。</p>
                <li data-md>
                    <p>如果 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-queuetotalsize"
                            id="ref-for-readablebytestreamcontroller-queuetotalsize①③">[[queueTotalSize]]</a> 为 0 且
                        <var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-closerequested"
                            id="ref-for-readablebytestreamcontroller-closerequested⑤">[[closeRequested]]</a> 为 true，
                    </p>
                    <ol>
                        <li data-md>
                            <p>执行 !<a data-link-type="abstract-op"
                                    href="#readable-byte-stream-controller-clear-algorithms"
                                    id="ref-for-readable-byte-stream-controller-clear-algorithms③">ReadableByteStreamControllerClearAlgorithms</a>(<var>controller</var>)。
                            </p>
                        <li data-md>
                            <p>执行 !<a data-link-type="abstract-op" href="#readable-stream-close"
                                    id="ref-for-readable-stream-close④">ReadableStreamClose</a>(<var>controller</var>.<a
                                    data-link-type="dfn" href="#readablebytestreamcontroller-stream"
                                    id="ref-for-readablebytestreamcontroller-stream⑧">[[stream]]</a>)。</p>
                    </ol>
                <li data-md>
                    <p>否则，</p>
                    <ol>
                        <li data-md>
                            <p>执行 !<a data-link-type="abstract-op"
                                    href="#readable-byte-stream-controller-call-pull-if-needed"
                                    id="ref-for-readable-byte-stream-controller-call-pull-if-needed③">ReadableByteStreamControllerCallPullIfNeeded</a>(<var>controller</var>)。
                            </p>
                    </ol>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableByteStreamControllerInvalidateBYOBRequest">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="ReadableByteStreamControllerInvalidateBYOBRequest"
                id="readable-byte-stream-controller-invalidate-byob-request">ReadableByteStreamControllerInvalidateBYOBRequest(<var>controller</var>)</dfn>
            执行以下步骤：
            <ol>
                <li data-md>
                    <p>如果 <var>controller</var>.<a data-link-type="dfn" href="#readablebytestreamcontroller-byobrequest"
                            id="ref-for-readablebytestreamcontroller-byobrequest④">[[byobRequest]]</a> 为 null，返回。</p>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn" href="#readablebytestreamcontroller-byobrequest"
                            id="ref-for-readablebytestreamcontroller-byobrequest⑤">[[byobRequest]]</a>.<a
                            data-link-type="dfn" href="#readablestreambyobrequest-controller"
                            id="ref-for-readablestreambyobrequest-controller⑤">[[controller]]</a> 设为 undefined。</p>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn" href="#readablebytestreamcontroller-byobrequest"
                            id="ref-for-readablebytestreamcontroller-byobrequest⑥">[[byobRequest]]</a>.<a
                            data-link-type="dfn" href="#readablestreambyobrequest-view"
                            id="ref-for-readablestreambyobrequest-view⑦">[[view]]</a> 设为 null。</p>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn" href="#readablebytestreamcontroller-byobrequest"
                            id="ref-for-readablebytestreamcontroller-byobrequest⑦">[[byobRequest]]</a> 设为 null。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue"
                id="readable-byte-stream-controller-process-pull-into-descriptors-using-queue">ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(<var>controller</var>)</dfn>
            执行以下步骤：
            <ol>
                <li data-md>
                    <p class="assertion">断言：<var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-closerequested"
                            id="ref-for-readablebytestreamcontroller-closerequested⑥">[[closeRequested]]</a> 为 false。
                    </p>
                <li data-md>
                    <p>令 <var>filledPullIntos</var> 为新的空 <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#list" id="ref-for-list①③">列表</a>。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-while"
                            id="ref-for-iteration-while①">当</a> <var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-pendingpullintos"
                            id="ref-for-readablebytestreamcontroller-pendingpullintos①⑨">[[pendingPullIntos]]</a> 不为
                        <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty"
                            id="ref-for-list-is-empty①⑧">空</a>，
                    </p>
                    <ol>
                        <li data-md>
                            <p>如果 <var>controller</var>.<a data-link-type="dfn"
                                    href="#readablebytestreamcontroller-queuetotalsize"
                                    id="ref-for-readablebytestreamcontroller-queuetotalsize①④">[[queueTotalSize]]</a> 为
                                0，则 <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break"
                                    id="ref-for-iteration-break">跳出循环</a>。</p>
                        <li data-md>
                            <p>令 <var>pullIntoDescriptor</var> 为 <var>controller</var>.<a data-link-type="dfn"
                                    href="#readablebytestreamcontroller-pendingpullintos"
                                    id="ref-for-readablebytestreamcontroller-pendingpullintos②⓪">[[pendingPullIntos]]</a>[0]。
                            </p>
                        <li data-md>
                            <p>如果 !<a data-link-type="abstract-op"
                                    href="#readable-byte-stream-controller-fill-pull-into-descriptor-from-queue"
                                    id="ref-for-readable-byte-stream-controller-fill-pull-into-descriptor-from-queue">ReadableByteStreamControllerFillPullIntoDescriptorFromQueue</a>(<var>controller</var>,
                                <var>pullIntoDescriptor</var>) 为 true，
                            </p>
                            <ol>
                                <li data-md>
                                    <p>执行 !<a data-link-type="abstract-op"
                                            href="#readable-byte-stream-controller-shift-pending-pull-into"
                                            id="ref-for-readable-byte-stream-controller-shift-pending-pull-into②">ReadableByteStreamControllerShiftPendingPullInto</a>(<var>controller</var>)。
                                    </p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                                            id="ref-for-list-append④">追加</a> <var>pullIntoDescriptor</var> 到
                                        <var>filledPullIntos</var>。
                                    </p>
                            </ol>
                    </ol>
                <li data-md>
                    <p>返回 <var>filledPullIntos</var>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableByteStreamControllerProcessReadRequestsUsingQueue">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="ReadableByteStreamControllerProcessReadRequestsUsingQueue"
                id="abstract-opdef-readablebytestreamcontrollerprocessreadrequestsusingqueue">ReadableByteStreamControllerProcessReadRequestsUsingQueue(<var>controller</var>)</dfn>
            执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>reader</var> 为 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-stream"
                            id="ref-for-readablebytestreamcontroller-stream⑨">[[stream]]</a>.<a data-link-type="dfn"
                            href="#readablestream-reader" id="ref-for-readablestream-reader①⑧">[[reader]]</a>。</p>
                <li data-md>
                    <p class="assertion">断言：<var>reader</var> <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#implements" id="ref-for-implements②①">实现了</a>
                        <code
                            class="idl"><a data-link-type="idl" href="#readablestreamdefaultreader" id="ref-for-readablestreamdefaultreader①⑦">ReadableStreamDefaultReader</a></code>。
                    </p>
                <li data-md>
                    <p>当 <var>reader</var>.<a data-link-type="dfn" href="#readablestreamdefaultreader-readrequests"
                            id="ref-for-readablestreamdefaultreader-readrequests①②">[[readRequests]]</a> 不为 <a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty"
                            id="ref-for-list-is-empty①⑨">空</a> 时，</p>
                    <ol>
                        <li data-md>
                            <p>如果 <var>controller</var>.<a data-link-type="dfn"
                                    href="#readablebytestreamcontroller-queuetotalsize"
                                    id="ref-for-readablebytestreamcontroller-queuetotalsize①⑤">[[queueTotalSize]]</a> 为
                                0，返回。</p>
                        <li data-md>
                            <p>令 <var>readRequest</var> 为 <var>reader</var>.<a data-link-type="dfn"
                                    href="#readablestreamdefaultreader-readrequests"
                                    id="ref-for-readablestreamdefaultreader-readrequests①③">[[readRequests]]</a>[0]。</p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove"
                                    id="ref-for-list-remove④">移除</a> <var>readRequest</var> 从 <var>reader</var>.<a
                                    data-link-type="dfn" href="#readablestreamdefaultreader-readrequests"
                                    id="ref-for-readablestreamdefaultreader-readrequests①④">[[readRequests]]</a>。</p>
                        <li data-md>
                            <p>执行 !<a data-link-type="abstract-op"
                                    href="#abstract-opdef-readablebytestreamcontrollerfillreadrequestfromqueue"
                                    id="ref-for-abstract-opdef-readablebytestreamcontrollerfillreadrequestfromqueue①">ReadableByteStreamControllerFillReadRequestFromQueue</a>(<var>controller</var>,
                                <var>readRequest</var>)。
                            </p>
                    </ol>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableByteStreamControllerPullInto">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="ReadableByteStreamControllerPullInto"
                id="readable-byte-stream-controller-pull-into">ReadableByteStreamControllerPullInto(<var>controller</var>,
                <var>view</var>, <var>min</var>, <var>readIntoRequest</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>stream</var> 为 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-stream"
                            id="ref-for-readablebytestreamcontroller-stream①⓪">[[stream]]</a>。</p>
                <li data-md>
                    <p>令 <var>elementSize</var> 为 1。</p>
                <li data-md>
                    <p>令 <var>ctor</var> 为 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/structured-data.html#sec-dataview-constructor" id="ref-for-sec-dataview-constructor①">%DataView%</a></code>。
                    </p>
                <li data-md>
                    <p>如果 <var>view</var> 有 [[TypedArrayName]] 内部槽（即非 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-dataview-objects" id="ref-for-sec-dataview-objects②">DataView</a></code>），
                    </p>
                    <ol>
                        <li data-md>
                            <p>将 <var>elementSize</var> 设为 <a data-link-type="dfn"
                                    href="https://tc39.es/ecma262/#table-49" id="ref-for-table-49①">typed array
                                    constructors table</a> 中 <var>view</var>.[[TypedArrayName]] 对应的元素大小。</p>
                        <li data-md>
                            <p>将 <var>ctor</var> 设为 <a data-link-type="dfn" href="https://tc39.es/ecma262/#table-49"
                                    id="ref-for-table-49②">typed array constructors table</a> 中
                                <var>view</var>.[[TypedArrayName]] 对应的构造函数。
                            </p>
                    </ol>
                <li data-md>
                    <p>令 <var>minimumFill</var> 为 <var>min</var> × <var>elementSize</var>。</p>
                <li data-md>
                    <p class="assertion">断言：<var>minimumFill</var> ≥ 0 且 <var>minimumFill</var> ≤
                        <var>view</var>.[[ByteLength]]。
                    </p>
                <li data-md>
                    <p class="assertion">断言：<var>minimumFill</var> 除以 <var>elementSize</var> 的余数为 0。</p>
                <li data-md>
                    <p>令 <var>byteOffset</var> 为 <var>view</var>.[[ByteOffset]]。</p>
                <li data-md>
                    <p>令 <var>byteLength</var> 为 <var>view</var>.[[ByteLength]]。</p>
                <li data-md>
                    <p>令 <var>bufferResult</var> 为 <a data-link-type="abstract-op" href="#transfer-array-buffer"
                            id="ref-for-transfer-array-buffer③">TransferArrayBuffer</a>(<var>view</var>.[[ViewedArrayBuffer]])。
                    </p>
                <li data-md>
                    <p>如果 <var>bufferResult</var> 为异常完成，</p>
                    <ol>
                        <li data-md>
                            <p>以 <var>bufferResult</var>.[[Value]] 为参数，执行 <var>readIntoRequest</var> 的 <a
                                    data-link-type="dfn" href="#read-into-request-error-steps"
                                    id="ref-for-read-into-request-error-steps④">error steps</a>。</p>
                        <li data-md>
                            <p>返回。</p>
                    </ol>
                <li data-md>
                    <p>令 <var>buffer</var> 为 <var>bufferResult</var>.[[Value]]。</p>
                <li data-md>
                    <p>令 <var>pullIntoDescriptor</var> 为新的 <a data-link-type="dfn" href="#pull-into-descriptor"
                            id="ref-for-pull-into-descriptor②">pull-into descriptor</a>，其中</p>
                    <dl class="props">
                        <dt><a data-link-type="dfn" href="#pull-into-descriptor-buffer"
                                id="ref-for-pull-into-descriptor-buffer①⑥">buffer</a>
                        <dd><var>buffer</var>
                        <dt><a data-link-type="dfn" href="#pull-into-descriptor-buffer-byte-length"
                                id="ref-for-pull-into-descriptor-buffer-byte-length①">buffer byte length</a>
                        <dd><var>buffer</var>.[[ArrayBufferByteLength]]
                        <dt><a data-link-type="dfn" href="#pull-into-descriptor-byte-offset"
                                id="ref-for-pull-into-descriptor-byte-offset⑤">byte offset</a>
                        <dd><var>byteOffset</var>
                        <dt><a data-link-type="dfn" href="#pull-into-descriptor-byte-length"
                                id="ref-for-pull-into-descriptor-byte-length④">byte length</a>
                        <dd><var>byteLength</var>
                        <dt><a data-link-type="dfn" href="#pull-into-descriptor-bytes-filled"
                                id="ref-for-pull-into-descriptor-bytes-filled①⑦">bytes filled</a>
                        <dd>0
                        <dt><a data-link-type="dfn" href="#pull-into-descriptor-minimum-fill"
                                id="ref-for-pull-into-descriptor-minimum-fill④">minimum fill</a>
                        <dd><var>minimumFill</var>
                        <dt><a data-link-type="dfn" href="#pull-into-descriptor-element-size"
                                id="ref-for-pull-into-descriptor-element-size⑥">element size</a>
                        <dd><var>elementSize</var>
                        <dt><a data-link-type="dfn" href="#pull-into-descriptor-view-constructor"
                                id="ref-for-pull-into-descriptor-view-constructor③">view constructor</a>
                        <dd><var>ctor</var>
                        <dt><a data-link-type="dfn" href="#pull-into-descriptor-reader-type"
                                id="ref-for-pull-into-descriptor-reader-type⑧">reader type</a>
                        <dd>"<code>byob</code>"
                    </dl>
                <li data-md>
                    <p>如果 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-pendingpullintos"
                            id="ref-for-pull-into-descriptor-pendingpullintos②①">[[pendingPullIntos]]</a> 不为空，</p>
                    <ol>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                                    id="ref-for-list-append⑤">追加</a> <var>pullIntoDescriptor</var> 到
                                <var>controller</var>.<a data-link-type="dfn"
                                    href="#readablebytestreamcontroller-pendingpullintos"
                                    id="ref-for-readablebytestreamcontroller-pendingpullintos②②">[[pendingPullIntos]]</a>。
                            </p>
                        <li data-md>
                            <p>执行 !<a data-link-type="abstract-op" href="#readable-stream-add-read-into-request"
                                    id="ref-for-readable-stream-add-read-into-request">ReadableStreamAddReadIntoRequest</a>(<var>stream</var>,
                                <var>readIntoRequest</var>)。
                            </p>
                        <li data-md>
                            <p>返回。</p>
                    </ol>
                <li data-md>
                    <p>如果 <var>stream</var>.<a data-link-type="dfn" href="#readablestream-state"
                            id="ref-for-readablestream-state③②">[[state]]</a> 为 "<code>closed</code>"，</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>emptyView</var> 为 !<a data-link-type="abstract-op"
                                    href="https://tc39.es/ecma262/multipage/abstract-operations.html#sec-construct"
                                    id="ref-for-sec-construct⑤">Construct</a>(<var>ctor</var>, «
                                <var>pullIntoDescriptor</var> 的 <a data-link-type="dfn"
                                    href="#pull-into-descriptor-buffer"
                                    id="ref-for-pull-into-descriptor-buffer①⑦">buffer</a>，
                                <var>pullIntoDescriptor</var> 的 <a data-link-type="dfn"
                                    href="#pull-into-descriptor-byte-offset"
                                    id="ref-for-pull-into-descriptor-byte-offset⑥">byte offset</a>，0 »)。
                            </p>
                        <li data-md>
                            <p>以 <var>emptyView</var> 为参数，执行 <var>readIntoRequest</var> 的 <a data-link-type="dfn"
                                    href="#read-into-request-close-steps"
                                    id="ref-for-read-into-request-close-steps⑤">close steps</a>。</p>
                        <li data-md>
                            <p>返回。</p>
                    </ol>
                <li data-md>
                    <p>如果 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-queuetotalsize"
                            id="ref-for-readablebytestreamcontroller-queuetotalsize①⑥">[[queueTotalSize]]</a> > 0，</p>
                    <ol>
                        <li data-md>
                            <p>如果 !<a data-link-type="abstract-op"
                                    href="#readable-byte-stream-controller-fill-pull-into-descriptor-from-queue"
                                    id="ref-for-readable-byte-stream-controller-fill-pull-into-descriptor-from-queue①">ReadableByteStreamControllerFillPullIntoDescriptorFromQueue</a>(<var>controller</var>,
                                <var>pullIntoDescriptor</var>) 为 true，
                            </p>
                            <ol>
                                <li data-md>
                                    <p>令 <var>filledView</var> 为 !<a data-link-type="abstract-op"
                                            href="#readable-byte-stream-controller-convert-pull-into-descriptor"
                                            id="ref-for-readable-byte-stream-controller-convert-pull-into-descriptor①">ReadableByteStreamControllerConvertPullIntoDescriptor</a>(<var>pullIntoDescriptor</var>)。
                                    </p>
                                <li data-md>
                                    <p>执行 !<a data-link-type="abstract-op"
                                            href="#readable-byte-stream-controller-handle-queue-drain"
                                            id="ref-for-readable-byte-stream-controller-handle-queue-drain①">ReadableByteStreamControllerHandleQueueDrain</a>(<var>controller</var>)。
                                    </p>
                                <li data-md>
                                    <p>以 <var>filledView</var> 为参数，执行 <var>readIntoRequest</var> 的 <a
                                            data-link-type="dfn" href="#read-into-request-chunk-steps"
                                            id="ref-for-read-into-request-chunk-steps③">chunk steps</a>。</p>
                                <li data-md>
                                    <p>返回。</p>
                            </ol>
                        <li data-md>
                            <p>如果 <var>controller</var>.<a data-link-type="dfn"
                                    href="#readablebytestreamcontroller-closerequested"
                                    id="ref-for-readablebytestreamcontroller-closerequested⑦">[[closeRequested]]</a> 为
                                true，</p>
                            <ol>
                                <li data-md>
                                    <p>令 <var>e</var> 为 <code
                                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror④①">TypeError</a></code>
                                        异常。</p>
                                <li data-md>
                                    <p>执行 !<a data-link-type="abstract-op" href="#readable-byte-stream-controller-error"
                                            id="ref-for-readable-byte-stream-controller-error①①">ReadableByteStreamControllerError</a>(<var>controller</var>,
                                        <var>e</var>)。
                                    </p>
                                <li data-md>
                                    <p>以 <var>e</var> 为参数，执行 <var>readIntoRequest</var> 的 <a data-link-type="dfn"
                                            href="#read-into-request-error-steps"
                                            id="ref-for-read-into-request-error-steps⑤">error steps</a>。</p>
                                <li data-md>
                                    <p>返回。</p>
                            </ol>
                    </ol>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                            id="ref-for-list-append⑥">追加</a> <var>pullIntoDescriptor</var> 到 <var>controller</var>.<a
                            data-link-type="dfn" href="#readablebytestreamcontroller-pendingpullintos"
                            id="ref-for-readablebytestreamcontroller-pendingpullintos②③">[[pendingPullIntos]]</a>。</p>
                <li data-md>
                    <p>执行 !<a data-link-type="abstract-op" href="#readable-stream-add-read-into-request"
                            id="ref-for-readable-stream-add-read-into-request①">ReadableStreamAddReadIntoRequest</a>(<var>stream</var>,
                        <var>readIntoRequest</var>)。
                    </p>
                <li data-md>
                    <p>执行 !<a data-link-type="abstract-op" href="#readable-byte-stream-controller-call-pull-if-needed"
                            id="ref-for-readable-byte-stream-controller-call-pull-if-needed④">ReadableByteStreamControllerCallPullIfNeeded</a>(<var>controller</var>)。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableByteStreamControllerRespond">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="ReadableByteStreamControllerRespond"
                id="readable-byte-stream-controller-respond">ReadableByteStreamControllerRespond(<var>controller</var>,
                <var>bytesWritten</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p class="assertion">断言：<var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-pendingpullintos"
                            id="ref-for-readablebytestreamcontroller-pendingpullintos②④">[[pendingPullIntos]]</a> 不为空。
                    </p>
                <li data-md>
                    <p>令 <var>firstDescriptor</var> 为 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-pendingpullintos"
                            id="ref-for-readablebytestreamcontroller-pendingpullintos②⑤">[[pendingPullIntos]]</a>[0]。
                    </p>
                <li data-md>
                    <p>令 <var>state</var> 为 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-stream"
                            id="ref-for-readablebytestreamcontroller-stream①①">[[stream]]</a>.<a data-link-type="dfn"
                            href="#readablestream-state" id="ref-for-readablestream-state③③">[[state]]</a>。</p>
                <li data-md>
                    <p>如果 <var>state</var> 为 "<code>closed</code>"，</p>
                    <ol>
                        <li data-md>
                            <p>如果 <var>bytesWritten</var> 不为 0，抛出 <code
                                    class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror④②">TypeError</a></code>
                                异常。</p>
                    </ol>
                <li data-md>
                    <p>否则，</p>
                    <ol>
                        <li data-md>
                            <p class="assertion">断言：<var>state</var> 为 "<code>readable</code>"。</p>
                        <li data-md>
                            <p>如果 <var>bytesWritten</var> 为 0，抛出 <code
                                    class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror④③">TypeError</a></code>
                                异常。</p>
                        <li data-md>
                            <p>如果 <var>firstDescriptor</var> 的 <a data-link-type="dfn"
                                    href="#pull-into-descriptor-bytes-filled"
                                    id="ref-for-pull-into-descriptor-bytes-filled①⑧">bytes filled</a> +
                                <var>bytesWritten</var> >
                                <var>firstDescriptor</var> 的 <a data-link-type="dfn"
                                    href="#pull-into-descriptor-byte-length"
                                    id="ref-for-pull-into-descriptor-byte-length⑤">byte length</a>，抛出 <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-rangeerror" id="ref-for-exceptiondef-rangeerror③">RangeError</a></code>
                                异常。
                            </p>
                    </ol>
                <li data-md>
                    <p>将 <var>firstDescriptor</var> 的 <a data-link-type="dfn" href="#pull-into-descriptor-buffer"
                            id="ref-for-pull-into-descriptor-buffer①⑧">buffer</a> 设为 !<a data-link-type="abstract-op"
                            href="#transfer-array-buffer"
                            id="ref-for-transfer-array-buffer④">TransferArrayBuffer</a>(<var>firstDescriptor</var> 的 <a
                            data-link-type="dfn" href="#pull-into-descriptor-buffer"
                            id="ref-for-pull-into-descriptor-buffer①⑨">buffer</a>)。</p>
                <li data-md>
                    <p>执行 ?<a data-link-type="abstract-op" href="#readable-byte-stream-controller-respond-internal"
                            id="ref-for-readable-byte-stream-controller-respond-internal">ReadableByteStreamControllerRespondInternal</a>(<var>controller</var>,
                        <var>bytesWritten</var>)。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableByteStreamControllerRespondInClosedState">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="ReadableByteStreamControllerRespondInClosedState"
                id="readable-byte-stream-controller-respond-in-closed-state">ReadableByteStreamControllerRespondInClosedState(<var>controller</var>,
                <var>firstDescriptor</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p class="assertion">断言：<var>firstDescriptor</var> 的 <a data-link-type="dfn"
                            href="#pull-into-descriptor-bytes-filled"
                            id="ref-for-pull-into-descriptor-bytes-filled①⑨">bytes filled</a> 除以
                        <var>firstDescriptor</var> 的 <a data-link-type="dfn" href="#pull-into-descriptor-element-size"
                            id="ref-for-pull-into-descriptor-element-size⑦">element size</a> 的余数为 0。
                    </p>
                <li data-md>
                    <p>如果 <var>firstDescriptor</var> 的 <a data-link-type="dfn" href="#pull-into-descriptor-reader-type"
                            id="ref-for-pull-into-descriptor-reader-type⑨">reader type</a> 为 "<code>none</code>"，执行 !<a
                            data-link-type="abstract-op" href="#readable-byte-stream-controller-shift-pending-pull-into"
                            id="ref-for-readable-byte-stream-controller-shift-pending-pull-into③">ReadableByteStreamControllerShiftPendingPullInto</a>(<var>controller</var>)。
                    </p>
                <li data-md>
                    <p>令 <var>stream</var> 为 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-stream"
                            id="ref-for-readablebytestreamcontroller-stream①②">[[stream]]</a>。</p>
                <li data-md>
                    <p>如果 !<a data-link-type="abstract-op" href="#readable-stream-has-byob-reader"
                            id="ref-for-readable-stream-has-byob-reader③">ReadableStreamHasBYOBReader</a>(<var>stream</var>)
                        为 true，</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>filledPullIntos</var> 为新的空 <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#list" id="ref-for-list①④">列表</a>。</p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-while"
                                    id="ref-for-iteration-while②">当</a> <var>filledPullIntos</var> 的 <a
                                    data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size"
                                    id="ref-for-list-size②">大小</a> 小于 !<a data-link-type="abstract-op"
                                    href="#readable-stream-get-num-read-into-requests"
                                    id="ref-for-readable-stream-get-num-read-into-requests">ReadableStreamGetNumReadIntoRequests</a>(<var>stream</var>)，
                            </p>
                            <ol>
                                <li data-md>
                                    <p>令 <var>pullIntoDescriptor</var> 为 !<a data-link-type="abstract-op"
                                            href="#readable-byte-stream-controller-shift-pending-pull-into"
                                            id="ref-for-readable-byte-stream-controller-shift-pending-pull-into④">ReadableByteStreamControllerShiftPendingPullInto</a>(<var>controller</var>)。
                                    </p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                                            id="ref-for-list-append⑦">追加</a> <var>pullIntoDescriptor</var> 到
                                        <var>filledPullIntos</var>。
                                    </p>
                            </ol>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                                    id="ref-for-list-iterate⑤">对于每个</a> <var>filledPullInto</var> 属于
                                <var>filledPullIntos</var>，
                            </p>
                            <ol>
                                <li data-md>
                                    <p>执行 !<a data-link-type="abstract-op"
                                            href="#readable-byte-stream-controller-commit-pull-into-descriptor"
                                            id="ref-for-readable-byte-stream-controller-commit-pull-into-descriptor①">ReadableByteStreamControllerCommitPullIntoDescriptor</a>(<var>stream</var>,
                                        <var>filledPullInto</var>)。
                                    </p>
                            </ol>
                    </ol>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableByteStreamControllerRespondInReadableState">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="ReadableByteStreamControllerRespondInReadableState"
                id="readable-byte-stream-controller-respond-in-readable-state">ReadableByteStreamControllerRespondInReadableState(<var>controller</var>,
                <var>bytesWritten</var>, <var>pullIntoDescriptor</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p class="assertion">断言：<var>pullIntoDescriptor</var> 的 <a data-link-type="dfn"
                            href="#pull-into-descriptor-bytes-filled"
                            id="ref-for-pull-into-descriptor-bytes-filled②⓪">bytes filled</a> + <var>bytesWritten</var>
                        ≤ <var>pullIntoDescriptor</var> 的 <a data-link-type="dfn"
                            href="#pull-into-descriptor-byte-length" id="ref-for-pull-into-descriptor-byte-length⑥">byte
                            length</a>。</p>
                <li data-md>
                    <p>执行 !<a data-link-type="abstract-op"
                            href="#readable-byte-stream-controller-fill-head-pull-into-descriptor"
                            id="ref-for-readable-byte-stream-controller-fill-head-pull-into-descriptor①">ReadableByteStreamControllerFillHeadPullIntoDescriptor</a>(<var>controller</var>,
                        <var>bytesWritten</var>, <var>pullIntoDescriptor</var>)。
                    </p>
                <li data-md>
                    <p>如果 <var>pullIntoDescriptor</var> 的 <a data-link-type="dfn"
                            href="#pull-into-descriptor-reader-type"
                            id="ref-for-pull-into-descriptor-reader-type①⓪">reader type</a> 为 "<code>none</code>"，</p>
                    <ol>
                        <li data-md>
                            <p>执行 ?<a data-link-type="abstract-op"
                                    href="#abstract-opdef-readablebytestreamcontrollerenqueuedetachedpullintotoqueue"
                                    id="ref-for-abstract-opdef-readablebytestreamcontrollerenqueuedetachedpullintotoqueue①">ReadableByteStreamControllerEnqueueDetachedPullIntoToQueue</a>(<var>controller</var>,
                                <var>pullIntoDescriptor</var>)。
                            </p>
                        <li data-md>
                            <p>令 <var>filledPullIntos</var> 为执行 !<a data-link-type="abstract-op"
                                    href="#readable-byte-stream-controller-process-pull-into-descriptors-using-queue"
                                    id="ref-for-readable-byte-stream-controller-process-pull-into-descriptors-using-queue①">ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue</a>(<var>controller</var>)
                                的结果。</p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                                    id="ref-for-list-iterate⑥">对于每个</a> <var>filledPullInto</var> 属于
                                <var>filledPullIntos</var>，
                            </p>
                            <ol>
                                <li data-md>
                                    <p>执行 !<a data-link-type="abstract-op"
                                            href="#readable-byte-stream-controller-commit-pull-into-descriptor"
                                            id="ref-for-readable-byte-stream-controller-commit-pull-into-descriptor②">ReadableByteStreamControllerCommitPullIntoDescriptor</a>(<var>controller</var>.<a
                                            data-link-type="dfn" href="#readablebytestreamcontroller-stream"
                                            id="ref-for-readablebytestreamcontroller-stream①③">[[stream]]</a>,
                                        <var>filledPullInto</var>)。
                                    </p>
                            </ol>
                        <li data-md>
                            <p>返回。</p>
                    </ol>
                <li data-md>
                    <p>如果 <var>pullIntoDescriptor</var> 的 <a data-link-type="dfn"
                            href="#pull-into-descriptor-bytes-filled"
                            id="ref-for-pull-into-descriptor-bytes-filled②①">bytes filled</a> &lt;
                        <var>pullIntoDescriptor</var> 的 <a data-link-type="dfn"
                            href="#pull-into-descriptor-minimum-fill"
                            id="ref-for-pull-into-descriptor-minimum-fill⑤">minimum fill</a>，返回。
                    </p>
                    <p class="note" role="note">尚未填充到最小长度的 <code
                            class="idl"><a data-link-type="idl" href="#byob-reader-read" id="ref-for-byob-reader-read⑨">read()</a></code>
                        请求描述符会保持在队列头部，底层源 <a data-link-type="dfn" href="#underlying-source"
                            id="ref-for-underlying-source②⑦">underlying source</a> 可以继续填充。</p>
                <li data-md>
                    <p>执行 !<a data-link-type="abstract-op"
                            href="#readable-byte-stream-controller-shift-pending-pull-into"
                            id="ref-for-readable-byte-stream-controller-shift-pending-pull-into⑤">ReadableByteStreamControllerShiftPendingPullInto</a>(<var>controller</var>)。
                    </p>
                <li data-md>
                    <p>令 <var>remainderSize</var> 为 <var>pullIntoDescriptor</var> 的 <a data-link-type="dfn"
                            href="#pull-into-descriptor-bytes-filled"
                            id="ref-for-pull-into-descriptor-bytes-filled②②">bytes filled</a> 除以
                        <var>pullIntoDescriptor</var> 的 <a data-link-type="dfn"
                            href="#pull-into-descriptor-element-size"
                            id="ref-for-pull-into-descriptor-element-size⑧">element size</a> 的余数。
                    </p>
                <li data-md>
                    <p>如果 <var>remainderSize</var> > 0，</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>end</var> 为 <var>pullIntoDescriptor</var> 的 <a data-link-type="dfn"
                                    href="#pull-into-descriptor-byte-offset"
                                    id="ref-for-pull-into-descriptor-byte-offset⑦">byte offset</a> +
                                <var>pullIntoDescriptor</var> 的 <a data-link-type="dfn"
                                    href="#pull-into-descriptor-bytes-filled"
                                    id="ref-for-pull-into-descriptor-bytes-filled②③">bytes filled</a>。
                            </p>
                        <li data-md>
                            <p>执行 ?<a data-link-type="abstract-op"
                                    href="#abstract-opdef-readablebytestreamcontrollerenqueueclonedchunktoqueue"
                                    id="ref-for-abstract-opdef-readablebytestreamcontrollerenqueueclonedchunktoqueue①">ReadableByteStreamControllerEnqueueClonedChunkToQueue</a>(<var>controller</var>,
                                <var>pullIntoDescriptor</var> 的 <a data-link-type="dfn"
                                    href="#pull-into-descriptor-buffer"
                                    id="ref-for-pull-into-descriptor-buffer②⓪">buffer</a>, <var>end</var> −
                                <var>remainderSize</var>, <var>remainderSize</var>)。
                            </p>
                    </ol>
                <li data-md>
                    <p>将 <var>pullIntoDescriptor</var> 的 <a data-link-type="dfn"
                            href="#pull-into-descriptor-bytes-filled"
                            id="ref-for-pull-into-descriptor-bytes-filled②④">bytes filled</a> 设为
                        <var>pullIntoDescriptor</var> 的 <a data-link-type="dfn"
                            href="#pull-into-descriptor-bytes-filled"
                            id="ref-for-pull-into-descriptor-bytes-filled②⑤">bytes filled</a> −
                        <var>remainderSize</var>。
                    </p>
                <li data-md>
                    <p>令 <var>filledPullIntos</var> 为执行 !<a data-link-type="abstract-op"
                            href="#readable-byte-stream-controller-process-pull-into-descriptors-using-queue"
                            id="ref-for-readable-byte-stream-controller-process-pull-into-descriptors-using-queue②">ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue</a>(<var>controller</var>)
                        的结果。</p>
                <li data-md>
                    <p>执行 !<a data-link-type="abstract-op"
                            href="#readable-byte-stream-controller-commit-pull-into-descriptor"
                            id="ref-for-readable-byte-stream-controller-commit-pull-into-descriptor③">ReadableByteStreamControllerCommitPullIntoDescriptor</a>(<var>controller</var>.<a
                            data-link-type="dfn" href="#readablebytestreamcontroller-stream"
                            id="ref-for-readablebytestreamcontroller-stream①④">[[stream]]</a>,
                        <var>pullIntoDescriptor</var>)。
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                            id="ref-for-list-iterate⑦">对于每个</a> <var>filledPullInto</var> 属于 <var>filledPullIntos</var>，
                    </p>
                    <ol>
                        <li data-md>
                            <p>执行 !<a data-link-type="abstract-op"
                                    href="#readable-byte-stream-controller-commit-pull-into-descriptor"
                                    id="ref-for-readable-byte-stream-controller-commit-pull-into-descriptor④">ReadableByteStreamControllerCommitPullIntoDescriptor</a>(<var>controller</var>.<a
                                    data-link-type="dfn" href="#readablebytestreamcontroller-stream"
                                    id="ref-for-readablebytestreamcontroller-stream①⑤">[[stream]]</a>,
                                <var>filledPullInto</var>)。
                            </p>
                    </ol>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableByteStreamControllerRespondInternal">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="ReadableByteStreamControllerRespondInternal"
                id="readable-byte-stream-controller-respond-internal">ReadableByteStreamControllerRespondInternal(<var>controller</var>,
                <var>bytesWritten</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>firstDescriptor</var> 为 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-pendingpullintos"
                            id="ref-for-readablebytestreamcontroller-pendingpullintos②⑥">[[pendingPullIntos]]</a>[0]。
                    </p>
                <li data-md>
                    <p class="assertion">断言：!<a data-link-type="abstract-op" href="#can-transfer-array-buffer"
                            id="ref-for-can-transfer-array-buffer">CanTransferArrayBuffer</a>(<var>firstDescriptor</var>
                        的
                        <a data-link-type="dfn" href="#pull-into-descriptor-buffer"
                            id="ref-for-pull-into-descriptor-buffer②①">buffer</a>) 为 true。
                    </p>
                <li data-md>
                    <p>执行 !<a data-link-type="abstract-op"
                            href="#readable-byte-stream-controller-invalidate-byob-request"
                            id="ref-for-readable-byte-stream-controller-invalidate-byob-request②">ReadableByteStreamControllerInvalidateBYOBRequest</a>(<var>controller</var>)。
                    </p>
                <li data-md>
                    <p>令 <var>state</var> 为 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-stream"
                            id="ref-for-readablebytestreamcontroller-stream①⑥">[[stream]]</a>.<a data-link-type="dfn"
                            href="#readablestream-state" id="ref-for-readablestream-state③④">[[state]]</a>。</p>
                <li data-md>
                    <p>如果 <var>state</var> 为 "<code>closed</code>"，</p>
                    <ol>
                        <li data-md>
                            <p class="assertion">断言：<var>bytesWritten</var> 为 0。</p>
                        <li data-md>
                            <p>执行 !<a data-link-type="abstract-op"
                                    href="#readable-byte-stream-controller-respond-in-closed-state"
                                    id="ref-for-readable-byte-stream-controller-respond-in-closed-state">ReadableByteStreamControllerRespondInClosedState</a>(<var>controller</var>,
                                <var>firstDescriptor</var>)。
                            </p>
                    </ol>
                <li data-md>
                    <p>否则，</p>
                    <ol>
                        <li data-md>
                            <p class="assertion">断言：<var>state</var> 为 "<code>readable</code>"。</p>
                        <li data-md>
                            <p class="assertion">断言：<var>bytesWritten</var> > 0。</p>
                        <li data-md>
                            <p>执行 ?<a data-link-type="abstract-op"
                                    href="#readable-byte-stream-controller-respond-in-readable-state"
                                    id="ref-for-readable-byte-stream-controller-respond-in-readable-state">ReadableByteStreamControllerRespondInReadableState</a>(<var>controller</var>,
                                <var>bytesWritten</var>, <var>firstDescriptor</var>)。
                            </p>
                    </ol>
                <li data-md>
                    <p>执行 !<a data-link-type="abstract-op" href="#readable-byte-stream-controller-call-pull-if-needed"
                            id="ref-for-readable-byte-stream-controller-call-pull-if-needed⑤">ReadableByteStreamControllerCallPullIfNeeded</a>(<var>controller</var>)。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableByteStreamControllerRespondWithNewView">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="ReadableByteStreamControllerRespondWithNewView"
                id="readable-byte-stream-controller-respond-with-new-view">ReadableByteStreamControllerRespondWithNewView(<var>controller</var>,
                <var>view</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p class="assertion">断言：<var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-pendingpullintos"
                            id="ref-for-readablebytestreamcontroller-pendingpullintos②⑦">[[pendingPullIntos]]</a> 不为
                        <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty"
                            id="ref-for-list-is-empty②⓪">空</a>。
                    </p>
                <li data-md>
                    <p class="assertion">断言：!<a data-link-type="abstract-op"
                            href="https://tc39.es/ecma262/multipage/structured-data.html#sec-isdetachedbuffer"
                            id="ref-for-sec-isdetachedbuffer⑥">IsDetachedBuffer</a>(<var>view</var>.[[ViewedArrayBuffer]])
                        为 false。</p>
                <li data-md>
                    <p>令 <var>firstDescriptor</var> 为 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-pendingpullintos"
                            id="ref-for-readablebytestreamcontroller-pendingpullintos②⑧">[[pendingPullIntos]]</a>[0]。
                    </p>
                <li data-md>
                    <p>令 <var>state</var> 为 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-stream"
                            id="ref-for-readablebytestreamcontroller-stream①⑦">[[stream]]</a>.<a data-link-type="dfn"
                            href="#readablestream-state" id="ref-for-readablestream-state③⑤">[[state]]</a>。</p>
                <li data-md>
                    <p>如果 <var>state</var> 为 "<code>closed</code>"，</p>
                    <ol>
                        <li data-md>
                            <p>如果 <var>view</var>.[[ByteLength]] 不为 0，抛出 <code
                                    class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror④④">TypeError</a></code>
                                异常。</p>
                    </ol>
                <li data-md>
                    <p>否则，</p>
                    <ol>
                        <li data-md>
                            <p class="assertion">断言：<var>state</var> 为 "<code>readable</code>"。</p>
                        <li data-md>
                            <p>如果 <var>view</var>.[[ByteLength]] 为 0，抛出 <code
                                    class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror④⑤">TypeError</a></code>
                                异常。</p>
                    </ol>
                <li data-md>
                    <p>如果 <var>firstDescriptor</var> 的 <a data-link-type="dfn" href="#pull-into-descriptor-byte-offset"
                            id="ref-for-pull-into-descriptor-byte-offset⑧">byte offset</a> + <var>firstDescriptor</var>
                        的
                        <a data-link-type="dfn" href="#pull-into-descriptor-bytes-filled"
                            id="ref-for-pull-into-descriptor-bytes-filled②⑥">bytes filled</a> 不等于
                        <var>view</var>.[[ByteOffset]]，抛出 <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-rangeerror" id="ref-for-exceptiondef-rangeerror④">RangeError</a></code>
                        异常。
                    </p>
                <li data-md>
                    <p>如果 <var>firstDescriptor</var> 的 <a data-link-type="dfn"
                            href="#pull-into-descriptor-buffer-byte-length"
                            id="ref-for-pull-into-descriptor-buffer-byte-length②">buffer byte length</a> 不等于
                        <var>view</var>.[[ViewedArrayBuffer]].[[ByteLength]]，抛出 <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-rangeerror" id="ref-for-exceptiondef-rangeerror⑤">RangeError</a></code>
                        异常。
                    </p>
                <li data-md>
                    <p>如果 <var>firstDescriptor</var> 的 <a data-link-type="dfn" href="#pull-into-descriptor-bytes-filled"
                            id="ref-for-pull-into-descriptor-bytes-filled②⑦">bytes filled</a> +
                        <var>view</var>.[[ByteLength]] > <var>firstDescriptor</var> 的 <a data-link-type="dfn"
                            href="#pull-into-descriptor-byte-length" id="ref-for-pull-into-descriptor-byte-length⑦">byte
                            length</a>，抛出 <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-rangeerror" id="ref-for-exceptiondef-rangeerror⑥">RangeError</a></code>
                        异常。
                    </p>
                <li data-md>
                    <p>令 <var>viewByteLength</var> 为 <var>view</var>.[[ByteLength]]。</p>
                <li data-md>
                    <p>将 <var>firstDescriptor</var> 的 <a data-link-type="dfn" href="#pull-into-descriptor-buffer"
                            id="ref-for-pull-into-descriptor-buffer②②">buffer</a> 设为 ?<a data-link-type="abstract-op"
                            href="#transfer-array-buffer"
                            id="ref-for-transfer-array-buffer⑤">TransferArrayBuffer</a>(<var>view</var>.[[ViewedArrayBuffer]])。
                    </p>
                <li data-md>
                    <p>执行 ?<a data-link-type="abstract-op" href="#readable-byte-stream-controller-respond-internal"
                            id="ref-for-readable-byte-stream-controller-respond-internal①">ReadableByteStreamControllerRespondInternal</a>(<var>controller</var>,
                        <var>viewByteLength</var>)。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableByteStreamControllerShiftPendingPullInto">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="ReadableByteStreamControllerShiftPendingPullInto"
                id="readable-byte-stream-controller-shift-pending-pull-into">ReadableByteStreamControllerShiftPendingPullInto(<var>controller</var>)</dfn>
            执行以下步骤：
            <ol>
                <li data-md>
                    <p class="assertion">断言：<var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-byobrequest"
                            id="ref-for-readablebytestreamcontroller-byobrequest⑧">[[byobRequest]]</a> 为 null。</p>
                <li data-md>
                    <p>令 <var>descriptor</var> 为 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-pendingpullintos"
                            id="ref-for-readablebytestreamcontroller-pendingpullintos②⑨">[[pendingPullIntos]]</a>[0]。
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove"
                            id="ref-for-list-remove⑤">移除</a> <var>descriptor</var> 从 <var>controller</var>.<a
                            data-link-type="dfn" href="#readablebytestreamcontroller-pendingpullintos"
                            id="ref-for-readablebytestreamcontroller-pendingpullintos③⓪">[[pendingPullIntos]]</a>。</p>
                <li data-md>
                    <p>返回 <var>descriptor</var>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ReadableByteStreamControllerShouldCallPull">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="ReadableByteStreamControllerShouldCallPull"
                id="readable-byte-stream-controller-should-call-pull">ReadableByteStreamControllerShouldCallPull(<var>controller</var>)</dfn>
            执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>stream</var> 为 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-stream"
                            id="ref-for-readablebytestreamcontroller-stream①⑧">[[stream]]</a>。</p>
                <li data-md>
                    <p>如果 <var>stream</var>.<a data-link-type="dfn" href="#readablestream-state"
                            id="ref-for-readablestream-state③⑥">[[state]]</a> 不为 "<code>readable</code>"，返回 false。</p>
                <li data-md>
                    <p>如果 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-closerequested"
                            id="ref-for-readablebytestreamcontroller-closerequested⑧">[[closeRequested]]</a> 为 true，返回
                        false。</p>
                <li data-md>
                    <p>如果 <var>controller</var>.<a data-link-type="dfn" href="#readablebytestreamcontroller-started"
                            id="ref-for-readablebytestreamcontroller-started">[[started]]</a> 为 false，返回 false。</p>
                <li data-md>
                    <p>如果 !<a data-link-type="abstract-op" href="#readable-stream-has-default-reader"
                            id="ref-for-readable-stream-has-default-reader④">ReadableStreamHasDefaultReader</a>(<var>stream</var>)
                        为 true 且 !<a data-link-type="abstract-op" href="#readable-stream-get-num-read-requests"
                            id="ref-for-readable-stream-get-num-read-requests④">ReadableStreamGetNumReadRequests</a>(<var>stream</var>)
                        > 0，返回 true。</p>
                <li data-md>
                    <p>如果 !<a data-link-type="abstract-op" href="#readable-stream-has-byob-reader"
                            id="ref-for-readable-stream-has-byob-reader④">ReadableStreamHasBYOBReader</a>(<var>stream</var>)
                        为 true 且 !<a data-link-type="abstract-op" href="#readable-stream-get-num-read-into-requests"
                            id="ref-for-readable-stream-get-num-read-into-requests①">ReadableStreamGetNumReadIntoRequests</a>(<var>stream</var>)
                        > 0，返回 true。</p>
                <li data-md>
                    <p>令 <var>desiredSize</var> 为 !<a data-link-type="abstract-op"
                            href="#readable-byte-stream-controller-get-desired-size"
                            id="ref-for-readable-byte-stream-controller-get-desired-size①">ReadableByteStreamControllerGetDesiredSize</a>(<var>controller</var>)。
                    </p>
                <li data-md>
                    <p class="assertion">断言：<var>desiredSize</var> 不为 null。</p>
                <li data-md>
                    <p>如果 <var>desiredSize</var> > 0，返回 true。</p>
                <li data-md>
                    <p>返回 false。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="SetUpReadableByteStreamController">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="SetUpReadableByteStreamController"
                id="set-up-readable-byte-stream-controller">SetUpReadableByteStreamController(<var>stream</var>,
                <var>controller</var>, <var>startAlgorithm</var>, <var>pullAlgorithm</var>, <var>cancelAlgorithm</var>,
                <var>highWaterMark</var>, <var>autoAllocateChunkSize</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn" href="#readablestream-controller"
                            id="ref-for-readablestream-controller④④">[[controller]]</a> 为 undefined。</p>
                <li data-md>
                    <p>如果 <var>autoAllocateChunkSize</var> 不为 undefined，</p>
                    <ol>
                        <li data-md>
                            <p class="assertion">断言：!<a data-link-type="abstract-op"
                                    href="https://tc39.es/ecma262/#sec-isinteger"
                                    id="ref-for-sec-isinteger">IsInteger</a>(<var>autoAllocateChunkSize</var>) 为 true。
                            </p>
                        <li data-md>
                            <p class="assertion">断言：<var>autoAllocateChunkSize</var> 为正。</p>
                    </ol>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn" href="#readablebytestreamcontroller-stream"
                            id="ref-for-readablebytestreamcontroller-stream①⑨">[[stream]]</a> 设为 <var>stream</var>。</p>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn" href="#readablebytestreamcontroller-pullagain"
                            id="ref-for-readablebytestreamcontroller-pullagain④">[[pullAgain]]</a> 和
                        <var>controller</var>.<a data-link-type="dfn" href="#readablebytestreamcontroller-pulling"
                            id="ref-for-readablebytestreamcontroller-pulling③">[[pulling]]</a> 设为 false。
                    </p>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn" href="#readablebytestreamcontroller-byobrequest"
                            id="ref-for-readablebytestreamcontroller-byobrequest⑨">[[byobRequest]]</a> 设为 null。</p>
                <li data-md>
                    <p>执行 !<a data-link-type="abstract-op" href="#reset-queue"
                            id="ref-for-reset-queue⑤">ResetQueue</a>(<var>controller</var>)。</p>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-closerequested"
                            id="ref-for-readablebytestreamcontroller-closerequested⑨">[[closeRequested]]</a> 和
                        <var>controller</var>.<a data-link-type="dfn" href="#readablebytestreamcontroller-started"
                            id="ref-for-readablebytestreamcontroller-started①">[[started]]</a> 设为 false。
                    </p>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn" href="#readablebytestreamcontroller-strategyhwm"
                            id="ref-for-readablebytestreamcontroller-strategyhwm①">[[strategyHWM]]</a> 设为
                        <var>highWaterMark</var>。
                    </p>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-pullalgorithm"
                            id="ref-for-readablebytestreamcontroller-pullalgorithm②">[[pullAlgorithm]]</a> 设为
                        <var>pullAlgorithm</var>。
                    </p>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-cancelalgorithm"
                            id="ref-for-readablebytestreamcontroller-cancelalgorithm②">[[cancelAlgorithm]]</a> 设为
                        <var>cancelAlgorithm</var>。
                    </p>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-autoallocatechunksize"
                            id="ref-for-readablebytestreamcontroller-autoallocatechunksize①">[[autoAllocateChunkSize]]</a>
                        设为 <var>autoAllocateChunkSize</var>。</p>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn"
                            href="#readablebytestreamcontroller-pendingpullintos"
                            id="ref-for-readablebytestreamcontroller-pendingpullintos③①">[[pendingPullIntos]]</a> 设为新的空
                        <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①⑤">列表</a>。
                    </p>
                <li data-md>
                    <p>将 <var>stream</var>.<a data-link-type="dfn" href="#readablestream-controller"
                            id="ref-for-readablestream-controller④⑤">[[controller]]</a> 设为 <var>controller</var>。</p>
                <li data-md>
                    <p>令 <var>startResult</var> 为执行 <var>startAlgorithm</var> 的结果。</p>
                <li data-md>
                    <p>令 <var>startPromise</var> 为 <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                            id="ref-for-a-promise-resolved-with①⑦">以 <var>startResult</var> 解决的 promise</a>。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#upon-fulfillment"
                            id="ref-for-upon-fulfillment④">当 <var>startPromise</var> fulfilled 时</a>，</p>
                    <ol>
                        <li data-md>
                            <p>将 <var>controller</var>.<a data-link-type="dfn"
                                    href="#readablebytestreamcontroller-started"
                                    id="ref-for-readablebytestreamcontroller-started②">[[started]]</a> 设为 true。</p>
                        <li data-md>
                            <p class="assertion">断言：<var>controller</var>.<a data-link-type="dfn"
                                    href="#readablebytestreamcontroller-pulling"
                                    id="ref-for-readablebytestreamcontroller-pulling④">[[pulling]]</a> 为 false。</p>
                        <li data-md>
                            <p class="assertion">断言：<var>controller</var>.<a data-link-type="dfn"
                                    href="#readablebytestreamcontroller-pullagain"
                                    id="ref-for-readablebytestreamcontroller-pullagain⑤">[[pullAgain]]</a> 为 false。</p>
                        <li data-md>
                            <p>执行 !<a data-link-type="abstract-op"
                                    href="#readable-byte-stream-controller-call-pull-if-needed"
                                    id="ref-for-readable-byte-stream-controller-call-pull-if-needed⑥">ReadableByteStreamControllerCallPullIfNeeded</a>(<var>controller</var>)。
                            </p>
                    </ol>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#upon-rejection"
                            id="ref-for-upon-rejection⑥">当 <var>startPromise</var> 被拒绝，原因为 <var>r</var> 时，</a></p>
                    <ol>
                        <li data-md>
                            <p>执行 !<a data-link-type="abstract-op" href="#readable-byte-stream-controller-error"
                                    id="ref-for-readable-byte-stream-controller-error①②">ReadableByteStreamControllerError</a>(<var>controller</var>,
                                <var>r</var>)。
                            </p>
                    </ol>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="SetUpReadableByteStreamControllerFromUnderlyingSource">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="SetUpReadableByteStreamControllerFromUnderlyingSource"
                id="set-up-readable-byte-stream-controller-from-underlying-source">SetUpReadableByteStreamControllerFromUnderlyingSource(<var>stream</var>,
                <var>underlyingSource</var>, <var>underlyingSourceDict</var>, <var>highWaterMark</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>controller</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new"
                            id="ref-for-new①①">新的</a> <code
                            class="idl"><a data-link-type="idl" href="#readablebytestreamcontroller" id="ref-for-readablebytestreamcontroller①⑧">ReadableByteStreamController</a></code>。
                    </p>
                <li data-md>
                    <p>令 <var>startAlgorithm</var> 为一个返回 undefined 的算法。</p>
                <li data-md>
                    <p>令 <var>pullAlgorithm</var> 为一个返回 <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                            id="ref-for-a-promise-resolved-with①⑧">以 undefined 解决的 promise</a> 的算法。</p>
                <li data-md>
                    <p>令 <var>cancelAlgorithm</var> 为一个返回 <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                            id="ref-for-a-promise-resolved-with①⑨">以 undefined 解决的 promise</a> 的算法。</p>
                <li data-md>
                    <p>如果 <var>underlyingSourceDict</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-underlyingsource-start" id="ref-for-dom-underlyingsource-start⑥">start</a></code>"]
                        <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                            id="ref-for-map-exists⑧">存在</a>，则将 <var>startAlgorithm</var> 设为一个算法，其返回 <a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#invoke-a-callback-function"
                            id="ref-for-invoke-a-callback-function④">调用</a> <var>underlyingSourceDict</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-underlyingsource-start" id="ref-for-dom-underlyingsource-start⑦">start</a></code>"]，
                        参数为 « <var>controller</var> »，<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#dfn-callback-this-value"
                            id="ref-for-dfn-callback-this-value③">回调 this 值</a>为 <var>underlyingSource</var> 的结果。
                    </p>
                <li data-md>
                    <p>如果 <var>underlyingSourceDict</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-underlyingsource-pull" id="ref-for-dom-underlyingsource-pull⑥">pull</a></code>"]
                        <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                            id="ref-for-map-exists⑨">存在</a>，则将 <var>pullAlgorithm</var> 设为一个算法，其返回 <a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#invoke-a-callback-function"
                            id="ref-for-invoke-a-callback-function⑤">调用</a> <var>underlyingSourceDict</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-underlyingsource-pull" id="ref-for-dom-underlyingsource-pull⑦">pull</a></code>"]，
                        参数为 « <var>controller</var> »，<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#dfn-callback-this-value"
                            id="ref-for-dfn-callback-this-value④">回调 this 值</a>为 <var>underlyingSource</var> 的结果。
                    </p>
                <li data-md>
                    <p>如果 <var>underlyingSourceDict</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-underlyingsource-cancel" id="ref-for-dom-underlyingsource-cancel④">cancel</a></code>"]
                        <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                            id="ref-for-map-exists①⓪">存在</a>，则将 <var>cancelAlgorithm</var> 设为一个接收参数 <var>reason</var>
                        并返回 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#invoke-a-callback-function"
                            id="ref-for-invoke-a-callback-function⑥">调用</a> <var>underlyingSourceDict</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-underlyingsource-cancel" id="ref-for-dom-underlyingsource-cancel⑤">cancel</a></code>"]，
                        参数为 « <var>reason</var> »，<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#dfn-callback-this-value"
                            id="ref-for-dfn-callback-this-value⑤">回调 this 值</a>为 <var>underlyingSource</var> 的结果的算法。
                    </p>
                <li data-md>
                    <p>令 <var>autoAllocateChunkSize</var> 为 <var>underlyingSourceDict</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-underlyingsource-autoallocatechunksize" id="ref-for-dom-underlyingsource-autoallocatechunksize①">autoAllocateChunkSize</a></code>"]，
                        如果 <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                            id="ref-for-map-exists①①">存在</a>，否则为 undefined。</p>
                <li data-md>
                    <p>如果 <var>autoAllocateChunkSize</var> 为 0，则抛出 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror④⑥">TypeError</a></code>
                        异常。</p>
                <li data-md>
                    <p>执行 ?<a data-link-type="abstract-op" href="#set-up-readable-byte-stream-controller"
                            id="ref-for-set-up-readable-byte-stream-controller①">SetUpReadableByteStreamController</a>(<var>stream</var>,
                        <var>controller</var>, <var>startAlgorithm</var>, <var>pullAlgorithm</var>,
                        <var>cancelAlgorithm</var>, <var>highWaterMark</var>, <var>autoAllocateChunkSize</var>)。
                    </p>
            </ol>
        </div>
        <h2 class="heading settled" data-level="5" id="ws"><span class="secno">5. </span><span
                class="content">可写流</span><a class="self-link" href="#ws"></a></h2>
        <h3 class="heading settled" data-level="5.1" id="ws-intro"><span class="secno">5.1. </span><span
                class="content">使用可写流</span><a class="self-link" href="#ws-intro"></a></h3>
        <div class="example" id="example-basic-pipe-to-2">
            <a class="self-link" href="#example-basic-pipe-to-2"></a>
            写入可写流的常用方式是直接将一个<a data-link-type="dfn" href="#readable-stream" id="ref-for-readable-stream①④">可读流</a> <a
                data-link-type="dfn" href="#piping" id="ref-for-piping⑧">管道</a>到它。这可以确保遵循<a data-link-type="dfn"
                href="#backpressure" id="ref-for-backpressure⑨">背压</a>，也就是说，如果可写流的<a data-link-type="dfn"
                href="#underlying-sink" id="ref-for-underlying-sink⑤">底层接收器</a>处理数据的速度慢于可读流生成的速度，可读流会收到通知，有机会减慢数据生成的速度。
            <pre class="highlight">readableStream<c- p>.</c->pipeTo<c- p>(</c->writableStream<c- p>)</c->
  <c- p>.</c->then<c- p>(()</c-> <c- p>=></c-> console<c- p>.</c->log<c- p>(</c-><c- u>"所有数据已成功写入!"</c-><c- p>))</c->
  <c- p>.</c-><c- k>catch</c-><c- p>(</c->e <c- p>=></c-> console<c- p>.</c->error<c- p>(</c-><c- u>"出现错误!"</c-><c- p>,</c-> e<c- p>));</c->
</pre>
        </div>
        <div class="example" id="example-manual-write-batch">
            <a class="self-link" href="#example-manual-write-batch"></a>
            你也可以通过获取一个<a data-link-type="dfn" href="#writer" id="ref-for-writer①">writer</a>并使用它的 <code
                class="idl"><a data-link-type="idl" href="#default-writer-write" id="ref-for-default-writer-write">write()</a></code>
            和 <code
                class="idl"><a data-link-type="idl" href="#default-writer-close" id="ref-for-default-writer-close">close()</a></code>
            方法，直接向可写流写入数据。由于可写流会自动排队所有写入操作，并依次将它们转发到<a data-link-type="dfn" href="#underlying-sink"
                id="ref-for-underlying-sink⑥">底层接收器</a>，所以你可以直接写入，不需要复杂操作：
            <pre class="highlight"><c- a>function</c-> writeArrayToStream<c- p>(</c->array<c- p>,</c-> writableStream<c- p>)</c-> <c- p>{</c->
  <c- a>const</c-> writer <c- o>=</c-> writableStream<c- p>.</c->getWriter<c- p>();</c->
  array<c- p>.</c->forEach<c- p>(</c->chunk <c- p>=></c-> writer<c- p>.</c->write<c- p>(</c->chunk<c- p>).</c-><c- k>catch</c-><c- p>(()</c-> <c- p>=></c-> <c- p>{}));</c->

  <c- k>return</c-> writer<c- p>.</c->close<c- p>();</c->
<c- p>}</c->

writeArrayToStream<c- p>([</c-><c- mf>1</c-><c- p>,</c-> <c- mf>2</c-><c- p>,</c-> <c- mf>3</c-><c- p>,</c-> <c- mf>4</c-><c- p>,</c-> <c- mf>5</c-><c- p>],</c-> writableStream<c- p>)</c->
  <c- p>.</c->then<c- p>(()</c-> <c- p>=></c-> console<c- p>.</c->log<c- p>(</c-><c- u>"全部完成!"</c-><c- p>))</c->
  <c- p>.</c-><c- k>catch</c-><c- p>(</c->e <c- p>=></c-> console<c- p>.</c->error<c- p>(</c-><c- u>"流发生错误: "</c-> <c- o>+</c-> e<c- p>));</c->
</pre>
            <p>注意我们使用 <code>.catch(() => {})</code> 来抑制 <code
                    class="idl"><a data-link-type="idl" href="#default-writer-write" id="ref-for-default-writer-write①">write()</a></code>
                方法的拒绝；任何致命错误会通过 <code
                    class="idl"><a data-link-type="idl" href="#default-writer-close" id="ref-for-default-writer-close①">close()</a></code>
                方法的 promise 拒绝来通知，如果未捕获会导致 <code
                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/indices.html#event-unhandledrejection" id="ref-for-event-unhandledrejection">unhandledrejection</a></code>
                事件和控制台警告。</p>
        </div>
        <div class="example" id="example-manual-write-with-error-handling">
            <a class="self-link" href="#example-manual-write-with-error-handling"></a>
            在上一个例子中，我们只关注整个流的成功或失败，通过检查 writer 的 <code
                class="idl"><a data-link-type="idl" href="#default-writer-close" id="ref-for-default-writer-close②">close()</a></code>
            方法返回的 promise。
            这个 promise 会在流出错（初始化、写入或者关闭时）时拒绝，在流成功关闭时兑现。通常这就是你需要关心的全部内容。
            <p>然而，如果你想知道写入某个特定<a data-link-type="dfn" href="#chunk" id="ref-for-chunk⑤⓪">块</a>是否成功，可以使用 writer 的 <code
                    class="idl"><a data-link-type="idl" href="#default-writer-write" id="ref-for-default-writer-write②">write()</a></code>
                方法返回的 promise：</p>
            <pre class="highlight">writer<c- p>.</c->write<c- p>(</c-><c- u>"我是一个数据块"</c-><c- p>)</c->
  <c- p>.</c->then<c- p>(()</c-> <c- p>=></c-> console<c- p>.</c->log<c- p>(</c-><c- u>"块成功写入!"</c-><c- p>))</c->
  <c- p>.</c-><c- k>catch</c-><c- p>(</c->e <c- p>=></c-> console<c- p>.</c->error<c- p>(</c->e<c- p>));</c->
</pre>
            <p>这里“成功”的含义由具体流实例（更准确地说，是它的<a data-link-type="dfn" href="#underlying-sink"
                    id="ref-for-underlying-sink⑦">底层接收器</a>）决定。例如，对于文件流，可能只是操作系统接受了写入，而不一定表示数据已经刷新到磁盘。有些流可能无法提供这种信号，promise
                会立即兑现。</p>
        </div>
        <div class="example" id="example-manual-write-with-backpressure">
            <a class="self-link" href="#example-manual-write-with-backpressure"></a>
            <code
                class="idl"><a data-link-type="idl" href="#default-writer-desired-size" id="ref-for-default-writer-desired-size①">desiredSize</a></code>
            和 <code
                class="idl"><a data-link-type="idl" href="#default-writer-ready" id="ref-for-default-writer-ready">ready</a></code>
            属性允许<a data-link-type="dfn" href="#writer" id="ref-for-writer②">可写流 writer</a>的<a data-link-type="dfn"
                href="#producer" id="ref-for-producer②">生产者</a>更精确地响应流的流控信号，保证内存使用不超过流设定的<a data-link-type="dfn"
                href="#high-water-mark" id="ref-for-high-water-mark②">高水位线</a>。下面的例子会向流写入无限序列的随机字节，通过 <code
                class="idl"><a data-link-type="idl" href="#default-writer-desired-size" id="ref-for-default-writer-desired-size②">desiredSize</a></code>
            决定每次生成多少字节，并通过 <code
                class="idl"><a data-link-type="idl" href="#default-writer-ready" id="ref-for-default-writer-ready①">ready</a></code>
            等待<a data-link-type="dfn" href="#backpressure" id="ref-for-backpressure①⓪">背压</a>消退。
            <pre class="highlight"><c- k>async</c-> <c- a>function</c-> writeRandomBytesForever<c- p>(</c->writableStream<c- p>)</c-> <c- p>{</c->
  <c- a>const</c-> writer <c- o>=</c-> writableStream<c- p>.</c->getWriter<c- p>();</c->

  <c- k>while</c-> <c- p>(</c-><c- kc>true</c-><c- p>)</c-> <c- p>{</c->
    <c- k>await</c-> writer<c- p>.</c->ready<c- p>;</c->

    <c- a>const</c-> bytes <c- o>=</c-> <c- ow>new</c-> Uint8Array<c- p>(</c->writer<c- p>.</c->desiredSize<c- p>);</c->
    crypto<c- p>.</c->getRandomValues<c- p>(</c->bytes<c- p>);</c->

    <c- c1>// 有意不await，此时等待writer.ready即可。</c->
    writer<c- p>.</c->write<c- p>(</c->bytes<c- p>).</c-><c- k>catch</c-><c- p>(()</c-> <c- p>=></c-> <c- p>{});</c->
  <c- p>}</c->
<c- p>}</c->

writeRandomBytesForever<c- p>(</c->myWritableStream<c- p>).</c-><c- k>catch</c-><c- p>(</c->e <c- p>=></c-> console<c- p>.</c->error<c- p>(</c-><c- u>"出现异常"</c-><c- p>,</c-> e<c- p>));</c->
</pre>
            <p>注意我们没有 <code>await</code> <code
                    class="idl"><a data-link-type="idl" href="#default-writer-write" id="ref-for-default-writer-write③">write()</a></code>
                返回的 promise；这和等待 <code
                    class="idl"><a data-link-type="idl" href="#default-writer-ready" id="ref-for-default-writer-ready②">ready</a></code>
                promise 是重复的。此外，和<a href="#example-manual-write-batch">前面例子</a>类似，我们对 <code
                    class="idl"><a data-link-type="idl" href="#default-writer-write" id="ref-for-default-writer-write④">write()</a></code>
                返回的 promise 使用 <code>.catch(() => {})</code>，在这种情况下，任何失败会在等待 <code
                    class="idl"><a data-link-type="idl" href="#default-writer-ready" id="ref-for-default-writer-ready③">ready</a></code>
                promise 时通知我们。</p>
        </div>
        <div class="example" id="example-manual-write-dont-await">
            <a class="self-link" href="#example-manual-write-dont-await"></a>
            为了进一步强调 <code>await</code> <code
                class="idl"><a data-link-type="idl" href="#default-writer-write" id="ref-for-default-writer-write⑤">write()</a></code>
            返回的 promise 并不是好主意，来看上面例子的一个改进版，我们继续直接使用 <code
                class="idl"><a data-link-type="idl" href="#writablestreamdefaultwriter" id="ref-for-writablestreamdefaultwriter①">WritableStreamDefaultWriter</a></code>
            接口，但不控制每次要写多少字节。在这种情况下，遵循<a data-link-type="dfn" href="#backpressure"
                id="ref-for-backpressure①①">背压</a>的代码如下：
            <pre class="highlight"><c- k>async</c-> <c- a>function</c-> writeSuppliedBytesForever<c- p>(</c->writableStream<c- p>,</c-> getBytes<c- p>)</c-> <c- p>{</c->
  <c- a>const</c-> writer <c- o>=</c-> writableStream<c- p>.</c->getWriter<c- p>();</c->

  <c- k>while</c-> <c- p>(</c-><c- kc>true</c-><c- p>)</c-> <c- p>{</c->
    <c- k>await</c-> writer<c- p>.</c->ready<c- p>;</c->

    <c- a>const</c-> bytes <c- o>=</c-> getBytes<c- p>();</c->
    writer<c- p>.</c->write<c- p>(</c->bytes<c- p>).</c-><c- k>catch</c-><c- p>(()</c-> <c- p>=></c-> <c- p>{});</c->
  <c- p>}</c->
<c- p>}</c->
</pre>
            <p>和前一个例子不同，前面我们每次都写入 <code
                    class="idl"><a data-link-type="idl" href="#default-writer-desired-size" id="ref-for-default-writer-desired-size③">writer.desiredSize</a></code>
                字节，<code
                    class="idl"><a data-link-type="idl" href="#default-writer-write" id="ref-for-default-writer-write⑥">write()</a></code>
                和 <code
                    class="idl"><a data-link-type="idl" href="#default-writer-ready" id="ref-for-default-writer-ready④">ready</a></code>
                的 promise 是同步的。而在这里，<code
                    class="idl"><a data-link-type="idl" href="#default-writer-ready" id="ref-for-default-writer-ready⑤">ready</a></code>
                的 promise 很可能比 <code
                    class="idl"><a data-link-type="idl" href="#default-writer-write" id="ref-for-default-writer-write⑦">write()</a></code>
                更早兑现。
                请记住，<code
                    class="idl"><a data-link-type="idl" href="#default-writer-ready" id="ref-for-default-writer-ready⑥">ready</a></code>
                的 promise 在<a data-link-type="dfn" href="#desired-size-to-fill-a-streams-internal-queue"
                    id="ref-for-desired-size-to-fill-a-streams-internal-queue④">内部队列期望大小</a>转为正数时兑现，这可能比写入成功早（尤其是在<a
                    data-link-type="dfn" href="#high-water-mark" id="ref-for-high-water-mark③">高水位线</a>较大时）。
            </p>
            <p>换句话说，<code>await</code> <code
                    class="idl"><a data-link-type="idl" href="#default-writer-write" id="ref-for-default-writer-write⑧">write()</a></code>
                的返回值意味着你永远不会在流的<a data-link-type="dfn" href="#internal-queues"
                    id="ref-for-internal-queues①①">内部队列</a>中排队写入，而是只有前一次写入成功后才执行下一次写入，这会导致吞吐量较低。</p>
        </div>
        <h3 class="heading settled" data-level="5.2" id="ws-class"><span class="secno">5.2. </span><span
                class="content"><code
                    class="idl"><a data-link-type="idl" href="#writablestream" id="ref-for-writablestream⑧">WritableStream</a></code>
                类</span><a class="self-link" href="#ws-class"></a></h3>
        <p><code
                class="idl"><a data-link-type="idl" href="#writablestream" id="ref-for-writablestream⑨">WritableStream</a></code>
            表示一个<a data-link-type="dfn" href="#writable-stream" id="ref-for-writable-stream⑥">可写流</a>。</p>
        <h4 class="heading settled" data-level="5.2.1" id="ws-class-definition"><span class="secno">5.2.1. </span><span
                class="content">接口定义</span><a class="self-link" href="#ws-class-definition"></a></h4>
        <p>该 <code
                class="idl"><a data-link-type="idl" href="#writablestream" id="ref-for-writablestream①⓪">WritableStream</a></code>
            类的 Web IDL 定义如下：</p>
        <pre class="idl highlight def">[Exposed=*, <a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/structured-data.html#transferable" id="ref-for-transferable①"><c- g>Transferable</c-></a>]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="writablestream"><code><c- g>WritableStream</c-></code></dfn> {
  <a class="idl-code" data-link-type="constructor" href="#ws-constructor" id="ref-for-ws-constructor①"><c- g>constructor</c-></a>(<c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object" id="ref-for-idl-object①"><c- b>object</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="WritableStream/WritableStream(underlyingSink, strategy), WritableStream/constructor(underlyingSink, strategy), WritableStream/WritableStream(underlyingSink), WritableStream/constructor(underlyingSink), WritableStream/WritableStream(), WritableStream/constructor()" data-dfn-type="argument" data-export id="dom-writablestream-writablestream-underlyingsink-strategy-underlyingsink"><code><c- g>underlyingSink</c-></code></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-queuingstrategy" id="ref-for-dictdef-queuingstrategy①"><c- n>QueuingStrategy</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="WritableStream/WritableStream(underlyingSink, strategy), WritableStream/constructor(underlyingSink, strategy), WritableStream/WritableStream(underlyingSink), WritableStream/constructor(underlyingSink), WritableStream/WritableStream(), WritableStream/constructor()" data-dfn-type="argument" data-export id="dom-writablestream-writablestream-underlyingsink-strategy-strategy"><code><c- g>strategy</c-></code></dfn> = {});

  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean⑥"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#ws-locked" id="ref-for-ws-locked①"><c- g>locked</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑧"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①⑥"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#ws-abort" id="ref-for-ws-abort①"><c- g>abort</c-></a>(<c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any①⓪"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="WritableStream/abort(reason), WritableStream/abort()" data-dfn-type="argument" data-export id="dom-writablestream-abort-reason-reason"><code><c- g>reason</c-></code></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑨"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①⑦"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#ws-close" id="ref-for-ws-close"><c- g>close</c-></a>();
  <a data-link-type="idl-name" href="#writablestreamdefaultwriter" id="ref-for-writablestreamdefaultwriter②"><c- n>WritableStreamDefaultWriter</c-></a> <a class="idl-code" data-link-type="method" href="#ws-get-writer" id="ref-for-ws-get-writer"><c- g>getWriter</c-></a>();
};
</pre>
        <h4 class="heading settled" data-level="5.2.2" id="ws-internal-slots"><span class="secno">5.2.2. </span><span
                class="content">内部槽</span><a class="self-link" href="#ws-internal-slots"></a></h4>
        <p><code
                class="idl"><a data-link-type="idl" href="#writablestream" id="ref-for-writablestream①①">WritableStream</a></code>
            的实例创建时拥有下表描述的内部槽：</p>
        <table>
            <thead>
                <tr>
                    <th>内部槽
                    <th>描述（<em>非规范性</em>）
            <tbody>
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="WritableStream" data-dfn-type="dfn" data-noexport
                            id="writablestream-backpressure">[[backpressure]]</dfn>
                    <td class="non-normative">一个布尔值，表示由控制器设置的背压信号
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="WritableStream" data-dfn-type="dfn" data-noexport
                            id="writablestream-closerequest">[[closeRequest]]</dfn>
                    <td class="non-normative">writer 的 <code
                            class="idl"><a data-link-type="idl" href="#default-writer-close" id="ref-for-default-writer-close③">close()</a></code>
                        方法返回的 promise
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="WritableStream" data-dfn-type="dfn" data-noexport
                            id="writablestream-controller">[[controller]]</dfn>
                    <td class="non-normative">一个 <code
                            class="idl"><a data-link-type="idl" href="#writablestreamdefaultcontroller" id="ref-for-writablestreamdefaultcontroller">WritableStreamDefaultController</a></code>
                        ，用于控制此流的状态和队列
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="WritableStream" data-dfn-type="dfn" data-export
                            id="writablestream-detached">[[Detached]]</dfn>
                    <td class="non-normative">当流被转移时为 true 的布尔标志
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="WritableStream" data-dfn-type="dfn" data-noexport
                            id="writablestream-inflightwriterequest">[[inFlightWriteRequest]]</dfn>
                    <td class="non-normative">在底层接收器的写入算法正在执行且尚未完成时，指向当前进行中写入操作的 promise，用于防止重入调用
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="WritableStream" data-dfn-type="dfn" data-noexport
                            id="writablestream-inflightcloserequest">[[inFlightCloseRequest]]</dfn>
                    <td class="non-normative">在底层接收器的关闭算法正在执行且尚未完成时，指向当前进行中关闭操作的 promise，用于防止 <code
                            class="idl"><a data-link-type="idl" href="#default-writer-abort" id="ref-for-default-writer-abort">abort()</a></code>
                        方法中断关闭过程
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="WritableStream" data-dfn-type="dfn" data-noexport
                            id="writablestream-pendingabortrequest">[[pendingAbortRequest]]</dfn>
                    <td class="non-normative">一个<a data-link-type="dfn" href="#pending-abort-request"
                            id="ref-for-pending-abort-request">待中止请求</a>
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="WritableStream" data-dfn-type="dfn" data-noexport
                            id="writablestream-state">[[state]]</dfn>
                    <td class="non-normative">包含流当前状态的字符串，仅供内部使用；可为
                        "<code>writable</code>"、"<code>closed</code>"、"<code>erroring</code>" 或 "<code>errored</code>"
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="WritableStream" data-dfn-type="dfn" data-noexport
                            id="writablestream-storederror">[[storedError]]</dfn>
                    <td class="non-normative">指示流失败原因的值，在流处于 "<code>errored</code>" 状态下操作时作为失败原因或异常抛出
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="WritableStream" data-dfn-type="dfn" data-noexport
                            id="writablestream-writer">[[writer]]</dfn>
                    <td class="non-normative">若流被<a data-link-type="dfn" href="#lock" id="ref-for-lock①②">锁定到
                            writer</a>，则为一个 <code
                            class="idl"><a data-link-type="idl" href="#writablestreamdefaultwriter" id="ref-for-writablestreamdefaultwriter③">WritableStreamDefaultWriter</a></code>
                        实例，否则为 undefined
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="WritableStream" data-dfn-type="dfn" data-noexport
                            id="writablestream-writerequests">[[writeRequests]]</dfn>
                    <td class="non-normative">一个<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list"
                            id="ref-for-list①⑥">列表</a>，表示尚未被底层接收器处理的流内部写入请求队列中的 promise
        </table>
        <p class="note" role="note"><a data-link-type="dfn" href="#writablestream-inflightcloserequest"
                id="ref-for-writablestream-inflightcloserequest">[[inFlightCloseRequest]]</a> 槽和 <a data-link-type="dfn"
                href="#writablestream-closerequest" id="ref-for-writablestream-closerequest">[[closeRequest]]</a>
            槽互斥。同样，在 <a data-link-type="dfn" href="#writablestream-inflightwriterequest"
                id="ref-for-writablestream-inflightwriterequest">[[inFlightWriteRequest]]</a> 不为 undefined 时，<a
                data-link-type="dfn" href="#writablestream-writerequests"
                id="ref-for-writablestream-writerequests">[[writeRequests]]</a> 中不会有元素被移除。实现可以基于这些不变式优化这些槽的存储。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="pending-abort-request">待中止请求</dfn>
            是一个用于追踪中止流请求，直到该请求最终被处理的数据结构。它包含以下<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item"
                id="ref-for-struct-item①⓪">项目</a>：</p>
        <dl>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="pending abort request" data-dfn-type="dfn" data-noexport
                    id="pending-abort-request-promise">promise</dfn>
            <dd data-md>
                <p>一个从 <a data-link-type="abstract-op" href="#writable-stream-abort"
                        id="ref-for-writable-stream-abort②">WritableStreamAbort</a> 返回的 promise</p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="pending abort request" data-dfn-type="dfn" data-noexport
                    id="pending-abort-request-reason">reason</dfn>
            <dd data-md>
                <p>一个 JavaScript 值，作为中止原因传递给 <a data-link-type="abstract-op" href="#writable-stream-abort"
                        id="ref-for-writable-stream-abort③">WritableStreamAbort</a></p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="pending abort request" data-dfn-type="dfn" data-noexport
                    id="pending-abort-request-was-already-erroring">was already erroring</dfn>
            <dd data-md>
                <p>一个布尔值，指示在调用 <a data-link-type="abstract-op" href="#writable-stream-abort"
                        id="ref-for-writable-stream-abort④">WritableStreamAbort</a> 时流是否处于 "<code>erroring</code>"
                    状态，这会影响中止请求的结果</p>
        </dl>
        <h4 class="heading settled" data-level="5.2.3" id="underlying-sink-api"><span class="secno">5.2.3. </span><span
                class="content">底层接收器 API</span><a class="self-link" href="#underlying-sink-api"></a></h4>
        <p><code
                class="idl"><a data-link-type="idl" href="#ws-constructor" id="ref-for-ws-constructor②">WritableStream()</a></code>
            构造函数的第一个参数为一个 JavaScript 对象，表示<a data-link-type="dfn" href="#underlying-sink"
                id="ref-for-underlying-sink①①">底层接收器</a>。该对象可包含如下属性：</p>
        <pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-underlyingsink"><code><c- g>UnderlyingSink</c-></code></dfn> {
  <a data-link-type="idl-name" href="#callbackdef-underlyingsinkstartcallback" id="ref-for-callbackdef-underlyingsinkstartcallback"><c- n>UnderlyingSinkStartCallback</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="UnderlyingSinkStartCallback" href="#dom-underlyingsink-start" id="ref-for-dom-underlyingsink-start"><c- g>start</c-></a>;
  <a data-link-type="idl-name" href="#callbackdef-underlyingsinkwritecallback" id="ref-for-callbackdef-underlyingsinkwritecallback"><c- n>UnderlyingSinkWriteCallback</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="UnderlyingSinkWriteCallback" href="#dom-underlyingsink-write" id="ref-for-dom-underlyingsink-write①"><c- g>write</c-></a>;
  <a data-link-type="idl-name" href="#callbackdef-underlyingsinkclosecallback" id="ref-for-callbackdef-underlyingsinkclosecallback"><c- n>UnderlyingSinkCloseCallback</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="UnderlyingSinkCloseCallback" href="#dom-underlyingsink-close" id="ref-for-dom-underlyingsink-close①"><c- g>close</c-></a>;
  <a data-link-type="idl-name" href="#callbackdef-underlyingsinkabortcallback" id="ref-for-callbackdef-underlyingsinkabortcallback"><c- n>UnderlyingSinkAbortCallback</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="UnderlyingSinkAbortCallback" href="#dom-underlyingsink-abort" id="ref-for-dom-underlyingsink-abort①"><c- g>abort</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any①①"><c- b>any</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="any" href="#dom-underlyingsink-type" id="ref-for-dom-underlyingsink-type"><c- g>type</c-></a>;
};

<c- b>callback</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="callback" data-export id="callbackdef-underlyingsinkstartcallback"><code><c- g>UnderlyingSinkStartCallback</c-></code></dfn> = <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any①②"><c- b>any</c-></a> (<a data-link-type="idl-name" href="#writablestreamdefaultcontroller" id="ref-for-writablestreamdefaultcontroller①"><c- n>WritableStreamDefaultController</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="UnderlyingSinkStartCallback" data-dfn-type="argument" data-export id="dom-underlyingsinkstartcallback-controller"><code><c- g>controller</c-></code></dfn>);
<c- b>callback</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="callback" data-export id="callbackdef-underlyingsinkwritecallback"><code><c- g>UnderlyingSinkWriteCallback</c-></code></dfn> = <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①⓪"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①⑧"><c- b>undefined</c-></a>> (<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any①③"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="UnderlyingSinkWriteCallback" data-dfn-type="argument" data-export id="dom-underlyingsinkwritecallback-chunk"><code><c- g>chunk</c-></code></dfn>, <a data-link-type="idl-name" href="#writablestreamdefaultcontroller" id="ref-for-writablestreamdefaultcontroller②"><c- n>WritableStreamDefaultController</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="UnderlyingSinkWriteCallback" data-dfn-type="argument" data-export id="dom-underlyingsinkwritecallback-controller"><code><c- g>controller</c-></code></dfn>);
<c- b>callback</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="callback" data-export id="callbackdef-underlyingsinkclosecallback"><code><c- g>UnderlyingSinkCloseCallback</c-></code></dfn> = <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①①"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①⑨"><c- b>undefined</c-></a>> ();
<c- b>callback</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="callback" data-export id="callbackdef-underlyingsinkabortcallback"><code><c- g>UnderlyingSinkAbortCallback</c-></code></dfn> = <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①②"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined②⓪"><c- b>undefined</c-></a>> (<c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any①④"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="UnderlyingSinkAbortCallback" data-dfn-type="argument" data-export id="dom-underlyingsinkabortcallback-reason"><code><c- g>reason</c-></code></dfn>);
</pre>
        <dl>
            <dt><dfn class="dfn-paneled idl-code" data-dfn-for="UnderlyingSink" data-dfn-type="dict-member" data-export
                    data-lt="start" id="dom-underlyingsink-start"><code>start(<var>controller</var>)</code></dfn>,
                <span> 类型为 <a data-link-type="idl-name" href="#callbackdef-underlyingsinkstartcallback"
                        id="ref-for-callbackdef-underlyingsinkstartcallback①">UnderlyingSinkStartCallback</a></span>
            <dd>
                <p>在创建 <code
                        class="idl"><a data-link-type="idl" href="#writablestream" id="ref-for-writablestream①②">WritableStream</a></code>
                    时立即调用的函数。</p>
                <p>通常用于获取所代表的 <a data-link-type="dfn" href="#underlying-sink"
                        id="ref-for-underlying-sink①②">底层接收器</a>资源的访问权。</p>
                <p>如果此初始化过程为异步，可以返回一个 promise 以表示成功或失败；拒绝的 promise 会使流进入错误状态。抛出的异常会被 <code
                        class="idl"><a data-link-type="idl" href="#ws-constructor" id="ref-for-ws-constructor③">WritableStream()</a></code>
                    构造函数重新抛出。</p>
            <dt><dfn class="dfn-paneled idl-code" data-dfn-for="UnderlyingSink" data-dfn-type="dict-member" data-export
                    data-lt="write"
                    id="dom-underlyingsink-write"><code>write(<var>chunk</var>, <var>controller</var>)</code></dfn>,
                <span> 类型为 <a data-link-type="idl-name" href="#callbackdef-underlyingsinkwritecallback"
                        id="ref-for-callbackdef-underlyingsinkwritecallback①">UnderlyingSinkWriteCallback</a></span>
            <dd>
                <p>当有新的<a data-link-type="dfn" href="#chunk" id="ref-for-chunk⑤①">数据块</a>可写入<a data-link-type="dfn"
                        href="#underlying-sink" id="ref-for-underlying-sink①③">底层接收器</a>时调用。流实现保证该函数仅在前一次写入已成功后调用，且不会在
                    <code
                        class="idl"><a data-link-type="idl" href="#dom-underlyingsink-start" id="ref-for-dom-underlyingsink-start①">start()</a></code>
                    成功之前或 <code
                        class="idl"><a data-link-type="idl" href="#dom-underlyingsink-close" id="ref-for-dom-underlyingsink-close②">close()</a></code>
                    或 <code
                        class="idl"><a data-link-type="idl" href="#dom-underlyingsink-abort" id="ref-for-dom-underlyingsink-abort②">abort()</a></code>
                    被调用之后调用。
                </p>
                <p>此函数通常用于实际发送数据到 <a data-link-type="dfn" href="#underlying-sink"
                        id="ref-for-underlying-sink①④">底层接收器</a>所表示的资源，比如调用底层 API。</p>
                <p>如果写入过程为异步，并且需要向调用者通知成功或失败，则该函数可以返回一个 promise。此 promise 的返回值会被传递给 <code
                        class="idl"><a data-link-type="idl" href="#default-writer-write" id="ref-for-default-writer-write⑨">writer.write()</a></code>
                    的调用者，以便他们能监控该次写入。抛出异常等同于返回拒绝的 promise。</p>
                <p>注意，并非所有情况下都能获得此类信号；参见 <a href="#example-ws-no-backpressure">§ 10.6 无背压或成功信号的可写流</a> 与 <a
                        href="#example-ws-backpressure">§ 10.7 带有背压和成功信号的可写流</a>。在这些情况下，最好什么都不返回。</p>
                <p>该函数可能返回的 promise 也决定了此数据块是否计入<a data-link-type="dfn"
                        href="#desired-size-to-fill-a-streams-internal-queue"
                        id="ref-for-desired-size-to-fill-a-streams-internal-queue⑤">内部队列期望填充值</a>的计算。在 promise
                    达到最终状态之前，<code
                        class="idl"><a data-link-type="idl" href="#default-writer-desired-size" id="ref-for-default-writer-desired-size④">writer.desiredSize</a></code>
                    会保持不变，仅当写入成功后才增加以表明需要更多块。</p>
                <p>最后，此 promise 还用于保证<a href="#write-mutable-chunks">良好行为</a>的<a data-link-type="dfn" href="#producer"
                        id="ref-for-producer③">生产者</a>不会在数据块尚未完全处理时修改其内容。（这并非由规范机制保证，而是<a data-link-type="dfn"
                        href="#producer" id="ref-for-producer④">生产者</a>与<a data-link-type="dfn" href="#underlying-sink"
                        id="ref-for-underlying-sink①⑤">底层接收器</a>之间的非正式约定。）</p>
            <dt><dfn class="dfn-paneled idl-code" data-dfn-for="UnderlyingSink" data-dfn-type="dict-member" data-export
                    data-lt="close" id="dom-underlyingsink-close"><code>close()</code></dfn>, <span> 类型为 <a
                        data-link-type="idl-name" href="#callbackdef-underlyingsinkclosecallback"
                        id="ref-for-callbackdef-underlyingsinkclosecallback①">UnderlyingSinkCloseCallback</a></span>
            <dd>
                <p>当<a data-link-type="dfn" href="#producer" id="ref-for-producer⑤">生产者</a>通过 <code
                        class="idl"><a data-link-type="idl" href="#default-writer-close" id="ref-for-default-writer-close④">writer.close()</a></code>
                    表示写入完成，并且所有排队的写入已成功完成后调用。</p>
                <p>此函数可以执行任何必要的收尾或刷新操作，并释放所持有的资源。</p>
                <p>如果关闭过程为异步，函数可返回 promise 以表示成功或失败；结果会通过 <code
                        class="idl"><a data-link-type="idl" href="#default-writer-close" id="ref-for-default-writer-close⑤">writer.close()</a></code>
                    方法的返回值传递。返回拒绝的 promise 会使流进入错误状态，而不是成功关闭。抛出异常等同于返回拒绝的 promise。</p>
            <dt><dfn class="dfn-paneled idl-code" data-dfn-for="UnderlyingSink" data-dfn-type="dict-member" data-export
                    data-lt="abort" id="dom-underlyingsink-abort"><code>abort(<var>reason</var>)</code></dfn>, <span>
                    类型为
                    <a data-link-type="idl-name" href="#callbackdef-underlyingsinkabortcallback"
                        id="ref-for-callbackdef-underlyingsinkabortcallback①">UnderlyingSinkAbortCallback</a></span>
            <dd>
                <p>当<a data-link-type="dfn" href="#producer" id="ref-for-producer⑥">生产者</a>通过 <code
                        class="idl"><a data-link-type="idl" href="#ws-abort" id="ref-for-ws-abort②">stream.abort()</a></code>
                    或 <code
                        class="idl"><a data-link-type="idl" href="#default-writer-abort" id="ref-for-default-writer-abort①">writer.abort()</a></code>
                    表示希望<a data-link-type="dfn" href="#abort-a-writable-stream"
                        id="ref-for-abort-a-writable-stream③">中止</a>流时调用。它的参数与这些方法传入的值一致。</p>
                <p>可写流在<a data-link-type="dfn" href="#piping" id="ref-for-piping⑨">管道</a>过程中也可能因某些情况被中止；详见 <code
                        class="idl"><a data-link-type="idl" href="#rs-pipe-to" id="ref-for-rs-pipe-to⑥">pipeTo()</a></code>
                    方法的定义。</p>
                <p>此函数可用于清理资源，类似 <code
                        class="idl"><a data-link-type="idl" href="#dom-underlyingsink-close" id="ref-for-dom-underlyingsink-close③">close()</a></code>
                    ，但也可以自定义处理。</p>
                <p>如果中止过程为异步，函数可返回 promise 以表示成功或失败；结果会通过 <code
                        class="idl"><a data-link-type="idl" href="#default-writer-abort" id="ref-for-default-writer-abort②">writer.abort()</a></code>
                    方法的返回值传递。抛出异常等同于返回拒绝的 promise。不管怎样，流都会因新的 <code
                        class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror④⑦">TypeError</a></code>
                    而进入错误状态，表示其已被中止。</p>
            <dt><dfn class="dfn-paneled idl-code" data-dfn-for="UnderlyingSink" data-dfn-type="dict-member" data-export
                    id="dom-underlyingsink-type"><code>type</code></dfn>, <span> 类型为 <a data-link-type="idl-name"
                        href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any①⑤">any</a></span>
            <dd>
                <p>该属性为保留属性，当前任何赋值尝试都会抛出异常。</p>
        </dl>
        <p>传递给 <code
                class="idl"><a data-link-type="idl" href="#dom-underlyingsink-start" id="ref-for-dom-underlyingsink-start②">start()</a></code>
            和 <code
                class="idl"><a data-link-type="idl" href="#dom-underlyingsink-write" id="ref-for-dom-underlyingsink-write②">write()</a></code>
            的 <code>controller</code> 参数是 <code
                class="idl"><a data-link-type="idl" href="#writablestreamdefaultcontroller" id="ref-for-writablestreamdefaultcontroller③">WritableStreamDefaultController</a></code>
            的实例，可用于使流出错。主要用于与非 promise 风格 API 的衔接，例如见 <a href="#example-ws-no-backpressure">§ 10.6 无背压或成功信号的可写流</a>。</p>
        <h4 class="heading settled" data-level="5.2.4" id="ws-prototype"><span class="secno">5.2.4. </span><span
                class="content">构造函数、方法和属性</span><a class="self-link" href="#ws-prototype"></a></h4>
        <dl class="domintro non-normative">
            <dt><code><var>stream</var> = new <code class="idl"><a data-link-type="idl" href="#ws-constructor" id="ref-for-ws-constructor④">WritableStream</a></code>(<var>underlyingSink</var>[,
                <var>strategy</var>)</code>
            <dd>
                <p>创建一个新的 <code
                        class="idl"><a data-link-type="idl" href="#writablestream" id="ref-for-writablestream①③">WritableStream</a></code>
                    ，包装提供的 <a data-link-type="dfn" href="#underlying-sink" id="ref-for-underlying-sink①⑦">底层接收器</a>。关于
                    <var>underlyingSink</var> 参数的详细信息，参见 <a href="#underlying-sink-api">§ 5.2.3 底层接收器 API</a>。
                </p>
                <p><var>strategy</var> 参数表示流的 <a data-link-type="dfn" href="#queuing-strategy"
                        id="ref-for-queuing-strategy④">排队策略</a>，详见 <a href="#qs-api">§ 7.1 排队策略 API</a>。如果未提供，则默认行为与
                    <code
                        class="idl"><a data-link-type="idl" href="#countqueuingstrategy" id="ref-for-countqueuingstrategy②">CountQueuingStrategy</a></code>
                    且 <a data-link-type="dfn" href="#high-water-mark" id="ref-for-high-water-mark④">高水位线</a>为 1 的效果一致。
                </p>
            <dt><code><var>isLocked</var> = <var>stream</var>.<code class="idl"><a data-link-type="idl" href="#ws-locked" id="ref-for-ws-locked②">locked</a></code></code>
            <dd>
                <p>返回该可写流是否已<a data-link-type="dfn" href="#lock" id="ref-for-lock①③">锁定到某个 writer</a>。</p>
            <dt><code>await <var>stream</var>.<code class="idl"><a data-link-type="idl" href="#ws-abort" id="ref-for-ws-abort③">abort</a></code>([
                <var>reason</var> ])</code>
            <dd>
                <p><a data-link-type="dfn" href="#abort-a-writable-stream"
                        id="ref-for-abort-a-writable-stream④">中止</a>该流，表示生产者无法再成功写入流，流会立即进入错误状态，所有排队的写入会被丢弃。这还会执行 <a
                        data-link-type="dfn" href="#underlying-sink" id="ref-for-underlying-sink①⑧">底层接收器</a> 的中止机制。</p>
                <p>返回的 promise 在流正常关闭时兑现，如果底层接收器在此过程中发生错误则拒绝。此外，如果流当前<a data-link-type="dfn" href="#lock"
                        id="ref-for-lock①④">已锁定</a>，则会以 <code
                        class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror④⑧">TypeError</a></code>
                    拒绝（不会尝试取消流）。</p>
            <dt><code>await <var>stream</var>.<code class="idl"><a data-link-type="idl" href="#ws-close" id="ref-for-ws-close①">close</a></code>()</code>
            <dd>
                <p>关闭流。<a data-link-type="dfn" href="#underlying-sink"
                        id="ref-for-underlying-sink①⑨">底层接收器</a>将在处理完所有已写入的<a data-link-type="dfn" href="#chunk"
                        id="ref-for-chunk⑤④">数据块</a>后，执行关闭行为。此期间任何进一步写入都会失败（但不会使流进入错误状态）。</p>
                <p>该方法返回一个 promise，如果所有剩余<a data-link-type="dfn" href="#chunk"
                        id="ref-for-chunk⑤⑤">数据块</a>都成功写入且流成功关闭，则兑现；否则在过程中遇到错误则拒绝。此外，如果流当前<a data-link-type="dfn"
                        href="#lock" id="ref-for-lock①⑤">已锁定</a>，则会以 <code
                        class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror④⑨">TypeError</a></code>
                    拒绝（不会尝试取消流）。</p>
            <dt><code><var>writer</var> = <var>stream</var>.<code class="idl"><a data-link-type="idl" href="#ws-get-writer" id="ref-for-ws-get-writer①">getWriter</a></code>()</code>
            <dd>
                <p>创建一个<a data-link-type="dfn" href="#writer" id="ref-for-writer③">writer</a>（即 <code
                        class="idl"><a data-link-type="idl" href="#writablestreamdefaultwriter" id="ref-for-writablestreamdefaultwriter④">WritableStreamDefaultWriter</a></code>
                    实例），并将流<a data-link-type="dfn" href="#lock" id="ref-for-lock①⑥">锁定</a>到该 writer。流被锁定期间，不能获取其他
                    writer，直到当前 writer 被<a data-link-type="dfn" href="#release-a-lock"
                        id="ref-for-release-a-lock⑦">释放</a>。</p>
                <p>该功能对需要独占写入流、避免中断或交错的抽象非常有用。通过获取流的 writer，可以确保不会有其他人同时写入，避免写入数据不可预测甚至无效。</p>
        </dl>
        <div class="algorithm" data-algorithm="WritableStream(underlyingSink, strategy)"
            data-algorithm-for="WritableStream">
            <dfn class="dfn-paneled idl-code" data-dfn-for="WritableStream" data-dfn-type="constructor" data-export
                data-lt="WritableStream(underlyingSink, strategy)|constructor(underlyingSink, strategy)|WritableStream(underlyingSink)|constructor(underlyingSink)|WritableStream()|constructor()"
                id="ws-constructor"><code>new WritableStream(<var>underlyingSink</var>, <var>strategy</var>)</code></dfn>
            构造函数步骤如下：
            <ol>
                <li data-md>
                    <p>如果 <var>underlyingSink</var> 未提供，则将其设为 null。</p>
                <li data-md>
                    <p>让 <var>underlyingSinkDict</var> 为 <var>underlyingSink</var>，<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value"
                            id="ref-for-dfn-convert-ecmascript-to-idl-value①">转换为类型为 IDL 的值</a>
                        <code
                            class="idl"><a data-link-type="idl" href="#dictdef-underlyingsink" id="ref-for-dictdef-underlyingsink">UnderlyingSink</a></code>。
                    </p>
                    <p class="note" role="note">不能直接将 <var>underlyingSink</var> 参数声明为 <code
                            class="idl"><a data-link-type="idl" href="#dictdef-underlyingsink" id="ref-for-dictdef-underlyingsink①">UnderlyingSink</a></code>
                        类型，否则会丢失原对象的引用。需要保留对象以便后续<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#invoke-a-callback-function"
                            id="ref-for-invoke-a-callback-function⑦">调用</a>其方法。</p>
                <li data-md>
                    <p>如果 <var>underlyingSinkDict</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-underlyingsink-type" id="ref-for-dom-underlyingsink-type①">type</a></code>"]<a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                            id="ref-for-map-exists①②">存在</a>，则抛出 <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-rangeerror" id="ref-for-exceptiondef-rangeerror⑦">RangeError</a></code>
                        异常。</p>
                    <p class="note" role="note">此设计方便未来添加新类型，而不会影响向后兼容。</p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#initialize-writable-stream"
                            id="ref-for-initialize-writable-stream">InitializeWritableStream</a>(<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑦④">this</a>)。</p>
                <li data-md>
                    <p>令 <var>sizeAlgorithm</var> 为 ! <a data-link-type="abstract-op"
                            href="#make-size-algorithm-from-size-function"
                            id="ref-for-make-size-algorithm-from-size-function①">ExtractSizeAlgorithm</a>(<var>strategy</var>)。
                    </p>
                <li data-md>
                    <p>令 <var>highWaterMark</var> 为 ? <a data-link-type="abstract-op"
                            href="#validate-and-normalize-high-water-mark"
                            id="ref-for-validate-and-normalize-high-water-mark②">ExtractHighWaterMark</a>(<var>strategy</var>,
                        1)。</p>
                <li data-md>
                    <p>执行 ? <a data-link-type="abstract-op"
                            href="#set-up-writable-stream-default-controller-from-underlying-sink"
                            id="ref-for-set-up-writable-stream-default-controller-from-underlying-sink">SetUpWritableStreamDefaultControllerFromUnderlyingSink</a>(<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑦⑤">this</a>, <var>underlyingSink</var>, <var>underlyingSinkDict</var>,
                        <var>highWaterMark</var>, <var>sizeAlgorithm</var>)。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="locked" data-algorithm-for="WritableStream">
            <dfn class="dfn-paneled idl-code" data-dfn-for="WritableStream" data-dfn-type="attribute" data-export
                id="ws-locked"><code>locked</code></dfn>
            属性的步骤如下：
            <ol>
                <li data-md>
                    <p>返回 ! <a data-link-type="abstract-op" href="#is-writable-stream-locked"
                            id="ref-for-is-writable-stream-locked③">IsWritableStreamLocked</a>(<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑦⑥">this</a>)。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="abort(reason)" data-algorithm-for="WritableStream">
            <dfn class="dfn-paneled idl-code" data-dfn-for="WritableStream" data-dfn-type="method" data-export
                data-lt="abort(reason)|abort()" id="ws-abort"><code>abort(<var>reason</var>)</code></dfn>
            方法的步骤如下：
            <ol>
                <li data-md>
                    <p>如果 ! <a data-link-type="abstract-op" href="#is-writable-stream-locked"
                            id="ref-for-is-writable-stream-locked④">IsWritableStreamLocked</a>(<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑦⑦">this</a>) 为 true，则返回 <a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                            id="ref-for-a-promise-rejected-with①⑧">一个拒绝的 promise</a>，异常为 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror⑤⓪">TypeError</a></code>。
                    </p>
                <li data-md>
                    <p>返回 ! <a data-link-type="abstract-op" href="#writable-stream-abort"
                            id="ref-for-writable-stream-abort⑤">WritableStreamAbort</a>(<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑦⑧">this</a>,
                        <var>reason</var>)。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="close()" data-algorithm-for="WritableStream">
            <dfn class="dfn-paneled idl-code" data-dfn-for="WritableStream" data-dfn-type="method" data-export
                id="ws-close"><code>close()</code></dfn>
            方法的步骤如下：
            <ol>
                <li data-md>
                    <p>如果 ! <a data-link-type="abstract-op" href="#is-writable-stream-locked"
                            id="ref-for-is-writable-stream-locked⑤">IsWritableStreamLocked</a>(<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑦⑨">this</a>) 为 true，则返回 <a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                            id="ref-for-a-promise-rejected-with①⑨">一个拒绝的 promise</a>，异常为 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror⑤①">TypeError</a></code>。
                    </p>
                <li data-md>
                    <p>如果 ! <a data-link-type="abstract-op" href="#writable-stream-close-queued-or-in-flight"
                            id="ref-for-writable-stream-close-queued-or-in-flight③">WritableStreamCloseQueuedOrInFlight</a>(<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑧⓪">this</a>) 为 true，则返回 <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                            id="ref-for-a-promise-rejected-with②⓪">一个拒绝的 promise</a>，异常为 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror⑤②">TypeError</a></code>。
                    </p>
                <li data-md>
                    <p>返回 ! <a data-link-type="abstract-op" href="#writable-stream-close"
                            id="ref-for-writable-stream-close">WritableStreamClose</a>(<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑧①">this</a>)。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="getWriter()" data-algorithm-for="WritableStream">
            <dfn class="dfn-paneled idl-code" data-dfn-for="WritableStream" data-dfn-type="method" data-export
                id="ws-get-writer"><code>getWriter()</code></dfn>
            方法的步骤如下：
            <ol>
                <li data-md>
                    <p>返回 ? <a data-link-type="abstract-op" href="#acquire-writable-stream-default-writer"
                            id="ref-for-acquire-writable-stream-default-writer①">AcquireWritableStreamDefaultWriter</a>(<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑧②">this</a>)。</p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="5.2.5" id="ws-transfer"><span class="secno">5.2.5. </span><span
                class="content">通过 <code>postMessage()</code> 进行传递</span><a class="self-link" href="#ws-transfer"></a>
        </h4>
        <dl class="domintro">
            <dt><code>destination.postMessage(ws, { transfer: [ws] });</code>
            <dd>
                <p>将一个 <code
                        class="idl"><a data-link-type="idl" href="#writablestream" id="ref-for-writablestream①④">WritableStream</a></code>
                    发送到另一个 frame、窗口或 worker。</p>
                <p>被传递的流可以像原始流一样使用，原流会变为<a data-link-type="dfn" href="#lock" id="ref-for-lock①⑦">锁定</a>，无法直接使用。</p>
        </dl>
        <div class="algorithm" data-algorithm="WritableStream transfer steps">
            <code
                class="idl"><a data-link-type="idl" href="#writablestream" id="ref-for-writablestream①⑤">WritableStream</a></code>
            对象属于<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/structured-data.html#transferable-objects"
                id="ref-for-transferable-objects②">可传递对象</a>。它们的<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/structured-data.html#transfer-steps"
                id="ref-for-transfer-steps①">传递步骤</a>，以 <var>value</var> 和 <var>dataHolder</var> 为参数如下：
            <ol>
                <li data-md>
                    <p>如果 ! <a data-link-type="abstract-op" href="#is-writable-stream-locked"
                            id="ref-for-is-writable-stream-locked⑥">IsWritableStreamLocked</a>(<var>value</var>) 为
                        true，则抛出 "<code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#datacloneerror" id="ref-for-datacloneerror①">DataCloneError</a></code>"
                        <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①">DOMException</a></code>。
                    </p>
                <li data-md>
                    <p>令 <var>port1</var> 为<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new"
                            id="ref-for-new①②">新建</a>的 <code
                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/web-messaging.html#messageport" id="ref-for-messageport②">MessagePort</a></code>，创建于<a
                            data-link-type="dfn" href="https://tc39.es/ecma262/#current-realm"
                            id="ref-for-current-realm④">当前 Realm</a>。</p>
                <li data-md>
                    <p>令 <var>port2</var> 为<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new"
                            id="ref-for-new①③">新建</a>的 <code
                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/web-messaging.html#messageport" id="ref-for-messageport③">MessagePort</a></code>，创建于<a
                            data-link-type="dfn" href="https://tc39.es/ecma262/#current-realm"
                            id="ref-for-current-realm⑤">当前 Realm</a>。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/web-messaging.html#entangle"
                            id="ref-for-entangle①">绑定</a> <var>port1</var> 和 <var>port2</var>。</p>
                <li data-md>
                    <p>令 <var>readable</var> 为<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new"
                            id="ref-for-new①④">新建</a>的 <code
                            class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream④⑦">ReadableStream</a></code>，创建于<a
                            data-link-type="dfn" href="https://tc39.es/ecma262/#current-realm"
                            id="ref-for-current-realm⑥">当前 Realm</a>。</p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#abstract-opdef-setupcrossrealmtransformreadable"
                            id="ref-for-abstract-opdef-setupcrossrealmtransformreadable①">SetUpCrossRealmTransformReadable</a>(<var>readable</var>,
                        <var>port1</var>)。
                    </p>
                <li data-md>
                    <p>令 <var>promise</var> 为 ! <a data-link-type="abstract-op" href="#readable-stream-pipe-to"
                            id="ref-for-readable-stream-pipe-to③">ReadableStreamPipeTo</a>(<var>readable</var>,
                        <var>value</var>, false, false, false)。
                    </p>
                <li data-md>
                    <p>将 <var>promise</var>.[[PromiseIsHandled]] 设为 true。</p>
                <li data-md>
                    <p>将 <var>dataHolder</var>.[[port]] 设为 ! <a data-link-type="abstract-op"
                            href="https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializewithtransfer"
                            id="ref-for-structuredserializewithtransfer①">StructuredSerializeWithTransfer</a>(<var>port2</var>,
                        « <var>port2</var> »)。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="WritableStream transfer-receiving steps">
            它们的<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/structured-data.html#transfer-receiving-steps"
                id="ref-for-transfer-receiving-steps①">传递接收步骤</a>，以 <var>dataHolder</var> 和 <var>value</var> 为参数如下：
            <ol>
                <li data-md>
                    <p>令 <var>deserializedRecord</var> 为 ! <a data-link-type="abstract-op"
                            href="https://html.spec.whatwg.org/multipage/structured-data.html#structureddeserializewithtransfer"
                            id="ref-for-structureddeserializewithtransfer①">StructuredDeserializeWithTransfer</a>(<var>dataHolder</var>.[[port]],
                        <a data-link-type="dfn" href="https://tc39.es/ecma262/#current-realm"
                            id="ref-for-current-realm⑦">当前 Realm</a>)。
                    </p>
                <li data-md>
                    <p>令 <var>port</var> 为 <var>deserializedRecord</var>.[[Deserialized]]。</p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#abstract-opdef-setupcrossrealmtransformwritable"
                            id="ref-for-abstract-opdef-setupcrossrealmtransformwritable①">SetUpCrossRealmTransformWritable</a>(<var>value</var>,
                        <var>port</var>)。
                    </p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="5.3" id="default-writer-class"><span class="secno">5.3. </span><span
                class="content"><code
                    class="idl"><a data-link-type="idl" href="#writablestreamdefaultwriter" id="ref-for-writablestreamdefaultwriter⑤">WritableStreamDefaultWriter</a></code>
                类</span><a class="self-link" href="#default-writer-class"></a></h3>
        <p><code
                class="idl"><a data-link-type="idl" href="#writablestreamdefaultwriter" id="ref-for-writablestreamdefaultwriter⑥">WritableStreamDefaultWriter</a></code>
            类表示一个<a data-link-type="dfn" href="#writer" id="ref-for-writer④">可写流 writer</a>，用于由 <code
                class="idl"><a data-link-type="idl" href="#writablestream" id="ref-for-writablestream①⑥">WritableStream</a></code>
            实例提供。</p>
        <h4 class="heading settled" data-level="5.3.1" id="default-writer-class-definition"><span class="secno">5.3.1.
            </span><span class="content">接口定义</span><a class="self-link" href="#default-writer-class-definition"></a>
        </h4>
        <p><code
                class="idl"><a data-link-type="idl" href="#writablestreamdefaultwriter" id="ref-for-writablestreamdefaultwriter⑦">WritableStreamDefaultWriter</a></code>
            类的 Web IDL 定义如下：</p>
        <pre class="idl highlight def">[Exposed=*]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="writablestreamdefaultwriter"><code><c- g>WritableStreamDefaultWriter</c-></code></dfn> {
  <a class="idl-code" data-link-type="constructor" href="#default-writer-constructor" id="ref-for-default-writer-constructor"><c- g>constructor</c-></a>(<a data-link-type="idl-name" href="#writablestream" id="ref-for-writablestream①⑦"><c- n>WritableStream</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="WritableStreamDefaultWriter/WritableStreamDefaultWriter(stream), WritableStreamDefaultWriter/constructor(stream)" data-dfn-type="argument" data-export id="dom-writablestreamdefaultwriter-writablestreamdefaultwriter-stream-stream"><code><c- g>stream</c-></code></dfn>);

  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①③"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined②①"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Promise<undefined>" href="#default-writer-closed" id="ref-for-default-writer-closed"><c- g>closed</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double" id="ref-for-idl-unrestricted-double③"><c- b>unrestricted</c-> <c- b>double</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="unrestricted double?" href="#default-writer-desired-size" id="ref-for-default-writer-desired-size⑤"><c- g>desiredSize</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①④"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined②②"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Promise<undefined>" href="#default-writer-ready" id="ref-for-default-writer-ready⑦"><c- g>ready</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①⑤"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined②③"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#default-writer-abort" id="ref-for-default-writer-abort③"><c- g>abort</c-></a>(<c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any①⑥"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="WritableStreamDefaultWriter/abort(reason), WritableStreamDefaultWriter/abort()" data-dfn-type="argument" data-export id="dom-writablestreamdefaultwriter-abort-reason-reason"><code><c- g>reason</c-></code></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①⑥"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined②④"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#default-writer-close" id="ref-for-default-writer-close⑥"><c- g>close</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined②⑤"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#default-writer-release-lock" id="ref-for-default-writer-release-lock①"><c- g>releaseLock</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①⑦"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined②⑥"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#default-writer-write" id="ref-for-default-writer-write①⓪"><c- g>write</c-></a>(<c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any①⑦"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="WritableStreamDefaultWriter/write(chunk), WritableStreamDefaultWriter/write()" data-dfn-type="argument" data-export id="dom-writablestreamdefaultwriter-write-chunk-chunk"><code><c- g>chunk</c-></code></dfn>);
};
</pre>
        <h4 class="heading settled" data-level="5.3.2" id="default-writer-internal-slots"><span class="secno">5.3.2.
            </span><span class="content">内部槽</span><a class="self-link" href="#default-writer-internal-slots"></a></h4>
        <p><code
                class="idl"><a data-link-type="idl" href="#writablestreamdefaultwriter" id="ref-for-writablestreamdefaultwriter⑧">WritableStreamDefaultWriter</a></code>
            的实例在创建时拥有下表描述的内部槽：</p>
        <table>
            <thead>
                <tr>
                    <th>内部槽
                    <th>描述（<em>非规范性</em>）
            <tbody>
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="WritableStreamDefaultWriter" data-dfn-type="dfn"
                            data-noexport id="writablestreamdefaultwriter-closedpromise">[[closedPromise]]</dfn>
                    <td class="non-normative">writer 的 <code
                            class="idl"><a data-link-type="idl" href="#default-writer-closed" id="ref-for-default-writer-closed①">closed</a></code>
                        getter 返回的 promise
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="WritableStreamDefaultWriter" data-dfn-type="dfn"
                            data-noexport id="writablestreamdefaultwriter-readypromise">[[readyPromise]]</dfn>
                    <td class="non-normative">writer 的 <code
                            class="idl"><a data-link-type="idl" href="#default-writer-ready" id="ref-for-default-writer-ready⑧">ready</a></code>
                        getter 返回的 promise
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="WritableStreamDefaultWriter" data-dfn-type="dfn"
                            data-noexport id="writablestreamdefaultwriter-stream">[[stream]]</dfn>
                    <td class="non-normative"><code
                            class="idl"><a data-link-type="idl" href="#writablestream" id="ref-for-writablestream①⑧">WritableStream</a></code>
                        实例，拥有当前 reader
        </table>
        <h4 class="heading settled" data-level="5.3.3" id="default-writer-prototype"><span class="secno">5.3.3.
            </span><span class="content">构造函数、方法和属性</span><a class="self-link" href="#default-writer-prototype"></a>
        </h4>
        <dl class="domintro non-normative">
            <dt><code><var>writer</var> = new <code class="idl"><a data-link-type="idl" href="#default-writer-constructor" id="ref-for-default-writer-constructor①">WritableStreamDefaultWriter</a></code>(<var>stream</var>)</code>
            <dd>
                <p>这等价于调用
                    <code><var>stream</var>.<code class="idl"><a data-link-type="idl" href="#ws-get-writer" id="ref-for-ws-get-writer②">getWriter()</a></code></code>。
                </p>
            <dt><code>await <var>writer</var>.<code class="idl"><a data-link-type="idl" href="#default-writer-closed" id="ref-for-default-writer-closed②">closed</a></code></code>
            <dd>
                <p>返回一个 promise，当流关闭时兑现，如果流发生错误或 writer 的锁<a data-link-type="dfn" href="#release-a-lock"
                        id="ref-for-release-a-lock⑧">已释放</a>且流未完成关闭，则拒绝。</p>
            <dt><code><var>desiredSize</var> = <var>writer</var>.<code class="idl"><a data-link-type="idl" href="#default-writer-desired-size" id="ref-for-default-writer-desired-size⑥">desiredSize</a></code></code>
            <dd>
                <p>返回<a data-link-type="dfn" href="#desired-size-to-fill-a-streams-internal-queue"
                        id="ref-for-desired-size-to-fill-a-streams-internal-queue⑥">内部队列期望填充值</a>。如果队列超满则可能为负值。<a
                        data-link-type="dfn" href="#producer" id="ref-for-producer⑦">生产者</a>可据此判断写入的数据量。</p>
                <p>若流无法正常写入（如已错误或有中止请求），则为 null。若流已关闭，则返回零。若在 writer 的锁<a data-link-type="dfn" href="#release-a-lock"
                        id="ref-for-release-a-lock⑨">释放</a>后调用，则会抛出异常。</p>
            <dt><code>await <var>writer</var>.<code class="idl"><a data-link-type="idl" href="#default-writer-ready" id="ref-for-default-writer-ready⑨">ready</a></code></code>
            <dd>
                <p>返回一个 promise，当<a data-link-type="dfn" href="#desired-size-to-fill-a-streams-internal-queue"
                        id="ref-for-desired-size-to-fill-a-streams-internal-queue⑦">内部队列期望填充值</a>从非正转为正时兑现，表示不再施加<a
                        data-link-type="dfn" href="#backpressure"
                        id="ref-for-backpressure①②">背压</a>。当期望值回落到零或以下时，会返回新的挂起 promise，直到下次变化。</p>
                <p>若流发生错误或中止，或 writer 的锁<a data-link-type="dfn" href="#release-a-lock"
                        id="ref-for-release-a-lock①⓪">释放</a>，返回的 promise 会被拒绝。</p>
            <dt><code>await <var>writer</var>.<code class="idl"><a data-link-type="idl" href="#default-writer-abort" id="ref-for-default-writer-abort④">abort</a></code>([
                <var>reason</var> ])</code>
            <dd>
                <p>若 reader <a data-link-type="dfn" href="#active" id="ref-for-active④">激活</a>，行为与
                    <code><var>stream</var>.<code class="idl"><a data-link-type="idl" href="#ws-abort" id="ref-for-ws-abort④">abort</a></code>(<var>reason</var>)</code>
                    相同。
                </p>
            <dt><code>await <var>writer</var>.<code class="idl"><a data-link-type="idl" href="#default-writer-close" id="ref-for-default-writer-close⑦">close</a></code>()</code>
            <dd>
                <p>如果读取器为 <a data-link-type="dfn" href="#active" id="ref-for-active⑤">活动</a>，行为与
                    <code><var>stream</var>.<code class="idl"><a data-link-type="idl" href="#ws-close" id="ref-for-ws-close②">close</a></code>()</code>
                    相同。
                </p>
            <dt><code><var>writer</var>.<code class="idl"><a data-link-type="idl" href="#default-writer-release-lock" id="ref-for-default-writer-release-lock②">releaseLock</a></code>()</code>
            <dd>
                <p><a data-link-type="dfn" href="#release-a-lock" id="ref-for-release-a-lock①①">释放 writer
                        对流的锁</a>。锁释放后，writer 不再<a data-link-type="dfn" href="#active"
                        id="ref-for-active⑥">激活</a>。若锁释放时流已错误，writer 也会表现为错误状态；否则表现为已关闭。</p>
                <p>注意即使有未完成的写入也可释放锁（即使 <code
                        class="idl"><a data-link-type="idl" href="#default-writer-write" id="ref-for-default-writer-write①①">write()</a></code>
                    返回的 promise 未决）。不需要在整个写入期间持有锁，锁只是为了防止其他<a data-link-type="dfn" href="#producer"
                        id="ref-for-producer⑧">生产者</a>交错写入。</p>
            <dt><code>await <var>writer</var>.<code class="idl"><a data-link-type="idl" href="#default-writer-write" id="ref-for-default-writer-write①②">write</a></code>(<var>chunk</var>)</code>
            <dd>
                <p>将指定<a data-link-type="dfn" href="#chunk" id="ref-for-chunk⑤⑥">数据块</a>写入可写流，会等待前一次写入成功后再发送该<a
                        data-link-type="dfn" href="#chunk" id="ref-for-chunk⑤⑦">数据块</a>到<a data-link-type="dfn"
                        href="#underlying-sink" id="ref-for-underlying-sink②⓪">底层接收器</a>的 <code
                        class="idl"><a data-link-type="idl" href="#dom-underlyingsink-write" id="ref-for-dom-underlyingsink-write③">write()</a></code>
                    方法。返回的 promise 在成功写入后兑现，若写入失败或流在写入前已错误则拒绝。</p>
                <p>注意“成功”由<a data-link-type="dfn" href="#underlying-sink"
                        id="ref-for-underlying-sink②①">底层接收器</a>决定，可能仅表示<a data-link-type="dfn" href="#chunk"
                        id="ref-for-chunk⑤⑧">数据块</a>已被接受，而不一定已安全保存到最终目的地。</p>
                <p id="write-mutable-chunks">若 <var>chunk</var> 可变，<a data-link-type="dfn" href="#producer"
                        id="ref-for-producer⑨">生产者</a>应避免在传递给 <code
                        class="idl"><a data-link-type="idl" href="#default-writer-write" id="ref-for-default-writer-write①③">write()</a></code>
                    后修改其内容，直到 <code
                        class="idl"><a data-link-type="idl" href="#default-writer-write" id="ref-for-default-writer-write①④">write()</a></code>
                    返回的 promise 达到终态。以确保<a data-link-type="dfn" href="#underlying-sink"
                        id="ref-for-underlying-sink②②">底层接收器</a>接收到的是原始值。</p>
        </dl>
        <div class="algorithm" data-algorithm="WritableStreamDefaultWriter(stream)"
            data-algorithm-for="WritableStreamDefaultWriter">
            <dfn class="dfn-paneled idl-code" data-dfn-for="WritableStreamDefaultWriter" data-dfn-type="constructor"
                data-export data-lt="WritableStreamDefaultWriter(stream)|constructor(stream)"
                id="default-writer-constructor"><code>new WritableStreamDefaultWriter(<var>stream</var>)</code></dfn>
            构造函数步骤如下：
            <ol>
                <li data-md>
                    <p>执行 ? <a data-link-type="abstract-op" href="#set-up-writable-stream-default-writer"
                            id="ref-for-set-up-writable-stream-default-writer">SetUpWritableStreamDefaultWriter</a>(<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑧③">this</a>, <var>stream</var>)。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="closed" data-algorithm-for="WritableStreamDefaultWriter">
            <dfn class="dfn-paneled idl-code" data-dfn-for="WritableStreamDefaultWriter" data-dfn-type="attribute"
                data-export id="default-writer-closed"><code>closed</code></dfn>
            属性步骤如下：
            <ol>
                <li data-md>
                    <p>返回 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑧④">this</a>.<a data-link-type="dfn"
                            href="#writablestreamdefaultwriter-closedpromise"
                            id="ref-for-writablestreamdefaultwriter-closedpromise">[[closedPromise]]</a>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="desiredSize" data-algorithm-for="WritableStreamDefaultWriter">
            <dfn class="dfn-paneled idl-code" data-dfn-for="WritableStreamDefaultWriter" data-dfn-type="attribute"
                data-export id="default-writer-desired-size"><code>desiredSize</code></dfn>
            属性步骤如下：
            <ol>
                <li data-md>
                    <p>如果 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑧⑤">this</a>.<a data-link-type="dfn"
                            href="#writablestreamdefaultwriter-stream"
                            id="ref-for-writablestreamdefaultwriter-stream">[[stream]]</a> 为 undefined，抛出 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror⑤③">TypeError</a></code>
                        异常。</p>
                <li data-md>
                    <p>返回 ! <a data-link-type="abstract-op" href="#writable-stream-default-writer-get-desired-size"
                            id="ref-for-writable-stream-default-writer-get-desired-size②">WritableStreamDefaultWriterGetDesiredSize</a>(<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑧⑥">this</a>)。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ready" data-algorithm-for="WritableStreamDefaultWriter">
            <dfn class="dfn-paneled idl-code" data-dfn-for="WritableStreamDefaultWriter" data-dfn-type="attribute"
                data-export id="default-writer-ready"><code>ready</code></dfn>
            属性步骤如下：
            <ol>
                <li data-md>
                    <p>返回 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑧⑦">this</a>.<a data-link-type="dfn"
                            href="#writablestreamdefaultwriter-readypromise"
                            id="ref-for-writablestreamdefaultwriter-readypromise">[[readyPromise]]</a>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="abort(reason)" data-algorithm-for="WritableStreamDefaultWriter">
            <dfn class="dfn-paneled idl-code" data-dfn-for="WritableStreamDefaultWriter" data-dfn-type="method"
                data-export data-lt="abort(reason)|abort()"
                id="default-writer-abort"><code>abort(<var>reason</var>)</code></dfn>
            方法步骤如下：
            <ol>
                <li data-md>
                    <p>如果 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑧⑧">this</a>.<a data-link-type="dfn"
                            href="#writablestreamdefaultwriter-stream"
                            id="ref-for-writablestreamdefaultwriter-stream①">[[stream]]</a> 为 undefined，返回 <a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                            id="ref-for-a-promise-rejected-with②①">一个拒绝的 promise</a>，异常为 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror⑤④">TypeError</a></code>。
                    </p>
                <li data-md>
                    <p>返回 ! <a data-link-type="abstract-op" href="#writable-stream-default-writer-abort"
                            id="ref-for-writable-stream-default-writer-abort">WritableStreamDefaultWriterAbort</a>(<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑧⑨">this</a>, <var>reason</var>)。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="close()" data-algorithm-for="WritableStreamDefaultWriter">
            <dfn class="dfn-paneled idl-code" data-dfn-for="WritableStreamDefaultWriter" data-dfn-type="method"
                data-export id="default-writer-close"><code>close()</code></dfn>
            方法步骤如下：
            <ol>
                <li data-md>
                    <p>令 <var>stream</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑨⓪">this</a>.<a data-link-type="dfn"
                            href="#writablestreamdefaultwriter-stream"
                            id="ref-for-writablestreamdefaultwriter-stream②">[[stream]]</a>。</p>
                <li data-md>
                    <p>如果 <var>stream</var> 为 undefined，返回 <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                            id="ref-for-a-promise-rejected-with②②">一个拒绝的 promise</a>，异常为 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror⑤⑤">TypeError</a></code>。
                    </p>
                <li data-md>
                    <p>如果 ! <a data-link-type="abstract-op" href="#writable-stream-close-queued-or-in-flight"
                            id="ref-for-writable-stream-close-queued-or-in-flight④">WritableStreamCloseQueuedOrInFlight</a>(<var>stream</var>)
                        为 true，返回 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                            id="ref-for-a-promise-rejected-with②③">一个拒绝的 promise</a>，异常为 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror⑤⑥">TypeError</a></code>。
                    </p>
                <li data-md>
                    <p>返回 ! <a data-link-type="abstract-op" href="#writable-stream-default-writer-close"
                            id="ref-for-writable-stream-default-writer-close">WritableStreamDefaultWriterClose</a>(<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑨①">this</a>)。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="releaseLock()" data-algorithm-for="WritableStreamDefaultWriter">
            <dfn class="dfn-paneled idl-code" data-dfn-for="WritableStreamDefaultWriter" data-dfn-type="method"
                data-export id="default-writer-release-lock"><code>releaseLock()</code></dfn>
            方法步骤如下：
            <ol>
                <li data-md>
                    <p>令 <var>stream</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑨②">this</a>.<a data-link-type="dfn"
                            href="#writablestreamdefaultwriter-stream"
                            id="ref-for-writablestreamdefaultwriter-stream③">[[stream]]</a>。</p>
                <li data-md>
                    <p>如果 <var>stream</var> 为 undefined，则返回。</p>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn" href="#writablestream-writer"
                            id="ref-for-writablestream-writer">[[writer]]</a> 不为 undefined。</p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#writable-stream-default-writer-release"
                            id="ref-for-writable-stream-default-writer-release①">WritableStreamDefaultWriterRelease</a>(<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑨③">this</a>)。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="write(chunk)" data-algorithm-for="WritableStreamDefaultWriter">
            <dfn class="dfn-paneled idl-code" data-dfn-for="WritableStreamDefaultWriter" data-dfn-type="method"
                data-export data-lt="write(chunk)|write()"
                id="default-writer-write"><code>write(<var>chunk</var>)</code></dfn>
            方法步骤如下：
            <ol>
                <li data-md>
                    <p>如果 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑨④">this</a>.<a data-link-type="dfn"
                            href="#writablestreamdefaultwriter-stream"
                            id="ref-for-writablestreamdefaultwriter-stream④">[[stream]]</a> 为 undefined，返回 <a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                            id="ref-for-a-promise-rejected-with②④">一个拒绝的 promise</a>，异常为 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror⑤⑦">TypeError</a></code>。
                    </p>
                <li data-md>
                    <p>返回 ! <a data-link-type="abstract-op" href="#writable-stream-default-writer-write"
                            id="ref-for-writable-stream-default-writer-write">WritableStreamDefaultWriterWrite</a>(<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑨⑤">this</a>, <var>chunk</var>)。</p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="5.4" id="ws-default-controller-class"><span class="secno">5.4.
            </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#writablestreamdefaultcontroller" id="ref-for-writablestreamdefaultcontroller④">WritableStreamDefaultController</a></code>
                类</span><a class="self-link" href="#ws-default-controller-class"></a></h3>
        <p><code
                class="idl"><a data-link-type="idl" href="#writablestreamdefaultcontroller" id="ref-for-writablestreamdefaultcontroller⑤">WritableStreamDefaultController</a></code>
            类拥有可用于控制 <code
                class="idl"><a data-link-type="idl" href="#writablestream" id="ref-for-writablestream①⑨">WritableStream</a></code>
            状态的方法。在构造 <code
                class="idl"><a data-link-type="idl" href="#writablestream" id="ref-for-writablestream②⓪">WritableStream</a></code>
            时，
            <a data-link-type="dfn" href="#underlying-sink" id="ref-for-underlying-sink②③">底层接收器</a>会获得一个对应的 <code
                class="idl"><a data-link-type="idl" href="#writablestreamdefaultcontroller" id="ref-for-writablestreamdefaultcontroller⑥">WritableStreamDefaultController</a></code>
            实例用于操作。
        </p>
        <h4 class="heading settled" data-level="5.4.1" id="ws-default-controller-class-definition"><span
                class="secno">5.4.1. </span><span class="content">接口定义</span><a class="self-link"
                href="#ws-default-controller-class-definition"></a></h4>
        <p><code
                class="idl"><a data-link-type="idl" href="#writablestreamdefaultcontroller" id="ref-for-writablestreamdefaultcontroller⑦">WritableStreamDefaultController</a></code>
            类的 Web IDL 定义如下：</p>
        <pre class="idl highlight def">[Exposed=*]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="writablestreamdefaultcontroller"><code><c- g>WritableStreamDefaultController</c-></code></dfn> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#abortsignal" id="ref-for-abortsignal④"><c- n>AbortSignal</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="AbortSignal" href="#ws-default-controller-signal" id="ref-for-ws-default-controller-signal"><c- g>signal</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined②⑦"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#ws-default-controller-error" id="ref-for-ws-default-controller-error"><c- g>error</c-></a>(<c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any①⑧"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="WritableStreamDefaultController/error(e), WritableStreamDefaultController/error()" data-dfn-type="argument" data-export id="dom-writablestreamdefaultcontroller-error-e-e"><code><c- g>e</c-></code></dfn>);
};
</pre>
        <h4 class="heading settled" data-level="5.4.2" id="ws-default-controller-internal-slots"><span
                class="secno">5.4.2. </span><span class="content">内部槽</span><a class="self-link"
                href="#ws-default-controller-internal-slots"></a></h4>
        <p><code
                class="idl"><a data-link-type="idl" href="#writablestreamdefaultcontroller" id="ref-for-writablestreamdefaultcontroller⑧">WritableStreamDefaultController</a></code>
            的实例在创建时拥有下表描述的内部槽：</p>
        <table>
            <thead>
                <tr>
                    <th>内部槽
                    <th>描述（<em>非规范性</em>）
            <tbody>
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="WritableStreamDefaultController" data-dfn-type="dfn"
                            data-noexport id="writablestreamdefaultcontroller-abortalgorithm">[[abortAlgorithm]]</dfn>
                    <td class="non-normative">一个返回 promise 的算法，接收一个参数（中止原因），用于将中止请求传递给 <a data-link-type="dfn"
                            href="#underlying-sink" id="ref-for-underlying-sink②④">底层接收器</a>
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="WritableStreamDefaultController" data-dfn-type="dfn"
                            data-noexport id="writablestreamdefaultcontroller-abortcontroller">[[abortController]]</dfn>
                    <td class="non-normative">一个 <code
                            class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortcontroller" id="ref-for-abortcontroller①">AbortController</a></code>
                        ，可用于在流<a data-link-type="dfn" href="#abort-a-writable-stream"
                            id="ref-for-abort-a-writable-stream⑤">被中止</a>时终止正在进行的写入或关闭操作
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="WritableStreamDefaultController" data-dfn-type="dfn"
                            data-noexport id="writablestreamdefaultcontroller-closealgorithm">[[closeAlgorithm]]</dfn>
                    <td class="non-normative">一个返回 promise 的算法，用于将关闭请求传递给 <a data-link-type="dfn"
                            href="#underlying-sink" id="ref-for-underlying-sink②⑤">底层接收器</a>
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="WritableStreamDefaultController" data-dfn-type="dfn"
                            data-noexport id="writablestreamdefaultcontroller-queue">[[queue]]</dfn>
                    <td class="non-normative">一个<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list"
                            id="ref-for-list①⑦">列表</a>，表示流内部排队的<a data-link-type="dfn" href="#chunk"
                            id="ref-for-chunk⑤⑨">数据块</a>
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="WritableStreamDefaultController" data-dfn-type="dfn"
                            data-noexport id="writablestreamdefaultcontroller-queuetotalsize">[[queueTotalSize]]</dfn>
                    <td class="non-normative">存储于 <a data-link-type="dfn" href="#writablestreamdefaultcontroller-queue"
                            id="ref-for-writablestreamdefaultcontroller-queue">[[queue]]</a> 中所有块的总大小（见 <a
                            href="#queue-with-sizes">§ 8.1 带大小的队列</a>）
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="WritableStreamDefaultController" data-dfn-type="dfn"
                            data-noexport id="writablestreamdefaultcontroller-started">[[started]]</dfn>
                    <td class="non-normative">一个布尔标志，指示 <a data-link-type="dfn" href="#underlying-sink"
                            id="ref-for-underlying-sink②⑥">底层接收器</a>是否已完成初始化
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="WritableStreamDefaultController" data-dfn-type="dfn"
                            data-noexport id="writablestreamdefaultcontroller-strategyhwm">[[strategyHWM]]</dfn>
                    <td class="non-normative">由流创建者作为流<a data-link-type="dfn" href="#queuing-strategy"
                            id="ref-for-queuing-strategy⑤">排队策略</a>一部分提供的数字，表示流何时会对<a data-link-type="dfn"
                            href="#underlying-sink" id="ref-for-underlying-sink②⑦">底层接收器</a>施加<a data-link-type="dfn"
                            href="#backpressure" id="ref-for-backpressure①③">背压</a>
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="WritableStreamDefaultController" data-dfn-type="dfn"
                            data-noexport
                            id="writablestreamdefaultcontroller-strategysizealgorithm">[[strategySizeAlgorithm]]</dfn>
                    <td class="non-normative">用于计算入队<a data-link-type="dfn" href="#chunk"
                            id="ref-for-chunk⑥⓪">数据块</a>大小的算法，属于流的<a data-link-type="dfn" href="#queuing-strategy"
                            id="ref-for-queuing-strategy⑥">排队策略</a>
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="WritableStreamDefaultController" data-dfn-type="dfn"
                            data-noexport id="writablestreamdefaultcontroller-stream">[[stream]]</dfn>
                    <td class="non-normative">被控制的 <code
                            class="idl"><a data-link-type="idl" href="#writablestream" id="ref-for-writablestream②①">WritableStream</a></code>
                        实例
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="WritableStreamDefaultController" data-dfn-type="dfn"
                            data-noexport id="writablestreamdefaultcontroller-writealgorithm">[[writeAlgorithm]]</dfn>
                    <td class="non-normative">一个返回 promise 的算法，接收一个参数（要写入的<a data-link-type="dfn" href="#chunk"
                            id="ref-for-chunk⑥①">数据块</a>），用于将数据写入 <a data-link-type="dfn" href="#underlying-sink"
                            id="ref-for-underlying-sink②⑧">底层接收器</a>
        </table>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="close-sentinel">关闭哨兵</dfn>是一个特殊值，会被入队到 <a
                data-link-type="dfn" href="#writablestreamdefaultcontroller-queue"
                id="ref-for-writablestreamdefaultcontroller-queue①">[[queue]]</a>，代替<a data-link-type="dfn"
                href="#chunk" id="ref-for-chunk⑥②">数据块</a>，用于标记流已关闭。仅内部使用，不会暴露给 Web 开发者。</p>
        <h4 class="heading settled" data-level="5.4.3" id="ws-default-controller-prototype"><span class="secno">5.4.3.
            </span><span class="content">方法和属性</span><a class="self-link" href="#ws-default-controller-prototype"></a>
        </h4>
        <dl class="domintro non-normative">
            <dt><code><var>controller</var>.<code class="idl"><a data-link-type="idl" href="#ws-default-controller-signal" id="ref-for-ws-default-controller-signal①">signal</a></code></code>
            <dd>
                <p>一个 AbortSignal，可用于在流<a data-link-type="dfn" href="#abort-a-writable-stream"
                        id="ref-for-abort-a-writable-stream⑥">被中止</a>时终止正在进行的写入或关闭操作。</p>
            <dt><code><var>controller</var>.<code class="idl"><a data-link-type="idl" href="#ws-default-controller-error" id="ref-for-ws-default-controller-error①">error</a></code>(<var>e</var>)</code>
            <dd>
                <p>关闭被控制的可写流，使之后所有操作都因错误 <var>e</var> 失败。</p>
                <p>该方法很少被使用，通常只需在 <a data-link-type="dfn" href="#underlying-sink"
                        id="ref-for-underlying-sink②⑨">底层接收器</a>的方法返回拒绝的 promise 即可。但在流生命周期外因事件需突然关闭流时，此方法会很有用。</p>
        </dl>
        <div class="algorithm" data-algorithm="signal" data-algorithm-for="WritableStreamDefaultController">
            <dfn class="dfn-paneled idl-code" data-dfn-for="WritableStreamDefaultController" data-dfn-type="attribute"
                data-export id="ws-default-controller-signal"><code>signal</code></dfn> 属性步骤如下：
            <ol>
                <li data-md>
                    <p>返回 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑨⑥">this</a>.<a data-link-type="dfn"
                            href="#writablestreamdefaultcontroller-abortcontroller"
                            id="ref-for-writablestreamdefaultcontroller-abortcontroller">[[abortController]]</a> 的 <a
                            data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortcontroller-signal"
                            id="ref-for-abortcontroller-signal">signal</a>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="error(e)" data-algorithm-for="WritableStreamDefaultController">
            <dfn class="dfn-paneled idl-code" data-dfn-for="WritableStreamDefaultController" data-dfn-type="method"
                data-export data-lt="error(e)|error()"
                id="ws-default-controller-error"><code>error(<var>e</var>)</code></dfn> 方法步骤如下：
            <ol>
                <li data-md>
                    <p>令 <var>state</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑨⑦">this</a>.<a data-link-type="dfn"
                            href="#writablestreamdefaultcontroller-stream"
                            id="ref-for-writablestreamdefaultcontroller-stream">[[stream]]</a>.<a data-link-type="dfn"
                            href="#writablestream-state" id="ref-for-writablestream-state⑤">[[state]]</a>。</p>
                <li data-md>
                    <p>如果 <var>state</var> 不是 "<code>writable</code>"，则返回。</p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#writable-stream-default-controller-error"
                            id="ref-for-writable-stream-default-controller-error">WritableStreamDefaultControllerError</a>(<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑨⑧">this</a>, <var>e</var>)。</p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="5.4.4" id="ws-default-controller-internal-methods"><span
                class="secno">5.4.4. </span><span class="content">内部方法</span><a class="self-link"
                href="#ws-default-controller-internal-methods"></a></h4>
        <p>以下为每个 <code
                class="idl"><a data-link-type="idl" href="#writablestreamdefaultcontroller" id="ref-for-writablestreamdefaultcontroller⑨">WritableStreamDefaultController</a></code>
            实例实现的内部方法， 可写流实现会调用这些方法。</p>
        <p class="note" role="note">这些以方法形式而不是抽象操作出现，是为了明确可写流实现与控制器实现解耦，未来可扩展为其他控制器，只要这些控制器实现相应内部方法。类似情况见可读流（参见 <a
                href="#rs-abstract-ops-used-by-controllers">§ 4.9.2 与控制器接口</a>），实际有多种控制器类型，因此内部方法多态使用。</p>
        <div class="algorithm" data-algorithm="[[AbortSteps]]" data-algorithm-for="WritableStreamDefaultController">
            <dfn class="dfn-paneled" data-dfn-for="WritableStreamDefaultController" data-dfn-type="abstract-op"
                data-export data-lt="[[AbortSteps]]" id="ws-default-controller-private-abort"><span class="bs-old-id"
                    id="writable-stream-default-controller-abort"></span>[[AbortSteps]](<var>reason</var>)</dfn>
            实现 <a data-link-type="abstract-op" href="#abstract-opdef-writablestreamcontroller-abortsteps"
                id="ref-for-abstract-opdef-writablestreamcontroller-abortsteps">[[AbortSteps]]</a> 合约。其步骤如下：
            <ol>
                <li data-md>
                    <p>令 <var>result</var> 为执行 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑨⑨">this</a>.<a data-link-type="dfn"
                            href="#writablestreamdefaultcontroller-abortalgorithm"
                            id="ref-for-writablestreamdefaultcontroller-abortalgorithm">[[abortAlgorithm]]</a>，传入
                        <var>reason</var> 的结果。
                    </p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#writable-stream-default-controller-clear-algorithms"
                            id="ref-for-writable-stream-default-controller-clear-algorithms">WritableStreamDefaultControllerClearAlgorithms</a>(<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this①⓪⓪">this</a>)。</p>
                <li data-md>
                    <p>返回 <var>result</var>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="[[ErrorSteps]]" data-algorithm-for="WritableStreamDefaultController">
            <dfn class="dfn-paneled" data-dfn-for="WritableStreamDefaultController" data-dfn-type="abstract-op"
                data-export data-lt="[[ErrorSteps]]" id="ws-default-controller-private-error">[[ErrorSteps]]()</dfn>
            实现 <a data-link-type="abstract-op" href="#abstract-opdef-writablestreamcontroller-errorsteps"
                id="ref-for-abstract-opdef-writablestreamcontroller-errorsteps">[[ErrorSteps]]</a> 合约。其步骤如下：
            <ol>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#reset-queue"
                            id="ref-for-reset-queue⑥">ResetQueue</a>(<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⓪①">this</a>)。</p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="5.5" id="ws-all-abstract-ops"><span class="secno">5.5. </span><span
                class="content">抽象操作</span><a class="self-link" href="#ws-all-abstract-ops"></a></h3>
        <h4 class="heading settled" data-level="5.5.1" id="ws-abstract-ops"><span class="secno">5.5.1. </span><span
                class="content">可写流相关操作</span><a class="self-link" href="#ws-abstract-ops"></a>
        </h4>
        <p>以下抽象操作用于在更高层次上操作 <code
                class="idl"><a data-link-type="idl" href="#writablestream" id="ref-for-writablestream②②">WritableStream</a></code>
            实例。</p>
        <div class="algorithm" data-algorithm="AcquireWritableStreamDefaultWriter">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="AcquireWritableStreamDefaultWriter"
                id="acquire-writable-stream-default-writer">AcquireWritableStreamDefaultWriter(<var>stream</var>)</dfn>
            步骤如下：
            <ol>
                <li data-md>
                    <p>令 <var>writer</var> 为一个 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new"
                            id="ref-for-new①⑤">新建</a>的 <code
                            class="idl"><a data-link-type="idl" href="#writablestreamdefaultwriter" id="ref-for-writablestreamdefaultwriter⑨">WritableStreamDefaultWriter</a></code>。
                    </p>
                <li data-md>
                    <p>执行 ? <a data-link-type="abstract-op" href="#set-up-writable-stream-default-writer"
                            id="ref-for-set-up-writable-stream-default-writer①">SetUpWritableStreamDefaultWriter</a>(<var>writer</var>,
                        <var>stream</var>)。
                    </p>
                <li data-md>
                    <p>返回 <var>writer</var>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="CreateWritableStream">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="CreateWritableStream"
                id="create-writable-stream">CreateWritableStream(<var>startAlgorithm</var>, <var>writeAlgorithm</var>,
                <var>closeAlgorithm</var>, <var>abortAlgorithm</var>, <var>highWaterMark</var>,
                <var>sizeAlgorithm</var>)</dfn> 步骤如下：
            <ol>
                <li data-md>
                    <p class="assertion">断言：! <a data-link-type="abstract-op" href="#is-non-negative-number"
                            id="ref-for-is-non-negative-number①">IsNonNegativeNumber</a>(<var>highWaterMark</var>) 为
                        true。</p>
                <li data-md>
                    <p>令 <var>stream</var> 为一个 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new"
                            id="ref-for-new①⑥">新建</a>的 <code
                            class="idl"><a data-link-type="idl" href="#writablestream" id="ref-for-writablestream②③">WritableStream</a></code>。
                    </p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#initialize-writable-stream"
                            id="ref-for-initialize-writable-stream①">InitializeWritableStream</a>(<var>stream</var>)。
                    </p>
                <li data-md>
                    <p>令 <var>controller</var> 为一个 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new"
                            id="ref-for-new①⑦">新建</a>的 <code
                            class="idl"><a data-link-type="idl" href="#writablestreamdefaultcontroller" id="ref-for-writablestreamdefaultcontroller①⓪">WritableStreamDefaultController</a></code>。
                    </p>
                <li data-md>
                    <p>执行 ? <a data-link-type="abstract-op" href="#set-up-writable-stream-default-controller"
                            id="ref-for-set-up-writable-stream-default-controller">SetUpWritableStreamDefaultController</a>(<var>stream</var>,
                        <var>controller</var>, <var>startAlgorithm</var>, <var>writeAlgorithm</var>,
                        <var>closeAlgorithm</var>, <var>abortAlgorithm</var>, <var>highWaterMark</var>,
                        <var>sizeAlgorithm</var>)。
                    </p>
                <li data-md>
                    <p>返回 <var>stream</var>。</p>
            </ol>
            <p class="note" role="note">该抽象操作仅在 <var>startAlgorithm</var> 抛出异常时才会抛出异常。</p>
        </div>
        <div class="algorithm" data-algorithm="InitializeWritableStream">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="InitializeWritableStream"
                id="initialize-writable-stream">InitializeWritableStream(<var>stream</var>)</dfn> 步骤如下：
            <ol>
                <li data-md>
                    <p>将 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-state"
                            id="ref-for-writablestream-state⑥">[[state]]</a> 设为 "<code>writable</code>"。</p>
                <li data-md>
                    <p>将 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-storederror"
                            id="ref-for-writablestream-storederror③">[[storedError]]</a>、<var>stream</var>.<a
                            data-link-type="dfn" href="#writablestream-writer"
                            id="ref-for-writablestream-writer①">[[writer]]</a>、<var>stream</var>.<a data-link-type="dfn"
                            href="#writablestream-controller"
                            id="ref-for-writablestream-controller">[[controller]]</a>、<var>stream</var>.<a
                            data-link-type="dfn" href="#writablestream-inflightwriterequest"
                            id="ref-for-writablestream-inflightwriterequest①">[[inFlightWriteRequest]]</a>、
                        <var>stream</var>.<a data-link-type="dfn" href="#writablestream-closerequest"
                            id="ref-for-writablestream-closerequest①">[[closeRequest]]</a>、<var>stream</var>.<a
                            data-link-type="dfn" href="#writablestream-inflightcloserequest"
                            id="ref-for-writablestream-inflightcloserequest①">[[inFlightCloseRequest]]</a> 和
                        <var>stream</var>.<a data-link-type="dfn" href="#writablestream-pendingabortrequest"
                            id="ref-for-writablestream-pendingabortrequest">[[pendingAbortRequest]]</a> 设为 undefined。
                    </p>
                <li data-md>
                    <p>将 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-writerequests"
                            id="ref-for-writablestream-writerequests①">[[writeRequests]]</a> 设为一个新的空<a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①⑧">列表</a>。
                    </p>
                <li data-md>
                    <p>将 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-backpressure"
                            id="ref-for-writablestream-backpressure">[[backpressure]]</a> 设为 false。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="IsWritableStreamLocked">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="IsWritableStreamLocked"
                id="is-writable-stream-locked">IsWritableStreamLocked(<var>stream</var>)</dfn> 步骤如下：
            <ol>
                <li data-md>
                    <p>如果 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-writer"
                            id="ref-for-writablestream-writer②">[[writer]]</a> 为 undefined，则返回 false。</p>
                <li data-md>
                    <p>返回 true。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="SetUpWritableStreamDefaultWriter">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="SetUpWritableStreamDefaultWriter"
                id="set-up-writable-stream-default-writer">SetUpWritableStreamDefaultWriter(<var>writer</var>,
                <var>stream</var>)</dfn> 步骤如下：
            <ol>
                <li data-md>
                    <p>如果 ! <a data-link-type="abstract-op" href="#is-writable-stream-locked"
                            id="ref-for-is-writable-stream-locked⑦">IsWritableStreamLocked</a>(<var>stream</var>) 为
                        true，则抛出 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror⑤⑧">TypeError</a></code>
                        异常。</p>
                <li data-md>
                    <p>将 <var>writer</var>.<a data-link-type="dfn" href="#writablestreamdefaultwriter-stream"
                            id="ref-for-writablestreamdefaultwriter-stream⑤">[[stream]]</a> 设为 <var>stream</var>。</p>
                <li data-md>
                    <p>将 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-writer"
                            id="ref-for-writablestream-writer③">[[writer]]</a> 设为 <var>writer</var>。</p>
                <li data-md>
                    <p>令 <var>state</var> 为 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-state"
                            id="ref-for-writablestream-state⑦">[[state]]</a>。</p>
                <li data-md>
                    <p>如果 <var>state</var> 为 "<code>writable</code>"，</p>
                    <ol>
                        <li data-md>
                            <p>如果 ! <a data-link-type="abstract-op" href="#writable-stream-close-queued-or-in-flight"
                                    id="ref-for-writable-stream-close-queued-or-in-flight⑤">WritableStreamCloseQueuedOrInFlight</a>(<var>stream</var>)
                                为 false 且 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-backpressure"
                                    id="ref-for-writablestream-backpressure①">[[backpressure]]</a> 为 true，则将
                                <var>writer</var>.<a data-link-type="dfn"
                                    href="#writablestreamdefaultwriter-readypromise"
                                    id="ref-for-writablestreamdefaultwriter-readypromise①">[[readyPromise]]</a> 设为一个<a
                                    data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                                    id="ref-for-a-new-promise⑦">新的 promise</a>。
                            </p>
                        <li data-md>
                            <p>否则，将 <var>writer</var>.<a data-link-type="dfn"
                                    href="#writablestreamdefaultwriter-readypromise"
                                    id="ref-for-writablestreamdefaultwriter-readypromise②">[[readyPromise]]</a> 设为<a
                                    data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                                    id="ref-for-a-promise-resolved-with②⓪">已解决的 promise</a>，值为 undefined。</p>
                        <li data-md>
                            <p>将 <var>writer</var>.<a data-link-type="dfn"
                                    href="#writablestreamdefaultwriter-closedpromise"
                                    id="ref-for-writablestreamdefaultwriter-closedpromise①">[[closedPromise]]</a> 设为<a
                                    data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                                    id="ref-for-a-new-promise⑧">新的 promise</a>。</p>
                    </ol>
                <li data-md>
                    <p>否则如果 <var>state</var> 为 "<code>erroring</code>"，</p>
                    <ol>
                        <li data-md>
                            <p>将 <var>writer</var>.<a data-link-type="dfn"
                                    href="#writablestreamdefaultwriter-readypromise"
                                    id="ref-for-writablestreamdefaultwriter-readypromise③">[[readyPromise]]</a> 设为<a
                                    data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                                    id="ref-for-a-promise-rejected-with②⑤">拒绝的 promise</a>，原因为
                                <var>stream</var>.<a data-link-type="dfn" href="#writablestream-storederror"
                                    id="ref-for-writablestream-storederror④">[[storedError]]</a>。
                            </p>
                        <li data-md>
                            <p>将 <var>writer</var>.<a data-link-type="dfn"
                                    href="#writablestreamdefaultwriter-readypromise"
                                    id="ref-for-writablestreamdefaultwriter-readypromise④">[[readyPromise]]</a>.[[PromiseIsHandled]]
                                设为 true。</p>
                        <li data-md>
                            <p>将 <var>writer</var>.<a data-link-type="dfn"
                                    href="#writablestreamdefaultwriter-closedpromise"
                                    id="ref-for-writablestreamdefaultwriter-closedpromise②">[[closedPromise]]</a> 设为<a
                                    data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                                    id="ref-for-a-new-promise⑨">新的 promise</a>。</p>
                    </ol>
                <li data-md>
                    <p>否则如果 <var>state</var> 为 "<code>closed</code>"，</p>
                    <ol>
                        <li data-md>
                            <p>将 <var>writer</var>.<a data-link-type="dfn"
                                    href="#writablestreamdefaultwriter-readypromise"
                                    id="ref-for-writablestreamdefaultwriter-readypromise⑤">[[readyPromise]]</a> 设为<a
                                    data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                                    id="ref-for-a-promise-resolved-with②①">已解决的 promise</a>，值为 undefined。</p>
                        <li data-md>
                            <p>将 <var>writer</var>.<a data-link-type="dfn"
                                    href="#writablestreamdefaultwriter-closedpromise"
                                    id="ref-for-writablestreamdefaultwriter-closedpromise③">[[closedPromise]]</a> 设为<a
                                    data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                                    id="ref-for-a-promise-resolved-with②②">已解决的 promise</a>，值为 undefined。</p>
                    </ol>
                <li data-md>
                    <p>否则，</p>
                    <ol>
                        <li data-md>
                            <p class="assertion">断言：<var>state</var> 为 "<code>errored</code>"。</p>
                        <li data-md>
                            <p>令 <var>storedError</var> 为 <var>stream</var>.<a data-link-type="dfn"
                                    href="#writablestream-storederror"
                                    id="ref-for-writablestream-storederror⑤">[[storedError]]</a>。</p>
                        <li data-md>
                            <p>将 <var>writer</var>.<a data-link-type="dfn"
                                    href="#writablestreamdefaultwriter-readypromise"
                                    id="ref-for-writablestreamdefaultwriter-readypromise⑥">[[readyPromise]]</a> 设为<a
                                    data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                                    id="ref-for-a-promise-rejected-with②⑥">拒绝的 promise</a>，原因为 <var>storedError</var>。
                            </p>
                        <li data-md>
                            <p>将 <var>writer</var>.<a data-link-type="dfn"
                                    href="#writablestreamdefaultwriter-readypromise"
                                    id="ref-for-writablestreamdefaultwriter-readypromise⑦">[[readyPromise]]</a>.[[PromiseIsHandled]]
                                设为 true。</p>
                        <li data-md>
                            <p>将 <var>writer</var>.<a data-link-type="dfn"
                                    href="#writablestreamdefaultwriter-closedpromise"
                                    id="ref-for-writablestreamdefaultwriter-closedpromise④">[[closedPromise]]</a> 设为<a
                                    data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                                    id="ref-for-a-promise-rejected-with②⑦">拒绝的 promise</a>，原因为 <var>storedError</var>。
                            </p>
                        <li data-md>
                            <p>将 <var>writer</var>.<a data-link-type="dfn"
                                    href="#writablestreamdefaultwriter-closedpromise"
                                    id="ref-for-writablestreamdefaultwriter-closedpromise⑤">[[closedPromise]]</a>.[[PromiseIsHandled]]
                                设为 true。</p>
                    </ol>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="WritableStreamAbort">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="WritableStreamAbort"
                id="writable-stream-abort">WritableStreamAbort(<var>stream</var>, <var>reason</var>)</dfn> 步骤如下：
            <ol>
                <li data-md>
                    <p>如果 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-state"
                            id="ref-for-writablestream-state⑧">[[state]]</a> 为 "<code>closed</code>" 或
                        "<code>errored</code>"，返回<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                            id="ref-for-a-promise-resolved-with②③">已解决的 promise</a>，值为 undefined。</p>
                <li data-md>
                    <p>在 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-controller"
                            id="ref-for-writablestream-controller①">[[controller]]</a>.<a data-link-type="dfn"
                            href="#writablestreamdefaultcontroller-abortcontroller"
                            id="ref-for-writablestreamdefaultcontroller-abortcontroller①">[[abortController]]</a> 上用
                        <var>reason</var> <a data-link-type="dfn"
                            href="https://dom.spec.whatwg.org/#abortcontroller-signal-abort"
                            id="ref-for-abortcontroller-signal-abort">发出中止信号</a>。
                    </p>
                <li data-md>
                    <p>令 <var>state</var> 为 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-state"
                            id="ref-for-writablestream-state⑨">[[state]]</a>。</p>
                <li data-md>
                    <p>如果 <var>state</var> 为 "<code>closed</code>" 或 "<code>errored</code>"，返回<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                            id="ref-for-a-promise-resolved-with②④">已解决的 promise</a>，值为 undefined。</p>
                    <p class="note" role="note">我们需要再次检查状态，因为 <a data-link-type="dfn"
                            href="https://dom.spec.whatwg.org/#abortcontroller-signal-abort"
                            id="ref-for-abortcontroller-signal-abort①">发出中止信号</a> 会运行作者代码，状态可能会被改变。</p>
                <li data-md>
                    <p>如果 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-pendingabortrequest"
                            id="ref-for-writablestream-pendingabortrequest①">[[pendingAbortRequest]]</a> 不为
                        undefined，则返回 <var>stream</var>.<a data-link-type="dfn"
                            href="#writablestream-pendingabortrequest"
                            id="ref-for-writablestream-pendingabortrequest②">[[pendingAbortRequest]]</a> 的 <a
                            data-link-type="dfn" href="#pending-abort-request-promise"
                            id="ref-for-pending-abort-request-promise">promise</a>。</p>
                <li data-md>
                    <p class="assertion">断言：<var>state</var> 为 "<code>writable</code>" 或 "<code>erroring</code>"。</p>
                <li data-md>
                    <p>令 <var>wasAlreadyErroring</var> 为 false。</p>
                <li data-md>
                    <p>如果 <var>state</var> 为 "<code>erroring</code>"，</p>
                    <ol>
                        <li data-md>
                            <p>将 <var>wasAlreadyErroring</var> 设为 true。</p>
                        <li data-md>
                            <p>将 <var>reason</var> 设为 undefined。</p>
                    </ol>
                <li data-md>
                    <p>令 <var>promise</var> 为<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise①⓪">新的
                            promise</a>。</p>
                <li data-md>
                    <p>将 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-pendingabortrequest"
                            id="ref-for-writablestream-pendingabortrequest③">[[pendingAbortRequest]]</a> 设为一个新的 <a
                            data-link-type="dfn" href="#pending-abort-request"
                            id="ref-for-pending-abort-request①">待中止请求</a>，其 <a data-link-type="dfn"
                            href="#pending-abort-request-promise"
                            id="ref-for-pending-abort-request-promise①">promise</a> 为 <var>promise</var>，<a
                            data-link-type="dfn" href="#pending-abort-request-reason"
                            id="ref-for-pending-abort-request-reason">reason</a> 为 <var>reason</var>，<a
                            data-link-type="dfn" href="#pending-abort-request-was-already-erroring"
                            id="ref-for-pending-abort-request-was-already-erroring">was already erroring</a> 为
                        <var>wasAlreadyErroring</var>。
                    </p>
                <li data-md>
                    <p>如果 <var>wasAlreadyErroring</var> 为 false，执行 ! <a data-link-type="abstract-op"
                            href="#writable-stream-start-erroring"
                            id="ref-for-writable-stream-start-erroring">WritableStreamStartErroring</a>(<var>stream</var>,
                        <var>reason</var>)。
                    </p>
                <li data-md>
                    <p>返回 <var>promise</var>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="WritableStreamClose">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="WritableStreamClose"
                id="writable-stream-close">WritableStreamClose(<var>stream</var>)</dfn> 步骤如下：
            <ol>
                <li data-md>
                    <p>令 <var>state</var> 为 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-state"
                            id="ref-for-writablestream-state①⓪">[[state]]</a>。</p>
                <li data-md>
                    <p>如果 <var>state</var> 为 "<code>closed</code>" 或 "<code>errored</code>"，返回<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                            id="ref-for-a-promise-rejected-with②⑧">拒绝的 promise</a>，异常为 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror⑤⑨">TypeError</a></code>。
                    </p>
                <li data-md>
                    <p class="assertion">断言：<var>state</var> 为 "<code>writable</code>" 或 "<code>erroring</code>"。</p>
                <li data-md>
                    <p class="assertion">断言：! <a data-link-type="abstract-op"
                            href="#writable-stream-close-queued-or-in-flight"
                            id="ref-for-writable-stream-close-queued-or-in-flight⑥">WritableStreamCloseQueuedOrInFlight</a>(<var>stream</var>)
                        为 false。</p>
                <li data-md>
                    <p>令 <var>promise</var> 为<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise①①">新的
                            promise</a>。</p>
                <li data-md>
                    <p>将 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-closerequest"
                            id="ref-for-writablestream-closerequest②">[[closeRequest]]</a> 设为 <var>promise</var>。</p>
                <li data-md>
                    <p>令 <var>writer</var> 为 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-writer"
                            id="ref-for-writablestream-writer④">[[writer]]</a>。</p>
                <li data-md>
                    <p>如果 <var>writer</var> 不为 undefined，且 <var>stream</var>.<a data-link-type="dfn"
                            href="#writablestream-backpressure"
                            id="ref-for-writablestream-backpressure②">[[backpressure]]</a> 为 true，并且 <var>state</var> 为
                        "<code>writable</code>"，则用 undefined <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve②⓪">解决</a>
                        <var>writer</var>.<a data-link-type="dfn" href="#writablestreamdefaultwriter-readypromise"
                            id="ref-for-writablestreamdefaultwriter-readypromise⑧">[[readyPromise]]</a>。
                    </p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#writable-stream-default-controller-close"
                            id="ref-for-writable-stream-default-controller-close">WritableStreamDefaultControllerClose</a>(<var>stream</var>.<a
                            data-link-type="dfn" href="#writablestream-controller"
                            id="ref-for-writablestream-controller②">[[controller]]</a>)。</p>
                <li data-md>
                    <p>返回 <var>promise</var>。</p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="5.5.2" id="ws-abstract-ops-used-by-controllers"><span
                class="secno">5.5.2. </span><span class="content">与控制器的接口</span><a class="self-link"
                href="#ws-abstract-ops-used-by-controllers"></a></h4>
        <p>为了将来能够灵活地添加不同的可写流行为（类似于默认可读流与<a data-link-type="dfn" href="#readable-byte-stream"
                id="ref-for-readable-byte-stream①④">可读字节流</a>的区别），<a data-link-type="dfn" href="#writable-stream"
                id="ref-for-writable-stream⑦">可写流</a>的大部分内部状态由 <code
                class="idl"><a data-link-type="idl" href="#writablestreamdefaultcontroller" id="ref-for-writablestreamdefaultcontroller①①">WritableStreamDefaultController</a></code>
            类进行封装。</p>
        <p>每个控制器类都定义了两个内部方法，由 <code
                class="idl"><a data-link-type="idl" href="#writablestream" id="ref-for-writablestream②④">WritableStream</a></code>
            算法调用：</p>
        <dl>
            <dt><dfn class="dfn-paneled" data-dfn-for="WritableStreamController" data-dfn-type="abstract-op" data-export
                    data-lt="[[AbortSteps]]"
                    id="abstract-opdef-writablestreamcontroller-abortsteps">[[AbortSteps]](<var>reason</var>)</dfn>
            <dd>控制器在流<a data-link-type="dfn" href="#abort-a-writable-stream"
                    id="ref-for-abort-a-writable-stream⑦">中止</a>时运行的步骤，用于清理控制器中存储的状态并通知<a data-link-type="dfn"
                    href="#underlying-sink" id="ref-for-underlying-sink③①">底层接收器</a>。
            <dt><dfn class="dfn-paneled" data-dfn-for="WritableStreamController" data-dfn-type="abstract-op" data-export
                    data-lt="[[ErrorSteps]]"
                    id="abstract-opdef-writablestreamcontroller-errorsteps">[[ErrorSteps]]()</dfn>
            <dd>控制器在流出错时运行的步骤，用于清理控制器中存储的状态。
        </dl>
        <p>（这些被定义为内部方法，而不是抽象操作，是为了允许 <code
                class="idl"><a data-link-type="idl" href="#writablestream" id="ref-for-writablestream②⑤">WritableStream</a></code>
            算法以多态方式调用，无需区分当前控制器的类型。目前只有 <code
                class="idl"><a data-link-type="idl" href="#writablestreamdefaultcontroller" id="ref-for-writablestreamdefaultcontroller①②">WritableStreamDefaultController</a></code>，但这种设计为未来扩展留下了空间。）
        </p>
        <p>本节剩余部分关注控制器反向调用可写流对象的抽象操作。控制器通过这些操作影响其关联的 <code
                class="idl"><a data-link-type="idl" href="#writablestream" id="ref-for-writablestream②⑥">WritableStream</a></code>
            ，将内部状态变化转化为开发者可见的 <code
                class="idl"><a data-link-type="idl" href="#writablestream" id="ref-for-writablestream②⑦">WritableStream</a></code>
            公共 API 行为。</p>
        <div class="algorithm" data-algorithm="WritableStreamAddWriteRequest">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="WritableStreamAddWriteRequest"
                id="writable-stream-add-write-request">WritableStreamAddWriteRequest(<var>stream</var>)</dfn> 步骤如下：
            <ol>
                <li data-md>
                    <p class="assertion">断言：! <a data-link-type="abstract-op" href="#is-writable-stream-locked"
                            id="ref-for-is-writable-stream-locked⑧">IsWritableStreamLocked</a>(<var>stream</var>) 为
                        true。</p>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn" href="#writablestream-state"
                            id="ref-for-writablestream-state①①">[[state]]</a> 为 "<code>writable</code>"。</p>
                <li data-md>
                    <p>令 <var>promise</var> 为<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise①②">新的
                            promise</a>。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                            id="ref-for-list-append⑧">追加</a> <var>promise</var> 到 <var>stream</var>.<a
                            data-link-type="dfn" href="#writablestream-writerequests"
                            id="ref-for-writablestream-writerequests②">[[writeRequests]]</a>。</p>
                <li data-md>
                    <p>返回 <var>promise</var>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="WritableStreamCloseQueuedOrInFlight">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="WritableStreamCloseQueuedOrInFlight"
                id="writable-stream-close-queued-or-in-flight">WritableStreamCloseQueuedOrInFlight(<var>stream</var>)</dfn>
            步骤如下：
            <ol>
                <li data-md>
                    <p>如果 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-closerequest"
                            id="ref-for-writablestream-closerequest③">[[closeRequest]]</a> 为 undefined 且
                        <var>stream</var>.<a data-link-type="dfn" href="#writablestream-inflightcloserequest"
                            id="ref-for-writablestream-inflightcloserequest②">[[inFlightCloseRequest]]</a> 为
                        undefined，则返回 false。
                    </p>
                <li data-md>
                    <p>返回 true。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="WritableStreamDealWithRejection">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="WritableStreamDealWithRejection"
                id="writable-stream-deal-with-rejection">WritableStreamDealWithRejection(<var>stream</var>,
                <var>error</var>)</dfn> 步骤如下：
            <ol>
                <li data-md>
                    <p>令 <var>state</var> 为 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-state"
                            id="ref-for-writablestream-state①②">[[state]]</a>。</p>
                <li data-md>
                    <p>如果 <var>state</var> 为 "<code>writable</code>"，</p>
                    <ol>
                        <li data-md>
                            <p>执行 ! <a data-link-type="abstract-op" href="#writable-stream-start-erroring"
                                    id="ref-for-writable-stream-start-erroring①">WritableStreamStartErroring</a>(<var>stream</var>,
                                <var>error</var>)。
                            </p>
                        <li data-md>
                            <p>返回。</p>
                    </ol>
                <li data-md>
                    <p class="assertion">断言：<var>state</var> 为 "<code>erroring</code>"。</p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#writable-stream-finish-erroring"
                            id="ref-for-writable-stream-finish-erroring">WritableStreamFinishErroring</a>(<var>stream</var>)。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="WritableStreamFinishErroring">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="WritableStreamFinishErroring"
                id="writable-stream-finish-erroring">WritableStreamFinishErroring(<var>stream</var>)</dfn> 步骤如下：
            <ol>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn" href="#writablestream-state"
                            id="ref-for-writablestream-state①③">[[state]]</a> 为 "<code>erroring</code>"。</p>
                <li data-md>
                    <p class="assertion">断言：! <a data-link-type="abstract-op"
                            href="#writable-stream-has-operation-marked-in-flight"
                            id="ref-for-writable-stream-has-operation-marked-in-flight">WritableStreamHasOperationMarkedInFlight</a>(<var>stream</var>)
                        为 false。</p>
                <li data-md>
                    <p>将 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-state"
                            id="ref-for-writablestream-state①④">[[state]]</a> 设为 "<code>errored</code>"。</p>
                <li data-md>
                    <p>执行 ! <var>stream</var>.<a data-link-type="dfn" href="#writablestream-controller"
                            id="ref-for-writablestream-controller③">[[controller]]</a>.<a data-link-type="abstract-op"
                            href="#abstract-opdef-writablestreamcontroller-errorsteps"
                            id="ref-for-abstract-opdef-writablestreamcontroller-errorsteps①">[[ErrorSteps]]</a>()。</p>
                <li data-md>
                    <p>令 <var>storedError</var> 为 <var>stream</var>.<a data-link-type="dfn"
                            href="#writablestream-storederror"
                            id="ref-for-writablestream-storederror⑥">[[storedError]]</a>。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                            id="ref-for-list-iterate⑧">遍历</a> <var>stream</var>.<a data-link-type="dfn"
                            href="#writablestream-writerequests"
                            id="ref-for-writablestream-writerequests③">[[writeRequests]]</a> 中的每个
                        <var>writeRequest</var>：
                    </p>
                    <ol>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                    id="ref-for-reject⑥">拒绝</a> <var>writeRequest</var>，原因为 <var>storedError</var>。</p>
                    </ol>
                <li data-md>
                    <p>将 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-writerequests"
                            id="ref-for-writablestream-writerequests④">[[writeRequests]]</a> 设为空<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#list" id="ref-for-list①⑨">列表</a>。</p>
                <li data-md>
                    <p>如果 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-pendingabortrequest"
                            id="ref-for-writablestream-pendingabortrequest④">[[pendingAbortRequest]]</a> 为 undefined，
                    </p>
                    <ol>
                        <li data-md>
                            <p>执行 ! <a data-link-type="abstract-op"
                                    href="#writable-stream-reject-close-and-closed-promise-if-needed"
                                    id="ref-for-writable-stream-reject-close-and-closed-promise-if-needed">WritableStreamRejectCloseAndClosedPromiseIfNeeded</a>(<var>stream</var>)。
                            </p>
                        <li data-md>
                            <p>返回。</p>
                    </ol>
                <li data-md>
                    <p>令 <var>abortRequest</var> 为 <var>stream</var>.<a data-link-type="dfn"
                            href="#writablestream-pendingabortrequest"
                            id="ref-for-writablestream-pendingabortrequest⑤">[[pendingAbortRequest]]</a>。</p>
                <li data-md>
                    <p>将 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-pendingabortrequest"
                            id="ref-for-writablestream-pendingabortrequest⑥">[[pendingAbortRequest]]</a> 设为 undefined。
                    </p>
                <li data-md>
                    <p>如果 <var>abortRequest</var> 的 <a data-link-type="dfn"
                            href="#pending-abort-request-was-already-erroring"
                            id="ref-for-pending-abort-request-was-already-erroring①">was already erroring</a> 为 true，
                    </p>
                    <ol>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                    id="ref-for-reject⑦">拒绝</a> <var>abortRequest</var> 的 <a data-link-type="dfn"
                                    href="#pending-abort-request-promise"
                                    id="ref-for-pending-abort-request-promise②">promise</a>，原因为 <var>storedError</var>。
                            </p>
                        <li data-md>
                            <p>执行 ! <a data-link-type="abstract-op"
                                    href="#writable-stream-reject-close-and-closed-promise-if-needed"
                                    id="ref-for-writable-stream-reject-close-and-closed-promise-if-needed①">WritableStreamRejectCloseAndClosedPromiseIfNeeded</a>(<var>stream</var>)。
                            </p>
                        <li data-md>
                            <p>返回。</p>
                    </ol>
                <li data-md>
                    <p>令 <var>promise</var> 为 ! <var>stream</var>.<a data-link-type="dfn"
                            href="#writablestream-controller"
                            id="ref-for-writablestream-controller④">[[controller]]</a>.<a data-link-type="abstract-op"
                            href="#abstract-opdef-writablestreamcontroller-abortsteps"
                            id="ref-for-abstract-opdef-writablestreamcontroller-abortsteps①">[[AbortSteps]]</a>(<var>abortRequest</var>
                        的 <a data-link-type="dfn" href="#pending-abort-request-reason"
                            id="ref-for-pending-abort-request-reason①">reason</a>)。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#upon-fulfillment"
                            id="ref-for-upon-fulfillment⑤">当 <var>promise</var> 兑现时，</a></p>
                    <ol>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                    id="ref-for-resolve②①">解决</a> <var>abortRequest</var> 的 <a data-link-type="dfn"
                                    href="#pending-abort-request-promise"
                                    id="ref-for-pending-abort-request-promise③">promise</a>，值为 undefined。</p>
                        <li data-md>
                            <p>执行 ! <a data-link-type="abstract-op"
                                    href="#writable-stream-reject-close-and-closed-promise-if-needed"
                                    id="ref-for-writable-stream-reject-close-and-closed-promise-if-needed②">WritableStreamRejectCloseAndClosedPromiseIfNeeded</a>(<var>stream</var>)。
                            </p>
                    </ol>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#upon-rejection"
                            id="ref-for-upon-rejection⑦">当 <var>promise</var> 被拒绝，原因为 <var>reason</var> 时，</a></p>
                    <ol>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                    id="ref-for-reject⑧">拒绝</a> <var>abortRequest</var> 的 <a data-link-type="dfn"
                                    href="#pending-abort-request-promise"
                                    id="ref-for-pending-abort-request-promise④">promise</a>，原因为 <var>reason</var>。</p>
                        <li data-md>
                            <p>执行 ! <a data-link-type="abstract-op"
                                    href="#writable-stream-reject-close-and-closed-promise-if-needed"
                                    id="ref-for-writable-stream-reject-close-and-closed-promise-if-needed③">WritableStreamRejectCloseAndClosedPromiseIfNeeded</a>(<var>stream</var>)。
                            </p>
                    </ol>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="WritableStreamFinishInFlightClose">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="WritableStreamFinishInFlightClose"
                id="writable-stream-finish-in-flight-close">WritableStreamFinishInFlightClose(<var>stream</var>)</dfn>
            步骤如下：
            <ol>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn"
                            href="#writablestream-inflightcloserequest"
                            id="ref-for-writablestream-inflightcloserequest③">[[inFlightCloseRequest]]</a> 不为 undefined。
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                            id="ref-for-resolve②②">解决</a> <var>stream</var>.<a data-link-type="dfn"
                            href="#writablestream-inflightcloserequest"
                            id="ref-for-writablestream-inflightcloserequest④">[[inFlightCloseRequest]]</a>，值为 undefined。
                    </p>
                <li data-md>
                    <p>将 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-inflightcloserequest"
                            id="ref-for-writablestream-inflightcloserequest⑤">[[inFlightCloseRequest]]</a> 设为 undefined。
                    </p>
                <li data-md>
                    <p>令 <var>state</var> 为 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-state"
                            id="ref-for-writablestream-state①⑤">[[state]]</a>。</p>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn" href="#writablestream-state"
                            id="ref-for-writablestream-state①⑥">[[state]]</a> 为 "<code>writable</code>" 或
                        "<code>erroring</code>"。</p>
                <li data-md>
                    <p>如果 <var>state</var> 为 "<code>erroring</code>"，</p>
                    <ol>
                        <li data-md>
                            <p>将 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-storederror"
                                    id="ref-for-writablestream-storederror⑦">[[storedError]]</a> 设为 undefined。</p>
                        <li data-md>
                            <p>如果 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-pendingabortrequest"
                                    id="ref-for-writablestream-pendingabortrequest⑦">[[pendingAbortRequest]]</a> 不为
                                undefined，</p>
                            <ol>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                            id="ref-for-resolve②③">解决</a> <var>stream</var>.<a data-link-type="dfn"
                                            href="#writablestream-pendingabortrequest"
                                            id="ref-for-writablestream-pendingabortrequest⑧">[[pendingAbortRequest]]</a>
                                        的 <a data-link-type="dfn" href="#pending-abort-request-promise"
                                            id="ref-for-pending-abort-request-promise⑤">promise</a>，值为 undefined。</p>
                                <li data-md>
                                    <p>将 <var>stream</var>.<a data-link-type="dfn"
                                            href="#writablestream-pendingabortrequest"
                                            id="ref-for-writablestream-pendingabortrequest⑨">[[pendingAbortRequest]]</a>
                                        设为 undefined。</p>
                            </ol>
                    </ol>
                <li data-md>
                    <p>将 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-state"
                            id="ref-for-writablestream-state①⑦">[[state]]</a> 设为 "<code>closed</code>"。</p>
                <li data-md>
                    <p>令 <var>writer</var> 为 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-writer"
                            id="ref-for-writablestream-writer⑤">[[writer]]</a>。</p>
                <li data-md>
                    <p>如果 <var>writer</var> 不为 undefined，<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve②④">解决</a>
                        <var>writer</var>.<a data-link-type="dfn" href="#writablestreamdefaultwriter-closedpromise"
                            id="ref-for-writablestreamdefaultwriter-closedpromise⑥">[[closedPromise]]</a>，值为 undefined。
                    </p>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn"
                            href="#writablestream-pendingabortrequest"
                            id="ref-for-writablestream-pendingabortrequest①⓪">[[pendingAbortRequest]]</a> 为 undefined。
                    </p>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn" href="#writablestream-storederror"
                            id="ref-for-writablestream-storederror⑧">[[storedError]]</a> 为 undefined。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="WritableStreamFinishInFlightCloseWithError">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="WritableStreamFinishInFlightCloseWithError"
                id="writable-stream-finish-in-flight-close-with-error">WritableStreamFinishInFlightCloseWithError(<var>stream</var>,
                <var>error</var>)</dfn> 步骤如下：
            <ol>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn"
                            href="#writablestream-inflightcloserequest"
                            id="ref-for-writablestream-inflightcloserequest⑥">[[inFlightCloseRequest]]</a> 不为 undefined。
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject⑨">拒绝</a>
                        <var>stream</var>.<a data-link-type="dfn" href="#writablestream-inflightcloserequest"
                            id="ref-for-writablestream-inflightcloserequest⑦">[[inFlightCloseRequest]]</a>，原因为
                        <var>error</var>。
                    </p>
                <li data-md>
                    <p>将 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-inflightcloserequest"
                            id="ref-for-writablestream-inflightcloserequest⑧">[[inFlightCloseRequest]]</a> 设为 undefined。
                    </p>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn" href="#writablestream-state"
                            id="ref-for-writablestream-state①⑧">[[state]]</a> 为 "<code>writable</code>" 或
                        "<code>erroring</code>"。</p>
                <li data-md>
                    <p>如果 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-pendingabortrequest"
                            id="ref-for-writablestream-pendingabortrequest①①">[[pendingAbortRequest]]</a> 不为 undefined，
                    </p>
                    <ol>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                    id="ref-for-reject①⓪">拒绝</a> <var>stream</var>.<a data-link-type="dfn"
                                    href="#writablestream-pendingabortrequest"
                                    id="ref-for-writablestream-pendingabortrequest①②">[[pendingAbortRequest]]</a> 的 <a
                                    data-link-type="dfn" href="#pending-abort-request-promise"
                                    id="ref-for-pending-abort-request-promise⑥">promise</a>，原因为 <var>error</var>。</p>
                        <li data-md>
                            <p>将 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-pendingabortrequest"
                                    id="ref-for-writablestream-pendingabortrequest①③">[[pendingAbortRequest]]</a> 设为
                                undefined。</p>
                    </ol>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#writable-stream-deal-with-rejection"
                            id="ref-for-writable-stream-deal-with-rejection">WritableStreamDealWithRejection</a>(<var>stream</var>,
                        <var>error</var>)。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="WritableStreamFinishInFlightWrite">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="WritableStreamFinishInFlightWrite"
                id="writable-stream-finish-in-flight-write">WritableStreamFinishInFlightWrite(<var>stream</var>)</dfn>
            步骤如下：
            <ol>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn"
                            href="#writablestream-inflightwriterequest"
                            id="ref-for-writablestream-inflightwriterequest②">[[inFlightWriteRequest]]</a> 不为 undefined。
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                            id="ref-for-resolve②⑤">解决</a> <var>stream</var>.<a data-link-type="dfn"
                            href="#writablestream-inflightwriterequest"
                            id="ref-for-writablestream-inflightwriterequest③">[[inFlightWriteRequest]]</a>，值为 undefined。
                    </p>
                <li data-md>
                    <p>将 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-inflightwriterequest"
                            id="ref-for-writablestream-inflightwriterequest④">[[inFlightWriteRequest]]</a> 设为 undefined。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="WritableStreamFinishInFlightWriteWithError">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="WritableStreamFinishInFlightWriteWithError"
                id="writable-stream-finish-in-flight-write-with-error">WritableStreamFinishInFlightWriteWithError(<var>stream</var>,
                <var>error</var>)</dfn>
            步骤如下：
            <ol>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn"
                            href="#writablestream-inflightwriterequest"
                            id="ref-for-writablestream-inflightwriterequest⑤">[[inFlightWriteRequest]]</a> 不为 undefined。
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                            id="ref-for-reject①①">拒绝</a> <var>stream</var>.<a data-link-type="dfn"
                            href="#writablestream-inflightwriterequest"
                            id="ref-for-writablestream-inflightwriterequest⑥">[[inFlightWriteRequest]]</a>，原因为
                        <var>error</var>。
                    </p>
                <li data-md>
                    <p>将 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-inflightwriterequest"
                            id="ref-for-writablestream-inflightwriterequest⑦">[[inFlightWriteRequest]]</a> 设为 undefined。
                    </p>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn" href="#writablestream-state"
                            id="ref-for-writablestream-state①⑨">[[state]]</a> 为 "<code>writable</code>" 或
                        "<code>erroring</code>"。</p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#writable-stream-deal-with-rejection"
                            id="ref-for-writable-stream-deal-with-rejection①">WritableStreamDealWithRejection</a>(<var>stream</var>,
                        <var>error</var>)。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="WritableStreamHasOperationMarkedInFlight">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="WritableStreamHasOperationMarkedInFlight"
                id="writable-stream-has-operation-marked-in-flight">WritableStreamHasOperationMarkedInFlight(<var>stream</var>)</dfn>
            步骤如下：
            <ol>
                <li data-md>
                    <p>如果 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-inflightwriterequest"
                            id="ref-for-writablestream-inflightwriterequest⑧">[[inFlightWriteRequest]]</a> 为 undefined 且
                        <var>stream</var>.<a data-link-type="dfn" href="#writablestream-inflightcloserequest"
                            id="ref-for-writablestream-inflightcloserequest⑨">[[inFlightCloseRequest]]</a> 为
                        undefined，则返回 false。
                    </p>
                <li data-md>
                    <p>返回 true。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="WritableStreamMarkCloseRequestInFlight">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="WritableStreamMarkCloseRequestInFlight"
                id="writable-stream-mark-close-request-in-flight">WritableStreamMarkCloseRequestInFlight(<var>stream</var>)</dfn>
            步骤如下：
            <ol>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn"
                            href="#writablestream-inflightcloserequest"
                            id="ref-for-writablestream-inflightcloserequest①⓪">[[inFlightCloseRequest]]</a> 为 undefined。
                    </p>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn"
                            href="#writablestream-closerequest"
                            id="ref-for-writablestream-closerequest④">[[closeRequest]]</a> 不为 undefined。</p>
                <li data-md>
                    <p>将 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-inflightcloserequest"
                            id="ref-for-writablestream-inflightcloserequest①①">[[inFlightCloseRequest]]</a> 设为
                        <var>stream</var>.<a data-link-type="dfn" href="#writablestream-closerequest"
                            id="ref-for-writablestream-closerequest⑤">[[closeRequest]]</a>。
                    </p>
                <li data-md>
                    <p>将 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-closerequest"
                            id="ref-for-writablestream-closerequest⑥">[[closeRequest]]</a> 设为 undefined。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="WritableStreamMarkFirstWriteRequestInFlight">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="WritableStreamMarkFirstWriteRequestInFlight"
                id="writable-stream-mark-first-write-request-in-flight">WritableStreamMarkFirstWriteRequestInFlight(<var>stream</var>)</dfn>
            步骤如下：
            <ol>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn"
                            href="#writablestream-inflightwriterequest"
                            id="ref-for-writablestream-inflightwriterequest⑨">[[inFlightWriteRequest]]</a> 为 undefined。
                    </p>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn"
                            href="#writablestream-writerequests"
                            id="ref-for-writablestream-writerequests⑤">[[writeRequests]]</a> 非空。</p>
                <li data-md>
                    <p>令 <var>writeRequest</var> 为 <var>stream</var>.<a data-link-type="dfn"
                            href="#writablestream-writerequests"
                            id="ref-for-writablestream-writerequests⑥">[[writeRequests]]</a>[0]。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove"
                            id="ref-for-list-remove⑥">移除</a> <var>writeRequest</var> 从 <var>stream</var>.<a
                            data-link-type="dfn" href="#writablestream-writerequests"
                            id="ref-for-writablestream-writerequests⑦">[[writeRequests]]</a>。</p>
                <li data-md>
                    <p>将 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-inflightwriterequest"
                            id="ref-for-writablestream-inflightwriterequest①⓪">[[inFlightWriteRequest]]</a> 设为
                        <var>writeRequest</var>。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="WritableStreamRejectCloseAndClosedPromiseIfNeeded">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="WritableStreamRejectCloseAndClosedPromiseIfNeeded"
                id="writable-stream-reject-close-and-closed-promise-if-needed">WritableStreamRejectCloseAndClosedPromiseIfNeeded(<var>stream</var>)</dfn>
            步骤如下：
            <ol>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn" href="#writablestream-state"
                            id="ref-for-writablestream-state②⓪">[[state]]</a> 为 "<code>errored</code>"。</p>
                <li data-md>
                    <p>如果 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-closerequest"
                            id="ref-for-writablestream-closerequest⑦">[[closeRequest]]</a> 不为 undefined，</p>
                    <ol>
                        <li data-md>
                            <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn"
                                    href="#writablestream-inflightcloserequest"
                                    id="ref-for-writablestream-inflightcloserequest①②">[[inFlightCloseRequest]]</a> 为
                                undefined。</p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                    id="ref-for-reject①②">拒绝</a> <var>stream</var>.<a data-link-type="dfn"
                                    href="#writablestream-closerequest"
                                    id="ref-for-writablestream-closerequest⑧">[[closeRequest]]</a>，原因为
                                <var>stream</var>.<a data-link-type="dfn" href="#writablestream-storederror"
                                    id="ref-for-writablestream-storederror⑨">[[storedError]]</a>。
                            </p>
                        <li data-md>
                            <p>将 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-closerequest"
                                    id="ref-for-writablestream-closerequest⑨">[[closeRequest]]</a> 设为 undefined。</p>
                    </ol>
                <li data-md>
                    <p>令 <var>writer</var> 为 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-writer"
                            id="ref-for-writablestream-writer⑥">[[writer]]</a>。</p>
                <li data-md>
                    <p>如果 <var>writer</var> 不为 undefined，</p>
                    <ol>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                    id="ref-for-reject①③">拒绝</a> <var>writer</var>.<a data-link-type="dfn"
                                    href="#writablestreamdefaultwriter-closedpromise"
                                    id="ref-for-writablestreamdefaultwriter-closedpromise⑦">[[closedPromise]]</a>，原因为
                                <var>stream</var>.<a data-link-type="dfn" href="#writablestream-storederror"
                                    id="ref-for-writablestream-storederror①⓪">[[storedError]]</a>。
                            </p>
                        <li data-md>
                            <p>将 <var>writer</var>.<a data-link-type="dfn"
                                    href="#writablestreamdefaultwriter-closedpromise"
                                    id="ref-for-writablestreamdefaultwriter-closedpromise⑧">[[closedPromise]]</a>.[[PromiseIsHandled]]
                                设为 true。</p>
                    </ol>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="WritableStreamStartErroring">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="WritableStreamStartErroring"
                id="writable-stream-start-erroring">WritableStreamStartErroring(<var>stream</var>,
                <var>reason</var>)</dfn>
            步骤如下：
            <ol>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn" href="#writablestream-storederror"
                            id="ref-for-writablestream-storederror①①">[[storedError]]</a> 为 undefined。</p>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn" href="#writablestream-state"
                            id="ref-for-writablestream-state②①">[[state]]</a> 为 "<code>writable</code>"。</p>
                <li data-md>
                    <p>令 <var>controller</var> 为 <var>stream</var>.<a data-link-type="dfn"
                            href="#writablestream-controller"
                            id="ref-for-writablestream-controller⑤">[[controller]]</a>。</p>
                <li data-md>
                    <p class="assertion">断言：<var>controller</var> 不为 undefined。</p>
                <li data-md>
                    <p>将 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-state"
                            id="ref-for-writablestream-state②②">[[state]]</a> 设为 "<code>erroring</code>"。</p>
                <li data-md>
                    <p>将 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-storederror"
                            id="ref-for-writablestream-storederror①②">[[storedError]]</a> 设为 <var>reason</var>。</p>
                <li data-md>
                    <p>令 <var>writer</var> 为 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-writer"
                            id="ref-for-writablestream-writer⑦">[[writer]]</a>。</p>
                <li data-md>
                    <p>如果 <var>writer</var> 不为 undefined，执行 ! <a data-link-type="abstract-op"
                            href="#writable-stream-default-writer-ensure-ready-promise-rejected"
                            id="ref-for-writable-stream-default-writer-ensure-ready-promise-rejected">WritableStreamDefaultWriterEnsureReadyPromiseRejected</a>(<var>writer</var>,
                        <var>reason</var>)。
                    </p>
                <li data-md>
                    <p>如果 ! <a data-link-type="abstract-op" href="#writable-stream-has-operation-marked-in-flight"
                            id="ref-for-writable-stream-has-operation-marked-in-flight①">WritableStreamHasOperationMarkedInFlight</a>(<var>stream</var>)
                        为 false 且 <var>controller</var>.<a data-link-type="dfn"
                            href="#writablestreamdefaultcontroller-started"
                            id="ref-for-writablestreamdefaultcontroller-started">[[started]]</a> 为 true，执行 ! <a
                            data-link-type="abstract-op" href="#writable-stream-finish-erroring"
                            id="ref-for-writable-stream-finish-erroring①">WritableStreamFinishErroring</a>(<var>stream</var>)。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="WritableStreamUpdateBackpressure">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="WritableStreamUpdateBackpressure"
                id="writable-stream-update-backpressure">WritableStreamUpdateBackpressure(<var>stream</var>,
                <var>backpressure</var>)</dfn>
            步骤如下：
            <ol>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn" href="#writablestream-state"
                            id="ref-for-writablestream-state②③">[[state]]</a> 为 "<code>writable</code>"。</p>
                <li data-md>
                    <p class="assertion">断言：! <a data-link-type="abstract-op"
                            href="#writable-stream-close-queued-or-in-flight"
                            id="ref-for-writable-stream-close-queued-or-in-flight⑦">WritableStreamCloseQueuedOrInFlight</a>(<var>stream</var>)
                        为 false。</p>
                <li data-md>
                    <p>令 <var>writer</var> 为 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-writer"
                            id="ref-for-writablestream-writer⑧">[[writer]]</a>。</p>
                <li data-md>
                    <p>如果 <var>writer</var> 不为 undefined 且 <var>backpressure</var> 不等于 <var>stream</var>.<a
                            data-link-type="dfn" href="#writablestream-backpressure"
                            id="ref-for-writablestream-backpressure③">[[backpressure]]</a>，</p>
                    <ol>
                        <li data-md>
                            <p>如果 <var>backpressure</var> 为 true，则将 <var>writer</var>.<a data-link-type="dfn"
                                    href="#writablestreamdefaultwriter-readypromise"
                                    id="ref-for-writablestreamdefaultwriter-readypromise⑨">[[readyPromise]]</a> 设为<a
                                    data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                                    id="ref-for-a-new-promise①③">新的 promise</a>。</p>
                        <li data-md>
                            <p>否则，</p>
                            <ol>
                                <li data-md>
                                    <p class="assertion">断言：<var>backpressure</var> 为 false。</p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                            id="ref-for-resolve②⑥">解决</a> <var>writer</var>.<a data-link-type="dfn"
                                            href="#writablestreamdefaultwriter-readypromise"
                                            id="ref-for-writablestreamdefaultwriter-readypromise①⓪">[[readyPromise]]</a>，值为
                                        undefined。</p>
                            </ol>
                    </ol>
                <li data-md>
                    <p>将 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-backpressure"
                            id="ref-for-writablestream-backpressure④">[[backpressure]]</a> 设为 <var>backpressure</var>。
                    </p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="5.5.3" id="ws-writer-abstract-ops"><span class="secno">5.5.3.
            </span><span class="content">Writer 抽象操作</span><a class="self-link" href="#ws-writer-abstract-ops"></a></h4>
        <p>以下抽象操作用于实现和操作 <code
                class="idl"><a data-link-type="idl" href="#writablestreamdefaultwriter" id="ref-for-writablestreamdefaultwriter①⓪">WritableStreamDefaultWriter</a></code>
            实例。</p>
        <div class="algorithm" data-algorithm="WritableStreamDefaultWriterAbort">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="WritableStreamDefaultWriterAbort"
                id="writable-stream-default-writer-abort">WritableStreamDefaultWriterAbort(<var>writer</var>,
                <var>reason</var>)</dfn> 步骤如下：
            <ol>
                <li data-md>
                    <p>令 <var>stream</var> 为 <var>writer</var>.<a data-link-type="dfn"
                            href="#writablestreamdefaultwriter-stream"
                            id="ref-for-writablestreamdefaultwriter-stream⑥">[[stream]]</a>。</p>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var> 不为 undefined。</p>
                <li data-md>
                    <p>返回 ! <a data-link-type="abstract-op" href="#writable-stream-abort"
                            id="ref-for-writable-stream-abort⑥">WritableStreamAbort</a>(<var>stream</var>,
                        <var>reason</var>)。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="WritableStreamDefaultWriterClose">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="WritableStreamDefaultWriterClose"
                id="writable-stream-default-writer-close">WritableStreamDefaultWriterClose(<var>writer</var>)</dfn>
            步骤如下：
            <ol>
                <li data-md>
                    <p>令 <var>stream</var> 为 <var>writer</var>.<a data-link-type="dfn"
                            href="#writablestreamdefaultwriter-stream"
                            id="ref-for-writablestreamdefaultwriter-stream⑦">[[stream]]</a>。</p>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var> 不为 undefined。</p>
                <li data-md>
                    <p>返回 ! <a data-link-type="abstract-op" href="#writable-stream-close"
                            id="ref-for-writable-stream-close①">WritableStreamClose</a>(<var>stream</var>)。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="WritableStreamDefaultWriterCloseWithErrorPropagation">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="WritableStreamDefaultWriterCloseWithErrorPropagation"
                id="writable-stream-default-writer-close-with-error-propagation">WritableStreamDefaultWriterCloseWithErrorPropagation(<var>writer</var>)</dfn>
            步骤如下：
            <ol>
                <li data-md>
                    <p>令 <var>stream</var> 为 <var>writer</var>.<a data-link-type="dfn"
                            href="#writablestreamdefaultwriter-stream"
                            id="ref-for-writablestreamdefaultwriter-stream⑧">[[stream]]</a>。</p>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var> 不为 undefined。</p>
                <li data-md>
                    <p>令 <var>state</var> 为 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-state"
                            id="ref-for-writablestream-state②④">[[state]]</a>。</p>
                <li data-md>
                    <p>如果 ! <a data-link-type="abstract-op" href="#writable-stream-close-queued-or-in-flight"
                            id="ref-for-writable-stream-close-queued-or-in-flight⑧">WritableStreamCloseQueuedOrInFlight</a>(<var>stream</var>)
                        为 true 或 <var>state</var> 为 "<code>closed</code>"，返回<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                            id="ref-for-a-promise-resolved-with②⑤">已解决的 promise</a>，值为 undefined。</p>
                <li data-md>
                    <p>如果 <var>state</var> 为 "<code>errored</code>"，返回<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                            id="ref-for-a-promise-rejected-with②⑨">拒绝的 promise</a>，原因为 <var>stream</var>.<a
                            data-link-type="dfn" href="#writablestream-storederror"
                            id="ref-for-writablestream-storederror①③">[[storedError]]</a>。</p>
                <li data-md>
                    <p class="assertion">断言：<var>state</var> 为 "<code>writable</code>" 或 "<code>erroring</code>"。</p>
                <li data-md>
                    <p>返回 ! <a data-link-type="abstract-op" href="#writable-stream-default-writer-close"
                            id="ref-for-writable-stream-default-writer-close①">WritableStreamDefaultWriterClose</a>(<var>writer</var>)。
                    </p>
            </ol>
            <p class="note" role="note">该抽象操作用于实现 <code
                    class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream④⑧">ReadableStream</a></code>
                的 <code
                    class="idl"><a data-link-type="idl" href="#rs-pipe-to" id="ref-for-rs-pipe-to⑦">pipeTo()</a></code>
                的错误传播语义。</p>
        </div>
        <div class="algorithm" data-algorithm="WritableStreamDefaultWriterEnsureClosedPromiseRejected">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="WritableStreamDefaultWriterEnsureClosedPromiseRejected"
                id="writable-stream-default-writer-ensure-closed-promise-rejected">WritableStreamDefaultWriterEnsureClosedPromiseRejected(<var>writer</var>,
                <var>error</var>)</dfn> 步骤如下：
            <ol>
                <li data-md>
                    <p>如果 <var>writer</var>.<a data-link-type="dfn" href="#writablestreamdefaultwriter-closedpromise"
                            id="ref-for-writablestreamdefaultwriter-closedpromise⑨">[[closedPromise]]</a>.[[PromiseState]]
                        为 "<code>pending</code>"，<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                            id="ref-for-reject①④">拒绝</a> <var>writer</var>.<a data-link-type="dfn"
                            href="#writablestreamdefaultwriter-closedpromise"
                            id="ref-for-writablestreamdefaultwriter-closedpromise①⓪">[[closedPromise]]</a>，原因为
                        <var>error</var>。
                    </p>
                <li data-md>
                    <p>否则，将 <var>writer</var>.<a data-link-type="dfn" href="#writablestreamdefaultwriter-closedpromise"
                            id="ref-for-writablestreamdefaultwriter-closedpromise①①">[[closedPromise]]</a> 设为<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                            id="ref-for-a-promise-rejected-with③⓪">拒绝的 promise</a>，原因为 <var>error</var>。</p>
                <li data-md>
                    <p>将 <var>writer</var>.<a data-link-type="dfn" href="#writablestreamdefaultwriter-closedpromise"
                            id="ref-for-writablestreamdefaultwriter-closedpromise①②">[[closedPromise]]</a>.[[PromiseIsHandled]]
                        设为 true。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="WritableStreamDefaultWriterEnsureReadyPromiseRejected">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="WritableStreamDefaultWriterEnsureReadyPromiseRejected"
                id="writable-stream-default-writer-ensure-ready-promise-rejected">WritableStreamDefaultWriterEnsureReadyPromiseRejected(<var>writer</var>,
                <var>error</var>)</dfn> 步骤如下：
            <ol>
                <li data-md>
                    <p>如果 <var>writer</var>.<a data-link-type="dfn" href="#writablestreamdefaultwriter-readypromise"
                            id="ref-for-writablestreamdefaultwriter-readypromise①①">[[readyPromise]]</a>.[[PromiseState]]
                        为 "<code>pending</code>"，<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                            id="ref-for-reject①⑤">拒绝</a> <var>writer</var>.<a data-link-type="dfn"
                            href="#writablestreamdefaultwriter-readypromise"
                            id="ref-for-writablestreamdefaultwriter-readypromise①②">[[readyPromise]]</a>，原因为
                        <var>error</var>。
                    </p>
                <li data-md>
                    <p>否则，将 <var>writer</var>.<a data-link-type="dfn" href="#writablestreamdefaultwriter-readypromise"
                            id="ref-for-writablestreamdefaultwriter-readypromise①③">[[readyPromise]]</a> 设为<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                            id="ref-for-a-promise-rejected-with③①">拒绝的 promise</a>，原因为 <var>error</var>。</p>
                <li data-md>
                    <p>将 <var>writer</var>.<a data-link-type="dfn" href="#writablestreamdefaultwriter-readypromise"
                            id="ref-for-writablestreamdefaultwriter-readypromise①④">[[readyPromise]]</a>.[[PromiseIsHandled]]
                        设为 true。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="WritableStreamDefaultWriterGetDesiredSize">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="WritableStreamDefaultWriterGetDesiredSize"
                id="writable-stream-default-writer-get-desired-size">WritableStreamDefaultWriterGetDesiredSize(<var>writer</var>)</dfn>
            步骤如下：
            <ol>
                <li data-md>
                    <p>令 <var>stream</var> 为 <var>writer</var>.<a data-link-type="dfn"
                            href="#writablestreamdefaultwriter-stream"
                            id="ref-for-writablestreamdefaultwriter-stream⑨">[[stream]]</a>。</p>
                <li data-md>
                    <p>令 <var>state</var> 为 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-state"
                            id="ref-for-writablestream-state②⑤">[[state]]</a>。</p>
                <li data-md>
                    <p>如果 <var>state</var> 为 "<code>errored</code>" 或 "<code>erroring</code>"，返回 null。</p>
                <li data-md>
                    <p>如果 <var>state</var> 为 "<code>closed</code>"，返回 0。</p>
                <li data-md>
                    <p>返回 ! <a data-link-type="abstract-op" href="#writable-stream-default-controller-get-desired-size"
                            id="ref-for-writable-stream-default-controller-get-desired-size">WritableStreamDefaultControllerGetDesiredSize</a>(<var>stream</var>.<a
                            data-link-type="dfn" href="#writablestream-controller"
                            id="ref-for-writablestream-controller⑥">[[controller]]</a>)。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="WritableStreamDefaultWriterRelease">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="WritableStreamDefaultWriterRelease"
                id="writable-stream-default-writer-release">WritableStreamDefaultWriterRelease(<var>writer</var>)</dfn>
            步骤如下：
            <ol>
                <li data-md>
                    <p>令 <var>stream</var> 为 <var>writer</var>.<a data-link-type="dfn"
                            href="#writablestreamdefaultwriter-stream"
                            id="ref-for-writablestreamdefaultwriter-stream①⓪">[[stream]]</a>。</p>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var> 不为 undefined。</p>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn" href="#writablestream-writer"
                            id="ref-for-writablestream-writer⑨">[[writer]]</a> 为 <var>writer</var>。</p>
                <li data-md>
                    <p>令 <var>releasedError</var> 为新建 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror⑥⓪">TypeError</a></code>。
                    </p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op"
                            href="#writable-stream-default-writer-ensure-ready-promise-rejected"
                            id="ref-for-writable-stream-default-writer-ensure-ready-promise-rejected①">WritableStreamDefaultWriterEnsureReadyPromiseRejected</a>(<var>writer</var>,
                        <var>releasedError</var>)。
                    </p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op"
                            href="#writable-stream-default-writer-ensure-closed-promise-rejected"
                            id="ref-for-writable-stream-default-writer-ensure-closed-promise-rejected">WritableStreamDefaultWriterEnsureClosedPromiseRejected</a>(<var>writer</var>,
                        <var>releasedError</var>)。
                    </p>
                <li data-md>
                    <p>将 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-writer"
                            id="ref-for-writablestream-writer①⓪">[[writer]]</a> 设为 undefined。</p>
                <li data-md>
                    <p>将 <var>writer</var>.<a data-link-type="dfn" href="#writablestreamdefaultwriter-stream"
                            id="ref-for-writablestreamdefaultwriter-stream①①">[[stream]]</a> 设为 undefined。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="WritableStreamDefaultWriterWrite">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="WritableStreamDefaultWriterWrite"
                id="writable-stream-default-writer-write">WritableStreamDefaultWriterWrite(<var>writer</var>,
                <var>chunk</var>)</dfn> 步骤如下：
            <ol>
                <li data-md>
                    <p>令 <var>stream</var> 为 <var>writer</var>.<a data-link-type="dfn"
                            href="#writablestreamdefaultwriter-stream"
                            id="ref-for-writablestreamdefaultwriter-stream①②">[[stream]]</a>。</p>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var> 不为 undefined。</p>
                <li data-md>
                    <p>令 <var>controller</var> 为 <var>stream</var>.<a data-link-type="dfn"
                            href="#writablestream-controller"
                            id="ref-for-writablestream-controller⑦">[[controller]]</a>。</p>
                <li data-md>
                    <p>令 <var>chunkSize</var> 为 ! <a data-link-type="abstract-op"
                            href="#writable-stream-default-controller-get-chunk-size"
                            id="ref-for-writable-stream-default-controller-get-chunk-size">WritableStreamDefaultControllerGetChunkSize</a>(<var>controller</var>,
                        <var>chunk</var>)。
                    </p>
                <li data-md>
                    <p>如果 <var>stream</var> 不等于 <var>writer</var>.<a data-link-type="dfn"
                            href="#writablestreamdefaultwriter-stream"
                            id="ref-for-writablestreamdefaultwriter-stream①③">[[stream]]</a>，返回<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                            id="ref-for-a-promise-rejected-with③②">拒绝的 promise</a>，异常为 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror⑥①">TypeError</a></code>。
                    </p>
                <li data-md>
                    <p>令 <var>state</var> 为 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-state"
                            id="ref-for-writablestream-state②⑥">[[state]]</a>。</p>
                <li data-md>
                    <p>如果 <var>state</var> 为 "<code>errored</code>"，返回<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                            id="ref-for-a-promise-rejected-with③③">拒绝的 promise</a>，原因为 <var>stream</var>.<a
                            data-link-type="dfn" href="#writablestream-storederror"
                            id="ref-for-writablestream-storederror①④">[[storedError]]</a>。</p>
                <li data-md>
                    <p>如果 ! <a data-link-type="abstract-op" href="#writable-stream-close-queued-or-in-flight"
                            id="ref-for-writable-stream-close-queued-or-in-flight⑨">WritableStreamCloseQueuedOrInFlight</a>(<var>stream</var>)
                        为 true 或 <var>state</var> 为 "<code>closed</code>"，返回<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                            id="ref-for-a-promise-rejected-with③④">拒绝的 promise</a>，异常为 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror⑥②">TypeError</a></code>，表示流正在关闭或已关闭。
                    </p>
                <li data-md>
                    <p>如果 <var>state</var> 为 "<code>erroring</code>"，返回<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                            id="ref-for-a-promise-rejected-with③⑤">拒绝的 promise</a>，原因为 <var>stream</var>.<a
                            data-link-type="dfn" href="#writablestream-storederror"
                            id="ref-for-writablestream-storederror①⑤">[[storedError]]</a>。</p>
                <li data-md>
                    <p class="assertion">断言：<var>state</var> 为 "<code>writable</code>"。</p>
                <li data-md>
                    <p>令 <var>promise</var> 为 ! <a data-link-type="abstract-op"
                            href="#writable-stream-add-write-request"
                            id="ref-for-writable-stream-add-write-request">WritableStreamAddWriteRequest</a>(<var>stream</var>)。
                    </p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#writable-stream-default-controller-write"
                            id="ref-for-writable-stream-default-controller-write">WritableStreamDefaultControllerWrite</a>(<var>controller</var>,
                        <var>chunk</var>, <var>chunkSize</var>)。
                    </p>
                <li data-md>
                    <p>返回 <var>promise</var>。</p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="5.5.4" id="ws-default-controller-abstract-ops"><span
                class="secno">5.5.4. </span><span class="content">默认控制器</span><a class="self-link"
                href="#ws-default-controller-abstract-ops"></a></h4>
        <p>以下抽象操作用于实现 <code
                class="idl"><a data-link-type="idl" href="#writablestreamdefaultcontroller" id="ref-for-writablestreamdefaultcontroller①③">WritableStreamDefaultController</a></code>
            类。</p>
        <div class="algorithm" data-algorithm="SetUpWritableStreamDefaultController">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="SetUpWritableStreamDefaultController"
                id="set-up-writable-stream-default-controller">SetUpWritableStreamDefaultController(<var>stream</var>,
                <var>controller</var>, <var>startAlgorithm</var>, <var>writeAlgorithm</var>, <var>closeAlgorithm</var>,
                <var>abortAlgorithm</var>, <var>highWaterMark</var>, <var>sizeAlgorithm</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var> <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#implements" id="ref-for-implements②②">实现</a>
                        <code
                            class="idl"><a data-link-type="idl" href="#writablestream" id="ref-for-writablestream②⑧">WritableStream</a></code>。
                    </p>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn" href="#writablestream-controller"
                            id="ref-for-writablestream-controller⑧">[[controller]]</a>
                        为 undefined。</p>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn" href="#writablestreamdefaultcontroller-stream"
                            id="ref-for-writablestreamdefaultcontroller-stream①">[[stream]]</a> 设为 <var>stream</var>。
                    </p>
                <li data-md>
                    <p>将 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-controller"
                            id="ref-for-writablestream-controller⑨">[[controller]]</a> 设为 <var>controller</var>。</p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#reset-queue"
                            id="ref-for-reset-queue⑦">ResetQueue</a>(<var>controller</var>)。</p>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn"
                            href="#writablestreamdefaultcontroller-abortcontroller"
                            id="ref-for-writablestreamdefaultcontroller-abortcontroller②">[[abortController]]</a> 设为新建
                        <code
                            class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortcontroller" id="ref-for-abortcontroller②">AbortController</a></code>。
                    </p>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn" href="#writablestreamdefaultcontroller-started"
                            id="ref-for-writablestreamdefaultcontroller-started①">[[started]]</a> 设为 false。</p>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn"
                            href="#writablestreamdefaultcontroller-strategysizealgorithm"
                            id="ref-for-writablestreamdefaultcontroller-strategysizealgorithm">[[strategySizeAlgorithm]]</a>
                        设为 <var>sizeAlgorithm</var>。</p>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn"
                            href="#writablestreamdefaultcontroller-strategyhwm"
                            id="ref-for-writablestreamdefaultcontroller-strategyhwm">[[strategyHWM]]</a> 设为
                        <var>highWaterMark</var>。
                    </p>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn"
                            href="#writablestreamdefaultcontroller-writealgorithm"
                            id="ref-for-writablestreamdefaultcontroller-writealgorithm">[[writeAlgorithm]]</a> 设为
                        <var>writeAlgorithm</var>。
                    </p>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn"
                            href="#writablestreamdefaultcontroller-closealgorithm"
                            id="ref-for-writablestreamdefaultcontroller-closealgorithm">[[closeAlgorithm]]</a> 设为
                        <var>closeAlgorithm</var>。
                    </p>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn"
                            href="#writablestreamdefaultcontroller-abortalgorithm"
                            id="ref-for-writablestreamdefaultcontroller-abortalgorithm①">[[abortAlgorithm]]</a> 设为
                        <var>abortAlgorithm</var>。
                    </p>
                <li data-md>
                    <p>令 <var>backpressure</var> 为 ! <a data-link-type="abstract-op"
                            href="#writable-stream-default-controller-get-backpressure"
                            id="ref-for-writable-stream-default-controller-get-backpressure">WritableStreamDefaultControllerGetBackpressure</a>(<var>controller</var>)。
                    </p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#writable-stream-update-backpressure"
                            id="ref-for-writable-stream-update-backpressure">WritableStreamUpdateBackpressure</a>(<var>stream</var>,
                        <var>backpressure</var>)。
                    </p>
                <li data-md>
                    <p>令 <var>startResult</var> 为执行 <var>startAlgorithm</var> 的结果。（可能会抛出异常。）</p>
                <li data-md>
                    <p>令 <var>startPromise</var> 为<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                            id="ref-for-a-promise-resolved-with②⑥">已解决的 promise</a>，值为 <var>startResult</var>。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#upon-fulfillment"
                            id="ref-for-upon-fulfillment⑥">当 <var>startPromise</var> 兑现时，</a></p>
                    <ol>
                        <li data-md>
                            <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn"
                                    href="#writablestream-state" id="ref-for-writablestream-state②⑦">[[state]]</a> 为
                                "<code>writable</code>" 或 "<code>erroring</code>"。</p>
                        <li data-md>
                            <p>将 <var>controller</var>.<a data-link-type="dfn"
                                    href="#writablestreamdefaultcontroller-started"
                                    id="ref-for-writablestreamdefaultcontroller-started②">[[started]]</a> 设为 true。</p>
                        <li data-md>
                            <p>执行 ! <a data-link-type="abstract-op"
                                    href="#writable-stream-default-controller-advance-queue-if-needed"
                                    id="ref-for-writable-stream-default-controller-advance-queue-if-needed">WritableStreamDefaultControllerAdvanceQueueIfNeeded</a>(<var>controller</var>)。
                            </p>
                    </ol>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#upon-rejection"
                            id="ref-for-upon-rejection⑧">当 <var>startPromise</var> 被拒绝，原因为 <var>r</var> 时，</a></p>
                    <ol>
                        <li data-md>
                            <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn"
                                    href="#writablestream-state" id="ref-for-writablestream-state②⑧">[[state]]</a> 为
                                "<code>writable</code>" 或 "<code>erroring</code>"。</p>
                        <li data-md>
                            <p>将 <var>controller</var>.<a data-link-type="dfn"
                                    href="#writablestreamdefaultcontroller-started"
                                    id="ref-for-writablestreamdefaultcontroller-started③">[[started]]</a> 设为 true。</p>
                        <li data-md>
                            <p>执行 ! <a data-link-type="abstract-op" href="#writable-stream-deal-with-rejection"
                                    id="ref-for-writable-stream-deal-with-rejection②">WritableStreamDealWithRejection</a>(<var>stream</var>,
                                <var>r</var>)。
                            </p>
                    </ol>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="SetUpWritableStreamDefaultControllerFromUnderlyingSink">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="SetUpWritableStreamDefaultControllerFromUnderlyingSink"
                id="set-up-writable-stream-default-controller-from-underlying-sink">SetUpWritableStreamDefaultControllerFromUnderlyingSink(<var>stream</var>,
                <var>underlyingSink</var>, <var>underlyingSinkDict</var>, <var>highWaterMark</var>,
                <var>sizeAlgorithm</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>controller</var> 为新建 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new"
                            id="ref-for-new①⑧">WritableStreamDefaultController</a>。</p>
                <li data-md>
                    <p>令 <var>startAlgorithm</var> 为返回 undefined 的算法。</p>
                <li data-md>
                    <p>令 <var>writeAlgorithm</var> 为返回<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                            id="ref-for-a-promise-resolved-with②⑦">已解决的 promise</a>，值为 undefined 的算法。</p>
                <li data-md>
                    <p>令 <var>closeAlgorithm</var> 为返回<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                            id="ref-for-a-promise-resolved-with②⑧">已解决的 promise</a>，值为 undefined 的算法。</p>
                <li data-md>
                    <p>令 <var>abortAlgorithm</var> 为返回<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                            id="ref-for-a-promise-resolved-with②⑨">已解决的 promise</a>，值为 undefined 的算法。</p>
                <li data-md>
                    <p>如果 <var>underlyingSinkDict</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-underlyingsink-start" id="ref-for-dom-underlyingsink-start③">start</a></code>"]<a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                            id="ref-for-map-exists①③">存在</a>，则将 <var>startAlgorithm</var> 设为：返回 <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#invoke-a-callback-function"
                            id="ref-for-invoke-a-callback-function⑧">调用</a> <var>underlyingSinkDict</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-underlyingsink-start" id="ref-for-dom-underlyingsink-start④">start</a></code>"]，参数列表为
                        « <var>controller</var> »，异常行为为 "<code>rethrow</code>"，<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#dfn-callback-this-value"
                            id="ref-for-dfn-callback-this-value⑥">callback this value</a> 为 <var>underlyingSink</var>
                        的算法。</p>
                <li data-md>
                    <p>如果 <var>underlyingSinkDict</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-underlyingsink-write" id="ref-for-dom-underlyingsink-write④">write</a></code>"]<a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                            id="ref-for-map-exists①④">存在</a>，则将 <var>writeAlgorithm</var> 设为：接受 <var>chunk</var> 参数，并返回
                        <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#invoke-a-callback-function"
                            id="ref-for-invoke-a-callback-function⑨">调用</a> <var>underlyingSinkDict</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-underlyingsink-write" id="ref-for-dom-underlyingsink-write⑤">write</a></code>"]，参数列表为
                        « <var>chunk</var>, <var>controller</var> »，<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#dfn-callback-this-value"
                            id="ref-for-dfn-callback-this-value⑦">callback this value</a> 为 <var>underlyingSink</var>
                        的算法。
                    </p>
                <li data-md>
                    <p>如果 <var>underlyingSinkDict</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-underlyingsink-close" id="ref-for-dom-underlyingsink-close④">close</a></code>"]<a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                            id="ref-for-map-exists①⑤">存在</a>，则将 <var>closeAlgorithm</var> 设为：返回 <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#invoke-a-callback-function"
                            id="ref-for-invoke-a-callback-function①⓪">调用</a> <var>underlyingSinkDict</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-underlyingsink-close" id="ref-for-dom-underlyingsink-close⑤">close</a></code>"]，参数列表为
                        «»，<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-callback-this-value"
                            id="ref-for-dfn-callback-this-value⑧">callback this value</a> 为 <var>underlyingSink</var>
                        的算法。</p>
                <li data-md>
                    <p>如果 <var>underlyingSinkDict</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-underlyingsink-abort" id="ref-for-dom-underlyingsink-abort③">abort</a></code>"]<a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                            id="ref-for-map-exists①⑥">存在</a>，则将 <var>abortAlgorithm</var> 设为：接受 <var>reason</var> 参数，并返回
                        <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#invoke-a-callback-function"
                            id="ref-for-invoke-a-callback-function①①">调用</a> <var>underlyingSinkDict</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-underlyingsink-abort" id="ref-for-dom-underlyingsink-abort④">abort</a></code>"]，参数列表为
                        « <var>reason</var> »，<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#dfn-callback-this-value"
                            id="ref-for-dfn-callback-this-value⑨">callback this value</a> 为 <var>underlyingSink</var>
                        的算法。
                    </p>
                <li data-md>
                    <p>执行 ? <a data-link-type="abstract-op" href="#set-up-writable-stream-default-controller"
                            id="ref-for-set-up-writable-stream-default-controller①">SetUpWritableStreamDefaultController</a>(<var>stream</var>,
                        <var>controller</var>, <var>startAlgorithm</var>, <var>writeAlgorithm</var>,
                        <var>closeAlgorithm</var>, <var>abortAlgorithm</var>, <var>highWaterMark</var>,
                        <var>sizeAlgorithm</var>)。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="WritableStreamDefaultControllerAdvanceQueueIfNeeded">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="WritableStreamDefaultControllerAdvanceQueueIfNeeded"
                id="writable-stream-default-controller-advance-queue-if-needed">WritableStreamDefaultControllerAdvanceQueueIfNeeded(<var>controller</var>)</dfn>
            执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>stream</var> 为 <var>controller</var>.<a data-link-type="dfn"
                            href="#writablestreamdefaultcontroller-stream"
                            id="ref-for-writablestreamdefaultcontroller-stream②">[[stream]]</a>。</p>
                <li data-md>
                    <p>如果 <var>controller</var>.<a data-link-type="dfn" href="#writablestreamdefaultcontroller-started"
                            id="ref-for-writablestreamdefaultcontroller-started④">[[started]]</a> 为 false，则返回。</p>
                <li data-md>
                    <p>如果 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-inflightwriterequest"
                            id="ref-for-writablestream-inflightwriterequest①①">[[inFlightWriteRequest]]</a> 不为
                        undefined，则返回。</p>
                <li data-md>
                    <p>令 <var>state</var> 为 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-state"
                            id="ref-for-writablestream-state②⑨">[[state]]</a>。</p>
                <li data-md>
                    <p class="assertion">断言：<var>state</var> 不为 "<code>closed</code>" 或 "<code>errored</code>"。</p>
                <li data-md>
                    <p>如果 <var>state</var> 为 "<code>erroring</code>"，</p>
                    <ol>
                        <li data-md>
                            <p>执行 ! <a data-link-type="abstract-op" href="#writable-stream-finish-erroring"
                                    id="ref-for-writable-stream-finish-erroring②">WritableStreamFinishErroring</a>(<var>stream</var>)。
                            </p>
                        <li data-md>
                            <p>返回。</p>
                    </ol>
                <li data-md>
                    <p>如果 <var>controller</var>.<a data-link-type="dfn" href="#writablestreamdefaultcontroller-queue"
                            id="ref-for-writablestreamdefaultcontroller-queue②">[[queue]]</a> 为空，则返回。</p>
                <li data-md>
                    <p>令 <var>value</var> 为 ! <a data-link-type="abstract-op" href="#peek-queue-value"
                            id="ref-for-peek-queue-value">PeekQueueValue</a>(<var>controller</var>)。</p>
                <li data-md>
                    <p>如果 <var>value</var> 为 <a data-link-type="dfn" href="#close-sentinel"
                            id="ref-for-close-sentinel">关闭哨兵</a>，执行 ! <a data-link-type="abstract-op"
                            href="#writable-stream-default-controller-process-close"
                            id="ref-for-writable-stream-default-controller-process-close">WritableStreamDefaultControllerProcessClose</a>(<var>controller</var>)。
                    </p>
                <li data-md>
                    <p>否则，执行 ! <a data-link-type="abstract-op" href="#writable-stream-default-controller-process-write"
                            id="ref-for-writable-stream-default-controller-process-write">WritableStreamDefaultControllerProcessWrite</a>(<var>controller</var>,
                        <var>value</var>)。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="WritableStreamDefaultControllerClearAlgorithms">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="WritableStreamDefaultControllerClearAlgorithms"
                id="writable-stream-default-controller-clear-algorithms">WritableStreamDefaultControllerClearAlgorithms(<var>controller</var>)</dfn>
            在流关闭或出错且这些算法不再会被执行时调用。移除算法引用可以让<a data-link-type="dfn" href="#underlying-sink"
                id="ref-for-underlying-sink③②">底层接收器</a>对象被垃圾回收，即使 <code
                class="idl"><a data-link-type="idl" href="#writablestream" id="ref-for-writablestream②⑨">WritableStream</a></code>
            本身仍被引用。
            <p class="note" role="note">这可以通过 <a href="https://github.com/tc39/proposal-weakrefs/">弱引用</a>观察。详见 <a
                    href="https://github.com/tc39/proposal-weakrefs/issues/31">tc39/proposal-weakrefs#31</a>。</p>
            <p>执行以下步骤：</p>
            <ol>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn"
                            href="#writablestreamdefaultcontroller-writealgorithm"
                            id="ref-for-writablestreamdefaultcontroller-writealgorithm①">[[writeAlgorithm]]</a> 设为
                        undefined。</p>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn"
                            href="#writablestreamdefaultcontroller-closealgorithm"
                            id="ref-for-writablestreamdefaultcontroller-closealgorithm①">[[closeAlgorithm]]</a> 设为
                        undefined。</p>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn"
                            href="#writablestreamdefaultcontroller-abortalgorithm"
                            id="ref-for-writablestreamdefaultcontroller-abortalgorithm②">[[abortAlgorithm]]</a> 设为
                        undefined。</p>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn"
                            href="#writablestreamdefaultcontroller-strategysizealgorithm"
                            id="ref-for-writablestreamdefaultcontroller-strategysizealgorithm①">[[strategySizeAlgorithm]]</a>
                        设为 undefined。</p>
            </ol>
            <p class="note" role="note">该算法在某些边界情况会多次执行，第一次以后不会有任何效果。</p>
        </div>
        <div class="algorithm" data-algorithm="WritableStreamDefaultControllerClose">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="WritableStreamDefaultControllerClose"
                id="writable-stream-default-controller-close">WritableStreamDefaultControllerClose(<var>controller</var>)</dfn>
            执行以下步骤：
            <ol>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#enqueue-value-with-size"
                            id="ref-for-enqueue-value-with-size①">EnqueueValueWithSize</a>(<var>controller</var>, <a
                            data-link-type="dfn" href="#close-sentinel" id="ref-for-close-sentinel①">关闭哨兵</a>, 0)。</p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op"
                            href="#writable-stream-default-controller-advance-queue-if-needed"
                            id="ref-for-writable-stream-default-controller-advance-queue-if-needed①">WritableStreamDefaultControllerAdvanceQueueIfNeeded</a>(<var>controller</var>)。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="WritableStreamDefaultControllerError">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="WritableStreamDefaultControllerError"
                id="writable-stream-default-controller-error">WritableStreamDefaultControllerError(<var>controller</var>,
                <var>error</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>stream</var> 为 <var>controller</var>.<a data-link-type="dfn"
                            href="#writablestreamdefaultcontroller-stream"
                            id="ref-for-writablestreamdefaultcontroller-stream③">[[stream]]</a>。</p>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn" href="#writablestream-state"
                            id="ref-for-writablestream-state③⓪">[[state]]</a> 为 "<code>writable</code>"。</p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#writable-stream-default-controller-clear-algorithms"
                            id="ref-for-writable-stream-default-controller-clear-algorithms①">WritableStreamDefaultControllerClearAlgorithms</a>(<var>controller</var>)。
                    </p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#writable-stream-start-erroring"
                            id="ref-for-writable-stream-start-erroring②">WritableStreamStartErroring</a>(<var>stream</var>,
                        <var>error</var>)。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="WritableStreamDefaultControllerErrorIfNeeded">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="WritableStreamDefaultControllerErrorIfNeeded"
                id="writable-stream-default-controller-error-if-needed">WritableStreamDefaultControllerErrorIfNeeded(<var>controller</var>,
                <var>error</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p>如果 <var>controller</var>.<a data-link-type="dfn" href="#writablestreamdefaultcontroller-stream"
                            id="ref-for-writablestreamdefaultcontroller-stream④">[[stream]]</a>.<a data-link-type="dfn"
                            href="#writablestream-state" id="ref-for-writablestream-state③①">[[state]]</a> 为
                        "<code>writable</code>"，执行 ! <a data-link-type="abstract-op"
                            href="#writable-stream-default-controller-error"
                            id="ref-for-writable-stream-default-controller-error①">WritableStreamDefaultControllerError</a>(<var>controller</var>,
                        <var>error</var>)。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="WritableStreamDefaultControllerGetBackpressure">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="WritableStreamDefaultControllerGetBackpressure"
                id="writable-stream-default-controller-get-backpressure">WritableStreamDefaultControllerGetBackpressure(<var>controller</var>)</dfn>
            执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>desiredSize</var> 为 ! <a data-link-type="abstract-op"
                            href="#writable-stream-default-controller-get-desired-size"
                            id="ref-for-writable-stream-default-controller-get-desired-size①">WritableStreamDefaultControllerGetDesiredSize</a>(<var>controller</var>)。
                    </p>
                <li data-md>
                    <p>如果 <var>desiredSize</var> ≤ 0，返回 true，否则返回 false。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="WritableStreamDefaultControllerGetChunkSize">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="WritableStreamDefaultControllerGetChunkSize"
                id="writable-stream-default-controller-get-chunk-size">WritableStreamDefaultControllerGetChunkSize(<var>controller</var>,
                <var>chunk</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p>如果 <var>controller</var>.<a data-link-type="dfn"
                            href="#writablestreamdefaultcontroller-strategysizealgorithm"
                            id="ref-for-writablestreamdefaultcontroller-strategysizealgorithm②">[[strategySizeAlgorithm]]</a>
                        为 undefined，则：</p>
                    <ol>
                        <li data-md>
                            <p class="assertion">断言：<var>controller</var>.<a data-link-type="dfn"
                                    href="#writablestreamdefaultcontroller-stream"
                                    id="ref-for-writablestreamdefaultcontroller-stream⑤">[[stream]]</a>.<a
                                    data-link-type="dfn" href="#writablestream-state"
                                    id="ref-for-writablestream-state③②">[[state]]</a> 不为 "<code>writable</code>"。</p>
                        <li data-md>
                            <p>返回 1。</p>
                    </ol>
                <li data-md>
                    <p>令 <var>returnValue</var> 为执行 <var>controller</var>.<a data-link-type="dfn"
                            href="#writablestreamdefaultcontroller-strategysizealgorithm"
                            id="ref-for-writablestreamdefaultcontroller-strategysizealgorithm③">[[strategySizeAlgorithm]]</a>，传入
                        <var>chunk</var>，并将结果解释为 <a data-link-type="dfn"
                            href="https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-completion-record-specification-type"
                            id="ref-for-sec-completion-record-specification-type②">completion record</a>。
                    </p>
                <li data-md>
                    <p>如果 <var>returnValue</var> 是 abrupt completion，</p>
                    <ol>
                        <li data-md>
                            <p>执行 ! <a data-link-type="abstract-op"
                                    href="#writable-stream-default-controller-error-if-needed"
                                    id="ref-for-writable-stream-default-controller-error-if-needed">WritableStreamDefaultControllerErrorIfNeeded</a>(<var>controller</var>,
                                <var>returnValue</var>.[[Value]])。
                            </p>
                        <li data-md>
                            <p>返回 1。</p>
                    </ol>
                <li data-md>
                    <p>返回 <var>returnValue</var>.[[Value]]。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="WritableStreamDefaultControllerGetDesiredSize">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="WritableStreamDefaultControllerGetDesiredSize"
                id="writable-stream-default-controller-get-desired-size">WritableStreamDefaultControllerGetDesiredSize(<var>controller</var>)</dfn>
            执行以下步骤：
            <ol>
                <li data-md>
                    <p>返回 <var>controller</var>.<a data-link-type="dfn"
                            href="#writablestreamdefaultcontroller-strategyhwm"
                            id="ref-for-writablestreamdefaultcontroller-strategyhwm①">[[strategyHWM]]</a> −
                        <var>controller</var>.<a data-link-type="dfn"
                            href="#writablestreamdefaultcontroller-queuetotalsize"
                            id="ref-for-writablestreamdefaultcontroller-queuetotalsize">[[queueTotalSize]]</a>。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="WritableStreamDefaultControllerProcessClose">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="WritableStreamDefaultControllerProcessClose"
                id="writable-stream-default-controller-process-close">WritableStreamDefaultControllerProcessClose(<var>controller</var>)</dfn>
            执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>stream</var> 为 <var>controller</var>.<a data-link-type="dfn"
                            href="#writablestreamdefaultcontroller-stream"
                            id="ref-for-writablestreamdefaultcontroller-stream⑥">[[stream]]</a>。</p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#writable-stream-mark-close-request-in-flight"
                            id="ref-for-writable-stream-mark-close-request-in-flight">WritableStreamMarkCloseRequestInFlight</a>(<var>stream</var>)。
                    </p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#dequeue-value"
                            id="ref-for-dequeue-value①">DequeueValue</a>(<var>controller</var>)。</p>
                <li data-md>
                    <p class="assertion">断言：<var>controller</var>.<a data-link-type="dfn"
                            href="#writablestreamdefaultcontroller-queue"
                            id="ref-for-writablestreamdefaultcontroller-queue③">[[queue]]</a> 为空。</p>
                <li data-md>
                    <p>令 <var>sinkClosePromise</var> 为执行 <var>controller</var>.<a data-link-type="dfn"
                            href="#writablestreamdefaultcontroller-closealgorithm"
                            id="ref-for-writablestreamdefaultcontroller-closealgorithm②">[[closeAlgorithm]]</a> 的结果。</p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#writable-stream-default-controller-clear-algorithms"
                            id="ref-for-writable-stream-default-controller-clear-algorithms②">WritableStreamDefaultControllerClearAlgorithms</a>(<var>controller</var>)。
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#upon-fulfillment"
                            id="ref-for-upon-fulfillment⑦">当 <var>sinkClosePromise</var> 兑现时，</a></p>
                    <ol>
                        <li data-md>
                            <p>执行 ! <a data-link-type="abstract-op" href="#writable-stream-finish-in-flight-close"
                                    id="ref-for-writable-stream-finish-in-flight-close">WritableStreamFinishInFlightClose</a>(<var>stream</var>)。
                            </p>
                    </ol>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#upon-rejection"
                            id="ref-for-upon-rejection⑨">当 <var>sinkClosePromise</var> 被拒绝，原因为 <var>reason</var> 时，</a>
                    </p>
                    <ol>
                        <li data-md>
                            <p>执行 ! <a data-link-type="abstract-op"
                                    href="#writable-stream-finish-in-flight-close-with-error"
                                    id="ref-for-writable-stream-finish-in-flight-close-with-error">WritableStreamFinishInFlightCloseWithError</a>(<var>stream</var>,
                                <var>reason</var>)。
                            </p>
                    </ol>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="WritableStreamDefaultControllerProcessWrite">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="WritableStreamDefaultControllerProcessWrite"
                id="writable-stream-default-controller-process-write">WritableStreamDefaultControllerProcessWrite(<var>controller</var>,
                <var>chunk</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>stream</var> 为 <var>controller</var>.<a data-link-type="dfn"
                            href="#writablestreamdefaultcontroller-stream"
                            id="ref-for-writablestreamdefaultcontroller-stream⑦">[[stream]]</a>。</p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#writable-stream-mark-first-write-request-in-flight"
                            id="ref-for-writable-stream-mark-first-write-request-in-flight">WritableStreamMarkFirstWriteRequestInFlight</a>(<var>stream</var>)。
                    </p>
                <li data-md>
                    <p>令 <var>sinkWritePromise</var> 为执行 <var>controller</var>.<a data-link-type="dfn"
                            href="#writablestreamdefaultcontroller-writealgorithm"
                            id="ref-for-writablestreamdefaultcontroller-writealgorithm②">[[writeAlgorithm]]</a>，传入
                        <var>chunk</var> 的结果。
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#upon-fulfillment"
                            id="ref-for-upon-fulfillment⑧">当 <var>sinkWritePromise</var> 兑现时，</a></p>
                    <ol>
                        <li data-md>
                            <p>执行 ! <a data-link-type="abstract-op" href="#writable-stream-finish-in-flight-write"
                                    id="ref-for-writable-stream-finish-in-flight-write">WritableStreamFinishInFlightWrite</a>(<var>stream</var>)。
                            </p>
                        <li data-md>
                            <p>令 <var>state</var> 为 <var>stream</var>.<a data-link-type="dfn"
                                    href="#writablestream-state" id="ref-for-writablestream-state③③">[[state]]</a>。</p>
                        <li data-md>
                            <p class="assertion">断言：<var>state</var> 为 "<code>writable</code>" 或
                                "<code>erroring</code>"。</p>
                        <li data-md>
                            <p>执行 ! <a data-link-type="abstract-op" href="#dequeue-value"
                                    id="ref-for-dequeue-value②">DequeueValue</a>(<var>controller</var>)。</p>
                        <li data-md>
                            <p>如果 ! <a data-link-type="abstract-op" href="#writable-stream-close-queued-or-in-flight"
                                    id="ref-for-writable-stream-close-queued-or-in-flight①⓪">WritableStreamCloseQueuedOrInFlight</a>(<var>stream</var>)
                                为 false 且 <var>state</var> 为 "<code>writable</code>"，</p>
                            <ol>
                                <li data-md>
                                    <p>令 <var>backpressure</var> 为 ! <a data-link-type="abstract-op"
                                            href="#writable-stream-default-controller-get-backpressure"
                                            id="ref-for-writable-stream-default-controller-get-backpressure①">WritableStreamDefaultControllerGetBackpressure</a>(<var>controller</var>)。
                                    </p>
                                <li data-md>
                                    <p>执行 ! <a data-link-type="abstract-op" href="#writable-stream-update-backpressure"
                                            id="ref-for-writable-stream-update-backpressure①">WritableStreamUpdateBackpressure</a>(<var>stream</var>,
                                        <var>backpressure</var>)。
                                    </p>
                            </ol>
                        <li data-md>
                            <p>执行 ! <a data-link-type="abstract-op"
                                    href="#writable-stream-default-controller-advance-queue-if-needed"
                                    id="ref-for-writable-stream-default-controller-advance-queue-if-needed②">WritableStreamDefaultControllerAdvanceQueueIfNeeded</a>(<var>controller</var>)。
                            </p>
                    </ol>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#upon-rejection"
                            id="ref-for-upon-rejection①⓪">当 <var>sinkWritePromise</var> 被拒绝，原因为 <var>reason</var> 时，</a>
                    </p>
                    <ol>
                        <li data-md>
                            <p>如果 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-state"
                                    id="ref-for-writablestream-state③④">[[state]]</a> 为 "<code>writable</code>"，执行 ! <a
                                    data-link-type="abstract-op"
                                    href="#writable-stream-default-controller-clear-algorithms"
                                    id="ref-for-writable-stream-default-controller-clear-algorithms③">WritableStreamDefaultControllerClearAlgorithms</a>(<var>controller</var>)。
                            </p>
                        <li data-md>
                            <p>执行 ! <a data-link-type="abstract-op"
                                    href="#writable-stream-finish-in-flight-write-with-error"
                                    id="ref-for-writable-stream-finish-in-flight-write-with-error">WritableStreamFinishInFlightWriteWithError</a>(<var>stream</var>,
                                <var>reason</var>)。
                            </p>
                    </ol>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="WritableStreamDefaultControllerWrite">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="WritableStreamDefaultControllerWrite"
                id="writable-stream-default-controller-write">WritableStreamDefaultControllerWrite(<var>controller</var>,
                <var>chunk</var>, <var>chunkSize</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>enqueueResult</var> 为 <a data-link-type="abstract-op" href="#enqueue-value-with-size"
                            id="ref-for-enqueue-value-with-size②">EnqueueValueWithSize</a>(<var>controller</var>,
                        <var>chunk</var>, <var>chunkSize</var>)。
                    </p>
                <li data-md>
                    <p>如果 <var>enqueueResult</var> 是 abrupt completion，</p>
                    <ol>
                        <li data-md>
                            <p>执行 ! <a data-link-type="abstract-op"
                                    href="#writable-stream-default-controller-error-if-needed"
                                    id="ref-for-writable-stream-default-controller-error-if-needed①">WritableStreamDefaultControllerErrorIfNeeded</a>(<var>controller</var>,
                                <var>enqueueResult</var>.[[Value]])。
                            </p>
                        <li data-md>
                            <p>返回。</p>
                    </ol>
                <li data-md>
                    <p>令 <var>stream</var> 为 <var>controller</var>.<a data-link-type="dfn"
                            href="#writablestreamdefaultcontroller-stream"
                            id="ref-for-writablestreamdefaultcontroller-stream⑧">[[stream]]</a>。</p>
                <li data-md>
                    <p>如果 ! <a data-link-type="abstract-op" href="#writable-stream-close-queued-or-in-flight"
                            id="ref-for-writable-stream-close-queued-or-in-flight①①">WritableStreamCloseQueuedOrInFlight</a>(<var>stream</var>)
                        为 false 且 <var>stream</var>.<a data-link-type="dfn" href="#writablestream-state"
                            id="ref-for-writablestream-state③⑤">[[state]]</a> 为 "<code>writable</code>"，</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>backpressure</var> 为 ! <a data-link-type="abstract-op"
                                    href="#writable-stream-default-controller-get-backpressure"
                                    id="ref-for-writable-stream-default-controller-get-backpressure②">WritableStreamDefaultControllerGetBackpressure</a>(<var>controller</var>)。
                            </p>
                        <li data-md>
                            <p>执行 ! <a data-link-type="abstract-op" href="#writable-stream-update-backpressure"
                                    id="ref-for-writable-stream-update-backpressure②">WritableStreamUpdateBackpressure</a>(<var>stream</var>,
                                <var>backpressure</var>)。
                            </p>
                    </ol>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op"
                            href="#writable-stream-default-controller-advance-queue-if-needed"
                            id="ref-for-writable-stream-default-controller-advance-queue-if-needed③">WritableStreamDefaultControllerAdvanceQueueIfNeeded</a>(<var>controller</var>)。
                    </p>
            </ol>
        </div>
        <h2 class="heading settled" data-level="6" id="ts"><span class="secno">6. </span><span
                class="content">转换流</span><a class="self-link" href="#ts"></a></h2>
        <h3 class="heading settled" data-level="6.1" id="ts-intro"><span class="secno">6.1. </span><span
                class="content">使用转换流</span><a class="self-link" href="#ts-intro"></a></h3>
        <div class="example" id="example-basic-pipe-through">
            <a class="self-link" href="#example-basic-pipe-through"></a> 使用转换流的自然方式是在<a data-link-type="dfn"
                href="#piping" id="ref-for-piping①⓪">管道</a>中将其置于<a data-link-type="dfn" href="#readable-stream"
                id="ref-for-readable-stream①⑤">可读流</a>和<a data-link-type="dfn" href="#writable-stream"
                id="ref-for-writable-stream⑧">可写流</a>之间。来自<a data-link-type="dfn" href="#readable-stream"
                id="ref-for-readable-stream①⑥">可读流</a>到<a data-link-type="dfn" href="#writable-stream"
                id="ref-for-writable-stream⑨">可写流</a>的<a data-link-type="dfn" href="#chunk"
                id="ref-for-chunk⑥③">数据块</a>会在通过转换流时被转换。<a data-link-type="dfn" href="#backpressure"
                id="ref-for-backpressure①④">背压</a>会被遵循，因此数据不会被读取得比转换和消费更快。
            <pre class="highlight">readableStream
  <c- p>.</c->pipeThrough<c- p>(</c->transformStream<c- p>)</c->
  <c- p>.</c->pipeTo<c- p>(</c->writableStream<c- p>)</c->
  <c- p>.</c->then<c- p>(()</c-> <c- p>=></c-> console<c- p>.</c->log<c- p>(</c-><c- u>"所有数据已成功转换！"</c-><c- p>))</c->
  <c- p>.</c-><c- k>catch</c-><c- p>(</c->e <c- p>=></c-> console<c- p>.</c->error<c- p>(</c-><c- u>"发生错误！"</c-><c- p>,</c-> e<c- p>));</c->
</pre>
        </div>
        <div class="example" id="example-transform-stream-properties">
            <a class="self-link" href="#example-transform-stream-properties"></a> 你也可以直接使用转换流的 <code
                class="idl"><a data-link-type="idl" href="#ts-readable" id="ref-for-ts-readable">readable</a></code> 和
            <code class="idl"><a data-link-type="idl" href="#ts-writable" id="ref-for-ts-writable">writable</a></code>
            属性来访问可读流和可写流的常规接口。此示例中我们使用 <a data-link-type="dfn" href="#writable-side" id="ref-for-writable-side①">可写端</a>
            的 <a data-link-type="dfn" href="#writer" id="ref-for-writer⑤">writer</a> 接口提供数据。然后，将 <a data-link-type="dfn"
                href="#readable-side" id="ref-for-readable-side①">可读端</a>通过管道连接到 <code>anotherWritableStream</code>。
            <pre class="highlight"><c- a>const</c-> writer <c- o>=</c-> transformStream<c- p>.</c->writable<c- p>.</c->getWriter<c- p>();</c->
writer<c- p>.</c->write<c- p>(</c-><c- u>"输入块"</c-><c- p>);</c->
transformStream<c- p>.</c->readable<c- p>.</c->pipeTo<c- p>(</c->anotherWritableStream<c- p>);</c->
</pre>
        </div>
        <div class="example" id="example-transform-identity">
            <a class="self-link" href="#example-transform-identity"></a> <a data-link-type="dfn"
                href="#identity-transform-stream"
                id="ref-for-identity-transform-stream">恒等变换流</a>的一个用途是便捷地在可读流与可写流之间转换。例如，<code
                class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#dom-global-fetch" id="ref-for-dom-global-fetch">fetch()</a></code>
            API 接收一个可读流<a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-body"
                id="ref-for-concept-request-body">请求体</a>，但通过可写流接口上传数据会更方便。使用恒等变换流可以实现这一点：
            <pre class="highlight"><c- a>const</c-> <c- p>{</c-> writable<c- p>,</c-> readable <c- p>}</c-> <c- o>=</c-> <c- ow>new</c-> TransformStream<c- p>();</c->
fetch<c- p>(</c-><c- u>"..."</c-><c- p>,</c-> <c- p>{</c-> body<c- o>:</c-> readable <c- p>}).</c->then<c- p>(</c->response <c- p>=></c-> <c- d>/* ... */</c-><c- p>);</c->

<c- a>const</c-> writer <c- o>=</c-> writable<c- p>.</c->getWriter<c- p>();</c->
writer<c- p>.</c->write<c- p>(</c-><c- ow>new</c-> Uint8Array<c- p>([</c-><c- mh>0x73</c-><c- p>,</c-> <c- mh>0x74</c-><c- p>,</c-> <c- mh>0x72</c-><c- p>,</c-> <c- mh>0x65</c-><c- p>,</c-> <c- mh>0x61</c-><c- p>,</c-> <c- mh>0x6D</c-><c- p>,</c-> <c- mh>0x73</c-><c- p>,</c-> <c- mh>0x21</c-><c- p>]));</c->
writer<c- p>.</c->close<c- p>();</c->
</pre>
            <p>恒等变换流的另一个用途是为<a data-link-type="dfn" href="#readablestream-pipe"
                    id="ref-for-readablestream-pipe①">管道</a>增加额外缓冲区。此示例在 <code>readableStream</code> 和
                <code>writableStream</code> 之间增加了额外缓冲。
            </p>
            <pre class="highlight"><c- a>const</c-> writableStrategy <c- o>=</c-> <c- ow>new</c-> ByteLengthQueuingStrategy<c- p>({</c-> highWaterMark<c- o>:</c-> <c- mf>1024</c-> <c- o>*</c-> <c- mf>1024</c-> <c- p>});</c->

readableStream
  <c- p>.</c->pipeThrough<c- p>(</c-><c- ow>new</c-> TransformStream<c- p>(</c-><c- kc>undefined</c-><c- p>,</c-> writableStrategy<c- p>))</c->
  <c- p>.</c->pipeTo<c- p>(</c->writableStream<c- p>);</c->
</pre>
        </div>
        <h3 class="heading settled" data-level="6.2" id="ts-class"><span class="secno">6.2. </span><span
                class="content"><code
                    class="idl"><a data-link-type="idl" href="#transformstream" id="ref-for-transformstream③">TransformStream</a></code>
                类</span><a class="self-link" href="#ts-class"></a></h3>
        <p><code
                class="idl"><a data-link-type="idl" href="#transformstream" id="ref-for-transformstream④">TransformStream</a></code>
            类是通用<a data-link-type="dfn" href="#transform-stream" id="ref-for-transform-stream②">转换流</a>概念的具体实现。</p>
        <h4 class="heading settled" data-level="6.2.1" id="ts-class-definition"><span class="secno">6.2.1. </span><span
                class="content">接口定义</span><a class="self-link" href="#ts-class-definition"></a></h4>
        <p><code
                class="idl"><a data-link-type="idl" href="#transformstream" id="ref-for-transformstream⑤">TransformStream</a></code>
            类的 Web IDL 定义如下：</p>
        <pre class="idl highlight def">[Exposed=*, <a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/structured-data.html#transferable" id="ref-for-transferable②"><c- g>Transferable</c-></a>]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="transformstream"><code><c- g>TransformStream</c-></code></dfn> {
  <a class="idl-code" data-link-type="constructor" href="#ts-constructor" id="ref-for-ts-constructor①"><c- g>constructor</c-></a>(<c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object" id="ref-for-idl-object②"><c- b>object</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="TransformStream/TransformStream(transformer, writableStrategy, readableStrategy), TransformStream/constructor(transformer, writableStrategy, readableStrategy), TransformStream/TransformStream(transformer, writableStrategy), TransformStream/constructor(transformer, writableStrategy), TransformStream/TransformStream(transformer), TransformStream/constructor(transformer), TransformStream/TransformStream(), TransformStream/constructor()" data-dfn-type="argument" data-export id="dom-transformstream-transformstream-transformer-writablestrategy-readablestrategy-transformer"><code><c- g>transformer</c-></code></dfn>,
              <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-queuingstrategy" id="ref-for-dictdef-queuingstrategy②"><c- n>QueuingStrategy</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="TransformStream/TransformStream(transformer, writableStrategy, readableStrategy), TransformStream/constructor(transformer, writableStrategy, readableStrategy), TransformStream/TransformStream(transformer, writableStrategy), TransformStream/constructor(transformer, writableStrategy), TransformStream/TransformStream(transformer), TransformStream/constructor(transformer), TransformStream/TransformStream(), TransformStream/constructor()" data-dfn-type="argument" data-export id="dom-transformstream-transformstream-transformer-writablestrategy-readablestrategy-writablestrategy"><code><c- g>writableStrategy</c-></code></dfn> = {},
              <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-queuingstrategy" id="ref-for-dictdef-queuingstrategy③"><c- n>QueuingStrategy</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="TransformStream/TransformStream(transformer, writableStrategy, readableStrategy), TransformStream/constructor(transformer, writableStrategy, readableStrategy), TransformStream/TransformStream(transformer, writableStrategy), TransformStream/constructor(transformer, writableStrategy), TransformStream/TransformStream(transformer), TransformStream/constructor(transformer), TransformStream/TransformStream(), TransformStream/constructor()" data-dfn-type="argument" data-export id="dom-transformstream-transformstream-transformer-writablestrategy-readablestrategy-readablestrategy"><code><c- g>readableStrategy</c-></code></dfn> = {});

  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#readablestream" id="ref-for-readablestream④⑨"><c- n>ReadableStream</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="ReadableStream" href="#ts-readable" id="ref-for-ts-readable①"><c- g>readable</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#writablestream" id="ref-for-writablestream③⓪"><c- n>WritableStream</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="WritableStream" href="#ts-writable" id="ref-for-ts-writable①"><c- g>writable</c-></a>;
};
</pre>
        <h4 class="heading settled" data-level="6.2.2" id="ts-internal-slots"><span class="secno">6.2.2. </span><span
                class="content">内部槽</span><a class="self-link" href="#ts-internal-slots"></a></h4>
        <p><code
                class="idl"><a data-link-type="idl" href="#transformstream" id="ref-for-transformstream⑥">TransformStream</a></code>
            的实例创建时拥有如下表描述的内部槽：</p>
        <table>
            <thead>
                <tr>
                    <th>内部槽
                    <th>描述（<em>非规范性</em>）
            <tbody>
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="TransformStream" data-dfn-type="dfn" data-noexport
                            id="transformstream-backpressure">[[backpressure]]</dfn>
                    <td class="non-normative">上一次观察到 <a data-link-type="dfn" href="#transformstream-readable"
                            id="ref-for-transformstream-readable">[[readable]]</a> 时是否存在背压
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="TransformStream" data-dfn-type="dfn" data-noexport
                            id="transformstream-backpressurechangepromise">[[backpressureChangePromise]]</dfn>
                    <td class="non-normative">每次 <a data-link-type="dfn" href="#transformstream-backpressure"
                            id="ref-for-transformstream-backpressure">[[backpressure]]</a> 变化时都会被 fulfill 并替换的 promise
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="TransformStream" data-dfn-type="dfn" data-noexport
                            id="transformstream-controller">[[controller]]</dfn>
                    <td class="non-normative">用以控制 <a data-link-type="dfn" href="#transformstream-readable"
                            id="ref-for-transformstream-readable①">[[readable]]</a> 和 <a data-link-type="dfn"
                            href="#transformstream-writable" id="ref-for-transformstream-writable">[[writable]]</a> 的
                        <code
                            class="idl"><a data-link-type="idl" href="#transformstreamdefaultcontroller" id="ref-for-transformstreamdefaultcontroller">TransformStreamDefaultController</a></code>
                        实例
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="TransformStream" data-dfn-type="dfn" data-export
                            id="transformstream-detached">[[Detached]]</dfn>
                    <td class="non-normative">流被 transfer 时设为 true 的布尔标志
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="TransformStream" data-dfn-type="dfn" data-noexport
                            id="transformstream-readable">[[readable]]</dfn>
                    <td class="non-normative">该对象控制的 <code
                            class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream⑤⓪">ReadableStream</a></code>
                        实例
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="TransformStream" data-dfn-type="dfn" data-noexport
                            id="transformstream-writable">[[writable]]</dfn>
                    <td class="non-normative">该对象控制的 <code
                            class="idl"><a data-link-type="idl" href="#writablestream" id="ref-for-writablestream③①">WritableStream</a></code>
                        实例
        </table>
        <h4 class="heading settled" data-level="6.2.3" id="transformer-api"><span class="secno">6.2.3. </span><span
                class="content">transformer API</span><a class="self-link" href="#transformer-api"></a></h4>
        <p><code
                class="idl"><a data-link-type="idl" href="#ts-constructor" id="ref-for-ts-constructor②">TransformStream()</a></code>
            构造函数的第一个参数接受一个表示<a data-link-type="dfn" href="#transformer" id="ref-for-transformer①">transformer</a>的
            JavaScript 对象。此对象可包含下列任意方法：</p>
        <pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-transformer"><code><c- g>Transformer</c-></code></dfn> {
  <a data-link-type="idl-name" href="#callbackdef-transformerstartcallback" id="ref-for-callbackdef-transformerstartcallback"><c- n>TransformerStartCallback</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="TransformerStartCallback" href="#dom-transformer-start" id="ref-for-dom-transformer-start"><c- g>start</c-></a>;
  <a data-link-type="idl-name" href="#callbackdef-transformertransformcallback" id="ref-for-callbackdef-transformertransformcallback"><c- n>TransformerTransformCallback</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="TransformerTransformCallback" href="#dom-transformer-transform" id="ref-for-dom-transformer-transform①"><c- g>transform</c-></a>;
  <a data-link-type="idl-name" href="#callbackdef-transformerflushcallback" id="ref-for-callbackdef-transformerflushcallback"><c- n>TransformerFlushCallback</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="TransformerFlushCallback" href="#dom-transformer-flush" id="ref-for-dom-transformer-flush"><c- g>flush</c-></a>;
  <a data-link-type="idl-name" href="#callbackdef-transformercancelcallback" id="ref-for-callbackdef-transformercancelcallback"><c- n>TransformerCancelCallback</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="TransformerCancelCallback" href="#dom-transformer-cancel" id="ref-for-dom-transformer-cancel"><c- g>cancel</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any①⑨"><c- b>any</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="any" href="#dom-transformer-readabletype" id="ref-for-dom-transformer-readabletype"><c- g>readableType</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any②⓪"><c- b>any</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="any" href="#dom-transformer-writabletype" id="ref-for-dom-transformer-writabletype"><c- g>writableType</c-></a>;
};

<c- b>callback</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="callback" data-export id="callbackdef-transformerstartcallback"><code><c- g>TransformerStartCallback</c-></code></dfn> = <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any②①"><c- b>any</c-></a> (<a data-link-type="idl-name" href="#transformstreamdefaultcontroller" id="ref-for-transformstreamdefaultcontroller①"><c- n>TransformStreamDefaultController</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="TransformerStartCallback" data-dfn-type="argument" data-export id="dom-transformerstartcallback-controller"><code><c- g>controller</c-></code></dfn>);
<c- b>callback</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="callback" data-export id="callbackdef-transformerflushcallback"><code><c- g>TransformerFlushCallback</c-></code></dfn> = <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①⑧"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined②⑧"><c- b>undefined</c-></a>> (<a data-link-type="idl-name" href="#transformstreamdefaultcontroller" id="ref-for-transformstreamdefaultcontroller②"><c- n>TransformStreamDefaultController</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="TransformerFlushCallback" data-dfn-type="argument" data-export id="dom-transformerflushcallback-controller"><code><c- g>controller</c-></code></dfn>);
<c- b>callback</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="callback" data-export id="callbackdef-transformertransformcallback"><code><c- g>TransformerTransformCallback</c-></code></dfn> = <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①⑨"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined②⑨"><c- b>undefined</c-></a>> (<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any②②"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="TransformerTransformCallback" data-dfn-type="argument" data-export id="dom-transformertransformcallback-chunk"><code><c- g>chunk</c-></code></dfn>, <a data-link-type="idl-name" href="#transformstreamdefaultcontroller" id="ref-for-transformstreamdefaultcontroller③"><c- n>TransformStreamDefaultController</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="TransformerTransformCallback" data-dfn-type="argument" data-export id="dom-transformertransformcallback-controller"><code><c- g>controller</c-></code></dfn>);
<c- b>callback</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="callback" data-export id="callbackdef-transformercancelcallback"><code><c- g>TransformerCancelCallback</c-></code></dfn> = <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②⓪"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined③⓪"><c- b>undefined</c-></a>> (<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any②③"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="TransformerCancelCallback" data-dfn-type="argument" data-export id="dom-transformercancelcallback-reason"><code><c- g>reason</c-></code></dfn>);
</pre>
        <dl>
            <dt><dfn class="dfn-paneled idl-code" data-dfn-for="Transformer" data-dfn-type="dict-member" data-export
                    data-lt="start" id="dom-transformer-start"><code>start(<var>controller</var>)</code></dfn>, <span>
                    类型为 <a data-link-type="idl-name" href="#callbackdef-transformerstartcallback"
                        id="ref-for-callbackdef-transformerstartcallback①">TransformerStartCallback</a></span>
            <dd>
                <p>在 <code
                        class="idl"><a data-link-type="idl" href="#transformstream" id="ref-for-transformstream⑦">TransformStream</a></code>
                    创建时立即调用的函数。</p>
                <p>通常用于通过 <code
                        class="idl"><a data-link-type="idl" href="#ts-default-controller-enqueue" id="ref-for-ts-default-controller-enqueue">controller.enqueue()</a></code>
                    入队前缀<a data-link-type="dfn" href="#chunk" id="ref-for-chunk⑥④">数据块</a>。这些数据块会从<a
                        data-link-type="dfn" href="#readable-side" id="ref-for-readable-side②">可读端</a>读取，不依赖于任何对<a
                        data-link-type="dfn" href="#writable-side" id="ref-for-writable-side②">可写端</a>的写入。</p>
                <p>如果此初始化过程是异步的，例如需要获取前缀块，则该函数可以返回 promise 以表示成功或失败；被拒绝的 promise 会使流出错。抛出的异常会被 <code
                        class="idl"><a data-link-type="idl" href="#ts-constructor" id="ref-for-ts-constructor③">TransformStream()</a></code>
                    构造函数重新抛出。</p>
            <dt><dfn class="dfn-paneled idl-code" data-dfn-for="Transformer" data-dfn-type="dict-member" data-export
                    data-lt="transform"
                    id="dom-transformer-transform"><code>transform(<var>chunk</var>, <var>controller</var>)</code></dfn>,
                <span> 类型为 <a data-link-type="idl-name" href="#callbackdef-transformertransformcallback"
                        id="ref-for-callbackdef-transformertransformcallback①">TransformerTransformCallback</a></span>
            <dd>
                <p>当新的<a data-link-type="dfn" href="#chunk" id="ref-for-chunk⑥⑤">数据块</a>从<a data-link-type="dfn"
                        href="#writable-side"
                        id="ref-for-writable-side③">可写端</a>写入并准备转换时调用的函数。流实现保证此函数仅在前一次转换成功后才会被调用，并且不会在 <code
                        class="idl"><a data-link-type="idl" href="#dom-transformer-start" id="ref-for-dom-transformer-start①">start()</a></code>
                    完成之前或 <code
                        class="idl"><a data-link-type="idl" href="#dom-transformer-flush" id="ref-for-dom-transformer-flush①">flush()</a></code>
                    被调用之后调用。</p>
                <p>此函数执行转换流的实际转换工作。可以使用 <code
                        class="idl"><a data-link-type="idl" href="#ts-default-controller-enqueue" id="ref-for-ts-default-controller-enqueue①">controller.enqueue()</a></code>
                    入队转换结果。这允许在可写端写入的单个数据块在可读端产生零个或多个数据块，具体取决于 <code
                        class="idl"><a data-link-type="idl" href="#ts-default-controller-enqueue" id="ref-for-ts-default-controller-enqueue②">controller.enqueue()</a></code>
                    被调用的次数。<a href="#example-ts-lipfuzz">§ 10.9 替换模板标签的转换流</a>演示了有时会入队零块的情况。</p>
                <p>如果转换过程是异步的，此函数可以返回 promise 以表示转换的成功或失败。被拒绝的 promise 会导致转换流的可读端和可写端都出错。</p>
                <p>此函数可能返回的 promise 用于确保<a href="#write-mutable-chunks">良好行为</a>的<a data-link-type="dfn"
                        href="#producer" id="ref-for-producer①⓪">生产者</a>不会在数据块完全转换前对其进行修改。（这不是规范机制保证的，而是<a
                        data-link-type="dfn" href="#producer" id="ref-for-producer①①">生产者</a>与<a data-link-type="dfn"
                        href="#transformer" id="ref-for-transformer②">transformer</a>之间的非正式约定。）</p>
                <p>如果未提供 <code
                        class="idl"><a data-link-type="idl" href="#dom-transformer-transform" id="ref-for-dom-transformer-transform②">transform()</a></code>
                    方法，则使用恒等变换，即数据块不变地从可写端传递到可读端。</p>
            <dt><dfn class="dfn-paneled idl-code" data-dfn-for="Transformer" data-dfn-type="dict-member" data-export
                    data-lt="flush" id="dom-transformer-flush"><code>flush(<var>controller</var>)</code></dfn>, <span>
                    类型为 <a data-link-type="idl-name" href="#callbackdef-transformerflushcallback"
                        id="ref-for-callbackdef-transformerflushcallback①">TransformerFlushCallback</a></span>
            <dd>
                <p>所有写入<a data-link-type="dfn" href="#writable-side" id="ref-for-writable-side④">可写端</a>的数据块都已通过 <code
                        class="idl"><a data-link-type="idl" href="#dom-transformer-transform" id="ref-for-dom-transformer-transform③">transform()</a></code>
                    成功转换后，且可写端即将关闭时调用的函数。</p>
                <p>通常用于在可读端关闭前，将后缀数据块入队到<a data-link-type="dfn" href="#readable-side"
                        id="ref-for-readable-side④">可读端</a>。可见示例 <a href="#example-ts-lipfuzz">§ 10.9 替换模板标签的转换流</a>。
                </p>
                <p>如果刷新过程是异步的，可返回 promise 表示成功或失败；结果会传递给 <code
                        class="idl"><a data-link-type="idl" href="#default-writer-write" id="ref-for-default-writer-write①⑤">stream.writable.write()</a></code>
                    的调用者。被拒绝的 promise 会导致流的可读端和可写端都出错。抛出异常等同于返回被拒绝的 promise。</p>
                <p>（注意无需在 <code
                        class="idl"><a data-link-type="idl" href="#dom-transformer-flush" id="ref-for-dom-transformer-flush②">flush()</a></code>
                    内调用 <code
                        class="idl"><a data-link-type="idl" href="#ts-default-controller-terminate" id="ref-for-ts-default-controller-terminate">controller.terminate()</a></code>；此时流已经在正常关闭流程中，终止反而会适得其反。）
                </p>
            <dt><dfn class="dfn-paneled idl-code" data-dfn-for="Transformer" data-dfn-type="dict-member" data-export
                    data-lt="cancel" id="dom-transformer-cancel"><code>cancel(<var>reason</var>)</code></dfn>, <span>
                    类型为
                    <a data-link-type="idl-name" href="#callbackdef-transformercancelcallback"
                        id="ref-for-callbackdef-transformercancelcallback①">TransformerCancelCallback</a></span>
            <dd>
                <p>当<a data-link-type="dfn" href="#readable-side" id="ref-for-readable-side⑤">可读端</a>被取消，或<a
                        data-link-type="dfn" href="#writable-side" id="ref-for-writable-side⑤">可写端</a>被中止时调用的函数。</p>
                <p>通常用于在流被中止或取消时清理底层 transformer 资源。</p>
                <p>如果取消过程是异步的，可返回 promise 表示成功或失败；结果会传递给 <code
                        class="idl"><a data-link-type="idl" href="#ws-abort" id="ref-for-ws-abort⑤">stream.writable.abort()</a></code>
                    或 <code
                        class="idl"><a data-link-type="idl" href="#rs-cancel" id="ref-for-rs-cancel⑦">stream.readable.cancel()</a></code>
                    的调用者。抛出异常等同于返回被拒绝的 promise。</p>
                <p>（注意无需在 <code
                        class="idl"><a data-link-type="idl" href="#dom-transformer-cancel" id="ref-for-dom-transformer-cancel①">cancel()</a></code>
                    内调用 <code
                        class="idl"><a data-link-type="idl" href="#ts-default-controller-terminate" id="ref-for-ts-default-controller-terminate①">controller.terminate()</a></code>；此时流已经在取消/中止流程中，终止反而会适得其反。）
                </p>
            <dt><dfn class="dfn-paneled idl-code" data-dfn-for="Transformer" data-dfn-type="dict-member" data-export
                    id="dom-transformer-readabletype"><code>readableType</code></dfn>, <span> 类型为 <a
                        data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-any"
                        id="ref-for-idl-any②④">any</a></span>
            <dd>
                <p>该属性保留用于未来使用，任何尝试赋值都会抛出异常。</p>
            <dt><dfn class="dfn-paneled idl-code" data-dfn-for="Transformer" data-dfn-type="dict-member" data-export
                    id="dom-transformer-writabletype"><code>writableType</code></dfn>, <span> 类型为 <a
                        data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-any"
                        id="ref-for-idl-any②⑤">any</a></span>
            <dd>
                <p>该属性保留用于未来使用，任何尝试赋值都会抛出异常。</p>
        </dl>
        <p>传递给 <code>controller</code> 对象的 <code
                class="idl"><a data-link-type="idl" href="#dom-transformer-start" id="ref-for-dom-transformer-start②">start()</a></code>、
            <code
                class="idl"><a data-link-type="idl" href="#dom-transformer-transform" id="ref-for-dom-transformer-transform④">transform()</a></code>
            和
            <code
                class="idl"><a data-link-type="idl" href="#dom-transformer-flush" id="ref-for-dom-transformer-flush③">flush()</a></code>
            均为 <code
                class="idl"><a data-link-type="idl" href="#transformstreamdefaultcontroller" id="ref-for-transformstreamdefaultcontroller④">TransformStreamDefaultController</a></code>
            实例，可用于向<a data-link-type="dfn" href="#readable-side" id="ref-for-readable-side⑥">可读端</a>入队数据块，或终止、错误流。
        </p>
        <h4 class="heading settled" data-level="6.2.4" id="ts-prototype"><span class="secno">6.2.4. </span><span
                class="content">构造函数与属性</span><a class="self-link" href="#ts-prototype"></a></h4>
        <dl class="domintro non-normative">
            <dt><code><var>stream</var> = new <code class="idl"><a data-link-type="idl" href="#ts-constructor" id="ref-for-ts-constructor④">TransformStream</a></code>([<var>transformer</var>[,
                <var>writableStrategy</var>[, <var>readableStrategy</var>]]])</code>
            <dd>
                <p>创建一个新的 <code
                        class="idl"><a data-link-type="idl" href="#transformstream" id="ref-for-transformstream⑧">TransformStream</a></code>，包装所提供的<a
                        data-link-type="dfn" href="#transformer" id="ref-for-transformer③">transformer</a>。关于
                    <var>transformer</var> 参数的详细信息见 <a href="#transformer-api">§ 6.2.3 transformer API</a>。
                </p>
                <p>如果未提供 <var>transformer</var> 参数，则结果将是一个<a data-link-type="dfn" href="#identity-transform-stream"
                        id="ref-for-identity-transform-stream①">恒等变换流</a>。参见<a
                        href="#example-transform-identity">该示例</a>了解其用途。</p>
                <p><var>writableStrategy</var> 和 <var>readableStrategy</var> 参数分别是<a data-link-type="dfn"
                        href="#queuing-strategy" id="ref-for-queuing-strategy⑦">队列策略</a>对象，用于 <a data-link-type="dfn"
                        href="#writable-side" id="ref-for-writable-side⑥">可写端</a>和 <a data-link-type="dfn"
                        href="#readable-side" id="ref-for-readable-side⑦">可读端</a>。这些参数会用于构造 <code
                        class="idl"><a data-link-type="idl" href="#writablestream" id="ref-for-writablestream③②">WritableStream</a></code>
                    和 <code
                        class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream⑤①">ReadableStream</a></code>
                    对象，可以为 <code
                        class="idl"><a data-link-type="idl" href="#transformstream" id="ref-for-transformstream⑨">TransformStream</a></code>
                    增加缓冲区，从而平滑转换速度的变化或增加<a data-link-type="dfn" href="#readablestream-pipe"
                        id="ref-for-readablestream-pipe②">管道</a>缓冲。若未提供，则默认为 <code
                        class="idl"><a data-link-type="idl" href="#countqueuingstrategy" id="ref-for-countqueuingstrategy③">CountQueuingStrategy</a></code>，高水位线分别为
                    1 和 0。</p>
            <dt><code><var>readable</var> = <var>stream</var>.<code class="idl"><a data-link-type="idl" href="#ts-readable" id="ref-for-ts-readable②">readable</a></code></code>
            <dd>
                <p>返回一个 <code
                        class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream⑤②">ReadableStream</a></code>，表示该转换流的<a
                        data-link-type="dfn" href="#readable-side" id="ref-for-readable-side⑧">可读端</a>。</p>
            <dt><code><var>writable</var> = <var>stream</var>.<code class="idl"><a data-link-type="idl" href="#ts-writable" id="ref-for-ts-writable②">writable</a></code></code>
            <dd>
                <p>返回一个 <code
                        class="idl"><a data-link-type="idl" href="#writablestream" id="ref-for-writablestream③③">WritableStream</a></code>，表示该转换流的<a
                        data-link-type="dfn" href="#writable-side" id="ref-for-writable-side⑦">可写端</a>。</p>
        </dl>
        <div class="algorithm" data-algorithm="TransformStream(transformer, writableStrategy, readableStrategy)"
            data-algorithm-for="TransformStream">
            <dfn class="dfn-paneled idl-code" data-dfn-for="TransformStream" data-dfn-type="constructor" data-export
                data-lt="TransformStream(transformer, writableStrategy, readableStrategy)|constructor(transformer, writableStrategy, readableStrategy)|TransformStream(transformer, writableStrategy)|constructor(transformer, writableStrategy)|TransformStream(transformer)|constructor(transformer)|TransformStream()|constructor()"
                id="ts-constructor"><code>new TransformStream(<var>transformer</var>, <var>writableStrategy</var>, <var>readableStrategy</var>)</code></dfn>
            构造步骤如下：
            <ol>
                <li data-md>
                    <p>如果 <var>transformer</var> 缺失，则设为 null。</p>
                <li data-md>
                    <p>令 <var>transformerDict</var> 为 <var>transformer</var>，<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value"
                            id="ref-for-dfn-convert-ecmascript-to-idl-value②">转换为 IDL 类型</a> <code
                            class="idl"><a data-link-type="idl" href="#dictdef-transformer" id="ref-for-dictdef-transformer">Transformer</a></code>。
                    </p>
                    <p class="note" role="note">不能直接声明 <var>transformer</var> 参数为 <code
                            class="idl"><a data-link-type="idl" href="#dictdef-transformer" id="ref-for-dictdef-transformer①">Transformer</a></code>
                        类型，否则会丢失原对象引用。需要保留对象以便后续<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#invoke-a-callback-function"
                            id="ref-for-invoke-a-callback-function①②">调用</a>其方法。</p>
                <li data-md>
                    <p>如果 <var>transformerDict</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-transformer-readabletype" id="ref-for-dom-transformer-readabletype①">readableType</a></code>"]<a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                            id="ref-for-map-exists①⑦">存在</a>，抛出 <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-rangeerror" id="ref-for-exceptiondef-rangeerror⑧">RangeError</a></code>
                        异常。</p>
                <li data-md>
                    <p>如果 <var>transformerDict</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-transformer-writabletype" id="ref-for-dom-transformer-writabletype①">writableType</a></code>"]<a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                            id="ref-for-map-exists①⑧">存在</a>，抛出 <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-rangeerror" id="ref-for-exceptiondef-rangeerror⑨">RangeError</a></code>
                        异常。</p>
                <li data-md>
                    <p>令 <var>readableHighWaterMark</var> 为 ? <a data-link-type="abstract-op"
                            href="#validate-and-normalize-high-water-mark"
                            id="ref-for-validate-and-normalize-high-water-mark③">ExtractHighWaterMark</a>(<var>readableStrategy</var>,
                        0)。</p>
                <li data-md>
                    <p>令 <var>readableSizeAlgorithm</var> 为 ! <a data-link-type="abstract-op"
                            href="#make-size-algorithm-from-size-function"
                            id="ref-for-make-size-algorithm-from-size-function②">ExtractSizeAlgorithm</a>(<var>readableStrategy</var>)。
                    </p>
                <li data-md>
                    <p>令 <var>writableHighWaterMark</var> 为 ? <a data-link-type="abstract-op"
                            href="#validate-and-normalize-high-water-mark"
                            id="ref-for-validate-and-normalize-high-water-mark④">ExtractHighWaterMark</a>(<var>writableStrategy</var>,
                        1)。</p>
                <li data-md>
                    <p>令 <var>writableSizeAlgorithm</var> 为 ! <a data-link-type="abstract-op"
                            href="#make-size-algorithm-from-size-function"
                            id="ref-for-make-size-algorithm-from-size-function③">ExtractSizeAlgorithm</a>(<var>writableStrategy</var>)。
                    </p>
                <li data-md>
                    <p>令 <var>startPromise</var> 为<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise①④">新的
                            promise</a>。</p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#initialize-transform-stream"
                            id="ref-for-initialize-transform-stream">InitializeTransformStream</a>(<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this①⓪②">this</a>, <var>startPromise</var>, <var>writableHighWaterMark</var>,
                        <var>writableSizeAlgorithm</var>, <var>readableHighWaterMark</var>,
                        <var>readableSizeAlgorithm</var>)。
                    </p>
                <li data-md>
                    <p>执行 ? <a data-link-type="abstract-op"
                            href="#set-up-transform-stream-default-controller-from-transformer"
                            id="ref-for-set-up-transform-stream-default-controller-from-transformer">SetUpTransformStreamDefaultControllerFromTransformer</a>(<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this①⓪③">this</a>, <var>transformer</var>, <var>transformerDict</var>)。</p>
                <li data-md>
                    <p>如果 <var>transformerDict</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-transformer-start" id="ref-for-dom-transformer-start③">start</a></code>"]<a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                            id="ref-for-map-exists①⑨">存在</a>，则<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve②⑦">解决</a>
                        <var>startPromise</var>，值为<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#invoke-a-callback-function"
                            id="ref-for-invoke-a-callback-function①③">调用</a> <var>transformerDict</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-transformer-start" id="ref-for-dom-transformer-start④">start</a></code>"]，
                        参数列表为 « <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this①⓪④">this</a>.<a data-link-type="dfn" href="#transformstream-controller"
                            id="ref-for-transformstream-controller">[[controller]]</a> »，
                        <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-callback-this-value"
                            id="ref-for-dfn-callback-this-value①⓪">callback this value</a> 为 <var>transformer</var>。
                    </p>
                <li data-md>
                    <p>否则，<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                            id="ref-for-resolve②⑧">解决</a> <var>startPromise</var>，值为 undefined。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="readable" data-algorithm-for="TransformStream">
            <dfn class="dfn-paneled idl-code" data-dfn-for="TransformStream" data-dfn-type="attribute" data-export
                id="ts-readable"><code>readable</code></dfn> getter 步骤如下：
            <ol>
                <li data-md>
                    <p>返回 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this①⓪⑤">this</a>.<a data-link-type="dfn" href="#transformstream-readable"
                            id="ref-for-transformstream-readable②">[[readable]]</a>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="writable" data-algorithm-for="TransformStream">
            <dfn class="dfn-paneled idl-code" data-dfn-for="TransformStream" data-dfn-type="attribute" data-export
                id="ts-writable"><code>writable</code></dfn> getter 步骤如下：
            <ol>
                <li data-md>
                    <p>返回 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this①⓪⑥">this</a>.<a data-link-type="dfn" href="#transformstream-writable"
                            id="ref-for-transformstream-writable①">[[writable]]</a>。</p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="6.2.5" id="ts-transfer"><span class="secno">6.2.5. </span><span
                class="content">通过 <code>postMessage()</code> 传递</span><a class="self-link" href="#ts-transfer"></a>
        </h4>
        <dl class="domintro">
            <dt><code>destination.postMessage(ts, { transfer: [ts] });</code>
            <dd>
                <p>将 <code
                        class="idl"><a data-link-type="idl" href="#transformstream" id="ref-for-transformstream①⓪">TransformStream</a></code>
                    发送到其他 frame、window 或 worker。</p>
                <p>被传递的流可像原始流一样使用，但其<a data-link-type="dfn" href="#readable-side" id="ref-for-readable-side⑨">可读端</a>和<a
                        data-link-type="dfn" href="#writable-side" id="ref-for-writable-side⑧">可写端</a>将被锁定，无法直接使用。</p>
        </dl>
        <div class="algorithm" data-algorithm="TransformStream transfer steps">
            <code
                class="idl"><a data-link-type="idl" href="#transformstream" id="ref-for-transformstream①①">TransformStream</a></code>
            对象是<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/structured-data.html#transferable-objects"
                id="ref-for-transferable-objects③">可转移对象</a>。它们的<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/structured-data.html#transfer-steps"
                id="ref-for-transfer-steps②">转移步骤</a>，给定 <var>value</var> 和 <var>dataHolder</var>，如下：
            <ol>
                <li data-md>
                    <p>令 <var>readable</var> 为 <var>value</var>.<a data-link-type="dfn" href="#transformstream-readable"
                            id="ref-for-transformstream-readable③">[[readable]]</a>。</p>
                <li data-md>
                    <p>令 <var>writable</var> 为 <var>value</var>.<a data-link-type="dfn" href="#transformstream-writable"
                            id="ref-for-transformstream-writable②">[[writable]]</a>。</p>
                <li data-md>
                    <p>如果 ! <a data-link-type="abstract-op" href="#is-readable-stream-locked"
                            id="ref-for-is-readable-stream-locked①①">IsReadableStreamLocked</a>(<var>readable</var>) 为
                        true，则抛出 "<code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#datacloneerror" id="ref-for-datacloneerror②">DataCloneError</a></code>"
                        <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②">DOMException</a></code>。
                    </p>
                <li data-md>
                    <p>如果 ! <a data-link-type="abstract-op" href="#is-writable-stream-locked"
                            id="ref-for-is-writable-stream-locked⑨">IsWritableStreamLocked</a>(<var>writable</var>) 为
                        true，则抛出 "<code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#datacloneerror" id="ref-for-datacloneerror③">DataCloneError</a></code>"
                        <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException③">DOMException</a></code>。
                    </p>
                <li data-md>
                    <p>设 <var>dataHolder</var>.[[readable]] 为 ! <a data-link-type="abstract-op"
                            href="https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializewithtransfer"
                            id="ref-for-structuredserializewithtransfer②">StructuredSerializeWithTransfer</a>(<var>readable</var>,
                        « <var>readable</var> »)。</p>
                <li data-md>
                    <p>设 <var>dataHolder</var>.[[writable]] 为 ! <a data-link-type="abstract-op"
                            href="https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializewithtransfer"
                            id="ref-for-structuredserializewithtransfer③">StructuredSerializeWithTransfer</a>(<var>writable</var>,
                        « <var>writable</var> »)。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="TransformStream transfer-receiving steps">
            其<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/structured-data.html#transfer-receiving-steps"
                id="ref-for-transfer-receiving-steps②">接收转移步骤</a>，给定 <var>dataHolder</var> 和 <var>value</var>，如下：
            <ol>
                <li data-md>
                    <p>令 <var>readableRecord</var> 为 ! <a data-link-type="abstract-op"
                            href="https://html.spec.whatwg.org/multipage/structured-data.html#structureddeserializewithtransfer"
                            id="ref-for-structureddeserializewithtransfer②">StructuredDeserializeWithTransfer</a>(<var>dataHolder</var>.[[readable]],
                        <a data-link-type="dfn" href="https://tc39.es/ecma262/#current-realm"
                            id="ref-for-current-realm⑧">当前 Realm</a>)。
                    </p>
                <li data-md>
                    <p>令 <var>writableRecord</var> 为 ! <a data-link-type="abstract-op"
                            href="https://html.spec.whatwg.org/multipage/structured-data.html#structureddeserializewithtransfer"
                            id="ref-for-structureddeserializewithtransfer③">StructuredDeserializeWithTransfer</a>(<var>dataHolder</var>.[[writable]],
                        <a data-link-type="dfn" href="https://tc39.es/ecma262/#current-realm"
                            id="ref-for-current-realm⑨">当前 Realm</a>)。
                    </p>
                <li data-md>
                    <p>设 <var>value</var>.<a data-link-type="dfn" href="#transformstream-readable"
                            id="ref-for-transformstream-readable④">[[readable]]</a> 为
                        <var>readableRecord</var>.[[Deserialized]]。
                    </p>
                <li data-md>
                    <p>设 <var>value</var>.<a data-link-type="dfn" href="#transformstream-writable"
                            id="ref-for-transformstream-writable③">[[writable]]</a> 为
                        <var>writableRecord</var>.[[Deserialized]]。
                    </p>
                <li data-md>
                    <p>设 <var>value</var>.<a data-link-type="dfn" href="#transformstream-backpressure"
                            id="ref-for-transformstream-backpressure①">[[backpressure]]</a>、<var>value</var>.<a
                            data-link-type="dfn" href="#transformstream-backpressurechangepromise"
                            id="ref-for-transformstream-backpressurechangepromise">[[backpressureChangePromise]]</a> 和
                        <var>value</var>.<a data-link-type="dfn" href="#transformstream-controller"
                            id="ref-for-transformstream-controller①">[[controller]]</a> 均设为 undefined。
                    </p>
            </ol>
            <p class="note" role="note"><a data-link-type="dfn" href="#transformstream-backpressure"
                    id="ref-for-transformstream-backpressure②">[[backpressure]]</a>、<a data-link-type="dfn"
                    href="#transformstream-backpressurechangepromise"
                    id="ref-for-transformstream-backpressurechangepromise①">[[backpressureChangePromise]]</a> 和 <a
                    data-link-type="dfn" href="#transformstream-controller"
                    id="ref-for-transformstream-controller②">[[controller]]</a> 槽在被传递的 <code
                    class="idl"><a data-link-type="idl" href="#transformstream" id="ref-for-transformstream①②">TransformStream</a></code>
                中不再被使用。</p>
        </div>
        <h3 class="heading settled" data-level="6.3" id="ts-default-controller-class"><span class="secno">6.3.
            </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#transformstreamdefaultcontroller" id="ref-for-transformstreamdefaultcontroller⑤">TransformStreamDefaultController</a></code>
                类</span><a class="self-link" href="#ts-default-controller-class"></a></h3>
        <p><code
                class="idl"><a data-link-type="idl" href="#transformstreamdefaultcontroller" id="ref-for-transformstreamdefaultcontroller⑥">TransformStreamDefaultController</a></code>
            类有方法可以操作关联的 <code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream⑤③">ReadableStream</a></code>
            和 <code
                class="idl"><a data-link-type="idl" href="#writablestream" id="ref-for-writablestream③④">WritableStream</a></code>。
            构造 <code
                class="idl"><a data-link-type="idl" href="#transformstream" id="ref-for-transformstream①③">TransformStream</a></code>
            时，<a data-link-type="dfn" href="#transformer" id="ref-for-transformer④">transformer</a> 对象会获得对应的 <code
                class="idl"><a data-link-type="idl" href="#transformstreamdefaultcontroller" id="ref-for-transformstreamdefaultcontroller⑦">TransformStreamDefaultController</a></code>
            实例用于操作。</p>
        <h4 class="heading settled" data-level="6.3.1" id="ts-default-controller-class-definition"><span
                class="secno">6.3.1. </span><span class="content">接口定义</span><a class="self-link"
                href="#ts-default-controller-class-definition"></a></h4>
        <p><code
                class="idl"><a data-link-type="idl" href="#transformstreamdefaultcontroller" id="ref-for-transformstreamdefaultcontroller⑧">TransformStreamDefaultController</a></code>
            类的 Web IDL 定义如下：</p>
        <pre class="idl highlight def">[Exposed=*]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="transformstreamdefaultcontroller"><code><c- g>TransformStreamDefaultController</c-></code></dfn> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double" id="ref-for-idl-unrestricted-double④"><c- b>unrestricted</c-> <c- b>double</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="unrestricted double?" href="#ts-default-controller-desired-size" id="ref-for-ts-default-controller-desired-size"><c- g>desiredSize</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined③①"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#ts-default-controller-enqueue" id="ref-for-ts-default-controller-enqueue③"><c- g>enqueue</c-></a>(<c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any②⑥"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="TransformStreamDefaultController/enqueue(chunk), TransformStreamDefaultController/enqueue()" data-dfn-type="argument" data-export id="dom-transformstreamdefaultcontroller-enqueue-chunk-chunk"><code><c- g>chunk</c-></code></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined③②"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#ts-default-controller-error" id="ref-for-ts-default-controller-error"><c- g>error</c-></a>(<c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any②⑦"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="TransformStreamDefaultController/error(reason), TransformStreamDefaultController/error()" data-dfn-type="argument" data-export id="dom-transformstreamdefaultcontroller-error-reason-reason"><code><c- g>reason</c-></code></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined③③"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#ts-default-controller-terminate" id="ref-for-ts-default-controller-terminate②"><c- g>terminate</c-></a>();
};
</pre>
        <h4 class="heading settled" data-level="6.3.2" id="ts-default-controller-internal-slots"><span
                class="secno">6.3.2. </span><span class="content">内部槽</span><a class="self-link"
                href="#ts-default-controller-internal-slots"></a></h4>
        <p><code
                class="idl"><a data-link-type="idl" href="#transformstreamdefaultcontroller" id="ref-for-transformstreamdefaultcontroller⑨">TransformStreamDefaultController</a></code>
            的实例创建时拥有如下表描述的内部槽：</p>
        <table>
            <thead>
                <tr>
                    <th>内部槽
                    <th>描述（<em>非规范性</em>）
            <tbody>
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="TransformStreamDefaultController" data-dfn-type="dfn"
                            data-noexport
                            id="transformstreamdefaultcontroller-cancelalgorithm">[[cancelAlgorithm]]</dfn>
                    <td class="non-normative">一个返回 promise 的算法，接受一个参数（取消原因），用于将取消请求传递给<a data-link-type="dfn"
                            href="#transformer" id="ref-for-transformer⑤">transformer</a>
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="TransformStreamDefaultController" data-dfn-type="dfn"
                            data-noexport id="transformstreamdefaultcontroller-finishpromise">[[finishPromise]]</dfn>
                    <td class="non-normative">一个 promise，在<a data-link-type="dfn"
                            href="#transformstreamdefaultcontroller-cancelalgorithm"
                            id="ref-for-transformstreamdefaultcontroller-cancelalgorithm">[[cancelAlgorithm]]</a>或<a
                            data-link-type="dfn" href="#transformstreamdefaultcontroller-flushalgorithm"
                            id="ref-for-transformstreamdefaultcontroller-flushalgorithm">[[flushAlgorithm]]</a>完成时
                        resolve。如果该字段未赋值（即为 undefined），则表示尚未<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#invoke-a-callback-function"
                            id="ref-for-invoke-a-callback-function①④">调用</a>这两个算法
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="TransformStreamDefaultController" data-dfn-type="dfn"
                            data-noexport id="transformstreamdefaultcontroller-flushalgorithm">[[flushAlgorithm]]</dfn>
                    <td class="non-normative">一个返回 promise 的算法，用于向<a data-link-type="dfn" href="#transformer"
                            id="ref-for-transformer⑥">transformer</a>传递关闭请求
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="TransformStreamDefaultController" data-dfn-type="dfn"
                            data-noexport id="transformstreamdefaultcontroller-stream">[[stream]]</dfn>
                    <td class="non-normative">被控制的 <code
                            class="idl"><a data-link-type="idl" href="#transformstream" id="ref-for-transformstream①④">TransformStream</a></code>
                        实例
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-for="TransformStreamDefaultController" data-dfn-type="dfn"
                            data-noexport
                            id="transformstreamdefaultcontroller-transformalgorithm">[[transformAlgorithm]]</dfn>
                    <td class="non-normative">一个返回 promise 的算法，接受一个参数（待转换的<a data-link-type="dfn" href="#chunk"
                            id="ref-for-chunk⑥⑨">数据块</a>），请求<a data-link-type="dfn" href="#transformer"
                            id="ref-for-transformer⑦">transformer</a>执行转换
        </table>
        <h4 class="heading settled" data-level="6.3.3" id="ts-default-controller-prototype"><span class="secno">6.3.3.
            </span><span class="content">方法与属性</span><a class="self-link" href="#ts-default-controller-prototype"></a>
        </h4>
        <dl class="domintro non-normative">
            <dt><code><var>desiredSize</var> = <var>controller</var>.<code class="idl"><a data-link-type="idl" href="#ts-default-controller-desired-size" id="ref-for-ts-default-controller-desired-size①">desiredSize</a></code></code>
            <dd>
                <p>返回<a data-link-type="dfn" href="#desired-size-to-fill-a-streams-internal-queue"
                        id="ref-for-desired-size-to-fill-a-streams-internal-queue⑨">填充可读端内部队列的期望大小</a>。如果队列过满，该值可能为负。
                </p>
            <dt><code><var>controller</var>.<code class="idl"><a data-link-type="idl" href="#ts-default-controller-enqueue" id="ref-for-ts-default-controller-enqueue④">enqueue</a></code>(<var>chunk</var>)</code>
            <dd>
                <p>将给定的<a data-link-type="dfn" href="#chunk" id="ref-for-chunk⑦⓪">数据块</a> <var>chunk</var>入队到被控制转换流的<a
                        data-link-type="dfn" href="#readable-side" id="ref-for-readable-side①⓪">可读端</a>。</p>
            <dt><code><var>controller</var>.<code class="idl"><a data-link-type="idl" href="#ts-default-controller-error" id="ref-for-ts-default-controller-error①">error</a></code>(<var>e</var>)</code>
            <dd>
                <p>使被控制转换流的<a data-link-type="dfn" href="#readable-side" id="ref-for-readable-side①①">可读端</a>和<a
                        data-link-type="dfn" href="#writable-side" id="ref-for-writable-side⑨">可写端</a>都出错，后续操作均会因错误
                    <var>e</var> 失败。所有排队等待转换的数据块会被丢弃。
                </p>
            <dt><code><var>controller</var>.<code class="idl"><a data-link-type="idl" href="#ts-default-controller-terminate" id="ref-for-ts-default-controller-terminate③">terminate</a></code>()</code>
            <dd>
                <p>关闭被控制转换流的<a data-link-type="dfn" href="#readable-side" id="ref-for-readable-side①②">可读端</a>，并使<a
                        data-link-type="dfn" href="#writable-side" id="ref-for-writable-side①⓪">可写端</a>出错。当<a
                        data-link-type="dfn" href="#transformer" id="ref-for-transformer⑧">transformer</a>只需要消费一部分<a
                        data-link-type="dfn" href="#chunk" id="ref-for-chunk⑦②">数据块</a>时很有用。</p>
        </dl>
        <div class="algorithm" data-algorithm="desiredSize" data-algorithm-for="TransformStreamDefaultController">
            <dfn class="dfn-paneled idl-code" data-dfn-for="TransformStreamDefaultController" data-dfn-type="attribute"
                data-export id="ts-default-controller-desired-size"><code>desiredSize</code></dfn> getter 步骤如下：
            <ol>
                <li data-md>
                    <p>令 <var>readableController</var> 为 <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⓪⑦">this</a>.<a
                            data-link-type="dfn" href="#transformstreamdefaultcontroller-stream"
                            id="ref-for-transformstreamdefaultcontroller-stream">[[stream]]</a>.<a data-link-type="dfn"
                            href="#transformstream-readable" id="ref-for-transformstream-readable⑤">[[readable]]</a>.<a
                            data-link-type="dfn" href="#readablestream-controller"
                            id="ref-for-readablestream-controller④⑥">[[controller]]</a>。</p>
                <li data-md>
                    <p>返回 ! <a data-link-type="abstract-op" href="#readable-stream-default-controller-get-desired-size"
                            id="ref-for-readable-stream-default-controller-get-desired-size②">ReadableStreamDefaultControllerGetDesiredSize</a>(<var>readableController</var>)。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="enqueue(chunk)" data-algorithm-for="TransformStreamDefaultController">
            <dfn class="dfn-paneled idl-code" data-dfn-for="TransformStreamDefaultController" data-dfn-type="method"
                data-export data-lt="enqueue(chunk)|enqueue()"
                id="ts-default-controller-enqueue"><code>enqueue(<var>chunk</var>)</code></dfn> 方法步骤如下：
            <ol>
                <li data-md>
                    <p>执行 ? <a data-link-type="abstract-op" href="#transform-stream-default-controller-enqueue"
                            id="ref-for-transform-stream-default-controller-enqueue">TransformStreamDefaultControllerEnqueue</a>(<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this①⓪⑧">this</a>, <var>chunk</var>)。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="error(e)" data-algorithm-for="TransformStreamDefaultController">
            <dfn class="dfn-paneled idl-code" data-dfn-for="TransformStreamDefaultController" data-dfn-type="method"
                data-export data-lt="error(reason)|error()|error(e)"
                id="ts-default-controller-error"><code>error(<var>e</var>)</code></dfn> 方法步骤如下：
            <ol>
                <li data-md>
                    <p>执行 ? <a data-link-type="abstract-op" href="#transform-stream-default-controller-error"
                            id="ref-for-transform-stream-default-controller-error">TransformStreamDefaultControllerError</a>(<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this①⓪⑨">this</a>, <var>e</var>)。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="terminate()" data-algorithm-for="TransformStreamDefaultController">
            <dfn class="dfn-paneled idl-code" data-dfn-for="TransformStreamDefaultController" data-dfn-type="method"
                data-export id="ts-default-controller-terminate"><code>terminate()</code></dfn> 方法步骤如下：
            <ol>
                <li data-md>
                    <p>执行 ? <a data-link-type="abstract-op" href="#transform-stream-default-controller-terminate"
                            id="ref-for-transform-stream-default-controller-terminate">TransformStreamDefaultControllerTerminate</a>(<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this①①⓪">this</a>)。</p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="6.4" id="ts-all-abstract-ops"><span class="secno">6.4. </span><span
                class="content">抽象操作</span><a class="self-link" href="#ts-all-abstract-ops"></a></h3>
        <h4 class="heading settled" data-level="6.4.1" id="ts-abstract-ops"><span class="secno">6.4.1. </span><span
                class="content">与转换流相关操作</span><a class="self-link" href="#ts-abstract-ops"></a>
        </h4>
        <p>以下抽象操作在更高层面操作 <code
                class="idl"><a data-link-type="idl" href="#transformstream" id="ref-for-transformstream①⑤">TransformStream</a></code>
            实例。</p>
        <div class="algorithm" data-algorithm="InitializeTransformStream">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="InitializeTransformStream"
                id="initialize-transform-stream">InitializeTransformStream(<var>stream</var>, <var>startPromise</var>,
                <var>writableHighWaterMark</var>, <var>writableSizeAlgorithm</var>, <var>readableHighWaterMark</var>,
                <var>readableSizeAlgorithm</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>startAlgorithm</var> 为返回 <var>startPromise</var> 的算法。</p>
                <li data-md>
                    <p>令 <var>writeAlgorithm</var> 为如下步骤，接收 <var>chunk</var> 参数：</p>
                    <ol>
                        <li data-md>
                            <p>返回 ! <a data-link-type="abstract-op"
                                    href="#transform-stream-default-sink-write-algorithm"
                                    id="ref-for-transform-stream-default-sink-write-algorithm">TransformStreamDefaultSinkWriteAlgorithm</a>(<var>stream</var>,
                                <var>chunk</var>)。
                            </p>
                    </ol>
                <li data-md>
                    <p>令 <var>abortAlgorithm</var> 为如下步骤，接收 <var>reason</var> 参数：</p>
                    <ol>
                        <li data-md>
                            <p>返回 ! <a data-link-type="abstract-op"
                                    href="#transform-stream-default-sink-abort-algorithm"
                                    id="ref-for-transform-stream-default-sink-abort-algorithm">TransformStreamDefaultSinkAbortAlgorithm</a>(<var>stream</var>,
                                <var>reason</var>)。
                            </p>
                    </ol>
                <li data-md>
                    <p>令 <var>closeAlgorithm</var> 为如下步骤：</p>
                    <ol>
                        <li data-md>
                            <p>返回 ! <a data-link-type="abstract-op"
                                    href="#transform-stream-default-sink-close-algorithm"
                                    id="ref-for-transform-stream-default-sink-close-algorithm">TransformStreamDefaultSinkCloseAlgorithm</a>(<var>stream</var>)。
                            </p>
                    </ol>
                <li data-md>
                    <p>将 <var>stream</var>.<a data-link-type="dfn" href="#transformstream-writable"
                            id="ref-for-transformstream-writable④">[[writable]]</a> 设为 ! <a data-link-type="abstract-op"
                            href="#create-writable-stream"
                            id="ref-for-create-writable-stream">CreateWritableStream</a>(<var>startAlgorithm</var>,
                        <var>writeAlgorithm</var>, <var>closeAlgorithm</var>, <var>abortAlgorithm</var>,
                        <var>writableHighWaterMark</var>, <var>writableSizeAlgorithm</var>)。
                    </p>
                <li data-md>
                    <p>令 <var>pullAlgorithm</var> 为如下步骤：</p>
                    <ol>
                        <li data-md>
                            <p>返回 ! <a data-link-type="abstract-op" href="#transform-stream-default-source-pull"
                                    id="ref-for-transform-stream-default-source-pull">TransformStreamDefaultSourcePullAlgorithm</a>(<var>stream</var>)。
                            </p>
                    </ol>
                <li data-md>
                    <p>令 <var>cancelAlgorithm</var> 为如下步骤，接收 <var>reason</var> 参数：</p>
                    <ol>
                        <li data-md>
                            <p>返回 ! <a data-link-type="abstract-op" href="#transform-stream-default-source-cancel"
                                    id="ref-for-transform-stream-default-source-cancel">TransformStreamDefaultSourceCancelAlgorithm</a>(<var>stream</var>,
                                <var>reason</var>)。
                            </p>
                    </ol>
                <li data-md>
                    <p>将 <var>stream</var>.<a data-link-type="dfn" href="#transformstream-readable"
                            id="ref-for-transformstream-readable⑥">[[readable]]</a> 设为 ! <a data-link-type="abstract-op"
                            href="#create-readable-stream"
                            id="ref-for-create-readable-stream③">CreateReadableStream</a>(<var>startAlgorithm</var>,
                        <var>pullAlgorithm</var>, <var>cancelAlgorithm</var>, <var>readableHighWaterMark</var>,
                        <var>readableSizeAlgorithm</var>)。
                    </p>
                <li data-md>
                    <p>将 <var>stream</var>.<a data-link-type="dfn" href="#transformstream-backpressure"
                            id="ref-for-transformstream-backpressure③">[[backpressure]]</a> 和 <var>stream</var>.<a
                            data-link-type="dfn" href="#transformstream-backpressurechangepromise"
                            id="ref-for-transformstream-backpressurechangepromise②">[[backpressureChangePromise]]</a> 设为
                        undefined。</p>
                    <p class="note" role="note"><a data-link-type="dfn" href="#transformstream-backpressure"
                            id="ref-for-transformstream-backpressure④">[[backpressure]]</a> 槽被设为 undefined，以便通过 <a
                            data-link-type="abstract-op" href="#transform-stream-set-backpressure"
                            id="ref-for-transform-stream-set-backpressure">TransformStreamSetBackpressure</a>
                        初始化。或者实现可以直接用布尔值并改变初始化方式。只要初始化在 transformer 的 <code
                            class="idl"><a data-link-type="idl" href="#dom-transformer-start" id="ref-for-dom-transformer-start⑤">start()</a></code>
                        方法调用前完成，用户代码不可见。</p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#transform-stream-set-backpressure"
                            id="ref-for-transform-stream-set-backpressure①">TransformStreamSetBackpressure</a>(<var>stream</var>,
                        true)。</p>
                <li data-md>
                    <p>将 <var>stream</var>.<a data-link-type="dfn" href="#transformstream-controller"
                            id="ref-for-transformstream-controller③">[[controller]]</a> 设为 undefined。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="TransformStreamError">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="TransformStreamError"
                id="transform-stream-error">TransformStreamError(<var>stream</var>, <var>e</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#readable-stream-default-controller-error"
                            id="ref-for-readable-stream-default-controller-error⑨">ReadableStreamDefaultControllerError</a>(<var>stream</var>.<a
                            data-link-type="dfn" href="#transformstream-readable"
                            id="ref-for-transformstream-readable⑦">[[readable]]</a>.<a data-link-type="dfn"
                            href="#readablestream-controller"
                            id="ref-for-readablestream-controller④⑦">[[controller]]</a>, <var>e</var>)。</p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#transform-stream-error-writable-and-unblock-write"
                            id="ref-for-transform-stream-error-writable-and-unblock-write">TransformStreamErrorWritableAndUnblockWrite</a>(<var>stream</var>,
                        <var>e</var>)。
                    </p>
            </ol>
            <p class="note" role="note">当一端或双方已出错时，该操作依然有效。因此，调用算法在处理错误时无需检查流状态。</p>
        </div>
        <div class="algorithm" data-algorithm="TransformStreamErrorWritableAndUnblockWrite">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="TransformStreamErrorWritableAndUnblockWrite"
                id="transform-stream-error-writable-and-unblock-write">TransformStreamErrorWritableAndUnblockWrite(<var>stream</var>,
                <var>e</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#transform-stream-default-controller-clear-algorithms"
                            id="ref-for-transform-stream-default-controller-clear-algorithms">TransformStreamDefaultControllerClearAlgorithms</a>(<var>stream</var>.<a
                            data-link-type="dfn" href="#transformstream-controller"
                            id="ref-for-transformstream-controller④">[[controller]]</a>)。</p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#writable-stream-default-controller-error-if-needed"
                            id="ref-for-writable-stream-default-controller-error-if-needed②">WritableStreamDefaultControllerErrorIfNeeded</a>(<var>stream</var>.<a
                            data-link-type="dfn" href="#transformstream-writable"
                            id="ref-for-transformstream-writable⑤">[[writable]]</a>.<a data-link-type="dfn"
                            href="#writablestream-controller"
                            id="ref-for-writablestream-controller①⓪">[[controller]]</a>, <var>e</var>)。</p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#transform-stream-unblock-write"
                            id="ref-for-transform-stream-unblock-write">TransformStreamUnblockWrite</a>(<var>stream</var>)。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="TransformStreamSetBackpressure">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="TransformStreamSetBackpressure"
                id="transform-stream-set-backpressure">TransformStreamSetBackpressure(<var>stream</var>,
                <var>backpressure</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn"
                            href="#transformstream-backpressure"
                            id="ref-for-transformstream-backpressure⑥">[[backpressure]]</a> 不等于 <var>backpressure</var>。
                    </p>
                <li data-md>
                    <p>如果 <var>stream</var>.<a data-link-type="dfn" href="#transformstream-backpressurechangepromise"
                            id="ref-for-transformstream-backpressurechangepromise③">[[backpressureChangePromise]]</a> 不为
                        undefined，则<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                            id="ref-for-resolve②⑨">解决</a> <var>stream</var>.<a data-link-type="dfn"
                            href="#transformstream-backpressurechangepromise"
                            id="ref-for-transformstream-backpressurechangepromise④">[[backpressureChangePromise]]</a>，值为
                        undefined。</p>
                <li data-md>
                    <p>将 <var>stream</var>.<a data-link-type="dfn" href="#transformstream-backpressurechangepromise"
                            id="ref-for-transformstream-backpressurechangepromise⑤">[[backpressureChangePromise]]</a>
                        设为<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                            id="ref-for-a-new-promise①⑤">新的 promise</a>。</p>
                <li data-md>
                    <p>将 <var>stream</var>.<a data-link-type="dfn" href="#transformstream-backpressure"
                            id="ref-for-transformstream-backpressure⑦">[[backpressure]]</a> 设为 <var>backpressure</var>。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="TransformStreamUnblockWrite">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="TransformStreamUnblockWrite"
                id="transform-stream-unblock-write">TransformStreamUnblockWrite(<var>stream</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p>如果 <var>stream</var>.<a data-link-type="dfn" href="#transformstream-backpressure"
                            id="ref-for-transformstream-backpressure⑧">[[backpressure]]</a> 为 true，则执行 ! <a
                            data-link-type="abstract-op" href="#transform-stream-set-backpressure"
                            id="ref-for-transform-stream-set-backpressure②">TransformStreamSetBackpressure</a>(<var>stream</var>,
                        false)。</p>
            </ol>
            <p class="note" role="note"><a data-link-type="abstract-op"
                    href="#transform-stream-default-sink-write-algorithm"
                    id="ref-for-transform-stream-default-sink-write-algorithm①">TransformStreamDefaultSinkWriteAlgorithm</a>
                抽象操作可能在等待 <a data-link-type="dfn" href="#transformstream-backpressurechangepromise"
                    id="ref-for-transformstream-backpressurechangepromise⑥">[[backpressureChangePromise]]</a> 槽中的
                promise 被解决。调用 <a data-link-type="abstract-op" href="#transform-stream-set-backpressure"
                    id="ref-for-transform-stream-set-backpressure③">TransformStreamSetBackpressure</a> 可保证 promise
                总能被解决。</p>
        </div>
        <h4 class="heading settled" data-level="6.4.2" id="ts-default-controller-abstract-ops"><span
                class="secno">6.4.2. </span><span class="content">默认控制器</span><a class="self-link"
                href="#ts-default-controller-abstract-ops"></a></h4>
        <p>以下抽象操作用于实现 <code
                class="idl"><a data-link-type="idl" href="#transformstreamdefaultcontroller" id="ref-for-transformstreamdefaultcontroller①⓪">TransformStreamDefaultController</a></code>
            类。</p>
        <div class="algorithm" data-algorithm="SetUpTransformStreamDefaultController">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="SetUpTransformStreamDefaultController"
                id="set-up-transform-stream-default-controller">SetUpTransformStreamDefaultController(<var>stream</var>,
                <var>controller</var>, <var>transformAlgorithm</var>, <var>flushAlgorithm</var>,
                <var>cancelAlgorithm</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var> <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#implements" id="ref-for-implements②③">实现</a>
                        <code
                            class="idl"><a data-link-type="idl" href="#transformstream" id="ref-for-transformstream①⑥">TransformStream</a></code>。
                    </p>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn" href="#transformstream-controller"
                            id="ref-for-transformstream-controller⑤">[[controller]]</a> 为 undefined。</p>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn" href="#transformstreamdefaultcontroller-stream"
                            id="ref-for-transformstreamdefaultcontroller-stream①">[[stream]]</a> 设为 <var>stream</var>。
                    </p>
                <li data-md>
                    <p>将 <var>stream</var>.<a data-link-type="dfn" href="#transformstream-controller"
                            id="ref-for-transformstream-controller⑥">[[controller]]</a> 设为 <var>controller</var>。</p>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn"
                            href="#transformstreamdefaultcontroller-transformalgorithm"
                            id="ref-for-transformstreamdefaultcontroller-transformalgorithm">[[transformAlgorithm]]</a>
                        设为 <var>transformAlgorithm</var>。</p>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn"
                            href="#transformstreamdefaultcontroller-flushalgorithm"
                            id="ref-for-transformstreamdefaultcontroller-flushalgorithm①">[[flushAlgorithm]]</a> 设为
                        <var>flushAlgorithm</var>。
                    </p>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn"
                            href="#transformstreamdefaultcontroller-cancelalgorithm"
                            id="ref-for-transformstreamdefaultcontroller-cancelalgorithm①">[[cancelAlgorithm]]</a> 设为
                        <var>cancelAlgorithm</var>。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="SetUpTransformStreamDefaultControllerFromTransformer">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="SetUpTransformStreamDefaultControllerFromTransformer"
                id="set-up-transform-stream-default-controller-from-transformer">SetUpTransformStreamDefaultControllerFromTransformer(<var>stream</var>,
                <var>transformer</var>, <var>transformerDict</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>controller</var> 为新建 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new"
                            id="ref-for-new①⑨">TransformStreamDefaultController</a>。</p>
                <li data-md>
                    <p>令 <var>transformAlgorithm</var> 为如下步骤，接收 <var>chunk</var> 参数：</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>result</var> 为 <a data-link-type="abstract-op"
                                    href="#transform-stream-default-controller-enqueue"
                                    id="ref-for-transform-stream-default-controller-enqueue①">TransformStreamDefaultControllerEnqueue</a>(<var>controller</var>,
                                <var>chunk</var>)。
                            </p>
                        <li data-md>
                            <p>如果 <var>result</var> 是 abrupt completion，返回<a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                                    id="ref-for-a-promise-rejected-with③⑥">拒绝的 promise</a>，值为
                                <var>result</var>.[[Value]]。
                            </p>
                        <li data-md>
                            <p>否则返回<a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                                    id="ref-for-a-promise-resolved-with③⓪">已解决的 promise</a>，值为 undefined。</p>
                    </ol>
                <li data-md>
                    <p>令 <var>flushAlgorithm</var> 为返回<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                            id="ref-for-a-promise-resolved-with③①">已解决的 promise</a>，值为 undefined 的算法。</p>
                <li data-md>
                    <p>令 <var>cancelAlgorithm</var> 为返回<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                            id="ref-for-a-promise-resolved-with③②">已解决的 promise</a>，值为 undefined 的算法。</p>
                <li data-md>
                    <p>如果 <var>transformerDict</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-transformer-transform" id="ref-for-dom-transformer-transform⑤">transform</a></code>"]<a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                            id="ref-for-map-exists②⓪">存在</a>，则将 <var>transformAlgorithm</var> 设为一个算法，接收 <var>chunk</var>
                        参数并返回 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#invoke-a-callback-function"
                            id="ref-for-invoke-a-callback-function①⑤">调用</a> <var>transformerDict</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-transformer-transform" id="ref-for-dom-transformer-transform⑥">transform</a></code>"]，参数列表为
                        « <var>chunk</var>, <var>controller</var> »，<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#dfn-callback-this-value"
                            id="ref-for-dfn-callback-this-value①①">callback this value</a> 为 <var>transformer</var>。</p>
                <li data-md>
                    <p>如果 <var>transformerDict</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-transformer-flush" id="ref-for-dom-transformer-flush④">flush</a></code>"]<a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                            id="ref-for-map-exists②①">存在</a>，则将 <var>flushAlgorithm</var> 设为一个算法，返回 <a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#invoke-a-callback-function"
                            id="ref-for-invoke-a-callback-function①⑥">调用</a> <var>transformerDict</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-transformer-flush" id="ref-for-dom-transformer-flush⑤">flush</a></code>"]，参数列表为
                        « <var>controller</var> »，<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#dfn-callback-this-value"
                            id="ref-for-dfn-callback-this-value①②">callback this value</a> 为 <var>transformer</var>。</p>
                <li data-md>
                    <p>如果 <var>transformerDict</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-transformer-cancel" id="ref-for-dom-transformer-cancel②">cancel</a></code>"]<a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                            id="ref-for-map-exists②②">存在</a>，则将 <var>cancelAlgorithm</var> 设为一个算法，接收 <var>reason</var>
                        参数并返回 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#invoke-a-callback-function"
                            id="ref-for-invoke-a-callback-function①⑦">调用</a> <var>transformerDict</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-transformer-cancel" id="ref-for-dom-transformer-cancel③">cancel</a></code>"]，参数列表为
                        « <var>reason</var> »，<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#dfn-callback-this-value"
                            id="ref-for-dfn-callback-this-value①③">callback this value</a> 为 <var>transformer</var>。</p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#set-up-transform-stream-default-controller"
                            id="ref-for-set-up-transform-stream-default-controller">SetUpTransformStreamDefaultController</a>(<var>stream</var>,
                        <var>controller</var>, <var>transformAlgorithm</var>, <var>flushAlgorithm</var>,
                        <var>cancelAlgorithm</var>)。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="TransformStreamDefaultControllerClearAlgorithms">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="TransformStreamDefaultControllerClearAlgorithms"
                id="transform-stream-default-controller-clear-algorithms">TransformStreamDefaultControllerClearAlgorithms(<var>controller</var>)</dfn>
            在流关闭或出错且这些算法不再会被执行时调用。移除算法引用可以让<a data-link-type="dfn" href="#transformer"
                id="ref-for-transformer⑨">transformer</a>对象被垃圾回收，即使 <code
                class="idl"><a data-link-type="idl" href="#transformstream" id="ref-for-transformstream①⑦">TransformStream</a></code>
            本身仍被引用。
            <p class="note" role="note">这可以通过 <a href="https://github.com/tc39/proposal-weakrefs/">弱引用</a>观察。详见 <a
                    href="https://github.com/tc39/proposal-weakrefs/issues/31">tc39/proposal-weakrefs#31</a>。</p>
            <p>执行以下步骤：</p>
            <ol>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn"
                            href="#transformstreamdefaultcontroller-transformalgorithm"
                            id="ref-for-transformstreamdefaultcontroller-transformalgorithm①">[[transformAlgorithm]]</a>
                        设为 undefined。</p>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn"
                            href="#transformstreamdefaultcontroller-flushalgorithm"
                            id="ref-for-transformstreamdefaultcontroller-flushalgorithm②">[[flushAlgorithm]]</a> 设为
                        undefined。</p>
                <li data-md>
                    <p>将 <var>controller</var>.<a data-link-type="dfn"
                            href="#transformstreamdefaultcontroller-cancelalgorithm"
                            id="ref-for-transformstreamdefaultcontroller-cancelalgorithm②">[[cancelAlgorithm]]</a> 设为
                        undefined。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="TransformStreamDefaultControllerEnqueue">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="TransformStreamDefaultControllerEnqueue"
                id="transform-stream-default-controller-enqueue">TransformStreamDefaultControllerEnqueue(<var>controller</var>,
                <var>chunk</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>stream</var> 为 <var>controller</var>.<a data-link-type="dfn"
                            href="#transformstreamdefaultcontroller-stream"
                            id="ref-for-transformstreamdefaultcontroller-stream②">[[stream]]</a>。</p>
                <li data-md>
                    <p>令 <var>readableController</var> 为 <var>stream</var>.<a data-link-type="dfn"
                            href="#transformstream-readable" id="ref-for-transformstream-readable⑧">[[readable]]</a>.<a
                            data-link-type="dfn" href="#readablestream-controller"
                            id="ref-for-readablestream-controller④⑧">[[controller]]</a>。</p>
                <li data-md>
                    <p>如果 ! <a data-link-type="abstract-op"
                            href="#readable-stream-default-controller-can-close-or-enqueue"
                            id="ref-for-readable-stream-default-controller-can-close-or-enqueue⑤">ReadableStreamDefaultControllerCanCloseOrEnqueue</a>(<var>readableController</var>)
                        为 false，抛出 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror⑥③">TypeError</a></code>
                        异常。</p>
                <li data-md>
                    <p>令 <var>enqueueResult</var> 为 <a data-link-type="abstract-op"
                            href="#readable-stream-default-controller-enqueue"
                            id="ref-for-readable-stream-default-controller-enqueue④">ReadableStreamDefaultControllerEnqueue</a>(<var>readableController</var>,
                        <var>chunk</var>)。
                    </p>
                <li data-md>
                    <p>如果 <var>enqueueResult</var> 是 abrupt completion，</p>
                    <ol>
                        <li data-md>
                            <p>执行 ! <a data-link-type="abstract-op"
                                    href="#transform-stream-error-writable-and-unblock-write"
                                    id="ref-for-transform-stream-error-writable-and-unblock-write①">TransformStreamErrorWritableAndUnblockWrite</a>(<var>stream</var>,
                                <var>enqueueResult</var>.[[Value]])。
                            </p>
                        <li data-md>
                            <p>抛出 <var>stream</var>.<a data-link-type="dfn" href="#transformstream-readable"
                                    id="ref-for-transformstream-readable⑨">[[readable]]</a>.<a data-link-type="dfn"
                                    href="#readablestream-storederror"
                                    id="ref-for-readablestream-storederror⑨">[[storedError]]</a>。</p>
                    </ol>
                <li data-md>
                    <p>令 <var>backpressure</var> 为 ! <a data-link-type="abstract-op"
                            href="#rs-default-controller-has-backpressure"
                            id="ref-for-rs-default-controller-has-backpressure">ReadableStreamDefaultControllerHasBackpressure</a>(<var>readableController</var>)。
                    </p>
                <li data-md>
                    <p>如果 <var>backpressure</var> 不等于 <var>stream</var>.<a data-link-type="dfn"
                            href="#transformstream-backpressure"
                            id="ref-for-transformstream-backpressure⑨">[[backpressure]]</a>，</p>
                    <ol>
                        <li data-md>
                            <p class="assertion">断言：<var>backpressure</var> 为 true。</p>
                        <li data-md>
                            <p>执行 ! <a data-link-type="abstract-op" href="#transform-stream-set-backpressure"
                                    id="ref-for-transform-stream-set-backpressure④">TransformStreamSetBackpressure</a>(<var>stream</var>,
                                true)。</p>
                    </ol>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="TransformStreamDefaultControllerError">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="TransformStreamDefaultControllerError"
                id="transform-stream-default-controller-error">TransformStreamDefaultControllerError(<var>controller</var>,
                <var>e</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#transform-stream-error"
                            id="ref-for-transform-stream-error">TransformStreamError</a>(<var>controller</var>.<a
                            data-link-type="dfn" href="#transformstreamdefaultcontroller-stream"
                            id="ref-for-transformstreamdefaultcontroller-stream③">[[stream]]</a>, <var>e</var>)。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="TransformStreamDefaultControllerPerformTransform">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="TransformStreamDefaultControllerPerformTransform"
                id="transform-stream-default-controller-perform-transform">TransformStreamDefaultControllerPerformTransform(<var>controller</var>,
                <var>chunk</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>transformPromise</var> 为执行 <var>controller</var>.<a data-link-type="dfn"
                            href="#transformstreamdefaultcontroller-transformalgorithm"
                            id="ref-for-transformstreamdefaultcontroller-transformalgorithm②">[[transformAlgorithm]]</a>，传入
                        <var>chunk</var> 的结果。
                    </p>
                <li data-md>
                    <p>返回 <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled"
                            id="ref-for-dfn-perform-steps-once-promise-is-settled③">对 <var>transformPromise</var>
                            的反应</a>，拒绝步骤如下，参数为 <var>r</var>：</p>
                    <ol>
                        <li data-md>
                            <p>执行 ! <a data-link-type="abstract-op" href="#transform-stream-error"
                                    id="ref-for-transform-stream-error①">TransformStreamError</a>(<var>controller</var>.<a
                                    data-link-type="dfn" href="#transformstreamdefaultcontroller-stream"
                                    id="ref-for-transformstreamdefaultcontroller-stream④">[[stream]]</a>, <var>r</var>)。
                            </p>
                        <li data-md>
                            <p>抛出 <var>r</var>。</p>
                    </ol>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="TransformStreamDefaultControllerTerminate">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="TransformStreamDefaultControllerTerminate"
                id="transform-stream-default-controller-terminate">TransformStreamDefaultControllerTerminate(<var>controller</var>)</dfn>
            执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>stream</var> 为 <var>controller</var>.<a data-link-type="dfn"
                            href="#transformstreamdefaultcontroller-stream"
                            id="ref-for-transformstreamdefaultcontroller-stream⑤">[[stream]]</a>。</p>
                <li data-md>
                    <p>令 <var>readableController</var> 为 <var>stream</var>.<a data-link-type="dfn"
                            href="#transformstream-readable" id="ref-for-transformstream-readable①⓪">[[readable]]</a>.<a
                            data-link-type="dfn" href="#readablestream-controller"
                            id="ref-for-readablestream-controller④⑨">[[controller]]</a>。</p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#readable-stream-default-controller-close"
                            id="ref-for-readable-stream-default-controller-close④">ReadableStreamDefaultControllerClose</a>(<var>readableController</var>)。
                    </p>
                <li data-md>
                    <p>令 <var>error</var> 为 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror⑥④">TypeError</a></code>
                        异常，表示流已被终止。</p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#transform-stream-error-writable-and-unblock-write"
                            id="ref-for-transform-stream-error-writable-and-unblock-write②">TransformStreamErrorWritableAndUnblockWrite</a>(<var>stream</var>,
                        <var>error</var>)。
                    </p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="6.4.3" id="ts-default-sink-abstract-ops"><span class="secno">6.4.3.
            </span><span class="content">默认 sink</span><a class="self-link" href="#ts-default-sink-abstract-ops"></a>
        </h4>
        <p>以下抽象操作用于实现 <a data-link-type="dfn" href="#transform-stream" id="ref-for-transform-stream③">转换流</a>的<a
                data-link-type="dfn" href="#writable-side" id="ref-for-writable-side①②">可写端</a>的<a data-link-type="dfn"
                href="#underlying-sink" id="ref-for-underlying-sink③③">底层 sink</a>。</p>
        <div class="algorithm" data-algorithm="TransformStreamDefaultSinkWriteAlgorithm">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="TransformStreamDefaultSinkWriteAlgorithm"
                id="transform-stream-default-sink-write-algorithm">TransformStreamDefaultSinkWriteAlgorithm(<var>stream</var>,
                <var>chunk</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn" href="#transformstream-writable"
                            id="ref-for-transformstream-writable⑥">[[writable]]</a>.<a data-link-type="dfn"
                            href="#writablestream-state" id="ref-for-writablestream-state③⑥">[[state]]</a> 为
                        "<code>writable</code>"。</p>
                <li data-md>
                    <p>令 <var>controller</var> 为 <var>stream</var>.<a data-link-type="dfn"
                            href="#transformstream-controller"
                            id="ref-for-transformstream-controller⑦">[[controller]]</a>。</p>
                <li data-md>
                    <p>如果 <var>stream</var>.<a data-link-type="dfn" href="#transformstream-backpressure"
                            id="ref-for-transformstream-backpressure①⓪">[[backpressure]]</a> 为 true，</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>backpressureChangePromise</var> 为 <var>stream</var>.<a data-link-type="dfn"
                                    href="#transformstream-backpressurechangepromise"
                                    id="ref-for-transformstream-backpressurechangepromise⑦">[[backpressureChangePromise]]</a>。
                            </p>
                        <li data-md>
                            <p class="assertion">断言：<var>backpressureChangePromise</var> 不为 undefined。</p>
                        <li data-md>
                            <p>返回 <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled"
                                    id="ref-for-dfn-perform-steps-once-promise-is-settled④">响应</a>
                                <var>backpressureChangePromise</var> 的如下 fulfill 步骤：
                            </p>
                            <ol>
                                <li data-md>
                                    <p>令 <var>writable</var> 为 <var>stream</var>.<a data-link-type="dfn"
                                            href="#transformstream-writable"
                                            id="ref-for-transformstream-writable⑦">[[writable]]</a>。</p>
                                <li data-md>
                                    <p>令 <var>state</var> 为 <var>writable</var>.<a data-link-type="dfn"
                                            href="#writablestream-state"
                                            id="ref-for-writablestream-state③⑦">[[state]]</a>。</p>
                                <li data-md>
                                    <p>如果 <var>state</var> 为 "<code>erroring</code>"，抛出 <var>writable</var>.<a
                                            data-link-type="dfn" href="#writablestream-storederror"
                                            id="ref-for-writablestream-storederror①⑥">[[storedError]]</a>。</p>
                                <li data-md>
                                    <p class="assertion">断言：<var>state</var> 为 "<code>writable</code>"。</p>
                                <li data-md>
                                    <p>返回 ! <a data-link-type="abstract-op"
                                            href="#transform-stream-default-controller-perform-transform"
                                            id="ref-for-transform-stream-default-controller-perform-transform">TransformStreamDefaultControllerPerformTransform</a>(<var>controller</var>,
                                        <var>chunk</var>)。
                                    </p>
                            </ol>
                    </ol>
                <li data-md>
                    <p>返回 ! <a data-link-type="abstract-op"
                            href="#transform-stream-default-controller-perform-transform"
                            id="ref-for-transform-stream-default-controller-perform-transform①">TransformStreamDefaultControllerPerformTransform</a>(<var>controller</var>,
                        <var>chunk</var>)。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="TransformStreamDefaultSinkAbortAlgorithm">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="TransformStreamDefaultSinkAbortAlgorithm"
                id="transform-stream-default-sink-abort-algorithm">TransformStreamDefaultSinkAbortAlgorithm(<var>stream</var>,
                <var>reason</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>controller</var> 为 <var>stream</var>.<a data-link-type="dfn"
                            href="#transformstream-controller"
                            id="ref-for-transformstream-controller⑧">[[controller]]</a>。</p>
                <li data-md>
                    <p>如果 <var>controller</var>.<a data-link-type="dfn"
                            href="#transformstreamdefaultcontroller-finishpromise"
                            id="ref-for-transformstreamdefaultcontroller-finishpromise">[[finishPromise]]</a> 不为
                        undefined，返回 <var>controller</var>.<a data-link-type="dfn"
                            href="#transformstreamdefaultcontroller-finishpromise"
                            id="ref-for-transformstreamdefaultcontroller-finishpromise①">[[finishPromise]]</a>。</p>
                <li data-md>
                    <p>令 <var>readable</var> 为 <var>stream</var>.<a data-link-type="dfn"
                            href="#transformstream-readable" id="ref-for-transformstream-readable①①">[[readable]]</a>。
                    </p>
                <li data-md>
                    <p>令 <var>controller</var>.<a data-link-type="dfn"
                            href="#transformstreamdefaultcontroller-finishpromise"
                            id="ref-for-transformstreamdefaultcontroller-finishpromise②">[[finishPromise]]</a> 为新的
                        promise。</p>
                <li data-md>
                    <p>令 <var>cancelPromise</var> 为执行 <var>controller</var>.<a data-link-type="dfn"
                            href="#transformstreamdefaultcontroller-cancelalgorithm"
                            id="ref-for-transformstreamdefaultcontroller-cancelalgorithm③">[[cancelAlgorithm]]</a>，传入
                        <var>reason</var> 的结果。
                    </p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#transform-stream-default-controller-clear-algorithms"
                            id="ref-for-transform-stream-default-controller-clear-algorithms①">TransformStreamDefaultControllerClearAlgorithms</a>(<var>controller</var>)。
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled"
                            id="ref-for-dfn-perform-steps-once-promise-is-settled⑤">响应</a> <var>cancelPromise</var>：</p>
                    <ol>
                        <li data-md>
                            <p>如果 <var>cancelPromise</var> 被 fulfill：</p>
                            <ol>
                                <li data-md>
                                    <p>如果 <var>readable</var>.<a data-link-type="dfn" href="#readablestream-state"
                                            id="ref-for-readablestream-state③⑦">[[state]]</a> 为
                                        "<code>errored</code>"，<a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject①⑥">拒绝</a>
                                        <var>controller</var>.<a data-link-type="dfn"
                                            href="#transformstreamdefaultcontroller-finishpromise"
                                            id="ref-for-transformstreamdefaultcontroller-finishpromise③">[[finishPromise]]</a>，原因为
                                        <var>readable</var>.<a data-link-type="dfn" href="#readablestream-storederror"
                                            id="ref-for-readablestream-storederror①⓪">[[storedError]]</a>。
                                    </p>
                                <li data-md>
                                    <p>否则：</p>
                                    <ol>
                                        <li data-md>
                                            <p>执行 ! <a data-link-type="abstract-op"
                                                    href="#readable-stream-default-controller-error"
                                                    id="ref-for-readable-stream-default-controller-error①⓪">ReadableStreamDefaultControllerError</a>(<var>readable</var>.<a
                                                    data-link-type="dfn" href="#readablestream-controller"
                                                    id="ref-for-readablestream-controller⑤⓪">[[controller]]</a>,
                                                <var>reason</var>)。
                                            </p>
                                        <li data-md>
                                            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                                    id="ref-for-resolve③⓪">解决</a> <var>controller</var>.<a
                                                    data-link-type="dfn"
                                                    href="#transformstreamdefaultcontroller-finishpromise"
                                                    id="ref-for-transformstreamdefaultcontroller-finishpromise④">[[finishPromise]]</a>，值为
                                                undefined。</p>
                                    </ol>
                            </ol>
                        <li data-md>
                            <p>如果 <var>cancelPromise</var> 被拒绝，原因为 <var>r</var>：</p>
                            <ol>
                                <li data-md>
                                    <p>执行 ! <a data-link-type="abstract-op"
                                            href="#readable-stream-default-controller-error"
                                            id="ref-for-readable-stream-default-controller-error①①">ReadableStreamDefaultControllerError</a>(<var>readable</var>.<a
                                            data-link-type="dfn" href="#readablestream-controller"
                                            id="ref-for-readablestream-controller⑤①">[[controller]]</a>, <var>r</var>)。
                                    </p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                            id="ref-for-reject①⑦">拒绝</a> <var>controller</var>.<a data-link-type="dfn"
                                            href="#transformstreamdefaultcontroller-finishpromise"
                                            id="ref-for-transformstreamdefaultcontroller-finishpromise⑤">[[finishPromise]]</a>，原因为
                                        <var>r</var>。
                                    </p>
                            </ol>
                    </ol>
                <li data-md>
                    <p>返回 <var>controller</var>.<a data-link-type="dfn"
                            href="#transformstreamdefaultcontroller-finishpromise"
                            id="ref-for-transformstreamdefaultcontroller-finishpromise⑥">[[finishPromise]]</a>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="TransformStreamDefaultSinkCloseAlgorithm">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="TransformStreamDefaultSinkCloseAlgorithm"
                id="transform-stream-default-sink-close-algorithm">TransformStreamDefaultSinkCloseAlgorithm(<var>stream</var>)</dfn>
            执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>controller</var> 为 <var>stream</var>.<a data-link-type="dfn"
                            href="#transformstream-controller"
                            id="ref-for-transformstream-controller⑨">[[controller]]</a>。</p>
                <li data-md>
                    <p>如果 <var>controller</var>.<a data-link-type="dfn"
                            href="#transformstreamdefaultcontroller-finishpromise"
                            id="ref-for-transformstreamdefaultcontroller-finishpromise⑦">[[finishPromise]]</a> 不为
                        undefined，返回 <var>controller</var>.<a data-link-type="dfn"
                            href="#transformstreamdefaultcontroller-finishpromise"
                            id="ref-for-transformstreamdefaultcontroller-finishpromise⑧">[[finishPromise]]</a>。</p>
                <li data-md>
                    <p>令 <var>readable</var> 为 <var>stream</var>.<a data-link-type="dfn"
                            href="#transformstream-readable" id="ref-for-transformstream-readable①②">[[readable]]</a>。
                    </p>
                <li data-md>
                    <p>令 <var>controller</var>.<a data-link-type="dfn"
                            href="#transformstreamdefaultcontroller-finishpromise"
                            id="ref-for-transformstreamdefaultcontroller-finishpromise⑨">[[finishPromise]]</a> 为新的
                        promise。</p>
                <li data-md>
                    <p>令 <var>flushPromise</var> 为执行 <var>controller</var>.<a data-link-type="dfn"
                            href="#transformstreamdefaultcontroller-flushalgorithm"
                            id="ref-for-transformstreamdefaultcontroller-flushalgorithm③">[[flushAlgorithm]]</a> 的结果。
                    </p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#transform-stream-default-controller-clear-algorithms"
                            id="ref-for-transform-stream-default-controller-clear-algorithms②">TransformStreamDefaultControllerClearAlgorithms</a>(<var>controller</var>)。
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled"
                            id="ref-for-dfn-perform-steps-once-promise-is-settled⑥">响应</a> <var>flushPromise</var>：</p>
                    <ol>
                        <li data-md>
                            <p>如果 <var>flushPromise</var> 被 fulfill：</p>
                            <ol>
                                <li data-md>
                                    <p>如果 <var>readable</var>.<a data-link-type="dfn" href="#readablestream-state"
                                            id="ref-for-readablestream-state③⑧">[[state]]</a> 为
                                        "<code>errored</code>"，<a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject①⑧">拒绝</a>
                                        <var>controller</var>.<a data-link-type="dfn"
                                            href="#transformstreamdefaultcontroller-finishpromise"
                                            id="ref-for-transformstreamdefaultcontroller-finishpromise①⓪">[[finishPromise]]</a>，原因为
                                        <var>readable</var>.<a data-link-type="dfn" href="#readablestream-storederror"
                                            id="ref-for-readablestream-storederror①①">[[storedError]]</a>。
                                    </p>
                                <li data-md>
                                    <p>否则：</p>
                                    <ol>
                                        <li data-md>
                                            <p>执行 ! <a data-link-type="abstract-op"
                                                    href="#readable-stream-default-controller-close"
                                                    id="ref-for-readable-stream-default-controller-close⑤">ReadableStreamDefaultControllerClose</a>(<var>readable</var>.<a
                                                    data-link-type="dfn" href="#readablestream-controller"
                                                    id="ref-for-readablestream-controller⑤②">[[controller]]</a>)。</p>
                                        <li data-md>
                                            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                                    id="ref-for-resolve③①">解决</a> <var>controller</var>.<a
                                                    data-link-type="dfn"
                                                    href="#transformstreamdefaultcontroller-finishpromise"
                                                    id="ref-for-transformstreamdefaultcontroller-finishpromise①①">[[finishPromise]]</a>，值为
                                                undefined。</p>
                                    </ol>
                            </ol>
                        <li data-md>
                            <p>如果 <var>flushPromise</var> 被拒绝，原因为 <var>r</var>：</p>
                            <ol>
                                <li data-md>
                                    <p>执行 ! <a data-link-type="abstract-op"
                                            href="#readable-stream-default-controller-error"
                                            id="ref-for-readable-stream-default-controller-error①②">ReadableStreamDefaultControllerError</a>(<var>readable</var>.<a
                                            data-link-type="dfn" href="#readablestream-controller"
                                            id="ref-for-readablestream-controller⑤③">[[controller]]</a>, <var>r</var>)。
                                    </p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                            id="ref-for-reject①⑨">拒绝</a> <var>controller</var>.<a data-link-type="dfn"
                                            href="#transformstreamdefaultcontroller-finishpromise"
                                            id="ref-for-transformstreamdefaultcontroller-finishpromise①②">[[finishPromise]]</a>，原因为
                                        <var>r</var>。
                                    </p>
                            </ol>
                    </ol>
                <li data-md>
                    <p>返回 <var>controller</var>.<a data-link-type="dfn"
                            href="#transformstreamdefaultcontroller-finishpromise"
                            id="ref-for-transformstreamdefaultcontroller-finishpromise①③">[[finishPromise]]</a>。</p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="6.4.4" id="ts-default-source-abstract-ops"><span class="secno">6.4.4.
            </span><span class="content">默认 source</span><a class="self-link"
                href="#ts-default-source-abstract-ops"></a></h4>
        <p>以下抽象操作用于实现 <a data-link-type="dfn" href="#transform-stream" id="ref-for-transform-stream④">转换流</a>的<a
                data-link-type="dfn" href="#readable-side" id="ref-for-readable-side①③">可读端</a>的<a data-link-type="dfn"
                href="#underlying-source" id="ref-for-underlying-source②⑧">底层 source</a>。</p>
        <div class="algorithm" data-algorithm="TransformStreamDefaultSourceCancelAlgorithm">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="TransformStreamDefaultSourceCancelAlgorithm"
                id="transform-stream-default-source-cancel">TransformStreamDefaultSourceCancelAlgorithm(<var>stream</var>,
                <var>reason</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p>令 <var>controller</var> 为 <var>stream</var>.<a data-link-type="dfn"
                            href="#transformstream-controller"
                            id="ref-for-transformstream-controller①⓪">[[controller]]</a>。</p>
                <li data-md>
                    <p>如果 <var>controller</var>.<a data-link-type="dfn"
                            href="#transformstreamdefaultcontroller-finishpromise"
                            id="ref-for-transformstreamdefaultcontroller-finishpromise①④">[[finishPromise]]</a> 不为
                        undefined，返回 <var>controller</var>.<a data-link-type="dfn"
                            href="#transformstreamdefaultcontroller-finishpromise"
                            id="ref-for-transformstreamdefaultcontroller-finishpromise①⑤">[[finishPromise]]</a>。</p>
                <li data-md>
                    <p>令 <var>writable</var> 为 <var>stream</var>.<a data-link-type="dfn"
                            href="#transformstream-writable" id="ref-for-transformstream-writable⑧">[[writable]]</a>。
                    </p>
                <li data-md>
                    <p>令 <var>controller</var>.<a data-link-type="dfn"
                            href="#transformstreamdefaultcontroller-finishpromise"
                            id="ref-for-transformstreamdefaultcontroller-finishpromise①⑥">[[finishPromise]]</a> 为新的
                        promise。</p>
                <li data-md>
                    <p>令 <var>cancelPromise</var> 为执行 <var>controller</var>.<a data-link-type="dfn"
                            href="#transformstreamdefaultcontroller-cancelalgorithm"
                            id="ref-for-transformstreamdefaultcontroller-cancelalgorithm④">[[cancelAlgorithm]]</a>，传入
                        <var>reason</var> 的结果。
                    </p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#transform-stream-default-controller-clear-algorithms"
                            id="ref-for-transform-stream-default-controller-clear-algorithms③">TransformStreamDefaultControllerClearAlgorithms</a>(<var>controller</var>)。
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled"
                            id="ref-for-dfn-perform-steps-once-promise-is-settled⑦">响应</a> <var>cancelPromise</var>：</p>
                    <ol>
                        <li data-md>
                            <p>如果 <var>cancelPromise</var> 被 fulfill：</p>
                            <ol>
                                <li data-md>
                                    <p>如果 <var>writable</var>.<a data-link-type="dfn" href="#writablestream-state"
                                            id="ref-for-writablestream-state③⑧">[[state]]</a> 为
                                        "<code>errored</code>"，<a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject②⓪">拒绝</a>
                                        <var>controller</var>.<a data-link-type="dfn"
                                            href="#transformstreamdefaultcontroller-finishpromise"
                                            id="ref-for-transformstreamdefaultcontroller-finishpromise①⑦">[[finishPromise]]</a>，原因为
                                        <var>writable</var>.<a data-link-type="dfn" href="#writablestream-storederror"
                                            id="ref-for-writablestream-storederror①⑦">[[storedError]]</a>。
                                    </p>
                                <li data-md>
                                    <p>否则：</p>
                                    <ol>
                                        <li data-md>
                                            <p>执行 ! <a data-link-type="abstract-op"
                                                    href="#writable-stream-default-controller-error-if-needed"
                                                    id="ref-for-writable-stream-default-controller-error-if-needed③">WritableStreamDefaultControllerErrorIfNeeded</a>(<var>writable</var>.<a
                                                    data-link-type="dfn" href="#writablestream-controller"
                                                    id="ref-for-writablestream-controller①①">[[controller]]</a>,
                                                <var>reason</var>)。
                                            </p>
                                        <li data-md>
                                            <p>执行 ! <a data-link-type="abstract-op"
                                                    href="#transform-stream-unblock-write"
                                                    id="ref-for-transform-stream-unblock-write①">TransformStreamUnblockWrite</a>(<var>stream</var>)。
                                            </p>
                                        <li data-md>
                                            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                                    id="ref-for-resolve③②">解决</a> <var>controller</var>.<a
                                                    data-link-type="dfn"
                                                    href="#transformstreamdefaultcontroller-finishpromise"
                                                    id="ref-for-transformstreamdefaultcontroller-finishpromise①⑧">[[finishPromise]]</a>，值为
                                                undefined。</p>
                                    </ol>
                            </ol>
                        <li data-md>
                            <p>如果 <var>cancelPromise</var> 被拒绝，原因为 <var>r</var>：</p>
                            <ol>
                                <li data-md>
                                    <p>执行 ! <a data-link-type="abstract-op"
                                            href="#writable-stream-default-controller-error-if-needed"
                                            id="ref-for-writable-stream-default-controller-error-if-needed④">WritableStreamDefaultControllerErrorIfNeeded</a>(<var>writable</var>.<a
                                            data-link-type="dfn" href="#writablestream-controller"
                                            id="ref-for-writablestream-controller①②">[[controller]]</a>, <var>r</var>)。
                                    </p>
                                <li data-md>
                                    <p>执行 ! <a data-link-type="abstract-op" href="#transform-stream-unblock-write"
                                            id="ref-for-transform-stream-unblock-write②">TransformStreamUnblockWrite</a>(<var>stream</var>)。
                                    </p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                            id="ref-for-reject②①">拒绝</a> <var>controller</var>.<a data-link-type="dfn"
                                            href="#transformstreamdefaultcontroller-finishpromise"
                                            id="ref-for-transformstreamdefaultcontroller-finishpromise①⑨">[[finishPromise]]</a>，原因为
                                        <var>r</var>。
                                    </p>
                            </ol>
                    </ol>
                <li data-md>
                    <p>返回 <var>controller</var>.<a data-link-type="dfn"
                            href="#transformstreamdefaultcontroller-finishpromise"
                            id="ref-for-transformstreamdefaultcontroller-finishpromise②⓪">[[finishPromise]]</a>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="TransformStreamDefaultSourcePullAlgorithm">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                data-lt="TransformStreamDefaultSourcePullAlgorithm"
                id="transform-stream-default-source-pull">TransformStreamDefaultSourcePullAlgorithm(<var>stream</var>)</dfn>
            执行以下步骤：
            <ol>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn"
                            href="#transformstream-backpressure"
                            id="ref-for-transformstream-backpressure①①">[[backpressure]]</a> 为 true。</p>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn"
                            href="#transformstream-backpressurechangepromise"
                            id="ref-for-transformstream-backpressurechangepromise⑧">[[backpressureChangePromise]]</a> 不为
                        undefined。</p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#transform-stream-set-backpressure"
                            id="ref-for-transform-stream-set-backpressure⑤">TransformStreamSetBackpressure</a>(<var>stream</var>,
                        false)。</p>
                <li data-md>
                    <p>返回 <var>stream</var>.<a data-link-type="dfn" href="#transformstream-backpressurechangepromise"
                            id="ref-for-transformstream-backpressurechangepromise⑨">[[backpressureChangePromise]]</a>。
                    </p>
            </ol>
        </div>
        <h2 class="heading settled" data-level="7" id="qs"><span class="secno">7. </span><span
                class="content">队列策略</span><a class="self-link" href="#qs"></a></h2>
        <h3 class="heading settled" data-level="7.1" id="qs-api"><span class="secno">7.1. </span><span
                class="content">队列策略 API</span><a class="self-link" href="#qs-api"></a></h3>
        <p><code
                class="idl"><a data-link-type="idl" href="#rs-constructor" id="ref-for-rs-constructor⑥">ReadableStream()</a></code>、
            <code
                class="idl"><a data-link-type="idl" href="#ws-constructor" id="ref-for-ws-constructor⑤">WritableStream()</a></code>
            和
            <code
                class="idl"><a data-link-type="idl" href="#ts-constructor" id="ref-for-ts-constructor⑤">TransformStream()</a></code>
            构造函数都至少接受一个参数，表示所创建流的合适<a data-link-type="dfn" href="#queuing-strategy"
                id="ref-for-queuing-strategy⑧">队列策略</a>。这些对象包含以下属性：
        </p>
        <pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-queuingstrategy"><code><c- g>QueuingStrategy</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double" id="ref-for-idl-unrestricted-double⑤"><c- b>unrestricted</c-> <c- b>double</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="unrestricted double" href="#dom-queuingstrategy-highwatermark" id="ref-for-dom-queuingstrategy-highwatermark③"><c- g>highWaterMark</c-></a>;
  <a data-link-type="idl-name" href="#callbackdef-queuingstrategysize" id="ref-for-callbackdef-queuingstrategysize"><c- n>QueuingStrategySize</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="QueuingStrategySize" href="#dom-queuingstrategy-size" id="ref-for-dom-queuingstrategy-size②"><c- g>size</c-></a>;
};

<c- b>callback</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="callback" data-export id="callbackdef-queuingstrategysize"><code><c- g>QueuingStrategySize</c-></code></dfn> = <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double" id="ref-for-idl-unrestricted-double⑥"><c- b>unrestricted</c-> <c- b>double</c-></a> (<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any②⑧"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="QueuingStrategySize" data-dfn-type="argument" data-export id="dom-queuingstrategysize-chunk"><code><c- g>chunk</c-></code></dfn>);
</pre>
        <dl>
            <dt><dfn class="dfn-paneled idl-code" data-dfn-for="QueuingStrategy" data-dfn-type="dict-member" data-export
                    id="dom-queuingstrategy-highwatermark"><code>highWaterMark</code></dfn>, <span> 类型为 <a
                        data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double"
                        id="ref-for-idl-unrestricted-double⑦">unrestricted double</a></span>
            <dd>
                <p>非负数，表示使用该队列策略的流的<a data-link-type="dfn" href="#high-water-mark"
                        id="ref-for-high-water-mark⑥">高水位线</a>。</p>
            <dt><dfn class="dfn-paneled idl-code" data-dfn-for="QueuingStrategy" data-dfn-type="dict-member" data-export
                    data-lt="size"
                    id="dom-queuingstrategy-size"><code>size(<var>chunk</var>)</code></dfn>（仅用于非字节流），<span>类型为 <a
                        data-link-type="idl-name" href="#callbackdef-queuingstrategysize"
                        id="ref-for-callbackdef-queuingstrategysize①">QueuingStrategySize</a></span>
            <dd>
                <p>一个函数，用于计算并返回给定<a data-link-type="dfn" href="#chunk" id="ref-for-chunk⑦③">数据块</a>值的有限非负大小。</p>
                <p>该结果用于确定<a data-link-type="dfn" href="#backpressure" id="ref-for-backpressure①⑤">背压</a>，通过相应的
                    <code>desiredSize</code> 属性体现：可能是 <code
                        class="idl"><a data-link-type="idl" href="#rs-default-controller-desired-size" id="ref-for-rs-default-controller-desired-size③">defaultController.desiredSize</a></code>、<code
                        class="idl"><a data-link-type="idl" href="#rbs-controller-desired-size" id="ref-for-rbs-controller-desired-size③">byteController.desiredSize</a></code>
                    或 <code
                        class="idl"><a data-link-type="idl" href="#default-writer-desired-size" id="ref-for-default-writer-desired-size⑦">writer.desiredSize</a></code>，依据队列策略使用位置而定。对于可读流，还决定何时调用<a
                        data-link-type="dfn" href="#underlying-source" id="ref-for-underlying-source②⑨">底层 source</a>的
                    <code
                        class="idl"><a data-link-type="idl" href="#dom-underlyingsource-pull" id="ref-for-dom-underlyingsource-pull⑧">pull()</a></code>
                    方法。
                </p>
                <p>此函数必须是幂等且无副作用，否则会造成很奇怪的结果。</p>
                <p>对于<a data-link-type="dfn" href="#readable-byte-stream"
                        id="ref-for-readable-byte-stream①⑤">可读字节流</a>，该函数不会被使用，因为数据块始终以字节计量。</p>
        </dl>
        <p>任何具有这些属性的对象都可用作队列策略对象。但我们提供了两种内建队列策略类，用于特定场景下的通用表达：<code
                class="idl"><a data-link-type="idl" href="#bytelengthqueuingstrategy" id="ref-for-bytelengthqueuingstrategy">ByteLengthQueuingStrategy</a></code>
            和 <code
                class="idl"><a data-link-type="idl" href="#countqueuingstrategy" id="ref-for-countqueuingstrategy④">CountQueuingStrategy</a></code>。
            它们的构造函数都使用以下 Web IDL 片段：</p>
        <pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-queuingstrategyinit"><code><c- g>QueuingStrategyInit</c-></code></dfn> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double" id="ref-for-idl-unrestricted-double⑧"><c- b>unrestricted</c-> <c- b>double</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="QueuingStrategyInit" data-dfn-type="dict-member" data-export data-type="unrestricted double" id="dom-queuingstrategyinit-highwatermark"><code><c- g>highWaterMark</c-></code></dfn>;
};
</pre>
        <h3 class="heading settled" data-level="7.2" id="blqs-class"><span class="secno">7.2. </span><span
                class="content"><code
                    class="idl"><a data-link-type="idl" href="#bytelengthqueuingstrategy" id="ref-for-bytelengthqueuingstrategy①">ByteLengthQueuingStrategy</a></code>
                类</span><a class="self-link" href="#blqs-class"></a></h3>
        <p>处理字节时常见的<a data-link-type="dfn" href="#queuing-strategy" id="ref-for-queuing-strategy⑨">队列策略</a>是等待输入<a
                data-link-type="dfn" href="#chunk" id="ref-for-chunk⑦④">数据块</a>的 <code>byteLength</code>
            属性累计达到指定高水位线。因此，作为内建<a data-link-type="dfn" href="#queuing-strategy"
                id="ref-for-queuing-strategy①⓪">队列策略</a>提供，可用于构造流。</p>
        <div class="example" id="example-blqs">
            <a class="self-link" href="#example-blqs"></a> 创建<a data-link-type="dfn" href="#readable-stream"
                id="ref-for-readable-stream①⑧">可读流</a>或<a data-link-type="dfn" href="#writable-stream"
                id="ref-for-writable-stream①①">可写流</a>时，可以直接提供字节长度队列策略：
            <pre class="highlight"><c- a>const</c-> stream <c- o>=</c-> <c- ow>new</c-> ReadableStream<c- p>(</c->
  <c- p>{</c-> <c- p>...</c-> <c- p>},</c->
  <c- ow>new</c-> ByteLengthQueuingStrategy<c- p>({</c-> highWaterMark<c- o>:</c-> <c- mf>16</c-> <c- o>*</c-> <c- mf>1024</c-> <c- p>})</c->
<c- p>);</c->
</pre>
            <p>在此情况下，可读流的<a data-link-type="dfn" href="#underlying-source" id="ref-for-underlying-source③⓪">底层
                    source</a>可入队总计 16 KiB 的<a data-link-type="dfn" href="#chunk"
                    id="ref-for-chunk⑦⑤">数据块</a>，然后可读流实现才会向底层 source 发出<a data-link-type="dfn" href="#backpressure"
                    id="ref-for-backpressure①⑥">背压</a>信号。</p>
            <pre class="highlight"><c- a>const</c-> stream <c- o>=</c-> <c- ow>new</c-> WritableStream<c- p>(</c->
  <c- p>{</c-> <c- p>...</c-> <c- p>},</c->
  <c- ow>new</c-> ByteLengthQueuingStrategy<c- p>({</c-> highWaterMark<c- o>:</c-> <c- mf>32</c-> <c- o>*</c-> <c- mf>1024</c-> <c- p>})</c->
<c- p>);</c->
</pre>
            <p>在此情况下，可写流的内部队列可累计 32 KiB 的<a data-link-type="dfn" href="#chunk" id="ref-for-chunk⑦⑥">数据块</a>，等待先前写入底层
                sink 完成，然后可写流才会向<a data-link-type="dfn" href="#producer" id="ref-for-producer①②">生产者</a>发出<a
                    data-link-type="dfn" href="#backpressure" id="ref-for-backpressure①⑦">背压</a>信号。</p>
        </div>
        <p class="note" role="note">无需在<a data-link-type="dfn" href="#readable-byte-stream"
                id="ref-for-readable-byte-stream①⑥">可读字节流</a>中使用 <code
                class="idl"><a data-link-type="idl" href="#bytelengthqueuingstrategy" id="ref-for-bytelengthqueuingstrategy②">ByteLengthQueuingStrategy</a></code>，因为其始终以字节计量数据块。尝试用
            <code
                class="idl"><a data-link-type="idl" href="#bytelengthqueuingstrategy" id="ref-for-bytelengthqueuingstrategy③">ByteLengthQueuingStrategy</a></code>
            构造字节流会失败。
        </p>
        <h4 class="heading settled" data-level="7.2.1" id="blqs-class-definition"><span class="secno">7.2.1.
            </span><span class="content">接口定义</span><a class="self-link" href="#blqs-class-definition"></a></h4>
        <p><code
                class="idl"><a data-link-type="idl" href="#bytelengthqueuingstrategy" id="ref-for-bytelengthqueuingstrategy④">ByteLengthQueuingStrategy</a></code>
            类的 Web IDL 定义如下：</p>
        <pre class="idl highlight def">[Exposed=*]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="bytelengthqueuingstrategy"><code><c- g>ByteLengthQueuingStrategy</c-></code></dfn> {
  <a class="idl-code" data-link-type="constructor" href="#blqs-constructor" id="ref-for-blqs-constructor"><c- g>constructor</c-></a>(<a data-link-type="idl-name" href="#dictdef-queuingstrategyinit" id="ref-for-dictdef-queuingstrategyinit"><c- n>QueuingStrategyInit</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ByteLengthQueuingStrategy/ByteLengthQueuingStrategy(init), ByteLengthQueuingStrategy/constructor(init)" data-dfn-type="argument" data-export id="dom-bytelengthqueuingstrategy-bytelengthqueuingstrategy-init-init"><code><c- g>init</c-></code></dfn>);

  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double" id="ref-for-idl-unrestricted-double⑨"><c- b>unrestricted</c-> <c- b>double</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="unrestricted double" href="#blqs-high-water-mark" id="ref-for-blqs-high-water-mark"><c- g>highWaterMark</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#Function" id="ref-for-Function"><c- n>Function</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Function" href="#blqs-size" id="ref-for-blqs-size"><c- g>size</c-></a>;
};
</pre>
        <h4 class="heading settled" data-level="7.2.2" id="blqs-internal-slots"><span class="secno">7.2.2. </span><span
                class="content">内部槽</span><a class="self-link" href="#blqs-internal-slots"></a></h4>
        <p><code
                class="idl"><a data-link-type="idl" href="#bytelengthqueuingstrategy" id="ref-for-bytelengthqueuingstrategy⑤">ByteLengthQueuingStrategy</a></code>
            实例有一个 <dfn class="dfn-paneled" data-dfn-for="ByteLengthQueuingStrategy" data-dfn-type="dfn" data-noexport
                id="bytelengthqueuingstrategy-highwatermark">[[highWaterMark]]</dfn> 内部槽，存储构造函数中给定的值。</p>
        <div class="algorithm" data-algorithm="byte length queuing strategy size function">
            此外，每个 <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#global-object"
                id="ref-for-global-object">global object</a> <var>globalObject</var> 都有一个 <dfn class="dfn-paneled"
                data-dfn-type="dfn" data-lt="byte length queuing strategy size function" data-noexport
                id="byte-length-queuing-strategy-size-function">字节长度队列策略 size 函数</dfn>，其值初始化如下：
            <ol>
                <li data-md>
                    <p>令 <var>steps</var> 如下，参数为 <var>chunk</var>：</p>
                    <ol>
                        <li data-md>
                            <p>返回 ? <a data-link-type="abstract-op"
                                    href="https://tc39.es/ecma262/multipage/abstract-operations.html#sec-getv"
                                    id="ref-for-sec-getv">GetV</a>(<var>chunk</var>, "<code>byteLength</code>")。</p>
                    </ol>
                <li data-md>
                    <p>令 <var>F</var> 为 ! <a data-link-type="abstract-op"
                            href="https://tc39.es/ecma262/multipage/ordinary-and-exotic-objects-behaviours.html#sec-createbuiltinfunction"
                            id="ref-for-sec-createbuiltinfunction">CreateBuiltinFunction</a>(<var>steps</var>, 1,
                        "<code>size</code>", « », <var>globalObject</var> 的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                            id="ref-for-concept-relevant-realm">相关 Realm</a>)。</p>
                <li data-md>
                    <p>将 <var>globalObject</var> 的 <a data-link-type="dfn"
                            href="#byte-length-queuing-strategy-size-function"
                            id="ref-for-byte-length-queuing-strategy-size-function">字节长度队列策略 size 函数</a> 设为一个 <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#Function" id="ref-for-Function②">Function</a></code>，代表对
                        <var>F</var> 的引用，<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#dfn-callback-context"
                            id="ref-for-dfn-callback-context">callback context</a> 为 <var>globalObject</var> 的 <a
                            data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                            id="ref-for-relevant-settings-object">相关设置对象</a>。
                    </p>
            </ol>
            <p class="note" role="note">此设计带有历史原因。目的是确保 <code
                    class="idl"><a data-link-type="idl" href="#blqs-size" id="ref-for-blqs-size①">size</a></code>
                是函数而不是方法，即不会检查 <code>this</code>。相关背景见 <a
                    href="https://github.com/whatwg/streams/issues/1005">whatwg/streams#1005</a> 和 <a
                    href="https://github.com/heycam/webidl/issues/819">heycam/webidl#819</a>。
            </p>
        </div>
        <h4 class="heading settled" data-level="7.2.3" id="blqs-prototype"><span class="secno">7.2.3. </span><span
                class="content">构造函数与属性</span><a class="self-link" href="#blqs-prototype"></a></h4>
        <dl class="domintro non-normative">
            <dt><code><var>strategy</var> = new <code class="idl"><a data-link-type="idl" href="#blqs-constructor" id="ref-for-blqs-constructor①">ByteLengthQueuingStrategy</a></code>({
                <code
                    class="idl"><a data-link-type="idl" href="#dom-queuingstrategyinit-highwatermark" id="ref-for-dom-queuingstrategyinit-highwatermark">highWaterMark</a></code>
                })</code>
            <dd>
                <p>创建一个新的 <code
                        class="idl"><a data-link-type="idl" href="#bytelengthqueuingstrategy" id="ref-for-bytelengthqueuingstrategy⑥">ByteLengthQueuingStrategy</a></code>，使用提供的
                    <a data-link-type="dfn" href="#high-water-mark" id="ref-for-high-water-mark⑦">高水位线</a>。
                </p>
                <p>注意，所提供的高水位线不会提前验证。如果为负数、NaN 或非数字，则生成的 <code
                        class="idl"><a data-link-type="idl" href="#bytelengthqueuingstrategy" id="ref-for-bytelengthqueuingstrategy⑦">ByteLengthQueuingStrategy</a></code>
                    会导致对应流构造函数抛出异常。</p>
            <dt><code><var>highWaterMark</var> = <var>strategy</var>.<code class="idl"><a data-link-type="idl" href="#blqs-high-water-mark" id="ref-for-blqs-high-water-mark①">highWaterMark</a></code></code>
            <dd>
                <p>返回构造函数提供的<a data-link-type="dfn" href="#high-water-mark" id="ref-for-high-water-mark⑧">高水位线</a>。</p>
            <dt><code><var>strategy</var>.<code class="idl"><a data-link-type="idl" href="#blqs-size" id="ref-for-blqs-size②">size</a></code>(<var>chunk</var>)</code>
            <dd>
                <p>通过返回 <var>chunk</var> 的 <code>byteLength</code> 属性值来衡量其大小。</p>
        </dl>
        <div class="algorithm" data-algorithm="ByteLengthQueuingStrategy(init)"
            data-algorithm-for="ByteLengthQueuingStrategy">
            <dfn class="dfn-paneled idl-code" data-dfn-for="ByteLengthQueuingStrategy" data-dfn-type="constructor"
                data-export data-lt="ByteLengthQueuingStrategy(init)|constructor(init)"
                id="blqs-constructor"><code>new ByteLengthQueuingStrategy(<var>init</var>)</code></dfn> 构造步骤如下：
            <ol>
                <li data-md>
                    <p>将 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this①①①">this</a>.<a data-link-type="dfn"
                            href="#bytelengthqueuingstrategy-highwatermark"
                            id="ref-for-bytelengthqueuingstrategy-highwatermark">[[highWaterMark]]</a> 设为
                        <var>init</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-queuingstrategyinit-highwatermark" id="ref-for-dom-queuingstrategyinit-highwatermark①">highWaterMark</a></code>"]。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="highWaterMark" data-algorithm-for="ByteLengthQueuingStrategy">
            <dfn class="dfn-paneled idl-code" data-dfn-for="ByteLengthQueuingStrategy" data-dfn-type="attribute"
                data-export id="blqs-high-water-mark"><code>highWaterMark</code></dfn> getter 步骤如下：
            <ol>
                <li data-md>
                    <p>返回 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this①①②">this</a>.<a data-link-type="dfn"
                            href="#bytelengthqueuingstrategy-highwatermark"
                            id="ref-for-bytelengthqueuingstrategy-highwatermark①">[[highWaterMark]]</a>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="size" data-algorithm-for="ByteLengthQueuingStrategy">
            <dfn class="dfn-paneled idl-code" data-dfn-for="ByteLengthQueuingStrategy" data-dfn-type="attribute"
                data-export id="blqs-size"><code>size</code></dfn> getter 步骤如下：
            <ol>
                <li data-md>
                    <p>返回 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this①①③">this</a> 的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                            id="ref-for-concept-relevant-global">相关全局对象</a>的 <a data-link-type="dfn"
                            href="#byte-length-queuing-strategy-size-function"
                            id="ref-for-byte-length-queuing-strategy-size-function①">字节长度队列策略 size 函数</a>。</p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="7.3" id="cqs-class"><span class="secno">7.3. </span><span
                class="content"><code
                    class="idl"><a data-link-type="idl" href="#countqueuingstrategy" id="ref-for-countqueuingstrategy⑤">CountQueuingStrategy</a></code>
                类</span><a class="self-link" href="#cqs-class"></a></h3>
        <p>处理通用对象流时常见的<a data-link-type="dfn" href="#queuing-strategy"
                id="ref-for-queuing-strategy①①">队列策略</a>是简单计数已累计的数据块数量，直到该数值达到指定高水位线。因此该策略也作为内建提供。</p>
        <div class="example" id="example-cqs">
            <a class="self-link" href="#example-cqs"></a> 创建<a data-link-type="dfn" href="#readable-stream"
                id="ref-for-readable-stream①⑨">可读流</a>或<a data-link-type="dfn" href="#writable-stream"
                id="ref-for-writable-stream①②">可写流</a>时，可以直接提供计数队列策略：
            <pre class="highlight"><c- a>const</c-> stream <c- o>=</c-> <c- ow>new</c-> ReadableStream<c- p>(</c->
  <c- p>{</c-> <c- p>...</c-> <c- p>},</c->
  <c- ow>new</c-> CountQueuingStrategy<c- p>({</c-> highWaterMark<c- o>:</c-> <c- mf>10</c-> <c- p>})</c->
<c- p>);</c->
</pre>
            <p>在此情况下，可读流的<a data-link-type="dfn" href="#underlying-source" id="ref-for-underlying-source③①">底层
                    source</a>可入队 10 个（任意类型的）<a data-link-type="dfn" href="#chunk"
                    id="ref-for-chunk⑦⑦">数据块</a>，然后可读流实现才会向底层 source 发出<a data-link-type="dfn" href="#backpressure"
                    id="ref-for-backpressure①⑧">背压</a>信号。</p>
            <pre class="highlight"><c- a>const</c-> stream <c- o>=</c-> <c- ow>new</c-> WritableStream<c- p>(</c->
  <c- p>{</c-> <c- p>...</c-> <c- p>},</c->
  <c- ow>new</c-> CountQueuingStrategy<c- p>({</c-> highWaterMark<c- o>:</c-> <c- mf>5</c-> <c- p>})</c->
<c- p>);</c->
</pre>
            <p>在此情况下，可写流的内部队列可累计 5 个（任意类型的）<a data-link-type="dfn" href="#chunk" id="ref-for-chunk⑦⑧">数据块</a>，等待先前写入底层
                sink 完成，然后可写流才会向<a data-link-type="dfn" href="#producer" id="ref-for-producer①③">生产者</a>发出<a
                    data-link-type="dfn" href="#backpressure" id="ref-for-backpressure①⑨">背压</a>信号。</p>
        </div>
        <h4 class="heading settled" data-level="7.3.1" id="cqs-class-definition"><span class="secno">7.3.1. </span><span
                class="content">接口定义</span><a class="self-link" href="#cqs-class-definition"></a></h4>
        <p><code
                class="idl"><a data-link-type="idl" href="#countqueuingstrategy" id="ref-for-countqueuingstrategy⑥">CountQueuingStrategy</a></code>
            类的 Web IDL 定义如下：</p>
        <pre class="idl highlight def">[Exposed=*]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="countqueuingstrategy"><code><c- g>CountQueuingStrategy</c-></code></dfn> {
  <a class="idl-code" data-link-type="constructor" href="#cqs-constructor" id="ref-for-cqs-constructor"><c- g>constructor</c-></a>(<a data-link-type="idl-name" href="#dictdef-queuingstrategyinit" id="ref-for-dictdef-queuingstrategyinit①"><c- n>QueuingStrategyInit</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CountQueuingStrategy/CountQueuingStrategy(init), CountQueuingStrategy/constructor(init)" data-dfn-type="argument" data-export id="dom-countqueuingstrategy-countqueuingstrategy-init-init"><code><c- g>init</c-></code></dfn>);

  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double" id="ref-for-idl-unrestricted-double①⓪"><c- b>unrestricted</c-> <c- b>double</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="unrestricted double" href="#cqs-high-water-mark" id="ref-for-cqs-high-water-mark"><c- g>highWaterMark</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#Function" id="ref-for-Function③"><c- n>Function</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Function" href="#cqs-size" id="ref-for-cqs-size"><c- g>size</c-></a>;
};
</pre>
        <h4 class="heading settled" data-level="7.3.2" id="cqs-internal-slots"><span class="secno">7.3.2. </span><span
                class="content">内部槽</span><a class="self-link" href="#cqs-internal-slots"></a></h4>
        <p><code
                class="idl"><a data-link-type="idl" href="#countqueuingstrategy" id="ref-for-countqueuingstrategy⑦">CountQueuingStrategy</a></code>
            实例有一个 <dfn class="dfn-paneled" data-dfn-for="CountQueuingStrategy" data-dfn-type="dfn" data-noexport
                id="countqueuingstrategy-highwatermark">[[highWaterMark]]</dfn> 内部槽，存储构造函数中给定的值。</p>
        <div class="algorithm" data-algorithm="count queuing strategy size function">
            此外，每个 <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#global-object"
                id="ref-for-global-object①">global object</a> <var>globalObject</var> 都有一个 <dfn class="dfn-paneled"
                data-dfn-type="dfn" data-lt="count queuing strategy size function" data-noexport
                id="count-queuing-strategy-size-function">计数队列策略 size 函数</dfn>，其值初始化如下：
            <ol>
                <li data-md>
                    <p>令 <var>steps</var> 如下：</p>
                    <ol>
                        <li data-md>
                            <p>返回 1。</p>
                    </ol>
                <li data-md>
                    <p>令 <var>F</var> 为 ! <a data-link-type="abstract-op"
                            href="https://tc39.es/ecma262/multipage/ordinary-and-exotic-objects-behaviours.html#sec-createbuiltinfunction"
                            id="ref-for-sec-createbuiltinfunction①">CreateBuiltinFunction</a>(<var>steps</var>, 0,
                        "<code>size</code>", « », <var>globalObject</var> 的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                            id="ref-for-concept-relevant-realm①">相关 Realm</a>)。</p>
                <li data-md>
                    <p>将 <var>globalObject</var> 的 <a data-link-type="dfn" href="#count-queuing-strategy-size-function"
                            id="ref-for-count-queuing-strategy-size-function">计数队列策略 size 函数</a> 设为一个 <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#Function" id="ref-for-Function⑤">Function</a></code>，代表对
                        <var>F</var> 的引用，<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#dfn-callback-context"
                            id="ref-for-dfn-callback-context①">callback context</a> 为 <var>globalObject</var> 的 <a
                            data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                            id="ref-for-relevant-settings-object①">相关设置对象</a>。
                    </p>
            </ol>
            <p class="note" role="note">此设计带有历史原因。目的是确保 <code
                    class="idl"><a data-link-type="idl" href="#cqs-size" id="ref-for-cqs-size①">size</a></code>
                是函数而不是方法，即不会检查 <code>this</code>。相关背景见 <a
                    href="https://github.com/whatwg/streams/issues/1005">whatwg/streams#1005</a> 和 <a
                    href="https://github.com/heycam/webidl/issues/819">heycam/webidl#819</a>。
            </p>
        </div>
        <h4 class="heading settled" data-level="7.3.3" id="cqs-prototype"><span class="secno">7.3.3. </span><span
                class="content">构造函数与属性</span><a class="self-link" href="#cqs-prototype"></a></h4>
        <dl class="domintro non-normative">
            <dt><code><var>strategy</var> = new <code class="idl"><a data-link-type="idl" href="#cqs-constructor" id="ref-for-cqs-constructor①">CountQueuingStrategy</a></code>({
                <code
                    class="idl"><a data-link-type="idl" href="#dom-queuingstrategyinit-highwatermark" id="ref-for-dom-queuingstrategyinit-highwatermark②">highWaterMark</a></code>
                })</code>
            <dd>
                <p>创建一个新的 <code
                        class="idl"><a data-link-type="idl" href="#countqueuingstrategy" id="ref-for-countqueuingstrategy⑧">CountQueuingStrategy</a></code>，使用提供的
                    <a data-link-type="dfn" href="#high-water-mark" id="ref-for-high-water-mark⑨">高水位线</a>。
                </p>
                <p>注意，所提供的高水位线不会提前验证。如果为负数、NaN 或非数字，则生成的 <code
                        class="idl"><a data-link-type="idl" href="#countqueuingstrategy" id="ref-for-countqueuingstrategy⑨">CountQueuingStrategy</a></code>
                    会导致对应流构造函数抛出异常。</p>
            <dt><code><var>highWaterMark</var> = <var>strategy</var>.<code class="idl"><a data-link-type="idl" href="#cqs-high-water-mark" id="ref-for-cqs-high-water-mark①">highWaterMark</a></code></code>
            <dd>
                <p>返回构造函数提供的<a data-link-type="dfn" href="#high-water-mark" id="ref-for-high-water-mark①⓪">高水位线</a>。</p>
            <dt><code><var>strategy</var>.<code class="idl"><a data-link-type="idl" href="#cqs-size" id="ref-for-cqs-size②">size</a></code>(<var>chunk</var>)</code>
            <dd>
                <p>通过始终返回 1 来衡量 <var>chunk</var> 的大小。这样保证队列总大小等于队列中的数据块数量。</p>
        </dl>
        <div class="algorithm" data-algorithm="CountQueuingStrategy(init)" data-algorithm-for="CountQueuingStrategy">
            <dfn class="dfn-paneled idl-code" data-dfn-for="CountQueuingStrategy" data-dfn-type="constructor"
                data-export data-lt="CountQueuingStrategy(init)|constructor(init)"
                id="cqs-constructor"><code>new CountQueuingStrategy(<var>init</var>)</code></dfn> 构造步骤如下：
            <ol>
                <li data-md>
                    <p>将 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this①①④">this</a>.<a data-link-type="dfn"
                            href="#countqueuingstrategy-highwatermark"
                            id="ref-for-countqueuingstrategy-highwatermark">[[highWaterMark]]</a> 设为
                        <var>init</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-queuingstrategyinit-highwatermark" id="ref-for-dom-queuingstrategyinit-highwatermark③">highWaterMark</a></code>"]。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="highWaterMark" data-algorithm-for="CountQueuingStrategy">
            <dfn class="dfn-paneled idl-code" data-dfn-for="CountQueuingStrategy" data-dfn-type="attribute" data-export
                id="cqs-high-water-mark"><code>highWaterMark</code></dfn> getter 步骤如下：
            <ol>
                <li data-md>
                    <p>返回 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this①①⑤">this</a>.<a data-link-type="dfn"
                            href="#countqueuingstrategy-highwatermark"
                            id="ref-for-countqueuingstrategy-highwatermark①">[[highWaterMark]]</a>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="size" data-algorithm-for="CountQueuingStrategy">
            <dfn class="dfn-paneled idl-code" data-dfn-for="CountQueuingStrategy" data-dfn-type="attribute" data-export
                id="cqs-size"><code>size</code></dfn> getter 步骤如下：
            <ol>
                <li data-md>
                    <p>返回 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this①①⑥">this</a> 的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                            id="ref-for-concept-relevant-global①">相关全局对象</a>的 <a data-link-type="dfn"
                            href="#count-queuing-strategy-size-function"
                            id="ref-for-count-queuing-strategy-size-function①">计数队列策略 size 函数</a>。</p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="7.4" id="qs-abstract-ops"><span class="secno">7.4. </span><span
                class="content">抽象操作</span><a class="self-link" href="#qs-abstract-ops"></a></h3>
        <p>以下算法由流构造函数用于从 <code
                class="idl"><a data-link-type="idl" href="#dictdef-queuingstrategy" id="ref-for-dictdef-queuingstrategy④">QueuingStrategy</a></code>
            字典中提取相关内容。</p>
        <div class="algorithm" data-algorithm="ExtractHighWaterMark">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="ExtractHighWaterMark"
                id="validate-and-normalize-high-water-mark">ExtractHighWaterMark(<var>strategy</var>,
                <var>defaultHWM</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p>如果 <var>strategy</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-queuingstrategy-highwatermark" id="ref-for-dom-queuingstrategy-highwatermark④">highWaterMark</a></code>"]
                        不<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                            id="ref-for-map-exists②③">存在</a>，返回 <var>defaultHWM</var>。</p>
                <li data-md>
                    <p>令 <var>highWaterMark</var> 为 <var>strategy</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-queuingstrategy-highwatermark" id="ref-for-dom-queuingstrategy-highwatermark⑤">highWaterMark</a></code>"]。
                    </p>
                <li data-md>
                    <p>如果 <var>highWaterMark</var> 是 NaN 或 <var>highWaterMark</var> &lt; 0，抛出 <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-rangeerror" id="ref-for-exceptiondef-rangeerror①⓪">RangeError</a></code>
                        异常。</p>
                <li data-md>
                    <p>返回 <var>highWaterMark</var>。</p>
            </ol>
            <p class="note" role="note">+∞ 明确允许作为有效的<a data-link-type="dfn" href="#high-water-mark"
                    id="ref-for-high-water-mark①①">高水位线</a>。它会导致<a data-link-type="dfn" href="#backpressure"
                    id="ref-for-backpressure②⓪">背压</a>永不发生。</p>
        </div>
        <div class="algorithm" data-algorithm="ExtractSizeAlgorithm">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="ExtractSizeAlgorithm"
                id="make-size-algorithm-from-size-function">ExtractSizeAlgorithm(<var>strategy</var>)</dfn> 执行以下步骤：
            <ol>
                <li data-md>
                    <p>如果 <var>strategy</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-queuingstrategy-size" id="ref-for-dom-queuingstrategy-size③">size</a></code>"]
                        不<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                            id="ref-for-map-exists②④">存在</a>，返回一个总是返回 1 的算法。</p>
                <li data-md>
                    <p>返回一个算法，执行如下步骤，参数为 <var>chunk</var>：</p>
                    <ol>
                        <li data-md>
                            <p>返回 <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#invoke-a-callback-function"
                                    id="ref-for-invoke-a-callback-function①⑧">调用</a> <var>strategy</var>["<code
                                    class="idl"><a data-link-type="idl" href="#dom-queuingstrategy-size" id="ref-for-dom-queuingstrategy-size④">size</a></code>"]，
                                参数列表为 « <var>chunk</var> »。</p>
                    </ol>
            </ol>
        </div>
        <h2 class="heading settled" data-level="8" id="other-stuff"><span class="secno">8. </span><span
                class="content">支持性抽象操作</span><a class="self-link" href="#other-stuff"></a></h2>
        <p>下列抽象操作用于支持多种类型流的实现，因此未在上面主要章节中分组。</p>
        <h3 class="heading settled" data-level="8.1" id="queue-with-sizes"><span class="secno">8.1. </span><span
                class="content">带大小的队列</span><a class="self-link" href="#queue-with-sizes"></a></h3>
        <p>本规范中的流使用“带大小的队列”数据结构来存储排队的值及其确定的大小。多个规范对象都包含一个带大小的队列，通过对象拥有一对内部槽表示，总命名为 [[queue]] 和
            [[queueTotalSize]]。[[queue]] 是 <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list"
                id="ref-for-list②⓪">列表</a>，其中每项为 <a data-link-type="dfn" href="#value-with-size"
                id="ref-for-value-with-size">带大小的值</a>，而 [[queueTotalSize]] 是 JavaScript <code
                class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects" id="ref-for-sec-number-objects">Number</a></code>
            （即双精度浮点数）。</p>
        <p>操作包含带大小队列的对象时，下列抽象操作用于确保两个内部槽保持同步。</p>
        <p class="warning">由于浮点运算精度有限，这里规定的通过 [[queueTotalSize]] 槽保持累积总数的框架，与累加 [[queue]] 中所有<a data-link-type="dfn"
                href="#chunk" id="ref-for-chunk⑦⑨">数据块</a>的大小并不完全等价。（不过，只有当数据块间大小差异极大（约
            10<sup>15</sup>），或排队数据块数达数万亿级别时才有差异。）</p>
        <p>以下定义中，<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="value-with-size">带大小的值</dfn>是一个 <a
                data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct⑤">结构体</a>，含两个 <a
                data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item"
                id="ref-for-struct-item①①">成员</a>：<dfn class="dfn-paneled" data-dfn-for="value-with-size"
                data-dfn-type="dfn" data-noexport id="value-with-size-value">value</dfn> 和 <dfn class="dfn-paneled"
                data-dfn-for="value-with-size" data-dfn-type="dfn" data-noexport id="value-with-size-size">size</dfn>。
        </p>
        <div class="algorithm" data-algorithm="DequeueValue">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="DequeueValue"
                id="dequeue-value">DequeueValue(<var>container</var>)</dfn> 步骤如下：
            <ol>
                <li data-md>
                    <p class="assertion">断言：<var>container</var> 有 [[queue]] 和 [[queueTotalSize]] 内部槽。</p>
                <li data-md>
                    <p class="assertion">断言：<var>container</var>.[[queue]] 不是 <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty②①">空</a>。</p>
                <li data-md>
                    <p>令 <var>valueWithSize</var> 为 <var>container</var>.[[queue]][0]。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove"
                            id="ref-for-list-remove⑦">从</a> <var>container</var>.[[queue]] 移除 <var>valueWithSize</var>。
                    </p>
                <li data-md>
                    <p>令 <var>container</var>.[[queueTotalSize]] 为 <var>container</var>.[[queueTotalSize]] −
                        <var>valueWithSize</var> 的 <a data-link-type="dfn" href="#value-with-size-size"
                            id="ref-for-value-with-size-size">size</a>。
                    </p>
                <li data-md>
                    <p>若 <var>container</var>.[[queueTotalSize]] &lt; 0，则令其为 0。（可能因舍入误差出现。）</p>
                <li data-md>
                    <p>返回 <var>valueWithSize</var> 的 <a data-link-type="dfn" href="#value-with-size-value"
                            id="ref-for-value-with-size-value">value</a>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="EnqueueValueWithSize">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="EnqueueValueWithSize"
                id="enqueue-value-with-size">EnqueueValueWithSize(<var>container</var>, <var>value</var>,
                <var>size</var>)</dfn> 步骤如下：
            <ol>
                <li data-md>
                    <p class="assertion">断言：<var>container</var> 有 [[queue]] 和 [[queueTotalSize]] 内部槽。</p>
                <li data-md>
                    <p>如果 ! <a data-link-type="abstract-op" href="#is-non-negative-number"
                            id="ref-for-is-non-negative-number②">IsNonNegativeNumber</a>(<var>size</var>) 为 false，则抛出
                        <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-rangeerror" id="ref-for-exceptiondef-rangeerror①①">RangeError</a></code>
                        异常。
                    </p>
                <li data-md>
                    <p>如果 <var>size</var> 为 +∞，则抛出 <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-rangeerror" id="ref-for-exceptiondef-rangeerror①②">RangeError</a></code>
                        异常。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                            id="ref-for-list-append⑨">追加</a>一个新的<a data-link-type="dfn" href="#value-with-size"
                            id="ref-for-value-with-size①">带大小的值</a>，其 <a data-link-type="dfn"
                            href="#value-with-size-value" id="ref-for-value-with-size-value①">value</a> 为
                        <var>value</var>，<a data-link-type="dfn" href="#value-with-size-size"
                            id="ref-for-value-with-size-size①">size</a> 为 <var>size</var> 到
                        <var>container</var>.[[queue]]。
                    </p>
                <li data-md>
                    <p>令 <var>container</var>.[[queueTotalSize]] 为 <var>container</var>.[[queueTotalSize]] +
                        <var>size</var>。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="PeekQueueValue">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="PeekQueueValue"
                id="peek-queue-value">PeekQueueValue(<var>container</var>)</dfn> 步骤如下：
            <ol>
                <li data-md>
                    <p class="assertion">断言：<var>container</var> 有 [[queue]] 和 [[queueTotalSize]] 内部槽。</p>
                <li data-md>
                    <p class="assertion">断言：<var>container</var>.[[queue]] 不是 <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty②②">空</a>。</p>
                <li data-md>
                    <p>令 <var>valueWithSize</var> 为 <var>container</var>.[[queue]][0]。</p>
                <li data-md>
                    <p>返回 <var>valueWithSize</var> 的 <a data-link-type="dfn" href="#value-with-size-value"
                            id="ref-for-value-with-size-value②">value</a>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="ResetQueue">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="ResetQueue"
                id="reset-queue">ResetQueue(<var>container</var>)</dfn> 步骤如下：
            <ol>
                <li data-md>
                    <p class="assertion">断言：<var>container</var> 有 [[queue]] 和 [[queueTotalSize]] 内部槽。</p>
                <li data-md>
                    <p>令 <var>container</var>.[[queue]] 为新的空 <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#list" id="ref-for-list②①">列表</a>。</p>
                <li data-md>
                    <p>令 <var>container</var>.[[queueTotalSize]] 为 0。</p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="8.2" id="transferrable-streams"><span class="secno">8.2. </span><span
                class="content">可转移流</span><a class="self-link" href="#transferrable-streams"></a></h3>
        <p>可转移流通过一种特殊的恒等变换实现，其<a data-link-type="dfn" href="#writable-side" id="ref-for-writable-side①③">可写端</a>位于一个<a
                data-link-type="dfn" href="https://tc39.es/ecma262/#sec-code-realms"
                id="ref-for-sec-code-realms">realm</a>，而<a data-link-type="dfn" href="#readable-side"
                id="ref-for-readable-side①④">可读端</a>位于另一个 realm。以下抽象操作用于实现这些“跨 realm 变换”。</p>
        <div class="algorithm" data-algorithm="CrossRealmTransformSendError">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="CrossRealmTransformSendError"
                id="abstract-opdef-crossrealmtransformsenderror">CrossRealmTransformSendError(<var>port</var>,
                <var>error</var>)</dfn> 步骤如下：
            <ol>
                <li data-md>
                    <p>执行 <a data-link-type="abstract-op" href="#abstract-opdef-packandpostmessage"
                            id="ref-for-abstract-opdef-packandpostmessage">PackAndPostMessage</a>(<var>port</var>,
                        "<code>error</code>", <var>error</var>)，并丢弃结果。</p>
            </ol>
            <p class="note" role="note">当执行此抽象操作时已处于错误状态，无法处理更多错误，故直接丢弃。</p>
        </div>
        <div class="algorithm" data-algorithm="PackAndPostMessage">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="PackAndPostMessage"
                id="abstract-opdef-packandpostmessage">PackAndPostMessage(<var>port</var>, <var>type</var>,
                <var>value</var>)</dfn> 步骤如下：
            <ol>
                <li data-md>
                    <p>令 <var>message</var> 为 <a data-link-type="abstract-op"
                            href="https://tc39.es/ecma262/multipage/ordinary-and-exotic-objects-behaviours.html#sec-ordinaryobjectcreate"
                            id="ref-for-sec-ordinaryobjectcreate">OrdinaryObjectCreate</a>(null)。</p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op"
                            href="https://tc39.es/ecma262/multipage/abstract-operations.html#sec-createdataproperty"
                            id="ref-for-sec-createdataproperty">CreateDataProperty</a>(<var>message</var>,
                        "<code>type</code>", <var>type</var>)。</p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op"
                            href="https://tc39.es/ecma262/multipage/abstract-operations.html#sec-createdataproperty"
                            id="ref-for-sec-createdataproperty①">CreateDataProperty</a>(<var>message</var>,
                        "<code>value</code>", <var>value</var>)。</p>
                <li data-md>
                    <p>令 <var>targetPort</var> 为与 <var>port</var> 关联的 port（如果有）；否则设为 null。</p>
                <li data-md>
                    <p>令 <var>options</var> 为 «[ "<code>transfer</code>" → « » ]»。</p>
                <li data-md>
                    <p>按<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/web-messaging.html#message-port-post-message-steps"
                            id="ref-for-message-port-post-message-steps">消息端口 post message 步骤</a>，传入
                        <var>targetPort</var>、<var>message</var> 和 <var>options</var>。
                    </p>
            </ol>
            <p class="note" role="note">使用 JavaScript 对象进行传输，避免重复<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/web-messaging.html#message-port-post-message-steps"
                    id="ref-for-message-port-post-message-steps①">消息端口 post message 步骤</a>。对象原型设为 null，避免受 <code
                    class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-properties-of-the-object-prototype-object" id="ref-for-sec-properties-of-the-object-prototype-object">%Object.prototype%</a></code>
                干扰。
            </p>
        </div>
        <div class="algorithm" data-algorithm="PackAndPostMessageHandlingError">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="PackAndPostMessageHandlingError"
                id="abstract-opdef-packandpostmessagehandlingerror">PackAndPostMessageHandlingError(<var>port</var>,
                <var>type</var>, <var>value</var>)</dfn> 步骤如下：
            <ol>
                <li data-md>
                    <p>令 <var>result</var> 为 <a data-link-type="abstract-op" href="#abstract-opdef-packandpostmessage"
                            id="ref-for-abstract-opdef-packandpostmessage①">PackAndPostMessage</a>(<var>port</var>,
                        <var>type</var>, <var>value</var>)。
                    </p>
                <li data-md>
                    <p>如果 <var>result</var> 是 abrupt completion，</p>
                    <ol>
                        <li data-md>
                            <p>执行 ! <a data-link-type="abstract-op" href="#abstract-opdef-crossrealmtransformsenderror"
                                    id="ref-for-abstract-opdef-crossrealmtransformsenderror">CrossRealmTransformSendError</a>(<var>port</var>,
                                <var>result</var>.[[Value]])。
                            </p>
                    </ol>
                <li data-md>
                    <p>返回 <var>result</var> 作为完成记录。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="SetUpCrossRealmTransformReadable">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="SetUpCrossRealmTransformReadable"
                id="abstract-opdef-setupcrossrealmtransformreadable">SetUpCrossRealmTransformReadable(<var>stream</var>,
                <var>port</var>)</dfn> 步骤如下：
            <ol>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#initialize-readable-stream"
                            id="ref-for-initialize-readable-stream③">InitializeReadableStream</a>(<var>stream</var>)。
                    </p>
                <li data-md>
                    <p>令 <var>controller</var> 为新建 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new"
                            id="ref-for-new②⓪">ReadableStreamDefaultController</a>。</p>
                <li data-md>
                    <p>为 <var>port</var> 的 <code
                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/indices.html#event-message" id="ref-for-event-message">message</a></code>
                        事件添加处理器，步骤如下：</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>data</var> 为消息数据。</p>
                        <li data-md>
                            <p class="assertion">断言：<var>data</var> <a data-link-type="dfn" data-refhint-key="08a5d589"
                                    href="https://tc39.es/ecma262/#sec-object-type"
                                    id="ref-for-sec-object-type②">是对象</a>。</p>
                        <li data-md>
                            <p>令 <var>type</var> 为 ! <a data-link-type="abstract-op"
                                    href="https://tc39.es/ecma262/multipage/abstract-operations.html#sec-get-o-p"
                                    id="ref-for-sec-get-o-p">Get</a>(<var>data</var>, "<code>type</code>")。</p>
                        <li data-md>
                            <p>令 <var>value</var> 为 ! <a data-link-type="abstract-op"
                                    href="https://tc39.es/ecma262/multipage/abstract-operations.html#sec-get-o-p"
                                    id="ref-for-sec-get-o-p①">Get</a>(<var>data</var>, "<code>value</code>")。</p>
                        <li data-md>
                            <p class="assertion">断言：<var>type</var> <a data-link-type="dfn"
                                    href="https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type"
                                    id="ref-for-sec-ecmascript-language-types-string-type">是字符串</a>。</p>
                        <li data-md>
                            <p>如果 <var>type</var> 是 "<code>chunk</code>"，</p>
                            <ol>
                                <li data-md>
                                    <p>执行 ! <a data-link-type="abstract-op"
                                            href="#readable-stream-default-controller-enqueue"
                                            id="ref-for-readable-stream-default-controller-enqueue⑤">ReadableStreamDefaultControllerEnqueue</a>(<var>controller</var>,
                                        <var>value</var>)。
                                    </p>
                            </ol>
                        <li data-md>
                            <p>否则如果 <var>type</var> 是 "<code>close</code>"，</p>
                            <ol>
                                <li data-md>
                                    <p>执行 ! <a data-link-type="abstract-op"
                                            href="#readable-stream-default-controller-close"
                                            id="ref-for-readable-stream-default-controller-close⑥">ReadableStreamDefaultControllerClose</a>(<var>controller</var>)。
                                    </p>
                                <li data-md>
                                    <p>断开 <var>port</var> 的关联。</p>
                            </ol>
                        <li data-md>
                            <p>否则如果 <var>type</var> 是 "<code>error</code>"，</p>
                            <ol>
                                <li data-md>
                                    <p>执行 ! <a data-link-type="abstract-op"
                                            href="#readable-stream-default-controller-error"
                                            id="ref-for-readable-stream-default-controller-error①③">ReadableStreamDefaultControllerError</a>(<var>controller</var>,
                                        <var>value</var>)。
                                    </p>
                                <li data-md>
                                    <p>断开 <var>port</var> 的关联。</p>
                            </ol>
                    </ol>
                <li data-md>
                    <p>为 <var>port</var> 的 <code
                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/indices.html#event-messageerror" id="ref-for-event-messageerror">messageerror</a></code>
                        事件添加处理器，步骤如下：</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>error</var> 为新建 "<code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#datacloneerror" id="ref-for-datacloneerror④">DataCloneError</a></code>"
                                <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException④">DOMException</a></code>。
                            </p>
                        <li data-md>
                            <p>执行 ! <a data-link-type="abstract-op" href="#abstract-opdef-crossrealmtransformsenderror"
                                    id="ref-for-abstract-opdef-crossrealmtransformsenderror①">CrossRealmTransformSendError</a>(<var>port</var>,
                                <var>error</var>)。
                            </p>
                        <li data-md>
                            <p>执行 ! <a data-link-type="abstract-op" href="#readable-stream-default-controller-error"
                                    id="ref-for-readable-stream-default-controller-error①④">ReadableStreamDefaultControllerError</a>(<var>controller</var>,
                                <var>error</var>)。
                            </p>
                        <li data-md>
                            <p>断开 <var>port</var> 的关联。</p>
                    </ol>
                <li data-md>
                    <p>启用 <var>port</var> 的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/web-messaging.html#port-message-queue"
                            id="ref-for-port-message-queue">端口消息队列</a>。</p>
                <li data-md>
                    <p>令 <var>startAlgorithm</var> 为返回 undefined 的算法。</p>
                <li data-md>
                    <p>令 <var>pullAlgorithm</var> 为如下步骤：</p>
                    <ol>
                        <li data-md>
                            <p>执行 ! <a data-link-type="abstract-op" href="#abstract-opdef-packandpostmessage"
                                    id="ref-for-abstract-opdef-packandpostmessage②">PackAndPostMessage</a>(<var>port</var>,
                                "<code>pull</code>", undefined)。</p>
                        <li data-md>
                            <p>返回<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                                    id="ref-for-a-promise-resolved-with③③">已解决的 promise</a>，值为 undefined。</p>
                    </ol>
                <li data-md>
                    <p>令 <var>cancelAlgorithm</var> 为如下步骤，参数为 <var>reason</var>：</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>result</var> 为 <a data-link-type="abstract-op"
                                    href="#abstract-opdef-packandpostmessagehandlingerror"
                                    id="ref-for-abstract-opdef-packandpostmessagehandlingerror">PackAndPostMessageHandlingError</a>(<var>port</var>,
                                "<code>error</code>", <var>reason</var>)。</p>
                        <li data-md>
                            <p>断开 <var>port</var> 的关联。</p>
                        <li data-md>
                            <p>如果 <var>result</var> 是 abrupt completion，返回<a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                                    id="ref-for-a-promise-rejected-with③⑦">拒绝的 promise</a>，值为
                                <var>result</var>.[[Value]]。
                            </p>
                        <li data-md>
                            <p>否则，返回<a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                                    id="ref-for-a-promise-resolved-with③④">已解决的 promise</a>，值为 undefined。</p>
                    </ol>
                <li data-md>
                    <p>令 <var>sizeAlgorithm</var> 为总是返回 1 的算法。</p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#set-up-readable-stream-default-controller"
                            id="ref-for-set-up-readable-stream-default-controller②">SetUpReadableStreamDefaultController</a>(<var>stream</var>,
                        <var>controller</var>, <var>startAlgorithm</var>, <var>pullAlgorithm</var>,
                        <var>cancelAlgorithm</var>, 0, <var>sizeAlgorithm</var>)。
                    </p>
            </ol>
            <p class="note" role="note">建议实现时显式处理此算法中断言的失败情况，因为输入可能来自不可信环境，否则可能导致安全问题。</p>
        </div>
        <div class="algorithm" data-algorithm="SetUpCrossRealmTransformWritable">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="SetUpCrossRealmTransformWritable"
                id="abstract-opdef-setupcrossrealmtransformwritable">SetUpCrossRealmTransformWritable(<var>stream</var>,
                <var>port</var>)</dfn> 步骤如下：
            <ol>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#initialize-writable-stream"
                            id="ref-for-initialize-writable-stream②">InitializeWritableStream</a>(<var>stream</var>)。
                    </p>
                <li data-md>
                    <p>令 <var>controller</var> 为新建 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new"
                            id="ref-for-new②①">WritableStreamDefaultController</a>。</p>
                <li data-md>
                    <p>令 <var>backpressurePromise</var> 为<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise①⑥">新的
                            promise</a>。</p>
                <li data-md>
                    <p>为 <var>port</var> 的 <code
                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/indices.html#event-message" id="ref-for-event-message①">message</a></code>
                        事件添加处理器，步骤如下：</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>data</var> 为消息数据。</p>
                        <li data-md>
                            <p class="assertion">断言：<var>data</var> <a data-link-type="dfn" data-refhint-key="08a5d589"
                                    href="https://tc39.es/ecma262/#sec-object-type"
                                    id="ref-for-sec-object-type③">是对象</a>。</p>
                        <li data-md>
                            <p>令 <var>type</var> 为 ! <a data-link-type="abstract-op"
                                    href="https://tc39.es/ecma262/multipage/abstract-operations.html#sec-get-o-p"
                                    id="ref-for-sec-get-o-p②">Get</a>(<var>data</var>, "<code>type</code>")。</p>
                        <li data-md>
                            <p>令 <var>value</var> 为 ! <a data-link-type="abstract-op"
                                    href="https://tc39.es/ecma262/multipage/abstract-operations.html#sec-get-o-p"
                                    id="ref-for-sec-get-o-p③">Get</a>(<var>data</var>, "<code>value</code>")。</p>
                        <li data-md>
                            <p class="assertion">断言：<var>type</var> <a data-link-type="dfn"
                                    href="https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type"
                                    id="ref-for-sec-ecmascript-language-types-string-type①">是字符串</a>。</p>
                        <li data-md>
                            <p>如果 <var>type</var> 是 "<code>pull</code>"，</p>
                            <ol>
                                <li data-md>
                                    <p>如果 <var>backpressurePromise</var> 不为 undefined，</p>
                                    <ol>
                                        <li data-md>
                                            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                                    id="ref-for-resolve③③">解决</a> <var>backpressurePromise</var>，值为
                                                undefined。</p>
                                        <li data-md>
                                            <p>令 <var>backpressurePromise</var> 为 undefined。</p>
                                    </ol>
                            </ol>
                        <li data-md>
                            <p>否则如果 <var>type</var> 是 "<code>error</code>"，</p>
                            <ol>
                                <li data-md>
                                    <p>执行 ! <a data-link-type="abstract-op"
                                            href="#writable-stream-default-controller-error-if-needed"
                                            id="ref-for-writable-stream-default-controller-error-if-needed⑤">WritableStreamDefaultControllerErrorIfNeeded</a>(<var>controller</var>,
                                        <var>value</var>)。
                                    </p>
                                <li data-md>
                                    <p>如果 <var>backpressurePromise</var> 不为 undefined，</p>
                                    <ol>
                                        <li data-md>
                                            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                                    id="ref-for-resolve③④">解决</a> <var>backpressurePromise</var>，值为
                                                undefined。</p>
                                        <li data-md>
                                            <p>令 <var>backpressurePromise</var> 为 undefined。</p>
                                    </ol>
                            </ol>
                    </ol>
                <li data-md>
                    <p>为 <var>port</var> 的 <code
                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/indices.html#event-messageerror" id="ref-for-event-messageerror①">messageerror</a></code>
                        事件添加处理器，步骤如下：</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>error</var> 为新建 "<code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#datacloneerror" id="ref-for-datacloneerror⑤">DataCloneError</a></code>"
                                <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑤">DOMException</a></code>。
                            </p>
                        <li data-md>
                            <p>执行 ! <a data-link-type="abstract-op" href="#abstract-opdef-crossrealmtransformsenderror"
                                    id="ref-for-abstract-opdef-crossrealmtransformsenderror②">CrossRealmTransformSendError</a>(<var>port</var>,
                                <var>error</var>)。
                            </p>
                        <li data-md>
                            <p>执行 ! <a data-link-type="abstract-op"
                                    href="#writable-stream-default-controller-error-if-needed"
                                    id="ref-for-writable-stream-default-controller-error-if-needed⑥">WritableStreamDefaultControllerErrorIfNeeded</a>(<var>controller</var>,
                                <var>error</var>)。
                            </p>
                        <li data-md>
                            <p>断开 <var>port</var> 的关联。</p>
                    </ol>
                <li data-md>
                    <p>启用 <var>port</var> 的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/web-messaging.html#port-message-queue"
                            id="ref-for-port-message-queue①">端口消息队列</a>。</p>
                <li data-md>
                    <p>令 <var>startAlgorithm</var> 为返回 undefined 的算法。</p>
                <li data-md>
                    <p>令 <var>writeAlgorithm</var> 为如下步骤，参数为 <var>chunk</var>：</p>
                    <ol>
                        <li data-md>
                            <p>如果 <var>backpressurePromise</var> 为 undefined，令 <var>backpressurePromise</var> 为<a
                                    data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                                    id="ref-for-a-promise-resolved-with③⑤">已解决的 promise</a>，值为 undefined。</p>
                        <li data-md>
                            <p>返回 <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled"
                                    id="ref-for-dfn-perform-steps-once-promise-is-settled⑧">响应</a>
                                <var>backpressurePromise</var> 的如下 fulfill 步骤：
                            </p>
                            <ol>
                                <li data-md>
                                    <p>令 <var>backpressurePromise</var> 为<a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#a-new-promise"
                                            id="ref-for-a-new-promise①⑦">新的 promise</a>。</p>
                                <li data-md>
                                    <p>令 <var>result</var> 为 <a data-link-type="abstract-op"
                                            href="#abstract-opdef-packandpostmessagehandlingerror"
                                            id="ref-for-abstract-opdef-packandpostmessagehandlingerror①">PackAndPostMessageHandlingError</a>(<var>port</var>,
                                        "<code>chunk</code>", <var>chunk</var>)。</p>
                                <li data-md>
                                    <p>如果 <var>result</var> 是 abrupt completion，</p>
                                    <ol>
                                        <li data-md>
                                            <p>断开 <var>port</var> 的关联。</p>
                                        <li data-md>
                                            <p>返回<a data-link-type="dfn"
                                                    href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                                                    id="ref-for-a-promise-rejected-with③⑧">拒绝的 promise</a>，值为
                                                <var>result</var>.[[Value]]。
                                            </p>
                                    </ol>
                                <li data-md>
                                    <p>否则，返回<a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                                            id="ref-for-a-promise-resolved-with③⑥">已解决的 promise</a>，值为 undefined。</p>
                            </ol>
                    </ol>
                <li data-md>
                    <p>令 <var>closeAlgorithm</var> 为如下步骤：</p>
                    <ol>
                        <li data-md>
                            <p>执行 ! <a data-link-type="abstract-op" href="#abstract-opdef-packandpostmessage"
                                    id="ref-for-abstract-opdef-packandpostmessage③">PackAndPostMessage</a>(<var>port</var>,
                                "<code>close</code>", undefined)。</p>
                        <li data-md>
                            <p>断开 <var>port</var> 的关联。</p>
                        <li data-md>
                            <p>返回<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                                    id="ref-for-a-promise-resolved-with③⑦">已解决的 promise</a>，值为 undefined。</p>
                    </ol>
                <li data-md>
                    <p>令 <var>abortAlgorithm</var> 为如下步骤，参数为 <var>reason</var>：</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>result</var> 为 <a data-link-type="abstract-op"
                                    href="#abstract-opdef-packandpostmessagehandlingerror"
                                    id="ref-for-abstract-opdef-packandpostmessagehandlingerror②">PackAndPostMessageHandlingError</a>(<var>port</var>,
                                "<code>error</code>", <var>reason</var>)。</p>
                        <li data-md>
                            <p>断开 <var>port</var> 的关联。</p>
                        <li data-md>
                            <p>如果 <var>result</var> 是 abrupt completion，返回<a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                                    id="ref-for-a-promise-rejected-with③⑨">拒绝的 promise</a>，值为
                                <var>result</var>.[[Value]]。
                            </p>
                        <li data-md>
                            <p>否则，返回<a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                                    id="ref-for-a-promise-resolved-with③⑧">已解决的 promise</a>，值为 undefined。</p>
                    </ol>
                <li data-md>
                    <p>令 <var>sizeAlgorithm</var> 为总是返回 1 的算法。</p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#set-up-writable-stream-default-controller"
                            id="ref-for-set-up-writable-stream-default-controller②">SetUpWritableStreamDefaultController</a>(<var>stream</var>,
                        <var>controller</var>, <var>startAlgorithm</var>, <var>writeAlgorithm</var>,
                        <var>closeAlgorithm</var>, <var>abortAlgorithm</var>, 1, <var>sizeAlgorithm</var>)。
                    </p>
            </ol>
            <p class="note" role="note">建议实现时显式处理此算法中断言的失败情况，因为输入可能来自不可信环境，否则可能导致安全问题。</p>
        </div>
        <h3 class="heading settled" data-level="8.3" id="misc-abstract-ops"><span class="secno">8.3. </span><span
                class="content">杂项</span><a class="self-link" href="#misc-abstract-ops"></a></h3>
        <p>以下抽象操作属于各种实用工具。</p>
        <div class="algorithm" data-algorithm="CanTransferArrayBuffer">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="CanTransferArrayBuffer"
                id="can-transfer-array-buffer">CanTransferArrayBuffer(<var>O</var>)</dfn> 步骤如下：
            <ol>
                <li data-md>
                    <p class="assertion">断言：<var>O</var> <a data-link-type="dfn" data-refhint-key="08a5d589"
                            href="https://tc39.es/ecma262/#sec-object-type" id="ref-for-sec-object-type④">是对象</a>。</p>
                <li data-md>
                    <p class="assertion">断言：<var>O</var> 有 [[ArrayBufferData]] 内部槽。</p>
                <li data-md>
                    <p>如果 ! <a data-link-type="abstract-op"
                            href="https://tc39.es/ecma262/multipage/structured-data.html#sec-isdetachedbuffer"
                            id="ref-for-sec-isdetachedbuffer⑦">IsDetachedBuffer</a>(<var>O</var>) 为真，返回 false。</p>
                <li data-md>
                    <p>如果 <a data-link-type="abstract-op"
                            href="https://tc39.es/ecma262/multipage/abstract-operations.html#sec-samevalue"
                            id="ref-for-sec-samevalue">SameValue</a>(<var>O</var>.[[ArrayBufferDetachKey]], undefined)
                        为假，返回 false。</p>
                <li data-md>
                    <p>返回 true。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="IsNonNegativeNumber">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="IsNonNegativeNumber"
                id="is-non-negative-number">IsNonNegativeNumber(<var>v</var>)</dfn> 步骤如下：
            <ol>
                <li data-md>
                    <p>如果 <var>v</var> <a data-link-type="dfn"
                            href="https://tc39.es/ecma262/#sec-ecmascript-language-types-number-type"
                            id="ref-for-sec-ecmascript-language-types-number-type①">不是数字</a>，返回 false。</p>
                <li data-md>
                    <p>如果 <var>v</var> 是 NaN，返回 false。</p>
                <li data-md>
                    <p>如果 <var>v</var> &lt; 0，返回 false。</p>
                <li data-md>
                    <p>返回 true。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="TransferArrayBuffer">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="TransferArrayBuffer"
                id="transfer-array-buffer">TransferArrayBuffer(<var>O</var>)</dfn> 步骤如下：
            <ol>
                <li data-md>
                    <p class="assertion">断言：! <a data-link-type="abstract-op"
                            href="https://tc39.es/ecma262/multipage/structured-data.html#sec-isdetachedbuffer"
                            id="ref-for-sec-isdetachedbuffer⑧">IsDetachedBuffer</a>(<var>O</var>) 为假。</p>
                <li data-md>
                    <p>令 <var>arrayBufferData</var> 为 <var>O</var>.[[ArrayBufferData]]。</p>
                <li data-md>
                    <p>令 <var>arrayBufferByteLength</var> 为 <var>O</var>.[[ArrayBufferByteLength]]。</p>
                <li data-md>
                    <p>执行 ? <a data-link-type="abstract-op"
                            href="https://tc39.es/ecma262/multipage/structured-data.html#sec-detacharraybuffer"
                            id="ref-for-sec-detacharraybuffer">DetachArrayBuffer</a>(<var>O</var>)。</p>
                    <p class="note" role="note">若 <var>O</var> 的 [[ArrayBufferDetachKey]] 非 undefined（如 <code
                            class="idl"><a data-link-type="idl" href="https://webassembly.github.io/spec/js-api/#memory" id="ref-for-memory">WebAssembly.Memory</a></code>
                        的
                        <code
                            class="idl"><a data-link-type="idl" href="https://webassembly.github.io/spec/js-api/#dom-memory-buffer" id="ref-for-dom-memory-buffer">buffer</a></code>）则此步骤会抛异常。
                        <a data-link-type="biblio" href="#biblio-wasm-js-api-1"
                            title="WebAssembly JavaScript Interface">[WASM-JS-API-1]</a>
                    </p>
                <li data-md>
                    <p>返回新建的 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-arraybuffer-objects" id="ref-for-sec-arraybuffer-objects⑤">ArrayBuffer</a></code>
                        对象，创建于<a data-link-type="dfn" href="https://tc39.es/ecma262/#current-realm"
                            id="ref-for-current-realm①⓪">当前 Realm</a>，其 [[ArrayBufferData]] 内部槽值为
                        <var>arrayBufferData</var>，[[ArrayBufferByteLength]] 内部槽值为 <var>arrayBufferByteLength</var>。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="CloneAsUint8Array">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="CloneAsUint8Array"
                id="abstract-opdef-cloneasuint8array">CloneAsUint8Array(<var>O</var>)</dfn> 步骤如下：
            <ol>
                <li data-md>
                    <p class="assertion">断言：<var>O</var> <a data-link-type="dfn" data-refhint-key="08a5d589"
                            href="https://tc39.es/ecma262/#sec-object-type" id="ref-for-sec-object-type⑤">是对象</a>。</p>
                <li data-md>
                    <p class="assertion">断言：<var>O</var> 有 [[ViewedArrayBuffer]] 内部槽。</p>
                <li data-md>
                    <p class="assertion">断言：! <a data-link-type="abstract-op"
                            href="https://tc39.es/ecma262/multipage/structured-data.html#sec-isdetachedbuffer"
                            id="ref-for-sec-isdetachedbuffer⑨">IsDetachedBuffer</a>(<var>O</var>.[[ViewedArrayBuffer]])
                        为假。</p>
                <li data-md>
                    <p>令 <var>buffer</var> 为 ? <a data-link-type="abstract-op"
                            href="https://tc39.es/ecma262/multipage/structured-data.html#sec-clonearraybuffer"
                            id="ref-for-sec-clonearraybuffer①">CloneArrayBuffer</a>(<var>O</var>.[[ViewedArrayBuffer]],
                        <var>O</var>.[[ByteOffset]], <var>O</var>.[[ByteLength]], <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/structured-data.html#sec-arraybuffer-constructor" id="ref-for-sec-arraybuffer-constructor②">%ArrayBuffer%</a></code>)。
                    </p>
                <li data-md>
                    <p>令 <var>array</var> 为 ! <a data-link-type="abstract-op"
                            href="https://tc39.es/ecma262/multipage/abstract-operations.html#sec-construct"
                            id="ref-for-sec-construct⑥">Construct</a>(<code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/indexed-collections.html#sec-typedarray-objects" id="ref-for-sec-typedarray-objects⑦">%Uint8Array%</a></code>,
                        « <var>buffer</var> »)。</p>
                <li data-md>
                    <p>返回 <var>array</var>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="StructuredClone">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="StructuredClone"
                id="abstract-opdef-structuredclone">StructuredClone(<var>v</var>)</dfn> 步骤如下：
            <ol>
                <li data-md>
                    <p>令 <var>serialized</var> 为 ? <a data-link-type="abstract-op"
                            href="https://html.spec.whatwg.org/multipage/structured-data.html#structuredserialize"
                            id="ref-for-structuredserialize">StructuredSerialize</a>(<var>v</var>)。</p>
                <li data-md>
                    <p>返回 ? <a data-link-type="abstract-op"
                            href="https://html.spec.whatwg.org/multipage/structured-data.html#structureddeserialize"
                            id="ref-for-structureddeserialize">StructuredDeserialize</a>(<var>serialized</var>, <a
                            data-link-type="dfn" href="https://tc39.es/ecma262/#current-realm"
                            id="ref-for-current-realm①①">当前 Realm</a>)。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="CanCopyDataBlockBytes">
            <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export data-lt="CanCopyDataBlockBytes"
                id="abstract-opdef-cancopydatablockbytes">CanCopyDataBlockBytes(<var>toBuffer</var>, <var>toIndex</var>,
                <var>fromBuffer</var>, <var>fromIndex</var>, <var>count</var>)</dfn> 步骤如下：
            <ol>
                <li data-md>
                    <p class="assertion">断言：<var>toBuffer</var> <a data-link-type="dfn" data-refhint-key="08a5d589"
                            href="https://tc39.es/ecma262/#sec-object-type" id="ref-for-sec-object-type⑥">是对象</a>。</p>
                <li data-md>
                    <p class="assertion">断言：<var>toBuffer</var> 有 [[ArrayBufferData]] 内部槽。</p>
                <li data-md>
                    <p class="assertion">断言：<var>fromBuffer</var> <a data-link-type="dfn" data-refhint-key="08a5d589"
                            href="https://tc39.es/ecma262/#sec-object-type" id="ref-for-sec-object-type⑦">是对象</a>。</p>
                <li data-md>
                    <p class="assertion">断言：<var>fromBuffer</var> 有 [[ArrayBufferData]] 内部槽。</p>
                <li data-md>
                    <p>如果 <var>toBuffer</var> 为 <var>fromBuffer</var>，返回 false。</p>
                <li data-md>
                    <p>如果 ! <a data-link-type="abstract-op"
                            href="https://tc39.es/ecma262/multipage/structured-data.html#sec-isdetachedbuffer"
                            id="ref-for-sec-isdetachedbuffer①⓪">IsDetachedBuffer</a>(<var>toBuffer</var>) 为真，返回 false。
                    </p>
                <li data-md>
                    <p>如果 ! <a data-link-type="abstract-op"
                            href="https://tc39.es/ecma262/multipage/structured-data.html#sec-isdetachedbuffer"
                            id="ref-for-sec-isdetachedbuffer①①">IsDetachedBuffer</a>(<var>fromBuffer</var>) 为真，返回 false。
                    </p>
                <li data-md>
                    <p>如果 <var>toIndex</var> + <var>count</var> > <var>toBuffer</var>.[[ArrayBufferByteLength]]，返回
                        false。</p>
                <li data-md>
                    <p>如果 <var>fromIndex</var> + <var>count</var> > <var>fromBuffer</var>.[[ArrayBufferByteLength]]，返回
                        false。</p>
                <li data-md>
                    <p>返回 true。</p>
            </ol>
        </div>
        <h2 class="heading settled" data-level="9" id="other-specs"><span class="secno">9. </span><span
                class="content">在其他规范中使用流</span><a class="self-link" href="#other-specs"></a></h2>
        <p>本标准的大部分内容关注于流的内部机制。其他规范通常无需关心这些细节，而应通过本标准定义的各种 IDL 类型及以下定义进行接口对接。</p>
        <p>规范不应直接检查或操作本标准定义的各种内部槽。同样，也不应使用此处定义的抽象操作。直接使用可能破坏本标准维护的不变式。</p>
        <p class="note" role="note">如果你的规范需要以本节未支持的方式与流接口，请<a href="https://github.com/whatwg/streams/issues/new">提交
                issue</a>。本节将根据需要有机扩展。</p>
        <h3 class="heading settled" data-level="9.1" id="other-specs-rs"><span class="secno">9.1. </span><span
                class="content">可读流</span><a class="self-link" href="#other-specs-rs"></a></h3>
        <h4 class="heading settled" data-level="9.1.1" id="other-specs-rs-create"><span class="secno">9.1.1.
            </span><span class="content">创建与操作</span><a class="self-link" href="#other-specs-rs-create"></a></h4>
        <div class="algorithm" data-algorithm="set up a ReadableStream">
            要<dfn class="dfn-paneled" data-dfn-for="ReadableStream" data-dfn-type="dfn" data-export
                id="readablestream-set-up">设置</dfn>新通过 <a data-link-type="dfn"
                href="https://webidl.spec.whatwg.org/#new" id="ref-for-new②②">Web IDL 创建</a>的 <code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream⑤④">ReadableStream</a></code>
            对象 <var>stream</var>，给定可选算法 <dfn class="dfn-paneled" data-dfn-for="ReadableStream/set
 up" data-dfn-type="dfn" data-export id="readablestream-set-up-pullalgorithm"><var>pullAlgorithm</var></dfn>、可选算法 <dfn
                class="dfn-paneled" data-dfn-for="ReadableStream/set
 up" data-dfn-type="dfn" data-export id="readablestream-set-up-cancelalgorithm"><var>cancelAlgorithm</var></dfn>、可选数字
            <dfn class="dfn-paneled" data-dfn-for="ReadableStream/set
 up" data-dfn-type="dfn" data-export id="readablestream-set-up-highwatermark"><var>highWaterMark</var></dfn>（默认
            1）、以及可选算法 <dfn class="dfn-paneled" data-dfn-for="ReadableStream/set up" data-dfn-type="dfn" data-export
                id="readablestream-set-up-sizealgorithm"><var>sizeAlgorithm</var></dfn>，请执行以下步骤。如果给定，<var>pullAlgorithm</var>
            和 <var>cancelAlgorithm</var> 可返回 promise。若给定，<var>sizeAlgorithm</var> 必须接受<a data-link-type="dfn"
                href="#chunk" id="ref-for-chunk⑧⓪">数据块</a>对象并返回数字；若给定，<var>highWaterMark</var> 必须为非负且非 NaN 数字。
            <ol>
                <li data-md>
                    <p>令 <var>startAlgorithm</var> 为返回 undefined 的算法。</p>
                <li data-md>
                    <p>令 <var>pullAlgorithmWrapper</var> 为如下算法：</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>result</var> 为执行 <var>pullAlgorithm</var> 的结果（如提供，否则为 null）。如抛出异常
                                <var>e</var>，返回<a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                                    id="ref-for-a-promise-rejected-with④⓪">拒绝的 promise</a>，值为 <var>e</var>。
                            </p>
                        <li data-md>
                            <p>如果 <var>result</var> 是 <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②①">Promise</a></code>，返回
                                <var>result</var>。
                            </p>
                        <li data-md>
                            <p>返回<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                                    id="ref-for-a-promise-resolved-with③⑨">已解决的 promise</a>，值为 undefined。</p>
                    </ol>
                <li data-md>
                    <p>令 <var>cancelAlgorithmWrapper</var> 为如下算法（参数 <var>reason</var>）：</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>result</var> 为执行 <var>cancelAlgorithm</var>（值为 <var>reason</var>）的结果（如提供，否则为
                                null）。如抛出异常 <var>e</var>，返回<a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                                    id="ref-for-a-promise-rejected-with④①">拒绝的 promise</a>，值为 <var>e</var>。</p>
                        <li data-md>
                            <p>如果 <var>result</var> 是 <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②②">Promise</a></code>，返回
                                <var>result</var>。
                            </p>
                        <li data-md>
                            <p>返回<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                                    id="ref-for-a-promise-resolved-with④⓪">已解决的 promise</a>，值为 undefined。</p>
                    </ol>
                <li data-md>
                    <p>若未给定 <var>sizeAlgorithm</var>，则设为总是返回 1 的算法。</p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#initialize-readable-stream"
                            id="ref-for-initialize-readable-stream④">InitializeReadableStream</a>(<var>stream</var>)。
                    </p>
                <li data-md>
                    <p>令 <var>controller</var> 为新建 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new"
                            id="ref-for-new②③">ReadableStreamDefaultController</a>。</p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#set-up-readable-stream-default-controller"
                            id="ref-for-set-up-readable-stream-default-controller③">SetUpReadableStreamDefaultController</a>(<var>stream</var>,
                        <var>controller</var>, <var>startAlgorithm</var>, <var>pullAlgorithmWrapper</var>,
                        <var>cancelAlgorithmWrapper</var>, <var>highWaterMark</var>, <var>sizeAlgorithm</var>)。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="set up a byte-source ReadableStream">
            要<dfn class="dfn-paneled" data-dfn-for="ReadableStream" data-dfn-type="dfn" data-export
                id="readablestream-set-up-with-byte-reading-support">设置支持字节读取</dfn>新通过 <a data-link-type="dfn"
                href="https://webidl.spec.whatwg.org/#new" id="ref-for-new②④">Web IDL 创建</a>的 <code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream⑤⑤">ReadableStream</a></code>
            对象 <var>stream</var>，给定可选算法 <dfn class="dfn-paneled"
                data-dfn-for="ReadableStream/set up with byte reading support" data-dfn-type="dfn" data-export
                id="readablestream-set-up-with-byte-reading-support-pullalgorithm"><var>pullAlgorithm</var></dfn>、可选算法
            <dfn class="dfn-paneled" data-dfn-for="ReadableStream/set up with byte reading
 support" data-dfn-type="dfn" data-export
                id="readablestream-set-up-with-byte-reading-support-cancelalgorithm"><var>cancelAlgorithm</var></dfn>、可选数字
            <dfn class="dfn-paneled" data-dfn-for="ReadableStream/set up with byte reading support" data-dfn-type="dfn"
                data-export
                id="readablestream-set-up-with-byte-reading-support-highwatermark"><var>highWaterMark</var></dfn>（默认
            0），执行以下步骤。如果给定，<var>pullAlgorithm</var> 和 <var>cancelAlgorithm</var> 可返回
            promise。若给定，<var>highWaterMark</var> 必须为非负且非 NaN 数字。
            <ol>
                <li data-md>
                    <p>令 <var>startAlgorithm</var> 为返回 undefined 的算法。</p>
                <li data-md>
                    <p>令 <var>pullAlgorithmWrapper</var> 为如下算法：</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>result</var> 为执行 <var>pullAlgorithm</var> 的结果（如提供，否则为 null）。如抛出异常
                                <var>e</var>，返回<a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                                    id="ref-for-a-promise-rejected-with④②">拒绝的 promise</a>，值为 <var>e</var>。
                            </p>
                        <li data-md>
                            <p>如果 <var>result</var> 是 <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②③">Promise</a></code>，返回
                                <var>result</var>。
                            </p>
                        <li data-md>
                            <p>返回<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                                    id="ref-for-a-promise-resolved-with④①">已解决的 promise</a>，值为 undefined。</p>
                    </ol>
                <li data-md>
                    <p>令 <var>cancelAlgorithmWrapper</var> 为如下算法：</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>result</var> 为执行 <var>cancelAlgorithm</var> 的结果（如提供，否则为 null）。如抛出异常
                                <var>e</var>，返回<a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                                    id="ref-for-a-promise-rejected-with④③">拒绝的 promise</a>，值为 <var>e</var>。
                            </p>
                        <li data-md>
                            <p>如果 <var>result</var> 是 <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②④">Promise</a></code>，返回
                                <var>result</var>。
                            </p>
                        <li data-md>
                            <p>返回<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                                    id="ref-for-a-promise-resolved-with④②">已解决的 promise</a>，值为 undefined。</p>
                    </ol>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#initialize-readable-stream"
                            id="ref-for-initialize-readable-stream⑤">InitializeReadableStream</a>(<var>stream</var>)。
                    </p>
                <li data-md>
                    <p>令 <var>controller</var> 为新建 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new"
                            id="ref-for-new②⑤">ReadableByteStreamController</a>。</p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#set-up-readable-byte-stream-controller"
                            id="ref-for-set-up-readable-byte-stream-controller②">SetUpReadableByteStreamController</a>(<var>stream</var>,
                        <var>controller</var>, <var>startAlgorithm</var>, <var>pullAlgorithmWrapper</var>,
                        <var>cancelAlgorithmWrapper</var>, <var>highWaterMark</var>, undefined)。
                    </p>
            </ol>
        </div>
        <div class="example" id="example-set-up-rs">
            <a class="self-link" href="#example-set-up-rs"></a> 从其他规范创建 <code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream⑤⑥">ReadableStream</a></code>
            的过程分两步：
            <ol>
                <li data-md>
                    <p>令 <var>readableStream</var> 为新建 <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#new" id="ref-for-new②⑥">ReadableStream</a>。</p>
                <li data-md>
                    <p>对 <var>readableStream</var> 执行 <a data-link-type="dfn" href="#readablestream-set-up"
                            id="ref-for-readablestream-set-up">设置</a>，参数为 ...。</p>
            </ol>
        </div>
        <p class="note" role="note"><code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream⑤⑧">ReadableStream</a></code>
            的子类会直接在构造步骤内对 <a data-link-type="dfn" href="#readablestream-set-up"
                id="ref-for-readablestream-set-up①">设置</a>或 <a data-link-type="dfn"
                href="#readablestream-set-up-with-byte-reading-support"
                id="ref-for-readablestream-set-up-with-byte-reading-support">设置支持字节读取</a>操作使用 <a data-link-type="dfn"
                href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①①⑦">this</a> 值。</p>
        <hr>
        <p>以下算法仅适用于经上述<a data-link-type="dfn" href="#readablestream-set-up"
                id="ref-for-readablestream-set-up②">设置</a>或<a data-link-type="dfn"
                href="#readablestream-set-up-with-byte-reading-support"
                id="ref-for-readablestream-set-up-with-byte-reading-support①">设置支持字节读取</a>算法初始化的 <code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream⑤⑨">ReadableStream</a></code>
            实例（不适用于例如 web 开发者创建的实例）：</p>
        <div class="algorithm" data-algorithm="desired size to fill up to the high water mark"
            data-algorithm-for="ReadableStream">
            <code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream⑥⓪">ReadableStream</a></code>
            <var>stream</var> 的 <dfn class="dfn-paneled" data-dfn-for="ReadableStream" data-dfn-type="dfn" data-export
                data-lt="desired size to fill up to the high water mark"
                id="readablestream-desired-size-to-fill-up-to-the-high-water-mark">填满高水位线所需大小</dfn>，按如下步骤：
            <ol>
                <li data-md>
                    <p>如果 <var>stream</var> 不是 <a data-link-type="dfn" href="#readablestream-readable"
                            id="ref-for-readablestream-readable">可读</a>，则返回 0。</p>
                <li data-md>
                    <p>如果 <var>stream</var>.<a data-link-type="dfn" href="#readablestream-controller"
                            id="ref-for-readablestream-controller⑤④">[[controller]]</a> <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#implements" id="ref-for-implements②④">实现</a>
                        <code
                            class="idl"><a data-link-type="idl" href="#readablebytestreamcontroller" id="ref-for-readablebytestreamcontroller②⓪">ReadableByteStreamController</a></code>，
                        返回 ! <a data-link-type="abstract-op" href="#readable-byte-stream-controller-get-desired-size"
                            id="ref-for-readable-byte-stream-controller-get-desired-size②">ReadableByteStreamControllerGetDesiredSize</a>(<var>stream</var>.<a
                            data-link-type="dfn" href="#readablestream-controller"
                            id="ref-for-readablestream-controller⑤⑤">[[controller]]</a>)。
                    </p>
                <li data-md>
                    <p>返回 ! <a data-link-type="abstract-op" href="#readable-stream-default-controller-get-desired-size"
                            id="ref-for-readable-stream-default-controller-get-desired-size③">ReadableStreamDefaultControllerGetDesiredSize</a>(<var>stream</var>.<a
                            data-link-type="dfn" href="#readablestream-controller"
                            id="ref-for-readablestream-controller⑤⑥">[[controller]]</a>)。</p>
            </ol>
        </div>
        <p class="algorithm" data-algorithm="need more data" data-algorithm-for="ReadableStream"><code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream⑥①">ReadableStream</a></code>
            <dfn class="dfn-paneled" data-dfn-for="ReadableStream" data-dfn-type="dfn" data-export data-lt="need more data|needs
more data" id="readablestream-need-more-data">需要更多数据</dfn>，若其<a data-link-type="dfn"
                href="#readablestream-desired-size-to-fill-up-to-the-high-water-mark"
                id="ref-for-readablestream-desired-size-to-fill-up-to-the-high-water-mark">填满高水位线所需大小</a>大于零。
        </p>
        <div class="algorithm" data-algorithm="close" data-algorithm-for="ReadableStream">
            要<dfn class="dfn-paneled" data-dfn-for="ReadableStream" data-dfn-type="dfn" data-export
                id="readablestream-close">关闭</dfn> <code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream⑥②">ReadableStream</a></code>
            <var>stream</var>：
            <ol>
                <li data-md>
                    <p>如果 <var>stream</var>.<a data-link-type="dfn" href="#readablestream-controller"
                            id="ref-for-readablestream-controller⑤⑦">[[controller]]</a> <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#implements" id="ref-for-implements②⑤">实现</a>
                        <code
                            class="idl"><a data-link-type="idl" href="#readablebytestreamcontroller" id="ref-for-readablebytestreamcontroller②①">ReadableByteStreamController</a></code>：
                    </p>
                    <ol>
                        <li data-md>
                            <p>执行 ! <a data-link-type="abstract-op" href="#readable-byte-stream-controller-close"
                                    id="ref-for-readable-byte-stream-controller-close⑤">ReadableByteStreamControllerClose</a>(<var>stream</var>.<a
                                    data-link-type="dfn" href="#readablestream-controller"
                                    id="ref-for-readablestream-controller⑤⑧">[[controller]]</a>)。</p>
                        <li data-md>
                            <p>如果 <var>stream</var>.<a data-link-type="dfn" href="#readablestream-controller"
                                    id="ref-for-readablestream-controller⑤⑨">[[controller]]</a>.<a data-link-type="dfn"
                                    href="#readablebytestreamcontroller-pendingpullintos"
                                    id="ref-for-readablebytestreamcontroller-pendingpullintos③②">[[pendingPullIntos]]</a>
                                不是 <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty"
                                    id="ref-for-list-is-empty②③">空</a>，则执行 ! <a data-link-type="abstract-op"
                                    href="#readable-byte-stream-controller-respond"
                                    id="ref-for-readable-byte-stream-controller-respond④">ReadableByteStreamControllerRespond</a>(<var>stream</var>.<a
                                    data-link-type="dfn" href="#readablestream-controller"
                                    id="ref-for-readablestream-controller⑥⓪">[[controller]]</a>, 0)。</p>
                    </ol>
                <li data-md>
                    <p>否则，执行 ! <a data-link-type="abstract-op" href="#readable-stream-default-controller-close"
                            id="ref-for-readable-stream-default-controller-close⑦">ReadableStreamDefaultControllerClose</a>(<var>stream</var>.<a
                            data-link-type="dfn" href="#readablestream-controller"
                            id="ref-for-readablestream-controller⑥①">[[controller]]</a>)。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="error" data-algorithm-for="ReadableStream">
            要<dfn class="dfn-paneled" data-dfn-for="ReadableStream" data-dfn-type="dfn" data-export
                id="readablestream-error">错误</dfn>一个 <code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream⑥③">ReadableStream</a></code>
            <var>stream</var>，给定 JavaScript
            值 <var>e</var>：
            <ol>
                <li data-md>
                    <p>如果 <var>stream</var>.<a data-link-type="dfn" href="#readablestream-controller"
                            id="ref-for-readablestream-controller⑥②">[[controller]]</a> <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#implements" id="ref-for-implements②⑥">实现</a>
                        <code
                            class="idl"><a data-link-type="idl" href="#readablebytestreamcontroller" id="ref-for-readablebytestreamcontroller②②">ReadableByteStreamController</a></code>，
                        则执行 ! <a data-link-type="abstract-op" href="#readable-byte-stream-controller-error"
                            id="ref-for-readable-byte-stream-controller-error①③">ReadableByteStreamControllerError</a>(<var>stream</var>.<a
                            data-link-type="dfn" href="#readablestream-controller"
                            id="ref-for-readablestream-controller⑥③">[[controller]]</a>, <var>e</var>)。
                    </p>
                <li data-md>
                    <p>否则，执行 ! <a data-link-type="abstract-op" href="#readable-stream-default-controller-error"
                            id="ref-for-readable-stream-default-controller-error①⑤">ReadableStreamDefaultControllerError</a>(<var>stream</var>.<a
                            data-link-type="dfn" href="#readablestream-controller"
                            id="ref-for-readablestream-controller⑥④">[[controller]]</a>, <var>e</var>)。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="enqueue" data-algorithm-for="ReadableStream">
            要<dfn class="dfn-paneled" data-dfn-for="ReadableStream" data-dfn-type="dfn" data-export
                id="readablestream-enqueue">入队</dfn> JavaScript 值 <var>chunk</var> 到 <code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream⑥④">ReadableStream</a></code>
            <var>stream</var>：
            <ol>
                <li data-md>
                    <p>如果 <var>stream</var>.<a data-link-type="dfn" href="#readablestream-controller"
                            id="ref-for-readablestream-controller⑥⑤">[[controller]]</a> <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#implements" id="ref-for-implements②⑦">实现</a>
                        <code
                            class="idl"><a data-link-type="idl" href="#readablestreamdefaultcontroller" id="ref-for-readablestreamdefaultcontroller①⑤">ReadableStreamDefaultController</a></code>，
                    </p>
                    <ol>
                        <li data-md>
                            <p>执行 ! <a data-link-type="abstract-op" href="#readable-stream-default-controller-enqueue"
                                    id="ref-for-readable-stream-default-controller-enqueue⑥">ReadableStreamDefaultControllerEnqueue</a>(<var>stream</var>.<a
                                    data-link-type="dfn" href="#readablestream-controller"
                                    id="ref-for-readablestream-controller⑥⑥">[[controller]]</a>, <var>chunk</var>)。</p>
                    </ol>
                <li data-md>
                    <p>否则，</p>
                    <ol>
                        <li data-md>
                            <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn"
                                    href="#readablestream-controller"
                                    id="ref-for-readablestream-controller⑥⑦">[[controller]]</a> <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#implements" id="ref-for-implements②⑧">实现</a>
                                <code
                                    class="idl"><a data-link-type="idl" href="#readablebytestreamcontroller" id="ref-for-readablebytestreamcontroller②③">ReadableByteStreamController</a></code>。
                            </p>
                        <li data-md>
                            <p class="assertion">断言：<var>chunk</var> 是 <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#ArrayBufferView" id="ref-for-ArrayBufferView⑥">ArrayBufferView</a></code>。
                            </p>
                        <li data-md>
                            <p>令 <var>byobView</var> 为 <var>stream</var> 的<a data-link-type="dfn"
                                    href="#readablestream-current-byob-request-view"
                                    id="ref-for-readablestream-current-byob-request-view">当前 BYOB 请求视图</a>。</p>
                        <li data-md>
                            <p>如果 <var>byobView</var> 非 null 且 <var>chunk</var>.[[ViewedArrayBuffer]] 为
                                <var>byobView</var>.[[ViewedArrayBuffer]]，则：
                            </p>
                            <ol>
                                <li data-md>
                                    <p class="assertion">断言：<var>chunk</var>.[[ByteOffset]] 为
                                        <var>byobView</var>.[[ByteOffset]]。
                                    </p>
                                <li data-md>
                                    <p class="assertion">断言：<var>chunk</var>.[[ByteLength]] ≤
                                        <var>byobView</var>.[[ByteLength]]。
                                    </p>
                                    <p class="note" role="note">这些断言确保调用者不会在<a data-link-type="dfn"
                                            href="#readablestream-current-byob-request-view"
                                            id="ref-for-readablestream-current-byob-request-view①">当前 BYOB
                                            请求视图</a>写入请求范围之外。</p>
                                <li data-md>
                                    <p>执行 ? <a data-link-type="abstract-op"
                                            href="#readable-byte-stream-controller-respond"
                                            id="ref-for-readable-byte-stream-controller-respond⑤">ReadableByteStreamControllerRespond</a>(<var>stream</var>.<a
                                            data-link-type="dfn" href="#readablestream-controller"
                                            id="ref-for-readablestream-controller⑥⑧">[[controller]]</a>,
                                        <var>chunk</var>.[[ByteLength]])。
                                    </p>
                            </ol>
                        <li data-md>
                            <p>否则，执行 ? <a data-link-type="abstract-op" href="#readable-byte-stream-controller-enqueue"
                                    id="ref-for-readable-byte-stream-controller-enqueue④">ReadableByteStreamControllerEnqueue</a>(<var>stream</var>.<a
                                    data-link-type="dfn" href="#readablestream-controller"
                                    id="ref-for-readablestream-controller⑥⑨">[[controller]]</a>, <var>chunk</var>)。</p>
                    </ol>
            </ol>
        </div>
        <hr>
        <p>以下算法仅适用于经上述<a data-link-type="dfn" href="#readablestream-set-up-with-byte-reading-support"
                id="ref-for-readablestream-set-up-with-byte-reading-support②">设置支持字节读取</a>算法初始化的 <code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream⑥⑤">ReadableStream</a></code>
            实例：</p>
        <div class="algorithm" data-algorithm="current BYOB request view" data-algorithm-for="ReadableStream">
            <code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream⑥⑥">ReadableStream</a></code>
            <var>stream</var> 的 <dfn class="dfn-paneled" data-dfn-for="ReadableStream" data-dfn-type="dfn" data-export
                id="readablestream-current-byob-request-view">当前 BYOB 请求视图</dfn>为 <code
                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#ArrayBufferView" id="ref-for-ArrayBufferView⑦">ArrayBufferView</a></code>
            或 null，按如下步骤判断：
            <ol>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn" href="#readablestream-controller"
                            id="ref-for-readablestream-controller⑦⓪">[[controller]]</a> <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#implements" id="ref-for-implements②⑨">实现</a>
                        <code
                            class="idl"><a data-link-type="idl" href="#readablebytestreamcontroller" id="ref-for-readablebytestreamcontroller②④">ReadableByteStreamController</a></code>。
                    </p>
                <li data-md>
                    <p>令 <var>byobRequest</var> 为 ! <a data-link-type="abstract-op"
                            href="#abstract-opdef-readablebytestreamcontrollergetbyobrequest"
                            id="ref-for-abstract-opdef-readablebytestreamcontrollergetbyobrequest③">ReadableByteStreamControllerGetBYOBRequest</a>(<var>stream</var>.<a
                            data-link-type="dfn" href="#readablestream-controller"
                            id="ref-for-readablestream-controller⑦①">[[controller]]</a>)。</p>
                <li data-md>
                    <p>若 <var>byobRequest</var> 为 null，则返回 null。</p>
                <li data-md>
                    <p>返回 <var>byobRequest</var>.<a data-link-type="dfn" href="#readablestreambyobrequest-view"
                            id="ref-for-readablestreambyobrequest-view⑧">[[view]]</a>。</p>
            </ol>
        </div>
        <p>规范不得<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#arraybuffer-transfer"
                id="ref-for-arraybuffer-transfer">转移</a>或<a data-link-type="dfn"
                href="https://webidl.spec.whatwg.org/#dfn-detach" id="ref-for-dfn-detach②">分离</a> <a
                data-link-type="dfn" href="https://webidl.spec.whatwg.org/#buffersource-underlying-buffer"
                id="ref-for-buffersource-underlying-buffer">当前 BYOB 请求视图</a>的底层 buffer。</p>
        <p class="note" role="note">实现可以做类似转移的操作，比如希望从其他线程写入内存，但需对 <a data-link-type="dfn"
                href="#readablestream-enqueue" id="ref-for-readablestream-enqueue">入队</a> 和 <a data-link-type="dfn"
                href="#readablestream-close" id="ref-for-readablestream-close">关闭</a>算法做出调整以保持可观察一致性。在规范层面，转移和分离是禁止的。
        </p>
        <p>规范应尽量<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#arraybufferview-write"
                id="ref-for-arraybufferview-write">写入</a>非 null 的 <a data-link-type="dfn"
                href="#readablestream-current-byob-request-view"
                id="ref-for-readablestream-current-byob-request-view③">当前 BYOB 请求视图</a>，然后用该视图调用 <a data-link-type="dfn"
                href="#readablestream-enqueue" id="ref-for-readablestream-enqueue①">入队</a>。只有在 <a data-link-type="dfn"
                href="https://webidl.spec.whatwg.org/#arraybufferview-create"
                id="ref-for-arraybufferview-create">创建</a>新 <code
                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#ArrayBufferView" id="ref-for-ArrayBufferView⑧">ArrayBufferView</a></code>
            用于 <a data-link-type="dfn" href="#readablestream-enqueue" id="ref-for-readablestream-enqueue②">入队</a>时，当前
            BYOB 请求视图为 null 或手头字节多于视图字节长度。这样可避免不必要的复制，更好地尊重流的<a data-link-type="dfn" href="#consumer"
                id="ref-for-consumer⑨">消费者</a>需求。</p>
        <p>如下<a data-link-type="dfn" href="#readablestream-pull-from-bytes"
                id="ref-for-readablestream-pull-from-bytes">从字节源 pull</a>算法实现了这些要求，适用于字节来自作为规范级<a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence">字节序列</a>的常见情况，该序列代表<a
                data-link-type="dfn" href="#underlying-byte-source"
                id="ref-for-underlying-byte-source①⑤">底层字节源</a>。注意其保守地保留字节在<a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence①">字节序列</a>中，而不是积极<a
                data-link-type="dfn" href="#readablestream-enqueue"
                id="ref-for-readablestream-enqueue③">入队</a>，因此调用者可用剩余字节数作为<a data-link-type="dfn" href="#backpressure"
                id="ref-for-backpressure②①">背压</a>信号。</p>
        <div class="algorithm" data-algorithm="pull from bytes" data-algorithm-for="ReadableStream">
            要<dfn class="dfn-paneled" data-dfn-for="ReadableStream" data-dfn-type="dfn" data-export
                id="readablestream-pull-from-bytes">从字节序列 pull</dfn>，即将<a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence②">字节序列</a>
            <var>bytes</var>导入 <code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream⑥⑦">ReadableStream</a></code>
            <var>stream</var>：
            <ol>
                <li data-md>
                    <p class="assertion">断言：<var>stream</var>.<a data-link-type="dfn" href="#readablestream-controller"
                            id="ref-for-readablestream-controller⑦②">[[controller]]</a> <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#implements" id="ref-for-implements③⓪">实现</a>
                        <code
                            class="idl"><a data-link-type="idl" href="#readablebytestreamcontroller" id="ref-for-readablebytestreamcontroller②⑤">ReadableByteStreamController</a></code>。
                    </p>
                <li data-md>
                    <p>令 <var>available</var> 为 <var>bytes</var> 的<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#byte-sequence-length"
                            id="ref-for-byte-sequence-length">长度</a>。</p>
                <li data-md>
                    <p>令 <var>desiredSize</var> 为 <var>available</var>。</p>
                <li data-md>
                    <p>若 <var>stream</var> 的<a data-link-type="dfn" href="#readablestream-current-byob-request-view"
                            id="ref-for-readablestream-current-byob-request-view⑥">当前 BYOB 请求视图</a>非 null，则
                        <var>desiredSize</var> 设为 <var>stream</var> 的<a data-link-type="dfn"
                            href="#readablestream-current-byob-request-view"
                            id="ref-for-readablestream-current-byob-request-view⑦">当前 BYOB 请求视图</a>的<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#buffersource-byte-length"
                            id="ref-for-buffersource-byte-length①">字节长度</a>。
                    </p>
                <li data-md>
                    <p>令 <var>pullSize</var> 为 <var>available</var> 和 <var>desiredSize</var> 较小者。</p>
                <li data-md>
                    <p>令 <var>pulled</var> 为 <var>bytes</var> 的前 <var>pullSize</var> 个字节。</p>
                <li data-md>
                    <p>从 <var>bytes</var> 删除前 <var>pullSize</var> 个字节。</p>
                <li data-md>
                    <p>若 <var>stream</var> 的<a data-link-type="dfn" href="#readablestream-current-byob-request-view"
                            id="ref-for-readablestream-current-byob-request-view⑧">当前 BYOB 请求视图</a>非 null，则：</p>
                    <ol>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#arraybufferview-write"
                                    id="ref-for-arraybufferview-write①">写入</a> <var>pulled</var> 到 <var>stream</var> 的<a
                                    data-link-type="dfn" href="#readablestream-current-byob-request-view"
                                    id="ref-for-readablestream-current-byob-request-view⑨">当前 BYOB 请求视图</a>。
                            </p>
                        <li data-md>
                            <p>执行 ? <a data-link-type="abstract-op" href="#readable-byte-stream-controller-respond"
                                    id="ref-for-readable-byte-stream-controller-respond⑥">ReadableByteStreamControllerRespond</a>(<var>stream</var>.<a
                                    data-link-type="dfn" href="#readablestream-controller"
                                    id="ref-for-readablestream-controller⑦③">[[controller]]</a>, <var>pullSize</var>)。
                            </p>
                    </ol>
                <li data-md>
                    <p>否则，</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>view</var> 为 <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#arraybufferview-create"
                                    id="ref-for-arraybufferview-create①">创建</a>自 <var>pulled</var> 的 <code
                                    class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-typedarray-objects" id="ref-for-sec-typedarray-objects⑧">Uint8Array</a></code>，位于
                                <var>stream</var> 的<a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                                    id="ref-for-concept-relevant-realm②">相关 Realm</a>。
                            </p>
                        <li data-md>
                            <p>执行 ? <a data-link-type="abstract-op" href="#readable-byte-stream-controller-enqueue"
                                    id="ref-for-readable-byte-stream-controller-enqueue⑤">ReadableByteStreamControllerEnqueue</a>(<var>stream</var>.<a
                                    data-link-type="dfn" href="#readablestream-controller"
                                    id="ref-for-readablestream-controller⑦④">[[controller]]</a>, <var>view</var>)。</p>
                    </ol>
            </ol>
        </div>
        <p>规范不得在<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#arraybuffer-write"
                id="ref-for-arraybuffer-write">写入</a><a data-link-type="dfn"
                href="#readablestream-current-byob-request-view"
                id="ref-for-readablestream-current-byob-request-view①⓪">当前 BYOB 请求视图</a>或<a data-link-type="dfn"
                href="#readablestream-pull-from-bytes" id="ref-for-readablestream-pull-from-bytes①">从字节序列 pull</a>后再<a
                data-link-type="dfn" href="#readablestream-close" id="ref-for-readablestream-close①">关闭</a>对应的 <code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream⑥⑧">ReadableStream</a></code>。
        </p>
        <h4 class="heading settled" data-level="9.1.2" id="other-specs-rs-reading"><span class="secno">9.1.2.
            </span><span class="content">读取</span><a class="self-link" href="#other-specs-rs-reading"></a></h4>
        <p>以下算法可用于任意 <code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream⑥⑨">ReadableStream</a></code>
            实例，包括 Web 开发者创建的实例。所有算法在具体操作上都可能失败，调用规范应处理这些失败。</p>
        <div class="algorithm" data-algorithm="get a reader" data-algorithm-for="ReadableStream">
            <p>要为 <code
                    class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream⑦⓪">ReadableStream</a></code>
                <var>stream</var><dfn class="dfn-paneled" data-dfn-for="ReadableStream" data-dfn-type="dfn" data-export
                    data-lt="get a reader|getting a reader" id="readablestream-get-a-reader">获取 reader</dfn>，返回 ? <a
                    data-link-type="abstract-op" href="#acquire-readable-stream-reader"
                    id="ref-for-acquire-readable-stream-reader⑦">AcquireReadableStreamDefaultReader</a>(<var>stream</var>)。
                结果为 <code
                    class="idl"><a data-link-type="idl" href="#readablestreamdefaultreader" id="ref-for-readablestreamdefaultreader①⑧">ReadableStreamDefaultReader</a></code>。
            </p>
            <p class="note" role="note">如果 <var>stream</var> 已<a data-link-type="dfn" href="#readablestream-locked"
                    id="ref-for-readablestream-locked">锁定</a>，此操作会抛异常。
            </p>
        </div>
        <p class="algorithm" data-algorithm="read a chunk" data-algorithm-for="ReadableStreamDefaultReader">要从 <code
                class="idl"><a data-link-type="idl" href="#readablestreamdefaultreader" id="ref-for-readablestreamdefaultreader①⑨">ReadableStreamDefaultReader</a></code>
            <var>reader</var><dfn class="dfn-paneled" data-dfn-for="ReadableStreamDefaultReader" data-dfn-type="dfn"
                data-export data-lt="read a chunk|reading a chunk"
                id="readablestreamdefaultreader-read-a-chunk">读取一个数据块</dfn>，给定 <a data-link-type="dfn"
                href="#read-request" id="ref-for-read-request⑤">读取请求</a> <var>readRequest</var>，执行 ! <a
                data-link-type="abstract-op" href="#readable-stream-default-reader-read"
                id="ref-for-readable-stream-default-reader-read④">ReadableStreamDefaultReaderRead</a>(<var>reader</var>,
            <var>readRequest</var>)。
        </p>
        <div class="algorithm" data-algorithm="read all bytes">
            <p>要从 <code
                    class="idl"><a data-link-type="idl" href="#readablestreamdefaultreader" id="ref-for-readablestreamdefaultreader②⓪">ReadableStreamDefaultReader</a></code>
                <var>reader</var><dfn class="dfn-paneled" data-dfn-for="ReadableStreamDefaultReader" data-dfn-type="dfn"
                    data-export data-lt="read all bytes|reading all bytes"
                    id="readablestreamdefaultreader-read-all-bytes">读取所有字节</dfn>，给定 <var>successSteps</var>（接受 <a
                    data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence"
                    id="ref-for-byte-sequence③">字节序列</a>的算法）和 <var>failureSteps</var>（接受 JavaScript 值的算法）：使用 <a
                    data-link-type="dfn" href="#read-loop" id="ref-for-read-loop">读取循环</a>，参数为 <var>reader</var>、新建 <a
                    data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence"
                    id="ref-for-byte-sequence④">字节序列</a>、<var>successSteps</var> 和 <var>failureSteps</var>。
            </p>
            <div class="algorithm" data-algorithm="read-loop">
                对上述算法而言，<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="read-loop">读取循环</dfn>，参数为
                <var>reader</var>、<var>bytes</var>、<var>successSteps</var> 和 <var>failureSteps</var>，步骤如下：
                <ol>
                    <li data-md>
                        <p>令 <var>readRequest</var> 为新建<a data-link-type="dfn" href="#read-request"
                                id="ref-for-read-request⑥">读取请求</a>，包含如下<a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item①②">成员</a>：</p>
                        <dl>
                            <dt data-md><a data-link-type="dfn" href="#read-request-chunk-steps"
                                    id="ref-for-read-request-chunk-steps⑦">chunk steps</a>，参数 <var>chunk</var>
                            <dd data-md>
                                <ol>
                                    <li data-md>
                                        <p>如果 <var>chunk</var> 不是 <code
                                                class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-typedarray-objects" id="ref-for-sec-typedarray-objects⑨">Uint8Array</a></code>
                                            对象，调用 <var>failureSteps</var>，参数为 <code
                                                class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" id="ref-for-sec-native-error-types-used-in-this-standard-typeerror⑥⑤">TypeError</a></code>，并终止这些步骤。
                                        </p>
                                    <li data-md>
                                        <p>将 <var>chunk</var> 代表的字节追加到 <var>bytes</var>。</p>
                                    <li data-md>
                                        <p>使用 <a data-link-type="dfn" href="#read-loop"
                                                id="ref-for-read-loop①">读取循环</a>，参数为
                                            <var>reader</var>、<var>bytes</var>、<var>successSteps</var> 和
                                            <var>failureSteps</var>。
                                        </p>
                                        <p class="note" role="note">直接递归实现可能导致栈溢出，实际应使用非递归变体、微任务队列或更直接的字节读取方法（如后述）。</p>
                                </ol>
                            <dt data-md><a data-link-type="dfn" href="#read-request-close-steps"
                                    id="ref-for-read-request-close-steps⑦">close steps</a>
                            <dd data-md>
                                <ol>
                                    <li data-md>
                                        <p>调用 <var>successSteps</var>，参数为 <var>bytes</var>。</p>
                                </ol>
                            <dt data-md><a data-link-type="dfn" href="#read-request-error-steps"
                                    id="ref-for-read-request-error-steps⑦">error steps</a>，参数 <var>e</var>
                            <dd data-md>
                                <ol>
                                    <li data-md>
                                        <p>调用 <var>failureSteps</var>，参数为 <var>e</var>。</p>
                                </ol>
                        </dl>
                    <li data-md>
                        <p>执行 ! <a data-link-type="abstract-op" href="#readable-stream-default-reader-read"
                                id="ref-for-readable-stream-default-reader-read⑤">ReadableStreamDefaultReaderRead</a>(<var>reader</var>,
                            <var>readRequest</var>)。
                        </p>
                </ol>
            </div>
            <p class="note" role="note">由于 <var>reader</var> 对应的 <code
                    class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream⑦①">ReadableStream</a></code>
                具有独占访问权，实际读取机制不可观察。实现可采用更直接机制，如获取并使用 <code
                    class="idl"><a data-link-type="idl" href="#readablestreambyobreader" id="ref-for-readablestreambyobreader①⑧">ReadableStreamBYOBReader</a></code>
                或直接访问数据块。</p>
        </div>
        <p class="algorithm" data-algorithm="release" data-algorithm-for="ReadableStreamDefaultReader">要<dfn
                class="dfn-paneled" data-dfn-for="ReadableStreamDefaultReader" data-dfn-type="dfn" data-export
                id="readablestreamdefaultreader-release">释放</dfn> <code
                class="idl"><a data-link-type="idl" href="#readablestreamdefaultreader" id="ref-for-readablestreamdefaultreader②②">ReadableStreamDefaultReader</a></code>
            <var>reader</var>，执行 ! <a data-link-type="abstract-op"
                href="#abstract-opdef-readablestreamdefaultreaderrelease"
                id="ref-for-abstract-opdef-readablestreamdefaultreaderrelease⑦">ReadableStreamDefaultReaderRelease</a>(<var>reader</var>)。
        </p>
        <p class="algorithm" data-algorithm="cancel" data-algorithm-for="ReadableStreamDefaultReader">要<dfn
                class="dfn-paneled" data-dfn-for="ReadableStreamDefaultReader" data-dfn-type="dfn" data-export
                id="readablestreamdefaultreader-cancel">取消</dfn> <code
                class="idl"><a data-link-type="idl" href="#readablestreamdefaultreader" id="ref-for-readablestreamdefaultreader②③">ReadableStreamDefaultReader</a></code>
            <var>reader</var>，参数 <var>reason</var>，执行 ! <a data-link-type="abstract-op"
                href="#readable-stream-reader-generic-cancel"
                id="ref-for-readable-stream-reader-generic-cancel②">ReadableStreamReaderGenericCancel</a>(<var>reader</var>,
            <var>reason</var>)。返回值为 promise，值为 undefined 或拒绝原因。
        </p>
        <p class="algorithm" data-algorithm="cancel" data-algorithm-for="ReadableStream">要<dfn class="dfn-paneled"
                data-dfn-for="ReadableStream" data-dfn-type="dfn" data-export id="readablestream-cancel">取消</dfn> <code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream⑦②">ReadableStream</a></code>
            <var>stream</var>，参数 <var>reason</var>，返回 ! <a data-link-type="abstract-op" href="#readable-stream-cancel"
                id="ref-for-readable-stream-cancel①②">ReadableStreamCancel</a>(<var>stream</var>,
            <var>reason</var>)。返回值为 promise，值为 undefined 或拒绝原因。
        </p>
        <div class="algorithm" data-algorithm="tee" data-algorithm-for="ReadableStream">
            <p>要<dfn class="dfn-paneled" data-dfn-for="ReadableStream" data-dfn-type="dfn" data-export
                    data-lt="tee|teeing" id="readablestream-tee">分流</dfn> <code
                    class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream⑦③">ReadableStream</a></code>
                <var>stream</var>，
                返回 ? <a data-link-type="abstract-op" href="#readable-stream-tee"
                    id="ref-for-readable-stream-tee①">ReadableStreamTee</a>(<var>stream</var>, true)。
            </p>
            <p class="note" role="note">因第二参数为 true，返回的第二分支中的<a data-link-type="dfn" href="#chunk"
                    id="ref-for-chunk⑧①">数据块</a>会从第一分支克隆（用 HTML 的<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/structured-data.html#serializable-objects"
                    id="ref-for-serializable-objects①">可序列化对象</a>机制），防止其中一个分支的消费影响另一个分支。</p>
        </div>
        <h4 class="heading settled" data-level="9.1.3" id="other-specs-rs-introspect"><span class="secno">9.1.3.
            </span><span class="content">自省</span><a class="self-link" href="#other-specs-rs-introspect"></a>
        </h4>
        <p>以下谓词可用于任意 <code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream⑦④">ReadableStream</a></code>
            对象。但除了判断流是否<a data-link-type="dfn" href="#readablestream-locked"
                id="ref-for-readablestream-locked①">锁定</a>外，其他自省不能通过公开 JS API 实现，规范应使用 <a
                href="#other-specs-rs-reading">§ 9.1.2 读取</a>中的算法（例如不要测试流是否<a data-link-type="dfn"
                href="#readablestream-readable" id="ref-for-readablestream-readable①">可读</a>，而应尝试<a data-link-type="dfn"
                href="#readablestream-get-a-reader" id="ref-for-readablestream-get-a-reader">获取 reader</a>并处理异常）。</p>
        <p class="algorithm" data-algorithm="readable" data-algorithm-for="ReadableStream"><code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream⑦⑤">ReadableStream</a></code>
            <var>stream</var> <dfn class="dfn-paneled" data-dfn-for="ReadableStream" data-dfn-type="dfn" data-export
                id="readablestream-readable">可读</dfn>，当 <var>stream</var>.<a data-link-type="dfn"
                href="#readablestream-state" id="ref-for-readablestream-state③⑨">[[state]]</a> 为
            "<code>readable</code>" 时。
        </p>
        <p class="algorithm" data-algorithm="closed" data-algorithm-for="ReadableStream"><code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream⑦⑥">ReadableStream</a></code>
            <var>stream</var> <dfn class="dfn-paneled" data-dfn-for="ReadableStream" data-dfn-type="dfn" data-export
                id="readablestream-closed">已关闭</dfn>，当 <var>stream</var>.<a data-link-type="dfn"
                href="#readablestream-state" id="ref-for-readablestream-state④⓪">[[state]]</a> 为 "<code>closed</code>"
            时。
        </p>
        <p class="algorithm" data-algorithm="errored" data-algorithm-for="ReadableStream"><code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream⑦⑦">ReadableStream</a></code>
            <var>stream</var> <dfn class="dfn-paneled" data-dfn-for="ReadableStream" data-dfn-type="dfn" data-export
                id="readablestream-errored">已出错</dfn>，当 <var>stream</var>.<a data-link-type="dfn"
                href="#readablestream-state" id="ref-for-readablestream-state④①">[[state]]</a> 为
            "<code>errored</code>" 时。
        </p>
        <p class="algorithm" data-algorithm="ReadableStream locked"><code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream⑦⑧">ReadableStream</a></code>
            <var>stream</var> <dfn class="dfn-paneled" data-dfn-for="ReadableStream" data-dfn-type="dfn" data-export
                id="readablestream-locked">锁定</dfn>，当 ! <a data-link-type="abstract-op"
                href="#is-readable-stream-locked"
                id="ref-for-is-readable-stream-locked①②">IsReadableStreamLocked</a>(<var>stream</var>) 返回 true 时。
        </p>
        <div class="algorithm" data-algorithm="disturbed" data-algorithm-for="ReadableStream">
            <p><code
                    class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream⑦⑨">ReadableStream</a></code>
                <var>stream</var> <dfn class="dfn-paneled" data-dfn-for="ReadableStream" data-dfn-type="dfn" data-export
                    id="is-readable-stream-disturbed">已扰动</dfn>，当 <var>stream</var>.<a data-link-type="dfn"
                    href="#readablestream-disturbed" id="ref-for-readablestream-disturbed⑤">[[disturbed]]</a> 为
                true 时。
            </p>
            <p class="note" role="note">表示流是否被读取或取消过。比本节其他谓词更不建议使用，因为 Web 开发者甚至无法间接访问此信息，不应以此为分支平台行为。</p>
        </div>
        <h3 class="heading settled" data-level="9.2" id="other-specs-ws"><span class="secno">9.2. </span><span
                class="content">可写流</span><a class="self-link" href="#other-specs-ws"></a></h3>
        <h4 class="heading settled" data-level="9.2.1" id="other-specs-ws-creation"><span class="secno">9.2.1.
            </span><span class="content">创建与操作</span><a class="self-link" href="#other-specs-ws-creation"></a></h4>
        <div class="algorithm" data-algorithm="set up a WritableStream">
            要<dfn class="dfn-paneled" data-dfn-for="WritableStream" data-dfn-type="dfn" data-export
                id="writablestream-set-up">设置</dfn>新通过 <a data-link-type="dfn"
                href="https://webidl.spec.whatwg.org/#new" id="ref-for-new②⑦">Web IDL 创建</a>的 <code
                class="idl"><a data-link-type="idl" href="#writablestream" id="ref-for-writablestream③⑤">WritableStream</a></code>
            对象 <var>stream</var>，给定算法 <dfn class="dfn-paneled" data-dfn-for="WritableStream/set
 up" data-dfn-type="dfn" data-export id="writablestream-set-up-writealgorithm"><var>writeAlgorithm</var></dfn>、可选算法
            <dfn class="dfn-paneled" data-dfn-for="WritableStream/set
 up" data-dfn-type="dfn" data-export id="writablestream-set-up-closealgorithm"><var>closeAlgorithm</var></dfn>、可选算法
            <dfn class="dfn-paneled" data-dfn-for="WritableStream/set
 up" data-dfn-type="dfn" data-export id="writablestream-set-up-abortalgorithm"><var>abortAlgorithm</var></dfn>、可选数字
            <dfn class="dfn-paneled" data-dfn-for="WritableStream/set
 up" data-dfn-type="dfn" data-export id="writablestream-set-up-highwatermark"><var>highWaterMark</var></dfn>（默认 1）、可选算法
            <dfn class="dfn-paneled" data-dfn-for="WritableStream/set up" data-dfn-type="dfn" data-export
                id="writablestream-set-up-sizealgorithm"><var>sizeAlgorithm</var></dfn>，执行以下步骤。<var>writeAlgorithm</var>
            必须是接受<a data-link-type="dfn" href="#chunk" id="ref-for-chunk⑧②">数据块</a>对象并返回 promise
            的算法。若给定，<var>closeAlgorithm</var> 和 <var>abortAlgorithm</var> 可返回 promise。若给定，<var>sizeAlgorithm</var>
            必须接受<a data-link-type="dfn" href="#chunk" id="ref-for-chunk⑧③">数据块</a>对象并返回数字；若给定，<var>highWaterMark</var>
            必须为非负且非 NaN 数字。
            <ol>
                <li data-md>
                    <p>令 <var>startAlgorithm</var> 为返回 undefined 的算法。</p>
                <li data-md>
                    <p>令 <var>closeAlgorithmWrapper</var> 为如下算法：</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>result</var> 为执行 <var>closeAlgorithm</var> 的结果（如提供，否则为 null）。如抛出异常
                                <var>e</var>，返回<a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                                    id="ref-for-a-promise-rejected-with④④">拒绝的 promise</a>，值为 <var>e</var>。
                            </p>
                        <li data-md>
                            <p>如果 <var>result</var> 是 <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②⑤">Promise</a></code>，返回
                                <var>result</var>。
                            </p>
                        <li data-md>
                            <p>返回<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                                    id="ref-for-a-promise-resolved-with④③">已解决的 promise</a>，值为 undefined。</p>
                    </ol>
                <li data-md>
                    <p>令 <var>abortAlgorithmWrapper</var> 为如下算法（参数 <var>reason</var>）：</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>result</var> 为执行 <var>abortAlgorithm</var>（值为 <var>reason</var>）的结果（如提供，否则为
                                null）。如抛出异常 <var>e</var>，返回<a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                                    id="ref-for-a-promise-rejected-with④⑤">拒绝的 promise</a>，值为 <var>e</var>。</p>
                        <li data-md>
                            <p>如果 <var>result</var> 是 <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②⑥">Promise</a></code>，返回
                                <var>result</var>。
                            </p>
                        <li data-md>
                            <p>返回<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                                    id="ref-for-a-promise-resolved-with④④">已解决的 promise</a>，值为 undefined。</p>
                    </ol>
                <li data-md>
                    <p>若未给定 <var>sizeAlgorithm</var>，则设为总是返回 1 的算法。</p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#initialize-writable-stream"
                            id="ref-for-initialize-writable-stream③">InitializeWritableStream</a>(<var>stream</var>)。
                    </p>
                <li data-md>
                    <p>令 <var>controller</var> 为新建 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new"
                            id="ref-for-new②⑧">WritableStreamDefaultController</a>。</p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#set-up-writable-stream-default-controller"
                            id="ref-for-set-up-writable-stream-default-controller③">SetUpWritableStreamDefaultController</a>(<var>stream</var>,
                        <var>controller</var>, <var>startAlgorithm</var>, <var>writeAlgorithm</var>,
                        <var>closeAlgorithmWrapper</var>, <var>abortAlgorithmWrapper</var>, <var>highWaterMark</var>,
                        <var>sizeAlgorithm</var>)。
                    </p>
            </ol>
            <p>其他规范在构造 <i><a data-link-type="dfn" href="#writablestream-set-up-writealgorithm"
                        id="ref-for-writablestream-set-up-writealgorithm">writeAlgorithm</a></i> 时应避免对给定<a
                    data-link-type="dfn" href="#chunk" id="ref-for-chunk⑧④">数据块</a>进行并行读取，否则会破坏 JS
                的运行至完成语义。可通过同步复制或转移给定值避免，例如 <a data-link-type="abstract-op"
                    href="https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializewithtransfer"
                    id="ref-for-structuredserializewithtransfer④">StructuredSerializeWithTransfer</a>、<a
                    data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-get-buffer-source-copy"
                    id="ref-for-dfn-get-buffer-source-copy">获取 buffer source 字节副本</a>或<a data-link-type="dfn"
                    href="https://webidl.spec.whatwg.org/#arraybuffer-transfer" id="ref-for-arraybuffer-transfer①">转移
                    ArrayBuffer</a>。例外情况：<a data-link-type="dfn" href="#chunk" id="ref-for-chunk⑧⑤">数据块</a>为 <code
                    class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-sharedarraybuffer-objects" id="ref-for-sec-sharedarraybuffer-objects">SharedArrayBuffer</a></code>
                时，允许并行操作。
            </p>
            <div class="example" id="example-set-up-ws">
                <a class="self-link" href="#example-set-up-ws"></a> 从其他规范创建 <code
                    class="idl"><a data-link-type="idl" href="#writablestream" id="ref-for-writablestream③⑥">WritableStream</a></code>
                的过程分两步：
                <ol>
                    <li data-md>
                        <p>令 <var>writableStream</var> 为新建 <a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#new" id="ref-for-new②⑨">WritableStream</a>。</p>
                    <li data-md>
                        <p>对 <var>writableStream</var> 执行 <a data-link-type="dfn" href="#writablestream-set-up"
                                id="ref-for-writablestream-set-up">设置</a>，参数为 ...。</p>
                </ol>
            </div>
            <p class="note" role="note"><code
                    class="idl"><a data-link-type="idl" href="#writablestream" id="ref-for-writablestream③⑧">WritableStream</a></code>
                的子类会直接在构造步骤内对 <a data-link-type="dfn" href="#writablestream-set-up"
                    id="ref-for-writablestream-set-up①">设置</a>操作使用 <a data-link-type="dfn"
                    href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①①⑧">this</a> 值。</p>
        </div>
        <hr>
        <p>以下定义仅适用于经上述<a data-link-type="dfn" href="#writablestream-set-up"
                id="ref-for-writablestream-set-up②">设置</a>算法初始化的 <code
                class="idl"><a data-link-type="idl" href="#writablestream" id="ref-for-writablestream③⑨">WritableStream</a></code>
            实例：</p>
        <p class="algorithm" data-algorithm="error" data-algorithm-for="WritableStream">要<dfn class="dfn-paneled"
                data-dfn-for="WritableStream" data-dfn-type="dfn" data-export data-lt="error|erroring"
                id="writablestream-error">错误</dfn> <code
                class="idl"><a data-link-type="idl" href="#writablestream" id="ref-for-writablestream④⓪">WritableStream</a></code>
            <var>stream</var>，给定 JavaScript 值 <var>e</var>，执行 ! <a data-link-type="abstract-op"
                href="#writable-stream-default-controller-error-if-needed"
                id="ref-for-writable-stream-default-controller-error-if-needed⑦">WritableStreamDefaultControllerErrorIfNeeded</a>(<var>stream</var>.<a
                data-link-type="dfn" href="#writablestream-controller"
                id="ref-for-writablestream-controller①③">[[controller]]</a>, <var>e</var>)。
        </p>
        <p><code
                class="idl"><a data-link-type="idl" href="#writablestream" id="ref-for-writablestream④①">WritableStream</a></code>
            <var>stream</var> 的 <dfn class="dfn-paneled" data-dfn-for="WritableStream" data-dfn-type="dfn" data-export
                id="writablestream-signal">signal</dfn> 为 <var>stream</var>.<a data-link-type="dfn"
                href="#writablestream-controller" id="ref-for-writablestream-controller①④">[[controller]]</a>.<a
                data-link-type="dfn" href="#writablestreamdefaultcontroller-abortcontroller"
                id="ref-for-writablestreamdefaultcontroller-abortcontroller③">[[abortController]]</a> 的 <a
                data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortcontroller-signal"
                id="ref-for-abortcontroller-signal①">signal</a>。规范可<a data-link-type="dfn"
                href="https://dom.spec.whatwg.org/#abortsignal-add" id="ref-for-abortsignal-add①">添加</a>或<a
                data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-remove"
                id="ref-for-abortsignal-remove①">移除</a>算法到该 <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortsignal" id="ref-for-abortsignal⑤">AbortSignal</a></code>，或查询其是否<a
                data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-aborted"
                id="ref-for-abortsignal-aborted①">已中止</a>及其中止原因<a data-link-type="dfn"
                href="https://dom.spec.whatwg.org/#abortsignal-abort-reason"
                id="ref-for-abortsignal-abort-reason①">abort reason</a>。
        </p>
        <p class="note" role="note">通常用法是，在<a data-link-type="dfn" href="#writablestream-set-up"
                id="ref-for-writablestream-set-up③">设置</a> <code
                class="idl"><a data-link-type="idl" href="#writablestream" id="ref-for-writablestream④②">WritableStream</a></code>后，
            <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-add"
                id="ref-for-abortsignal-add②">添加</a>算法到其 <a data-link-type="dfn" href="#writablestream-signal"
                id="ref-for-writablestream-signal">signal</a>，以中止对<a data-link-type="dfn" href="#underlying-sink"
                id="ref-for-underlying-sink③⑥">底层 sink</a>的任何写入操作。然后，在 <var><a data-link-type="dfn"
                    href="#writablestream-set-up-writealgorithm"
                    id="ref-for-writablestream-set-up-writealgorithm①">writeAlgorithm</a></var> 内，一旦<a
                data-link-type="dfn" href="#underlying-sink" id="ref-for-underlying-sink③⑦">底层 sink</a>响应，检查 <a
                data-link-type="dfn" href="#writablestream-signal" id="ref-for-writablestream-signal①">signal</a> 是否<a
                data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-aborted"
                id="ref-for-abortsignal-aborted②">已中止</a>，如是则用 signal 的<a data-link-type="dfn"
                href="https://dom.spec.whatwg.org/#abortsignal-abort-reason"
                id="ref-for-abortsignal-abort-reason②">中止原因</a>拒绝返回的 promise。
        </p>
        <h4 class="heading settled" data-level="9.2.2" id="other-specs-ws-writing"><span class="secno">9.2.2.
            </span><span class="content">写入</span><a class="self-link" href="#other-specs-ws-writing"></a></h4>
        <p>以下算法可用于任意 <code
                class="idl"><a data-link-type="idl" href="#writablestream" id="ref-for-writablestream④③">WritableStream</a></code>
            实例，包括 Web 开发者创建的实例。所有算法在具体操作上都可能失败，调用规范应处理这些失败。</p>
        <div class="algorithm" data-algorithm="get a writer" data-algorithm-for="WritableStream">
            <p>要为 <code
                    class="idl"><a data-link-type="idl" href="#writablestream" id="ref-for-writablestream④④">WritableStream</a></code>
                <var>stream</var><dfn class="dfn-paneled" data-dfn-for="WritableStream" data-dfn-type="dfn" data-export
                    data-lt="get a writer|getting a writer" id="writablestream-get-a-writer">获取 writer</dfn>，返回 ? <a
                    data-link-type="abstract-op" href="#acquire-writable-stream-default-writer"
                    id="ref-for-acquire-writable-stream-default-writer②">AcquireWritableStreamDefaultWriter</a>(<var>stream</var>)。
                结果为 <code
                    class="idl"><a data-link-type="idl" href="#writablestreamdefaultwriter" id="ref-for-writablestreamdefaultwriter①①">WritableStreamDefaultWriter</a></code>。
            </p>
            <p class="note" role="note">如果 <var>stream</var> 已锁定，此操作会抛出异常。</p>
        </div>
        <p class="algorithm" data-algorithm="write a chunk" data-algorithm-for="WritableStreamDefaultWriter">要对 <code
                class="idl"><a data-link-type="idl" href="#writablestreamdefaultwriter" id="ref-for-writablestreamdefaultwriter①②">WritableStreamDefaultWriter</a></code>
            <var>writer</var><dfn class="dfn-paneled" data-dfn-for="WritableStreamDefaultWriter" data-dfn-type="dfn"
                data-export data-lt="write a chunk|writing a
chunk" id="writablestreamdefaultwriter-write-a-chunk">写入数据块</dfn>，给定值 <var>chunk</var>，
            返回 ! <a data-link-type="abstract-op" href="#writable-stream-default-writer-write"
                id="ref-for-writable-stream-default-writer-write①">WritableStreamDefaultWriterWrite</a>(<var>writer</var>,
            <var>chunk</var>)。
        </p>
        <p class="algorithm" data-algorithm="release" data-algorithm-for="WritableStreamDefaultWriter">要<dfn
                class="dfn-paneled" data-dfn-for="WritableStreamDefaultWriter" data-dfn-type="dfn" data-export
                id="writablestreamdefaultwriter-release">释放</dfn> <code
                class="idl"><a data-link-type="idl" href="#writablestreamdefaultwriter" id="ref-for-writablestreamdefaultwriter①③">WritableStreamDefaultWriter</a></code>
            <var>writer</var>，执行 ! <a data-link-type="abstract-op" href="#writable-stream-default-writer-release"
                id="ref-for-writable-stream-default-writer-release②">WritableStreamDefaultWriterRelease</a>(<var>writer</var>)。
        </p>
        <p class="algorithm" data-algorithm="close" data-algorithm-for="WritableStream">要<dfn class="dfn-paneled"
                data-dfn-for="WritableStream" data-dfn-type="dfn" data-export data-lt="close|closing"
                id="writablestream-close">关闭</dfn> <code
                class="idl"><a data-link-type="idl" href="#writablestream" id="ref-for-writablestream④⑤">WritableStream</a></code>
            <var>stream</var>，返回 ! <a data-link-type="abstract-op" href="#writable-stream-close"
                id="ref-for-writable-stream-close②">WritableStreamClose</a>(<var>stream</var>)。返回值为 promise，值为 undefined
            或拒绝原因。
        </p>
        <p class="algorithm" data-algorithm="abort" data-algorithm-for="WritableStream">要<dfn class="dfn-paneled"
                data-dfn-for="WritableStream" data-dfn-type="dfn" data-export data-lt="abort|aborting"
                id="writablestream-abort">中止</dfn> <code
                class="idl"><a data-link-type="idl" href="#writablestream" id="ref-for-writablestream④⑥">WritableStream</a></code>
            <var>stream</var>，参数 <var>reason</var>，返回 ! <a data-link-type="abstract-op" href="#writable-stream-abort"
                id="ref-for-writable-stream-abort⑦">WritableStreamAbort</a>(<var>stream</var>, <var>reason</var>)。返回值为
            promise，值为 undefined 或拒绝原因。
        </p>
        <h3 class="heading settled" data-level="9.3" id="other-specs-ts"><span class="secno">9.3. </span><span
                class="content">转换流</span><a class="self-link" href="#other-specs-ts"></a></h3>
        <h4 class="heading settled" data-level="9.3.1" id="other-specs-ts-creation"><span class="secno">9.3.1.
            </span><span class="content">创建与操作</span><a class="self-link" href="#other-specs-ts-creation"></a></h4>
        <div class="algorithm" data-algorithm="create a TransformStream">
            要<dfn class="dfn-paneled" data-dfn-for="TransformStream" data-dfn-type="dfn" data-export
                data-lt="set up|setting up" id="transformstream-set-up">设置</dfn>
            新通过 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new" id="ref-for-new③⓪">Web IDL 创建</a>的
            <code
                class="idl"><a data-link-type="idl" href="#transformstream" id="ref-for-transformstream①⑧">TransformStream</a></code>
            对象 <var>stream</var>，给定算法 <dfn class="dfn-paneled" data-dfn-for="TransformStream/set up" data-dfn-type="dfn"
                data-export id="transformstream-set-up-transformalgorithm"><var>transformAlgorithm</var></dfn>、可选算法 <dfn
                class="dfn-paneled" data-dfn-for="TransformStream/set up" data-dfn-type="dfn" data-export
                id="transformstream-set-up-flushalgorithm"><var>flushAlgorithm</var></dfn>、可选算法
            <dfn class="dfn-paneled" data-dfn-for="TransformStream/set up" data-dfn-type="dfn" data-export
                id="transformstream-set-up-cancelalgorithm"><var>cancelAlgorithm</var></dfn>，请执行以下步骤。<var>transformAlgorithm</var>
            以及（如给定）<var>flushAlgorithm</var>和<var>cancelAlgorithm</var>可返回 promise。
            <ol>
                <li data-md>
                    <p>令 <var>writableHighWaterMark</var> 为 1。</p>
                <li data-md>
                    <p>令 <var>writableSizeAlgorithm</var> 为总是返回 1 的算法。</p>
                <li data-md>
                    <p>令 <var>readableHighWaterMark</var> 为 0。</p>
                <li data-md>
                    <p>令 <var>readableSizeAlgorithm</var> 为总是返回 1 的算法。</p>
                <li data-md>
                    <p>令 <var>transformAlgorithmWrapper</var> 为如下算法，参数 <var>chunk</var>：</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>result</var> 为执行 <var>transformAlgorithm</var>（参数 <var>chunk</var>）的结果。如抛出异常
                                <var>e</var>，返回<a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                                    id="ref-for-a-promise-rejected-with④⑥">拒绝的 promise</a>，值为 <var>e</var>。
                            </p>
                        <li data-md>
                            <p>如果 <var>result</var> 是 <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②⑦">Promise</a></code>，返回
                                <var>result</var>。
                            </p>
                        <li data-md>
                            <p>返回<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                                    id="ref-for-a-promise-resolved-with④⑤">已解决的 promise</a>，值为 undefined。</p>
                    </ol>
                <li data-md>
                    <p>令 <var>flushAlgorithmWrapper</var> 为如下算法：</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>result</var> 为执行 <var>flushAlgorithm</var>（如提供，否则为 null）的结果。如抛出异常
                                <var>e</var>，返回<a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                                    id="ref-for-a-promise-rejected-with④⑦">拒绝的 promise</a>，值为 <var>e</var>。
                            </p>
                        <li data-md>
                            <p>如果 <var>result</var> 是 <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②⑧">Promise</a></code>，返回
                                <var>result</var>。
                            </p>
                        <li data-md>
                            <p>返回<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                                    id="ref-for-a-promise-resolved-with④⑥">已解决的 promise</a>，值为 undefined。</p>
                    </ol>
                <li data-md>
                    <p>令 <var>cancelAlgorithmWrapper</var> 为如下算法，参数 <var>reason</var>：</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>result</var> 为执行 <var>cancelAlgorithm</var>（参数 <var>reason</var>）的结果（如提供，否则为
                                null）。如抛出异常 <var>e</var>，返回<a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                                    id="ref-for-a-promise-rejected-with④⑧">拒绝的 promise</a>，值为 <var>e</var>。</p>
                        <li data-md>
                            <p>如果 <var>result</var> 是 <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②⑨">Promise</a></code>，返回
                                <var>result</var>。
                            </p>
                        <li data-md>
                            <p>返回<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                                    id="ref-for-a-promise-resolved-with④⑦">已解决的 promise</a>，值为 undefined。</p>
                    </ol>
                <li data-md>
                    <p>令 <var>startPromise</var> 为<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                            id="ref-for-a-promise-resolved-with④⑧">已解决的 promise</a>，值为 undefined。</p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#initialize-transform-stream"
                            id="ref-for-initialize-transform-stream①">InitializeTransformStream</a>(<var>stream</var>,
                        <var>startPromise</var>, <var>writableHighWaterMark</var>, <var>writableSizeAlgorithm</var>,
                        <var>readableHighWaterMark</var>, <var>readableSizeAlgorithm</var>)。
                    </p>
                <li data-md>
                    <p>令 <var>controller</var> 为新建 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new"
                            id="ref-for-new③①">TransformStreamDefaultController</a>。</p>
                <li data-md>
                    <p>执行 ! <a data-link-type="abstract-op" href="#set-up-transform-stream-default-controller"
                            id="ref-for-set-up-transform-stream-default-controller①">SetUpTransformStreamDefaultController</a>(<var>stream</var>,
                        <var>controller</var>, <var>transformAlgorithmWrapper</var>, <var>flushAlgorithmWrapper</var>,
                        <var>cancelAlgorithmWrapper</var>)。
                    </p>
            </ol>
            <p>其他规范构造 <i><a data-link-type="dfn" href="#transformstream-set-up-transformalgorithm"
                        id="ref-for-transformstream-set-up-transformalgorithm">transformAlgorithm</a></i> 时应避免对给定<a
                    data-link-type="dfn" href="#chunk" id="ref-for-chunk⑧⑥">数据块</a>进行并行读取，否则会破坏 JS
                的运行至完成语义。可通过同步复制或转移给定值避免，例如 <a data-link-type="abstract-op"
                    href="https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializewithtransfer"
                    id="ref-for-structuredserializewithtransfer⑤">StructuredSerializeWithTransfer</a>、<a
                    data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-get-buffer-source-copy"
                    id="ref-for-dfn-get-buffer-source-copy①">获取 buffer source 字节副本</a>或<a data-link-type="dfn"
                    href="https://webidl.spec.whatwg.org/#arraybuffer-transfer" id="ref-for-arraybuffer-transfer②">转移
                    ArrayBuffer</a>。例外情况：数据块为 <code
                    class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-sharedarraybuffer-objects" id="ref-for-sec-sharedarraybuffer-objects①">SharedArrayBuffer</a></code>
                时，允许并行操作。
            </p>
            <div class="example" id="example-set-up-ts">
                <a class="self-link" href="#example-set-up-ts"></a> 从其他规范创建 <code
                    class="idl"><a data-link-type="idl" href="#transformstream" id="ref-for-transformstream①⑨">TransformStream</a></code>
                的过程分两步：
                <ol>
                    <li data-md>
                        <p>令 <var>transformStream</var> 为新建 <a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#new" id="ref-for-new③②">TransformStream</a>。</p>
                    <li data-md>
                        <p>对 <var>transformStream</var> 执行 <a data-link-type="dfn" href="#transformstream-set-up"
                                id="ref-for-transformstream-set-up">设置</a>，参数为 ...。</p>
                </ol>
            </div>
            <p class="note" role="note"><code
                    class="idl"><a data-link-type="idl" href="#transformstream" id="ref-for-transformstream②①">TransformStream</a></code>
                的子类会直接在构造步骤内对 <a data-link-type="dfn" href="#transformstream-set-up"
                    id="ref-for-transformstream-set-up①">设置</a>操作使用 <a data-link-type="dfn"
                    href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①①⑨">this</a> 值。</p>
        </div>
        <div class="algorithm" data-algorithm="create an identity TransformStream">
            要<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                data-lt="create an identity TransformStream|creating an identity TransformStream"
                id="create-an-identity-transformstream">创建
                一个恒等 <code
                    class="idl"><a data-link-type="idl" href="#transformstream" id="ref-for-transformstream②②">TransformStream</a></code></dfn>：
            <ol>
                <li data-md>
                    <p>令 <var>transformStream</var> 为新建 <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#new" id="ref-for-new③③">TransformStream</a>。</p>
                <li data-md>
                    <p>对 <var>transformStream</var> 执行 <a data-link-type="dfn" href="#transformstream-set-up"
                            id="ref-for-transformstream-set-up②">设置</a>，其中 <var><a data-link-type="dfn"
                                href="#transformstream-set-up-transformalgorithm"
                                id="ref-for-transformstream-set-up-transformalgorithm①">transformAlgorithm</a></var>
                        设为如下算法：给定 <var>chunk</var>，<a data-link-type="dfn" href="#transformstream-enqueue"
                            id="ref-for-transformstream-enqueue">入队</a>
                        <var>chunk</var> 到 <var>transformStream</var>。
                    </p>
                <li data-md>
                    <p>返回 <var>transformStream</var>。</p>
            </ol>
        </div>
        <hr>
        <p>以下算法仅适用于经上述<a data-link-type="dfn" href="#transformstream-set-up"
                id="ref-for-transformstream-set-up③">设置</a>算法初始化的 <code
                class="idl"><a data-link-type="idl" href="#transformstream" id="ref-for-transformstream②④">TransformStream</a></code>
            实例。通常作为 <var><a data-link-type="dfn" href="#transformstream-set-up-transformalgorithm"
                    id="ref-for-transformstream-set-up-transformalgorithm②">transformAlgorithm</a></var> 或 <var><a
                    data-link-type="dfn" href="#transformstream-set-up-flushalgorithm"
                    id="ref-for-transformstream-set-up-flushalgorithm">flushAlgorithm</a></var> 的一部分调用。</p>
        <p class="algorithm" data-algorithm="enqueue" data-algorithm-for="TransformStream">要<dfn class="dfn-paneled"
                data-dfn-for="TransformStream" data-dfn-type="dfn" data-export id="transformstream-enqueue">入队</dfn>
            JavaScript 值 <var>chunk</var> 到 <code
                class="idl"><a data-link-type="idl" href="#transformstream" id="ref-for-transformstream②⑤">TransformStream</a></code>
            <var>stream</var>，执行 ! <a data-link-type="abstract-op" href="#transform-stream-default-controller-enqueue"
                id="ref-for-transform-stream-default-controller-enqueue②">TransformStreamDefaultControllerEnqueue</a>(<var>stream</var>.<a
                data-link-type="dfn" href="#transformstream-controller"
                id="ref-for-transformstream-controller①①">[[controller]]</a>, <var>chunk</var>)。
        </p>
        <p class="algorithm" data-algorithm="terminate" data-algorithm-for="TransformStream">要<dfn class="dfn-paneled"
                data-dfn-for="TransformStream" data-dfn-type="dfn" data-export id="transformstream-terminate">终止</dfn>
            <code
                class="idl"><a data-link-type="idl" href="#transformstream" id="ref-for-transformstream②⑥">TransformStream</a></code>
            <var>stream</var>，
            执行 ! <a data-link-type="abstract-op" href="#transform-stream-default-controller-terminate"
                id="ref-for-transform-stream-default-controller-terminate①">TransformStreamDefaultControllerTerminate</a>(<var>stream</var>.<a
                data-link-type="dfn" href="#transformstream-controller"
                id="ref-for-transformstream-controller①②">[[controller]]</a>)。
        </p>
        <p class="algorithm" data-algorithm="error" data-algorithm-for="TransformStream">要<dfn class="dfn-paneled"
                data-dfn-for="TransformStream" data-dfn-type="dfn" data-export id="transformstream-error">错误</dfn> <code
                class="idl"><a data-link-type="idl" href="#transformstream" id="ref-for-transformstream②⑦">TransformStream</a></code>
            <var>stream</var>，给定 JavaScript 值 <var>e</var>，执行 ! <a data-link-type="abstract-op"
                href="#transform-stream-default-controller-error"
                id="ref-for-transform-stream-default-controller-error①">TransformStreamDefaultControllerError</a>(<var>stream</var>.<a
                data-link-type="dfn" href="#transformstream-controller"
                id="ref-for-transformstream-controller①③">[[controller]]</a>, <var>e</var>)。
        </p>
        <h4 class="heading settled" data-level="9.3.2" id="other-specs-ts-wrapping"><span class="secno">9.3.2.
            </span><span class="content">包装为自定义类</span><a class="self-link" href="#other-specs-ts-wrapping"></a></h4>
        <p>其他规范如果希望定义自定义<a data-link-type="dfn" href="#transform-stream" id="ref-for-transform-stream⑤">转换流</a>，可能不希望直接从
            <code
                class="idl"><a data-link-type="idl" href="#transformstream" id="ref-for-transformstream②⑧">TransformStream</a></code>
            接口继承。相反，如果需要新类，可以自行创建独立的 Web IDL 接口，并采用如下 mixin：
        </p>
        <pre class="idl highlight def"><c- b>interface</c-> <c- b>mixin</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="generictransformstream"><code><c- g>GenericTransformStream</c-></code></dfn> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#readablestream" id="ref-for-readablestream⑧⓪"><c- n>ReadableStream</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="ReadableStream" href="#dom-generictransformstream-readable" id="ref-for-dom-generictransformstream-readable"><c- g>readable</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#writablestream" id="ref-for-writablestream④⑦"><c- n>WritableStream</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="WritableStream" href="#dom-generictransformstream-writable" id="ref-for-dom-generictransformstream-writable"><c- g>writable</c-></a>;
};
</pre>
        <p>任何<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-platform-object"
                id="ref-for-dfn-platform-object①">平台对象</a>只要<a data-link-type="dfn"
                href="https://webidl.spec.whatwg.org/#include" id="ref-for-include">包含</a>该 <code
                class="idl"><a data-link-type="idl" href="#generictransformstream" id="ref-for-generictransformstream①">GenericTransformStream</a></code>
            mixin，就有一个相关联的 <dfn class="dfn-paneled" data-dfn-for="GenericTransformStream" data-dfn-type="dfn"
                data-export id="generictransformstream-transform">transform</dfn>，它是一个实际的 <code
                class="idl"><a data-link-type="idl" href="#transformstream" id="ref-for-transformstream②⑨">TransformStream</a></code>。
        </p>
        <p><dfn class="dfn-paneled idl-code" data-dfn-for="GenericTransformStream" data-dfn-type="attribute" data-export
                id="dom-generictransformstream-readable"><code>readable</code></dfn> getter 步骤：返回 <a
                data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①②⓪">this</a> 的 <a
                data-link-type="dfn" href="#generictransformstream-transform"
                id="ref-for-generictransformstream-transform">transform</a>.<a data-link-type="dfn"
                href="#transformstream-readable" id="ref-for-transformstream-readable①③">[[readable]]</a>。
        </p>
        <p><dfn class="dfn-paneled idl-code" data-dfn-for="GenericTransformStream" data-dfn-type="attribute" data-export
                id="dom-generictransformstream-writable"><code>writable</code></dfn> getter 步骤：返回 <a
                data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①②①">this</a> 的 <a
                data-link-type="dfn" href="#generictransformstream-transform"
                id="ref-for-generictransformstream-transform①">transform</a>.<a data-link-type="dfn"
                href="#transformstream-writable" id="ref-for-transformstream-writable⑨">[[writable]]</a>。
        </p>
        <hr>
        <p>包含 <code
                class="idl"><a data-link-type="idl" href="#generictransformstream" id="ref-for-generictransformstream②">GenericTransformStream</a></code>
            mixin 的 IDL 接口会自动拥有 <code
                class="idl"><a data-link-type="idl" href="#dom-generictransformstream-readable" id="ref-for-dom-generictransformstream-readable①">readable</a></code>
            和 <code
                class="idl"><a data-link-type="idl" href="#dom-generictransformstream-writable" id="ref-for-dom-generictransformstream-writable①">writable</a></code>
            属性。要定制该接口的行为，应在构造器（或其他初始化代码）中，将每个实例的 <a data-link-type="dfn" href="#generictransformstream-transform"
                id="ref-for-generictransformstream-transform②">transform</a> 设为新建的 <code
                class="idl"><a data-link-type="idl" href="#transformstream" id="ref-for-transformstream③⓪">TransformStream</a></code>，并通过
            <var><a data-link-type="dfn" href="#transformstream-set-up-transformalgorithm"
                    id="ref-for-transformstream-set-up-transformalgorithm③">transformAlgorithm</a></var> 和（可选）<var><a
                    data-link-type="dfn" href="#transformstream-set-up-flushalgorithm"
                    id="ref-for-transformstream-set-up-flushalgorithm①">flushAlgorithm</a></var>参数进行适当自定义<a
                data-link-type="dfn" href="#transformstream-set-up" id="ref-for-transformstream-set-up④">设置</a>。
        </p>
        <p class="note" role="note"><span class="marker">注意：</span>此模式在 Web 平台已有实例，如 <code
                class="idl"><a data-link-type="idl" href="https://compression.spec.whatwg.org/#compressionstream" id="ref-for-compressionstream">CompressionStream</a></code>
            和 <code
                class="idl"><a data-link-type="idl" href="https://encoding.spec.whatwg.org/#textdecoderstream" id="ref-for-textdecoderstream">TextDecoderStream</a></code>。
            <a data-link-type="biblio" href="#biblio-compression" title="Compression Standard">[COMPRESSION]</a> <a
                data-link-type="biblio" href="#biblio-encoding" title="Encoding Standard">[ENCODING]</a>
        </p>
        <p class="note" role="note">若无需超出 <code
                class="idl"><a data-link-type="idl" href="#transformstream" id="ref-for-transformstream③①">TransformStream</a></code>
            基类提供的 API，无需创建包装类。最常见的驱动因素是需要自定义<a data-link-type="dfn"
                href="https://webidl.spec.whatwg.org/#constructor-steps"
                id="ref-for-constructor-steps">构造器步骤</a>，但如果你的流不是为构造而设计，直接使用 <code
                class="idl"><a data-link-type="idl" href="#transformstream" id="ref-for-transformstream③②">TransformStream</a></code>
            即可。
        </p>
        <h3 class="heading settled" data-level="9.4" id="other-specs-pairs"><span class="secno">9.4. </span><span
                class="content">其他流对</span><a class="self-link" href="#other-specs-pairs"></a></h3>
        <p>除了上面讨论的<a data-link-type="dfn" href="#transform-stream" id="ref-for-transform-stream⑥">转换流</a>，规范通常会创建<a
                data-link-type="dfn" href="#readable-stream" id="ref-for-readable-stream②⓪">可读流</a>和<a
                data-link-type="dfn" href="#writable-stream" id="ref-for-writable-stream①③">可写流</a>的配对。本节为此类情况提供一些指导。
        </p>
        <p>在所有此类情况中，规范应使用 <code>readable</code> 和 <code>writable</code> 作为暴露流的属性名。不要使用其他名称（比如
            <code>input</code>/<code>output</code> 或
            <code>readableStream</code>/<code>writableStream</code>），也不要使用方法或其他非属性的访问方式。
        </p>
        <h4 class="heading settled" data-level="9.4.1" id="other-specs-duplex"><span class="secno">9.4.1. </span><span
                class="content">双工流</span><a class="self-link" href="#other-specs-duplex"></a></h4>
        <p>最常见的可读/可写流配对是<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="duplex-stream">双工流</dfn>，其中可读和可写流代表同一共享资源的两端，比如 socket、连接或设备。</p>
        <p>规范双工流时最棘手的是如何处理诸如<a data-link-type="dfn" href="#cancel-a-readable-stream"
                id="ref-for-cancel-a-readable-stream①②">取消</a>可读端、关闭或<a data-link-type="dfn"
                href="#abort-a-writable-stream"
                id="ref-for-abort-a-writable-stream⑧">中止</a>可写端等操作。可以选择让双工流“半开”，即一端的操作不影响另一端；也可以让操作影响另一端，例如指定可读端的
            <var><a data-link-type="dfn" href="#readablestream-set-up-cancelalgorithm"
                    id="ref-for-readablestream-set-up-cancelalgorithm">cancelAlgorithm</a></var> 会<a
                data-link-type="dfn" href="#writablestream-close" id="ref-for-writablestream-close">关闭</a>可写端。
        </p>
        <p class="example" id="example-basic-duplex"><a class="self-link" href="#example-basic-duplex"></a>一个基本双工流的例子（通过
            JS 创建而非规范文本）见 <a href="#example-both">§ 10.8 使用同一底层资源包装的 { readable, writable } stream 配对</a>。该例展示了影响传递行为。
        </p>
        <p>另一个需要考虑的是异步获取双工流的创建方式，比如建立连接。推荐模式是有一个可构造类，其属性返回 promise，promise 完成时得到实际双工流对象。该对象还能暴露异步获取的信息，比如连接数据。容器类可以提供便捷
            API，比如一次关闭整个连接而非只关闭某一端。</p>
        <p class="example" id="example-duplex-with-container"><a class="self-link"
                href="#example-duplex-with-container"></a>更复杂的双工流例子是正在规范化的 <code>WebSocketStream</code>。见其<a
                href="https://github.com/ricea/websocketstream-explainer/blob/master/README.md">说明文档</a>和<a
                href="https://docs.google.com/document/d/1La1ehXw76HP6n1uUeks-WJGFgAnpX2tCjKts7QFJ57Y/edit#">设计笔记</a>。
        </p>
        <p>由于双工流遵循 <code>readable</code>/<code>writable</code> 属性约定，它们可以用于 <code
                class="idl"><a data-link-type="idl" href="#rs-pipe-through" id="ref-for-rs-pipe-through④">pipeThrough()</a></code>。这不总是有意义，但底层资源确实做某种变换时是方便的。
        </p>
        <p class="example" id="example-duplex-pipethrough"><a class="self-link"
                href="#example-duplex-pipethrough"></a>对于任意 WebSocket，pipeThrough
            派生的双工流通常没有意义。但如果服务器专门实现为对收到的数据进行变换后回传，则这种用法既有用又便捷。</p>
        <h4 class="heading settled" data-level="9.4.2" id="other-specs-endpoints"><span class="secno">9.4.2.
            </span><span class="content">端点配对</span><a class="self-link" href="#other-specs-endpoints"></a>
        </h4>
        <p>另一种可读/可写流配对是<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="endpoint-pair">端点配对</dfn>。此时可读和可写流代表一个较长管道的两端，目的是让 Web 开发代码在中间插入<a data-link-type="dfn"
                href="#transform-stream" id="ref-for-transform-stream⑦">转换流</a>。</p>
        <div class="example" id="example-endpoint-pair-usage">
            <a class="self-link" href="#example-endpoint-pair-usage"></a> 假设平台提供了 <code>createEndpointPair()</code>，Web
            开发者可这样写代码：
            <pre class="highlight"><c- a>const</c-> <c- p>{</c-> readable<c- p>,</c-> writable <c- p>}</c-> <c- o>=</c-> createEndpointPair<c- p>();</c->
<c- k>await</c-> readable<c- p>.</c->pipeThrough<c- p>(</c-><c- ow>new</c-> TransformStream<c- p>(...)).</c->pipeTo<c- p>(</c->writable<c- p>);</c->
</pre>
        </div>
        <p class="example" id="example-endpoint-pair-webrtc"><a class="self-link"
                href="#example-endpoint-pair-webrtc"></a><cite>WebRTC Encoded Transform</cite> 就是这种技术的例子，其 <code
                class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-encoded-transform/#rtcrtpscripttransformer" id="ref-for-rtcrtpscripttransformer">RTCRtpScriptTransformer</a></code>
            接口同时有 <code>readable</code> 和 <code>writable</code> 属性。</p>
        <p>虽然端点配对也遵循 <code>readable</code>/<code>writable</code> 属性约定，但把它们传给 <code
                class="idl"><a data-link-type="idl" href="#rs-pipe-through" id="ref-for-rs-pipe-through⑤">pipeThrough()</a></code>
            没有意义。</p>
        <h3 class="heading settled" data-level="9.5" id="other-specs-piping"><span class="secno">9.5. </span><span
                class="content">管道连接</span><a class="self-link" href="#other-specs-piping"></a></h3>
        <div class="algorithm" data-algorithm="ReadableStream pipe to">
            <code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream⑧①">ReadableStream</a></code>
            <var>readable</var> <dfn class="dfn-paneled" data-dfn-for="ReadableStream" data-dfn-type="dfn" data-export
                data-lt="pipe|pipe
 to|piped to|piping to" id="readablestream-pipe">管道连接到</dfn> <code
                class="idl"><a data-link-type="idl" href="#writablestream" id="ref-for-writablestream④⑧">WritableStream</a></code>
            <var>writable</var>，可选 boolean <dfn class="dfn-paneled"
                data-dfn-for="ReadableStream/pipe to,ReadableStream/piped to" data-dfn-type="dfn" data-export
                id="readablestream-pipe-to-preventclose"><var>preventClose</var></dfn>（默认 false）、可选 boolean <dfn
                class="dfn-paneled" data-dfn-for="ReadableStream/pipe to,ReadableStream/piped
 to" data-dfn-type="dfn" data-export id="readablestream-pipe-to-preventabort"><var>preventAbort</var></dfn>（默认
            false）、可选 boolean <dfn class="dfn-paneled" data-dfn-for="ReadableStream/pipe to,ReadableStream/piped to"
                data-dfn-type="dfn" data-export
                id="readablestream-pipe-to-preventcancel"><var>preventCancel</var></dfn>（默认 false）、可选 <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortsignal" id="ref-for-abortsignal⑥">AbortSignal</a></code>
            <dfn class="dfn-paneled" data-dfn-for="ReadableStream/pipe
 to,ReadableStream/piped to" data-dfn-type="dfn" data-export
                id="readablestream-pipe-to-signal"><var>signal</var></dfn>，按如下步骤。返回一个 <code
                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise③⓪">Promise</a></code>
            ，管道完成时 fulfilled，失败时 rejected。
            <ol>
                <li data-md>
                    <p class="assertion">断言：! <a data-link-type="abstract-op" href="#is-readable-stream-locked"
                            id="ref-for-is-readable-stream-locked①③">IsReadableStreamLocked</a>(<var>readable</var>) 为
                        false。</p>
                <li data-md>
                    <p class="assertion">断言：! <a data-link-type="abstract-op" href="#is-writable-stream-locked"
                            id="ref-for-is-writable-stream-locked①⓪">IsWritableStreamLocked</a>(<var>writable</var>) 为
                        false。</p>
                <li data-md>
                    <p>令 <var>signalArg</var> 为 <var>signal</var>（如给定），否则为 undefined。</p>
                <li data-md>
                    <p>返回 ! <a data-link-type="abstract-op" href="#readable-stream-pipe-to"
                            id="ref-for-readable-stream-pipe-to④">ReadableStreamPipeTo</a>(<var>readable</var>,
                        <var>writable</var>, <var>preventClose</var>, <var>preventAbort</var>, <var>preventCancel</var>,
                        <var>signalArg</var>)。
                    </p>
            </ol>
            <p class="note" role="note">若不关心返回的 promise，引用该概念可能有点别扭。最佳建议是“<a data-link-type="dfn"
                    href="#readablestream-pipe" id="ref-for-readablestream-pipe③">pipe</a> <var>readable</var> 到
                <var>writable</var>”。
            </p>
        </div>
        <div class="algorithm" data-algorithm="ReadableStream pipe through">
            <code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream⑧②">ReadableStream</a></code>
            <var>readable</var> <dfn class="dfn-paneled" data-dfn-for="ReadableStream" data-dfn-type="dfn" data-export
                data-lt="pipe
 through|piped through|piping through" id="readablestream-pipe-through">管道穿过</dfn> <code
                class="idl"><a data-link-type="idl" href="#transformstream" id="ref-for-transformstream③③">TransformStream</a></code>
            <var>transform</var>，可选 boolean <dfn class="dfn-paneled" data-dfn-for="ReadableStream/pipe through,ReadableStream/piped
 through" data-dfn-type="dfn" data-export id="readablestream-pipe-through-preventclose"><var>preventClose</var></dfn>
            （默认 false）、可选 boolean <dfn class="dfn-paneled"
                data-dfn-for="ReadableStream/pipe through,ReadableStream/piped through" data-dfn-type="dfn" data-export
                id="readablestream-pipe-through-preventabort"><var>preventAbort</var></dfn>（默认 false）、可选 boolean <dfn
                class="dfn-paneled" data-dfn-for="ReadableStream/pipe
 through,ReadableStream/piped through" data-dfn-type="dfn" data-export
                id="readablestream-pipe-through-preventcancel"><var>preventCancel</var></dfn>（默认 false）、可选 <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortsignal" id="ref-for-abortsignal⑦">AbortSignal</a></code>
            <dfn class="dfn-paneled" data-dfn-for="ReadableStream/pipe through,ReadableStream/piped
 through" data-dfn-type="dfn" data-export id="readablestream-pipe-through-signal"><var>signal</var></dfn>，按如下步骤。结果为
            <var>transform</var> 的<a data-link-type="dfn" href="#readable-side" id="ref-for-readable-side①⑤">可读端</a>。
            <ol>
                <li data-md>
                    <p class="assertion">断言：! <a data-link-type="abstract-op" href="#is-readable-stream-locked"
                            id="ref-for-is-readable-stream-locked①④">IsReadableStreamLocked</a>(<var>readable</var>) 为
                        false。</p>
                <li data-md>
                    <p class="assertion">断言：! <a data-link-type="abstract-op" href="#is-writable-stream-locked"
                            id="ref-for-is-writable-stream-locked①①">IsWritableStreamLocked</a>(<var>transform</var>.<a
                            data-link-type="dfn" href="#transformstream-writable"
                            id="ref-for-transformstream-writable①⓪">[[writable]]</a>) 为 false。</p>
                <li data-md>
                    <p>令 <var>signalArg</var> 为 <var>signal</var>（如给定），否则为 undefined。</p>
                <li data-md>
                    <p>令 <var>promise</var> 为 ! <a data-link-type="abstract-op" href="#readable-stream-pipe-to"
                            id="ref-for-readable-stream-pipe-to⑤">ReadableStreamPipeTo</a>(<var>readable</var>,
                        <var>transform</var>.<a data-link-type="dfn" href="#transformstream-writable"
                            id="ref-for-transformstream-writable①①">[[writable]]</a>, <var>preventClose</var>,
                        <var>preventAbort</var>, <var>preventCancel</var>, <var>signalArg</var>)。
                    </p>
                <li data-md>
                    <p>将 <var>promise</var>.[[PromiseIsHandled]] 设为 true。</p>
                <li data-md>
                    <p>返回 <var>transform</var>.<a data-link-type="dfn" href="#transformstream-readable"
                            id="ref-for-transformstream-readable①④">[[readable]]</a>。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="create a proxy" data-algorithm-for="ReadableStream">
            要为 <code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream⑧③">ReadableStream</a></code>
            <var>stream</var><dfn class="dfn-paneled" data-dfn-for="ReadableStream" data-dfn-type="dfn" data-export
                data-lt="create a proxy|creating a proxy" id="readablestream-create-a-proxy">创建代理</dfn>，执行如下步骤。结果是新
            <code
                class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream⑧④">ReadableStream</a></code>
            对象，其数据从 <var>stream</var> 拉取，同时 <var>stream</var> 立即变为<a data-link-type="dfn" href="#readablestream-locked"
                id="ref-for-readablestream-locked②">锁定</a>和<a data-link-type="dfn" href="#is-readable-stream-disturbed"
                id="ref-for-is-readable-stream-disturbed">扰动</a>。
            <ol>
                <li data-md>
                    <p>令 <var>identityTransform</var> 为<a data-link-type="dfn"
                            href="#create-an-identity-transformstream"
                            id="ref-for-create-an-identity-transformstream">创建恒等
                            <code>TransformStream</code></a>的结果。</p>
                <li data-md>
                    <p>返回 <var>stream</var><a data-link-type="dfn" href="#readablestream-pipe-through"
                            id="ref-for-readablestream-pipe-through">管道穿过</a>
                        <var>identityTransform</var>的结果。
                    </p>
            </ol>
        </div>
        <h2 class="heading settled" data-level="10" id="creating-examples"><span class="secno">10. </span><span
                class="content">创建流的示例</span><a class="self-link" href="#creating-examples"></a>
        </h2>
        <div class="non-normative">
            <p><em>本节及所有子节均为非规范内容。</em></p>
            <p>前面的标准示例主要关注如何使用流。这里展示如何创建流，使用 <code
                    class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream⑧⑤">ReadableStream</a></code>、
                <code
                    class="idl"><a data-link-type="idl" href="#writablestream" id="ref-for-writablestream④⑨">WritableStream</a></code>、
                以及 <code
                    class="idl"><a data-link-type="idl" href="#transformstream" id="ref-for-transformstream③④">TransformStream</a></code>
                构造器。
            </p>
            <h3 class="heading settled" data-level="10.1" id="example-rs-push-no-backpressure"><span class="secno">10.1.
                </span><span class="content">具有底层推送源的可读流（无背压支持）</span><a class="self-link"
                    href="#example-rs-push-no-backpressure"></a></h3>
            <p>下述函数创建<a data-link-type="dfn" href="#readable-stream" id="ref-for-readable-stream②①">可读流</a>，用于包装 <code
                    class="idl"><a data-link-type="idl" href="https://websockets.spec.whatwg.org/#websocket" id="ref-for-websocket">WebSocket</a></code>
                实例 <a data-link-type="biblio" href="#biblio-websockets" title="WebSockets Standard">[WEBSOCKETS]</a>，
                它们是<a data-link-type="dfn" href="#push-source"
                    id="ref-for-push-source②">推送源</a>，不支持背压信号。示例说明了，当适配推送源时，通常大部分工作发生在 <code
                    class="idl"><a data-link-type="idl" href="#dom-underlyingsource-start" id="ref-for-dom-underlyingsource-start⑧">start()</a></code>
                方法中。</p>
            <pre class="highlight"><c- a>function</c-> makeReadableWebSocketStream<c- p>(</c->url<c- p>,</c-> protocols<c- p>)</c-> <c- p>{</c->
  <c- a>const</c-> ws <c- o>=</c-> <c- ow>new</c-> WebSocket<c- p>(</c->url<c- p>,</c-> protocols<c- p>);</c->
  ws<c- p>.</c->binaryType <c- o>=</c-> <c- u>"arraybuffer"</c-><c- p>;</c->

  <c- k>return</c-> <c- ow>new</c-> ReadableStream<c- p>({</c->
    start<c- p>(</c->controller<c- p>)</c-> <c- p>{</c->
      ws<c- p>.</c->onmessage <c- o>=</c-> event <c- p>=></c-> controller<c- p>.</c->enqueue<c- p>(</c->event<c- p>.</c->data<c- p>);</c->
      ws<c- p>.</c->onclose <c- o>=</c-> <c- p>()</c-> <c- p>=></c-> controller<c- p>.</c->close<c- p>();</c->
      ws<c- p>.</c->onerror <c- o>=</c-> <c- p>()</c-> <c- p>=></c-> controller<c- p>.</c->error<c- p>(</c-><c- ow>new</c-> <c- ne>Error</c-><c- p>(</c-><c- u>"WebSocket 出错了！"</c-><c- p>));</c->
    <c- p>},</c->

    cancel<c- p>()</c-> <c- p>{</c->
      ws<c- p>.</c->close<c- p>();</c->
    <c- p>}</c->
  <c- p>});</c->
<c- p>}</c->
</pre>
            <p>我们可以用此函数为 websocket 创建可读流，并将该流 pipe 到任意可写流：</p>
            <pre class="highlight"><c- a>const</c-> webSocketStream <c- o>=</c-> makeReadableWebSocketStream<c- p>(</c-><c- u>"wss://example.com:443/"</c-><c- p>,</c-> <c- u>"protocol"</c-><c- p>);</c->

webSocketStream<c- p>.</c->pipeTo<c- p>(</c->writableStream<c- p>)</c->
  <c- p>.</c->then<c- p>(()</c-> <c- p>=></c-> console<c- p>.</c->log<c- p>(</c-><c- u>"所有数据写入成功！"</c-><c- p>))</c->
  <c- p>.</c-><c- k>catch</c-><c- p>(</c->e <c- p>=></c-> console<c- p>.</c->error<c- p>(</c-><c- u>"发生错误！"</c-><c- p>,</c-> e<c- p>));</c->
</pre>
            <div class="note" id="note-web-socket-wrapping-examples" role="note">
                <a class="self-link" href="#note-web-socket-wrapping-examples"></a> 这种 websocket 包装方式将 websocket
                消息直接解读为<a data-link-type="dfn" href="#chunk" id="ref-for-chunk⑧⑧">数据块</a>。这对于 <a data-link-type="dfn"
                    href="#piping" id="ref-for-piping①①">管道连接</a>到 <a data-link-type="dfn" href="#writable-stream"
                    id="ref-for-writable-stream①④">可写流</a>或 <a data-link-type="dfn" href="#transform-stream"
                    id="ref-for-transform-stream⑧">转换流</a>非常方便，
                因为每个 websocket 消息都可以作为一个数据块消费或转换。
                <p>不过，很多人提到“为 websocket 添加流支持”时，其实希望能以流方式发送单个 websocket 消息，比如可在一个消息内传输文件，而无需客户端全部加载进内存。要实现此目的，应该允许单个
                    websocket 消息本身为 <code
                        class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream⑧⑥">ReadableStream</a></code>
                    实例。上面示例并没有实现这一点。</p>
                <p>更多背景见 <a href="https://github.com/w3c/webrtc-pc/issues/1732#issuecomment-358428651">此讨论</a>。</p>
            </div>
            <h3 class="heading settled" data-level="10.2" id="example-rs-push-backpressure"><span class="secno">10.2.
                </span><span class="content">具有底层推送源并支持背压的可读流</span><a class="self-link"
                    href="#example-rs-push-backpressure"></a></h3>
            <p>下述函数返回<a data-link-type="dfn" href="#readable-stream" id="ref-for-readable-stream②②">可读流</a>，用于包装“背压
                socket”，假设对象 API 与 websocket 类似，但还可通过 <code>readStop</code> 和 <code>readStart</code>
                方法暂停和恢复数据流。该示例展示了如何将<a data-link-type="dfn" href="#backpressure"
                    id="ref-for-backpressure②②">背压</a>应用到支持的<a data-link-type="dfn" href="#underlying-source"
                    id="ref-for-underlying-source③②">底层源</a>。</p>
            <pre class="highlight"><c- a>function</c-> makeReadableBackpressureSocketStream<c- p>(</c->host<c- p>,</c-> port<c- p>)</c-> <c- p>{</c->
  <c- a>const</c-> socket <c- o>=</c-> createBackpressureSocket<c- p>(</c->host<c- p>,</c-> port<c- p>);</c->

  <c- k>return</c-> <c- ow>new</c-> ReadableStream<c- p>({</c->
    start<c- p>(</c->controller<c- p>)</c-> <c- p>{</c->
      socket<c- p>.</c->ondata <c- o>=</c-> event <c- p>=></c-> <c- p>{</c->
        controller<c- p>.</c->enqueue<c- p>(</c->event<c- p>.</c->data<c- p>);</c->

        <c- k>if</c-> <c- p>(</c->controller<c- p>.</c->desiredSize <c- o>&lt;=</c-> <c- mf>0</c-><c- p>)</c-> <c- p>{</c->
          <c- c1>// 内部队列已满，将背压信号传递到底层源。</c->
          socket<c- p>.</c->readStop<c- p>();</c->
        <c- p>}</c->
      <c- p>};</c->

      socket<c- p>.</c->onend <c- o>=</c-> <c- p>()</c-> <c- p>=></c-> controller<c- p>.</c->close<c- p>();</c->
      socket<c- p>.</c->onerror <c- o>=</c-> <c- p>()</c-> <c- p>=></c-> controller<c- p>.</c->error<c- p>(</c-><c- ow>new</c-> <c- ne>Error</c-><c- p>(</c-><c- u>"Socket 出错了！"</c-><c- p>));</c->
    <c- p>},</c->

    pull<c- p>()</c-> <c- p>{</c->
      <c- c1>// 队列已清空但消费端还要数据，重启数据流（如之前已暂停）。</c->
      socket<c- p>.</c->readStart<c- p>();</c->
    <c- p>},</c->

    cancel<c- p>()</c-> <c- p>{</c->
      socket<c- p>.</c->close<c- p>();</c->
    <c- p>}</c->
  <c- p>});</c->
<c- p>}</c->
</pre>
            <p>我们可以用此函数为“背压 socket”创建可读流，与 websocket 相同用法。但这次，当 pipe 到不能及时接受数据的目标，或长时间未读取时，会向 socket 发送背压信号。</p>
            <h3 class="heading settled" data-level="10.3" id="example-rbs-push"><span class="secno">10.3. </span><span
                    class="content">具有底层推送源的可读字节流（无背压支持）</span><a class="self-link" href="#example-rbs-push"></a></h3>
            <p>下述函数返回<a data-link-type="dfn" href="#readable-byte-stream"
                    id="ref-for-readable-byte-stream①⑦">可读字节流</a>，用于包装假设的 UDP socket API，
                包括 promise 返回的 <code>select2()</code> 方法，意为模拟 POSIX select(2) 系统调用。</p>
            <p>由于 UDP 协议没有内建背压支持，<code
                    class="idl"><a data-link-type="idl" href="#rbs-controller-desired-size" id="ref-for-rbs-controller-desired-size④">desiredSize</a></code>
                给出的背压信号会被忽略，流保证当 socket 有数据但开发者未请求时，数据会进流的<a data-link-type="dfn" href="#internal-queues"
                    id="ref-for-internal-queues①②">内部队列</a>，避免内核队列溢出和数据丢失。</p>
            <p>这对<a data-link-type="dfn" href="#consumer" id="ref-for-consumer①⓪">消费端</a>与流的交互有有趣影响。若消费端读取速度慢于 socket
                生产速度，<a data-link-type="dfn" href="#chunk" id="ref-for-chunk⑧⑨">数据块</a>会一直留在流的<a data-link-type="dfn"
                    href="#internal-queues" id="ref-for-internal-queues①③">内部队列</a>。这时，用<a data-link-type="dfn"
                    href="#byob-reader" id="ref-for-byob-reader⑦">BYOB reader</a>会有多一次复制（从流队列到开发者 buffer）。但如果消费端足够快，BYOB
                reader 可以实现零拷贝，直接写入开发者提供的 buffer。</p>
            <p>（你可以想象更复杂的版本，使用 <code
                    class="idl"><a data-link-type="idl" href="#rbs-controller-desired-size" id="ref-for-rbs-controller-desired-size⑤">desiredSize</a></code>
                通知带外背压机制，比如 socket 发送消息调整数据速率。留给读者自行实现。）</p>
            <pre class="highlight"><c- a>const</c-> DEFAULT_CHUNK_SIZE <c- o>=</c-> <c- mf>65536</c-><c- p>;</c->

<c- a>function</c-> makeUDPSocketStream<c- p>(</c->host<c- p>,</c-> port<c- p>)</c-> <c- p>{</c->
  <c- a>const</c-> socket <c- o>=</c-> createUDPSocket<c- p>(</c->host<c- p>,</c-> port<c- p>);</c->

  <c- k>return</c-> <c- ow>new</c-> ReadableStream<c- p>({</c->
    type<c- o>:</c-> <c- u>"bytes"</c-><c- p>,</c->

    start<c- p>(</c->controller<c- p>)</c-> <c- p>{</c->
      readRepeatedly<c- p>().</c-><c- k>catch</c-><c- p>(</c->e <c- p>=></c-> controller<c- p>.</c->error<c- p>(</c->e<c- p>));</c->

      <c- a>function</c-> readRepeatedly<c- p>()</c-> <c- p>{</c->
        <c- k>return</c-> socket<c- p>.</c->select2<c- p>().</c->then<c- p>(()</c-> <c- p>=></c-> <c- p>{</c->
          <c- c1>// socket 可读时可能没有 BYOB 请求，需要两种情况都处理。</c->
          <c- a>let</c-> bytesRead<c- p>;</c->
          <c- k>if</c-> <c- p>(</c->controller<c- p>.</c->byobRequest<c- p>)</c-> <c- p>{</c->
            <c- a>const</c-> v <c- o>=</c-> controller<c- p>.</c->byobRequest<c- p>.</c->view<c- p>;</c->
            bytesRead <c- o>=</c-> socket<c- p>.</c->readInto<c- p>(</c->v<c- p>.</c->buffer<c- p>,</c-> v<c- p>.</c->byteOffset<c- p>,</c-> v<c- p>.</c->byteLength<c- p>);</c->
            <c- k>if</c-> <c- p>(</c->bytesRead <c- o>===</c-> <c- mf>0</c-><c- p>)</c-> <c- p>{</c->
              controller<c- p>.</c->close<c- p>();</c->
            <c- p>}</c->
            controller<c- p>.</c->byobRequest<c- p>.</c->respond<c- p>(</c->bytesRead<c- p>);</c->
          <c- p>}</c-> <c- k>else</c-> <c- p>{</c->
            <c- a>const</c-> buffer <c- o>=</c-> <c- ow>new</c-> ArrayBuffer<c- p>(</c->DEFAULT_CHUNK_SIZE<c- p>);</c->
            bytesRead <c- o>=</c-> socket<c- p>.</c->readInto<c- p>(</c->buffer<c- p>,</c-> <c- mf>0</c-><c- p>,</c-> DEFAULT_CHUNK_SIZE<c- p>);</c->
            <c- k>if</c-> <c- p>(</c->bytesRead <c- o>===</c-> <c- mf>0</c-><c- p>)</c-> <c- p>{</c->
              controller<c- p>.</c->close<c- p>();</c->
            <c- p>}</c-> <c- k>else</c-> <c- p>{</c->
              controller<c- p>.</c->enqueue<c- p>(</c-><c- ow>new</c-> Uint8Array<c- p>(</c->buffer<c- p>,</c-> <c- mf>0</c-><c- p>,</c-> bytesRead<c- p>));</c->
            <c- p>}</c->
          <c- p>}</c->

          <c- k>if</c-> <c- p>(</c->bytesRead <c- o>===</c-> <c- mf>0</c-><c- p>)</c-> <c- p>{</c->
            <c- k>return</c-><c- p>;</c->
          <c- p>}</c->

          <c- k>return</c-> readRepeatedly<c- p>();</c->
        <c- p>});</c->
      <c- p>}</c->
    <c- p>},</c->

    cancel<c- p>()</c-> <c- p>{</c->
      socket<c- p>.</c->close<c- p>();</c->
    <c- p>}</c->
  <c- p>});</c->
<c- p>}</c->
</pre>
            <p><code
                    class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream⑧⑦">ReadableStream</a></code>
                实例可用 BYOB reader，享受上述优点和注意事项。</p>
            <h3 class="heading settled" data-level="10.4" id="example-rs-pull"><span class="secno">10.4. </span><span
                    class="content">具有底层拉取源的可读流</span><a class="self-link" href="#example-rs-pull"></a></h3>
            <p>下面的函数返回<a data-link-type="dfn" href="#readable-stream" id="ref-for-readable-stream②③">可读流</a>，用于包装 <a
                    href="https://nodejs.org/api/fs.html">Node.js 文件系统 API</a>（基本等价于 C 的
                <code>fopen</code>、<code>fread</code>、<code>fclose</code> 三件套）。文件是典型的<a data-link-type="dfn"
                    href="#pull-source" id="ref-for-pull-source②">拉取源</a>。注意，与推送源示例不同，这里大部分操作发生在按需触发的 <code
                    class="idl"><a data-link-type="idl" href="#dom-underlyingsource-pull" id="ref-for-dom-underlyingsource-pull⑨">pull()</a></code>
                方法中，而不是在 <code
                    class="idl"><a data-link-type="idl" href="#dom-underlyingsource-start" id="ref-for-dom-underlyingsource-start⑨">start()</a></code>
                启动时。
            </p>
            <pre class="highlight"><c- a>const</c-> fs <c- o>=</c-> require<c- p>(</c-><c- u>"fs"</c-><c- p>).</c->promises<c- p>;</c->
<c- a>const</c-> CHUNK_SIZE <c- o>=</c-> <c- mf>1024</c-><c- p>;</c->

<c- a>function</c-> makeReadableFileStream<c- p>(</c->filename<c- p>)</c-> <c- p>{</c->
  <c- a>let</c-> fileHandle<c- p>;</c->
  <c- a>let</c-> position <c- o>=</c-> <c- mf>0</c-><c- p>;</c->

  <c- k>return</c-> <c- ow>new</c-> ReadableStream<c- p>({</c->
    <c- k>async</c-> start<c- p>()</c-> <c- p>{</c->
      fileHandle <c- o>=</c-> <c- k>await</c-> fs<c- p>.</c->open<c- p>(</c->filename<c- p>,</c-> <c- u>"r"</c-><c- p>);</c->
    <c- p>},</c->

    <c- k>async</c-> pull<c- p>(</c->controller<c- p>)</c-> <c- p>{</c->
      <c- a>const</c-> buffer <c- o>=</c-> <c- ow>new</c-> Uint8Array<c- p>(</c->CHUNK_SIZE<c- p>);</c->

      <c- a>const</c-> <c- p>{</c-> bytesRead <c- p>}</c-> <c- o>=</c-> <c- k>await</c-> fileHandle<c- p>.</c->read<c- p>(</c->buffer<c- p>,</c-> <c- mf>0</c-><c- p>,</c-> CHUNK_SIZE<c- p>,</c-> position<c- p>);</c->
      <c- k>if</c-> <c- p>(</c->bytesRead <c- o>===</c-> <c- mf>0</c-><c- p>)</c-> <c- p>{</c->
        <c- k>await</c-> fileHandle<c- p>.</c->close<c- p>();</c->
        controller<c- p>.</c->close<c- p>();</c->
      <c- p>}</c-> <c- k>else</c-> <c- p>{</c->
        position <c- o>+=</c-> bytesRead<c- p>;</c->
        controller<c- p>.</c->enqueue<c- p>(</c->buffer<c- p>.</c->subarray<c- p>(</c-><c- mf>0</c-><c- p>,</c-> bytesRead<c- p>));</c->
      <c- p>}</c->
    <c- p>},</c->

    cancel<c- p>()</c-> <c- p>{</c->
      <c- k>return</c-> fileHandle<c- p>.</c->close<c- p>();</c->
    <c- p>}</c->
  <c- p>});</c->
<c- p>}</c->
</pre>
            <p>我们可以像处理 socket 一样，创建和使用文件的可读流。</p>
            <h3 class="heading settled" data-level="10.5" id="example-rbs-pull"><span class="secno">10.5. </span><span
                    class="content">具有底层拉取源的可读字节流</span><a class="self-link" href="#example-rbs-pull"></a></h3>
            <p>下面的函数返回<a data-link-type="dfn" href="#readable-byte-stream"
                    id="ref-for-readable-byte-stream①⑧">可读字节流</a>，可以高效零拷贝读取文件，同样用 <a
                    href="https://nodejs.org/api/fs.html">Node.js 文件系统 API</a>。不同于固定块大小 1024，它会尝试填满开发者提供的 buffer，实现完全控制。
            </p>
            <pre class="highlight"><c- a>const</c-> fs <c- o>=</c-> require<c- p>(</c-><c- u>"fs"</c-><c- p>).</c->promises<c- p>;</c->
<c- a>const</c-> DEFAULT_CHUNK_SIZE <c- o>=</c-> <c- mf>1024</c-><c- p>;</c->

<c- a>function</c-> makeReadableByteFileStream<c- p>(</c->filename<c- p>)</c-> <c- p>{</c->
 <c- a>let</c-> fileHandle<c- p>;</c->
 <c- a>let</c-> position <c- o>=</c-> <c- mf>0</c-><c- p>;</c->

  <c- k>return</c-> <c- ow>new</c-> ReadableStream<c- p>({</c->
    type<c- o>:</c-> <c- u>"bytes"</c-><c- p>,</c->

    <c- k>async</c-> start<c- p>()</c-> <c- p>{</c->
      fileHandle <c- o>=</c-> <c- k>await</c-> fs<c- p>.</c->open<c- p>(</c->filename<c- p>,</c-> <c- u>"r"</c-><c- p>);</c->
    <c- p>},</c->

    <c- k>async</c-> pull<c- p>(</c->controller<c- p>)</c-> <c- p>{</c->
      <c- c1>// 即使消费端用默认 reader，auto-allocation 也会分配 buffer 并通过 byobRequest 传递给我们。</c->
      <c- a>const</c-> v <c- o>=</c-> controller<c- p>.</c->byobRequest<c- p>.</c->view<c- p>;</c->

      <c- a>const</c-> <c- p>{</c-> bytesRead <c- p>}</c-> <c- o>=</c-> <c- k>await</c-> fileHandle<c- p>.</c->read<c- p>(</c->v<c- p>,</c-> <c- mf>0</c-><c- p>,</c-> v<c- p>.</c->byteLength<c- p>,</c-> position<c- p>);</c->
      <c- k>if</c-> <c- p>(</c->bytesRead <c- o>===</c-> <c- mf>0</c-><c- p>)</c-> <c- p>{</c->
        <c- k>await</c-> fileHandle<c- p>.</c->close<c- p>();</c->
        controller<c- p>.</c->close<c- p>();</c->
        controller<c- p>.</c->byobRequest<c- p>.</c->respond<c- p>(</c-><c- mf>0</c-><c- p>);</c->
      <c- p>}</c-> <c- k>else</c-> <c- p>{</c->
        position <c- o>+=</c-> bytesRead<c- p>;</c->
        controller<c- p>.</c->byobRequest<c- p>.</c->respond<c- p>(</c->bytesRead<c- p>);</c->
      <c- p>}</c->
    <c- p>},</c->

    cancel<c- p>()</c-> <c- p>{</c->
      <c- k>return</c-> fileHandle<c- p>.</c->close<c- p>();</c->
    <c- p>},</c->

    autoAllocateChunkSize<c- o>:</c-> DEFAULT_CHUNK_SIZE
  <c- p>});</c->
<c- p>}</c->
</pre>
            <p>有了这个，我们可以为返回的 <code
                    class="idl"><a data-link-type="idl" href="#readablestream" id="ref-for-readablestream⑧⑧">ReadableStream</a></code>
                创建和使用<a data-link-type="dfn" href="#byob-reader" id="ref-for-byob-reader①⓪">BYOB reader</a>，也可以像往常一样创建<a
                    data-link-type="dfn" href="#default-reader" id="ref-for-default-reader④">默认
                    reader</a>。底层字节源的低级字节追踪与默认 reader 的高层块式消费会由流实现自动适配。auto-allocation 功能通过 <code
                    class="idl"><a data-link-type="idl" href="#dom-underlyingsource-autoallocatechunksize" id="ref-for-dom-underlyingsource-autoallocatechunksize②">autoAllocateChunkSize</a></code>
                选项让代码更简单，无需像 <a href="#example-rbs-push">§ 10.3 具有底层推送源的可读字节流（无背压支持）</a>那样手动分支。</p>
            <h3 class="heading settled" data-level="10.6" id="example-ws-no-backpressure"><span class="secno">10.6.
                </span><span class="content">无背压或成功信号的可写流</span><a class="self-link"
                    href="#example-ws-no-backpressure"></a></h3>
            <p>下面的函数返回一个<a data-link-type="dfn" href="#writable-stream" id="ref-for-writable-stream①⑤">可写流</a>，用于包装
                <code
                    class="idl"><a data-link-type="idl" href="https://websockets.spec.whatwg.org/#websocket" id="ref-for-websocket①">WebSocket</a></code>
                <a data-link-type="biblio" href="#biblio-websockets"
                    title="WebSockets Standard">[WEBSOCKETS]</a>。WebSocket 并没有办法通知某个数据块已成功发送（除非轮询 <code
                    class="idl"><a data-link-type="idl" href="https://websockets.spec.whatwg.org/#dom-websocket-bufferedamount" id="ref-for-dom-websocket-bufferedamount">bufferedAmount</a></code>，留给读者实现）。因此，这个可写流无法向<a
                    data-link-type="dfn" href="#producer" id="ref-for-producer①④">生产者</a>准确传递<a data-link-type="dfn"
                    href="#backpressure" id="ref-for-backpressure②③">背压</a>信号或写入成功/失败。即 <a data-link-type="dfn"
                    href="#writer" id="ref-for-writer⑥">writer</a> 的 <code
                    class="idl"><a data-link-type="idl" href="#default-writer-write" id="ref-for-default-writer-write①⑥">write()</a></code>
                方法和 <code
                    class="idl"><a data-link-type="idl" href="#default-writer-ready" id="ref-for-default-writer-ready①⓪">ready</a></code>
                getter 返回的 promise 总是立即完成。
            </p>
            <pre class="highlight"><c- a>function</c-> makeWritableWebSocketStream<c- p>(</c->url<c- p>,</c-> protocols<c- p>)</c-> <c- p>{</c->
  <c- a>const</c-> ws <c- o>=</c-> <c- ow>new</c-> WebSocket<c- p>(</c->url<c- p>,</c-> protocols<c- p>);</c->

  <c- k>return</c-> <c- ow>new</c-> WritableStream<c- p>({</c->
    start<c- p>(</c->controller<c- p>)</c-> <c- p>{</c->
      ws<c- p>.</c->onerror <c- o>=</c-> <c- p>()</c-> <c- p>=></c-> <c- p>{</c->
        controller<c- p>.</c->error<c- p>(</c-><c- ow>new</c-> <c- ne>Error</c-><c- p>(</c-><c- u>"WebSocket 出错了！"</c-><c- p>));</c->
        ws<c- p>.</c->onclose <c- o>=</c-> <c- kc>null</c-><c- p>;</c->
      <c- p>};</c->
      ws<c- p>.</c->onclose <c- o>=</c-> <c- p>()</c-> <c- p>=></c-> controller<c- p>.</c->error<c- p>(</c-><c- ow>new</c-> <c- ne>Error</c-><c- p>(</c-><c- u>"服务器意外关闭连接！"</c-><c- p>));</c->
      <c- k>return</c-> <c- ow>new</c-> Promise<c- p>(</c->resolve <c- p>=></c-> ws<c- p>.</c->onopen <c- o>=</c-> resolve<c- p>);</c->
    <c- p>},</c->

    write<c- p>(</c->chunk<c- p>)</c-> <c- p>{</c->
      ws<c- p>.</c->send<c- p>(</c->chunk<c- p>);</c->
      <c- c1>// 立即返回，因为 websocket 没有简单办法判断写入是否完成。</c->
    <c- p>},</c->

    close<c- p>()</c-> <c- p>{</c->
      <c- k>return</c-> closeWS<c- p>(</c-><c- mf>1000</c-><c- p>);</c->
    <c- p>},</c->

    abort<c- p>(</c->reason<c- p>)</c-> <c- p>{</c->
      <c- k>return</c-> closeWS<c- p>(</c-><c- mf>4000</c-><c- p>,</c-> reason <c- o>&amp;&amp;</c-> reason<c- p>.</c->message<c- p>);</c->
    <c- p>},</c->
  <c- p>});</c->

  <c- a>function</c-> closeWS<c- p>(</c->code<c- p>,</c-> reasonString<c- p>)</c-> <c- p>{</c->
    <c- k>return</c-> <c- ow>new</c-> Promise<c- p>((</c->resolve<c- p>,</c-> reject<c- p>)</c-> <c- p>=></c-> <c- p>{</c->
      ws<c- p>.</c->onclose <c- o>=</c-> e <c- p>=></c-> <c- p>{</c->
        <c- k>if</c-> <c- p>(</c->e<c- p>.</c->wasClean<c- p>)</c-> <c- p>{</c->
          resolve<c- p>();</c->
        <c- p>}</c-> <c- k>else</c-> <c- p>{</c->
          reject<c- p>(</c-><c- ow>new</c-> <c- ne>Error</c-><c- p>(</c-><c- u>"连接未正常关闭"</c-><c- p>));</c->
        <c- p>}</c->
      <c- p>};</c->
      ws<c- p>.</c->close<c- p>(</c->code<c- p>,</c-> reasonString<c- p>);</c->
    <c- p>});</c->
  <c- p>}</c->
<c- p>}</c->
</pre>
            <p>我们可以用此函数为 websocket 创建可写流，并将任意可读流 pipe 到它：</p>
            <pre class="highlight"><c- a>const</c-> webSocketStream <c- o>=</c-> makeWritableWebSocketStream<c- p>(</c-><c- u>"wss://example.com:443/"</c-><c- p>,</c-> <c- u>"protocol"</c-><c- p>);</c->

readableStream<c- p>.</c->pipeTo<c- p>(</c->webSocketStream<c- p>)</c->
  <c- p>.</c->then<c- p>(()</c-> <c- p>=></c-> console<c- p>.</c->log<c- p>(</c-><c- u>"所有数据写入成功！"</c-><c- p>))</c->
  <c- p>.</c-><c- k>catch</c-><c- p>(</c->e <c- p>=></c-> console<c- p>.</c->error<c- p>(</c-><c- u>"发生错误！"</c-><c- p>,</c-> e<c- p>));</c->
</pre>
            <p class="note" role="note">关于将 websocket 包装为流的方式，参见<a href="#note-web-socket-wrapping-examples">前文说明</a>。
            </p>
            <h3 class="heading settled" data-level="10.7" id="example-ws-backpressure"><span class="secno">10.7.
                </span><span class="content">具有背压和成功信号的可写流</span><a class="self-link"
                    href="#example-ws-backpressure"></a></h3>
            <p>下面的函数返回<a data-link-type="dfn" href="#writable-stream" id="ref-for-writable-stream①⑥">可写流</a>，用于包装 <a
                    href="https://nodejs.org/api/fs.html">Node.js 文件系统 API</a>（基本映射到 C 的
                <code>fopen</code>、<code>fwrite</code>、<code>fclose</code> 三件套）。由于我们包装的 API 能告知写入何时成功，这个流能传递<a
                    data-link-type="dfn" href="#backpressure" id="ref-for-backpressure②④">背压</a>信号以及单次写入是否成功或失败。
            </p>
            <pre class="highlight"><c- a>const</c-> fs <c- o>=</c-> require<c- p>(</c-><c- u>"fs"</c-><c- p>).</c->promises<c- p>;</c->

<c- a>function</c-> makeWritableFileStream<c- p>(</c->filename<c- p>)</c-> <c- p>{</c->
  <c- a>let</c-> fileHandle<c- p>;</c->

  <c- k>return</c-> <c- ow>new</c-> WritableStream<c- p>({</c->
    <c- k>async</c-> start<c- p>()</c-> <c- p>{</c->
      fileHandle <c- o>=</c-> <c- k>await</c-> fs<c- p>.</c->open<c- p>(</c->filename<c- p>,</c-> <c- u>"w"</c-><c- p>);</c->
    <c- p>},</c->

    write<c- p>(</c->chunk<c- p>)</c-> <c- p>{</c->
      <c- k>return</c-> fileHandle<c- p>.</c->write<c- p>(</c->chunk<c- p>,</c-> <c- mf>0</c-><c- p>,</c-> chunk<c- p>.</c->length<c- p>);</c->
    <c- p>},</c->

    close<c- p>()</c-> <c- p>{</c->
      <c- k>return</c-> fileHandle<c- p>.</c->close<c- p>();</c->
    <c- p>},</c->

    abort<c- p>()</c-> <c- p>{</c->
      <c- k>return</c-> fileHandle<c- p>.</c->close<c- p>();</c->
    <c- p>}</c->
  <c- p>});</c->
<c- p>}</c->
</pre>
            <p>我们可以用此函数为文件创建可写流，并向其写入单个<a data-link-type="dfn" href="#chunk" id="ref-for-chunk⑨⓪">数据块</a>：</p>
            <pre class="highlight"><c- a>const</c-> fileStream <c- o>=</c-> makeWritableFileStream<c- p>(</c-><c- u>"/example/path/on/fs.txt"</c-><c- p>);</c->
<c- a>const</c-> writer <c- o>=</c-> fileStream<c- p>.</c->getWriter<c- p>();</c->

writer<c- p>.</c->write<c- p>(</c-><c- u>"To stream, or not to stream\n"</c-><c- p>);</c->
writer<c- p>.</c->write<c- p>(</c-><c- u>"That is the question\n"</c-><c- p>);</c->

writer<c- p>.</c->close<c- p>()</c->
  <c- p>.</c->then<c- p>(()</c-> <c- p>=></c-> console<c- p>.</c->log<c- p>(</c-><c- u>"数据块写入并流关闭成功！"</c-><c- p>))</c->
  <c- p>.</c-><c- k>catch</c-><c- p>(</c->e <c- p>=></c-> console<c- p>.</c->error<c- p>(</c->e<c- p>));</c->
</pre>
            <p>注意，如果某次 <code>fileHandle.write</code> 调用用时较长，返回的 promise 会晚些完成。此时后续写入会排队，存储在流的内部队列中。队列中数据块累计，会使 <code
                    class="idl"><a data-link-type="idl" href="#default-writer-ready" id="ref-for-default-writer-ready①①">ready</a></code>
                getter 返回 pending promise，提示<a data-link-type="dfn" href="#producer"
                    id="ref-for-producer①⑤">生产者</a>应停止写入（如有可能）。</p>
            <p>可写流的写入队列机制尤其重要，因为如 <a
                    href="https://nodejs.org/api/fs.html#fs_filehandle_write_buffer_offset_length_position">Node.js
                    文档</a>所述，“在同一文件多次调用 <code>filehandle.write</code> 且不等待 promise 是不安全的。”但写
                <code>makeWritableFileStream</code> 时无需担心流实现保证了 <a data-link-type="dfn" href="#underlying-sink"
                    id="ref-for-underlying-sink③⑧">底层 sink</a> 的 <code
                    class="idl"><a data-link-type="idl" href="#dom-underlyingsink-write" id="ref-for-dom-underlyingsink-write⑥">write()</a></code>
                方法在之前 promise 完成前不会再次调用！
            </p>
            <h3 class="heading settled" data-level="10.8" id="example-both"><span class="secno">10.8. </span><span
                    class="content">包装同一底层资源的 { readable, writable } 流对</span><a class="self-link"
                    href="#example-both"></a></h3>
            <p>下面的函数返回 <code>{ readable, writable }</code> 对象，<code>readable</code> 属性是可读流，<code>writable</code>
                属性是可写流，两者包装同一个 websocket 底层资源。实质上，这结合了 <a href="#example-rs-push-no-backpressure">§ 10.1
                    具有底层推送源的可读流（无背压支持）</a> 和 <a href="#example-ws-no-backpressure">§ 10.6 无背压或成功信号的可写流</a>。</p>
            <p>同时展示了如何用 JavaScript 类创建可复用的底层 sink/source 抽象。</p>
            <pre class="highlight"><c- a>function</c-> streamifyWebSocket<c- p>(</c->url<c- p>,</c-> protocol<c- p>)</c-> <c- p>{</c->
  <c- a>const</c-> ws <c- o>=</c-> <c- ow>new</c-> WebSocket<c- p>(</c->url<c- p>,</c-> protocols<c- p>);</c->
  ws<c- p>.</c->binaryType <c- o>=</c-> <c- u>"arraybuffer"</c-><c- p>;</c->

  <c- k>return</c-> <c- p>{</c->
    readable<c- o>:</c-> <c- ow>new</c-> ReadableStream<c- p>(</c-><c- ow>new</c-> WebSocketSource<c- p>(</c->ws<c- p>)),</c->
    writable<c- o>:</c-> <c- ow>new</c-> WritableStream<c- p>(</c-><c- ow>new</c-> WebSocketSink<c- p>(</c->ws<c- p>))</c->
  <c- p>};</c->
<c- p>}</c->

<c- a>class</c-> WebSocketSource <c- p>{</c->
  <c- kr>constructor</c-><c- p>(</c->ws<c- p>)</c-> <c- p>{</c->
    <c- k>this</c-><c- p>.</c->_ws <c- o>=</c-> ws<c- p>;</c->
  <c- p>}</c->

  start<c- p>(</c->controller<c- p>)</c-> <c- p>{</c->
    <c- k>this</c-><c- p>.</c->_ws<c- p>.</c->onmessage <c- o>=</c-> event <c- p>=></c-> controller<c- p>.</c->enqueue<c- p>(</c->event<c- p>.</c->data<c- p>);</c->
    <c- k>this</c-><c- p>.</c->_ws<c- p>.</c->onclose <c- o>=</c-> <c- p>()</c-> <c- p>=></c-> controller<c- p>.</c->close<c- p>();</c->

    <c- k>this</c-><c- p>.</c->_ws<c- p>.</c->addEventListener<c- p>(</c-><c- u>"error"</c-><c- p>,</c-> <c- p>()</c-> <c- p>=></c-> <c- p>{</c->
      controller<c- p>.</c->error<c- p>(</c-><c- ow>new</c-> <c- ne>Error</c-><c- p>(</c-><c- u>"WebSocket 出错了！"</c-><c- p>));</c->
    <c- p>});</c->
  <c- p>}</c->

  cancel<c- p>()</c-> <c- p>{</c->
    <c- k>this</c-><c- p>.</c->_ws<c- p>.</c->close<c- p>();</c->
  <c- p>}</c->
<c- p>}</c->

<c- a>class</c-> WebSocketSink <c- p>{</c->
  <c- kr>constructor</c-><c- p>(</c->ws<c- p>)</c-> <c- p>{</c->
    <c- k>this</c-><c- p>.</c->_ws <c- o>=</c-> ws<c- p>;</c->
  <c- p>}</c->

  start<c- p>(</c->controller<c- p>)</c-> <c- p>{</c->
    <c- k>this</c-><c- p>.</c->_ws<c- p>.</c->onclose <c- o>=</c-> <c- p>()</c-> <c- p>=></c-> controller<c- p>.</c->error<c- p>(</c-><c- ow>new</c-> <c- ne>Error</c-><c- p>(</c-><c- u>"服务器意外关闭连接！"</c-><c- p>));</c->
    <c- k>this</c-><c- p>.</c->_ws<c- p>.</c->addEventListener<c- p>(</c-><c- u>"error"</c-><c- p>,</c-> <c- p>()</c-> <c- p>=></c-> <c- p>{</c->
      controller<c- p>.</c->error<c- p>(</c-><c- ow>new</c-> <c- ne>Error</c-><c- p>(</c-><c- u>"WebSocket 出错了！"</c-><c- p>));</c->
      <c- k>this</c-><c- p>.</c->_ws<c- p>.</c->onclose <c- o>=</c-> <c- kc>null</c-><c- p>;</c->
    <c- p>});</c->

    <c- k>return</c-> <c- ow>new</c-> Promise<c- p>(</c->resolve <c- p>=></c-> <c- k>this</c-><c- p>.</c->_ws<c- p>.</c->onopen <c- o>=</c-> resolve<c- p>);</c->
  <c- p>}</c->

  write<c- p>(</c->chunk<c- p>)</c-> <c- p>{</c->
    <c- k>this</c-><c- p>.</c->_ws<c- p>.</c->send<c- p>(</c->chunk<c- p>);</c->
  <c- p>}</c->

  close<c- p>()</c-> <c- p>{</c->
    <c- k>return</c-> <c- k>this</c-><c- p>.</c->_closeWS<c- p>(</c-><c- mf>1000</c-><c- p>);</c->
  <c- p>}</c->

  abort<c- p>(</c->reason<c- p>)</c-> <c- p>{</c->
    <c- k>return</c-> <c- k>this</c-><c- p>.</c->_closeWS<c- p>(</c-><c- mf>4000</c-><c- p>,</c-> reason <c- o>&amp;&amp;</c-> reason<c- p>.</c->message<c- p>);</c->
  <c- p>}</c->

  _closeWS<c- p>(</c->code<c- p>,</c-> reasonString<c- p>)</c-> <c- p>{</c->
    <c- k>return</c-> <c- ow>new</c-> Promise<c- p>((</c->resolve<c- p>,</c-> reject<c- p>)</c-> <c- p>=></c-> <c- p>{</c->
      <c- k>this</c-><c- p>.</c->_ws<c- p>.</c->onclose <c- o>=</c-> e <c- p>=></c-> <c- p>{</c->
        <c- k>if</c-> <c- p>(</c->e<c- p>.</c->wasClean<c- p>)</c-> <c- p>{</c->
          resolve<c- p>();</c->
        <c- p>}</c-> <c- k>else</c-> <c- p>{</c->
          reject<c- p>(</c-><c- ow>new</c-> <c- ne>Error</c-><c- p>(</c-><c- u>"连接未正常关闭"</c-><c- p>));</c->
        <c- p>}</c->
      <c- p>};</c->
      <c- k>this</c-><c- p>.</c->_ws<c- p>.</c->close<c- p>(</c->code<c- p>,</c-> reasonString<c- p>);</c->
    <c- p>});</c->
  <c- p>}</c->
<c- p>}</c->
</pre>
            <p>我们可以用该函数创建的对象，通过标准流 API 与远程 websocket 交互：</p>
            <pre class="highlight"><c- a>const</c-> streamyWS <c- o>=</c-> streamifyWebSocket<c- p>(</c-><c- u>"wss://example.com:443/"</c-><c- p>,</c-> <c- u>"protocol"</c-><c- p>);</c->
<c- a>const</c-> writer <c- o>=</c-> streamyWS<c- p>.</c->writable<c- p>.</c->getWriter<c- p>();</c->
<c- a>const</c-> reader <c- o>=</c-> streamyWS<c- p>.</c->readable<c- p>.</c->getReader<c- p>();</c->

writer<c- p>.</c->write<c- p>(</c-><c- u>"Hello"</c-><c- p>);</c->
writer<c- p>.</c->write<c- p>(</c-><c- u>"web socket!"</c-><c- p>);</c->

reader<c- p>.</c->read<c- p>().</c->then<c- p>(({</c-> value<c- p>,</c-> done <c- p>})</c-> <c- p>=></c-> <c- p>{</c->
  console<c- p>.</c->log<c- p>(</c-><c- u>"WebSocket 返回: "</c-><c- p>,</c-> value<c- p>);</c->
<c- p>});</c->
</pre>
            <p>注意，这种实现下，取消 <code>readable</code> 端会隐式关闭 <code>writable</code> 端，关闭或中止 <code>writable</code> 端也会隐式关闭
                <code>readable</code> 端。
            </p>
            <p class="note" role="note">关于将 websocket 包装为流的方式，参见<a href="#note-web-socket-wrapping-examples">前文说明</a>。
            </p>
        </div>
        <h3 class="heading settled" data-level="10.9" id="example-ts-lipfuzz"><span class="secno">10.9. </span><span
                class="content">替换模板标签的转换流</span><a class="self-link" href="#example-ts-lipfuzz"></a></h3>
        <p>在数据流上用变量替换标签通常很有用，尤其当需要替换的部分相较整体数据很小。这个示例给出了简单做法。它将字符串映射为字符串，比如将模板 <code>"Time: {{time}} Message:
{{message}}"</code> 转换为 <code>"Time: 15:36 Message: hello"</code>，假定 <code>{ time:
"15:36", message: "hello" }</code> 被传给了 <code>LipFuzzTransformer</code> 的 <code>substitutions</code> 参数。
        </p>
        <p>本例还展示了如何处理 chunk 包含部分数据、无法立即转换、需等待更多数据的情形。此时，部分模板标签会累积在 <code>partialChunk</code> 属性中，直到找到标签结束或流结束。</p>
        <pre class="highlight"><c- a>class</c-> LipFuzzTransformer <c- p>{</c->
  <c- kr>constructor</c-><c- p>(</c->substitutions<c- p>)</c-> <c- p>{</c->
    <c- k>this</c-><c- p>.</c->substitutions <c- o>=</c-> substitutions<c- p>;</c->
    <c- k>this</c-><c- p>.</c->partialChunk <c- o>=</c-> <c- u>""</c-><c- p>;</c->
    <c- k>this</c-><c- p>.</c->lastIndex <c- o>=</c-> <c- kc>undefined</c-><c- p>;</c->
  <c- p>}</c->

  transform<c- p>(</c->chunk<c- p>,</c-> controller<c- p>)</c-> <c- p>{</c->
    chunk <c- o>=</c-> <c- k>this</c-><c- p>.</c->partialChunk <c- o>+</c-> chunk<c- p>;</c->
    <c- k>this</c-><c- p>.</c->partialChunk <c- o>=</c-> <c- u>""</c-><c- p>;</c->
    <c- c1>// lastIndex 是最后一次替换后的第一个字符索引。</c->
    <c- k>this</c-><c- p>.</c->lastIndex <c- o>=</c-> <c- mf>0</c-><c- p>;</c->
    chunk <c- o>=</c-> chunk<c- p>.</c->replace<c- p>(</c-><c- sr>/\{\{([a-zA-Z0-9_-]+)\}\}/g</c-><c- p>,</c-> <c- k>this</c-><c- p>.</c->replaceTag<c- p>.</c->bind<c- p>(</c-><c- k>this</c-><c- p>));</c->
    <c- c1>// 用于判断字符串末尾是否有不完整模板标签的正则。</c->
    <c- a>const</c-> partialAtEndRegexp <c- o>=</c-> <c- sr>/\{(\{([a-zA-Z0-9_-]+(\})?)?)?$/g</c-><c- p>;</c->
    <c- c1>// 只处理未被替换的新字符。</c->
    partialAtEndRegexp<c- p>.</c->lastIndex <c- o>=</c-> <c- k>this</c-><c- p>.</c->lastIndex<c- p>;</c->
    <c- k>this</c-><c- p>.</c->lastIndex <c- o>=</c-> <c- kc>undefined</c-><c- p>;</c->
    <c- a>const</c-> match <c- o>=</c-> partialAtEndRegexp<c- p>.</c->exec<c- p>(</c->chunk<c- p>);</c->
    <c- k>if</c-> <c- p>(</c->match<c- p>)</c-> <c- p>{</c->
      <c- k>this</c-><c- p>.</c->partialChunk <c- o>=</c-> chunk<c- p>.</c->substring<c- p>(</c->match<c- p>.</c->index<c- p>);</c->
      chunk <c- o>=</c-> chunk<c- p>.</c->substring<c- p>(</c-><c- mf>0</c-><c- p>,</c-> match<c- p>.</c->index<c- p>);</c->
    <c- p>}</c->
    controller<c- p>.</c->enqueue<c- p>(</c->chunk<c- p>);</c->
  <c- p>}</c->

  flush<c- p>(</c->controller<c- p>)</c-> <c- p>{</c->
    <c- k>if</c-> <c- p>(</c-><c- k>this</c-><c- p>.</c->partialChunk<c- p>.</c->length <c- o>></c-> <c- mf>0</c-><c- p>)</c-> <c- p>{</c->
      controller<c- p>.</c->enqueue<c- p>(</c-><c- k>this</c-><c- p>.</c->partialChunk<c- p>);</c->
    <c- p>}</c->
  <c- p>}</c->

  replaceTag<c- p>(</c->match<c- p>,</c-> p1<c- p>,</c-> offset<c- p>)</c-> <c- p>{</c->
    <c- a>let</c-> replacement <c- o>=</c-> <c- k>this</c-><c- p>.</c->substitutions<c- p>[</c->p1<c- p>];</c->
    <c- k>if</c-> <c- p>(</c->replacement <c- o>===</c-> <c- kc>undefined</c-><c- p>)</c-> <c- p>{</c->
      replacement <c- o>=</c-> <c- u>""</c-><c- p>;</c->
    <c- p>}</c->
    <c- k>this</c-><c- p>.</c->lastIndex <c- o>=</c-> offset <c- o>+</c-> replacement<c- p>.</c->length<c- p>;</c->
    <c- k>return</c-> replacement<c- p>;</c->
  <c- p>}</c->
<c- p>}</c->
</pre>
        <p>这里我们将需要传给 <code
                class="idl"><a data-link-type="idl" href="#transformstream" id="ref-for-transformstream③⑤">TransformStream</a></code>
            构造函数的 <a data-link-type="dfn" href="#transformer" id="ref-for-transformer①⓪">transformer</a>
            定义为类，这样便于跟踪实例数据。</p>
        <p>可这样使用该类：</p>
        <pre class="highlight"><c- a>const</c-> data <c- o>=</c-> <c- p>{</c-> userName<c- p>,</c-> displayName<c- p>,</c-> icon<c- p>,</c-> date <c- p>};</c->
<c- a>const</c-> ts <c- o>=</c-> <c- ow>new</c-> TransformStream<c- p>(</c-><c- ow>new</c-> LipFuzzTransformer<c- p>(</c->data<c- p>));</c->

fetchEvent<c- p>.</c->respondWith<c- p>(</c->
  fetch<c- p>(</c->fetchEvent<c- p>.</c->request<c- p>.</c->url<c- p>).</c->then<c- p>(</c->response <c- p>=></c-> <c- p>{</c->
    <c- a>const</c-> transformedBody <c- o>=</c-> response<c- p>.</c->body
      <c- c1>// 解码二进制响应为字符串</c->
      <c- p>.</c->pipeThrough<c- p>(</c-><c- ow>new</c-> TextDecoderStream<c- p>())</c->
      <c- c1>// 应用 LipFuzzTransformer</c->
      <c- p>.</c->pipeThrough<c- p>(</c->ts<c- p>)</c->
      <c- c1>// 编码转换后的字符串</c->
      <c- p>.</c->pipeThrough<c- p>(</c-><c- ow>new</c-> TextEncoderStream<c- p>());</c->
    <c- k>return</c-> <c- ow>new</c-> Response<c- p>(</c->transformedBody<c- p>);</c->
  <c- p>})</c->
<c- p>);</c->
</pre>
        <p class="warning">为简洁起见，<code>LipFuzzTransformer</code>未进行上下文转义。在实际应用中，模板系统需做上下文转义以保证安全和健壮性。</p>
        <h3 class="heading settled" data-level="10.10" id="example-ts-sync-mapper"><span class="secno">10.10.
            </span><span class="content">由同步 mapper 函数创建的转换流</span><a class="self-link"
                href="#example-ts-sync-mapper"></a></h3>
        <p>下面的函数允许通过同步 "mapper" 函数创建新的 <code
                class="idl"><a data-link-type="idl" href="#transformstream" id="ref-for-transformstream③⑥">TransformStream</a></code>
            实例，类似于 <code
                class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-array.prototype.map" id="ref-for-sec-array.prototype.map">Array.prototype.map</a></code>
            传递的函数。它说明了 API 对于简单转换也很简洁。</p>
        <pre class="highlight"><c- a>function</c-> mapperTransformStream<c- p>(</c->mapperFunction<c- p>)</c-> <c- p>{</c->
  <c- k>return</c-> <c- ow>new</c-> TransformStream<c- p>({</c->
    transform<c- p>(</c->chunk<c- p>,</c-> controller<c- p>)</c-> <c- p>{</c->
      controller<c- p>.</c->enqueue<c- p>(</c->mapperFunction<c- p>(</c->chunk<c- p>));</c->
    <c- p>}</c->
  <c- p>});</c->
<c- p>}</c->
</pre>
        <p>此函数可用于创建将所有输入变为大写的 <code
                class="idl"><a data-link-type="idl" href="#transformstream" id="ref-for-transformstream③⑦">TransformStream</a></code>：
        </p>
        <pre class="highlight"><c- a>const</c-> ts <c- o>=</c-> mapperTransformStream<c- p>(</c->chunk <c- p>=></c-> chunk<c- p>.</c->toUpperCase<c- p>());</c->
<c- a>const</c-> writer <c- o>=</c-> ts<c- p>.</c->writable<c- p>.</c->getWriter<c- p>();</c->
<c- a>const</c-> reader <c- o>=</c-> ts<c- p>.</c->readable<c- p>.</c->getReader<c- p>();</c->

writer<c- p>.</c->write<c- p>(</c-><c- u>"No need to shout"</c-><c- p>);</c->

<c- c1>// 输出 "NO NEED TO SHOUT":</c->
reader<c- p>.</c->read<c- p>().</c->then<c- p>(({</c-> value <c- p>})</c-> <c- p>=></c-> console<c- p>.</c->log<c- p>(</c->value<c- p>));</c->
</pre>
        <p>虽然同步转换自身不会产生背压，但只有在没有背压时才会转换 chunk，因此不会浪费资源。</p>
        <p>异常会自然地使流出错：</p>
        <pre class="highlight"><c- a>const</c-> ts <c- o>=</c-> mapperTransformStream<c- p>(</c->chunk <c- p>=></c-> JSON<c- p>.</c->parse<c- p>(</c->chunk<c- p>));</c->
<c- a>const</c-> writer <c- o>=</c-> ts<c- p>.</c->writable<c- p>.</c->getWriter<c- p>();</c->
<c- a>const</c-> reader <c- o>=</c-> ts<c- p>.</c->readable<c- p>.</c->getReader<c- p>();</c->

writer<c- p>.</c->write<c- p>(</c-><c- u>"[1, "</c-><c- p>);</c->

<c- c1>// 会两次输出 SyntaxError:</c->
reader<c- p>.</c->read<c- p>().</c-><c- k>catch</c-><c- p>(</c->e <c- p>=></c-> console<c- p>.</c->error<c- p>(</c->e<c- p>));</c->
writer<c- p>.</c->write<c- p>(</c-><c- u>"{}"</c-><c- p>).</c-><c- k>catch</c-><c- p>(</c->e <c- p>=></c-> console<c- p>.</c->error<c- p>(</c->e<c- p>));</c->
</pre>
        <h3 class="heading settled" data-level="10.11" id="example-identity-transform-usages"><span class="secno">10.11.
            </span><span class="content">用恒等转换流作为原语创建新可读流</span><a class="self-link"
                href="#example-identity-transform-usages"></a>
        </h3>
        <p>将<a data-link-type="dfn" href="#identity-transform-stream" id="ref-for-identity-transform-stream②">恒等转换流</a>与
            <code class="idl"><a data-link-type="idl" href="#rs-pipe-to" id="ref-for-rs-pipe-to⑧">pipeTo()</a></code>
            结合，是操作流的强大方法。本节包含两个此技术的例子。
        </p>
        <p>有时自然地把可读流的 promise 当作可读流，只需一个简单适配器：</p>
        <pre class="highlight"><c- a>function</c-> promiseToReadable<c- p>(</c->promiseForReadable<c- p>)</c-> <c- p>{</c->
  <c- a>const</c-> ts <c- o>=</c-> <c- ow>new</c-> TransformStream<c- p>();</c->

  promiseForReadable
      <c- p>.</c->then<c- p>(</c->readable <c- p>=></c-> readable<c- p>.</c->pipeTo<c- p>(</c->ts<c- p>.</c->writable<c- p>))</c->
      <c- p>.</c-><c- k>catch</c-><c- p>(</c->reason <c- p>=></c-> ts<c- p>.</c->writable<c- p>.</c->abort<c- p>(</c->reason<c- p>))</c->
      <c- p>.</c-><c- k>catch</c-><c- p>(()</c-> <c- p>=></c-> <c- p>{});</c->

  <c- k>return</c-> ts<c- p>.</c->readable<c- p>;</c->
<c- p>}</c->
</pre>
        <p>这里将数据 pipe 到<a data-link-type="dfn" href="#writable-side" id="ref-for-writable-side①④">writable 端</a>后返回<a
                data-link-type="dfn" href="#readable-side" id="ref-for-readable-side①⑥">readable 端</a>。如果 pipe 出错，就<a
                data-link-type="dfn" href="#abort-a-writable-stream"
                id="ref-for-abort-a-writable-stream⑨">中止</a>writable 端，错误会自动传播到返回的 readable 端。如果 writable 端被 <code
                class="idl"><a data-link-type="idl" href="#rs-pipe-to" id="ref-for-rs-pipe-to⑨">pipeTo()</a></code> 标记为
            errored，则 <code
                class="idl"><a data-link-type="idl" href="#ws-abort" id="ref-for-ws-abort⑥">abort()</a></code> 会返回
            rejection，可安全忽略。</p>
        <p>更复杂的扩展是将多个可读流拼接为一个：</p>
        <pre class="highlight"><c- a>function</c-> concatenateReadables<c- p>(</c->readables<c- p>)</c-> <c- p>{</c->
  <c- a>const</c-> ts <c- o>=</c-> <c- ow>new</c-> TransformStream<c- p>();</c->
  <c- a>let</c-> promise <c- o>=</c-> Promise<c- p>.</c->resolve<c- p>();</c->

  <c- k>for</c-> <c- p>(</c-><c- a>const</c-> readable <c- k>of</c-> readables<c- p>)</c-> <c- p>{</c->
    promise <c- o>=</c-> promise<c- p>.</c->then<c- p>(</c->
     <c- p>()</c-> <c- p>=></c-> readable<c- p>.</c->pipeTo<c- p>(</c->ts<c- p>.</c->writable<c- p>,</c-> <c- p>{</c-> preventClose<c- o>:</c-> <c- kc>true</c-> <c- p>}),</c->
     reason <c- p>=></c-> <c- p>{</c->
       <c- k>return</c-> Promise<c- p>.</c->all<c- p>([</c->
         ts<c- p>.</c->writable<c- p>.</c->abort<c- p>(</c->reason<c- p>),</c->
         readable<c- p>.</c->cancel<c- p>(</c->reason<c- p>)</c->
       <c- p>]);</c->
     <c- p>}</c->
   <c- p>);</c->
  <c- p>}</c->

  promise<c- p>.</c->then<c- p>(()</c-> <c- p>=></c-> ts<c- p>.</c->writable<c- p>.</c->close<c- p>(),</c->
               reason <c- p>=></c-> ts<c- p>.</c->writable<c- p>.</c->abort<c- p>(</c->reason<c- p>))</c->
         <c- p>.</c-><c- k>catch</c-><c- p>(()</c-> <c- p>=></c-> <c- p>{});</c->

  <c- k>return</c-> ts<c- p>.</c->readable<c- p>;</c->
<c- p>}</c->
</pre>
        <p>这里的错误处理很微妙，因为取消拼接流要取消所有输入流。但成功时很简单，只需依次将 <code>readables</code> 可迭代对象中的每个流 pipe 到<a data-link-type="dfn"
                href="#identity-transform-stream" id="ref-for-identity-transform-stream③">恒等转换流</a>的<a
                data-link-type="dfn" href="#writable-side" id="ref-for-writable-side①⑤">writable 端</a>，最后关闭它。<a
                data-link-type="dfn" href="#readable-side" id="ref-for-readable-side①⑦">readable
                端</a>即为所有流的块拼接结果并返回。背压处理方式不变。
        </p>
        <h2 class="no-num heading settled" id="acks"><span class="content">致谢</span><a class="self-link"
                href="#acks"></a></h2>
        <p>编辑感谢以下人员对本规范的贡献：
            Anne van Kesteren、
            AnthumChris、
            Arthur Langereis、
            Ben Kelly、
            Bert Belder、
            Brian di Palma、
            Calvin Metcalf、
            Dominic Tarr、
            Ed Hager、
            Eric Skoglund、
            Forbes Lindesay、
            Forrest Norvell、
            Gary Blackwood、
            Gorgi Kosev、
            Gus Caplan、
            贺师俊 (hax)、
            Isaac Schlueter、
            isonmad、
            Jake Archibald、
            Jake Verbaten、
            James Pryor、
            Janessa Det、
            Jason Orendorff、
            Jeffrey Yasskin、
            Jeremy Roman、
            Jens Nockert、
            Lennart Grahl、
            Luca Casonato、
            Mangala Sadhu Sangeet Singh Khalsa、
            Marcos Caceres、
            Marvin Hagemeister、
            Mattias Buelens、
            Michael Mior、
            Mihai Potra、
            Nidhi Jaju、
            Romain Bellessort、
            Shivendra Kumar、
            Simon Menke、
            Stephen Sugden、
            Surma、
            Tab Atkins、
            Tanguy Krotoff、
            Thorsten Lorenz、
            Till Schneidereit、
            Tim Caswell、
            Trevor Norris、
            tzik、
            Will Chan、
            Youenn Fablet、
            平野裕 (Yutaka Hirano)、
            以及
            Xabier Rodríguez。
            社区对本规范的参与远超预期；没有你们，我们无法完成这项工作。</p>
        <p>本标准由 Adam Rice (<a href="https://google.com">Google</a>, <a
                href="mailto:ricea@chromium.org">ricea@chromium.org</a>)、<a href="https://domenic.me/">Domenic
                Denicola</a> (<a href="https://google.com">Google</a>, <a href="mailto:d@domenic.me">d@domenic.me</a>)、
            Mattias Buelens，以及吉野剛史 (Takeshi Yoshino, <a href="mailto:tyoshino@chromium.org">tyoshino@chromium.org</a>)
            撰写。</p>
        <h2 class="no-num heading settled" id="ipr"><span class="content">知识产权</span><a class="self-link"
                href="#ipr"></a></h2>
        <p>版权所有 © WHATWG (Apple, Google, Mozilla, Microsoft)。本作品采用<a href="https://creativecommons.org/licenses/by/4.0/"
                rel="license">知识共享署名 4.0 国际许可协议</a>授权。若部分内容被纳入源代码，则该部分以<a
                href="https://opensource.org/licenses/BSD-3-Clause" rel="license">BSD 三条款许可证</a>授权。</p>
        <p>这是 Living Standard。如需专利审核版本，请参阅 <a href="https://streams.spec.whatwg.org/review-drafts/2026-02/">Living
                Standard Review Draft</a>。</p>
    </main>
    <script>
        // "use strict";
        // if ("serviceWorker" in navigator) {
        //     navigator.serviceWorker.register("/service-worker.js");
        // }
    </script>
    <h2 class="no-num no-ref heading settled" id="index"><span class="content">索引</span><a class="self-link"
            href="#index"></a></h2>
    <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">本规范定义的术语</span><a
            class="self-link" href="#index-defined-here"></a></h3>
    <ul class="index">
        <li>
            abort
            <ul>
                <li><a href="#writablestream-abort">WritableStream 的定义</a><span>，见 § 9.2.2</span>
                <li><a href="#dom-underlyingsink-abort">UnderlyingSink 的字典成员</a><span>，见 § 5.2.3</span>
            </ul>
        <li>
            abort()
            <ul>
                <li><a href="#ws-abort">WritableStream 的方法</a><span>，见 § 5.2.4</span>
                <li><a href="#default-writer-abort">WritableStreamDefaultWriter 的方法</a><span>，见 § 5.3.3</span>
            </ul>
        <li><a href="#writablestreamdefaultcontroller-abortalgorithm">[[abortAlgorithm]]</a><span>，见 § 5.4.2</span>
        <li><a href="#writablestream-set-up-abortalgorithm">abortAlgorithm</a><span>，见 § 9.2.1</span>
        <li><a href="#abort-a-writable-stream">中止可写流</a><span>，见 § 2.2</span>
        <li><a href="#writablestreamdefaultcontroller-abortcontroller">[[abortController]]</a><span>，见 § 5.4.2</span>
        <li><a href="#writablestream-abort">中止</a><span>，见 § 9.2.2</span>
        <li>
            abort(reason)
            <ul>
                <li><a href="#ws-abort">WritableStream 的方法</a><span>，见 § 5.2.4</span>
                <li><a href="#default-writer-abort">WritableStreamDefaultWriter 的方法</a><span>，见 § 5.3.3</span>
            </ul>
        <li>
            [[AbortSteps]]
            <ul>
                <li><a href="#abstract-opdef-writablestreamcontroller-abortsteps">WritableStreamController
                        的抽象操作</a><span>，见 § 5.5.2</span>
                <li><a href="#ws-default-controller-private-abort">WritableStreamDefaultController 的抽象操作</a><span>，见
                        § 5.4.4</span>
            </ul>
        <li><a href="#acquire-readable-stream-byob-reader">AcquireReadableStreamBYOBReader</a><span>，见 § 4.9.1</span>
        <li><a href="#acquire-readable-stream-reader">AcquireReadableStreamDefaultReader</a><span>，见 § 4.9.1</span>
        <li><a href="#acquire-writable-stream-default-writer">AcquireWritableStreamDefaultWriter</a><span>，见
                § 5.5.1</span>
        <li><a href="#active">active</a><span>，见 § 2.6</span>
        <li><a href="#active">活动 reader</a><span>，见 § 2.6</span>
        <li><a href="#active">活动 writer</a><span>，见 § 2.6</span>
        <li><a href="#readablebytestreamcontroller-autoallocatechunksize">[[autoAllocateChunkSize]]</a><span>，见
                § 4.7.2</span>
        <li><a href="#dom-underlyingsource-autoallocatechunksize">autoAllocateChunkSize</a><span>，见 § 4.2.3</span>
        <li>
            [[backpressure]]
            <ul>
                <li><a href="#transformstream-backpressure">TransformStream 的定义</a><span>，见 § 6.2.2</span>
                <li><a href="#writablestream-backpressure">WritableStream 的定义</a><span>，见 § 5.2.2</span>
            </ul>
        <li><a href="#backpressure">背压</a><span>，见 § 2.4</span>
        <li><a href="#transformstream-backpressurechangepromise">[[backpressureChangePromise]]</a><span>，见
                § 6.2.2</span>
        <li><a href="#branches-of-a-readable-stream-tee">可读流 tee 的分支</a><span>，见 § 2.1</span>
        <li>
            buffer
            <ul>
                <li><a href="#pull-into-descriptor-buffer">pull-into 描述符的定义</a><span>，见 § 4.7.2</span>
                <li><a href="#readable-byte-stream-queue-entry-buffer">可读字节流队列项的定义</a><span>，见 § 4.7.2</span>
            </ul>
        <li><a href="#pull-into-descriptor-buffer-byte-length">buffer 字节长度</a><span>，见 § 4.7.2</span>
        <li><a href="#dom-readablestreamreadermode-byob">"byob"</a><span>，见 § 4.2.1</span>
        <li><a href="#byob-reader">BYOB reader</a><span>，见 § 2.6</span>
        <li><a href="#readablebytestreamcontroller-byobrequest">[[byobRequest]]</a><span>，见 § 4.7.2</span>
        <li><a href="#rbs-controller-byob-request">byobRequest</a><span>，见 § 4.7.3</span>
        <li>
            byte length
            <ul>
                <li><a href="#pull-into-descriptor-byte-length">pull-into 描述符的定义</a><span>，见 § 4.7.2</span>
                <li><a href="#readable-byte-stream-queue-entry-byte-length">可读字节流队列项的定义</a><span>，见 § 4.7.2</span>
            </ul>
        <li><a href="#bytelengthqueuingstrategy">ByteLengthQueuingStrategy</a><span>，见 § 7.2.1</span>
        <li><a href="#blqs-constructor">ByteLengthQueuingStrategy(init)</a><span>，见 § 7.2.3</span>
        <li><a href="#byte-length-queuing-strategy-size-function">字节长度排队策略 size 函数</a><span>，见 § 7.2.2</span>
        <li>
            byte offset
            <ul>
                <li><a href="#pull-into-descriptor-byte-offset">pull-into 描述符的定义</a><span>，见 § 4.7.2</span>
                <li><a href="#readable-byte-stream-queue-entry-byte-offset">可读字节流队列项的定义</a><span>，见 § 4.7.2</span>
            </ul>
        <li><a href="#dom-readablestreamtype-bytes">"bytes"</a><span>，见 § 4.2.3</span>
        <li><a href="#dom-readablestreamtype-bytes">字节</a><span>，见 § 4.2.3</span>
        <li><a href="#pull-into-descriptor-bytes-filled">已填充字节数</a><span>，见 § 4.7.2</span>
        <li>
            cancel
            <ul>
                <li><a href="#readablestream-cancel">ReadableStream 的定义</a><span>，见 § 9.1.2</span>
                <li><a href="#readablestreamdefaultreader-cancel">ReadableStreamDefaultReader 的定义</a><span>，见
                        § 9.1.2</span>
                <li><a href="#dom-transformer-cancel">Transformer 的字典成员</a><span>，见 § 6.2.3</span>
                <li><a href="#dom-underlyingsource-cancel">UnderlyingSource 的字典成员</a><span>，见 § 4.2.3</span>
            </ul>
        <li>
            cancel()
            <ul>
                <li><a href="#rs-cancel">ReadableStream 的方法</a><span>，见 § 4.2.4</span>
                <li><a href="#generic-reader-cancel">ReadableStreamGenericReader 的方法</a><span>，见 § 4.3.3</span>
            </ul>
        <li>
            [[cancelAlgorithm]]
            <ul>
                <li><a href="#readablebytestreamcontroller-cancelalgorithm">ReadableByteStreamController 的定义</a><span>，见
                        § 4.7.2</span>
                <li><a href="#readablestreamdefaultcontroller-cancelalgorithm">ReadableStreamDefaultController
                        的定义</a><span>，见 § 4.6.2</span>
                <li><a href="#transformstreamdefaultcontroller-cancelalgorithm">TransformStreamDefaultController
                        的定义</a><span>，见 § 6.3.2</span>
            </ul>
        <li>
            cancelAlgorithm
            <ul>
                <li><a href="#readablestream-set-up-cancelalgorithm">ReadableStream/set up 的定义</a><span>，见
                        § 9.1.1</span>
                <li><a href="#readablestream-set-up-with-byte-reading-support-cancelalgorithm">ReadableStream/set up
                        with byte reading support 的定义</a><span>，见 § 9.1.1</span>
                <li><a href="#transformstream-set-up-cancelalgorithm">TransformStream/set up 的定义</a><span>，见
                        § 9.3.1</span>
            </ul>
        <li><a href="#cancel-a-readable-stream">取消可读流</a><span>，见 § 2.1</span>
        <li>
            cancel(reason)
            <ul>
                <li><a href="#rs-cancel">ReadableStream 的方法</a><span>，见 § 4.2.4</span>
                <li><a href="#generic-reader-cancel">ReadableStreamGenericReader 的方法</a><span>，见 § 4.3.3</span>
            </ul>
        <li>
            [[CancelSteps]]
            <ul>
                <li><a href="#rbs-controller-private-cancel">ReadableByteStreamController 的抽象操作</a><span>，见
                        § 4.7.4</span>
                <li><a href="#abstract-opdef-readablestreamcontroller-cancelsteps">ReadableStreamController
                        的抽象操作</a><span>，见 § 4.9.2</span>
                <li><a href="#rs-default-controller-private-cancel">ReadableStreamDefaultController 的抽象操作</a><span>，见
                        § 4.6.4</span>
            </ul>
        <li><a href="#abstract-opdef-cancopydatablockbytes">CanCopyDataBlockBytes</a><span>，见 § 8.3</span>
        <li><a href="#can-transfer-array-buffer">CanTransferArrayBuffer</a><span>，见 § 8.3</span>
        <li><a href="#chunk">数据块（chunk）</a><span>，见 § 2</span>
        <li>
            chunk steps
            <ul>
                <li><a href="#read-request-chunk-steps">read request 的定义</a><span>，见 § 4.4.2</span>
                <li><a href="#read-into-request-chunk-steps">read-into request 的定义</a><span>，见 § 4.5.2</span>
            </ul>
        <li><a href="#abstract-opdef-cloneasuint8array">CloneAsUint8Array</a><span>，见 § 8.3</span>
        <li>
            close
            <ul>
                <li><a href="#readablestream-close">ReadableStream 的定义</a><span>，见 § 9.1.1</span>
                <li><a href="#writablestream-close">WritableStream 的定义</a><span>，见 § 9.2.2</span>
                <li><a href="#dom-underlyingsink-close">UnderlyingSink 的字典成员</a><span>，见 § 5.2.3</span>
            </ul>
        <li>
            close()
            <ul>
                <li><a href="#rbs-controller-close">ReadableByteStreamController 的方法</a><span>，见 § 4.7.3</span>
                <li><a href="#rs-default-controller-close">ReadableStreamDefaultController 的方法</a><span>，见
                        § 4.6.3</span>
                <li><a href="#ws-close">WritableStream 的方法</a><span>，见 § 5.2.4</span>
                <li><a href="#default-writer-close">WritableStreamDefaultWriter 的方法</a><span>，见 § 5.3.3</span>
            </ul>
        <li><a href="#writablestreamdefaultcontroller-closealgorithm">[[closeAlgorithm]]</a><span>，见 § 5.4.2</span>
        <li><a href="#writablestream-set-up-closealgorithm">closeAlgorithm</a><span>，见 § 9.2.1</span>
        <li>
            closed
            <ul>
                <li><a href="#generic-reader-closed">ReadableStreamGenericReader 的属性</a><span>，见 § 4.3.3</span>
                <li><a href="#default-writer-closed">WritableStreamDefaultWriter 的属性</a><span>，见 § 5.3.3</span>
                <li><a href="#readablestream-closed">ReadableStream 的定义</a><span>，见 § 9.1.3</span>
            </ul>
        <li>
            [[closedPromise]]
            <ul>
                <li><a href="#readablestreamgenericreader-closedpromise">ReadableStreamGenericReader 的定义</a><span>，见
                        § 4.3.2</span>
                <li><a href="#writablestreamdefaultwriter-closedpromise">WritableStreamDefaultWriter 的定义</a><span>，见
                        § 5.3.2</span>
            </ul>
        <li><a href="#writablestream-closerequest">[[closeRequest]]</a><span>，见 § 5.2.2</span>
        <li>
            [[closeRequested]]
            <ul>
                <li><a href="#readablebytestreamcontroller-closerequested">ReadableByteStreamController 的定义</a><span>，见
                        § 4.7.2</span>
                <li><a href="#readablestreamdefaultcontroller-closerequested">ReadableStreamDefaultController
                        的定义</a><span>，见 § 4.6.2</span>
            </ul>
        <li><a href="#close-sentinel">关闭标记</a><span>，见 § 5.4.2</span>
        <li>
            close steps
            <ul>
                <li><a href="#read-request-close-steps">read request 的定义</a><span>，见 § 4.4.2</span>
                <li><a href="#read-into-request-close-steps">read-into request 的定义</a><span>，见 § 4.5.2</span>
            </ul>
        <li><a href="#writablestream-close">关闭</a><span>，见 § 9.2.2</span>
        <li>
            constructor()
            <ul>
                <li><a href="#rs-constructor">ReadableStream 的构造函数</a><span>，见 § 4.2.4</span>
                <li><a href="#ts-constructor">TransformStream 的构造函数</a><span>，见 § 6.2.4</span>
                <li><a href="#ws-constructor">WritableStream 的构造函数</a><span>，见 § 5.2.4</span>
            </ul>
        <li>
            constructor(init)
            <ul>
                <li><a href="#blqs-constructor">ByteLengthQueuingStrategy 的构造函数</a><span>，见 § 7.2.3</span>
                <li><a href="#cqs-constructor">CountQueuingStrategy 的构造函数</a><span>，见 § 7.3.3</span>
            </ul>
        <li>
            constructor(stream)
            <ul>
                <li><a href="#byob-reader-constructor">ReadableStreamBYOBReader 的构造函数</a><span>，见 § 4.5.3</span>
                <li><a href="#default-reader-constructor">ReadableStreamDefaultReader 的构造函数</a><span>，见 § 4.4.3</span>
                <li><a href="#default-writer-constructor">WritableStreamDefaultWriter 的构造函数</a><span>，见 § 5.3.3</span>
            </ul>
        <li><a href="#ts-constructor">constructor(transformer)</a><span>，见 § 6.2.4</span>
        <li><a href="#ts-constructor">constructor(transformer, writableStrategy)</a><span>，见 § 6.2.4</span>
        <li><a href="#ts-constructor">constructor(transformer, writableStrategy, readableStrategy)</a><span>，见
                § 6.2.4</span>
        <li><a href="#ws-constructor">constructor(underlyingSink)</a><span>，见 § 5.2.4</span>
        <li><a href="#ws-constructor">constructor(underlyingSink, strategy)</a><span>，见 § 5.2.4</span>
        <li><a href="#rs-constructor">constructor(underlyingSource)</a><span>，见 § 4.2.4</span>
        <li><a href="#rs-constructor">constructor(underlyingSource, strategy)</a><span>，见 § 4.2.4</span>
        <li><a href="#consumer">消费者</a><span>，见 § 2.1</span>
        <li>
            [[controller]]
            <ul>
                <li><a href="#readablestream-controller">ReadableStream 的定义</a><span>，见 § 4.2.2</span>
                <li><a href="#readablestreambyobrequest-controller">ReadableStreamBYOBRequest 的定义</a><span>，见
                        § 4.8.2</span>
                <li><a href="#transformstream-controller">TransformStream 的定义</a><span>，见 § 6.2.2</span>
                <li><a href="#writablestream-controller">WritableStream 的定义</a><span>，见 § 5.2.2</span>
            </ul>
        <li><a href="#countqueuingstrategy">CountQueuingStrategy</a><span>，见 § 7.3.1</span>
        <li><a href="#cqs-constructor">CountQueuingStrategy(init)</a><span>，见 § 7.3.3</span>
        <li><a href="#count-queuing-strategy-size-function">计数排队策略 size 函数</a><span>，见 § 7.3.2</span>
        <li><a href="#create-an-identity-transformstream">创建恒等 TransformStream</a><span>，见 § 9.3.1</span>
        <li><a href="#readablestream-create-a-proxy">创建代理</a><span>，见 § 9.5</span>
        <li><a href="#abstract-opdef-createreadablebytestream">CreateReadableByteStream</a><span>，见 § 4.9.1</span>
        <li><a href="#create-readable-stream">CreateReadableStream</a><span>，见 § 4.9.1</span>
        <li><a href="#create-writable-stream">CreateWritableStream</a><span>，见 § 5.5.1</span>
        <li><a href="#create-an-identity-transformstream">创建恒等 TransformStream</a><span>，见 § 9.3.1</span>
        <li><a href="#readablestream-create-a-proxy">创建代理</a><span>，见 § 9.5</span>
        <li><a href="#abstract-opdef-crossrealmtransformsenderror">CrossRealmTransformSendError</a><span>，见 § 8.2</span>
        <li><a href="#readablestream-current-byob-request-view">当前 BYOB 请求视图</a><span>，见 § 9.1.1</span>
        <li><a href="#default-reader">默认 reader</a><span>，见 § 2.6</span>
        <li><a href="#dequeue-value">DequeueValue</a><span>，见 § 8.1</span>
        <li>
            desiredSize
            <ul>
                <li><a href="#rbs-controller-desired-size">ReadableByteStreamController 的属性</a><span>，见 § 4.7.3</span>
                <li><a href="#rs-default-controller-desired-size">ReadableStreamDefaultController 的属性</a><span>，见
                        § 4.6.3</span>
                <li><a href="#ts-default-controller-desired-size">TransformStreamDefaultController 的属性</a><span>，见
                        § 6.3.3</span>
                <li><a href="#default-writer-desired-size">WritableStreamDefaultWriter 的属性</a><span>，见 § 5.3.3</span>
            </ul>
        <li><a href="#desired-size-to-fill-a-streams-internal-queue">填满流内部队列的期望大小</a><span>，见 § 2.5</span>
        <li><a href="#readablestream-desired-size-to-fill-up-to-the-high-water-mark">填满高水位线的期望大小</a><span>，见
                § 9.1.1</span>
        <li>
            [[Detached]]
            <ul>
                <li><a href="#readablestream-detached">ReadableStream 的定义</a><span>，见 § 4.2.2</span>
                <li><a href="#transformstream-detached">TransformStream 的定义</a><span>，见 § 6.2.2</span>
                <li><a href="#writablestream-detached">WritableStream 的定义</a><span>，见 § 5.2.2</span>
            </ul>
        <li><a href="#readablestream-disturbed">[[disturbed]]</a><span>，见 § 4.2.2</span>
        <li><a href="#is-readable-stream-disturbed">扰动（disturbed）</a><span>，见 § 9.1.3</span>
        <li><a href="#dom-readablestreamreadresult-done">done</a><span>，见 § 4.4.1</span>
        <li><a href="#duplex-stream">双工流</a><span>，见 § 9.4.1</span>
        <li><a href="#pull-into-descriptor-element-size">元素大小</a><span>，见 § 4.7.2</span>
        <li><a href="#endpoint-pair">端点配对</a><span>，见 § 9.4.2</span>
        <li>
            enqueue
            <ul>
                <li><a href="#readablestream-enqueue">ReadableStream 的定义</a><span>，见 § 9.1.1</span>
                <li><a href="#transformstream-enqueue">TransformStream 的定义</a><span>，见 § 9.3.1</span>
            </ul>
        <li>
            enqueue()
            <ul>
                <li><a href="#rs-default-controller-enqueue">ReadableStreamDefaultController 的方法</a><span>，见
                        § 4.6.3</span>
                <li><a href="#ts-default-controller-enqueue">TransformStreamDefaultController 的方法</a><span>，见
                        § 6.3.3</span>
            </ul>
        <li>
            enqueue(chunk)
            <ul>
                <li><a href="#rbs-controller-enqueue">ReadableByteStreamController 的方法</a><span>，见 § 4.7.3</span>
                <li><a href="#rs-default-controller-enqueue">ReadableStreamDefaultController 的方法</a><span>，见
                        § 4.6.3</span>
                <li><a href="#ts-default-controller-enqueue">TransformStreamDefaultController 的方法</a><span>，见
                        § 6.3.3</span>
            </ul>
        <li><a href="#enqueue-value-with-size">EnqueueValueWithSize</a><span>，见 § 8.1</span>
        <li>
            error
            <ul>
                <li><a href="#readablestream-error">ReadableStream 的定义</a><span>，见 § 9.1.1</span>
                <li><a href="#transformstream-error">TransformStream 的定义</a><span>，见 § 9.3.1</span>
                <li><a href="#writablestream-error">WritableStream 的定义</a><span>，见 § 9.2.1</span>
            </ul>
        <li>
            error()
            <ul>
                <li><a href="#rbs-controller-error">ReadableByteStreamController 的方法</a><span>，见 § 4.7.3</span>
                <li><a href="#rs-default-controller-error">ReadableStreamDefaultController 的方法</a><span>，见
                        § 4.6.3</span>
                <li><a href="#ts-default-controller-error">TransformStreamDefaultController 的方法</a><span>，见
                        § 6.3.3</span>
                <li><a href="#ws-default-controller-error">WritableStreamDefaultController 的方法</a><span>，见
                        § 5.4.3</span>
            </ul>
        <li>
            error(e)
            <ul>
                <li><a href="#rbs-controller-error">ReadableByteStreamController 的方法</a><span>，见 § 4.7.3</span>
                <li><a href="#rs-default-controller-error">ReadableStreamDefaultController 的方法</a><span>，见
                        § 4.6.3</span>
                <li><a href="#ts-default-controller-error">TransformStreamDefaultController 的方法</a><span>，见
                        § 6.3.3</span>
                <li><a href="#ws-default-controller-error">WritableStreamDefaultController 的方法</a><span>，见
                        § 5.4.3</span>
            </ul>
        <li><a href="#readablestream-errored">出错（errored）</a><span>，见 § 9.1.3</span>
        <li><a href="#writablestream-error">出错中（erroring）</a><span>，见 § 9.2.1</span>
        <li><a href="#ts-default-controller-error">error(reason)</a><span>，见 § 6.3.3</span>
        <li>
            [[ErrorSteps]]
            <ul>
                <li><a href="#abstract-opdef-writablestreamcontroller-errorsteps">WritableStreamController
                        的抽象操作</a><span>，见 § 5.5.2</span>
                <li><a href="#ws-default-controller-private-error">WritableStreamDefaultController 的抽象操作</a><span>，见
                        § 5.4.4</span>
            </ul>
        <li>
            error steps
            <ul>
                <li><a href="#read-request-error-steps">read request 的定义</a><span>，见 § 4.4.2</span>
                <li><a href="#read-into-request-error-steps">read-into request 的定义</a><span>，见 § 4.5.2</span>
            </ul>
        <li><a href="#validate-and-normalize-high-water-mark">ExtractHighWaterMark</a><span>，见 § 7.4</span>
        <li><a href="#make-size-algorithm-from-size-function">ExtractSizeAlgorithm</a><span>，见 § 7.4</span>
        <li><a href="#rs-pipeTo-finalize">Finalize</a><span>，见 § 4.9.1</span>
        <li><a href="#transformstreamdefaultcontroller-finishpromise">[[finishPromise]]</a><span>，见 § 6.3.2</span>
        <li><a href="#dom-transformer-flush">flush</a><span>，见 § 6.2.3</span>
        <li><a href="#transformstreamdefaultcontroller-flushalgorithm">[[flushAlgorithm]]</a><span>，见 § 6.3.2</span>
        <li><a href="#transformstream-set-up-flushalgorithm">flushAlgorithm</a><span>，见 § 9.3.1</span>
        <li><a href="#rs-from">from(asyncIterable)</a><span>，见 § 4.2.4</span>
        <li><a href="#generictransformstream">GenericTransformStream</a><span>，见 § 9.3.2</span>
        <li><a href="#readablestream-get-a-reader">获取 reader</a><span>，见 § 9.1.2</span>
        <li><a href="#writablestream-get-a-writer">获取 writer</a><span>，见 § 9.2.2</span>
        <li><a href="#rs-get-reader">getReader()</a><span>，见 § 4.2.4</span>
        <li><a href="#rs-get-reader">getReader(options)</a><span>，见 § 4.2.4</span>
        <li><a href="#readablestream-get-a-reader">正在获取 reader</a><span>，见 § 9.1.2</span>
        <li><a href="#writablestream-get-a-writer">正在获取 writer</a><span>，见 § 9.2.2</span>
        <li><a href="#ws-get-writer">getWriter()</a><span>，见 § 5.2.4</span>
        <li>
            [[highWaterMark]]
            <ul>
                <li><a href="#bytelengthqueuingstrategy-highwatermark">ByteLengthQueuingStrategy 的定义</a><span>，见
                        § 7.2.2</span>
                <li><a href="#countqueuingstrategy-highwatermark">CountQueuingStrategy 的定义</a><span>，见 § 7.3.2</span>
            </ul>
        <li><a href="#high-water-mark">高水位线</a><span>，见 § 2.5</span>
        <li>
            highWaterMark
            <ul>
                <li><a href="#blqs-high-water-mark">ByteLengthQueuingStrategy 的属性</a><span>，见 § 7.2.3</span>
                <li><a href="#cqs-high-water-mark">CountQueuingStrategy 的属性</a><span>，见 § 7.3.3</span>
                <li><a href="#readablestream-set-up-highwatermark">ReadableStream/set up 的定义</a><span>，见 § 9.1.1</span>
                <li><a href="#readablestream-set-up-with-byte-reading-support-highwatermark">ReadableStream/set up with
                        byte reading support 的定义</a><span>，见 § 9.1.1</span>
                <li><a href="#writablestream-set-up-highwatermark">WritableStream/set up 的定义</a><span>，见 § 9.2.1</span>
                <li><a href="#dom-queuingstrategy-highwatermark">QueuingStrategy 的字典成员</a><span>，见 § 7.1</span>
                <li><a href="#dom-queuingstrategyinit-highwatermark">QueuingStrategyInit 的字典成员</a><span>，见 § 7.1</span>
            </ul>
        <li><a href="#identity-transform-stream">恒等转换流</a><span>，见 § 2.3</span>
        <li><a href="#writablestream-inflightcloserequest">[[inFlightCloseRequest]]</a><span>，见 § 5.2.2</span>
        <li><a href="#writablestream-inflightwriterequest">[[inFlightWriteRequest]]</a><span>，见 § 5.2.2</span>
        <li><a href="#initialize-readable-stream">InitializeReadableStream</a><span>，见 § 4.9.1</span>
        <li><a href="#initialize-transform-stream">InitializeTransformStream</a><span>，见 § 6.4.1</span>
        <li><a href="#initialize-writable-stream">InitializeWritableStream</a><span>，见 § 5.5.1</span>
        <li><a href="#internal-queues">内部队列</a><span>，见 § 2.5</span>
        <li><a href="#is-non-negative-number">IsNonNegativeNumber</a><span>，见 § 8.3</span>
        <li><a href="#is-readable-stream-locked">IsReadableStreamLocked</a><span>，见 § 4.9.1</span>
        <li><a href="#is-writable-stream-locked">IsWritableStreamLocked</a><span>，见 § 5.5.1</span>
        <li><a href="#lock">锁定</a><span>，见 § 2.6</span>
        <li>
            locked
            <ul>
                <li><a href="#rs-locked">ReadableStream 的属性</a><span>，见 § 4.2.4</span>
                <li><a href="#ws-locked">WritableStream 的属性</a><span>，见 § 5.2.4</span>
                <li><a href="#readablestream-locked">ReadableStream 的定义</a><span>，见 § 9.1.3</span>
            </ul>
        <li><a href="#lock">锁定至 reader</a><span>，见 § 2.6</span>
        <li><a href="#lock">锁定至 writer</a><span>，见 § 2.6</span>
        <li><a href="#dom-readablestreambyobreaderreadoptions-min">min</a><span>，见 § 4.5.1</span>
        <li><a href="#pull-into-descriptor-minimum-fill">最小填充</a><span>，见 § 4.7.2</span>
        <li><a href="#dom-readablestreamgetreaderoptions-mode">mode</a><span>，见 § 4.2.1</span>
        <li><a href="#readablestream-need-more-data">需要更多数据</a><span>，见 § 9.1.1</span>
        <li><a href="#readablestream-need-more-data">需要更多数据</a><span>，见 § 9.1.1</span>
        <li><a href="#original-source">原始源</a><span>，见 § 2.4</span>
        <li><a href="#abstract-opdef-packandpostmessage">PackAndPostMessage</a><span>，见 § 8.2</span>
        <li><a href="#abstract-opdef-packandpostmessagehandlingerror">PackAndPostMessageHandlingError</a><span>，见
                § 8.2</span>
        <li><a href="#peek-queue-value">PeekQueueValue</a><span>，见 § 8.1</span>
        <li><a href="#writablestream-pendingabortrequest">[[pendingAbortRequest]]</a><span>，见 § 5.2.2</span>
        <li><a href="#pending-abort-request">待中止请求</a><span>，见 § 5.2.2</span>
        <li><a href="#readablebytestreamcontroller-pendingpullintos">[[pendingPullIntos]]</a><span>，见 § 4.7.2</span>
        <li><a href="#readablestream-pipe">管道</a><span>，见 § 9.5</span>
        <li><a href="#pipe-chain">管道链</a><span>，见 § 2.4</span>
        <li><a href="#readablestream-pipe-through">管道穿过</a><span>，见 § 9.5</span>
        <li><a href="#readablestream-pipe">管道连接到</a><span>，见 § 9.5</span>
        <li><a href="#readablestream-pipe-through">管道穿过</a><span>，见 § 9.5</span>
        <li><a href="#rs-pipe-through">pipeThrough(transform)</a><span>，见 § 4.2.4</span>
        <li><a href="#rs-pipe-through">pipeThrough(transform, options)</a><span>，见 § 4.2.4</span>
        <li><a href="#readablestream-pipe">管道连接到</a><span>，见 § 9.5</span>
        <li><a href="#rs-pipe-to">pipeTo(destination)</a><span>，见 § 4.2.4</span>
        <li><a href="#rs-pipe-to">pipeTo(destination, options)</a><span>，见 § 4.2.4</span>
        <li><a href="#piping">管道连接</a><span>，见 § 2.4</span>
        <li><a href="#readablestream-pipe-through">管道穿过</a><span>，见 § 9.5</span>
        <li><a href="#readablestream-pipe">管道连接到</a><span>，见 § 9.5</span>
        <li>
            preventAbort
            <ul>
                <li><a href="#readablestream-pipe-through-preventabort">ReadableStream/pipe through,
                        ReadableStream/piped through 的定义</a><span>，见 § 9.5</span>
                <li><a href="#readablestream-pipe-to-preventabort">ReadableStream/pipe to, ReadableStream/piped to
                        的定义</a><span>，见 § 9.5</span>
                <li><a href="#dom-streampipeoptions-preventabort">StreamPipeOptions 的字典成员</a><span>，见 § 4.2.1</span>
            </ul>
        <li><a href="#readablestream-async-iterator-prevent-cancel">防止取消</a><span>，见 § 4.2.5</span>
        <li>
            preventCancel
            <ul>
                <li><a href="#readablestream-pipe-through-preventcancel">ReadableStream/pipe through,
                        ReadableStream/piped through 的定义</a><span>，见 § 9.5</span>
                <li><a href="#readablestream-pipe-to-preventcancel">ReadableStream/pipe to, ReadableStream/piped to
                        的定义</a><span>，见 § 9.5</span>
                <li><a href="#dom-readablestreamiteratoroptions-preventcancel">ReadableStreamIteratorOptions
                        的字典成员</a><span>，见 § 4.2.1</span>
                <li><a href="#dom-streampipeoptions-preventcancel">StreamPipeOptions 的字典成员</a><span>，见 § 4.2.1</span>
            </ul>
        <li>
            preventClose
            <ul>
                <li><a href="#readablestream-pipe-through-preventclose">ReadableStream/pipe through,
                        ReadableStream/piped through 的定义</a><span>，见 § 9.5</span>
                <li><a href="#readablestream-pipe-to-preventclose">ReadableStream/pipe to, ReadableStream/piped to
                        的定义</a><span>，见 § 9.5</span>
                <li><a href="#dom-streampipeoptions-preventclose">StreamPipeOptions 的字典成员</a><span>，见 § 4.2.1</span>
            </ul>
        <li><a href="#producer">生产者</a><span>，见 § 2.2</span>
        <li><a href="#pending-abort-request-promise">promise</a><span>，见 § 5.2.2</span>
        <li><a href="#dom-underlyingsource-pull">pull</a><span>，见 § 4.2.3</span>
        <li>
            [[pullAgain]]
            <ul>
                <li><a href="#readablebytestreamcontroller-pullagain">ReadableByteStreamController 的定义</a><span>，见
                        § 4.7.2</span>
                <li><a href="#readablestreamdefaultcontroller-pullagain">ReadableStreamDefaultController 的定义</a><span>，见
                        § 4.6.2</span>
            </ul>
        <li>
            [[pullAlgorithm]]
            <ul>
                <li><a href="#readablebytestreamcontroller-pullalgorithm">ReadableByteStreamController 的定义</a><span>，见
                        § 4.7.2</span>
                <li><a href="#readablestreamdefaultcontroller-pullalgorithm">ReadableStreamDefaultController
                        的定义</a><span>，见 § 4.6.2</span>
            </ul>
        <li>
            pullAlgorithm
            <ul>
                <li><a href="#readablestream-set-up-pullalgorithm">ReadableStream/set up 的定义</a><span>，见 § 9.1.1</span>
                <li><a href="#readablestream-set-up-with-byte-reading-support-pullalgorithm">ReadableStream/set up with
                        byte reading support 的定义</a><span>，见 § 9.1.1</span>
            </ul>
        <li><a href="#readablestream-pull-from-bytes">从字节拉取（pull from bytes）</a><span>，见 § 9.1.1</span>
        <li>
            [[pulling]]
            <ul>
                <li><a href="#readablebytestreamcontroller-pulling">ReadableByteStreamController 的定义</a><span>，见
                        § 4.7.2</span>
                <li><a href="#readablestreamdefaultcontroller-pulling">ReadableStreamDefaultController 的定义</a><span>，见
                        § 4.6.2</span>
            </ul>
        <li><a href="#pull-into-descriptor">pull-into 描述符</a><span>，见 § 4.7.2</span>
        <li><a href="#pull-source">拉取源（pull source）</a><span>，见 § 2.1</span>
        <li>
            [[PullSteps]]
            <ul>
                <li><a href="#rbs-controller-private-pull">ReadableByteStreamController 的抽象操作</a><span>，见 § 4.7.4</span>
                <li><a href="#abstract-opdef-readablestreamcontroller-pullsteps">ReadableStreamController
                        的抽象操作</a><span>，见 § 4.9.2</span>
                <li><a href="#rs-default-controller-private-pull">ReadableStreamDefaultController 的抽象操作</a><span>，见
                        § 4.6.4</span>
            </ul>
        <li><a href="#push-source">推送源（push source）</a><span>，见 § 2.1</span>
        <li>
            [[queue]]
            <ul>
                <li><a href="#readablebytestreamcontroller-queue">ReadableByteStreamController 的定义</a><span>，见
                        § 4.7.2</span>
                <li><a href="#readablestreamdefaultcontroller-queue">ReadableStreamDefaultController 的定义</a><span>，见
                        § 4.6.2</span>
                <li><a href="#writablestreamdefaultcontroller-queue">WritableStreamDefaultController 的定义</a><span>，见
                        § 5.4.2</span>
            </ul>
        <li>
            [[queueTotalSize]]
            <ul>
                <li><a href="#readablebytestreamcontroller-queuetotalsize">ReadableByteStreamController 的定义</a><span>，见
                        § 4.7.2</span>
                <li><a href="#readablestreamdefaultcontroller-queuetotalsize">ReadableStreamDefaultController
                        的定义</a><span>，见 § 4.6.2</span>
                <li><a href="#writablestreamdefaultcontroller-queuetotalsize">WritableStreamDefaultController
                        的定义</a><span>，见 § 5.4.2</span>
            </ul>
        <li><a href="#queuing-strategy">排队策略（queuing strategy）</a><span>，见 § 2.5</span>
        <li><a href="#dictdef-queuingstrategy">QueuingStrategy</a><span>，见 § 7.1</span>
        <li><a href="#dictdef-queuingstrategyinit">QueuingStrategyInit</a><span>，见 § 7.1</span>
        <li><a href="#callbackdef-queuingstrategysize">QueuingStrategySize</a><span>，见 § 7.1</span>
        <li><a href="#default-reader-read">read()</a><span>，见 § 4.4.3</span>
        <li><a href="#transformstream-readable">[[readable]]</a><span>，见 § 6.2.2</span>
        <li>
            readable
            <ul>
                <li><a href="#dom-generictransformstream-readable">GenericTransformStream 的属性</a><span>，见 § 9.3.2</span>
                <li><a href="#ts-readable">TransformStream 的属性</a><span>，见 § 6.2.4</span>
                <li><a href="#readablestream-readable">ReadableStream 的定义</a><span>，见 § 9.1.3</span>
                <li><a href="#dom-readablewritablepair-readable">ReadableWritablePair 的字典成员</a><span>，见 § 4.2.1</span>
            </ul>
        <li><a href="#readable-byte-stream">可读字节流（readable byte stream）</a><span>，见 § 2.1</span>
        <li><a href="#readablebytestreamcontroller">ReadableByteStreamController</a><span>，见 § 4.7.1</span>
        <li><a
                href="#readable-byte-stream-controller-call-pull-if-needed">ReadableByteStreamControllerCallPullIfNeeded</a><span>，见
                § 4.9.5</span>
        <li><a
                href="#readable-byte-stream-controller-clear-algorithms">ReadableByteStreamControllerClearAlgorithms</a><span>，见
                § 4.9.5</span>
        <li><a
                href="#readable-byte-stream-controller-clear-pending-pull-intos">ReadableByteStreamControllerClearPendingPullIntos</a><span>，见
                § 4.9.5</span>
        <li><a href="#readable-byte-stream-controller-close">ReadableByteStreamControllerClose</a><span>，见
                § 4.9.5</span>
        <li><a
                href="#readable-byte-stream-controller-commit-pull-into-descriptor">ReadableByteStreamControllerCommitPullIntoDescriptor</a><span>，见
                § 4.9.5</span>
        <li><a
                href="#readable-byte-stream-controller-convert-pull-into-descriptor">ReadableByteStreamControllerConvertPullIntoDescriptor</a><span>，见
                § 4.9.5</span>
        <li><a href="#readable-byte-stream-controller-enqueue">ReadableByteStreamControllerEnqueue</a><span>，见
                § 4.9.5</span>
        <li><a
                href="#readable-byte-stream-controller-enqueue-chunk-to-queue">ReadableByteStreamControllerEnqueueChunkToQueue</a><span>，见
                § 4.9.5</span>
        <li><a
                href="#abstract-opdef-readablebytestreamcontrollerenqueueclonedchunktoqueue">ReadableByteStreamControllerEnqueueClonedChunkToQueue</a><span>，见
                § 4.9.5</span>
        <li><a
                href="#abstract-opdef-readablebytestreamcontrollerenqueuedetachedpullintotoqueue">ReadableByteStreamControllerEnqueueDetachedPullIntoToQueue</a><span>，见
                § 4.9.5</span>
        <li><a href="#readable-byte-stream-controller-error">ReadableByteStreamControllerError</a><span>，见
                § 4.9.5</span>
        <li><a
                href="#readable-byte-stream-controller-fill-head-pull-into-descriptor">ReadableByteStreamControllerFillHeadPullIntoDescriptor</a><span>，见
                § 4.9.5</span>
        <li><a
                href="#readable-byte-stream-controller-fill-pull-into-descriptor-from-queue">ReadableByteStreamControllerFillPullIntoDescriptorFromQueue</a><span>，见
                § 4.9.5</span>
        <li><a
                href="#abstract-opdef-readablebytestreamcontrollerfillreadrequestfromqueue">ReadableByteStreamControllerFillReadRequestFromQueue</a><span>，见
                § 4.9.5</span>
        <li><a
                href="#abstract-opdef-readablebytestreamcontrollergetbyobrequest">ReadableByteStreamControllerGetBYOBRequest</a><span>，见
                § 4.9.5</span>
        <li><a
                href="#readable-byte-stream-controller-get-desired-size">ReadableByteStreamControllerGetDesiredSize</a><span>，见
                § 4.9.5</span>
        <li><a
                href="#readable-byte-stream-controller-handle-queue-drain">ReadableByteStreamControllerHandleQueueDrain</a><span>，见
                § 4.9.5</span>
        <li><a
                href="#readable-byte-stream-controller-invalidate-byob-request">ReadableByteStreamControllerInvalidateBYOBRequest</a><span>，见
                § 4.9.5</span>
        <li><a
                href="#readable-byte-stream-controller-process-pull-into-descriptors-using-queue">ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue</a><span>，见
                § 4.9.5</span>
        <li><a
                href="#abstract-opdef-readablebytestreamcontrollerprocessreadrequestsusingqueue">ReadableByteStreamControllerProcessReadRequestsUsingQueue</a><span>，见
                § 4.9.5</span>
        <li><a href="#readable-byte-stream-controller-pull-into">ReadableByteStreamControllerPullInto</a><span>，见
                § 4.9.5</span>
        <li><a href="#readable-byte-stream-controller-respond">ReadableByteStreamControllerRespond</a><span>，见
                § 4.9.5</span>
        <li><a
                href="#readable-byte-stream-controller-respond-in-closed-state">ReadableByteStreamControllerRespondInClosedState</a><span>，见
                § 4.9.5</span>
        <li><a
                href="#readable-byte-stream-controller-respond-in-readable-state">ReadableByteStreamControllerRespondInReadableState</a><span>，见
                § 4.9.5</span>
        <li><a
                href="#readable-byte-stream-controller-respond-internal">ReadableByteStreamControllerRespondInternal</a><span>，见
                § 4.9.5</span>
        <li><a
                href="#readable-byte-stream-controller-respond-with-new-view">ReadableByteStreamControllerRespondWithNewView</a><span>，见
                § 4.9.5</span>
        <li><a
                href="#readable-byte-stream-controller-shift-pending-pull-into">ReadableByteStreamControllerShiftPendingPullInto</a><span>，见
                § 4.9.5</span>
        <li><a
                href="#readable-byte-stream-controller-should-call-pull">ReadableByteStreamControllerShouldCallPull</a><span>，见
                § 4.9.5</span>
        <li><a href="#readable-byte-stream-queue-entry">可读字节流队列项</a><span>，见 § 4.7.2</span>
        <li><a href="#abstract-opdef-readablebytestreamtee">ReadableByteStreamTee</a><span>，见 § 4.9.1</span>
        <li><a href="#readable-side">可读端（readable side）</a><span>，见 § 2.3</span>
        <li><a href="#readable-stream">可读流（readable stream）</a><span>，见 § 2.1</span>
        <li><a href="#readablestream">ReadableStream</a><span>，见 § 4.2.1</span>
        <li><a href="#rs-constructor">ReadableStream()</a><span>，见 § 4.2.4</span>
        <li><a href="#readable-stream-add-read-into-request">ReadableStreamAddReadIntoRequest</a><span>，见 § 4.9.2</span>
        <li><a href="#readable-stream-add-read-request">ReadableStreamAddReadRequest</a><span>，见 § 4.9.2</span>
        <li><a href="#readablestreambyobreader">ReadableStreamBYOBReader</a><span>，见 § 4.5.1</span>
        <li><a
                href="#abstract-opdef-readablestreambyobreadererrorreadintorequests">ReadableStreamBYOBReaderErrorReadIntoRequests</a><span>，见
                § 4.9.3</span>
        <li><a href="#readable-stream-byob-reader-read">ReadableStreamBYOBReaderRead</a><span>，见 § 4.9.3</span>
        <li><a href="#dictdef-readablestreambyobreaderreadoptions">ReadableStreamBYOBReaderReadOptions</a><span>，见
                § 4.5.1</span>
        <li><a href="#abstract-opdef-readablestreambyobreaderrelease">ReadableStreamBYOBReaderRelease</a><span>，见
                § 4.9.3</span>
        <li><a href="#byob-reader-constructor">ReadableStreamBYOBReader(stream)</a><span>，见 § 4.5.3</span>
        <li><a href="#readablestreambyobrequest">ReadableStreamBYOBRequest</a><span>，见 § 4.8.1</span>
        <li><a href="#readable-stream-cancel">ReadableStreamCancel</a><span>，见 § 4.9.2</span>
        <li><a href="#readable-stream-close">ReadableStreamClose</a><span>，见 § 4.9.2</span>
        <li><a href="#typedefdef-readablestreamcontroller">ReadableStreamController</a><span>，见 § 4.2.3</span>
        <li><a href="#readablestreamdefaultcontroller">ReadableStreamDefaultController</a><span>，见 § 4.6.1</span>
        <li><a
                href="#readable-stream-default-controller-call-pull-if-needed">ReadableStreamDefaultControllerCallPullIfNeeded</a><span>，见
                § 4.9.4</span>
        <li><a
                href="#readable-stream-default-controller-can-close-or-enqueue">ReadableStreamDefaultControllerCanCloseOrEnqueue</a><span>，见
                § 4.9.4</span>
        <li><a
                href="#readable-stream-default-controller-clear-algorithms">ReadableStreamDefaultControllerClearAlgorithms</a><span>，见
                § 4.9.4</span>
        <li><a href="#readable-stream-default-controller-close">ReadableStreamDefaultControllerClose</a><span>，见
                § 4.9.4</span>
        <li><a href="#readable-stream-default-controller-enqueue">ReadableStreamDefaultControllerEnqueue</a><span>，见
                § 4.9.4</span>
        <li><a href="#readable-stream-default-controller-error">ReadableStreamDefaultControllerError</a><span>，见
                § 4.9.4</span>
        <li><a
                href="#readable-stream-default-controller-get-desired-size">ReadableStreamDefaultControllerGetDesiredSize</a><span>，见
                § 4.9.4</span>
        <li><a href="#rs-default-controller-has-backpressure">ReadableStreamDefaultControllerHasBackpressure</a><span>，见
                § 4.9.4</span>
        <li><a
                href="#readable-stream-default-controller-should-call-pull">ReadableStreamDefaultControllerShouldCallPull</a><span>，见
                § 4.9.4</span>
        <li><a href="#readablestreamdefaultreader">ReadableStreamDefaultReader</a><span>，见 § 4.4.1</span>
        <li><a
                href="#abstract-opdef-readablestreamdefaultreadererrorreadrequests">ReadableStreamDefaultReaderErrorReadRequests</a><span>，见
                § 4.9.3</span>
        <li><a href="#readable-stream-default-reader-read">ReadableStreamDefaultReaderRead</a><span>，见 § 4.9.3</span>
        <li><a href="#abstract-opdef-readablestreamdefaultreaderrelease">ReadableStreamDefaultReaderRelease</a><span>，见
                § 4.9.3</span>
        <li><a href="#default-reader-constructor">ReadableStreamDefaultReader(stream)</a><span>，见 § 4.4.3</span>
        <li><a href="#abstract-opdef-readablestreamdefaulttee">ReadableStreamDefaultTee</a><span>，见 § 4.9.1</span>
        <li><a href="#readable-stream-error">ReadableStreamError</a><span>，见 § 4.9.2</span>
        <li><a href="#readable-stream-from-iterable">ReadableStreamFromIterable</a><span>，见 § 4.9.1</span>
        <li><a href="#readable-stream-fulfill-read-into-request">ReadableStreamFulfillReadIntoRequest</a><span>，见
                § 4.9.2</span>
        <li><a href="#readable-stream-fulfill-read-request">ReadableStreamFulfillReadRequest</a><span>，见 § 4.9.2</span>
        <li><a href="#readablestreamgenericreader">ReadableStreamGenericReader</a><span>，见 § 4.3.1</span>
        <li><a href="#readable-stream-get-num-read-into-requests">ReadableStreamGetNumReadIntoRequests</a><span>，见
                § 4.9.2</span>
        <li><a href="#readable-stream-get-num-read-requests">ReadableStreamGetNumReadRequests</a><span>，见 § 4.9.2</span>
        <li><a href="#dictdef-readablestreamgetreaderoptions">ReadableStreamGetReaderOptions</a><span>，见 § 4.2.1</span>
        <li><a href="#readable-stream-has-byob-reader">ReadableStreamHasBYOBReader</a><span>，见 § 4.9.2</span>
        <li><a href="#readable-stream-has-default-reader">ReadableStreamHasDefaultReader</a><span>，见 § 4.9.2</span>
        <li><a href="#dictdef-readablestreamiteratoroptions">ReadableStreamIteratorOptions</a><span>，见 § 4.2.1</span>
        <li><a href="#readable-stream-pipe-to">ReadableStreamPipeTo</a><span>，见 § 4.9.1</span>
        <li><a href="#reader">可读流 reader</a><span>，见 § 2.6</span>
        <li><a href="#typedefdef-readablestreamreader">ReadableStreamReader</a><span>，见 § 4.2.1</span>
        <li><a href="#readable-stream-reader-generic-cancel">ReadableStreamReaderGenericCancel</a><span>，见
                § 4.9.3</span>
        <li><a href="#readable-stream-reader-generic-initialize">ReadableStreamReaderGenericInitialize</a><span>，见
                § 4.9.3</span>
        <li><a href="#readable-stream-reader-generic-release">ReadableStreamReaderGenericRelease</a><span>，见
                § 4.9.3</span>
        <li><a href="#enumdef-readablestreamreadermode">ReadableStreamReaderMode</a><span>，见 § 4.2.1</span>
        <li><a href="#dictdef-readablestreamreadresult">ReadableStreamReadResult</a><span>，见 § 4.4.1</span>
        <li><a href="#readable-stream-tee">ReadableStreamTee</a><span>，见 § 4.9.1</span>
        <li><a href="#enumdef-readablestreamtype">ReadableStreamType</a><span>，见 § 4.2.3</span>
        <li><a href="#rs-constructor">ReadableStream(underlyingSource)</a><span>，见 § 4.2.4</span>
        <li><a href="#rs-constructor">ReadableStream(underlyingSource, strategy)</a><span>，见 § 4.2.4</span>
        <li><a href="#dom-transformer-readabletype">readableType</a><span>，见 § 6.2.3</span>
        <li><a href="#dictdef-readablewritablepair">ReadableWritablePair</a><span>，见 § 4.2.1</span>
        <li><a href="#readablestreamdefaultreader-read-a-chunk">读取一个 chunk</a><span>，见 § 9.1.2</span>
        <li><a href="#readablestreamdefaultreader-read-all-bytes">读取所有字节</a><span>，见 § 9.1.2</span>
        <li><a href="#readablestream-reader">[[reader]]</a><span>，见 § 4.2.2</span>
        <li>
            reader
            <ul>
                <li><a href="#reader">定义</a><span>，见 § 2.6</span>
                <li><a href="#readablestream-async-iterator-reader">ReadableStream async iterator 的定义</a><span>，见
                        § 4.2.5</span>
            </ul>
        <li><a href="#pull-into-descriptor-reader-type">reader 类型</a><span>，见 § 4.7.2</span>
        <li><a href="#readablestreamdefaultreader-read-a-chunk">读取一个 chunk</a><span>，见 § 9.1.2</span>
        <li><a href="#readablestreamdefaultreader-read-all-bytes">读取所有字节</a><span>，见 § 9.1.2</span>
        <li><a href="#read-into-request">read-into 请求</a><span>，见 § 4.5.2</span>
        <li><a href="#readablestreambyobreader-readintorequests">[[readIntoRequests]]</a><span>，见 § 4.5.2</span>
        <li><a href="#read-loop">读循环（read-loop）</a><span>，见 § 9.1.2</span>
        <li><a href="#read-request">读请求（read request）</a><span>，见 § 4.4.2</span>
        <li><a href="#readablestreamdefaultreader-readrequests">[[readRequests]]</a><span>，见 § 4.4.2</span>
        <li><a href="#byob-reader-read">read(view)</a><span>，见 § 4.5.3</span>
        <li><a href="#byob-reader-read">read(view, options)</a><span>，见 § 4.5.3</span>
        <li><a href="#default-writer-ready">ready</a><span>，见 § 5.3.3</span>
        <li><a href="#writablestreamdefaultwriter-readypromise">[[readyPromise]]</a><span>，见 § 5.3.2</span>
        <li><a href="#pending-abort-request-reason">reason</a><span>，见 § 5.2.2</span>
        <li>
            release
            <ul>
                <li><a href="#readablestreamdefaultreader-release">ReadableStreamDefaultReader 的定义</a><span>，见
                        § 9.1.2</span>
                <li><a href="#writablestreamdefaultwriter-release">WritableStreamDefaultWriter 的定义</a><span>，见
                        § 9.2.2</span>
            </ul>
        <li><a href="#release-a-lock">释放锁（release a lock）</a><span>，见 § 2.6</span>
        <li><a href="#release-a-lock">释放读锁（release a read lock）</a><span>，见 § 2.6</span>
        <li><a href="#release-a-lock">释放写锁（release a write lock）</a><span>，见 § 2.6</span>
        <li>
            releaseLock()
            <ul>
                <li><a href="#byob-reader-release-lock">ReadableStreamBYOBReader 的方法</a><span>，见 § 4.5.3</span>
                <li><a href="#default-reader-release-lock">ReadableStreamDefaultReader 的方法</a><span>，见 § 4.4.3</span>
                <li><a href="#default-writer-release-lock">WritableStreamDefaultWriter 的方法</a><span>，见 § 5.3.3</span>
            </ul>
        <li>
            [[ReleaseSteps]]
            <ul>
                <li><a href="#abstract-opdef-readablebytestreamcontroller-releasesteps">ReadableByteStreamController
                        的抽象操作</a><span>，见 § 4.7.4</span>
                <li><a href="#abstract-opdef-readablestreamcontroller-releasesteps">ReadableStreamController
                        的抽象操作</a><span>，见 § 4.9.2</span>
                <li><a href="#abstract-opdef-readablestreamdefaultcontroller-releasesteps">ReadableStreamDefaultController
                        的抽象操作</a><span>，见 § 4.6.4</span>
            </ul>
        <li><a href="#reset-queue">重置队列（ResetQueue）</a><span>，见 § 8.1</span>
        <li><a href="#rs-byob-request-respond">respond(bytesWritten)</a><span>，见 § 4.8.3</span>
        <li><a href="#rs-byob-request-respond-with-new-view">respondWithNewView(view)</a><span>，见 § 4.8.3</span>
        <li><a href="#transformstream-set-up">设置（setting up）</a><span>，见 § 9.3.1</span>
        <li>
            set up
            <ul>
                <li><a href="#readablestream-set-up">ReadableStream 的定义</a><span>，见 § 9.1.1</span>
                <li><a href="#transformstream-set-up">TransformStream 的定义</a><span>，见 § 9.3.1</span>
                <li><a href="#writablestream-set-up">WritableStream 的定义</a><span>，见 § 9.2.1</span>
            </ul>
        <li><a href="#abstract-opdef-setupcrossrealmtransformreadable">SetUpCrossRealmTransformReadable</a><span>，见
                § 8.2</span>
        <li><a href="#abstract-opdef-setupcrossrealmtransformwritable">SetUpCrossRealmTransformWritable</a><span>，见
                § 8.2</span>
        <li><a href="#set-up-readable-byte-stream-controller">设置 ReadableByteStreamController</a><span>，见 § 4.9.5</span>
        <li><a href="#set-up-readable-byte-stream-controller-from-underlying-source">通过底层源设置
                ReadableByteStreamController</a><span>，见 § 4.9.5</span>
        <li><a href="#set-up-readable-stream-byob-reader">设置 ReadableStreamBYOBReader</a><span>，见 § 4.9.3</span>
        <li><a href="#set-up-readable-stream-default-controller">设置 ReadableStreamDefaultController</a><span>，见
                § 4.9.4</span>
        <li><a href="#set-up-readable-stream-default-controller-from-underlying-source">通过底层源设置
                ReadableStreamDefaultController</a><span>，见 § 4.9.4</span>
        <li><a href="#set-up-readable-stream-default-reader">设置 ReadableStreamDefaultReader</a><span>，见 § 4.9.3</span>
        <li><a href="#set-up-transform-stream-default-controller">设置 TransformStreamDefaultController</a><span>，见
                § 6.4.2</span>
        <li><a href="#set-up-transform-stream-default-controller-from-transformer">通过 transformer 设置
                TransformStreamDefaultController</a><span>，见 § 6.4.2</span>
        <li><a href="#readablestream-set-up-with-byte-reading-support">带字节读取支持的设置</a><span>，见 § 9.1.1</span>
        <li><a href="#set-up-writable-stream-default-controller">设置 WritableStreamDefaultController</a><span>，见
                § 5.5.4</span>
        <li><a href="#set-up-writable-stream-default-controller-from-underlying-sink">通过底层 sink 设置
                WritableStreamDefaultController</a><span>，见 § 5.5.4</span>
        <li><a href="#set-up-writable-stream-default-writer">设置 WritableStreamDefaultWriter</a><span>，见 § 5.5.1</span>
        <li><a href="#rs-pipeTo-shutdown">Shutdown</a><span>，见 § 4.9.1</span>
        <li><a href="#rs-pipeTo-shutdown-with-action">带操作的 Shutdown</a><span>，见 § 4.9.1</span>
        <li>
            signal
            <ul>
                <li><a href="#ws-default-controller-signal">WritableStreamDefaultController 的属性</a><span>，见
                        § 5.4.3</span>
                <li><a href="#readablestream-pipe-through-signal">ReadableStream/pipe through, ReadableStream/piped
                        through 的定义</a><span>，见 § 9.5</span>
                <li><a href="#readablestream-pipe-to-signal">ReadableStream/pipe to, ReadableStream/piped to
                        的定义</a><span>，见 § 9.5</span>
                <li><a href="#writablestream-signal">WritableStream 的定义</a><span>，见 § 9.2.1</span>
                <li><a href="#dom-streampipeoptions-signal">StreamPipeOptions 的字典成员</a><span>，见 § 4.2.1</span>
            </ul>
        <li>
            size
            <ul>
                <li><a href="#blqs-size">ByteLengthQueuingStrategy 的属性</a><span>，见 § 7.2.3</span>
                <li><a href="#cqs-size">CountQueuingStrategy 的属性</a><span>，见 § 7.3.3</span>
                <li><a href="#value-with-size-size">value-with-size 的定义</a><span>，见 § 8.1</span>
                <li><a href="#dom-queuingstrategy-size">QueuingStrategy 的字典成员</a><span>，见 § 7.1</span>
            </ul>
        <li>
            sizeAlgorithm
            <ul>
                <li><a href="#readablestream-set-up-sizealgorithm">ReadableStream/set up 的定义</a><span>，见 § 9.1.1</span>
                <li><a href="#writablestream-set-up-sizealgorithm">WritableStream/set up 的定义</a><span>，见 § 9.2.1</span>
            </ul>
        <li>
            start
            <ul>
                <li><a href="#dom-transformer-start">Transformer 的字典成员</a><span>，见 § 6.2.3</span>
                <li><a href="#dom-underlyingsink-start">UnderlyingSink 的字典成员</a><span>，见 § 5.2.3</span>
                <li><a href="#dom-underlyingsource-start">UnderlyingSource 的字典成员</a><span>，见 § 4.2.3</span>
            </ul>
        <li>
            [[started]]
            <ul>
                <li><a href="#readablebytestreamcontroller-started">ReadableByteStreamController 的定义</a><span>，见
                        § 4.7.2</span>
                <li><a href="#readablestreamdefaultcontroller-started">ReadableStreamDefaultController 的定义</a><span>，见
                        § 4.6.2</span>
                <li><a href="#writablestreamdefaultcontroller-started">WritableStreamDefaultController 的定义</a><span>，见
                        § 5.4.2</span>
            </ul>
        <li>
            [[state]]
            <ul>
                <li><a href="#readablestream-state">ReadableStream 的定义</a><span>，见 § 4.2.2</span>
                <li><a href="#writablestream-state">WritableStream 的定义</a><span>，见 § 5.2.2</span>
            </ul>
        <li>
            [[storedError]]
            <ul>
                <li><a href="#readablestream-storederror">ReadableStream 的定义</a><span>，见 § 4.2.2</span>
                <li><a href="#writablestream-storederror">WritableStream 的定义</a><span>，见 § 5.2.2</span>
            </ul>
        <li>
            [[strategyHWM]]
            <ul>
                <li><a href="#readablebytestreamcontroller-strategyhwm">ReadableByteStreamController 的定义</a><span>，见
                        § 4.7.2</span>
                <li><a href="#readablestreamdefaultcontroller-strategyhwm">ReadableStreamDefaultController
                        的定义</a><span>，见 § 4.6.2</span>
                <li><a href="#writablestreamdefaultcontroller-strategyhwm">WritableStreamDefaultController
                        的定义</a><span>，见 § 5.4.2</span>
            </ul>
        <li>
            [[strategySizeAlgorithm]]
            <ul>
                <li><a href="#readablestreamdefaultcontroller-strategysizealgorithm">ReadableStreamDefaultController
                        的定义</a><span>，见 § 4.6.2</span>
                <li><a href="#writablestreamdefaultcontroller-strategysizealgorithm">WritableStreamDefaultController
                        的定义</a><span>，见 § 5.4.2</span>
            </ul>
        <li>
            [[stream]]
            <ul>
                <li><a href="#readablebytestreamcontroller-stream">ReadableByteStreamController 的定义</a><span>，见
                        § 4.7.2</span>
                <li><a href="#readablestreamdefaultcontroller-stream">ReadableStreamDefaultController 的定义</a><span>，见
                        § 4.6.2</span>
                <li><a href="#readablestreamgenericreader-stream">ReadableStreamGenericReader 的定义</a><span>，见
                        § 4.3.2</span>
                <li><a href="#transformstreamdefaultcontroller-stream">TransformStreamDefaultController 的定义</a><span>，见
                        § 6.3.2</span>
                <li><a href="#writablestreamdefaultcontroller-stream">WritableStreamDefaultController 的定义</a><span>，见
                        § 5.4.2</span>
                <li><a href="#writablestreamdefaultwriter-stream">WritableStreamDefaultWriter 的定义</a><span>，见
                        § 5.3.2</span>
            </ul>
        <li><a href="#dictdef-streampipeoptions">StreamPipeOptions</a><span>，见 § 4.2.1</span>
        <li><a href="#abstract-opdef-structuredclone">StructuredClone</a><span>，见 § 8.3</span>
        <li><a href="#readablestream-tee">tee</a><span>，见 § 9.1.2</span>
        <li><a href="#rs-tee">tee()</a><span>，见 § 4.2.4</span>
        <li><a href="#tee-a-readable-stream">tee 一个可读流</a><span>，见 § 2.1</span>
        <li><a href="#readablestream-tee">teeing</a><span>，见 § 9.1.2</span>
        <li><a href="#transformstream-terminate">终止（terminate）</a><span>，见 § 9.3.1</span>
        <li><a href="#ts-default-controller-terminate">terminate()</a><span>，见 § 6.3.3</span>
        <li><a href="#transfer-array-buffer">TransferArrayBuffer</a><span>，见 § 8.3</span>
        <li>
            transform
            <ul>
                <li><a href="#generictransformstream-transform">GenericTransformStream 的定义</a><span>，见 § 9.3.2</span>
                <li><a href="#dom-transformer-transform">Transformer 的字典成员</a><span>，见 § 6.2.3</span>
            </ul>
        <li><a href="#transformstreamdefaultcontroller-transformalgorithm">[[transformAlgorithm]]</a><span>，见
                § 6.3.2</span>
        <li><a href="#transformstream-set-up-transformalgorithm">transformAlgorithm</a><span>，见 § 9.3.1</span>
        <li><a href="#dictdef-transformer">Transformer</a><span>，见 § 6.2.3</span>
        <li><a href="#transformer">transformer</a><span>，见 § 2.3</span>
        <li><a href="#callbackdef-transformercancelcallback">TransformerCancelCallback</a><span>，见 § 6.2.3</span>
        <li><a href="#callbackdef-transformerflushcallback">TransformerFlushCallback</a><span>，见 § 6.2.3</span>
        <li><a href="#callbackdef-transformerstartcallback">TransformerStartCallback</a><span>，见 § 6.2.3</span>
        <li><a href="#callbackdef-transformertransformcallback">TransformerTransformCallback</a><span>，见 § 6.2.3</span>
        <li><a href="#transform-stream">转换流（transform stream）</a><span>，见 § 2.3</span>
        <li><a href="#transformstream">TransformStream</a><span>，见 § 6.2.1</span>
        <li><a href="#ts-constructor">TransformStream()</a><span>，见 § 6.2.4</span>
        <li><a href="#transformstreamdefaultcontroller">TransformStreamDefaultController</a><span>，见 § 6.3.1</span>
        <li><a
                href="#transform-stream-default-controller-clear-algorithms">TransformStreamDefaultControllerClearAlgorithms</a><span>，见
                § 6.4.2</span>
        <li><a href="#transform-stream-default-controller-enqueue">TransformStreamDefaultControllerEnqueue</a><span>，见
                § 6.4.2</span>
        <li><a href="#transform-stream-default-controller-error">TransformStreamDefaultControllerError</a><span>，见
                § 6.4.2</span>
        <li><a
                href="#transform-stream-default-controller-perform-transform">TransformStreamDefaultControllerPerformTransform</a><span>，见
                § 6.4.2</span>
        <li><a href="#transform-stream-default-controller-terminate">TransformStreamDefaultControllerTerminate</a><span>，见
                § 6.4.2</span>
        <li><a href="#transform-stream-default-sink-abort-algorithm">TransformStreamDefaultSinkAbortAlgorithm</a><span>，见
                § 6.4.3</span>
        <li><a href="#transform-stream-default-sink-close-algorithm">TransformStreamDefaultSinkCloseAlgorithm</a><span>，见
                § 6.4.3</span>
        <li><a href="#transform-stream-default-sink-write-algorithm">TransformStreamDefaultSinkWriteAlgorithm</a><span>，见
                § 6.4.3</span>
        <li><a href="#transform-stream-default-source-cancel">TransformStreamDefaultSourceCancelAlgorithm</a><span>，见
                § 6.4.4</span>
        <li><a href="#transform-stream-default-source-pull">TransformStreamDefaultSourcePullAlgorithm</a><span>，见
                § 6.4.4</span>
        <li><a href="#transform-stream-error">TransformStreamError</a><span>，见 § 6.4.1</span>
        <li><a
                href="#transform-stream-error-writable-and-unblock-write">TransformStreamErrorWritableAndUnblockWrite</a><span>，见
                § 6.4.1</span>
        <li><a href="#transform-stream-set-backpressure">TransformStreamSetBackpressure</a><span>，见 § 6.4.1</span>
        <li><a href="#ts-constructor">TransformStream(transformer)</a><span>，见 § 6.2.4</span>
        <li><a href="#ts-constructor">TransformStream(transformer, writableStrategy)</a><span>，见 § 6.2.4</span>
        <li><a href="#ts-constructor">TransformStream(transformer, writableStrategy, readableStrategy)</a><span>，见
                § 6.2.4</span>
        <li><a href="#transform-stream-unblock-write">TransformStreamUnblockWrite</a><span>，见 § 6.4.1</span>
        <li>
            type
            <ul>
                <li><a href="#dom-underlyingsink-type">UnderlyingSink 的字典成员</a><span>，见 § 5.2.3</span>
                <li><a href="#dom-underlyingsource-type">UnderlyingSource 的字典成员</a><span>，见 § 4.2.3</span>
            </ul>
        <li><a href="#ultimate-sink">最终 sink（ultimate sink）</a><span>，见 § 2.4</span>
        <li><a href="#underlying-byte-source">底层字节源（underlying byte source）</a><span>，见 § 2.1</span>
        <li><a href="#underlying-sink">底层 sink（underlying sink）</a><span>，见 § 2.2</span>
        <li><a href="#dictdef-underlyingsink">UnderlyingSink</a><span>，见 § 5.2.3</span>
        <li><a href="#callbackdef-underlyingsinkabortcallback">UnderlyingSinkAbortCallback</a><span>，见 § 5.2.3</span>
        <li><a href="#callbackdef-underlyingsinkclosecallback">UnderlyingSinkCloseCallback</a><span>，见 § 5.2.3</span>
        <li><a href="#callbackdef-underlyingsinkstartcallback">UnderlyingSinkStartCallback</a><span>，见 § 5.2.3</span>
        <li><a href="#callbackdef-underlyingsinkwritecallback">UnderlyingSinkWriteCallback</a><span>，见 § 5.2.3</span>
        <li><a href="#underlying-source">底层源（underlying source）</a><span>，见 § 2.1</span>
        <li><a href="#dictdef-underlyingsource">UnderlyingSource</a><span>，见 § 4.2.3</span>
        <li><a href="#callbackdef-underlyingsourcecancelcallback">UnderlyingSourceCancelCallback</a><span>，见
                § 4.2.3</span>
        <li><a href="#callbackdef-underlyingsourcepullcallback">UnderlyingSourcePullCallback</a><span>，见 § 4.2.3</span>
        <li><a href="#callbackdef-underlyingsourcestartcallback">UnderlyingSourceStartCallback</a><span>，见
                § 4.2.3</span>
        <li>
            value
            <ul>
                <li><a href="#value-with-size-value">value-with-size 的定义</a><span>，见 § 8.1</span>
                <li><a href="#dom-readablestreamreadresult-value">ReadableStreamReadResult 的字典成员</a><span>，见
                        § 4.4.1</span>
            </ul>
        <li><a href="#value-with-size">value-with-size</a><span>，见 § 8.1</span>
        <li><a href="#readablestreambyobrequest-view">[[view]]</a><span>，见 § 4.8.2</span>
        <li><a href="#rs-byob-request-view">view</a><span>，见 § 4.8.3</span>
        <li><a href="#pull-into-descriptor-view-constructor">view 构造函数</a><span>，见 § 4.7.2</span>
        <li><a href="#pending-abort-request-was-already-erroring">之前已在 erroring 状态（was already erroring）</a><span>，见
                § 5.2.2</span>
        <li><a href="#transformstream-writable">[[writable]]</a><span>，见 § 6.2.2</span>
        <li>
            writable
            <ul>
                <li><a href="#dom-generictransformstream-writable">GenericTransformStream 的属性</a><span>，见 § 9.3.2</span>
                <li><a href="#ts-writable">TransformStream 的属性</a><span>，见 § 6.2.4</span>
                <li><a href="#dom-readablewritablepair-writable">ReadableWritablePair 的字典成员</a><span>，见 § 4.2.1</span>
            </ul>
        <li><a href="#writable-side">可写端（writable side）</a><span>，见 § 2.3</span>
        <li><a href="#writable-stream">可写流（writable stream）</a><span>，见 § 2.2</span>
        <li><a href="#writablestream">WritableStream</a><span>，见 § 5.2.1</span>
        <li><a href="#ws-constructor">WritableStream()</a><span>，见 § 5.2.4</span>
        <li><a href="#writable-stream-abort">WritableStreamAbort</a><span>，见 § 5.5.1</span>
        <li><a href="#writable-stream-add-write-request">WritableStreamAddWriteRequest</a><span>，见 § 5.5.2</span>
        <li><a href="#writable-stream-close">WritableStreamClose</a><span>，见 § 5.5.1</span>
        <li><a href="#writable-stream-close-queued-or-in-flight">WritableStreamCloseQueuedOrInFlight</a><span>，见
                § 5.5.2</span>
        <li><a href="#writable-stream-deal-with-rejection">WritableStreamDealWithRejection</a><span>，见 § 5.5.2</span>
        <li><a href="#writablestreamdefaultcontroller">WritableStreamDefaultController</a><span>，见 § 5.4.1</span>
        <li><a
                href="#writable-stream-default-controller-advance-queue-if-needed">WritableStreamDefaultControllerAdvanceQueueIfNeeded</a><span>，见
                § 5.5.4</span>
        <li><a
                href="#writable-stream-default-controller-clear-algorithms">WritableStreamDefaultControllerClearAlgorithms</a><span>，见
                § 5.5.4</span>
        <li><a href="#writable-stream-default-controller-close">WritableStreamDefaultControllerClose</a><span>，见
                § 5.5.4</span>
        <li><a href="#writable-stream-default-controller-error">WritableStreamDefaultControllerError</a><span>，见
                § 5.5.4</span>
        <li><a
                href="#writable-stream-default-controller-error-if-needed">WritableStreamDefaultControllerErrorIfNeeded</a><span>，见
                § 5.5.4</span>
        <li><a
                href="#writable-stream-default-controller-get-backpressure">WritableStreamDefaultControllerGetBackpressure</a><span>，见
                § 5.5.4</span>
        <li><a
                href="#writable-stream-default-controller-get-chunk-size">WritableStreamDefaultControllerGetChunkSize</a><span>，见
                § 5.5.4</span>
        <li><a
                href="#writable-stream-default-controller-get-desired-size">WritableStreamDefaultControllerGetDesiredSize</a><span>，见
                § 5.5.4</span>
        <li><a
                href="#writable-stream-default-controller-process-close">WritableStreamDefaultControllerProcessClose</a><span>，见
                § 5.5.4</span>
        <li><a
                href="#writable-stream-default-controller-process-write">WritableStreamDefaultControllerProcessWrite</a><span>，见
                § 5.5.4</span>
        <li><a href="#writable-stream-default-controller-write">WritableStreamDefaultControllerWrite</a><span>，见
                § 5.5.4</span>
        <li><a href="#writablestreamdefaultwriter">WritableStreamDefaultWriter</a><span>，见 § 5.3.1</span>
        <li><a href="#writable-stream-default-writer-abort">WritableStreamDefaultWriterAbort</a><span>，见 § 5.5.3</span>
        <li><a href="#writable-stream-default-writer-close">WritableStreamDefaultWriterClose</a><span>，见 § 5.5.3</span>
        <li><a
                href="#writable-stream-default-writer-close-with-error-propagation">WritableStreamDefaultWriterCloseWithErrorPropagation</a><span>，见
                § 5.5.3</span>
        <li><a
                href="#writable-stream-default-writer-ensure-closed-promise-rejected">WritableStreamDefaultWriterEnsureClosedPromiseRejected</a><span>，见
                § 5.5.3</span>
        <li><a
                href="#writable-stream-default-writer-ensure-ready-promise-rejected">WritableStreamDefaultWriterEnsureReadyPromiseRejected</a><span>，见
                § 5.5.3</span>
        <li><a
                href="#writable-stream-default-writer-get-desired-size">WritableStreamDefaultWriterGetDesiredSize</a><span>，见
                § 5.5.3</span>
        <li><a href="#writable-stream-default-writer-release">WritableStreamDefaultWriterRelease</a><span>，见
                § 5.5.3</span>
        <li><a href="#default-writer-constructor">WritableStreamDefaultWriter(stream)</a><span>，见 § 5.3.3</span>
        <li><a href="#writable-stream-default-writer-write">WritableStreamDefaultWriterWrite</a><span>，见 § 5.5.3</span>
        <li><a href="#writable-stream-finish-erroring">WritableStreamFinishErroring</a><span>，见 § 5.5.2</span>
        <li><a href="#writable-stream-finish-in-flight-close">WritableStreamFinishInFlightClose</a><span>，见
                § 5.5.2</span>
        <li><a
                href="#writable-stream-finish-in-flight-close-with-error">WritableStreamFinishInFlightCloseWithError</a><span>，见
                § 5.5.2</span>
        <li><a href="#writable-stream-finish-in-flight-write">WritableStreamFinishInFlightWrite</a><span>，见
                § 5.5.2</span>
        <li><a
                href="#writable-stream-finish-in-flight-write-with-error">WritableStreamFinishInFlightWriteWithError</a><span>，见
                § 5.5.2</span>
        <li><a href="#writable-stream-has-operation-marked-in-flight">WritableStreamHasOperationMarkedInFlight</a><span>，见
                § 5.5.2</span>
        <li><a href="#writable-stream-mark-close-request-in-flight">WritableStreamMarkCloseRequestInFlight</a><span>，见
                § 5.5.2</span>
        <li><a
                href="#writable-stream-mark-first-write-request-in-flight">WritableStreamMarkFirstWriteRequestInFlight</a><span>，见
                § 5.5.2</span>
        <li><a
                href="#writable-stream-reject-close-and-closed-promise-if-needed">WritableStreamRejectCloseAndClosedPromiseIfNeeded</a><span>，见
                § 5.5.2</span>
        <li><a href="#writable-stream-start-erroring">WritableStreamStartErroring</a><span>，见 § 5.5.2</span>
        <li><a href="#ws-constructor">WritableStream(underlyingSink)</a><span>，见 § 5.2.4</span>
        <li><a href="#ws-constructor">WritableStream(underlyingSink, strategy)</a><span>，见 § 5.2.4</span>
        <li><a href="#writable-stream-update-backpressure">WritableStreamUpdateBackpressure</a><span>，见 § 5.5.2</span>
        <li><a href="#writer">可写流 writer</a><span>，见 § 2.6</span>
        <li><a href="#dom-transformer-writabletype">writableType</a><span>，见 § 6.2.3</span>
        <li><a href="#dom-underlyingsink-write">write</a><span>，见 § 5.2.3</span>
        <li><a href="#default-writer-write">write()</a><span>，见 § 5.3.3</span>
        <li><a href="#writablestreamdefaultwriter-write-a-chunk">写入一个 chunk</a><span>，见 § 9.2.2</span>
        <li><a href="#writablestreamdefaultcontroller-writealgorithm">[[writeAlgorithm]]</a><span>，见 § 5.4.2</span>
        <li><a href="#writablestream-set-up-writealgorithm">writeAlgorithm</a><span>，见 § 9.2.1</span>
        <li><a href="#default-writer-write">write(chunk)</a><span>，见 § 5.3.3</span>
        <li><a href="#writablestream-writer">[[writer]]</a><span>，见 § 5.2.2</span>
        <li><a href="#writer">writer</a><span>，见 § 2.6</span>
        <li><a href="#writablestream-writerequests">[[writeRequests]]</a><span>，见 § 5.2.2</span>
        <li><a href="#writablestreamdefaultwriter-write-a-chunk">写入一个 chunk</a><span>，见 § 9.2.2</span>
    </ul>
    <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">引用定义的术语</span><a
            class="self-link" href="#index-defined-elsewhere"></a></h3>
    <ul class="index">
        <li>
            <a data-link-type="biblio">[COMPRESSION]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="6e6d76ed">CompressionStream</span>
            </ul>
        <li>
            <a data-link-type="biblio">[DOM]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="2e66eaf1">AbortController</span>
                <li><span class="dfn-paneled" id="cca3cdb2">AbortSignal</span>
                <li><span class="dfn-paneled" id="28e64574">abort reason（中止原因）</span>
                <li><span class="dfn-paneled" id="535dd335">aborted（已中止）</span>
                <li><span class="dfn-paneled" id="87bc23a5">add（添加）</span>
                <li><span class="dfn-paneled" id="ff87eaf9">remove（移除）</span>
                <li><span class="dfn-paneled" id="0fe84b59">signal（信号）</span>
                <li><span class="dfn-paneled" id="2296404c">signal abort（信号中止）</span>
            </ul>
        <li>
            <a data-link-type="biblio">[ECMASCRIPT]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="d1a8bfee">%ArrayBuffer%</span>
                <li><span class="dfn-paneled" id="038c4c21">%DataView%</span>
                <li><span class="dfn-paneled" id="b5d2d271">%Object.prototype%</span>
                <li><span class="dfn-paneled" id="2426fb1e">%Uint8Array%</span>
                <li><span class="dfn-paneled" id="ecb78c1d">ArrayBuffer</span>
                <li><span class="dfn-paneled" id="81131be0">Call（调用）</span>
                <li><span class="dfn-paneled" id="74a58133">CloneArrayBuffer</span>
                <li><span class="dfn-paneled" id="944206e4">Construct（构造）</span>
                <li><span class="dfn-paneled" id="3689e92d">CopyDataBlockBytes</span>
                <li><span class="dfn-paneled" id="4c6c6f05">CreateArrayFromList</span>
                <li><span class="dfn-paneled" id="6df10f44">CreateBuiltinFunction</span>
                <li><span class="dfn-paneled" id="d2c61922">CreateDataProperty</span>
                <li><span class="dfn-paneled" id="fb8187fa">DataView</span>
                <li><span class="dfn-paneled" id="d7a47d32">DetachArrayBuffer</span>
                <li><span class="dfn-paneled" id="abf85593">Get</span>
                <li><span class="dfn-paneled" id="1f8de32a">GetIterator</span>
                <li><span class="dfn-paneled" id="5b7339ce">GetMethod</span>
                <li><span class="dfn-paneled" id="13e76b84">GetV</span>
                <li><span class="dfn-paneled" id="d7f1c677">IsDetachedBuffer</span>
                <li><span class="dfn-paneled" id="e7409427">IsInteger（判断整数）</span>
                <li><span class="dfn-paneled" id="03487a52">IteratorComplete</span>
                <li><span class="dfn-paneled" id="069eabcc">IteratorNext</span>
                <li><span class="dfn-paneled" id="68d0559e">IteratorValue</span>
                <li><span class="dfn-paneled" id="5f9c7266">Number</span>
                <li><span class="dfn-paneled" id="ebbbef34">OrdinaryObjectCreate</span>
                <li><span class="dfn-paneled" id="65342bb9">SameValue</span>
                <li><span class="dfn-paneled" id="91890fa8">SharedArrayBuffer</span>
                <li><span class="dfn-paneled" id="81c11fc3">TypeError</span>
                <li><span class="dfn-paneled" id="8b2fedc9">Uint8Array</span>
                <li><span class="dfn-paneled" id="3ee2d4d2">abstract operation（抽象操作）</span>
                <li><span class="dfn-paneled" id="77aef363">array（数组）</span>
                <li><span class="dfn-paneled" id="93148e63">async generator（异步生成器）</span>
                <li><span class="dfn-paneled" id="9aa33dcf">async iterable（异步可迭代对象）</span>
                <li><span class="dfn-paneled" id="74b35c0b">Completion Record（完成记录）</span>
                <li><span class="dfn-paneled" id="c5c13e72">Completion Records</span>
                <li><span class="dfn-paneled" id="900ce14b">internal slot</span>
                <li><span class="dfn-paneled" id="d8f8e172">is a String（是否字符串）</span>
                <li><span class="dfn-paneled" id="367d928f">is an Object（是否对象）</span>
                <li><span class="dfn-paneled" id="70a9ebde">is not a Number（不是数字）</span>
                <li><span class="dfn-paneled" id="68316ab6">is not an Object（不是对象）</span>
                <li><span class="dfn-paneled" id="88cd0dbd">iterable（可迭代对象）</span>
                <li><span class="dfn-paneled" id="6875767f">map（映射）</span>
                <li><span class="dfn-paneled" id="e050b76b">number type（数字类型）</span>
                <li><span class="dfn-paneled" id="704f9119">realm（域）</span>
                <li><span class="dfn-paneled" id="e1576caa">the current Realm（当前域）</span>
                <li><span class="dfn-paneled" id="904376f6">the typed array constructors table</span>
                <li><span class="dfn-paneled" id="a3a4ba25">typed array（类型化数组）</span>
            </ul>
        <li>
            <a data-link-type="biblio">[ENCODING]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="1e249f40">TextDecoderStream</span>
            </ul>
        <li>
            <a data-link-type="biblio">[FETCH]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="08a12aad">Response</span>
                <li><span class="dfn-paneled" id="8e9945a0">body（响应体）</span>
                <li><span class="dfn-paneled" id="2ce6f6bb">fetch(input)</span>
            </ul>
        <li>
            <a data-link-type="biblio">[HTML]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="df16744f">MessagePort</span>
                <li><span class="dfn-paneled" id="0800bdf4">StructuredDeserialize</span>
                <li><span class="dfn-paneled" id="e7cb09fb">StructuredDeserializeWithTransfer</span>
                <li><span class="dfn-paneled" id="89786baf">StructuredSerialize</span>
                <li><span class="dfn-paneled" id="9da834a1">StructuredSerializeWithTransfer</span>
                <li><span class="dfn-paneled" id="444d7f6a">Transferable（可转移对象）</span>
                <li><span class="dfn-paneled" id="a7d0975c">entangle</span>
                <li><span class="dfn-paneled" id="4b6086d7">global object（全局对象）</span>
                <li><span class="dfn-paneled" id="f0811ff8">img</span>
                <li><span class="dfn-paneled" id="a72449dd">in parallel（并行）</span>
                <li><span class="dfn-paneled" id="38381ead">message（消息）</span>
                <li><span class="dfn-paneled" id="4a5e45d1">message port post message steps</span>
                <li><span class="dfn-paneled" id="6b373a4a">messageerror</span>
                <li><span class="dfn-paneled" id="8afe05ad">port message queue</span>
                <li><span class="dfn-paneled" id="53079ce3">queue a microtask（队列微任务）</span>
                <li><span class="dfn-paneled" id="e99bd18e">relevant global object（相关全局对象）</span>
                <li><span class="dfn-paneled" id="5991ccfb">relevant realm（相关域）</span>
                <li><span class="dfn-paneled" id="9c4c1e66">relevant settings object（相关设置对象）</span>
                <li><span class="dfn-paneled" id="0a422d04">serializable object（可序列化对象）</span>
                <li><span class="dfn-paneled" id="25ce4994">transfer steps（转移步骤）</span>
                <li><span class="dfn-paneled" id="6aa60cdd">transfer-receiving steps（接收转移步骤）</span>
                <li><span class="dfn-paneled" id="dbe29252">transferable object（可转移对象）</span>
                <li><span class="dfn-paneled" id="f1041b37">unhandledrejection（未处理拒绝）</span>
            </ul>
        <li>
            <a data-link-type="biblio">[INFRA]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="53275e46">append <small>(列表追加)</small></span>
                <li><span class="dfn-paneled" id="a3b18719">append <small>(集合追加)</small></span>
                <li><span class="dfn-paneled" id="7b0d918d">break（中断）</span>
                <li><span class="dfn-paneled" id="3de9e659">byte sequence（字节序列）</span>
                <li><span class="dfn-paneled" id="1243a891">exist（存在）</span>
                <li><span class="dfn-paneled" id="16d07e10">for each（遍历）</span>
                <li><span class="dfn-paneled" id="860300d4">implementation-defined（实现自定义）</span>
                <li><span class="dfn-paneled" id="6b815fdd">is empty（为空）</span>
                <li><span class="dfn-paneled" id="c88f3887">item（项）</span>
                <li><span class="dfn-paneled" id="36333997">length（长度）</span>
                <li><span class="dfn-paneled" id="649608b9">list（列表）</span>
                <li><span class="dfn-paneled" id="692595fe">ordered set（有序集合）</span>
                <li><span class="dfn-paneled" id="99c988d6">remove（移除）</span>
                <li><span class="dfn-paneled" id="0204d188">size（大小）</span>
                <li><span class="dfn-paneled" id="984221ca">struct（结构体）</span>
                <li><span class="dfn-paneled" id="cbdc89b4">while（循环）</span>
            </ul>
        <li>
            <a data-link-type="biblio">[SERVICE-WORKERS]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="9ff3511b">fetch</span>
            </ul>
        <li>
            <a data-link-type="biblio">[WASM-JS-API-2]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="9ca1c179">Memory</span>
                <li><span class="dfn-paneled" id="2f6db3ee">buffer（缓冲区）</span>
            </ul>
        <li>
            <a data-link-type="biblio">[WEBIDL]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="6c9ab516">ArrayBufferView</span>
                <li><span class="dfn-paneled" id="dca2de17">DOMException</span>
                <li><span class="dfn-paneled" id="d54f5897">DataCloneError</span>
                <li><span class="dfn-paneled" id="c01cbda0">EnforceRange</span>
                <li><span class="dfn-paneled" id="ae46556f">Function</span>
                <li><span class="dfn-paneled" id="bdbd19d1">Promise</span>
                <li><span class="dfn-paneled" id="ec878a66">RangeError</span>
                <li><span class="dfn-paneled" id="dacde8b5">a new promise（新 Promise）</span>
                <li><span class="dfn-paneled" id="d0b4a948">a promise rejected with（被拒绝的 Promise）</span>
                <li><span class="dfn-paneled" id="8f5c2179">a promise resolved with（已完成的 Promise）</span>
                <li><span class="dfn-paneled" id="6c6b1005">any（任意类型）</span>
                <li><span class="dfn-paneled" id="9a7f3f6f">asynchronous iterator initialization
                        steps（异步迭代器初始化步骤）</span>
                <li><span class="dfn-paneled" id="a53fbed9">asynchronous iterator return（异步迭代器返回）</span>
                <li><span class="dfn-paneled" id="5372cca8">boolean（布尔值）</span>
                <li><span class="dfn-paneled" id="495737df">byte length（字节长度）</span>
                <li><span class="dfn-paneled" id="a053c42b">callback context（回调上下文）</span>
                <li><span class="dfn-paneled" id="a9bf6bd5">callback this value（回调 this 值）</span>
                <li><span class="dfn-paneled" id="59243858">constructor steps（构造步骤）</span>
                <li><span class="dfn-paneled" id="cadf5fe9">converted to an IDL value（转换为 IDL 值）</span>
                <li><span class="dfn-paneled" id="88a9cf19">create（创建）</span>
                <li><span class="dfn-paneled" id="1003edc0">detach（分离）</span>
                <li><span class="dfn-paneled" id="9c78f4e3">end of iteration（迭代结束）</span>
                <li><span class="dfn-paneled" id="7b05fe24">get a copy of the bytes held by the buffer
                        source（获取缓冲区字节副本）</span>
                <li><span class="dfn-paneled" id="e7652812">get the next iteration result（获取下一个迭代结果）</span>
                <li><span class="dfn-paneled" id="4ae6d1ad">getting a promise to wait for all（获取等待全部的 Promise）</span>
                <li><span class="dfn-paneled" id="a32c65d4">implements（实现）</span>
                <li><span class="dfn-paneled" id="a7900362">include（包含）</span>
                <li><span class="dfn-paneled" id="10ce5f6f">invoke（调用）</span>
                <li><span class="dfn-paneled" id="56f81a8e">new（新建）</span>
                <li><span class="dfn-paneled" id="efd1ec5d">object（对象）</span>
                <li><span class="dfn-paneled" id="6728fdee">platform object（平台对象）</span>
                <li><span class="dfn-paneled" id="750a2f08">react（响应）</span>
                <li><span class="dfn-paneled" id="116848ac">reacting（响应中）</span>
                <li><span class="dfn-paneled" id="b262501e">reject（拒绝）</span>
                <li><span class="dfn-paneled" id="3b90bdcd">resolve（完成）</span>
                <li><span class="dfn-paneled" id="9cce47fd">sequence（序列）</span>
                <li><span class="dfn-paneled" id="4013a022">this</span>
                <li><span class="dfn-paneled" id="69c80471">transfer（转移）</span>
                <li><span class="dfn-paneled" id="5f90bbfb">undefined（未定义）</span>
                <li><span class="dfn-paneled" id="f32e046f">underlying buffer（底层缓冲区）</span>
                <li><span class="dfn-paneled" id="11e0b87f">unrestricted double（无限制双精度数）</span>
                <li><span class="dfn-paneled" id="f14b47b8">unsigned long long（无符号长整型）</span>
                <li><span class="dfn-paneled" id="24bd7d25">upon fulfillment（完成时）</span>
                <li><span class="dfn-paneled" id="f14ed351">upon rejection（拒绝时）</span>
                <li><span class="dfn-paneled" id="2d6ca7ca">write <small>(ArrayBuffer 写入)</small></span>
                <li><span class="dfn-paneled" id="f3fd9d04">write <small>(ArrayBufferView 写入)</small></span>
            </ul>
        <li>
            <a data-link-type="biblio">[WEBRTC-ENCODED-TRANSFORM]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="ee3f3fb3">RTCRtpScriptTransformer</span>
            </ul>
        <li>
            <a data-link-type="biblio">[WEBSOCKETS]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="6eeed17d">WebSocket</span>
                <li><span class="dfn-paneled" id="32596166">bufferedAmount（缓冲区数量）</span>
            </ul>
    </ul>
    <h2 class="no-num no-ref heading settled" id="references"><span class="content">参考文献</span><a class="self-link"
            href="#references"></a></h2>
    <h3 class="no-num no-ref heading settled" id="normative"><span class="content">规范性引用</span><a class="self-link"
            href="#normative"></a></h3>
    <dl>
        <dt id="biblio-dom">[DOM]
        <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM 标准</cite></a>。Living Standard。
            URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
        <dt id="biblio-ecmascript">[ECMASCRIPT]
        <dd><a href="https://tc39.es/ecma262/multipage/"><cite>ECMAScript 语言规范</cite></a>。URL: <a
                href="https://tc39.es/ecma262/multipage/">https://tc39.es/ecma262/multipage/</a>
        <dt id="biblio-html">[HTML]
        <dd>Anne van Kesteren 等. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML 标准</cite></a>。
            Living Standard。URL: <a
                href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
        <dt id="biblio-ieee-754">[IEEE-754]
        <dd><a href="https://ieeexplore.ieee.org/document/8766229"><cite>IEEE 浮点运算标准</cite></a>。2019年7月22日。URL: <a
                href="https://ieeexplore.ieee.org/document/8766229">https://ieeexplore.ieee.org/document/8766229</a>
        <dt id="biblio-infra">[INFRA]
        <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/"><cite>Infra
                    标准</cite></a>。Living Standard。URL: <a
                href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
        <dt id="biblio-webidl">[WEBIDL]
        <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL 标准</cite></a>。Living
            Standard。URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
    </dl>
    <h3 class="no-num no-ref heading settled" id="informative"><span class="content">参考性引用</span><a class="self-link"
            href="#informative"></a></h3>
    <dl>
        <dt id="biblio-compression">[COMPRESSION]
        <dd>Adam Rice. <a href="https://compression.spec.whatwg.org/"><cite>Compression 标准</cite></a>。Living
            Standard。URL: <a href="https://compression.spec.whatwg.org/">https://compression.spec.whatwg.org/</a>
        <dt id="biblio-encoding">[ENCODING]
        <dd>Anne van Kesteren. <a href="https://encoding.spec.whatwg.org/"><cite>Encoding 标准</cite></a>。Living
            Standard。URL: <a href="https://encoding.spec.whatwg.org/">https://encoding.spec.whatwg.org/</a>
        <dt id="biblio-fetch">[FETCH]
        <dd>Anne van Kesteren. <a href="https://fetch.spec.whatwg.org/"><cite>Fetch 标准</cite></a>。Living
            Standard。URL: <a href="https://fetch.spec.whatwg.org/">https://fetch.spec.whatwg.org/</a>
        <dt id="biblio-service-workers">[SERVICE-WORKERS]
        <dd>Monica CHINTALA; Yoshisato Yanagisawa. <a href="https://w3c.github.io/ServiceWorker/"><cite>Service Workers
                    Nightly</cite></a>. URL: <a
                href="https://w3c.github.io/ServiceWorker/">https://w3c.github.io/ServiceWorker/</a>
        <dt id="biblio-wasm-js-api-1">[WASM-JS-API-1]
        <dd>Daniel Ehrenberg. <a href="https://webassembly.github.io/spec/js-api/"><cite>WebAssembly JavaScript
                    接口</cite></a>。URL: <a
                href="https://webassembly.github.io/spec/js-api/">https://webassembly.github.io/spec/js-api/</a>
        <dt id="biblio-wasm-js-api-2">[WASM-JS-API-2]
        <dd>. Ms2ger. <a href="https://webassembly.github.io/spec/js-api/"><cite>WebAssembly JavaScript
                    接口</cite></a>。URL: <a
                href="https://webassembly.github.io/spec/js-api/">https://webassembly.github.io/spec/js-api/</a>
        <dt id="biblio-webrtc-encoded-transform">[WEBRTC-ENCODED-TRANSFORM]
        <dd>Harald Alvestrand; Guido Urdaneta; youenn fablet. <a
                href="https://w3c.github.io/webrtc-encoded-transform/"><cite>WebRTC 编码转换</cite></a>。URL:
            <a
                href="https://w3c.github.io/webrtc-encoded-transform/">https://w3c.github.io/webrtc-encoded-transform/</a>
        <dt id="biblio-websockets">[WEBSOCKETS]
        <dd>Adam Rice. <a href="https://websockets.spec.whatwg.org/"><cite>WebSockets 标准</cite></a>。Living
            Standard。URL: <a href="https://websockets.spec.whatwg.org/">https://websockets.spec.whatwg.org/</a>
    </dl>
    <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL 索引</span><a class="self-link"
            href="#idl-index"></a></h2>
    <pre class="idl highlight def">[Exposed=*, <a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/structured-data.html#transferable"><c- g>Transferable</c-></a>]
<c- b>interface</c-> <a href="#readablestream"><code><c- g>ReadableStream</c-></code></a> {
  <a class="idl-code" data-link-type="constructor" href="#rs-constructor"><c- g>constructor</c-></a>(<c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object"><c- b>object</c-></a> <a href="#dom-readablestream-readablestream-underlyingsource-strategy-underlyingsource"><code><c- g>underlyingSource</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-queuingstrategy"><c- n>QueuingStrategy</c-></a> <a href="#dom-readablestream-readablestream-underlyingsource-strategy-strategy"><code><c- g>strategy</c-></code></a> = {});

  <c- b>static</c-> <a data-link-type="idl-name" href="#readablestream"><c- n>ReadableStream</c-></a> <a class="idl-code" data-link-type="method" href="#rs-from"><c- g>from</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a href="#dom-readablestream-from-asynciterable-asynciterable"><code><c- g>asyncIterable</c-></code></a>);

  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#rs-locked"><c- g>locked</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#rs-cancel"><c- g>cancel</c-></a>(<c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a href="#dom-readablestream-cancel-reason-reason"><code><c- g>reason</c-></code></a>);
  <a data-link-type="idl-name" href="#typedefdef-readablestreamreader"><c- n>ReadableStreamReader</c-></a> <a class="idl-code" data-link-type="method" href="#rs-get-reader"><c- g>getReader</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-readablestreamgetreaderoptions"><c- n>ReadableStreamGetReaderOptions</c-></a> <a href="#dom-readablestream-getreader-options-options"><code><c- g>options</c-></code></a> = {});
  <a data-link-type="idl-name" href="#readablestream"><c- n>ReadableStream</c-></a> <a class="idl-code" data-link-type="method" href="#rs-pipe-through"><c- g>pipeThrough</c-></a>(<a data-link-type="idl-name" href="#dictdef-readablewritablepair"><c- n>ReadableWritablePair</c-></a> <a href="#dom-readablestream-pipethrough-transform-options-transform"><code><c- g>transform</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-streampipeoptions"><c- n>StreamPipeOptions</c-></a> <a href="#dom-readablestream-pipethrough-transform-options-options"><code><c- g>options</c-></code></a> = {});
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#rs-pipe-to"><c- g>pipeTo</c-></a>(<a data-link-type="idl-name" href="#writablestream"><c- n>WritableStream</c-></a> <a href="#dom-readablestream-pipeto-destination-options-destination"><code><c- g>destination</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-streampipeoptions"><c- n>StreamPipeOptions</c-></a> <a href="#dom-readablestream-pipeto-destination-options-options"><code><c- g>options</c-></code></a> = {});
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#readablestream"><c- n>ReadableStream</c-></a>> <a class="idl-code" data-link-type="method" href="#rs-tee"><c- g>tee</c-></a>();

  <c- b>async</c-> <c- b>iterable</c->&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a>>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-readablestreamiteratoroptions"><c- n>ReadableStreamIteratorOptions</c-></a> <a href="#dom-readablestream-options"><code><c- g>options</c-></code></a> = {});
};

<c- b>typedef</c-> (<a data-link-type="idl-name" href="#readablestreamdefaultreader"><c- n>ReadableStreamDefaultReader</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#readablestreambyobreader"><c- n>ReadableStreamBYOBReader</c-></a>) <a href="#typedefdef-readablestreamreader"><code><c- g>ReadableStreamReader</c-></code></a>;

<c- b>enum</c-> <a href="#enumdef-readablestreamreadermode"><code><c- g>ReadableStreamReaderMode</c-></code></a> { <a href="#dom-readablestreamreadermode-byob"><code><c- s>"byob"</c-></code></a> };

<c- b>dictionary</c-> <a href="#dictdef-readablestreamgetreaderoptions"><code><c- g>ReadableStreamGetReaderOptions</c-></code></a> {
  <a data-link-type="idl-name" href="#enumdef-readablestreamreadermode"><c- n>ReadableStreamReaderMode</c-></a> <a data-type="ReadableStreamReaderMode" href="#dom-readablestreamgetreaderoptions-mode"><code><c- g>mode</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-readablestreamiteratoroptions"><code><c- g>ReadableStreamIteratorOptions</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean" href="#dom-readablestreamiteratoroptions-preventcancel"><code><c- g>preventCancel</c-></code></a> = <c- b>false</c->;
};

<c- b>dictionary</c-> <a href="#dictdef-readablewritablepair"><code><c- g>ReadableWritablePair</c-></code></a> {
  <c- b>required</c-> <a data-link-type="idl-name" href="#readablestream"><c- n>ReadableStream</c-></a> <a data-type="ReadableStream" href="#dom-readablewritablepair-readable"><code><c- g>readable</c-></code></a>;
  <c- b>required</c-> <a data-link-type="idl-name" href="#writablestream"><c- n>WritableStream</c-></a> <a data-type="WritableStream" href="#dom-readablewritablepair-writable"><code><c- g>writable</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-streampipeoptions"><code><c- g>StreamPipeOptions</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean" href="#dom-streampipeoptions-preventclose"><code><c- g>preventClose</c-></code></a> = <c- b>false</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean" href="#dom-streampipeoptions-preventabort"><code><c- g>preventAbort</c-></code></a> = <c- b>false</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean" href="#dom-streampipeoptions-preventcancel"><code><c- g>preventCancel</c-></code></a> = <c- b>false</c->;
  <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#abortsignal"><c- n>AbortSignal</c-></a> <a data-type="AbortSignal" href="#dom-streampipeoptions-signal"><code><c- g>signal</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-underlyingsource"><code><c- g>UnderlyingSource</c-></code></a> {
  <a data-link-type="idl-name" href="#callbackdef-underlyingsourcestartcallback"><c- n>UnderlyingSourceStartCallback</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="UnderlyingSourceStartCallback" href="#dom-underlyingsource-start"><c- g>start</c-></a>;
  <a data-link-type="idl-name" href="#callbackdef-underlyingsourcepullcallback"><c- n>UnderlyingSourcePullCallback</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="UnderlyingSourcePullCallback" href="#dom-underlyingsource-pull"><c- g>pull</c-></a>;
  <a data-link-type="idl-name" href="#callbackdef-underlyingsourcecancelcallback"><c- n>UnderlyingSourceCancelCallback</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="UnderlyingSourceCancelCallback" href="#dom-underlyingsource-cancel"><c- g>cancel</c-></a>;
  <a data-link-type="idl-name" href="#enumdef-readablestreamtype"><c- n>ReadableStreamType</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="ReadableStreamType" href="#dom-underlyingsource-type"><c- g>type</c-></a>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#EnforceRange"><c- g>EnforceRange</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="unsigned long long" href="#dom-underlyingsource-autoallocatechunksize"><c- g>autoAllocateChunkSize</c-></a>;
};

<c- b>typedef</c-> (<a data-link-type="idl-name" href="#readablestreamdefaultcontroller"><c- n>ReadableStreamDefaultController</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#readablebytestreamcontroller"><c- n>ReadableByteStreamController</c-></a>) <a href="#typedefdef-readablestreamcontroller"><code><c- g>ReadableStreamController</c-></code></a>;

<c- b>callback</c-> <a href="#callbackdef-underlyingsourcestartcallback"><code><c- g>UnderlyingSourceStartCallback</c-></code></a> = <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> (<a data-link-type="idl-name" href="#typedefdef-readablestreamcontroller"><c- n>ReadableStreamController</c-></a> <a href="#dom-underlyingsourcestartcallback-controller"><code><c- g>controller</c-></code></a>);
<c- b>callback</c-> <a href="#callbackdef-underlyingsourcepullcallback"><code><c- g>UnderlyingSourcePullCallback</c-></code></a> = <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> (<a data-link-type="idl-name" href="#typedefdef-readablestreamcontroller"><c- n>ReadableStreamController</c-></a> <a href="#dom-underlyingsourcepullcallback-controller"><code><c- g>controller</c-></code></a>);
<c- b>callback</c-> <a href="#callbackdef-underlyingsourcecancelcallback"><code><c- g>UnderlyingSourceCancelCallback</c-></code></a> = <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> (<c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a href="#dom-underlyingsourcecancelcallback-reason"><code><c- g>reason</c-></code></a>);

<c- b>enum</c-> <a href="#enumdef-readablestreamtype"><code><c- g>ReadableStreamType</c-></code></a> { <a class="idl-code" data-link-type="enum-value" href="#dom-readablestreamtype-bytes"><c- s>"bytes"</c-></a> };

<c- b>interface</c-> <c- b>mixin</c-> <a href="#readablestreamgenericreader"><code><c- g>ReadableStreamGenericReader</c-></code></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Promise<undefined>" href="#generic-reader-closed"><c- g>closed</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#generic-reader-cancel"><c- g>cancel</c-></a>(<c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a href="#dom-readablestreamgenericreader-cancel-reason-reason"><code><c- g>reason</c-></code></a>);
};

[Exposed=*]
<c- b>interface</c-> <a href="#readablestreamdefaultreader"><code><c- g>ReadableStreamDefaultReader</c-></code></a> {
  <a class="idl-code" data-link-type="constructor" href="#default-reader-constructor"><c- g>constructor</c-></a>(<a data-link-type="idl-name" href="#readablestream"><c- n>ReadableStream</c-></a> <a href="#dom-readablestreamdefaultreader-readablestreamdefaultreader-stream-stream"><code><c- g>stream</c-></code></a>);

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-readablestreamreadresult"><c- n>ReadableStreamReadResult</c-></a>> <a class="idl-code" data-link-type="method" href="#default-reader-read"><c- g>read</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#default-reader-release-lock"><c- g>releaseLock</c-></a>();
};
<a data-link-type="idl-name" href="#readablestreamdefaultreader"><c- n>ReadableStreamDefaultReader</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#readablestreamgenericreader"><c- n>ReadableStreamGenericReader</c-></a>;

<c- b>dictionary</c-> <a href="#dictdef-readablestreamreadresult"><code><c- g>ReadableStreamReadResult</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a data-type="any" href="#dom-readablestreamreadresult-value"><code><c- g>value</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-type="boolean" href="#dom-readablestreamreadresult-done"><code><c- g>done</c-></code></a>;
};

[Exposed=*]
<c- b>interface</c-> <a href="#readablestreambyobreader"><code><c- g>ReadableStreamBYOBReader</c-></code></a> {
  <a class="idl-code" data-link-type="constructor" href="#byob-reader-constructor"><c- g>constructor</c-></a>(<a data-link-type="idl-name" href="#readablestream"><c- n>ReadableStream</c-></a> <a href="#dom-readablestreambyobreader-readablestreambyobreader-stream-stream"><code><c- g>stream</c-></code></a>);

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-readablestreamreadresult"><c- n>ReadableStreamReadResult</c-></a>> <a class="idl-code" data-link-type="method" href="#byob-reader-read"><c- g>read</c-></a>(<a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#ArrayBufferView"><c- n>ArrayBufferView</c-></a> <a href="#dom-readablestreambyobreader-read-view-options-view"><code><c- g>view</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-readablestreambyobreaderreadoptions"><c- n>ReadableStreamBYOBReaderReadOptions</c-></a> <a href="#dom-readablestreambyobreader-read-view-options-options"><code><c- g>options</c-></code></a> = {});
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#byob-reader-release-lock"><c- g>releaseLock</c-></a>();
};
<a data-link-type="idl-name" href="#readablestreambyobreader"><c- n>ReadableStreamBYOBReader</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#readablestreamgenericreader"><c- n>ReadableStreamGenericReader</c-></a>;

<c- b>dictionary</c-> <a href="#dictdef-readablestreambyobreaderreadoptions"><code><c- g>ReadableStreamBYOBReaderReadOptions</c-></code></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#EnforceRange"><c- g>EnforceRange</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a data-default="1" data-type="unsigned long long" href="#dom-readablestreambyobreaderreadoptions-min"><code><c- g>min</c-></code></a> = 1;
};

[Exposed=*]
<c- b>interface</c-> <a href="#readablestreamdefaultcontroller"><code><c- g>ReadableStreamDefaultController</c-></code></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double"><c- b>unrestricted</c-> <c- b>double</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="unrestricted double?" href="#rs-default-controller-desired-size"><c- g>desiredSize</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#rs-default-controller-close"><c- g>close</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#rs-default-controller-enqueue"><c- g>enqueue</c-></a>(<c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a href="#dom-readablestreamdefaultcontroller-enqueue-chunk-chunk"><code><c- g>chunk</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#rs-default-controller-error"><c- g>error</c-></a>(<c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a href="#dom-readablestreamdefaultcontroller-error-e-e"><code><c- g>e</c-></code></a>);
};

[Exposed=*]
<c- b>interface</c-> <a href="#readablebytestreamcontroller"><code><c- g>ReadableByteStreamController</c-></code></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#readablestreambyobrequest"><c- n>ReadableStreamBYOBRequest</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="ReadableStreamBYOBRequest?" href="#rbs-controller-byob-request"><c- g>byobRequest</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double"><c- b>unrestricted</c-> <c- b>double</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="unrestricted double?" href="#rbs-controller-desired-size"><c- g>desiredSize</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#rbs-controller-close"><c- g>close</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#rbs-controller-enqueue"><c- g>enqueue</c-></a>(<a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#ArrayBufferView"><c- n>ArrayBufferView</c-></a> <a href="#dom-readablebytestreamcontroller-enqueue-chunk-chunk"><code><c- g>chunk</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#rbs-controller-error"><c- g>error</c-></a>(<c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a href="#dom-readablebytestreamcontroller-error-e-e"><code><c- g>e</c-></code></a>);
};

[Exposed=*]
<c- b>interface</c-> <a href="#readablestreambyobrequest"><code><c- g>ReadableStreamBYOBRequest</c-></code></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#ArrayBufferView"><c- n>ArrayBufferView</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="ArrayBufferView?" href="#rs-byob-request-view"><c- g>view</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#rs-byob-request-respond"><c- g>respond</c-></a>([<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#EnforceRange"><c- g>EnforceRange</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a href="#dom-readablestreambyobrequest-respond-byteswritten-byteswritten"><code><c- g>bytesWritten</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#rs-byob-request-respond-with-new-view"><c- g>respondWithNewView</c-></a>(<a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#ArrayBufferView"><c- n>ArrayBufferView</c-></a> <a href="#dom-readablestreambyobrequest-respondwithnewview-view-view"><code><c- g>view</c-></code></a>);
};

[Exposed=*, <a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/structured-data.html#transferable"><c- g>Transferable</c-></a>]
<c- b>interface</c-> <a href="#writablestream"><code><c- g>WritableStream</c-></code></a> {
  <a class="idl-code" data-link-type="constructor" href="#ws-constructor"><c- g>constructor</c-></a>(<c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object"><c- b>object</c-></a> <a href="#dom-writablestream-writablestream-underlyingsink-strategy-underlyingsink"><code><c- g>underlyingSink</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-queuingstrategy"><c- n>QueuingStrategy</c-></a> <a href="#dom-writablestream-writablestream-underlyingsink-strategy-strategy"><code><c- g>strategy</c-></code></a> = {});

  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#ws-locked"><c- g>locked</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#ws-abort"><c- g>abort</c-></a>(<c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a href="#dom-writablestream-abort-reason-reason"><code><c- g>reason</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#ws-close"><c- g>close</c-></a>();
  <a data-link-type="idl-name" href="#writablestreamdefaultwriter"><c- n>WritableStreamDefaultWriter</c-></a> <a class="idl-code" data-link-type="method" href="#ws-get-writer"><c- g>getWriter</c-></a>();
};

<c- b>dictionary</c-> <a href="#dictdef-underlyingsink"><code><c- g>UnderlyingSink</c-></code></a> {
  <a data-link-type="idl-name" href="#callbackdef-underlyingsinkstartcallback"><c- n>UnderlyingSinkStartCallback</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="UnderlyingSinkStartCallback" href="#dom-underlyingsink-start"><c- g>start</c-></a>;
  <a data-link-type="idl-name" href="#callbackdef-underlyingsinkwritecallback"><c- n>UnderlyingSinkWriteCallback</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="UnderlyingSinkWriteCallback" href="#dom-underlyingsink-write"><c- g>write</c-></a>;
  <a data-link-type="idl-name" href="#callbackdef-underlyingsinkclosecallback"><c- n>UnderlyingSinkCloseCallback</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="UnderlyingSinkCloseCallback" href="#dom-underlyingsink-close"><c- g>close</c-></a>;
  <a data-link-type="idl-name" href="#callbackdef-underlyingsinkabortcallback"><c- n>UnderlyingSinkAbortCallback</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="UnderlyingSinkAbortCallback" href="#dom-underlyingsink-abort"><c- g>abort</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="any" href="#dom-underlyingsink-type"><c- g>type</c-></a>;
};

<c- b>callback</c-> <a href="#callbackdef-underlyingsinkstartcallback"><code><c- g>UnderlyingSinkStartCallback</c-></code></a> = <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> (<a data-link-type="idl-name" href="#writablestreamdefaultcontroller"><c- n>WritableStreamDefaultController</c-></a> <a href="#dom-underlyingsinkstartcallback-controller"><code><c- g>controller</c-></code></a>);
<c- b>callback</c-> <a href="#callbackdef-underlyingsinkwritecallback"><code><c- g>UnderlyingSinkWriteCallback</c-></code></a> = <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> (<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a href="#dom-underlyingsinkwritecallback-chunk"><code><c- g>chunk</c-></code></a>, <a data-link-type="idl-name" href="#writablestreamdefaultcontroller"><c- n>WritableStreamDefaultController</c-></a> <a href="#dom-underlyingsinkwritecallback-controller"><code><c- g>controller</c-></code></a>);
<c- b>callback</c-> <a href="#callbackdef-underlyingsinkclosecallback"><code><c- g>UnderlyingSinkCloseCallback</c-></code></a> = <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> ();
<c- b>callback</c-> <a href="#callbackdef-underlyingsinkabortcallback"><code><c- g>UnderlyingSinkAbortCallback</c-></code></a> = <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> (<c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a href="#dom-underlyingsinkabortcallback-reason"><code><c- g>reason</c-></code></a>);

[Exposed=*]
<c- b>interface</c-> <a href="#writablestreamdefaultwriter"><code><c- g>WritableStreamDefaultWriter</c-></code></a> {
  <a class="idl-code" data-link-type="constructor" href="#default-writer-constructor"><c- g>constructor</c-></a>(<a data-link-type="idl-name" href="#writablestream"><c- n>WritableStream</c-></a> <a href="#dom-writablestreamdefaultwriter-writablestreamdefaultwriter-stream-stream"><code><c- g>stream</c-></code></a>);

  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Promise<undefined>" href="#default-writer-closed"><c- g>closed</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double"><c- b>unrestricted</c-> <c- b>double</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="unrestricted double?" href="#default-writer-desired-size"><c- g>desiredSize</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Promise<undefined>" href="#default-writer-ready"><c- g>ready</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#default-writer-abort"><c- g>abort</c-></a>(<c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a href="#dom-writablestreamdefaultwriter-abort-reason-reason"><code><c- g>reason</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#default-writer-close"><c- g>close</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#default-writer-release-lock"><c- g>releaseLock</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#default-writer-write"><c- g>write</c-></a>(<c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a href="#dom-writablestreamdefaultwriter-write-chunk-chunk"><code><c- g>chunk</c-></code></a>);
};

[Exposed=*]
<c- b>interface</c-> <a href="#writablestreamdefaultcontroller"><code><c- g>WritableStreamDefaultController</c-></code></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#abortsignal"><c- n>AbortSignal</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="AbortSignal" href="#ws-default-controller-signal"><c- g>signal</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#ws-default-controller-error"><c- g>error</c-></a>(<c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a href="#dom-writablestreamdefaultcontroller-error-e-e"><code><c- g>e</c-></code></a>);
};

[Exposed=*, <a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/structured-data.html#transferable"><c- g>Transferable</c-></a>]
<c- b>interface</c-> <a href="#transformstream"><code><c- g>TransformStream</c-></code></a> {
  <a class="idl-code" data-link-type="constructor" href="#ts-constructor"><c- g>constructor</c-></a>(<c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object"><c- b>object</c-></a> <a href="#dom-transformstream-transformstream-transformer-writablestrategy-readablestrategy-transformer"><code><c- g>transformer</c-></code></a>,
              <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-queuingstrategy"><c- n>QueuingStrategy</c-></a> <a href="#dom-transformstream-transformstream-transformer-writablestrategy-readablestrategy-writablestrategy"><code><c- g>writableStrategy</c-></code></a> = {},
              <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-queuingstrategy"><c- n>QueuingStrategy</c-></a> <a href="#dom-transformstream-transformstream-transformer-writablestrategy-readablestrategy-readablestrategy"><code><c- g>readableStrategy</c-></code></a> = {});

  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#readablestream"><c- n>ReadableStream</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="ReadableStream" href="#ts-readable"><c- g>readable</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#writablestream"><c- n>WritableStream</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="WritableStream" href="#ts-writable"><c- g>writable</c-></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-transformer"><code><c- g>Transformer</c-></code></a> {
  <a data-link-type="idl-name" href="#callbackdef-transformerstartcallback"><c- n>TransformerStartCallback</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="TransformerStartCallback" href="#dom-transformer-start"><c- g>start</c-></a>;
  <a data-link-type="idl-name" href="#callbackdef-transformertransformcallback"><c- n>TransformerTransformCallback</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="TransformerTransformCallback" href="#dom-transformer-transform"><c- g>transform</c-></a>;
  <a data-link-type="idl-name" href="#callbackdef-transformerflushcallback"><c- n>TransformerFlushCallback</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="TransformerFlushCallback" href="#dom-transformer-flush"><c- g>flush</c-></a>;
  <a data-link-type="idl-name" href="#callbackdef-transformercancelcallback"><c- n>TransformerCancelCallback</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="TransformerCancelCallback" href="#dom-transformer-cancel"><c- g>cancel</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="any" href="#dom-transformer-readabletype"><c- g>readableType</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="any" href="#dom-transformer-writabletype"><c- g>writableType</c-></a>;
};

<c- b>callback</c-> <a href="#callbackdef-transformerstartcallback"><code><c- g>TransformerStartCallback</c-></code></a> = <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> (<a data-link-type="idl-name" href="#transformstreamdefaultcontroller"><c- n>TransformStreamDefaultController</c-></a> <a href="#dom-transformerstartcallback-controller"><code><c- g>controller</c-></code></a>);
<c- b>callback</c-> <a href="#callbackdef-transformerflushcallback"><code><c- g>TransformerFlushCallback</c-></code></a> = <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> (<a data-link-type="idl-name" href="#transformstreamdefaultcontroller"><c- n>TransformStreamDefaultController</c-></a> <a href="#dom-transformerflushcallback-controller"><code><c- g>controller</c-></code></a>);
<c- b>callback</c-> <a href="#callbackdef-transformertransformcallback"><code><c- g>TransformerTransformCallback</c-></code></a> = <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> (<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a href="#dom-transformertransformcallback-chunk"><code><c- g>chunk</c-></code></a>, <a data-link-type="idl-name" href="#transformstreamdefaultcontroller"><c- n>TransformStreamDefaultController</c-></a> <a href="#dom-transformertransformcallback-controller"><code><c- g>controller</c-></code></a>);
<c- b>callback</c-> <a href="#callbackdef-transformercancelcallback"><code><c- g>TransformerCancelCallback</c-></code></a> = <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> (<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a href="#dom-transformercancelcallback-reason"><code><c- g>reason</c-></code></a>);

[Exposed=*]
<c- b>interface</c-> <a href="#transformstreamdefaultcontroller"><code><c- g>TransformStreamDefaultController</c-></code></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double"><c- b>unrestricted</c-> <c- b>double</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="unrestricted double?" href="#ts-default-controller-desired-size"><c- g>desiredSize</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#ts-default-controller-enqueue"><c- g>enqueue</c-></a>(<c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a href="#dom-transformstreamdefaultcontroller-enqueue-chunk-chunk"><code><c- g>chunk</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#ts-default-controller-error"><c- g>error</c-></a>(<c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a href="#dom-transformstreamdefaultcontroller-error-reason-reason"><code><c- g>reason</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#ts-default-controller-terminate"><c- g>terminate</c-></a>();
};

<c- b>dictionary</c-> <a href="#dictdef-queuingstrategy"><code><c- g>QueuingStrategy</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double"><c- b>unrestricted</c-> <c- b>double</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="unrestricted double" href="#dom-queuingstrategy-highwatermark"><c- g>highWaterMark</c-></a>;
  <a data-link-type="idl-name" href="#callbackdef-queuingstrategysize"><c- n>QueuingStrategySize</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="QueuingStrategySize" href="#dom-queuingstrategy-size"><c- g>size</c-></a>;
};

<c- b>callback</c-> <a href="#callbackdef-queuingstrategysize"><code><c- g>QueuingStrategySize</c-></code></a> = <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double"><c- b>unrestricted</c-> <c- b>double</c-></a> (<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a href="#dom-queuingstrategysize-chunk"><code><c- g>chunk</c-></code></a>);

<c- b>dictionary</c-> <a href="#dictdef-queuingstrategyinit"><code><c- g>QueuingStrategyInit</c-></code></a> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double"><c- b>unrestricted</c-> <c- b>double</c-></a> <a data-type="unrestricted double" href="#dom-queuingstrategyinit-highwatermark"><code><c- g>highWaterMark</c-></code></a>;
};

[Exposed=*]
<c- b>interface</c-> <a href="#bytelengthqueuingstrategy"><code><c- g>ByteLengthQueuingStrategy</c-></code></a> {
  <a class="idl-code" data-link-type="constructor" href="#blqs-constructor"><c- g>constructor</c-></a>(<a data-link-type="idl-name" href="#dictdef-queuingstrategyinit"><c- n>QueuingStrategyInit</c-></a> <a href="#dom-bytelengthqueuingstrategy-bytelengthqueuingstrategy-init-init"><code><c- g>init</c-></code></a>);

  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double"><c- b>unrestricted</c-> <c- b>double</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="unrestricted double" href="#blqs-high-water-mark"><c- g>highWaterMark</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#Function"><c- n>Function</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Function" href="#blqs-size"><c- g>size</c-></a>;
};

[Exposed=*]
<c- b>interface</c-> <a href="#countqueuingstrategy"><code><c- g>CountQueuingStrategy</c-></code></a> {
  <a class="idl-code" data-link-type="constructor" href="#cqs-constructor"><c- g>constructor</c-></a>(<a data-link-type="idl-name" href="#dictdef-queuingstrategyinit"><c- n>QueuingStrategyInit</c-></a> <a href="#dom-countqueuingstrategy-countqueuingstrategy-init-init"><code><c- g>init</c-></code></a>);

  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double"><c- b>unrestricted</c-> <c- b>double</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="unrestricted double" href="#cqs-high-water-mark"><c- g>highWaterMark</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#Function"><c- n>Function</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Function" href="#cqs-size"><c- g>size</c-></a>;
};

<c- b>interface</c-> <c- b>mixin</c-> <a href="#generictransformstream"><code><c- g>GenericTransformStream</c-></code></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#readablestream"><c- n>ReadableStream</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="ReadableStream" href="#dom-generictransformstream-readable"><c- g>readable</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#writablestream"><c- n>WritableStream</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="WritableStream" href="#dom-generictransformstream-writable"><c- g>writable</c-></a>;
};

</pre>
    <details class="mdn-anno unpositioned" data-anno-for="blqs-constructor">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ByteLengthQueuingStrategy/ByteLengthQueuingStrategy"
                    title="The ByteLengthQueuingStrategy() constructor creates and returns a ByteLengthQueuingStrategy object instance.">ByteLengthQueuingStrategy/ByteLengthQueuingStrategy</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>65+</span></span><span
                    class="safari yes"><span>Safari</span><span>10.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>52+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-blqs-high-water-mark①">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ByteLengthQueuingStrategy/highWaterMark"
                    title="The read-only ByteLengthQueuingStrategy.highWaterMark property returns the total number of bytes that can be contained in the internal queue before backpressure is applied.">ByteLengthQueuingStrategy/highWaterMark</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>65+</span></span><span
                    class="safari yes"><span>Safari</span><span>10.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>52+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="blqs-size">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ByteLengthQueuingStrategy/size"
                    title="The size() method of the ByteLengthQueuingStrategy interface returns the given chunk&apos;s byteLength property.">ByteLengthQueuingStrategy/size</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>65+</span></span><span
                    class="safari yes"><span>Safari</span><span>10.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>52+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="blqs-class">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ByteLengthQueuingStrategy"
                    title="The ByteLengthQueuingStrategy interface of the Streams API provides a built-in byte length queuing strategy that can be used when constructing streams.">ByteLengthQueuingStrategy</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>65+</span></span><span
                    class="safari yes"><span>Safari</span><span>10.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>52+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>18.0.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-generictransformstream-readable">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/CompressionStream/readable"
                    title="The readable read-only property of the CompressionStream interface returns a ReadableStream.">CompressionStream/readable</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>113+</span></span><span
                    class="safari yes"><span>Safari</span><span>16.4+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>80+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>80+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>17.0.0+</span></span>
            </div>
        </div>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/DecompressionStream/readable"
                    title="The readable read-only property of the DecompressionStream interface returns a ReadableStream.">DecompressionStream/readable</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>113+</span></span><span
                    class="safari yes"><span>Safari</span><span>16.4+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>80+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>80+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>17.0.0+</span></span>
            </div>
        </div>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TextDecoderStream/readable"
                    title="The readable read-only property of the TextDecoderStream interface returns a ReadableStream.">TextDecoderStream/readable</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>105+</span></span><span
                    class="safari yes"><span>Safari</span><span>14.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>71+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.6.0+</span></span>
            </div>
        </div>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TextEncoderStream/readable"
                    title="The readable read-only property of the TextEncoderStream interface returns a ReadableStream.">TextEncoderStream/readable</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>105+</span></span><span
                    class="safari yes"><span>Safari</span><span>14.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>71+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.6.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-generictransformstream-writable">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/CompressionStream/writable"
                    title="The writable read-only property of the CompressionStream interface returns a WritableStream.">CompressionStream/writable</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>113+</span></span><span
                    class="safari yes"><span>Safari</span><span>16.4+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>80+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>80+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>17.0.0+</span></span>
            </div>
        </div>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/DecompressionStream/writable"
                    title="The writable read-only property of the DecompressionStream interface returns a WritableStream.">DecompressionStream/writable</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>113+</span></span><span
                    class="safari yes"><span>Safari</span><span>16.4+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>80+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>80+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>17.0.0+</span></span>
            </div>
        </div>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TextDecoderStream/writable"
                    title="The writable read-only property of the TextDecoderStream interface returns a WritableStream.">TextDecoderStream/writable</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>105+</span></span><span
                    class="safari yes"><span>Safari</span><span>14.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>71+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.6.0+</span></span>
            </div>
        </div>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TextEncoderStream/writable"
                    title="The writable read-only property of the TextEncoderStream interface returns a WritableStream.">TextEncoderStream/writable</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>105+</span></span><span
                    class="safari yes"><span>Safari</span><span>14.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>71+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.6.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-cqs-constructor①">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/CountQueuingStrategy/CountQueuingStrategy"
                    title="The CountQueuingStrategy() constructor creates and returns a CountQueuingStrategy object instance.">CountQueuingStrategy/CountQueuingStrategy</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>65+</span></span><span
                    class="safari yes"><span>Safari</span><span>10.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>52+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-cqs-high-water-mark①">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/CountQueuingStrategy/highWaterMark"
                    title="The read-only CountQueuingStrategy.highWaterMark property returns the total number of chunks that can be contained in the internal queue before backpressure is applied.">CountQueuingStrategy/highWaterMark</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>65+</span></span><span
                    class="safari yes"><span>Safari</span><span>10.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>52+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-cqs-size②">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/CountQueuingStrategy/size"
                    title="The size() method of the CountQueuingStrategy interface always returns 1, so that the total queue size is a count of the number of chunks in the queue.">CountQueuingStrategy/size</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>65+</span></span><span
                    class="safari yes"><span>Safari</span><span>10.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>52+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="cqs-class">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/CountQueuingStrategy"
                    title="The CountQueuingStrategy interface of the Streams API provides a built-in chunk counting queuing strategy that can be used when constructing streams.">CountQueuingStrategy</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>65+</span></span><span
                    class="safari yes"><span>Safari</span><span>10.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>52+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>18.0.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-rbs-controller-byob-request②">
        <summary><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableByteStreamController/byobRequest"
                    title="The byobRequest read-only property of the ReadableByteStreamController interface returns the current BYOB request, or null if there are no pending requests.">ReadableByteStreamController/byobRequest</a>
            </p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>102+</span></span><span
                    class="no safari"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>89+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>89+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-rbs-controller-close①">
        <summary><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableByteStreamController/close"
                    title="The close() method of the ReadableByteStreamController interface closes the associated stream.">ReadableByteStreamController/close</a>
            </p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>102+</span></span><span
                    class="no safari"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>89+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>89+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-rbs-controller-desired-size②">
        <summary><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableByteStreamController/desiredSize"
                    title="The desiredSize read-only property of the ReadableByteStreamController interface returns the number of bytes required to fill the stream&apos;s internal queue to its &quot;desired size&quot;.">ReadableByteStreamController/desiredSize</a>
            </p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>102+</span></span><span
                    class="no safari"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>89+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>89+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-rbs-controller-enqueue①">
        <summary><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableByteStreamController/enqueue"
                    title="The enqueue() method of the ReadableByteStreamController interface enqueues a given chunk on the associated readable byte stream (the chunk is copied into the stream&apos;s internal queues).">ReadableByteStreamController/enqueue</a>
            </p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>102+</span></span><span
                    class="no safari"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>89+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>89+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-rbs-controller-error①">
        <summary><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableByteStreamController/error"
                    title="The error() method of the ReadableByteStreamController interface causes any future interactions with the associated stream to error with the specified reason.">ReadableByteStreamController/error</a>
            </p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>102+</span></span><span
                    class="no safari"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>89+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>89+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="rbs-controller-class">
        <summary><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableByteStreamController"
                    title="The ReadableByteStreamController interface of the Streams API represents a controller for a readable byte stream. It allows control of the state and internal queue of a ReadableStream with an underlying byte source, and enables efficient zero-copy transfer of data from the underlying source to a consumer when the stream&apos;s internal queue is empty.">ReadableByteStreamController</a>
            </p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>102+</span></span><span
                    class="no safari"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>89+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>89+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>18.0.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-rs-constructor⑤">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream/ReadableStream"
                    title="The ReadableStream() constructor creates and returns a readable stream object from the given handlers.">ReadableStream/ReadableStream</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>65+</span></span><span
                    class="safari yes"><span>Safari</span><span>10.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>52+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-rs-cancel③">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream/cancel"
                    title="The cancel() method of the ReadableStream interface returns a Promise that resolves when the stream is canceled.">ReadableStream/cancel</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>65+</span></span><span
                    class="safari yes"><span>Safari</span><span>10.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>43+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>14+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-rs-get-reader⑤">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream/getReader"
                    title="The getReader() method of the ReadableStream interface creates a reader and locks the stream to it. While the stream is locked, no other reader can be acquired until this one is released.">ReadableStream/getReader</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>65+</span></span><span
                    class="safari yes"><span>Safari</span><span>10.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>43+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>14+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-rs-locked②">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream/locked"
                    title="The locked read-only property of the ReadableStream interface returns whether or not the readable stream is locked to a reader.">ReadableStream/locked</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>65+</span></span><span
                    class="safari yes"><span>Safari</span><span>10.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>52+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>14+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-rs-pipe-through②">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream/pipeThrough"
                    title="The pipeThrough() method of the ReadableStream interface provides a chainable way of piping the current stream through a transform stream or any other writable/readable pair.">ReadableStream/pipeThrough</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>102+</span></span><span
                    class="safari yes"><span>Safari</span><span>10.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>59+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-rs-pipe-to④">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream/pipeTo"
                    title="The pipeTo() method of the ReadableStream interface pipes the current ReadableStream to a given WritableStream and returns a Promise that fulfills when the piping process completes successfully, or rejects if any errors were encountered.">ReadableStream/pipeTo</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>100+</span></span><span
                    class="safari yes"><span>Safari</span><span>10.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>59+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-rs-tee②">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream/tee"
                    title="The tee() method of the ReadableStream interface tees the current readable stream, returning a two-element array containing the two resulting branches as new ReadableStream instances.">ReadableStream/tee</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>65+</span></span><span
                    class="safari yes"><span>Safari</span><span>10.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>52+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="rs-transfer">
        <summary><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/https://developer.mozilla.org/en-US/docs/Glossary/Transferable_objects"
                    title="Transferable objects are objects that own resources that can be transferred from one context to another, ensuring that the resources are only available in one context at a time. Following a transfer, the original object is no longer usable; it no longer points to the transferred resource, and any attempt to read or write the object will throw an exception.">/developer.mozilla.org/en-US/docs/Glossary/Transferable_objects</a>
            </p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>103+</span></span><span
                    class="no safari"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>87+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>87+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="no nodejs"><span>Node.js</span><span>None</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="rs-asynciterator">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol/asyncIterator"
                    title="The Symbol.asyncIterator static data property represents the well-known symbol @@asyncIterator. The async iterable protocol looks up this symbol for the method that returns the async iterator for an object. In order for an object to be async iterable, it must have an @@asyncIterator key.">Reference/Global_Objects/Symbol/asyncIterator</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>110+</span></span><span
                    class="no safari"><span>Safari</span><span>None</span></span><span
                    class="chrome no"><span>Chrome</span><span>None</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink no"><span>Edge</span><span>None</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="rs-class">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream"
                    title="The ReadableStream interface of the Streams API represents a readable stream of byte data. The Fetch API offers a concrete instance of a ReadableStream through the body property of a Response object.">ReadableStream</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>65+</span></span><span
                    class="safari yes"><span>Safari</span><span>10.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>43+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>14+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>18.0.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-byob-reader-constructor①">
        <summary><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStreamBYOBReader/ReadableStreamBYOBReader"
                    title="The ReadableStreamBYOBReader() constructor creates and returns a ReadableStreamBYOBReader object instance.">ReadableStreamBYOBReader/ReadableStreamBYOBReader</a>
            </p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>102+</span></span><span
                    class="no safari"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>89+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>89+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-generic-reader-cancel②">
        <summary><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStreamBYOBReader/cancel"
                    title="The cancel() method of the ReadableStreamBYOBReader interface returns a Promise that resolves when the stream is canceled. Calling this method signals a loss of interest in the stream by a consumer.">ReadableStreamBYOBReader/cancel</a>
            </p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>102+</span></span><span
                    class="no safari"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>89+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>89+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStreamDefaultReader/cancel"
                    title="The cancel() method of the ReadableStreamDefaultReader interface returns a Promise that resolves when the stream is canceled. Calling this method signals a loss of interest in the stream by a consumer.">ReadableStreamDefaultReader/cancel</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>65+</span></span><span
                    class="safari yes"><span>Safari</span><span>13.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>78+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-generic-reader-closed②">
        <summary><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStreamBYOBReader/closed"
                    title="The closed read-only property of the ReadableStreamBYOBReader interface returns a Promise that fulfills when the stream closes, or rejects if the stream throws an error or the reader&apos;s lock is released.">ReadableStreamBYOBReader/closed</a>
            </p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>102+</span></span><span
                    class="no safari"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>89+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>89+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStreamDefaultReader/closed"
                    title="The closed read-only property of the ReadableStreamDefaultReader interface returns a Promise that fulfills when the stream closes, or rejects if the stream throws an error or the reader&apos;s lock is released. This property enables you to write code that responds to an end to the streaming process.">ReadableStreamDefaultReader/closed</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>65+</span></span><span
                    class="safari yes"><span>Safari</span><span>13.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>78+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-byob-reader-read③">
        <summary><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStreamBYOBReader/read"
                    title="The read() method of the ReadableStreamBYOBReader interface is used to read data into a view on a user-supplied buffer from an associated readable byte stream. A request for data will be satisfied from the stream&apos;s internal queues if there is any data present. If the stream queues are empty, the request may be supplied as a zero-copy transfer from the underlying byte source.">ReadableStreamBYOBReader/read</a>
            </p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>102+</span></span><span
                    class="no safari"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>89+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>89+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-byob-reader-release-lock②">
        <summary><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStreamBYOBReader/releaseLock"
                    title="The releaseLock() method of the ReadableStreamBYOBReader interface releases the reader&apos;s lock on the stream. After the lock is released, the reader is no longer active.">ReadableStreamBYOBReader/releaseLock</a>
            </p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>102+</span></span><span
                    class="no safari"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>89+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>89+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="byob-reader-class">
        <summary><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStreamBYOBReader"
                    title="The ReadableStreamBYOBReader interface of the Streams API defines a reader for a ReadableStream that supports zero-copy reading from an underlying byte source. It is used for efficient copying from underlying sources where the data is delivered as an &quot;anonymous&quot; sequence of bytes, such as files.">ReadableStreamBYOBReader</a>
            </p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>102+</span></span><span
                    class="no safari"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>89+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>89+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>18.0.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-rs-byob-request-respond①">
        <summary><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStreamBYOBRequest/respond"
                    title="The respond() method of the ReadableStreamBYOBRequest interface is used to signal to the associated readable byte stream that the specified number of bytes were written into the ReadableStreamBYOBRequest.view.">ReadableStreamBYOBRequest/respond</a>
            </p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>102+</span></span><span
                    class="no safari"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>89+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>89+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-rs-byob-request-respond-with-new-view①">
        <summary><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStreamBYOBRequest/respondWithNewView"
                    title="The respondWithNewView() method of the ReadableStreamBYOBRequest interface specifies a new view that the consumer of the associated readable byte stream should write to instead of ReadableStreamBYOBRequest.view.">ReadableStreamBYOBRequest/respondWithNewView</a>
            </p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>102+</span></span><span
                    class="no safari"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>89+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>89+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-rs-byob-request-view①">
        <summary><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStreamBYOBRequest/view"
                    title="The view getter property of the ReadableStreamBYOBRequest interface returns the current view.">ReadableStreamBYOBRequest/view</a>
            </p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>102+</span></span><span
                    class="no safari"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>89+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>89+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="rs-byob-request-class">
        <summary><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStreamBYOBRequest"
                    title="The ReadableStreamBYOBRequest interface of the Streams API represents a &quot;pull request&quot; for data from an underlying source that will made as a zero-copy transfer to a consumer (bypassing the stream&apos;s internal queues).">ReadableStreamBYOBRequest</a>
            </p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>102+</span></span><span
                    class="no safari"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>89+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>89+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>18.0.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-rs-default-controller-close①">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStreamDefaultController/close"
                    title="The close() method of the ReadableStreamDefaultController interface closes the associated stream.">ReadableStreamDefaultController/close</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>65+</span></span><span
                    class="safari yes"><span>Safari</span><span>13.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>80+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>80+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-rs-default-controller-desired-size②">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStreamDefaultController/desiredSize"
                    title="The desiredSize read-only property of the ReadableStreamDefaultController interface returns the desired size required to fill the stream&apos;s internal queue.">ReadableStreamDefaultController/desiredSize</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>65+</span></span><span
                    class="safari yes"><span>Safari</span><span>13.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>80+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>80+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-rs-default-controller-enqueue①">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStreamDefaultController/enqueue"
                    title="The enqueue() method of the ReadableStreamDefaultController interface enqueues a given chunk in the associated stream.">ReadableStreamDefaultController/enqueue</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>65+</span></span><span
                    class="safari yes"><span>Safari</span><span>13.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>80+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>80+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="rs-default-controller-error">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStreamDefaultController/error"
                    title="The error() method of the ReadableStreamDefaultController interface causes any future interactions with the associated stream to error.">ReadableStreamDefaultController/error</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>65+</span></span><span
                    class="safari yes"><span>Safari</span><span>13.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>80+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>80+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="rs-default-controller-class">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStreamDefaultController"
                    title="The ReadableStreamDefaultController interface of the Streams API represents a controller allowing control of a ReadableStream&apos;s state and internal queue. Default controllers are for streams that are not byte streams.">ReadableStreamDefaultController</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>65+</span></span><span
                    class="safari yes"><span>Safari</span><span>13.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>80+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>80+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>18.0.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-default-reader-constructor①">
        <summary><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStreamDefaultReader/ReadableStreamDefaultReader"
                    title="The ReadableStreamDefaultReader() constructor creates and returns a ReadableStreamDefaultReader object instance.">ReadableStreamDefaultReader/ReadableStreamDefaultReader</a>
            </p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>100+</span></span><span
                    class="no safari"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>78+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-default-reader-read①">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStreamDefaultReader/read"
                    title="The read() method of the ReadableStreamDefaultReader interface returns a Promise providing access to the next chunk in the stream&apos;s internal queue.">ReadableStreamDefaultReader/read</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>65+</span></span><span
                    class="safari yes"><span>Safari</span><span>13.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>78+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-default-reader-release-lock②">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStreamDefaultReader/releaseLock"
                    title="The releaseLock() method of the ReadableStreamDefaultReader interface releases the reader&apos;s lock on the stream.">ReadableStreamDefaultReader/releaseLock</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>65+</span></span><span
                    class="safari yes"><span>Safari</span><span>13.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>78+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="default-reader-class">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStreamDefaultReader"
                    title="The ReadableStreamDefaultReader interface of the Streams API represents a default reader that can be used to read stream data supplied from a network (such as a fetch request).">ReadableStreamDefaultReader</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>65+</span></span><span
                    class="safari yes"><span>Safari</span><span>13.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>78+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>18.0.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-ts-constructor④">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TransformStream/TransformStream"
                    title="The TransformStream() constructor creates a new TransformStream object which represents a pair of streams: a WritableStream representing the writable side, and a ReadableStream representing the readable side.">TransformStream/TransformStream</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>102+</span></span><span
                    class="safari yes"><span>Safari</span><span>14.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>67+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-ts-readable②">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TransformStream/readable"
                    title="The readable read-only property of the TransformStream interface returns the ReadableStream instance controlled by this TransformStream.">TransformStream/readable</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>102+</span></span><span
                    class="safari yes"><span>Safari</span><span>14.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>67+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ts-transfer">
        <summary><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/https://developer.mozilla.org/en-US/docs/Glossary/Transferable_objects"
                    title="Transferable objects are objects that own resources that can be transferred from one context to another, ensuring that the resources are only available in one context at a time. Following a transfer, the original object is no longer usable; it no longer points to the transferred resource, and any attempt to read or write the object will throw an exception.">/developer.mozilla.org/en-US/docs/Glossary/Transferable_objects</a>
            </p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>103+</span></span><span
                    class="no safari"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>87+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>87+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="no nodejs"><span>Node.js</span><span>None</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-ts-writable②">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TransformStream/writable"
                    title="The writable read-only property of the TransformStream interface returns the WritableStream instance controlled by this TransformStream.">TransformStream/writable</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>102+</span></span><span
                    class="safari yes"><span>Safari</span><span>14.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>67+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ts-class">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TransformStream"
                    title="The TransformStream interface of the Streams API represents a concrete implementation of the pipe chain transform stream concept.">TransformStream</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>102+</span></span><span
                    class="safari yes"><span>Safari</span><span>14.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>67+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>18.0.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ts-default-controller-desired-size">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TransformStreamDefaultController/desiredSize"
                    title="The desiredSize read-only property of the TransformStreamDefaultController interface returns the desired size to fill the queue of the associated ReadableStream.">TransformStreamDefaultController/desiredSize</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>102+</span></span><span
                    class="safari yes"><span>Safari</span><span>14.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>67+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ts-default-controller-enqueue">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TransformStreamDefaultController/enqueue"
                    title="The enqueue() method of the TransformStreamDefaultController interface enqueues the given chunk in the readable side of the stream.">TransformStreamDefaultController/enqueue</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>102+</span></span><span
                    class="safari yes"><span>Safari</span><span>14.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>67+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ts-default-controller-error">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TransformStreamDefaultController/error"
                    title="The error() method of the TransformStreamDefaultController interface errors both sides of the stream. Any further interactions with it will fail with the given error message, and any chunks in the queue will be discarded.">TransformStreamDefaultController/error</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>102+</span></span><span
                    class="safari yes"><span>Safari</span><span>14.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>67+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ts-default-controller-terminate">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TransformStreamDefaultController/terminate"
                    title="The terminate() method of the TransformStreamDefaultController interface closes the readable side and errors the writable side of the stream.">TransformStreamDefaultController/terminate</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>102+</span></span><span
                    class="safari yes"><span>Safari</span><span>14.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>67+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ts-default-controller-class">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TransformStreamDefaultController"
                    title="The TransformStreamDefaultController interface of the Streams API provides methods to manipulate the associated ReadableStream and WritableStream.">TransformStreamDefaultController</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>102+</span></span><span
                    class="safari yes"><span>Safari</span><span>14.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>67+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-ws-constructor④">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/WritableStream/WritableStream"
                    title="The WritableStream() constructor creates a new WritableStream object instance.">WritableStream/WritableStream</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>100+</span></span><span
                    class="safari yes"><span>Safari</span><span>14.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>59+</span></span>
                <hr>
                <span class="opera yes"><span>Opera</span><span>47+</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android yes"><span>Opera Mobile</span><span>44+</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-ws-abort③">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/WritableStream/abort"
                    title="The abort() method of the WritableStream interface aborts the stream, signaling that the producer can no longer successfully write to the stream and it is to be immediately moved to an error state, with any queued writes discarded.">WritableStream/abort</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>100+</span></span><span
                    class="safari yes"><span>Safari</span><span>14.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>59+</span></span>
                <hr>
                <span class="opera yes"><span>Opera</span><span>47+</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android yes"><span>Opera Mobile</span><span>44+</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-ws-close①">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/WritableStream/close"
                    title="The close() method of the WritableStream interface closes the associated stream. All chunks written before this method is called are sent before the returned promise is fulfilled.">WritableStream/close</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>100+</span></span><span
                    class="safari yes"><span>Safari</span><span>14.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>81+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>81+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-ws-get-writer①">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/WritableStream/getWriter"
                    title="The getWriter() method of the WritableStream interface returns a new instance of WritableStreamDefaultWriter and locks the stream to that instance. While the stream is locked, no other writer can be acquired until this one is released.">WritableStream/getWriter</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>100+</span></span><span
                    class="safari yes"><span>Safari</span><span>14.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>59+</span></span>
                <hr>
                <span class="opera yes"><span>Opera</span><span>47+</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android yes"><span>Opera Mobile</span><span>44+</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-ws-locked②">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/WritableStream/locked"
                    title="The locked read-only property of the WritableStream interface returns a boolean indicating whether the WritableStream is locked to a writer.">WritableStream/locked</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>100+</span></span><span
                    class="safari yes"><span>Safari</span><span>14.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>59+</span></span>
                <hr>
                <span class="opera yes"><span>Opera</span><span>47+</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android yes"><span>Opera Mobile</span><span>44+</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ws-transfer">
        <summary><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/https://developer.mozilla.org/en-US/docs/Glossary/Transferable_objects"
                    title="Transferable objects are objects that own resources that can be transferred from one context to another, ensuring that the resources are only available in one context at a time. Following a transfer, the original object is no longer usable; it no longer points to the transferred resource, and any attempt to read or write the object will throw an exception.">/developer.mozilla.org/en-US/docs/Glossary/Transferable_objects</a>
            </p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>103+</span></span><span
                    class="no safari"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>87+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>87+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="no nodejs"><span>Node.js</span><span>None</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ws-class">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/WritableStream"
                    title="The WritableStream interface of the Streams API provides a standard abstraction for writing streaming data to a destination, known as a sink. This object comes with built-in backpressure and queuing.">WritableStream</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>100+</span></span><span
                    class="safari yes"><span>Safari</span><span>14.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>59+</span></span>
                <hr>
                <span class="opera yes"><span>Opera</span><span>47+</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android yes"><span>Opera Mobile</span><span>44+</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>18.0.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-ws-default-controller-error①">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/WritableStreamDefaultController/error"
                    title="The error() method of the WritableStreamDefaultController interface causes any future interactions with the associated stream to error.">WritableStreamDefaultController/error</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>100+</span></span><span
                    class="safari yes"><span>Safari</span><span>14.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>59+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-ws-default-controller-signal①">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/WritableStreamDefaultController/signal"
                    title="The read-only signal property of the WritableStreamDefaultController interface returns the AbortSignal associated with the controller.">WritableStreamDefaultController/signal</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>100+</span></span><span
                    class="safari yes"><span>Safari</span><span>16.4+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>98+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>98+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ws-default-controller-class">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/WritableStreamDefaultController"
                    title="The WritableStreamDefaultController interface of the Streams API represents a controller allowing control of a WritableStream&apos;s state. When constructing a WritableStream, the underlying sink is given a corresponding WritableStreamDefaultController instance to manipulate.">WritableStreamDefaultController</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>100+</span></span><span
                    class="safari yes"><span>Safari</span><span>14.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>59+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>18.0.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-default-writer-constructor①">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/WritableStreamDefaultWriter/WritableStreamDefaultWriter"
                    title="The WritableStreamDefaultWriter() constructor creates a new WritableStreamDefaultWriter object instance.">WritableStreamDefaultWriter/WritableStreamDefaultWriter</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>100+</span></span><span
                    class="safari yes"><span>Safari</span><span>14.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>78+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-default-writer-abort④">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/WritableStreamDefaultWriter/abort"
                    title="The abort() method of the WritableStreamDefaultWriter interface aborts the stream, signaling that the producer can no longer successfully write to the stream and it is to be immediately moved to an error state, with any queued writes discarded.">WritableStreamDefaultWriter/abort</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>100+</span></span><span
                    class="safari yes"><span>Safari</span><span>14.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>59+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-default-writer-close⑦">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/WritableStreamDefaultWriter/close"
                    title="The close() method of the WritableStreamDefaultWriter interface closes the associated writable stream.">WritableStreamDefaultWriter/close</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>100+</span></span><span
                    class="safari yes"><span>Safari</span><span>14.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>59+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-default-writer-closed②">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/WritableStreamDefaultWriter/closed"
                    title="The closed read-only property of the WritableStreamDefaultWriter interface returns a Promise that fulfills if the stream becomes closed, or rejects if the stream errors or the writer&apos;s lock is released.">WritableStreamDefaultWriter/closed</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>100+</span></span><span
                    class="safari yes"><span>Safari</span><span>14.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>59+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-default-writer-desired-size⑥">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/WritableStreamDefaultWriter/desiredSize"
                    title="The desiredSize read-only property of the WritableStreamDefaultWriter interface returns the desired size required to fill the stream&apos;s internal queue.">WritableStreamDefaultWriter/desiredSize</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>100+</span></span><span
                    class="safari yes"><span>Safari</span><span>14.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>59+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-default-writer-ready⑨">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/WritableStreamDefaultWriter/ready"
                    title="The ready read-only property of the WritableStreamDefaultWriter interface returns a Promise that resolves when the desired size of the stream&apos;s internal queue transitions from non-positive to positive, signaling that it is no longer applying backpressure.">WritableStreamDefaultWriter/ready</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>100+</span></span><span
                    class="safari yes"><span>Safari</span><span>14.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>59+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-default-writer-release-lock②">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/WritableStreamDefaultWriter/releaseLock"
                    title="The releaseLock() method of the WritableStreamDefaultWriter interface releases the writer&apos;s lock on the corresponding stream. After the lock is released, the writer is no longer active. If the associated stream is errored when the lock is released, the writer will appear errored in the same way from now on; otherwise, the writer will appear closed.">WritableStreamDefaultWriter/releaseLock</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>100+</span></span><span
                    class="safari yes"><span>Safari</span><span>14.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>59+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-default-writer-write①②">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/WritableStreamDefaultWriter/write"
                    title="The write() method of the WritableStreamDefaultWriter interface writes a passed chunk of data to a WritableStream and its underlying sink, then returns a Promise that resolves to indicate the success or failure of the write operation.">WritableStreamDefaultWriter/write</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>100+</span></span><span
                    class="safari yes"><span>Safari</span><span>14.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>59+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.5.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="default-writer-class">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/WritableStreamDefaultWriter"
                    title="The WritableStreamDefaultWriter interface of the Streams API is the object returned by WritableStream.getWriter() and once created locks the writer to the WritableStream ensuring that no other streams can write to the underlying sink.">WritableStreamDefaultWriter</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>100+</span></span><span
                    class="safari yes"><span>Safari</span><span>14.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>59+</span></span>
                <hr>
                <span class="no opera"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="no safari_ios"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="no webview_android"><span>Android WebView</span><span>?</span></span><span
                    class="no samsunginternet_android"><span>Samsung Internet</span><span>?</span></span><span
                    class="no opera_android"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>18.0.0+</span></span>
            </div>
        </div>
    </details>
    <script>/* Boilerplate: script-dom-helper */
        "use strict";
        function query(sel) { return document.querySelector(sel); }

        function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

        function iter(obj) {
            if (!obj) return [];
            var it = obj[Symbol.iterator];
            if (it) return it;
            return Object.entries(obj);
        }

        function mk(tagname, attrs, ...children) {
            const el = document.createElement(tagname);
            for (const [k, v] of iter(attrs)) {
                if (k.slice(0, 3) == "_on") {
                    const eventName = k.slice(3);
                    el.addEventListener(eventName, v);
                } else if (k[0] == "_") {
                    // property, not attribute
                    el[k.slice(1)] = v;
                } else {
                    if (v === false || v == null) {
                        continue;
                    } else if (v === true) {
                        el.setAttribute(k, "");
                        continue;
                    } else {
                        el.setAttribute(k, v);
                    }
                }
            }
            append(el, children);
            return el;
        }

        /* Create shortcuts for every known HTML element */
        [
            "a",
            "abbr",
            "acronym",
            "address",
            "applet",
            "area",
            "article",
            "aside",
            "audio",
            "b",
            "base",
            "basefont",
            "bdo",
            "big",
            "blockquote",
            "body",
            "br",
            "button",
            "canvas",
            "caption",
            "center",
            "cite",
            "code",
            "col",
            "colgroup",
            "datalist",
            "dd",
            "del",
            "details",
            "dfn",
            "dialog",
            "div",
            "dl",
            "dt",
            "em",
            "embed",
            "fieldset",
            "figcaption",
            "figure",
            "font",
            "footer",
            "form",
            "frame",
            "frameset",
            "head",
            "header",
            "h1",
            "h2",
            "h3",
            "h4",
            "h5",
            "h6",
            "hr",
            "html",
            "i",
            "iframe",
            "img",
            "input",
            "ins",
            "kbd",
            "label",
            "legend",
            "li",
            "link",
            "main",
            "map",
            "mark",
            "meta",
            "meter",
            "nav",
            "nobr",
            "noscript",
            "object",
            "ol",
            "optgroup",
            "option",
            "output",
            "p",
            "param",
            "pre",
            "progress",
            "q",
            "s",
            "samp",
            "script",
            "section",
            "select",
            "small",
            "source",
            "span",
            "strike",
            "strong",
            "style",
            "sub",
            "summary",
            "sup",
            "table",
            "tbody",
            "td",
            "template",
            "textarea",
            "tfoot",
            "th",
            "thead",
            "time",
            "title",
            "tr",
            "u",
            "ul",
            "var",
            "video",
            "wbr",
            "xmp",
        ].forEach(tagname => {
            mk[tagname] = (...args) => mk(tagname, ...args);
        });

        function* nodesFromChildList(children) {
            for (const child of children.flat(Infinity)) {
                if (child instanceof Node) {
                    yield child;
                } else {
                    yield new Text(child);
                }
            }
        }
        function append(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                if (el instanceof Node) el.appendChild(child);
                else el.push(child);
            }
            return el;
        }

        function insertAfter(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                el.parentNode.insertBefore(child, el.nextSibling);
            }
            return el;
        }

        function clearContents(el) {
            el.innerHTML = "";
            return el;
        }

        function parseHTML(markup) {
            if (markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
                const doc = document.implementation.createHTMLDocument("");
                doc.documentElement.innerHTML = markup;
                return doc;
            } else {
                const el = mk.template({});
                el.innerHTML = markup;
                return el.content;
            }
        }</script>
    <script>/* Boilerplate: script-dfn-panel */
        "use strict";
        {
            let dfnPanelData = {
                "0204d188": { "dfnID": "0204d188", "dfnText": "size", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-size" }, { "id": "ref-for-list-size\u2460" }], "title": "4.9.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-list-size\u2461" }], "title": "4.9.5. Byte stream controllers" }], "url": "https://infra.spec.whatwg.org/#list-size" },
                "03487a52": { "dfnID": "03487a52", "dfnText": "IteratorComplete", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-iteratorcomplete" }], "title": "4.9.1. Working with readable streams" }], "url": "https://tc39.es/ecma262/multipage/abstract-operations.html#sec-iteratorcomplete" },
                "038c4c21": { "dfnID": "038c4c21", "dfnText": "%DataView%", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-dataview-constructor" }], "title": "4.7.2. Internal slots" }, { "refs": [{ "id": "ref-for-sec-dataview-constructor\u2460" }], "title": "4.9.5. Byte stream controllers" }], "url": "https://tc39.es/ecma262/multipage/structured-data.html#sec-dataview-constructor" },
                "069eabcc": { "dfnID": "069eabcc", "dfnText": "IteratorNext", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-iteratornext" }], "title": "4.9.1. Working with readable streams" }], "url": "https://tc39.es/ecma262/multipage/abstract-operations.html#sec-iteratornext" },
                "0800bdf4": { "dfnID": "0800bdf4", "dfnText": "StructuredDeserialize", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-structureddeserialize" }], "title": "8.3. Miscellaneous" }], "url": "https://html.spec.whatwg.org/multipage/structured-data.html#structureddeserialize" },
                "08a12aad": { "dfnID": "08a12aad", "dfnText": "Response", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-response" }], "title": "1. Introduction" }], "url": "https://fetch.spec.whatwg.org/#response" },
                "0a422d04": { "dfnID": "0a422d04", "dfnText": "serializable object", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-serializable-objects" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-serializable-objects\u2460" }], "title": "9.1.2. Reading" }], "url": "https://html.spec.whatwg.org/multipage/structured-data.html#serializable-objects" },
                "0fe84b59": { "dfnID": "0fe84b59", "dfnText": "signal", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-abortcontroller-signal" }], "title": "5.4.3. Methods and properties" }, { "refs": [{ "id": "ref-for-abortcontroller-signal\u2460" }], "title": "9.2.1. Creation and manipulation" }], "url": "https://dom.spec.whatwg.org/#abortcontroller-signal" },
                "1003edc0": { "dfnID": "1003edc0", "dfnText": "detach", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-detach" }, { "id": "ref-for-dfn-detach\u2460" }], "title": "4.5.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-dfn-detach\u2461" }], "title": "9.1.1. Creation and manipulation" }], "url": "https://webidl.spec.whatwg.org/#dfn-detach" },
                "10ce5f6f": { "dfnID": "10ce5f6f", "dfnText": "invoke", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-invoke-a-callback-function" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-invoke-a-callback-function\u2460" }, { "id": "ref-for-invoke-a-callback-function\u2461" }, { "id": "ref-for-invoke-a-callback-function\u2462" }], "title": "4.9.4. Default controllers" }, { "refs": [{ "id": "ref-for-invoke-a-callback-function\u2463" }, { "id": "ref-for-invoke-a-callback-function\u2464" }, { "id": "ref-for-invoke-a-callback-function\u2465" }], "title": "4.9.5. Byte stream controllers" }, { "refs": [{ "id": "ref-for-invoke-a-callback-function\u2466" }], "title": "5.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-invoke-a-callback-function\u2467" }, { "id": "ref-for-invoke-a-callback-function\u2468" }, { "id": "ref-for-invoke-a-callback-function\u2460\u24ea" }, { "id": "ref-for-invoke-a-callback-function\u2460\u2460" }], "title": "5.5.4. Default controllers" }, { "refs": [{ "id": "ref-for-invoke-a-callback-function\u2460\u2461" }, { "id": "ref-for-invoke-a-callback-function\u2460\u2462" }], "title": "6.2.4. Constructor and properties" }, { "refs": [{ "id": "ref-for-invoke-a-callback-function\u2460\u2463" }], "title": "6.3.2. Internal slots" }, { "refs": [{ "id": "ref-for-invoke-a-callback-function\u2460\u2464" }, { "id": "ref-for-invoke-a-callback-function\u2460\u2465" }, { "id": "ref-for-invoke-a-callback-function\u2460\u2466" }], "title": "6.4.2. Default controllers" }, { "refs": [{ "id": "ref-for-invoke-a-callback-function\u2460\u2467" }], "title": "7.4. Abstract operations" }], "url": "https://webidl.spec.whatwg.org/#invoke-a-callback-function" },
                "116848ac": { "dfnID": "116848ac", "dfnText": "reacting", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-perform-steps-once-promise-is-settled" }, { "id": "ref-for-dfn-perform-steps-once-promise-is-settled\u2460" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-dfn-perform-steps-once-promise-is-settled\u2461" }], "title": "4.9.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-dfn-perform-steps-once-promise-is-settled\u2462" }], "title": "6.4.2. Default controllers" }, { "refs": [{ "id": "ref-for-dfn-perform-steps-once-promise-is-settled\u2463" }, { "id": "ref-for-dfn-perform-steps-once-promise-is-settled\u2464" }, { "id": "ref-for-dfn-perform-steps-once-promise-is-settled\u2465" }], "title": "6.4.3. Default sinks" }, { "refs": [{ "id": "ref-for-dfn-perform-steps-once-promise-is-settled\u2466" }], "title": "6.4.4. Default sources" }, { "refs": [{ "id": "ref-for-dfn-perform-steps-once-promise-is-settled\u2467" }], "title": "8.2. Transferable streams" }], "url": "https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled" },
                "11e0b87f": { "dfnID": "11e0b87f", "dfnText": "unrestricted double", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-unrestricted-double" }], "title": "3. Conventions" }, { "refs": [{ "id": "ref-for-idl-unrestricted-double\u2460" }], "title": "4.6.1. Interface definition" }, { "refs": [{ "id": "ref-for-idl-unrestricted-double\u2461" }], "title": "4.7.1. Interface definition" }, { "refs": [{ "id": "ref-for-idl-unrestricted-double\u2462" }], "title": "5.3.1. Interface definition" }, { "refs": [{ "id": "ref-for-idl-unrestricted-double\u2463" }], "title": "6.3.1. Interface definition" }, { "refs": [{ "id": "ref-for-idl-unrestricted-double\u2464" }, { "id": "ref-for-idl-unrestricted-double\u2465" }, { "id": "ref-for-idl-unrestricted-double\u2466" }, { "id": "ref-for-idl-unrestricted-double\u2467" }], "title": "7.1. The queuing strategy API" }, { "refs": [{ "id": "ref-for-idl-unrestricted-double\u2468" }], "title": "7.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-idl-unrestricted-double\u2460\u24ea" }], "title": "7.3.1. Interface definition" }], "url": "https://webidl.spec.whatwg.org/#idl-unrestricted-double" },
                "1243a891": { "dfnID": "1243a891", "dfnText": "exist", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-map-exists" }, { "id": "ref-for-map-exists\u2460" }, { "id": "ref-for-map-exists\u2461" }, { "id": "ref-for-map-exists\u2462" }, { "id": "ref-for-map-exists\u2463" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-map-exists\u2464" }, { "id": "ref-for-map-exists\u2465" }, { "id": "ref-for-map-exists\u2466" }], "title": "4.9.4. Default controllers" }, { "refs": [{ "id": "ref-for-map-exists\u2467" }, { "id": "ref-for-map-exists\u2468" }, { "id": "ref-for-map-exists\u2460\u24ea" }, { "id": "ref-for-map-exists\u2460\u2460" }], "title": "4.9.5. Byte stream controllers" }, { "refs": [{ "id": "ref-for-map-exists\u2460\u2461" }], "title": "5.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-map-exists\u2460\u2462" }, { "id": "ref-for-map-exists\u2460\u2463" }, { "id": "ref-for-map-exists\u2460\u2464" }, { "id": "ref-for-map-exists\u2460\u2465" }], "title": "5.5.4. Default controllers" }, { "refs": [{ "id": "ref-for-map-exists\u2460\u2466" }, { "id": "ref-for-map-exists\u2460\u2467" }, { "id": "ref-for-map-exists\u2460\u2468" }], "title": "6.2.4. Constructor and properties" }, { "refs": [{ "id": "ref-for-map-exists\u2461\u24ea" }, { "id": "ref-for-map-exists\u2461\u2460" }, { "id": "ref-for-map-exists\u2461\u2461" }], "title": "6.4.2. Default controllers" }, { "refs": [{ "id": "ref-for-map-exists\u2461\u2462" }, { "id": "ref-for-map-exists\u2461\u2463" }], "title": "7.4. Abstract operations" }], "url": "https://infra.spec.whatwg.org/#map-exists" },
                "13e76b84": { "dfnID": "13e76b84", "dfnText": "GetV", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-getv" }], "title": "7.2.2. Internal slots" }], "url": "https://tc39.es/ecma262/multipage/abstract-operations.html#sec-getv" },
                "16d07e10": { "dfnID": "16d07e10", "dfnText": "for each", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-iterate" }, { "id": "ref-for-list-iterate\u2460" }], "title": "4.9.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-list-iterate\u2461" }, { "id": "ref-for-list-iterate\u2462" }], "title": "4.9.3. Readers" }, { "refs": [{ "id": "ref-for-list-iterate\u2463" }, { "id": "ref-for-list-iterate\u2464" }, { "id": "ref-for-list-iterate\u2465" }, { "id": "ref-for-list-iterate\u2466" }], "title": "4.9.5. Byte stream controllers" }, { "refs": [{ "id": "ref-for-list-iterate\u2467" }], "title": "5.5.2. Interfacing with controllers" }], "url": "https://infra.spec.whatwg.org/#list-iterate" },
                "1e249f40": { "dfnID": "1e249f40", "dfnText": "TextDecoderStream", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-textdecoderstream" }], "title": "9.3.2. Wrapping into a custom class" }], "url": "https://encoding.spec.whatwg.org/#textdecoderstream" },
                "1f8de32a": { "dfnID": "1f8de32a", "dfnText": "GetIterator", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-getiterator" }], "title": "4.9.1. Working with readable streams" }], "url": "https://tc39.es/ecma262/multipage/abstract-operations.html#sec-getiterator" },
                "2296404c": { "dfnID": "2296404c", "dfnText": "signal abort", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-abortcontroller-signal-abort" }, { "id": "ref-for-abortcontroller-signal-abort\u2460" }], "title": "5.5.1. Working with writable streams" }], "url": "https://dom.spec.whatwg.org/#abortcontroller-signal-abort" },
                "2426fb1e": { "dfnID": "2426fb1e", "dfnText": "%Uint8Array%", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-typedarray-objects\u2461" }], "title": "4.7.4. Internal methods" }, { "refs": [{ "id": "ref-for-sec-typedarray-objects\u2463" }, { "id": "ref-for-sec-typedarray-objects\u2464" }, { "id": "ref-for-sec-typedarray-objects\u2465" }], "title": "4.9.5. Byte stream controllers" }, { "refs": [{ "id": "ref-for-sec-typedarray-objects\u2466" }], "title": "8.3. Miscellaneous" }], "url": "https://tc39.es/ecma262/multipage/indexed-collections.html#sec-typedarray-objects" },
                "24bd7d25": { "dfnID": "24bd7d25", "dfnText": "upon fulfillment", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-upon-fulfillment" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-upon-fulfillment\u2460" }, { "id": "ref-for-upon-fulfillment\u2461" }], "title": "4.9.4. Default controllers" }, { "refs": [{ "id": "ref-for-upon-fulfillment\u2462" }, { "id": "ref-for-upon-fulfillment\u2463" }], "title": "4.9.5. Byte stream controllers" }, { "refs": [{ "id": "ref-for-upon-fulfillment\u2464" }], "title": "5.5.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-upon-fulfillment\u2465" }, { "id": "ref-for-upon-fulfillment\u2466" }, { "id": "ref-for-upon-fulfillment\u2467" }], "title": "5.5.4. Default controllers" }], "url": "https://webidl.spec.whatwg.org/#upon-fulfillment" },
                "25ce4994": { "dfnID": "25ce4994", "dfnText": "transfer steps", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-transfer-steps" }], "title": "4.2.6. Transfer via postMessage()" }, { "refs": [{ "id": "ref-for-transfer-steps\u2460" }], "title": "5.2.5. Transfer via postMessage()" }, { "refs": [{ "id": "ref-for-transfer-steps\u2461" }], "title": "6.2.5. Transfer via postMessage()" }], "url": "https://html.spec.whatwg.org/multipage/structured-data.html#transfer-steps" },
                "28e64574": { "dfnID": "28e64574", "dfnText": "abort reason", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-abortsignal-abort-reason" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-abortsignal-abort-reason\u2460" }, { "id": "ref-for-abortsignal-abort-reason\u2461" }], "title": "9.2.1. Creation and manipulation" }], "url": "https://dom.spec.whatwg.org/#abortsignal-abort-reason" },
                "2ce6f6bb": { "dfnID": "2ce6f6bb", "dfnText": "fetch(input)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-global-fetch" }], "title": "6.1. Using transform streams" }], "url": "https://fetch.spec.whatwg.org/#dom-global-fetch" },
                "2d6ca7ca": { "dfnID": "2d6ca7ca", "dfnText": "write (for ArrayBuffer)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-arraybuffer-write" }], "title": "9.1.1. Creation and manipulation" }], "url": "https://webidl.spec.whatwg.org/#arraybuffer-write" },
                "2e66eaf1": { "dfnID": "2e66eaf1", "dfnText": "AbortController", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-abortcontroller" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-abortcontroller\u2460" }], "title": "5.4.2. Internal slots" }, { "refs": [{ "id": "ref-for-abortcontroller\u2461" }], "title": "5.5.4. Default controllers" }], "url": "https://dom.spec.whatwg.org/#abortcontroller" },
                "2f6db3ee": { "dfnID": "2f6db3ee", "dfnText": "buffer", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-memory-buffer" }], "title": "8.3. Miscellaneous" }], "url": "https://webassembly.github.io/spec/js-api/#dom-memory-buffer" },
                "32596166": { "dfnID": "32596166", "dfnText": "bufferedAmount", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-websocket-bufferedamount" }], "title": "10.6. A writable stream with no backpressure or success signals" }], "url": "https://websockets.spec.whatwg.org/#dom-websocket-bufferedamount" },
                "36333997": { "dfnID": "36333997", "dfnText": "length", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-byte-sequence-length" }], "title": "9.1.1. Creation and manipulation" }], "url": "https://infra.spec.whatwg.org/#byte-sequence-length" },
                "367d928f": { "dfnID": "367d928f", "dfnText": "is an Object", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-object-type" }, { "id": "ref-for-sec-object-type\u2460" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-sec-object-type\u2461" }, { "id": "ref-for-sec-object-type\u2462" }], "title": "8.2. Transferable streams" }, { "refs": [{ "id": "ref-for-sec-object-type\u2463" }, { "id": "ref-for-sec-object-type\u2464" }, { "id": "ref-for-sec-object-type\u2465" }, { "id": "ref-for-sec-object-type\u2466" }], "title": "8.3. Miscellaneous" }], "url": "https://tc39.es/ecma262/#sec-object-type" },
                "3689e92d": { "dfnID": "3689e92d", "dfnText": "CopyDataBlockBytes", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-copydatablockbytes" }], "title": "4.9.5. Byte stream controllers" }], "url": "https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-copydatablockbytes" },
                "38381ead": { "dfnID": "38381ead", "dfnText": "message", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-event-message" }, { "id": "ref-for-event-message\u2460" }], "title": "8.2. Transferable streams" }], "url": "https://html.spec.whatwg.org/multipage/indices.html#event-message" },
                "3b90bdcd": { "dfnID": "3b90bdcd", "dfnText": "resolve", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-resolve" }, { "id": "ref-for-resolve\u2460" }], "title": "4.2.5. Asynchronous iteration" }, { "refs": [{ "id": "ref-for-resolve\u2461" }, { "id": "ref-for-resolve\u2462" }], "title": "4.4.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-resolve\u2463" }, { "id": "ref-for-resolve\u2464" }], "title": "4.5.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-resolve\u2465" }, { "id": "ref-for-resolve\u2466" }, { "id": "ref-for-resolve\u2467" }, { "id": "ref-for-resolve\u2468" }, { "id": "ref-for-resolve\u2460\u24ea" }, { "id": "ref-for-resolve\u2460\u2460" }, { "id": "ref-for-resolve\u2460\u2461" }, { "id": "ref-for-resolve\u2460\u2462" }, { "id": "ref-for-resolve\u2460\u2463" }, { "id": "ref-for-resolve\u2460\u2464" }, { "id": "ref-for-resolve\u2460\u2465" }, { "id": "ref-for-resolve\u2460\u2466" }, { "id": "ref-for-resolve\u2460\u2467" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-resolve\u2460\u2468" }], "title": "4.9.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-resolve\u2461\u24ea" }], "title": "5.5.1. Working with writable streams" }, { "refs": [{ "id": "ref-for-resolve\u2461\u2460" }, { "id": "ref-for-resolve\u2461\u2461" }, { "id": "ref-for-resolve\u2461\u2462" }, { "id": "ref-for-resolve\u2461\u2463" }, { "id": "ref-for-resolve\u2461\u2464" }, { "id": "ref-for-resolve\u2461\u2465" }], "title": "5.5.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-resolve\u2461\u2466" }, { "id": "ref-for-resolve\u2461\u2467" }], "title": "6.2.4. Constructor and properties" }, { "refs": [{ "id": "ref-for-resolve\u2461\u2468" }], "title": "6.4.1. Working with transform streams" }, { "refs": [{ "id": "ref-for-resolve\u2462\u24ea" }, { "id": "ref-for-resolve\u2462\u2460" }], "title": "6.4.3. Default sinks" }, { "refs": [{ "id": "ref-for-resolve\u2462\u2461" }], "title": "6.4.4. Default sources" }, { "refs": [{ "id": "ref-for-resolve\u2462\u2462" }, { "id": "ref-for-resolve\u2462\u2463" }], "title": "8.2. Transferable streams" }], "url": "https://webidl.spec.whatwg.org/#resolve" },
                "3de9e659": { "dfnID": "3de9e659", "dfnText": "byte sequence", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-byte-sequence" }, { "id": "ref-for-byte-sequence\u2460" }, { "id": "ref-for-byte-sequence\u2461" }], "title": "9.1.1. Creation and manipulation" }, { "refs": [{ "id": "ref-for-byte-sequence\u2462" }, { "id": "ref-for-byte-sequence\u2463" }], "title": "9.1.2. Reading" }], "url": "https://infra.spec.whatwg.org/#byte-sequence" },
                "3ee2d4d2": { "dfnID": "3ee2d4d2", "dfnText": "abstract operation", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-algorithm-conventions-abstract-operations" }], "title": "3. Conventions" }], "url": "https://tc39.es/ecma262/#sec-algorithm-conventions-abstract-operations" },
                "4013a022": { "dfnID": "4013a022", "dfnText": "this", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-this" }, { "id": "ref-for-this\u2460" }, { "id": "ref-for-this\u2461" }, { "id": "ref-for-this\u2462" }, { "id": "ref-for-this\u2463" }, { "id": "ref-for-this\u2464" }, { "id": "ref-for-this\u2465" }, { "id": "ref-for-this\u2466" }, { "id": "ref-for-this\u2467" }, { "id": "ref-for-this\u2468" }, { "id": "ref-for-this\u2460\u24ea" }, { "id": "ref-for-this\u2460\u2460" }, { "id": "ref-for-this\u2460\u2461" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-this\u2460\u2462" }], "title": "4.2.5. Asynchronous iteration" }, { "refs": [{ "id": "ref-for-this\u2460\u2463" }, { "id": "ref-for-this\u2460\u2464" }, { "id": "ref-for-this\u2460\u2465" }], "title": "4.3.3. Methods and properties" }, { "refs": [{ "id": "ref-for-this\u2460\u2466" }, { "id": "ref-for-this\u2460\u2467" }, { "id": "ref-for-this\u2460\u2468" }, { "id": "ref-for-this\u2461\u24ea" }, { "id": "ref-for-this\u2461\u2460" }], "title": "4.4.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-this\u2461\u2461" }, { "id": "ref-for-this\u2461\u2462" }, { "id": "ref-for-this\u2461\u2463" }, { "id": "ref-for-this\u2461\u2464" }, { "id": "ref-for-this\u2461\u2465" }], "title": "4.5.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-this\u2461\u2466" }, { "id": "ref-for-this\u2461\u2467" }, { "id": "ref-for-this\u2461\u2468" }, { "id": "ref-for-this\u2462\u24ea" }, { "id": "ref-for-this\u2462\u2460" }, { "id": "ref-for-this\u2462\u2461" }], "title": "4.6.3. Methods and properties" }, { "refs": [{ "id": "ref-for-this\u2462\u2462" }, { "id": "ref-for-this\u2462\u2463" }, { "id": "ref-for-this\u2462\u2464" }, { "id": "ref-for-this\u2462\u2465" }, { "id": "ref-for-this\u2462\u2466" }, { "id": "ref-for-this\u2462\u2467" }, { "id": "ref-for-this\u2462\u2468" }, { "id": "ref-for-this\u2463\u24ea" }, { "id": "ref-for-this\u2463\u2460" }, { "id": "ref-for-this\u2463\u2461" }, { "id": "ref-for-this\u2463\u2462" }], "title": "4.6.4. Internal methods" }, { "refs": [{ "id": "ref-for-this\u2463\u2463" }, { "id": "ref-for-this\u2463\u2464" }, { "id": "ref-for-this\u2463\u2465" }, { "id": "ref-for-this\u2463\u2466" }, { "id": "ref-for-this\u2463\u2467" }, { "id": "ref-for-this\u2463\u2468" }, { "id": "ref-for-this\u2464\u24ea" }, { "id": "ref-for-this\u2464\u2460" }, { "id": "ref-for-this\u2464\u2461" }], "title": "4.7.3. Methods and properties" }, { "refs": [{ "id": "ref-for-this\u2464\u2462" }, { "id": "ref-for-this\u2464\u2463" }, { "id": "ref-for-this\u2464\u2464" }, { "id": "ref-for-this\u2464\u2465" }, { "id": "ref-for-this\u2464\u2466" }, { "id": "ref-for-this\u2464\u2467" }, { "id": "ref-for-this\u2464\u2468" }, { "id": "ref-for-this\u2465\u24ea" }, { "id": "ref-for-this\u2465\u2460" }, { "id": "ref-for-this\u2465\u2461" }, { "id": "ref-for-this\u2465\u2462" }, { "id": "ref-for-this\u2465\u2463" }, { "id": "ref-for-this\u2465\u2464" }], "title": "4.7.4. Internal methods" }, { "refs": [{ "id": "ref-for-this\u2465\u2465" }, { "id": "ref-for-this\u2465\u2466" }, { "id": "ref-for-this\u2465\u2467" }, { "id": "ref-for-this\u2465\u2468" }, { "id": "ref-for-this\u2466\u24ea" }, { "id": "ref-for-this\u2466\u2460" }, { "id": "ref-for-this\u2466\u2461" }, { "id": "ref-for-this\u2466\u2462" }], "title": "4.8.3. Methods and properties" }, { "refs": [{ "id": "ref-for-this\u2466\u2463" }, { "id": "ref-for-this\u2466\u2464" }, { "id": "ref-for-this\u2466\u2465" }, { "id": "ref-for-this\u2466\u2466" }, { "id": "ref-for-this\u2466\u2467" }, { "id": "ref-for-this\u2466\u2468" }, { "id": "ref-for-this\u2467\u24ea" }, { "id": "ref-for-this\u2467\u2460" }, { "id": "ref-for-this\u2467\u2461" }], "title": "5.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-this\u2467\u2462" }, { "id": "ref-for-this\u2467\u2463" }, { "id": "ref-for-this\u2467\u2464" }, { "id": "ref-for-this\u2467\u2465" }, { "id": "ref-for-this\u2467\u2466" }, { "id": "ref-for-this\u2467\u2467" }, { "id": "ref-for-this\u2467\u2468" }, { "id": "ref-for-this\u2468\u24ea" }, { "id": "ref-for-this\u2468\u2460" }, { "id": "ref-for-this\u2468\u2461" }, { "id": "ref-for-this\u2468\u2462" }, { "id": "ref-for-this\u2468\u2463" }, { "id": "ref-for-this\u2468\u2464" }], "title": "5.3.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-this\u2468\u2465" }, { "id": "ref-for-this\u2468\u2466" }, { "id": "ref-for-this\u2468\u2467" }], "title": "5.4.3. Methods and properties" }, { "refs": [{ "id": "ref-for-this\u2468\u2468" }, { "id": "ref-for-this\u2460\u24ea\u24ea" }, { "id": "ref-for-this\u2460\u24ea\u2460" }], "title": "5.4.4. Internal methods" }, { "refs": [{ "id": "ref-for-this\u2460\u24ea\u2461" }, { "id": "ref-for-this\u2460\u24ea\u2462" }, { "id": "ref-for-this\u2460\u24ea\u2463" }, { "id": "ref-for-this\u2460\u24ea\u2464" }, { "id": "ref-for-this\u2460\u24ea\u2465" }], "title": "6.2.4. Constructor and properties" }, { "refs": [{ "id": "ref-for-this\u2460\u24ea\u2466" }, { "id": "ref-for-this\u2460\u24ea\u2467" }, { "id": "ref-for-this\u2460\u24ea\u2468" }, { "id": "ref-for-this\u2460\u2460\u24ea" }], "title": "6.3.3. Methods and properties" }, { "refs": [{ "id": "ref-for-this\u2460\u2460\u2460" }, { "id": "ref-for-this\u2460\u2460\u2461" }, { "id": "ref-for-this\u2460\u2460\u2462" }], "title": "7.2.3. Constructor and properties" }, { "refs": [{ "id": "ref-for-this\u2460\u2460\u2463" }, { "id": "ref-for-this\u2460\u2460\u2464" }, { "id": "ref-for-this\u2460\u2460\u2465" }], "title": "7.3.3. Constructor and properties" }, { "refs": [{ "id": "ref-for-this\u2460\u2460\u2466" }], "title": "9.1.1. Creation and manipulation" }, { "refs": [{ "id": "ref-for-this\u2460\u2460\u2467" }], "title": "9.2.1. Creation and manipulation" }, { "refs": [{ "id": "ref-for-this\u2460\u2460\u2468" }], "title": "9.3.1. Creation and manipulation" }, { "refs": [{ "id": "ref-for-this\u2460\u2461\u24ea" }, { "id": "ref-for-this\u2460\u2461\u2460" }], "title": "9.3.2. Wrapping into a custom class" }], "url": "https://webidl.spec.whatwg.org/#this" },
                "444d7f6a": { "dfnID": "444d7f6a", "dfnText": "Transferable", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-transferable" }], "title": "4.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-transferable\u2460" }], "title": "5.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-transferable\u2461" }], "title": "6.2.1. Interface definition" }], "url": "https://html.spec.whatwg.org/multipage/structured-data.html#transferable" },
                "495737df": { "dfnID": "495737df", "dfnText": "byte length", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-buffersource-byte-length" }, { "id": "ref-for-buffersource-byte-length\u2460" }], "title": "9.1.1. Creation and manipulation" }], "url": "https://webidl.spec.whatwg.org/#buffersource-byte-length" },
                "4a5e45d1": { "dfnID": "4a5e45d1", "dfnText": "message port post message steps", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-message-port-post-message-steps" }, { "id": "ref-for-message-port-post-message-steps\u2460" }], "title": "8.2. Transferable streams" }], "url": "https://html.spec.whatwg.org/multipage/web-messaging.html#message-port-post-message-steps" },
                "4ae6d1ad": { "dfnID": "4ae6d1ad", "dfnText": "getting a promise to wait for all", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-waiting-for-all-promise" }], "title": "4.9.1. Working with readable streams" }], "url": "https://webidl.spec.whatwg.org/#waiting-for-all-promise" },
                "4b6086d7": { "dfnID": "4b6086d7", "dfnText": "global object", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-global-object" }], "title": "7.2.2. Internal slots" }, { "refs": [{ "id": "ref-for-global-object\u2460" }], "title": "7.3.2. Internal slots" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#global-object" },
                "4c6c6f05": { "dfnID": "4c6c6f05", "dfnText": "CreateArrayFromList", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-createarrayfromlist" }, { "id": "ref-for-sec-createarrayfromlist\u2460" }, { "id": "ref-for-sec-createarrayfromlist\u2461" }, { "id": "ref-for-sec-createarrayfromlist\u2462" }], "title": "4.9.1. Working with readable streams" }], "url": "https://tc39.es/ecma262/multipage/abstract-operations.html#sec-createarrayfromlist" },
                "53079ce3": { "dfnID": "53079ce3", "dfnText": "queue a microtask", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-queue-a-microtask" }, { "id": "ref-for-queue-a-microtask\u2460" }, { "id": "ref-for-queue-a-microtask\u2461" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-queue-a-microtask\u2462" }], "title": "9.1.2. Reading" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-microtask" },
                "53275e46": { "dfnID": "53275e46", "dfnText": "append (for list)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-append" }], "title": "4.7.4. Internal methods" }, { "refs": [{ "id": "ref-for-list-append\u2460" }, { "id": "ref-for-list-append\u2461" }], "title": "4.9.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-list-append\u2462" }, { "id": "ref-for-list-append\u2463" }, { "id": "ref-for-list-append\u2464" }, { "id": "ref-for-list-append\u2465" }, { "id": "ref-for-list-append\u2466" }], "title": "4.9.5. Byte stream controllers" }, { "refs": [{ "id": "ref-for-list-append\u2467" }], "title": "5.5.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-list-append\u2468" }], "title": "8.1. Queue-with-sizes" }], "url": "https://infra.spec.whatwg.org/#list-append" },
                "535dd335": { "dfnID": "535dd335", "dfnText": "aborted", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-abortsignal-aborted" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-abortsignal-aborted\u2460" }, { "id": "ref-for-abortsignal-aborted\u2461" }], "title": "9.2.1. Creation and manipulation" }], "url": "https://dom.spec.whatwg.org/#abortsignal-aborted" },
                "5372cca8": { "dfnID": "5372cca8", "dfnText": "boolean", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-boolean" }, { "id": "ref-for-idl-boolean\u2460" }, { "id": "ref-for-idl-boolean\u2461" }, { "id": "ref-for-idl-boolean\u2462" }, { "id": "ref-for-idl-boolean\u2463" }], "title": "4.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-idl-boolean\u2464" }], "title": "4.4.1. Interface definition" }, { "refs": [{ "id": "ref-for-idl-boolean\u2465" }], "title": "5.2.1. Interface definition" }], "url": "https://webidl.spec.whatwg.org/#idl-boolean" },
                "56f81a8e": { "dfnID": "56f81a8e", "dfnText": "new", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-new" }, { "id": "ref-for-new\u2460" }, { "id": "ref-for-new\u2461" }], "title": "4.2.6. Transfer via postMessage()" }, { "refs": [{ "id": "ref-for-new\u2462" }, { "id": "ref-for-new\u2463" }, { "id": "ref-for-new\u2464" }, { "id": "ref-for-new\u2465" }, { "id": "ref-for-new\u2466" }, { "id": "ref-for-new\u2467" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-new\u2468" }], "title": "4.9.4. Default controllers" }, { "refs": [{ "id": "ref-for-new\u2460\u24ea" }, { "id": "ref-for-new\u2460\u2460" }], "title": "4.9.5. Byte stream controllers" }, { "refs": [{ "id": "ref-for-new\u2460\u2461" }, { "id": "ref-for-new\u2460\u2462" }, { "id": "ref-for-new\u2460\u2463" }], "title": "5.2.5. Transfer via postMessage()" }, { "refs": [{ "id": "ref-for-new\u2460\u2464" }, { "id": "ref-for-new\u2460\u2465" }, { "id": "ref-for-new\u2460\u2466" }], "title": "5.5.1. Working with writable streams" }, { "refs": [{ "id": "ref-for-new\u2460\u2467" }], "title": "5.5.4. Default controllers" }, { "refs": [{ "id": "ref-for-new\u2460\u2468" }], "title": "6.4.2. Default controllers" }, { "refs": [{ "id": "ref-for-new\u2461\u24ea" }, { "id": "ref-for-new\u2461\u2460" }], "title": "8.2. Transferable streams" }, { "refs": [{ "id": "ref-for-new\u2461\u2461" }, { "id": "ref-for-new\u2461\u2462" }, { "id": "ref-for-new\u2461\u2463" }, { "id": "ref-for-new\u2461\u2464" }, { "id": "ref-for-new\u2461\u2465" }], "title": "9.1.1. Creation and manipulation" }, { "refs": [{ "id": "ref-for-new\u2461\u2466" }, { "id": "ref-for-new\u2461\u2467" }, { "id": "ref-for-new\u2461\u2468" }], "title": "9.2.1. Creation and manipulation" }, { "refs": [{ "id": "ref-for-new\u2462\u24ea" }, { "id": "ref-for-new\u2462\u2460" }, { "id": "ref-for-new\u2462\u2461" }, { "id": "ref-for-new\u2462\u2462" }], "title": "9.3.1. Creation and manipulation" }, { "refs": [{ "id": "ref-for-new\u2462\u2463" }], "title": "9.3.2. Wrapping into a custom class" }], "url": "https://webidl.spec.whatwg.org/#new" },
                "59243858": { "dfnID": "59243858", "dfnText": "constructor steps", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-constructor-steps" }], "title": "9.3.2. Wrapping into a custom class" }], "url": "https://webidl.spec.whatwg.org/#constructor-steps" },
                "5991ccfb": { "dfnID": "5991ccfb", "dfnText": "relevant realm", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-relevant-realm" }], "title": "7.2.2. Internal slots" }, { "refs": [{ "id": "ref-for-concept-relevant-realm\u2460" }], "title": "7.3.2. Internal slots" }, { "refs": [{ "id": "ref-for-concept-relevant-realm\u2461" }], "title": "9.1.1. Creation and manipulation" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" },
                "5b7339ce": { "dfnID": "5b7339ce", "dfnText": "GetMethod", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-getmethod" }], "title": "4.9.1. Working with readable streams" }], "url": "https://tc39.es/ecma262/multipage/abstract-operations.html#sec-getmethod" },
                "5f90bbfb": { "dfnID": "5f90bbfb", "dfnText": "undefined", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-undefined" }, { "id": "ref-for-idl-undefined\u2460" }], "title": "4.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-idl-undefined\u2461" }, { "id": "ref-for-idl-undefined\u2462" }], "title": "4.2.3. The underlying source API" }, { "refs": [{ "id": "ref-for-idl-undefined\u2463" }, { "id": "ref-for-idl-undefined\u2464" }], "title": "4.3.1. Mixin definition" }, { "refs": [{ "id": "ref-for-idl-undefined\u2465" }], "title": "4.4.1. Interface definition" }, { "refs": [{ "id": "ref-for-idl-undefined\u2466" }], "title": "4.5.1. Interface definition" }, { "refs": [{ "id": "ref-for-idl-undefined\u2467" }, { "id": "ref-for-idl-undefined\u2468" }, { "id": "ref-for-idl-undefined\u2460\u24ea" }], "title": "4.6.1. Interface definition" }, { "refs": [{ "id": "ref-for-idl-undefined\u2460\u2460" }, { "id": "ref-for-idl-undefined\u2460\u2461" }, { "id": "ref-for-idl-undefined\u2460\u2462" }], "title": "4.7.1. Interface definition" }, { "refs": [{ "id": "ref-for-idl-undefined\u2460\u2463" }, { "id": "ref-for-idl-undefined\u2460\u2464" }], "title": "4.8.1. Interface definition" }, { "refs": [{ "id": "ref-for-idl-undefined\u2460\u2465" }, { "id": "ref-for-idl-undefined\u2460\u2466" }], "title": "5.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-idl-undefined\u2460\u2467" }, { "id": "ref-for-idl-undefined\u2460\u2468" }, { "id": "ref-for-idl-undefined\u2461\u24ea" }], "title": "5.2.3. The underlying sink API" }, { "refs": [{ "id": "ref-for-idl-undefined\u2461\u2460" }, { "id": "ref-for-idl-undefined\u2461\u2461" }, { "id": "ref-for-idl-undefined\u2461\u2462" }, { "id": "ref-for-idl-undefined\u2461\u2463" }, { "id": "ref-for-idl-undefined\u2461\u2464" }, { "id": "ref-for-idl-undefined\u2461\u2465" }], "title": "5.3.1. Interface definition" }, { "refs": [{ "id": "ref-for-idl-undefined\u2461\u2466" }], "title": "5.4.1. Interface definition" }, { "refs": [{ "id": "ref-for-idl-undefined\u2461\u2467" }, { "id": "ref-for-idl-undefined\u2461\u2468" }, { "id": "ref-for-idl-undefined\u2462\u24ea" }], "title": "6.2.3. The transformer API" }, { "refs": [{ "id": "ref-for-idl-undefined\u2462\u2460" }, { "id": "ref-for-idl-undefined\u2462\u2461" }, { "id": "ref-for-idl-undefined\u2462\u2462" }], "title": "6.3.1. Interface definition" }], "url": "https://webidl.spec.whatwg.org/#idl-undefined" },
                "5f9c7266": { "dfnID": "5f9c7266", "dfnText": "Number", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-number-objects" }], "title": "8.1. Queue-with-sizes" }], "url": "https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects" },
                "649608b9": { "dfnID": "649608b9", "dfnText": "list", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list" }], "title": "4.4.2. Internal slots" }, { "refs": [{ "id": "ref-for-list\u2460" }], "title": "4.5.2. Internal slots" }, { "refs": [{ "id": "ref-for-list\u2461" }], "title": "4.6.2. Internal slots" }, { "refs": [{ "id": "ref-for-list\u2462" }, { "id": "ref-for-list\u2463" }], "title": "4.7.2. Internal slots" }, { "refs": [{ "id": "ref-for-list\u2464" }], "title": "4.7.4. Internal methods" }, { "refs": [{ "id": "ref-for-list\u2465" }, { "id": "ref-for-list\u2466" }], "title": "4.9.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-list\u2467" }, { "id": "ref-for-list\u2468" }, { "id": "ref-for-list\u2460\u24ea" }, { "id": "ref-for-list\u2460\u2460" }], "title": "4.9.3. Readers" }, { "refs": [{ "id": "ref-for-list\u2460\u2461" }, { "id": "ref-for-list\u2460\u2462" }, { "id": "ref-for-list\u2460\u2463" }, { "id": "ref-for-list\u2460\u2464" }], "title": "4.9.5. Byte stream controllers" }, { "refs": [{ "id": "ref-for-list\u2460\u2465" }], "title": "5.2.2. Internal slots" }, { "refs": [{ "id": "ref-for-list\u2460\u2466" }], "title": "5.4.2. Internal slots" }, { "refs": [{ "id": "ref-for-list\u2460\u2467" }], "title": "5.5.1. Working with writable streams" }, { "refs": [{ "id": "ref-for-list\u2460\u2468" }], "title": "5.5.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-list\u2461\u24ea" }, { "id": "ref-for-list\u2461\u2460" }], "title": "8.1. Queue-with-sizes" }], "url": "https://infra.spec.whatwg.org/#list" },
                "65342bb9": { "dfnID": "65342bb9", "dfnText": "SameValue", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-samevalue" }], "title": "8.3. Miscellaneous" }], "url": "https://tc39.es/ecma262/multipage/abstract-operations.html#sec-samevalue" },
                "6728fdee": { "dfnID": "6728fdee", "dfnText": "platform object", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-platform-object" }], "title": "3. Conventions" }, { "refs": [{ "id": "ref-for-dfn-platform-object\u2460" }], "title": "9.3.2. Wrapping into a custom class" }], "url": "https://webidl.spec.whatwg.org/#dfn-platform-object" },
                "68316ab6": { "dfnID": "68316ab6", "dfnText": "is not an Object", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-object-type" }, { "id": "ref-for-sec-object-type\u2460" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-sec-object-type\u2461" }, { "id": "ref-for-sec-object-type\u2462" }], "title": "8.2. Transferable streams" }, { "refs": [{ "id": "ref-for-sec-object-type\u2463" }, { "id": "ref-for-sec-object-type\u2464" }, { "id": "ref-for-sec-object-type\u2465" }, { "id": "ref-for-sec-object-type\u2466" }], "title": "8.3. Miscellaneous" }], "url": "https://tc39.es/ecma262/#sec-object-type" },
                "6875767f": { "dfnID": "6875767f", "dfnText": "map", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-array.prototype.map" }], "title": "10.10. A transform stream created from a sync mapper function" }], "url": "https://tc39.es/ecma262/#sec-array.prototype.map" },
                "68d0559e": { "dfnID": "68d0559e", "dfnText": "IteratorValue", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-iteratorvalue" }], "title": "4.9.1. Working with readable streams" }], "url": "https://tc39.es/ecma262/multipage/abstract-operations.html#sec-iteratorvalue" },
                "692595fe": { "dfnID": "692595fe", "dfnText": "ordered set", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-ordered-set" }], "title": "4.9.1. Working with readable streams" }], "url": "https://infra.spec.whatwg.org/#ordered-set" },
                "69c80471": { "dfnID": "69c80471", "dfnText": "transfer", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-arraybuffer-transfer" }], "title": "9.1.1. Creation and manipulation" }, { "refs": [{ "id": "ref-for-arraybuffer-transfer\u2460" }], "title": "9.2.1. Creation and manipulation" }, { "refs": [{ "id": "ref-for-arraybuffer-transfer\u2461" }], "title": "9.3.1. Creation and manipulation" }], "url": "https://webidl.spec.whatwg.org/#arraybuffer-transfer" },
                "6aa60cdd": { "dfnID": "6aa60cdd", "dfnText": "transfer-receiving steps", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-transfer-receiving-steps" }], "title": "4.2.6. Transfer via postMessage()" }, { "refs": [{ "id": "ref-for-transfer-receiving-steps\u2460" }], "title": "5.2.5. Transfer via postMessage()" }, { "refs": [{ "id": "ref-for-transfer-receiving-steps\u2461" }], "title": "6.2.5. Transfer via postMessage()" }], "url": "https://html.spec.whatwg.org/multipage/structured-data.html#transfer-receiving-steps" },
                "6b373a4a": { "dfnID": "6b373a4a", "dfnText": "messageerror", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-event-messageerror" }, { "id": "ref-for-event-messageerror\u2460" }], "title": "8.2. Transferable streams" }], "url": "https://html.spec.whatwg.org/multipage/indices.html#event-messageerror" },
                "6b815fdd": { "dfnID": "6b815fdd", "dfnText": "is empty", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-is-empty" }], "title": "4.2.5. Asynchronous iteration" }, { "refs": [{ "id": "ref-for-list-is-empty\u2460" }, { "id": "ref-for-list-is-empty\u2461" }], "title": "4.6.4. Internal methods" }, { "refs": [{ "id": "ref-for-list-is-empty\u2462" }], "title": "4.7.4. Internal methods" }, { "refs": [{ "id": "ref-for-list-is-empty\u2463" }, { "id": "ref-for-list-is-empty\u2464" }, { "id": "ref-for-list-is-empty\u2465" }, { "id": "ref-for-list-is-empty\u2466" }, { "id": "ref-for-list-is-empty\u2467" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-list-is-empty\u2468" }, { "id": "ref-for-list-is-empty\u2460\u24ea" }], "title": "4.9.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-list-is-empty\u2460\u2460" }], "title": "4.9.4. Default controllers" }, { "refs": [{ "id": "ref-for-list-is-empty\u2460\u2461" }, { "id": "ref-for-list-is-empty\u2460\u2462" }, { "id": "ref-for-list-is-empty\u2460\u2463" }, { "id": "ref-for-list-is-empty\u2460\u2464" }, { "id": "ref-for-list-is-empty\u2460\u2465" }, { "id": "ref-for-list-is-empty\u2460\u2466" }, { "id": "ref-for-list-is-empty\u2460\u2467" }, { "id": "ref-for-list-is-empty\u2460\u2468" }, { "id": "ref-for-list-is-empty\u2461\u24ea" }], "title": "4.9.5. Byte stream controllers" }, { "refs": [{ "id": "ref-for-list-is-empty\u2461\u2460" }, { "id": "ref-for-list-is-empty\u2461\u2461" }], "title": "8.1. Queue-with-sizes" }, { "refs": [{ "id": "ref-for-list-is-empty\u2461\u2462" }], "title": "9.1.1. Creation and manipulation" }], "url": "https://infra.spec.whatwg.org/#list-is-empty" },
                "6c6b1005": { "dfnID": "6c6b1005", "dfnText": "any", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-any" }, { "id": "ref-for-idl-any\u2460" }, { "id": "ref-for-idl-any\u2461" }], "title": "4.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-idl-any\u2462" }, { "id": "ref-for-idl-any\u2463" }], "title": "4.2.3. The underlying source API" }, { "refs": [{ "id": "ref-for-idl-any\u2464" }], "title": "4.3.1. Mixin definition" }, { "refs": [{ "id": "ref-for-idl-any\u2465" }], "title": "4.4.1. Interface definition" }, { "refs": [{ "id": "ref-for-idl-any\u2466" }, { "id": "ref-for-idl-any\u2467" }], "title": "4.6.1. Interface definition" }, { "refs": [{ "id": "ref-for-idl-any\u2468" }], "title": "4.7.1. Interface definition" }, { "refs": [{ "id": "ref-for-idl-any\u2460\u24ea" }], "title": "5.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-idl-any\u2460\u2460" }, { "id": "ref-for-idl-any\u2460\u2461" }, { "id": "ref-for-idl-any\u2460\u2462" }, { "id": "ref-for-idl-any\u2460\u2463" }, { "id": "ref-for-idl-any\u2460\u2464" }], "title": "5.2.3. The underlying sink API" }, { "refs": [{ "id": "ref-for-idl-any\u2460\u2465" }, { "id": "ref-for-idl-any\u2460\u2466" }], "title": "5.3.1. Interface definition" }, { "refs": [{ "id": "ref-for-idl-any\u2460\u2467" }], "title": "5.4.1. Interface definition" }, { "refs": [{ "id": "ref-for-idl-any\u2460\u2468" }, { "id": "ref-for-idl-any\u2461\u24ea" }, { "id": "ref-for-idl-any\u2461\u2460" }, { "id": "ref-for-idl-any\u2461\u2461" }, { "id": "ref-for-idl-any\u2461\u2462" }, { "id": "ref-for-idl-any\u2461\u2463" }, { "id": "ref-for-idl-any\u2461\u2464" }], "title": "6.2.3. The transformer API" }, { "refs": [{ "id": "ref-for-idl-any\u2461\u2465" }, { "id": "ref-for-idl-any\u2461\u2466" }], "title": "6.3.1. Interface definition" }, { "refs": [{ "id": "ref-for-idl-any\u2461\u2467" }], "title": "7.1. The queuing strategy API" }], "url": "https://webidl.spec.whatwg.org/#idl-any" },
                "6c9ab516": { "dfnID": "6c9ab516", "dfnText": "ArrayBufferView", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-ArrayBufferView" }], "title": "4.5.1. Interface definition" }, { "refs": [{ "id": "ref-for-ArrayBufferView\u2460" }], "title": "4.7.1. Interface definition" }, { "refs": [{ "id": "ref-for-ArrayBufferView\u2461" }], "title": "4.7.3. Methods and properties" }, { "refs": [{ "id": "ref-for-ArrayBufferView\u2462" }, { "id": "ref-for-ArrayBufferView\u2463" }], "title": "4.8.1. Interface definition" }, { "refs": [{ "id": "ref-for-ArrayBufferView\u2464" }], "title": "4.8.3. Methods and properties" }, { "refs": [{ "id": "ref-for-ArrayBufferView\u2465" }, { "id": "ref-for-ArrayBufferView\u2466" }, { "id": "ref-for-ArrayBufferView\u2467" }], "title": "9.1.1. Creation and manipulation" }], "url": "https://webidl.spec.whatwg.org/#ArrayBufferView" },
                "6df10f44": { "dfnID": "6df10f44", "dfnText": "CreateBuiltinFunction", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-createbuiltinfunction" }], "title": "7.2.2. Internal slots" }, { "refs": [{ "id": "ref-for-sec-createbuiltinfunction\u2460" }], "title": "7.3.2. Internal slots" }], "url": "https://tc39.es/ecma262/multipage/ordinary-and-exotic-objects-behaviours.html#sec-createbuiltinfunction" },
                "6e6d76ed": { "dfnID": "6e6d76ed", "dfnText": "CompressionStream", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-compressionstream" }], "title": "9.3.2. Wrapping into a custom class" }], "url": "https://compression.spec.whatwg.org/#compressionstream" },
                "6eeed17d": { "dfnID": "6eeed17d", "dfnText": "WebSocket", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-websocket" }], "title": "10.1. A readable stream with an underlying push source (no\nbackpressure support)" }, { "refs": [{ "id": "ref-for-websocket\u2460" }], "title": "10.6. A writable stream with no backpressure or success signals" }], "url": "https://websockets.spec.whatwg.org/#websocket" },
                "704f9119": { "dfnID": "704f9119", "dfnText": "realm", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-code-realms" }], "title": "8.2. Transferable streams" }], "url": "https://tc39.es/ecma262/#sec-code-realms" },
                "70a9ebde": { "dfnID": "70a9ebde", "dfnText": "is not a Number", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-ecmascript-language-types-number-type\u2460" }], "title": "8.3. Miscellaneous" }], "url": "https://tc39.es/ecma262/#sec-ecmascript-language-types-number-type" },
                "74a58133": { "dfnID": "74a58133", "dfnText": "CloneArrayBuffer", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-clonearraybuffer" }], "title": "4.9.5. Byte stream controllers" }, { "refs": [{ "id": "ref-for-sec-clonearraybuffer\u2460" }], "title": "8.3. Miscellaneous" }], "url": "https://tc39.es/ecma262/multipage/structured-data.html#sec-clonearraybuffer" },
                "74b35c0b": { "dfnID": "74b35c0b", "dfnText": "Completion Record", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-completion-record-specification-type" }], "title": "3. Conventions" }, { "refs": [{ "id": "ref-for-sec-completion-record-specification-type\u2460" }], "title": "4.9.4. Default controllers" }, { "refs": [{ "id": "ref-for-sec-completion-record-specification-type\u2461" }], "title": "5.5.4. Default controllers" }], "url": "https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-completion-record-specification-type" },
                "750a2f08": { "dfnID": "750a2f08", "dfnText": "react", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-perform-steps-once-promise-is-settled" }, { "id": "ref-for-dfn-perform-steps-once-promise-is-settled\u2460" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-dfn-perform-steps-once-promise-is-settled\u2461" }], "title": "4.9.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-dfn-perform-steps-once-promise-is-settled\u2462" }], "title": "6.4.2. Default controllers" }, { "refs": [{ "id": "ref-for-dfn-perform-steps-once-promise-is-settled\u2463" }, { "id": "ref-for-dfn-perform-steps-once-promise-is-settled\u2464" }, { "id": "ref-for-dfn-perform-steps-once-promise-is-settled\u2465" }], "title": "6.4.3. Default sinks" }, { "refs": [{ "id": "ref-for-dfn-perform-steps-once-promise-is-settled\u2466" }], "title": "6.4.4. Default sources" }, { "refs": [{ "id": "ref-for-dfn-perform-steps-once-promise-is-settled\u2467" }], "title": "8.2. Transferable streams" }], "url": "https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled" },
                "77aef363": { "dfnID": "77aef363", "dfnText": "array", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-array-objects" }], "title": "4.2.4. Constructor, methods, and properties" }], "url": "https://tc39.es/ecma262/#sec-array-objects" },
                "7b05fe24": { "dfnID": "7b05fe24", "dfnText": "get a copy of the bytes held by the buffer source", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-get-buffer-source-copy" }], "title": "9.2.1. Creation and manipulation" }, { "refs": [{ "id": "ref-for-dfn-get-buffer-source-copy\u2460" }], "title": "9.3.1. Creation and manipulation" }], "url": "https://webidl.spec.whatwg.org/#dfn-get-buffer-source-copy" },
                "7b0d918d": { "dfnID": "7b0d918d", "dfnText": "break", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-iteration-break" }], "title": "4.9.5. Byte stream controllers" }], "url": "https://infra.spec.whatwg.org/#iteration-break" },
                "81131be0": { "dfnID": "81131be0", "dfnText": "Call", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-call" }], "title": "4.9.1. Working with readable streams" }], "url": "https://tc39.es/ecma262/multipage/abstract-operations.html#sec-call" },
                "81c11fc3": { "dfnID": "81c11fc3", "dfnText": "TypeError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2460" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2461" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2462" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2463" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2464" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2465" }], "title": "4.3.3. Methods and properties" }, { "refs": [{ "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2466" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2467" }], "title": "4.4.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2468" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2460\u24ea" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2460\u2460" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2460\u2461" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2460\u2462" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2460\u2463" }], "title": "4.5.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2460\u2464" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2460\u2465" }], "title": "4.6.3. Methods and properties" }, { "refs": [{ "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2460\u2466" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2460\u2467" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2460\u2468" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2461\u24ea" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2461\u2460" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2461\u2461" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2461\u2462" }], "title": "4.7.3. Methods and properties" }, { "refs": [{ "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2461\u2463" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2461\u2464" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2461\u2465" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2461\u2466" }], "title": "4.8.3. Methods and properties" }, { "refs": [{ "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2461\u2467" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2461\u2468" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2462\u24ea" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2462\u2460" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2462\u2461" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2462\u2462" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2462\u2463" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2462\u2464" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2462\u2465" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2462\u2466" }], "title": "4.9.3. Readers" }, { "refs": [{ "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2462\u2467" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2462\u2468" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2463\u24ea" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2463\u2460" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2463\u2461" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2463\u2462" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2463\u2463" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2463\u2464" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2463\u2465" }], "title": "4.9.5. Byte stream controllers" }, { "refs": [{ "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2463\u2466" }], "title": "5.2.3. The underlying sink API" }, { "refs": [{ "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2463\u2467" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2463\u2468" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2464\u24ea" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2464\u2460" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2464\u2461" }], "title": "5.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2464\u2462" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2464\u2463" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2464\u2464" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2464\u2465" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2464\u2466" }], "title": "5.3.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2464\u2467" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2464\u2468" }], "title": "5.5.1. Working with writable streams" }, { "refs": [{ "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2465\u24ea" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2465\u2460" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2465\u2461" }], "title": "5.5.3. Writers" }, { "refs": [{ "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2465\u2462" }, { "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2465\u2463" }], "title": "6.4.2. Default controllers" }, { "refs": [{ "id": "ref-for-sec-native-error-types-used-in-this-standard-typeerror\u2465\u2464" }], "title": "9.1.2. Reading" }], "url": "https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" },
                "860300d4": { "dfnID": "860300d4", "dfnText": "implementation-defined", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-implementation-defined" }], "title": "4.9.5. Byte stream controllers" }], "url": "https://infra.spec.whatwg.org/#implementation-defined" },
                "87bc23a5": { "dfnID": "87bc23a5", "dfnText": "add", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-abortsignal-add" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-abortsignal-add\u2460" }, { "id": "ref-for-abortsignal-add\u2461" }], "title": "9.2.1. Creation and manipulation" }], "url": "https://dom.spec.whatwg.org/#abortsignal-add" },
                "88a9cf19": { "dfnID": "88a9cf19", "dfnText": "create", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-arraybufferview-create" }, { "id": "ref-for-arraybufferview-create\u2460" }], "title": "9.1.1. Creation and manipulation" }], "url": "https://webidl.spec.whatwg.org/#arraybufferview-create" },
                "88cd0dbd": { "dfnID": "88cd0dbd", "dfnText": "iterable", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-iterable-interface" }], "title": "4.2.4. Constructor, methods, and properties" }], "url": "https://tc39.es/ecma262/#sec-iterable-interface" },
                "89786baf": { "dfnID": "89786baf", "dfnText": "StructuredSerialize", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-structuredserialize" }], "title": "8.3. Miscellaneous" }], "url": "https://html.spec.whatwg.org/multipage/structured-data.html#structuredserialize" },
                "8afe05ad": { "dfnID": "8afe05ad", "dfnText": "port message queue", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-port-message-queue" }, { "id": "ref-for-port-message-queue\u2460" }], "title": "8.2. Transferable streams" }], "url": "https://html.spec.whatwg.org/multipage/web-messaging.html#port-message-queue" },
                "8b2fedc9": { "dfnID": "8b2fedc9", "dfnText": "Uint8Array", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-typedarray-objects" }], "title": "2. Model" }, { "refs": [{ "id": "ref-for-sec-typedarray-objects\u2460" }], "title": "4.1. Using readable streams" }, { "refs": [{ "id": "ref-for-sec-typedarray-objects\u2462" }], "title": "4.8.2. Internal slots" }, { "refs": [{ "id": "ref-for-sec-typedarray-objects\u2467" }], "title": "9.1.1. Creation and manipulation" }, { "refs": [{ "id": "ref-for-sec-typedarray-objects\u2468" }], "title": "9.1.2. Reading" }], "url": "https://tc39.es/ecma262/#sec-typedarray-objects" },
                "8e9945a0": { "dfnID": "8e9945a0", "dfnText": "body", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-request-body" }], "title": "6.1. Using transform streams" }], "url": "https://fetch.spec.whatwg.org/#concept-request-body" },
                "8f5c2179": { "dfnID": "8f5c2179", "dfnText": "a promise resolved with", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-a-promise-resolved-with" }], "title": "4.2.5. Asynchronous iteration" }, { "refs": [{ "id": "ref-for-a-promise-resolved-with\u2460" }, { "id": "ref-for-a-promise-resolved-with\u2461" }, { "id": "ref-for-a-promise-resolved-with\u2462" }, { "id": "ref-for-a-promise-resolved-with\u2463" }, { "id": "ref-for-a-promise-resolved-with\u2464" }, { "id": "ref-for-a-promise-resolved-with\u2465" }, { "id": "ref-for-a-promise-resolved-with\u2466" }, { "id": "ref-for-a-promise-resolved-with\u2467" }, { "id": "ref-for-a-promise-resolved-with\u2468" }, { "id": "ref-for-a-promise-resolved-with\u2460\u24ea" }, { "id": "ref-for-a-promise-resolved-with\u2460\u2460" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-a-promise-resolved-with\u2460\u2461" }], "title": "4.9.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-a-promise-resolved-with\u2460\u2462" }], "title": "4.9.3. Readers" }, { "refs": [{ "id": "ref-for-a-promise-resolved-with\u2460\u2463" }, { "id": "ref-for-a-promise-resolved-with\u2460\u2464" }, { "id": "ref-for-a-promise-resolved-with\u2460\u2465" }], "title": "4.9.4. Default controllers" }, { "refs": [{ "id": "ref-for-a-promise-resolved-with\u2460\u2466" }, { "id": "ref-for-a-promise-resolved-with\u2460\u2467" }, { "id": "ref-for-a-promise-resolved-with\u2460\u2468" }], "title": "4.9.5. Byte stream controllers" }, { "refs": [{ "id": "ref-for-a-promise-resolved-with\u2461\u24ea" }, { "id": "ref-for-a-promise-resolved-with\u2461\u2460" }, { "id": "ref-for-a-promise-resolved-with\u2461\u2461" }, { "id": "ref-for-a-promise-resolved-with\u2461\u2462" }, { "id": "ref-for-a-promise-resolved-with\u2461\u2463" }], "title": "5.5.1. Working with writable streams" }, { "refs": [{ "id": "ref-for-a-promise-resolved-with\u2461\u2464" }], "title": "5.5.3. Writers" }, { "refs": [{ "id": "ref-for-a-promise-resolved-with\u2461\u2465" }, { "id": "ref-for-a-promise-resolved-with\u2461\u2466" }, { "id": "ref-for-a-promise-resolved-with\u2461\u2467" }, { "id": "ref-for-a-promise-resolved-with\u2461\u2468" }], "title": "5.5.4. Default controllers" }, { "refs": [{ "id": "ref-for-a-promise-resolved-with\u2462\u24ea" }, { "id": "ref-for-a-promise-resolved-with\u2462\u2460" }, { "id": "ref-for-a-promise-resolved-with\u2462\u2461" }], "title": "6.4.2. Default controllers" }, { "refs": [{ "id": "ref-for-a-promise-resolved-with\u2462\u2462" }, { "id": "ref-for-a-promise-resolved-with\u2462\u2463" }, { "id": "ref-for-a-promise-resolved-with\u2462\u2464" }, { "id": "ref-for-a-promise-resolved-with\u2462\u2465" }, { "id": "ref-for-a-promise-resolved-with\u2462\u2466" }, { "id": "ref-for-a-promise-resolved-with\u2462\u2467" }], "title": "8.2. Transferable streams" }, { "refs": [{ "id": "ref-for-a-promise-resolved-with\u2462\u2468" }, { "id": "ref-for-a-promise-resolved-with\u2463\u24ea" }, { "id": "ref-for-a-promise-resolved-with\u2463\u2460" }, { "id": "ref-for-a-promise-resolved-with\u2463\u2461" }], "title": "9.1.1. Creation and manipulation" }, { "refs": [{ "id": "ref-for-a-promise-resolved-with\u2463\u2462" }, { "id": "ref-for-a-promise-resolved-with\u2463\u2463" }], "title": "9.2.1. Creation and manipulation" }, { "refs": [{ "id": "ref-for-a-promise-resolved-with\u2463\u2464" }, { "id": "ref-for-a-promise-resolved-with\u2463\u2465" }, { "id": "ref-for-a-promise-resolved-with\u2463\u2466" }, { "id": "ref-for-a-promise-resolved-with\u2463\u2467" }], "title": "9.3.1. Creation and manipulation" }], "url": "https://webidl.spec.whatwg.org/#a-promise-resolved-with" },
                "900ce14b": { "dfnID": "900ce14b", "dfnText": "internal slot", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-object-internal-methods-and-internal-slots" }], "title": "3. Conventions" }], "url": "https://tc39.es/ecma262/#sec-object-internal-methods-and-internal-slots" },
                "904376f6": { "dfnID": "904376f6", "dfnText": "the typed array constructors table", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-table-49" }], "title": "4.7.2. Internal slots" }, { "refs": [{ "id": "ref-for-table-49\u2460" }, { "id": "ref-for-table-49\u2461" }], "title": "4.9.5. Byte stream controllers" }], "url": "https://tc39.es/ecma262/#table-49" },
                "91890fa8": { "dfnID": "91890fa8", "dfnText": "SharedArrayBuffer", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-sharedarraybuffer-objects" }], "title": "9.2.1. Creation and manipulation" }, { "refs": [{ "id": "ref-for-sec-sharedarraybuffer-objects\u2460" }], "title": "9.3.1. Creation and manipulation" }], "url": "https://tc39.es/ecma262/#sec-sharedarraybuffer-objects" },
                "93148e63": { "dfnID": "93148e63", "dfnText": "async generator", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-asyncgenerator-objects" }], "title": "4.2.4. Constructor, methods, and properties" }], "url": "https://tc39.es/ecma262/#sec-asyncgenerator-objects" },
                "944206e4": { "dfnID": "944206e4", "dfnText": "Construct", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-construct" }], "title": "4.7.4. Internal methods" }, { "refs": [{ "id": "ref-for-sec-construct\u2460" }, { "id": "ref-for-sec-construct\u2461" }, { "id": "ref-for-sec-construct\u2462" }, { "id": "ref-for-sec-construct\u2463" }, { "id": "ref-for-sec-construct\u2464" }], "title": "4.9.5. Byte stream controllers" }, { "refs": [{ "id": "ref-for-sec-construct\u2465" }], "title": "8.3. Miscellaneous" }], "url": "https://tc39.es/ecma262/multipage/abstract-operations.html#sec-construct" },
                "984221ca": { "dfnID": "984221ca", "dfnText": "struct", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-struct" }], "title": "4.4.2. Internal slots" }, { "refs": [{ "id": "ref-for-struct\u2460" }], "title": "4.5.2. Internal slots" }, { "refs": [{ "id": "ref-for-struct\u2461" }, { "id": "ref-for-struct\u2462" }], "title": "4.7.2. Internal slots" }, { "refs": [{ "id": "ref-for-struct\u2463" }], "title": "5.2.2. Internal slots" }, { "refs": [{ "id": "ref-for-struct\u2464" }], "title": "8.1. Queue-with-sizes" }], "url": "https://infra.spec.whatwg.org/#struct" },
                "99c988d6": { "dfnID": "99c988d6", "dfnText": "remove", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-remove" }, { "id": "ref-for-list-remove\u2460" }], "title": "4.9.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-list-remove\u2461" }, { "id": "ref-for-list-remove\u2462" }, { "id": "ref-for-list-remove\u2463" }, { "id": "ref-for-list-remove\u2464" }], "title": "4.9.5. Byte stream controllers" }, { "refs": [{ "id": "ref-for-list-remove\u2465" }], "title": "5.5.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-list-remove\u2466" }], "title": "8.1. Queue-with-sizes" }], "url": "https://infra.spec.whatwg.org/#list-remove" },
                "9a7f3f6f": { "dfnID": "9a7f3f6f", "dfnText": "asynchronous iterator initialization steps", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-asynchronous-iterator-initialization-steps" }], "title": "4.2.5. Asynchronous iteration" }], "url": "https://webidl.spec.whatwg.org/#asynchronous-iterator-initialization-steps" },
                "9aa33dcf": { "dfnID": "9aa33dcf", "dfnText": "async iterable", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-asynciterable-interface" }], "title": "4.2.4. Constructor, methods, and properties" }], "url": "https://tc39.es/ecma262/#sec-asynciterable-interface" },
                "9c4c1e66": { "dfnID": "9c4c1e66", "dfnText": "relevant settings object", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-relevant-settings-object" }], "title": "7.2.2. Internal slots" }, { "refs": [{ "id": "ref-for-relevant-settings-object\u2460" }], "title": "7.3.2. Internal slots" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" },
                "9c78f4e3": { "dfnID": "9c78f4e3", "dfnText": "end of iteration", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-end-of-iteration" }], "title": "4.2.5. Asynchronous iteration" }], "url": "https://webidl.spec.whatwg.org/#end-of-iteration" },
                "9ca1c179": { "dfnID": "9ca1c179", "dfnText": "Memory", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-memory" }], "title": "8.3. Miscellaneous" }], "url": "https://webassembly.github.io/spec/js-api/#memory" },
                "9cce47fd": { "dfnID": "9cce47fd", "dfnText": "sequence", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-sequence" }], "title": "4.2.1. Interface definition" }], "url": "https://webidl.spec.whatwg.org/#idl-sequence" },
                "9da834a1": { "dfnID": "9da834a1", "dfnText": "StructuredSerializeWithTransfer", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-structuredserializewithtransfer" }], "title": "4.2.6. Transfer via postMessage()" }, { "refs": [{ "id": "ref-for-structuredserializewithtransfer\u2460" }], "title": "5.2.5. Transfer via postMessage()" }, { "refs": [{ "id": "ref-for-structuredserializewithtransfer\u2461" }, { "id": "ref-for-structuredserializewithtransfer\u2462" }], "title": "6.2.5. Transfer via postMessage()" }, { "refs": [{ "id": "ref-for-structuredserializewithtransfer\u2463" }], "title": "9.2.1. Creation and manipulation" }, { "refs": [{ "id": "ref-for-structuredserializewithtransfer\u2464" }], "title": "9.3.1. Creation and manipulation" }], "url": "https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializewithtransfer" },
                "9ff3511b": { "dfnID": "9ff3511b", "dfnText": "fetch", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-service-worker-global-scope-fetch-event" }], "title": "1. Introduction" }], "url": "https://w3c.github.io/ServiceWorker/#service-worker-global-scope-fetch-event" },
                "a053c42b": { "dfnID": "a053c42b", "dfnText": "callback context", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-callback-context" }], "title": "7.2.2. Internal slots" }, { "refs": [{ "id": "ref-for-dfn-callback-context\u2460" }], "title": "7.3.2. Internal slots" }], "url": "https://webidl.spec.whatwg.org/#dfn-callback-context" },
                "a32c65d4": { "dfnID": "a32c65d4", "dfnText": "implements", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-implements" }, { "id": "ref-for-implements\u2460" }, { "id": "ref-for-implements\u2461" }, { "id": "ref-for-implements\u2462" }, { "id": "ref-for-implements\u2463" }, { "id": "ref-for-implements\u2464" }, { "id": "ref-for-implements\u2465" }, { "id": "ref-for-implements\u2466" }, { "id": "ref-for-implements\u2467" }, { "id": "ref-for-implements\u2468" }, { "id": "ref-for-implements\u2460\u24ea" }, { "id": "ref-for-implements\u2460\u2460" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-implements\u2460\u2461" }, { "id": "ref-for-implements\u2460\u2462" }, { "id": "ref-for-implements\u2460\u2463" }, { "id": "ref-for-implements\u2460\u2464" }, { "id": "ref-for-implements\u2460\u2465" }, { "id": "ref-for-implements\u2460\u2466" }, { "id": "ref-for-implements\u2460\u2467" }, { "id": "ref-for-implements\u2460\u2468" }], "title": "4.9.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-implements\u2461\u24ea" }], "title": "4.9.3. Readers" }, { "refs": [{ "id": "ref-for-implements\u2461\u2460" }], "title": "4.9.5. Byte stream controllers" }, { "refs": [{ "id": "ref-for-implements\u2461\u2461" }], "title": "5.5.4. Default controllers" }, { "refs": [{ "id": "ref-for-implements\u2461\u2462" }], "title": "6.4.2. Default controllers" }, { "refs": [{ "id": "ref-for-implements\u2461\u2463" }, { "id": "ref-for-implements\u2461\u2464" }, { "id": "ref-for-implements\u2461\u2465" }, { "id": "ref-for-implements\u2461\u2466" }, { "id": "ref-for-implements\u2461\u2467" }, { "id": "ref-for-implements\u2461\u2468" }, { "id": "ref-for-implements\u2462\u24ea" }], "title": "9.1.1. Creation and manipulation" }], "url": "https://webidl.spec.whatwg.org/#implements" },
                "a3a4ba25": { "dfnID": "a3a4ba25", "dfnText": "typed array", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-typedarray-objects" }], "title": "2. Model" }, { "refs": [{ "id": "ref-for-sec-typedarray-objects\u2460" }], "title": "4.1. Using readable streams" }, { "refs": [{ "id": "ref-for-sec-typedarray-objects\u2462" }], "title": "4.8.2. Internal slots" }, { "refs": [{ "id": "ref-for-sec-typedarray-objects\u2467" }], "title": "9.1.1. Creation and manipulation" }, { "refs": [{ "id": "ref-for-sec-typedarray-objects\u2468" }], "title": "9.1.2. Reading" }], "url": "https://tc39.es/ecma262/#sec-typedarray-objects" },
                "a3b18719": { "dfnID": "a3b18719", "dfnText": "append (for set)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-set-append" }, { "id": "ref-for-set-append\u2460" }], "title": "4.9.1. Working with readable streams" }], "url": "https://infra.spec.whatwg.org/#set-append" },
                "a53fbed9": { "dfnID": "a53fbed9", "dfnText": "asynchronous iterator return", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-asynchronous-iterator-return" }], "title": "4.2.5. Asynchronous iteration" }], "url": "https://webidl.spec.whatwg.org/#asynchronous-iterator-return" },
                "a72449dd": { "dfnID": "a72449dd", "dfnText": "in parallel", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-in-parallel" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-in-parallel\u2460" }], "title": "9.2.1. Creation and manipulation" }, { "refs": [{ "id": "ref-for-in-parallel\u2461" }], "title": "9.3.1. Creation and manipulation" }], "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" },
                "a7900362": { "dfnID": "a7900362", "dfnText": "include", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-include" }], "title": "9.3.2. Wrapping into a custom class" }], "url": "https://webidl.spec.whatwg.org/#include" },
                "a7d0975c": { "dfnID": "a7d0975c", "dfnText": "entangle", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-entangle" }], "title": "4.2.6. Transfer via postMessage()" }, { "refs": [{ "id": "ref-for-entangle\u2460" }], "title": "5.2.5. Transfer via postMessage()" }], "url": "https://html.spec.whatwg.org/multipage/web-messaging.html#entangle" },
                "a9bf6bd5": { "dfnID": "a9bf6bd5", "dfnText": "callback this value", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-callback-this-value" }, { "id": "ref-for-dfn-callback-this-value\u2460" }, { "id": "ref-for-dfn-callback-this-value\u2461" }], "title": "4.9.4. Default controllers" }, { "refs": [{ "id": "ref-for-dfn-callback-this-value\u2462" }, { "id": "ref-for-dfn-callback-this-value\u2463" }, { "id": "ref-for-dfn-callback-this-value\u2464" }], "title": "4.9.5. Byte stream controllers" }, { "refs": [{ "id": "ref-for-dfn-callback-this-value\u2465" }, { "id": "ref-for-dfn-callback-this-value\u2466" }, { "id": "ref-for-dfn-callback-this-value\u2467" }, { "id": "ref-for-dfn-callback-this-value\u2468" }], "title": "5.5.4. Default controllers" }, { "refs": [{ "id": "ref-for-dfn-callback-this-value\u2460\u24ea" }], "title": "6.2.4. Constructor and properties" }, { "refs": [{ "id": "ref-for-dfn-callback-this-value\u2460\u2460" }, { "id": "ref-for-dfn-callback-this-value\u2460\u2461" }, { "id": "ref-for-dfn-callback-this-value\u2460\u2462" }], "title": "6.4.2. Default controllers" }], "url": "https://webidl.spec.whatwg.org/#dfn-callback-this-value" },
                "abf85593": { "dfnID": "abf85593", "dfnText": "Get", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-get-o-p" }, { "id": "ref-for-sec-get-o-p\u2460" }, { "id": "ref-for-sec-get-o-p\u2461" }, { "id": "ref-for-sec-get-o-p\u2462" }], "title": "8.2. Transferable streams" }], "url": "https://tc39.es/ecma262/multipage/abstract-operations.html#sec-get-o-p" },
                "abort-a-writable-stream": { "dfnID": "abort-a-writable-stream", "dfnText": "abort", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-abort-a-writable-stream" }], "title": "2.6. Locking" }, { "refs": [{ "id": "ref-for-abort-a-writable-stream\u2460" }, { "id": "ref-for-abort-a-writable-stream\u2461" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-abort-a-writable-stream\u2462" }], "title": "5.2.3. The underlying sink API" }, { "refs": [{ "id": "ref-for-abort-a-writable-stream\u2463" }], "title": "5.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-abort-a-writable-stream\u2464" }], "title": "5.4.2. Internal slots" }, { "refs": [{ "id": "ref-for-abort-a-writable-stream\u2465" }], "title": "5.4.3. Methods and properties" }, { "refs": [{ "id": "ref-for-abort-a-writable-stream\u2466" }], "title": "5.5.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-abort-a-writable-stream\u2467" }], "title": "9.4.1. Duplex streams" }, { "refs": [{ "id": "ref-for-abort-a-writable-stream\u2468" }], "title": "10.11. Using an identity transform stream as a primitive to create new readable streams" }], "url": "#abort-a-writable-stream" },
                "abstract-opdef-cancopydatablockbytes": { "dfnID": "abstract-opdef-cancopydatablockbytes", "dfnText": "CanCopyDataBlockBytes(toBuffer, toIndex,\n fromBuffer, fromIndex, count)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-abstract-opdef-cancopydatablockbytes" }], "title": "4.9.5. Byte stream controllers" }], "url": "#abstract-opdef-cancopydatablockbytes" },
                "abstract-opdef-cloneasuint8array": { "dfnID": "abstract-opdef-cloneasuint8array", "dfnText": "CloneAsUint8Array(O)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-abstract-opdef-cloneasuint8array" }, { "id": "ref-for-abstract-opdef-cloneasuint8array\u2460" }], "title": "4.9.1. Working with readable streams" }], "url": "#abstract-opdef-cloneasuint8array" },
                "abstract-opdef-createreadablebytestream": { "dfnID": "abstract-opdef-createreadablebytestream", "dfnText": "CreateReadableByteStream(startAlgorithm,\n pullAlgorithm, cancelAlgorithm)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-abstract-opdef-createreadablebytestream" }, { "id": "ref-for-abstract-opdef-createreadablebytestream\u2460" }], "title": "4.9.1. Working with readable streams" }], "url": "#abstract-opdef-createreadablebytestream" },
                "abstract-opdef-crossrealmtransformsenderror": { "dfnID": "abstract-opdef-crossrealmtransformsenderror", "dfnText": "CrossRealmTransformSendError(port,\n error)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-abstract-opdef-crossrealmtransformsenderror" }, { "id": "ref-for-abstract-opdef-crossrealmtransformsenderror\u2460" }, { "id": "ref-for-abstract-opdef-crossrealmtransformsenderror\u2461" }], "title": "8.2. Transferable streams" }], "url": "#abstract-opdef-crossrealmtransformsenderror" },
                "abstract-opdef-packandpostmessage": { "dfnID": "abstract-opdef-packandpostmessage", "dfnText": "PackAndPostMessage(port, type, value)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-abstract-opdef-packandpostmessage" }, { "id": "ref-for-abstract-opdef-packandpostmessage\u2460" }, { "id": "ref-for-abstract-opdef-packandpostmessage\u2461" }, { "id": "ref-for-abstract-opdef-packandpostmessage\u2462" }], "title": "8.2. Transferable streams" }], "url": "#abstract-opdef-packandpostmessage" },
                "abstract-opdef-packandpostmessagehandlingerror": { "dfnID": "abstract-opdef-packandpostmessagehandlingerror", "dfnText": "PackAndPostMessageHandlingError(port,\n type, value)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-abstract-opdef-packandpostmessagehandlingerror" }, { "id": "ref-for-abstract-opdef-packandpostmessagehandlingerror\u2460" }, { "id": "ref-for-abstract-opdef-packandpostmessagehandlingerror\u2461" }], "title": "8.2. Transferable streams" }], "url": "#abstract-opdef-packandpostmessagehandlingerror" },
                "abstract-opdef-readablebytestreamcontroller-releasesteps": { "dfnID": "abstract-opdef-readablebytestreamcontroller-releasesteps", "dfnText": "[[ReleaseSteps]]()", "external": false, "refSections": [], "url": "#abstract-opdef-readablebytestreamcontroller-releasesteps" },
                "abstract-opdef-readablebytestreamcontrollerenqueueclonedchunktoqueue": { "dfnID": "abstract-opdef-readablebytestreamcontrollerenqueueclonedchunktoqueue", "dfnText": "ReadableByteStreamControllerEnqueueClonedChunkToQueue(controller,\n buffer, byteOffset, byteLength)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-abstract-opdef-readablebytestreamcontrollerenqueueclonedchunktoqueue" }, { "id": "ref-for-abstract-opdef-readablebytestreamcontrollerenqueueclonedchunktoqueue\u2460" }], "title": "4.9.5. Byte stream controllers" }], "url": "#abstract-opdef-readablebytestreamcontrollerenqueueclonedchunktoqueue" },
                "abstract-opdef-readablebytestreamcontrollerenqueuedetachedpullintotoqueue": { "dfnID": "abstract-opdef-readablebytestreamcontrollerenqueuedetachedpullintotoqueue", "dfnText": "ReadableByteStreamControllerEnqueueDetachedPullIntoToQueue(controller,\n pullIntoDescriptor)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-abstract-opdef-readablebytestreamcontrollerenqueuedetachedpullintotoqueue" }, { "id": "ref-for-abstract-opdef-readablebytestreamcontrollerenqueuedetachedpullintotoqueue\u2460" }], "title": "4.9.5. Byte stream controllers" }], "url": "#abstract-opdef-readablebytestreamcontrollerenqueuedetachedpullintotoqueue" },
                "abstract-opdef-readablebytestreamcontrollerfillreadrequestfromqueue": { "dfnID": "abstract-opdef-readablebytestreamcontrollerfillreadrequestfromqueue", "dfnText": "ReadableByteStreamControllerFillReadRequestFromQueue(controller,\n readRequest)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-abstract-opdef-readablebytestreamcontrollerfillreadrequestfromqueue" }], "title": "4.7.4. Internal methods" }, { "refs": [{ "id": "ref-for-abstract-opdef-readablebytestreamcontrollerfillreadrequestfromqueue\u2460" }], "title": "4.9.5. Byte stream controllers" }], "url": "#abstract-opdef-readablebytestreamcontrollerfillreadrequestfromqueue" },
                "abstract-opdef-readablebytestreamcontrollergetbyobrequest": { "dfnID": "abstract-opdef-readablebytestreamcontrollergetbyobrequest", "dfnText": "ReadableByteStreamControllerGetBYOBRequest(controller)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-abstract-opdef-readablebytestreamcontrollergetbyobrequest" }], "title": "4.7.3. Methods and properties" }, { "refs": [{ "id": "ref-for-abstract-opdef-readablebytestreamcontrollergetbyobrequest\u2460" }, { "id": "ref-for-abstract-opdef-readablebytestreamcontrollergetbyobrequest\u2461" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-abstract-opdef-readablebytestreamcontrollergetbyobrequest\u2462" }], "title": "9.1.1. Creation and manipulation" }], "url": "#abstract-opdef-readablebytestreamcontrollergetbyobrequest" },
                "abstract-opdef-readablebytestreamcontrollerprocessreadrequestsusingqueue": { "dfnID": "abstract-opdef-readablebytestreamcontrollerprocessreadrequestsusingqueue", "dfnText": "ReadableByteStreamControllerProcessReadRequestsUsingQueue(controller)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-abstract-opdef-readablebytestreamcontrollerprocessreadrequestsusingqueue" }], "title": "4.9.5. Byte stream controllers" }], "url": "#abstract-opdef-readablebytestreamcontrollerprocessreadrequestsusingqueue" },
                "abstract-opdef-readablebytestreamtee": { "dfnID": "abstract-opdef-readablebytestreamtee", "dfnText": "ReadableByteStreamTee(stream)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-abstract-opdef-readablebytestreamtee" }], "title": "4.9.1. Working with readable streams" }], "url": "#abstract-opdef-readablebytestreamtee" },
                "abstract-opdef-readablestreambyobreadererrorreadintorequests": { "dfnID": "abstract-opdef-readablestreambyobreadererrorreadintorequests", "dfnText": "ReadableStreamBYOBReaderErrorReadIntoRequests(reader, e)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-abstract-opdef-readablestreambyobreadererrorreadintorequests" }], "title": "4.9.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-abstract-opdef-readablestreambyobreadererrorreadintorequests\u2460" }], "title": "4.9.3. Readers" }], "url": "#abstract-opdef-readablestreambyobreadererrorreadintorequests" },
                "abstract-opdef-readablestreambyobreaderrelease": { "dfnID": "abstract-opdef-readablestreambyobreaderrelease", "dfnText": "ReadableStreamBYOBReaderRelease(reader)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-abstract-opdef-readablestreambyobreaderrelease" }], "title": "4.5.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-abstract-opdef-readablestreambyobreaderrelease\u2460" }, { "id": "ref-for-abstract-opdef-readablestreambyobreaderrelease\u2461" }], "title": "4.9.1. Working with readable streams" }], "url": "#abstract-opdef-readablestreambyobreaderrelease" },
                "abstract-opdef-readablestreamcontroller-cancelsteps": { "dfnID": "abstract-opdef-readablestreamcontroller-cancelsteps", "dfnText": "[[CancelSteps]](reason)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-abstract-opdef-readablestreamcontroller-cancelsteps" }], "title": "4.6.4. Internal methods" }, { "refs": [{ "id": "ref-for-abstract-opdef-readablestreamcontroller-cancelsteps\u2460" }], "title": "4.7.4. Internal methods" }, { "refs": [{ "id": "ref-for-abstract-opdef-readablestreamcontroller-cancelsteps\u2461" }], "title": "4.9.2. Interfacing with controllers" }], "url": "#abstract-opdef-readablestreamcontroller-cancelsteps" },
                "abstract-opdef-readablestreamcontroller-pullsteps": { "dfnID": "abstract-opdef-readablestreamcontroller-pullsteps", "dfnText": "[[PullSteps]](readRequest)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-abstract-opdef-readablestreamcontroller-pullsteps" }], "title": "4.6.4. Internal methods" }, { "refs": [{ "id": "ref-for-abstract-opdef-readablestreamcontroller-pullsteps\u2460" }], "title": "4.7.4. Internal methods" }, { "refs": [{ "id": "ref-for-abstract-opdef-readablestreamcontroller-pullsteps\u2461" }], "title": "4.9.3. Readers" }], "url": "#abstract-opdef-readablestreamcontroller-pullsteps" },
                "abstract-opdef-readablestreamcontroller-releasesteps": { "dfnID": "abstract-opdef-readablestreamcontroller-releasesteps", "dfnText": "[[ReleaseSteps]]()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-abstract-opdef-readablestreamcontroller-releasesteps" }], "title": "4.6.4. Internal methods" }, { "refs": [{ "id": "ref-for-abstract-opdef-readablestreamcontroller-releasesteps\u2460" }], "title": "4.7.4. Internal methods" }, { "refs": [{ "id": "ref-for-abstract-opdef-readablestreamcontroller-releasesteps\u2461" }], "title": "4.9.3. Readers" }], "url": "#abstract-opdef-readablestreamcontroller-releasesteps" },
                "abstract-opdef-readablestreamdefaultcontroller-releasesteps": { "dfnID": "abstract-opdef-readablestreamdefaultcontroller-releasesteps", "dfnText": "[[ReleaseSteps]]()", "external": false, "refSections": [], "url": "#abstract-opdef-readablestreamdefaultcontroller-releasesteps" },
                "abstract-opdef-readablestreamdefaultreadererrorreadrequests": { "dfnID": "abstract-opdef-readablestreamdefaultreadererrorreadrequests", "dfnText": "ReadableStreamDefaultReaderErrorReadRequests(reader, e)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-abstract-opdef-readablestreamdefaultreadererrorreadrequests" }], "title": "4.9.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-abstract-opdef-readablestreamdefaultreadererrorreadrequests\u2460" }], "title": "4.9.3. Readers" }], "url": "#abstract-opdef-readablestreamdefaultreadererrorreadrequests" },
                "abstract-opdef-readablestreamdefaultreaderrelease": { "dfnID": "abstract-opdef-readablestreamdefaultreaderrelease", "dfnText": "ReadableStreamDefaultReaderRelease(reader)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-abstract-opdef-readablestreamdefaultreaderrelease" }, { "id": "ref-for-abstract-opdef-readablestreamdefaultreaderrelease\u2460" }, { "id": "ref-for-abstract-opdef-readablestreamdefaultreaderrelease\u2461" }, { "id": "ref-for-abstract-opdef-readablestreamdefaultreaderrelease\u2462" }], "title": "4.2.5. Asynchronous iteration" }, { "refs": [{ "id": "ref-for-abstract-opdef-readablestreamdefaultreaderrelease\u2463" }], "title": "4.4.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-abstract-opdef-readablestreamdefaultreaderrelease\u2464" }, { "id": "ref-for-abstract-opdef-readablestreamdefaultreaderrelease\u2465" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-abstract-opdef-readablestreamdefaultreaderrelease\u2466" }], "title": "9.1.2. Reading" }], "url": "#abstract-opdef-readablestreamdefaultreaderrelease" },
                "abstract-opdef-readablestreamdefaulttee": { "dfnID": "abstract-opdef-readablestreamdefaulttee", "dfnText": "ReadableStreamDefaultTee(stream,\n cloneForBranch2)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-abstract-opdef-readablestreamdefaulttee" }], "title": "4.9.1. Working with readable streams" }], "url": "#abstract-opdef-readablestreamdefaulttee" },
                "abstract-opdef-setupcrossrealmtransformreadable": { "dfnID": "abstract-opdef-setupcrossrealmtransformreadable", "dfnText": "SetUpCrossRealmTransformReadable(stream,\n port)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-abstract-opdef-setupcrossrealmtransformreadable" }], "title": "4.2.6. Transfer via postMessage()" }, { "refs": [{ "id": "ref-for-abstract-opdef-setupcrossrealmtransformreadable\u2460" }], "title": "5.2.5. Transfer via postMessage()" }], "url": "#abstract-opdef-setupcrossrealmtransformreadable" },
                "abstract-opdef-setupcrossrealmtransformwritable": { "dfnID": "abstract-opdef-setupcrossrealmtransformwritable", "dfnText": "SetUpCrossRealmTransformWritable(stream,\n port)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-abstract-opdef-setupcrossrealmtransformwritable" }], "title": "4.2.6. Transfer via postMessage()" }, { "refs": [{ "id": "ref-for-abstract-opdef-setupcrossrealmtransformwritable\u2460" }], "title": "5.2.5. Transfer via postMessage()" }], "url": "#abstract-opdef-setupcrossrealmtransformwritable" },
                "abstract-opdef-structuredclone": { "dfnID": "abstract-opdef-structuredclone", "dfnText": "StructuredClone(v)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-abstract-opdef-structuredclone" }], "title": "4.9.1. Working with readable streams" }], "url": "#abstract-opdef-structuredclone" },
                "abstract-opdef-writablestreamcontroller-abortsteps": { "dfnID": "abstract-opdef-writablestreamcontroller-abortsteps", "dfnText": "[[AbortSteps]](reason)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-abstract-opdef-writablestreamcontroller-abortsteps" }], "title": "5.4.4. Internal methods" }, { "refs": [{ "id": "ref-for-abstract-opdef-writablestreamcontroller-abortsteps\u2460" }], "title": "5.5.2. Interfacing with controllers" }], "url": "#abstract-opdef-writablestreamcontroller-abortsteps" },
                "abstract-opdef-writablestreamcontroller-errorsteps": { "dfnID": "abstract-opdef-writablestreamcontroller-errorsteps", "dfnText": "[[ErrorSteps]]()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-abstract-opdef-writablestreamcontroller-errorsteps" }], "title": "5.4.4. Internal methods" }, { "refs": [{ "id": "ref-for-abstract-opdef-writablestreamcontroller-errorsteps\u2460" }], "title": "5.5.2. Interfacing with controllers" }], "url": "#abstract-opdef-writablestreamcontroller-errorsteps" },
                "acquire-readable-stream-byob-reader": { "dfnID": "acquire-readable-stream-byob-reader", "dfnText": "AcquireReadableStreamBYOBReader(stream)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-acquire-readable-stream-byob-reader" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-acquire-readable-stream-byob-reader\u2460" }, { "id": "ref-for-acquire-readable-stream-byob-reader\u2461" }], "title": "4.9.1. Working with readable streams" }], "url": "#acquire-readable-stream-byob-reader" },
                "acquire-readable-stream-reader": { "dfnID": "acquire-readable-stream-reader", "dfnText": "AcquireReadableStreamDefaultReader(stream)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-acquire-readable-stream-reader" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-acquire-readable-stream-reader\u2460" }], "title": "4.2.5. Asynchronous iteration" }, { "refs": [{ "id": "ref-for-acquire-readable-stream-reader\u2461" }, { "id": "ref-for-acquire-readable-stream-reader\u2462" }, { "id": "ref-for-acquire-readable-stream-reader\u2463" }, { "id": "ref-for-acquire-readable-stream-reader\u2464" }, { "id": "ref-for-acquire-readable-stream-reader\u2465" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-acquire-readable-stream-reader\u2466" }], "title": "9.1.2. Reading" }], "url": "#acquire-readable-stream-reader" },
                "acquire-writable-stream-default-writer": { "dfnID": "acquire-writable-stream-default-writer", "dfnText": "AcquireWritableStreamDefaultWriter(stream)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-acquire-writable-stream-default-writer" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-acquire-writable-stream-default-writer\u2460" }], "title": "5.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-acquire-writable-stream-default-writer\u2461" }], "title": "9.2.2. Writing" }], "url": "#acquire-writable-stream-default-writer" },
                "active": { "dfnID": "active", "dfnText": "active", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-active" }, { "id": "ref-for-active\u2460" }], "title": "4.4.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-active\u2461" }, { "id": "ref-for-active\u2462" }], "title": "4.5.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-active\u2463" }, { "id": "ref-for-active\u2464" }, { "id": "ref-for-active\u2465" }], "title": "5.3.3. Constructor, methods, and properties" }], "url": "#active" },
                "ae46556f": { "dfnID": "ae46556f", "dfnText": "Function", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-Function" }], "title": "7.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-Function\u2460" }, { "id": "ref-for-Function\u2461" }], "title": "7.2.2. Internal slots" }, { "refs": [{ "id": "ref-for-Function\u2462" }], "title": "7.3.1. Interface definition" }, { "refs": [{ "id": "ref-for-Function\u2463" }, { "id": "ref-for-Function\u2464" }], "title": "7.3.2. Internal slots" }], "url": "https://webidl.spec.whatwg.org/#Function" },
                "b262501e": { "dfnID": "b262501e", "dfnText": "reject", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-reject" }], "title": "4.2.5. Asynchronous iteration" }, { "refs": [{ "id": "ref-for-reject\u2460" }], "title": "4.4.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-reject\u2461" }], "title": "4.5.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-reject\u2462" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-reject\u2463" }], "title": "4.9.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-reject\u2464" }], "title": "4.9.3. Readers" }, { "refs": [{ "id": "ref-for-reject\u2465" }, { "id": "ref-for-reject\u2466" }, { "id": "ref-for-reject\u2467" }, { "id": "ref-for-reject\u2468" }, { "id": "ref-for-reject\u2460\u24ea" }, { "id": "ref-for-reject\u2460\u2460" }, { "id": "ref-for-reject\u2460\u2461" }, { "id": "ref-for-reject\u2460\u2462" }], "title": "5.5.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-reject\u2460\u2463" }, { "id": "ref-for-reject\u2460\u2464" }], "title": "5.5.3. Writers" }, { "refs": [{ "id": "ref-for-reject\u2460\u2465" }, { "id": "ref-for-reject\u2460\u2466" }, { "id": "ref-for-reject\u2460\u2467" }, { "id": "ref-for-reject\u2460\u2468" }], "title": "6.4.3. Default sinks" }, { "refs": [{ "id": "ref-for-reject\u2461\u24ea" }, { "id": "ref-for-reject\u2461\u2460" }], "title": "6.4.4. Default sources" }, { "refs": [{ "id": "ref-for-reject\u2461\u2461" }], "title": "9.2.1. Creation and manipulation" }], "url": "https://webidl.spec.whatwg.org/#reject" },
                "b5d2d271": { "dfnID": "b5d2d271", "dfnText": "%Object.prototype%", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-properties-of-the-object-prototype-object" }], "title": "8.2. Transferable streams" }], "url": "https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-properties-of-the-object-prototype-object" },
                "backpressure": { "dfnID": "backpressure", "dfnText": "backpressure", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-backpressure" }], "title": "1. Introduction" }, { "refs": [{ "id": "ref-for-backpressure\u2460" }], "title": "2.4. Pipe chains and backpressure" }, { "refs": [{ "id": "ref-for-backpressure\u2461" }], "title": "2.5. Internal queues and queuing strategies" }, { "refs": [{ "id": "ref-for-backpressure\u2462" }, { "id": "ref-for-backpressure\u2463" }], "title": "4.1. Using readable streams" }, { "refs": [{ "id": "ref-for-backpressure\u2464" }], "title": "4.6.2. Internal slots" }, { "refs": [{ "id": "ref-for-backpressure\u2465" }], "title": "4.6.3. Methods and properties" }, { "refs": [{ "id": "ref-for-backpressure\u2466" }], "title": "4.7.2. Internal slots" }, { "refs": [{ "id": "ref-for-backpressure\u2467" }], "title": "4.7.3. Methods and properties" }, { "refs": [{ "id": "ref-for-backpressure\u2468" }, { "id": "ref-for-backpressure\u2460\u24ea" }, { "id": "ref-for-backpressure\u2460\u2460" }], "title": "5.1. Using writable streams" }, { "refs": [{ "id": "ref-for-backpressure\u2460\u2461" }], "title": "5.3.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-backpressure\u2460\u2462" }], "title": "5.4.2. Internal slots" }, { "refs": [{ "id": "ref-for-backpressure\u2460\u2463" }], "title": "6.1. Using transform streams" }, { "refs": [{ "id": "ref-for-backpressure\u2460\u2464" }], "title": "7.1. The queuing strategy API" }, { "refs": [{ "id": "ref-for-backpressure\u2460\u2465" }, { "id": "ref-for-backpressure\u2460\u2466" }], "title": "7.2. The ByteLengthQueuingStrategy class" }, { "refs": [{ "id": "ref-for-backpressure\u2460\u2467" }, { "id": "ref-for-backpressure\u2460\u2468" }], "title": "7.3. The CountQueuingStrategy class" }, { "refs": [{ "id": "ref-for-backpressure\u2461\u24ea" }], "title": "7.4. Abstract operations" }, { "refs": [{ "id": "ref-for-backpressure\u2461\u2460" }], "title": "9.1.1. Creation and manipulation" }, { "refs": [{ "id": "ref-for-backpressure\u2461\u2461" }], "title": "10.2. A readable stream with an underlying push source and backpressure support" }, { "refs": [{ "id": "ref-for-backpressure\u2461\u2462" }], "title": "10.6. A writable stream with no backpressure or success signals" }, { "refs": [{ "id": "ref-for-backpressure\u2461\u2463" }], "title": "10.7. A writable stream with backpressure and success signals" }], "url": "#backpressure" },
                "bdbd19d1": { "dfnID": "bdbd19d1", "dfnText": "Promise", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-promise" }, { "id": "ref-for-idl-promise\u2460" }], "title": "4.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-idl-promise\u2461" }, { "id": "ref-for-idl-promise\u2462" }], "title": "4.2.3. The underlying source API" }, { "refs": [{ "id": "ref-for-idl-promise\u2463" }, { "id": "ref-for-idl-promise\u2464" }], "title": "4.3.1. Mixin definition" }, { "refs": [{ "id": "ref-for-idl-promise\u2465" }], "title": "4.4.1. Interface definition" }, { "refs": [{ "id": "ref-for-idl-promise\u2466" }], "title": "4.5.1. Interface definition" }, { "refs": [{ "id": "ref-for-idl-promise\u2467" }, { "id": "ref-for-idl-promise\u2468" }], "title": "5.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-idl-promise\u2460\u24ea" }, { "id": "ref-for-idl-promise\u2460\u2460" }, { "id": "ref-for-idl-promise\u2460\u2461" }], "title": "5.2.3. The underlying sink API" }, { "refs": [{ "id": "ref-for-idl-promise\u2460\u2462" }, { "id": "ref-for-idl-promise\u2460\u2463" }, { "id": "ref-for-idl-promise\u2460\u2464" }, { "id": "ref-for-idl-promise\u2460\u2465" }, { "id": "ref-for-idl-promise\u2460\u2466" }], "title": "5.3.1. Interface definition" }, { "refs": [{ "id": "ref-for-idl-promise\u2460\u2467" }, { "id": "ref-for-idl-promise\u2460\u2468" }, { "id": "ref-for-idl-promise\u2461\u24ea" }], "title": "6.2.3. The transformer API" }, { "refs": [{ "id": "ref-for-idl-promise\u2461\u2460" }, { "id": "ref-for-idl-promise\u2461\u2461" }, { "id": "ref-for-idl-promise\u2461\u2462" }, { "id": "ref-for-idl-promise\u2461\u2463" }], "title": "9.1.1. Creation and manipulation" }, { "refs": [{ "id": "ref-for-idl-promise\u2461\u2464" }, { "id": "ref-for-idl-promise\u2461\u2465" }], "title": "9.2.1. Creation and manipulation" }, { "refs": [{ "id": "ref-for-idl-promise\u2461\u2466" }, { "id": "ref-for-idl-promise\u2461\u2467" }, { "id": "ref-for-idl-promise\u2461\u2468" }], "title": "9.3.1. Creation and manipulation" }, { "refs": [{ "id": "ref-for-idl-promise\u2462\u24ea" }], "title": "9.5. Piping" }], "url": "https://webidl.spec.whatwg.org/#idl-promise" },
                "blqs-constructor": { "dfnID": "blqs-constructor", "dfnText": "new ByteLengthQueuingStrategy(init)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-blqs-constructor" }], "title": "7.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-blqs-constructor\u2460" }], "title": "7.2.3. Constructor and properties" }], "url": "#blqs-constructor" },
                "blqs-high-water-mark": { "dfnID": "blqs-high-water-mark", "dfnText": "highWaterMark", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-blqs-high-water-mark" }], "title": "7.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-blqs-high-water-mark\u2460" }], "title": "7.2.3. Constructor and properties" }], "url": "#blqs-high-water-mark" },
                "blqs-size": { "dfnID": "blqs-size", "dfnText": "size", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-blqs-size" }], "title": "7.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-blqs-size\u2460" }], "title": "7.2.2. Internal slots" }, { "refs": [{ "id": "ref-for-blqs-size\u2461" }], "title": "7.2.3. Constructor and properties" }], "url": "#blqs-size" },
                "branches-of-a-readable-stream-tee": { "dfnID": "branches-of-a-readable-stream-tee", "dfnText": "branches", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-branches-of-a-readable-stream-tee" }], "title": "2.4. Pipe chains and backpressure" }], "url": "#branches-of-a-readable-stream-tee" },
                "byob-reader": { "dfnID": "byob-reader", "dfnText": "BYOB readers", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-byob-reader" }], "title": "2.1. Readable streams" }, { "refs": [{ "id": "ref-for-byob-reader\u2460" }], "title": "4.1. Using readable streams" }, { "refs": [{ "id": "ref-for-byob-reader\u2461" }, { "id": "ref-for-byob-reader\u2462" }], "title": "4.2.3. The underlying source API" }, { "refs": [{ "id": "ref-for-byob-reader\u2463" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-byob-reader\u2464" }], "title": "4.5. The ReadableStreamBYOBReader class" }, { "refs": [{ "id": "ref-for-byob-reader\u2465" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-byob-reader\u2466" }, { "id": "ref-for-byob-reader\u2467" }, { "id": "ref-for-byob-reader\u2468" }], "title": "10.3. A readable byte stream with an underlying push source (no backpressure support)" }, { "refs": [{ "id": "ref-for-byob-reader\u2460\u24ea" }], "title": "10.5. A readable byte stream with an underlying pull source" }], "url": "#byob-reader" },
                "byob-reader-constructor": { "dfnID": "byob-reader-constructor", "dfnText": "new ReadableStreamBYOBReader(stream)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-byob-reader-constructor" }], "title": "4.5.1. Interface definition" }, { "refs": [{ "id": "ref-for-byob-reader-constructor\u2460" }], "title": "4.5.3. Constructor, methods, and properties" }], "url": "#byob-reader-constructor" },
                "byob-reader-read": { "dfnID": "byob-reader-read", "dfnText": "read(view, options)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-byob-reader-read" }], "title": "4.1. Using readable streams" }, { "refs": [{ "id": "ref-for-byob-reader-read\u2460" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-byob-reader-read\u2461" }], "title": "4.5.1. Interface definition" }, { "refs": [{ "id": "ref-for-byob-reader-read\u2462" }, { "id": "ref-for-byob-reader-read\u2463" }], "title": "4.5.2. Internal slots" }, { "refs": [{ "id": "ref-for-byob-reader-read\u2464" }, { "id": "ref-for-byob-reader-read\u2465" }], "title": "4.5.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-byob-reader-read\u2466" }], "title": "4.7.2. Internal slots" }, { "refs": [{ "id": "ref-for-byob-reader-read\u2467" }, { "id": "ref-for-byob-reader-read\u2468" }], "title": "4.9.5. Byte stream controllers" }], "url": "#byob-reader-read" },
                "byob-reader-release-lock": { "dfnID": "byob-reader-release-lock", "dfnText": "releaseLock()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-byob-reader-release-lock" }], "title": "2.6. Locking" }, { "refs": [{ "id": "ref-for-byob-reader-release-lock\u2460" }], "title": "4.5.1. Interface definition" }, { "refs": [{ "id": "ref-for-byob-reader-release-lock\u2461" }], "title": "4.5.3. Constructor, methods, and properties" }], "url": "#byob-reader-release-lock" },
                "byte-length-queuing-strategy-size-function": { "dfnID": "byte-length-queuing-strategy-size-function", "dfnText": "byte length queuing\n strategy size function", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-byte-length-queuing-strategy-size-function" }], "title": "7.2.2. Internal slots" }, { "refs": [{ "id": "ref-for-byte-length-queuing-strategy-size-function\u2460" }], "title": "7.2.3. Constructor and properties" }], "url": "#byte-length-queuing-strategy-size-function" },
                "bytelengthqueuingstrategy": { "dfnID": "bytelengthqueuingstrategy", "dfnText": "ByteLengthQueuingStrategy", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-bytelengthqueuingstrategy" }], "title": "7.1. The queuing strategy API" }, { "refs": [{ "id": "ref-for-bytelengthqueuingstrategy\u2460" }, { "id": "ref-for-bytelengthqueuingstrategy\u2461" }, { "id": "ref-for-bytelengthqueuingstrategy\u2462" }], "title": "7.2. The ByteLengthQueuingStrategy class" }, { "refs": [{ "id": "ref-for-bytelengthqueuingstrategy\u2463" }], "title": "7.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-bytelengthqueuingstrategy\u2464" }], "title": "7.2.2. Internal slots" }, { "refs": [{ "id": "ref-for-bytelengthqueuingstrategy\u2465" }, { "id": "ref-for-bytelengthqueuingstrategy\u2466" }], "title": "7.2.3. Constructor and properties" }], "url": "#bytelengthqueuingstrategy" },
                "bytelengthqueuingstrategy-highwatermark": { "dfnID": "bytelengthqueuingstrategy-highwatermark", "dfnText": "[[highWaterMark]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-bytelengthqueuingstrategy-highwatermark" }, { "id": "ref-for-bytelengthqueuingstrategy-highwatermark\u2460" }], "title": "7.2.3. Constructor and properties" }], "url": "#bytelengthqueuingstrategy-highwatermark" },
                "c01cbda0": { "dfnID": "c01cbda0", "dfnText": "EnforceRange", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-EnforceRange" }], "title": "4.2.3. The underlying source API" }, { "refs": [{ "id": "ref-for-EnforceRange\u2460" }], "title": "4.5.1. Interface definition" }, { "refs": [{ "id": "ref-for-EnforceRange\u2461" }], "title": "4.8.1. Interface definition" }], "url": "https://webidl.spec.whatwg.org/#EnforceRange" },
                "c5c13e72": { "dfnID": "c5c13e72", "dfnText": "Completion Records", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-completion-record-specification-type" }], "title": "3. Conventions" }, { "refs": [{ "id": "ref-for-sec-completion-record-specification-type\u2460" }], "title": "4.9.4. Default controllers" }, { "refs": [{ "id": "ref-for-sec-completion-record-specification-type\u2461" }], "title": "5.5.4. Default controllers" }], "url": "https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-completion-record-specification-type" },
                "c88f3887": { "dfnID": "c88f3887", "dfnText": "item", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-struct-item" }], "title": "4.2.5. Asynchronous iteration" }, { "refs": [{ "id": "ref-for-struct-item\u2460" }], "title": "4.4.2. Internal slots" }, { "refs": [{ "id": "ref-for-struct-item\u2461" }], "title": "4.4.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-struct-item\u2462" }], "title": "4.5.2. Internal slots" }, { "refs": [{ "id": "ref-for-struct-item\u2463" }], "title": "4.5.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-struct-item\u2464" }, { "id": "ref-for-struct-item\u2465" }], "title": "4.7.2. Internal slots" }, { "refs": [{ "id": "ref-for-struct-item\u2466" }, { "id": "ref-for-struct-item\u2467" }, { "id": "ref-for-struct-item\u2468" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-struct-item\u2460\u24ea" }], "title": "5.2.2. Internal slots" }, { "refs": [{ "id": "ref-for-struct-item\u2460\u2460" }], "title": "8.1. Queue-with-sizes" }, { "refs": [{ "id": "ref-for-struct-item\u2460\u2461" }], "title": "9.1.2. Reading" }], "url": "https://infra.spec.whatwg.org/#struct-item" },
                "cadf5fe9": { "dfnID": "cadf5fe9", "dfnText": "converted to an IDL value", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-convert-ecmascript-to-idl-value" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-dfn-convert-ecmascript-to-idl-value\u2460" }], "title": "5.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-dfn-convert-ecmascript-to-idl-value\u2461" }], "title": "6.2.4. Constructor and properties" }], "url": "https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value" },
                "callbackdef-queuingstrategysize": { "dfnID": "callbackdef-queuingstrategysize", "dfnText": "QueuingStrategySize", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-callbackdef-queuingstrategysize" }, { "id": "ref-for-callbackdef-queuingstrategysize\u2460" }], "title": "7.1. The queuing strategy API" }], "url": "#callbackdef-queuingstrategysize" },
                "callbackdef-transformercancelcallback": { "dfnID": "callbackdef-transformercancelcallback", "dfnText": "TransformerCancelCallback", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-callbackdef-transformercancelcallback" }, { "id": "ref-for-callbackdef-transformercancelcallback\u2460" }], "title": "6.2.3. The transformer API" }], "url": "#callbackdef-transformercancelcallback" },
                "callbackdef-transformerflushcallback": { "dfnID": "callbackdef-transformerflushcallback", "dfnText": "TransformerFlushCallback", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-callbackdef-transformerflushcallback" }, { "id": "ref-for-callbackdef-transformerflushcallback\u2460" }], "title": "6.2.3. The transformer API" }], "url": "#callbackdef-transformerflushcallback" },
                "callbackdef-transformerstartcallback": { "dfnID": "callbackdef-transformerstartcallback", "dfnText": "TransformerStartCallback", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-callbackdef-transformerstartcallback" }, { "id": "ref-for-callbackdef-transformerstartcallback\u2460" }], "title": "6.2.3. The transformer API" }], "url": "#callbackdef-transformerstartcallback" },
                "callbackdef-transformertransformcallback": { "dfnID": "callbackdef-transformertransformcallback", "dfnText": "TransformerTransformCallback", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-callbackdef-transformertransformcallback" }, { "id": "ref-for-callbackdef-transformertransformcallback\u2460" }], "title": "6.2.3. The transformer API" }], "url": "#callbackdef-transformertransformcallback" },
                "callbackdef-underlyingsinkabortcallback": { "dfnID": "callbackdef-underlyingsinkabortcallback", "dfnText": "UnderlyingSinkAbortCallback", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-callbackdef-underlyingsinkabortcallback" }, { "id": "ref-for-callbackdef-underlyingsinkabortcallback\u2460" }], "title": "5.2.3. The underlying sink API" }], "url": "#callbackdef-underlyingsinkabortcallback" },
                "callbackdef-underlyingsinkclosecallback": { "dfnID": "callbackdef-underlyingsinkclosecallback", "dfnText": "UnderlyingSinkCloseCallback", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-callbackdef-underlyingsinkclosecallback" }, { "id": "ref-for-callbackdef-underlyingsinkclosecallback\u2460" }], "title": "5.2.3. The underlying sink API" }], "url": "#callbackdef-underlyingsinkclosecallback" },
                "callbackdef-underlyingsinkstartcallback": { "dfnID": "callbackdef-underlyingsinkstartcallback", "dfnText": "UnderlyingSinkStartCallback", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-callbackdef-underlyingsinkstartcallback" }, { "id": "ref-for-callbackdef-underlyingsinkstartcallback\u2460" }], "title": "5.2.3. The underlying sink API" }], "url": "#callbackdef-underlyingsinkstartcallback" },
                "callbackdef-underlyingsinkwritecallback": { "dfnID": "callbackdef-underlyingsinkwritecallback", "dfnText": "UnderlyingSinkWriteCallback", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-callbackdef-underlyingsinkwritecallback" }, { "id": "ref-for-callbackdef-underlyingsinkwritecallback\u2460" }], "title": "5.2.3. The underlying sink API" }], "url": "#callbackdef-underlyingsinkwritecallback" },
                "callbackdef-underlyingsourcecancelcallback": { "dfnID": "callbackdef-underlyingsourcecancelcallback", "dfnText": "UnderlyingSourceCancelCallback", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-callbackdef-underlyingsourcecancelcallback" }, { "id": "ref-for-callbackdef-underlyingsourcecancelcallback\u2460" }], "title": "4.2.3. The underlying source API" }], "url": "#callbackdef-underlyingsourcecancelcallback" },
                "callbackdef-underlyingsourcepullcallback": { "dfnID": "callbackdef-underlyingsourcepullcallback", "dfnText": "UnderlyingSourcePullCallback", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-callbackdef-underlyingsourcepullcallback" }, { "id": "ref-for-callbackdef-underlyingsourcepullcallback\u2460" }], "title": "4.2.3. The underlying source API" }], "url": "#callbackdef-underlyingsourcepullcallback" },
                "callbackdef-underlyingsourcestartcallback": { "dfnID": "callbackdef-underlyingsourcestartcallback", "dfnText": "UnderlyingSourceStartCallback", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-callbackdef-underlyingsourcestartcallback" }, { "id": "ref-for-callbackdef-underlyingsourcestartcallback\u2460" }], "title": "4.2.3. The underlying source API" }], "url": "#callbackdef-underlyingsourcestartcallback" },
                "can-transfer-array-buffer": { "dfnID": "can-transfer-array-buffer", "dfnText": "CanTransferArrayBuffer(O)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-can-transfer-array-buffer" }], "title": "4.9.5. Byte stream controllers" }], "url": "#can-transfer-array-buffer" },
                "cancel-a-readable-stream": { "dfnID": "cancel-a-readable-stream", "dfnText": "cancel", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cancel-a-readable-stream" }], "title": "2.6. Locking" }, { "refs": [{ "id": "ref-for-cancel-a-readable-stream\u2460" }], "title": "4.2.3. The underlying source API" }, { "refs": [{ "id": "ref-for-cancel-a-readable-stream\u2461" }, { "id": "ref-for-cancel-a-readable-stream\u2462" }, { "id": "ref-for-cancel-a-readable-stream\u2463" }, { "id": "ref-for-cancel-a-readable-stream\u2464" }, { "id": "ref-for-cancel-a-readable-stream\u2465" }, { "id": "ref-for-cancel-a-readable-stream\u2466" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-cancel-a-readable-stream\u2467" }], "title": "4.2.5. Asynchronous iteration" }, { "refs": [{ "id": "ref-for-cancel-a-readable-stream\u2468" }], "title": "4.5.2. Internal slots" }, { "refs": [{ "id": "ref-for-cancel-a-readable-stream\u2460\u24ea" }], "title": "4.5.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-cancel-a-readable-stream\u2460\u2460" }], "title": "4.9.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-cancel-a-readable-stream\u2460\u2461" }], "title": "9.4.1. Duplex streams" }], "url": "#cancel-a-readable-stream" },
                "cbdc89b4": { "dfnID": "cbdc89b4", "dfnText": "while", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-iteration-while" }, { "id": "ref-for-iteration-while\u2460" }, { "id": "ref-for-iteration-while\u2461" }], "title": "4.9.5. Byte stream controllers" }], "url": "https://infra.spec.whatwg.org/#iteration-while" },
                "cca3cdb2": { "dfnID": "cca3cdb2", "dfnText": "AbortSignal", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-abortsignal" }], "title": "4.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-abortsignal\u2460" }, { "id": "ref-for-abortsignal\u2461" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-abortsignal\u2462" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-abortsignal\u2463" }], "title": "5.4.1. Interface definition" }, { "refs": [{ "id": "ref-for-abortsignal\u2464" }], "title": "9.2.1. Creation and manipulation" }, { "refs": [{ "id": "ref-for-abortsignal\u2465" }, { "id": "ref-for-abortsignal\u2466" }], "title": "9.5. Piping" }], "url": "https://dom.spec.whatwg.org/#abortsignal" },
                "chunk": { "dfnID": "chunk", "dfnText": "chunk", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-chunk" }, { "id": "ref-for-chunk\u2460" }], "title": "2.1. Readable streams" }, { "refs": [{ "id": "ref-for-chunk\u2461" }], "title": "2.2. Writable streams" }, { "refs": [{ "id": "ref-for-chunk\u2462" }], "title": "2.3. Transform streams" }, { "refs": [{ "id": "ref-for-chunk\u2463" }, { "id": "ref-for-chunk\u2464" }], "title": "2.4. Pipe chains and backpressure" }, { "refs": [{ "id": "ref-for-chunk\u2465" }, { "id": "ref-for-chunk\u2466" }, { "id": "ref-for-chunk\u2467" }, { "id": "ref-for-chunk\u2468" }], "title": "2.5. Internal queues and queuing strategies" }, { "refs": [{ "id": "ref-for-chunk\u2460\u24ea" }, { "id": "ref-for-chunk\u2460\u2460" }], "title": "2.6. Locking" }, { "refs": [{ "id": "ref-for-chunk\u2460\u2461" }], "title": "4.1. Using readable streams" }, { "refs": [{ "id": "ref-for-chunk\u2460\u2462" }], "title": "4.2. The ReadableStream class" }, { "refs": [{ "id": "ref-for-chunk\u2460\u2463" }], "title": "4.2.3. The underlying source API" }, { "refs": [{ "id": "ref-for-chunk\u2460\u2464" }, { "id": "ref-for-chunk\u2460\u2465" }, { "id": "ref-for-chunk\u2460\u2466" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-chunk\u2460\u2467" }], "title": "4.2.5. Asynchronous iteration" }, { "refs": [{ "id": "ref-for-chunk\u2460\u2468" }, { "id": "ref-for-chunk\u2461\u24ea" }, { "id": "ref-for-chunk\u2461\u2460" }, { "id": "ref-for-chunk\u2461\u2461" }], "title": "4.4.2. Internal slots" }, { "refs": [{ "id": "ref-for-chunk\u2461\u2462" }], "title": "4.4.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-chunk\u2461\u2463" }, { "id": "ref-for-chunk\u2461\u2464" }, { "id": "ref-for-chunk\u2461\u2465" }, { "id": "ref-for-chunk\u2461\u2466" }, { "id": "ref-for-chunk\u2461\u2467" }], "title": "4.5.2. Internal slots" }, { "refs": [{ "id": "ref-for-chunk\u2461\u2468" }, { "id": "ref-for-chunk\u2462\u24ea" }, { "id": "ref-for-chunk\u2462\u2460" }], "title": "4.6.2. Internal slots" }, { "refs": [{ "id": "ref-for-chunk\u2462\u2461" }, { "id": "ref-for-chunk\u2462\u2462" }], "title": "4.6.3. Methods and properties" }, { "refs": [{ "id": "ref-for-chunk\u2462\u2463" }, { "id": "ref-for-chunk\u2462\u2464" }, { "id": "ref-for-chunk\u2462\u2465" }], "title": "4.7.2. Internal slots" }, { "refs": [{ "id": "ref-for-chunk\u2462\u2466" }, { "id": "ref-for-chunk\u2462\u2467" }], "title": "4.7.3. Methods and properties" }, { "refs": [{ "id": "ref-for-chunk\u2462\u2468" }, { "id": "ref-for-chunk\u2463\u24ea" }, { "id": "ref-for-chunk\u2463\u2460" }, { "id": "ref-for-chunk\u2463\u2461" }, { "id": "ref-for-chunk\u2463\u2462" }, { "id": "ref-for-chunk\u2463\u2463" }, { "id": "ref-for-chunk\u2463\u2464" }, { "id": "ref-for-chunk\u2463\u2465" }, { "id": "ref-for-chunk\u2463\u2466" }, { "id": "ref-for-chunk\u2463\u2467" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-chunk\u2463\u2468" }], "title": "4.9.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-chunk\u2464\u24ea" }], "title": "5.1. Using writable streams" }, { "refs": [{ "id": "ref-for-chunk\u2464\u2460" }, { "id": "ref-for-chunk\u2464\u2461" }, { "id": "ref-for-chunk\u2464\u2462" }], "title": "5.2.3. The underlying sink API" }, { "refs": [{ "id": "ref-for-chunk\u2464\u2463" }, { "id": "ref-for-chunk\u2464\u2464" }], "title": "5.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-chunk\u2464\u2465" }, { "id": "ref-for-chunk\u2464\u2466" }, { "id": "ref-for-chunk\u2464\u2467" }], "title": "5.3.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-chunk\u2464\u2468" }, { "id": "ref-for-chunk\u2465\u24ea" }, { "id": "ref-for-chunk\u2465\u2460" }, { "id": "ref-for-chunk\u2465\u2461" }], "title": "5.4.2. Internal slots" }, { "refs": [{ "id": "ref-for-chunk\u2465\u2462" }], "title": "6.1. Using transform streams" }, { "refs": [{ "id": "ref-for-chunk\u2465\u2463" }, { "id": "ref-for-chunk\u2465\u2464" }, { "id": "ref-for-chunk\u2465\u2465" }, { "id": "ref-for-chunk\u2465\u2466" }, { "id": "ref-for-chunk\u2465\u2467" }], "title": "6.2.3. The transformer API" }, { "refs": [{ "id": "ref-for-chunk\u2465\u2468" }], "title": "6.3.2. Internal slots" }, { "refs": [{ "id": "ref-for-chunk\u2466\u24ea" }, { "id": "ref-for-chunk\u2466\u2460" }, { "id": "ref-for-chunk\u2466\u2461" }], "title": "6.3.3. Methods and properties" }, { "refs": [{ "id": "ref-for-chunk\u2466\u2462" }], "title": "7.1. The queuing strategy API" }, { "refs": [{ "id": "ref-for-chunk\u2466\u2463" }, { "id": "ref-for-chunk\u2466\u2464" }, { "id": "ref-for-chunk\u2466\u2465" }], "title": "7.2. The ByteLengthQueuingStrategy class" }, { "refs": [{ "id": "ref-for-chunk\u2466\u2466" }, { "id": "ref-for-chunk\u2466\u2467" }], "title": "7.3. The CountQueuingStrategy class" }, { "refs": [{ "id": "ref-for-chunk\u2466\u2468" }], "title": "8.1. Queue-with-sizes" }, { "refs": [{ "id": "ref-for-chunk\u2467\u24ea" }], "title": "9.1.1. Creation and manipulation" }, { "refs": [{ "id": "ref-for-chunk\u2467\u2460" }], "title": "9.1.2. Reading" }, { "refs": [{ "id": "ref-for-chunk\u2467\u2461" }, { "id": "ref-for-chunk\u2467\u2462" }, { "id": "ref-for-chunk\u2467\u2463" }, { "id": "ref-for-chunk\u2467\u2464" }], "title": "9.2.1. Creation and manipulation" }, { "refs": [{ "id": "ref-for-chunk\u2467\u2465" }, { "id": "ref-for-chunk\u2467\u2466" }], "title": "9.3.1. Creation and manipulation" }, { "refs": [{ "id": "ref-for-chunk\u2467\u2467" }], "title": "10.1. A readable stream with an underlying push source (no backpressure support)" }, { "refs": [{ "id": "ref-for-chunk\u2467\u2468" }], "title": "10.3. A readable byte stream with an underlying push source (no backpressure support)" }, { "refs": [{ "id": "ref-for-chunk\u2468\u24ea" }], "title": "10.7. A writable stream with backpressure and success signals" }], "url": "#chunk" },
                "close-sentinel": { "dfnID": "close-sentinel", "dfnText": "close sentinel", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-close-sentinel" }, { "id": "ref-for-close-sentinel\u2460" }], "title": "5.5.4. Default controllers" }], "url": "#close-sentinel" },
                "consumer": { "dfnID": "consumer", "dfnText": "consumer", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-consumer" }], "title": "2.6. Locking" }, { "refs": [{ "id": "ref-for-consumer\u2460" }, { "id": "ref-for-consumer\u2461" }], "title": "4.2.3. The underlying source API" }, { "refs": [{ "id": "ref-for-consumer\u2462" }], "title": "4.4.2. Internal slots" }, { "refs": [{ "id": "ref-for-consumer\u2463" }], "title": "4.5.2. Internal slots" }, { "refs": [{ "id": "ref-for-consumer\u2464" }], "title": "4.6.3. Methods and properties" }, { "refs": [{ "id": "ref-for-consumer\u2465" }], "title": "4.7.3. Methods and properties" }, { "refs": [{ "id": "ref-for-consumer\u2466" }, { "id": "ref-for-consumer\u2467" }], "title": "4.8.3. Methods and properties" }, { "refs": [{ "id": "ref-for-consumer\u2468" }], "title": "9.1.1. Creation and manipulation" }, { "refs": [{ "id": "ref-for-consumer\u2460\u24ea" }], "title": "10.3. A readable byte stream with an underlying push source (no backpressure support)" }], "url": "#consumer" },
                "count-queuing-strategy-size-function": { "dfnID": "count-queuing-strategy-size-function", "dfnText": "count queuing strategy\n size function", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-count-queuing-strategy-size-function" }], "title": "7.3.2. Internal slots" }, { "refs": [{ "id": "ref-for-count-queuing-strategy-size-function\u2460" }], "title": "7.3.3. Constructor and properties" }], "url": "#count-queuing-strategy-size-function" },
                "countqueuingstrategy": { "dfnID": "countqueuingstrategy", "dfnText": "CountQueuingStrategy", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-countqueuingstrategy" }], "title": "2.5. Internal queues and queuing strategies" }, { "refs": [{ "id": "ref-for-countqueuingstrategy\u2460" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-countqueuingstrategy\u2461" }], "title": "5.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-countqueuingstrategy\u2462" }], "title": "6.2.4. Constructor and properties" }, { "refs": [{ "id": "ref-for-countqueuingstrategy\u2463" }], "title": "7.1. The queuing strategy API" }, { "refs": [{ "id": "ref-for-countqueuingstrategy\u2464" }], "title": "7.3. The CountQueuingStrategy class" }, { "refs": [{ "id": "ref-for-countqueuingstrategy\u2465" }], "title": "7.3.1. Interface definition" }, { "refs": [{ "id": "ref-for-countqueuingstrategy\u2466" }], "title": "7.3.2. Internal slots" }, { "refs": [{ "id": "ref-for-countqueuingstrategy\u2467" }, { "id": "ref-for-countqueuingstrategy\u2468" }], "title": "7.3.3. Constructor and properties" }], "url": "#countqueuingstrategy" },
                "countqueuingstrategy-highwatermark": { "dfnID": "countqueuingstrategy-highwatermark", "dfnText": "[[highWaterMark]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-countqueuingstrategy-highwatermark" }, { "id": "ref-for-countqueuingstrategy-highwatermark\u2460" }], "title": "7.3.3. Constructor and properties" }], "url": "#countqueuingstrategy-highwatermark" },
                "cqs-constructor": { "dfnID": "cqs-constructor", "dfnText": "new CountQueuingStrategy(init)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cqs-constructor" }], "title": "7.3.1. Interface definition" }, { "refs": [{ "id": "ref-for-cqs-constructor\u2460" }], "title": "7.3.3. Constructor and properties" }], "url": "#cqs-constructor" },
                "cqs-high-water-mark": { "dfnID": "cqs-high-water-mark", "dfnText": "highWaterMark", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cqs-high-water-mark" }], "title": "7.3.1. Interface definition" }, { "refs": [{ "id": "ref-for-cqs-high-water-mark\u2460" }], "title": "7.3.3. Constructor and properties" }], "url": "#cqs-high-water-mark" },
                "cqs-size": { "dfnID": "cqs-size", "dfnText": "size", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cqs-size" }], "title": "7.3.1. Interface definition" }, { "refs": [{ "id": "ref-for-cqs-size\u2460" }], "title": "7.3.2. Internal slots" }, { "refs": [{ "id": "ref-for-cqs-size\u2461" }], "title": "7.3.3. Constructor and properties" }], "url": "#cqs-size" },
                "create-an-identity-transformstream": { "dfnID": "create-an-identity-transformstream", "dfnText": "create\n an identity TransformStream", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-create-an-identity-transformstream" }], "title": "9.5. Piping" }], "url": "#create-an-identity-transformstream" },
                "create-readable-stream": { "dfnID": "create-readable-stream", "dfnText": "CreateReadableStream(startAlgorithm, pullAlgorithm,\n cancelAlgorithm[, highWaterMark, [, sizeAlgorithm]])", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-create-readable-stream" }, { "id": "ref-for-create-readable-stream\u2460" }, { "id": "ref-for-create-readable-stream\u2461" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-create-readable-stream\u2462" }], "title": "6.4.1. Working with transform streams" }], "url": "#create-readable-stream" },
                "create-writable-stream": { "dfnID": "create-writable-stream", "dfnText": "CreateWritableStream(startAlgorithm, writeAlgorithm,\n closeAlgorithm, abortAlgorithm, highWaterMark, sizeAlgorithm)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-create-writable-stream" }], "title": "6.4.1. Working with transform streams" }], "url": "#create-writable-stream" },
                "d0b4a948": { "dfnID": "d0b4a948", "dfnText": "a promise rejected with", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-a-promise-rejected-with" }, { "id": "ref-for-a-promise-rejected-with\u2460" }, { "id": "ref-for-a-promise-rejected-with\u2461" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-a-promise-rejected-with\u2462" }], "title": "4.3.3. Methods and properties" }, { "refs": [{ "id": "ref-for-a-promise-rejected-with\u2463" }], "title": "4.4.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-a-promise-rejected-with\u2464" }, { "id": "ref-for-a-promise-rejected-with\u2465" }, { "id": "ref-for-a-promise-rejected-with\u2466" }, { "id": "ref-for-a-promise-rejected-with\u2467" }, { "id": "ref-for-a-promise-rejected-with\u2468" }, { "id": "ref-for-a-promise-rejected-with\u2460\u24ea" }, { "id": "ref-for-a-promise-rejected-with\u2460\u2460" }], "title": "4.5.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-a-promise-rejected-with\u2460\u2461" }, { "id": "ref-for-a-promise-rejected-with\u2460\u2462" }, { "id": "ref-for-a-promise-rejected-with\u2460\u2463" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-a-promise-rejected-with\u2460\u2464" }], "title": "4.9.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-a-promise-rejected-with\u2460\u2465" }, { "id": "ref-for-a-promise-rejected-with\u2460\u2466" }], "title": "4.9.3. Readers" }, { "refs": [{ "id": "ref-for-a-promise-rejected-with\u2460\u2467" }, { "id": "ref-for-a-promise-rejected-with\u2460\u2468" }, { "id": "ref-for-a-promise-rejected-with\u2461\u24ea" }], "title": "5.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-a-promise-rejected-with\u2461\u2460" }, { "id": "ref-for-a-promise-rejected-with\u2461\u2461" }, { "id": "ref-for-a-promise-rejected-with\u2461\u2462" }, { "id": "ref-for-a-promise-rejected-with\u2461\u2463" }], "title": "5.3.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-a-promise-rejected-with\u2461\u2464" }, { "id": "ref-for-a-promise-rejected-with\u2461\u2465" }, { "id": "ref-for-a-promise-rejected-with\u2461\u2466" }, { "id": "ref-for-a-promise-rejected-with\u2461\u2467" }], "title": "5.5.1. Working with writable streams" }, { "refs": [{ "id": "ref-for-a-promise-rejected-with\u2461\u2468" }, { "id": "ref-for-a-promise-rejected-with\u2462\u24ea" }, { "id": "ref-for-a-promise-rejected-with\u2462\u2460" }, { "id": "ref-for-a-promise-rejected-with\u2462\u2461" }, { "id": "ref-for-a-promise-rejected-with\u2462\u2462" }, { "id": "ref-for-a-promise-rejected-with\u2462\u2463" }, { "id": "ref-for-a-promise-rejected-with\u2462\u2464" }], "title": "5.5.3. Writers" }, { "refs": [{ "id": "ref-for-a-promise-rejected-with\u2462\u2465" }], "title": "6.4.2. Default controllers" }, { "refs": [{ "id": "ref-for-a-promise-rejected-with\u2462\u2466" }, { "id": "ref-for-a-promise-rejected-with\u2462\u2467" }, { "id": "ref-for-a-promise-rejected-with\u2462\u2468" }], "title": "8.2. Transferable streams" }, { "refs": [{ "id": "ref-for-a-promise-rejected-with\u2463\u24ea" }, { "id": "ref-for-a-promise-rejected-with\u2463\u2460" }, { "id": "ref-for-a-promise-rejected-with\u2463\u2461" }, { "id": "ref-for-a-promise-rejected-with\u2463\u2462" }], "title": "9.1.1. Creation and manipulation" }, { "refs": [{ "id": "ref-for-a-promise-rejected-with\u2463\u2463" }, { "id": "ref-for-a-promise-rejected-with\u2463\u2464" }], "title": "9.2.1. Creation and manipulation" }, { "refs": [{ "id": "ref-for-a-promise-rejected-with\u2463\u2465" }, { "id": "ref-for-a-promise-rejected-with\u2463\u2466" }, { "id": "ref-for-a-promise-rejected-with\u2463\u2467" }], "title": "9.3.1. Creation and manipulation" }], "url": "https://webidl.spec.whatwg.org/#a-promise-rejected-with" },
                "d1a8bfee": { "dfnID": "d1a8bfee", "dfnText": "%ArrayBuffer%", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-arraybuffer-constructor" }], "title": "4.7.4. Internal methods" }, { "refs": [{ "id": "ref-for-sec-arraybuffer-constructor\u2460" }], "title": "4.9.5. Byte stream controllers" }, { "refs": [{ "id": "ref-for-sec-arraybuffer-constructor\u2461" }], "title": "8.3. Miscellaneous" }], "url": "https://tc39.es/ecma262/multipage/structured-data.html#sec-arraybuffer-constructor" },
                "d2c61922": { "dfnID": "d2c61922", "dfnText": "CreateDataProperty", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-createdataproperty" }, { "id": "ref-for-sec-createdataproperty\u2460" }], "title": "8.2. Transferable streams" }], "url": "https://tc39.es/ecma262/multipage/abstract-operations.html#sec-createdataproperty" },
                "d54f5897": { "dfnID": "d54f5897", "dfnText": "DataCloneError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-datacloneerror" }], "title": "4.2.6. Transfer via postMessage()" }, { "refs": [{ "id": "ref-for-datacloneerror\u2460" }], "title": "5.2.5. Transfer via postMessage()" }, { "refs": [{ "id": "ref-for-datacloneerror\u2461" }, { "id": "ref-for-datacloneerror\u2462" }], "title": "6.2.5. Transfer via postMessage()" }, { "refs": [{ "id": "ref-for-datacloneerror\u2463" }, { "id": "ref-for-datacloneerror\u2464" }], "title": "8.2. Transferable streams" }], "url": "https://webidl.spec.whatwg.org/#datacloneerror" },
                "d7a47d32": { "dfnID": "d7a47d32", "dfnText": "DetachArrayBuffer", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-detacharraybuffer" }], "title": "8.3. Miscellaneous" }], "url": "https://tc39.es/ecma262/multipage/structured-data.html#sec-detacharraybuffer" },
                "d7f1c677": { "dfnID": "d7f1c677", "dfnText": "IsDetachedBuffer", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-isdetachedbuffer" }], "title": "4.5.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-sec-isdetachedbuffer\u2460" }, { "id": "ref-for-sec-isdetachedbuffer\u2461" }], "title": "4.8.3. Methods and properties" }, { "refs": [{ "id": "ref-for-sec-isdetachedbuffer\u2462" }, { "id": "ref-for-sec-isdetachedbuffer\u2463" }, { "id": "ref-for-sec-isdetachedbuffer\u2464" }, { "id": "ref-for-sec-isdetachedbuffer\u2465" }], "title": "4.9.5. Byte stream controllers" }, { "refs": [{ "id": "ref-for-sec-isdetachedbuffer\u2466" }, { "id": "ref-for-sec-isdetachedbuffer\u2467" }, { "id": "ref-for-sec-isdetachedbuffer\u2468" }, { "id": "ref-for-sec-isdetachedbuffer\u2460\u24ea" }, { "id": "ref-for-sec-isdetachedbuffer\u2460\u2460" }], "title": "8.3. Miscellaneous" }], "url": "https://tc39.es/ecma262/multipage/structured-data.html#sec-isdetachedbuffer" },
                "d8f8e172": { "dfnID": "d8f8e172", "dfnText": "is a String", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-ecmascript-language-types-string-type" }, { "id": "ref-for-sec-ecmascript-language-types-string-type\u2460" }], "title": "8.2. Transferable streams" }], "url": "https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type" },
                "dacde8b5": { "dfnID": "dacde8b5", "dfnText": "a new promise", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-a-new-promise" }], "title": "4.2.5. Asynchronous iteration" }, { "refs": [{ "id": "ref-for-a-new-promise\u2460" }], "title": "4.4.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-a-new-promise\u2461" }], "title": "4.5.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-a-new-promise\u2462" }, { "id": "ref-for-a-new-promise\u2463" }, { "id": "ref-for-a-new-promise\u2464" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-a-new-promise\u2465" }], "title": "4.9.3. Readers" }, { "refs": [{ "id": "ref-for-a-new-promise\u2466" }, { "id": "ref-for-a-new-promise\u2467" }, { "id": "ref-for-a-new-promise\u2468" }, { "id": "ref-for-a-new-promise\u2460\u24ea" }, { "id": "ref-for-a-new-promise\u2460\u2460" }], "title": "5.5.1. Working with writable streams" }, { "refs": [{ "id": "ref-for-a-new-promise\u2460\u2461" }, { "id": "ref-for-a-new-promise\u2460\u2462" }], "title": "5.5.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-a-new-promise\u2460\u2463" }], "title": "6.2.4. Constructor and properties" }, { "refs": [{ "id": "ref-for-a-new-promise\u2460\u2464" }], "title": "6.4.1. Working with transform streams" }, { "refs": [{ "id": "ref-for-a-new-promise\u2460\u2465" }, { "id": "ref-for-a-new-promise\u2460\u2466" }], "title": "8.2. Transferable streams" }], "url": "https://webidl.spec.whatwg.org/#a-new-promise" },
                "dbe29252": { "dfnID": "dbe29252", "dfnText": "transferable object", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-transferable-objects" }], "title": "4.2.6. Transfer via postMessage()" }, { "refs": [{ "id": "ref-for-transferable-objects\u2460" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-transferable-objects\u2461" }], "title": "5.2.5. Transfer via postMessage()" }, { "refs": [{ "id": "ref-for-transferable-objects\u2462" }], "title": "6.2.5. Transfer via postMessage()" }], "url": "https://html.spec.whatwg.org/multipage/structured-data.html#transferable-objects" },
                "dca2de17": { "dfnID": "dca2de17", "dfnText": "DOMException", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-DOMException" }], "title": "4.2.6. Transfer via postMessage()" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2460" }], "title": "5.2.5. Transfer via postMessage()" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2461" }, { "id": "ref-for-idl-DOMException\u2462" }], "title": "6.2.5. Transfer via postMessage()" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2463" }, { "id": "ref-for-idl-DOMException\u2464" }], "title": "8.2. Transferable streams" }], "url": "https://webidl.spec.whatwg.org/#idl-DOMException" },
                "default-reader": { "dfnID": "default-reader", "dfnText": "default readers", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-default-reader" }], "title": "4.1. Using readable streams" }, { "refs": [{ "id": "ref-for-default-reader\u2460" }], "title": "4.2.3. The underlying source API" }, { "refs": [{ "id": "ref-for-default-reader\u2461" }], "title": "4.4. The ReadableStreamDefaultReader class" }, { "refs": [{ "id": "ref-for-default-reader\u2462" }], "title": "4.9.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-default-reader\u2463" }, { "id": "ref-for-default-reader\u2464" }], "title": "10.5. A readable byte stream with an underlying pull source" }], "url": "#default-reader" },
                "default-reader-constructor": { "dfnID": "default-reader-constructor", "dfnText": "new ReadableStreamDefaultReader(stream)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-default-reader-constructor" }], "title": "4.4.1. Interface definition" }, { "refs": [{ "id": "ref-for-default-reader-constructor\u2460" }], "title": "4.4.3. Constructor, methods, and properties" }], "url": "#default-reader-constructor" },
                "default-reader-read": { "dfnID": "default-reader-read", "dfnText": "read()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-default-reader-read" }], "title": "4.4.1. Interface definition" }, { "refs": [{ "id": "ref-for-default-reader-read\u2460" }, { "id": "ref-for-default-reader-read\u2461" }], "title": "4.4.3. Constructor, methods, and properties" }], "url": "#default-reader-read" },
                "default-reader-release-lock": { "dfnID": "default-reader-release-lock", "dfnText": "releaseLock()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-default-reader-release-lock" }], "title": "2.6. Locking" }, { "refs": [{ "id": "ref-for-default-reader-release-lock\u2460" }], "title": "4.4.1. Interface definition" }, { "refs": [{ "id": "ref-for-default-reader-release-lock\u2461" }], "title": "4.4.3. Constructor, methods, and properties" }], "url": "#default-reader-release-lock" },
                "default-writer-abort": { "dfnID": "default-writer-abort", "dfnText": "abort(reason)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-default-writer-abort" }], "title": "5.2.2. Internal slots" }, { "refs": [{ "id": "ref-for-default-writer-abort\u2460" }, { "id": "ref-for-default-writer-abort\u2461" }], "title": "5.2.3. The underlying sink API" }, { "refs": [{ "id": "ref-for-default-writer-abort\u2462" }], "title": "5.3.1. Interface definition" }, { "refs": [{ "id": "ref-for-default-writer-abort\u2463" }], "title": "5.3.3. Constructor, methods, and properties" }], "url": "#default-writer-abort" },
                "default-writer-close": { "dfnID": "default-writer-close", "dfnText": "close()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-default-writer-close" }, { "id": "ref-for-default-writer-close\u2460" }, { "id": "ref-for-default-writer-close\u2461" }], "title": "5.1. Using writable streams" }, { "refs": [{ "id": "ref-for-default-writer-close\u2462" }], "title": "5.2.2. Internal slots" }, { "refs": [{ "id": "ref-for-default-writer-close\u2463" }, { "id": "ref-for-default-writer-close\u2464" }], "title": "5.2.3. The underlying sink API" }, { "refs": [{ "id": "ref-for-default-writer-close\u2465" }], "title": "5.3.1. Interface definition" }, { "refs": [{ "id": "ref-for-default-writer-close\u2466" }], "title": "5.3.3. Constructor, methods, and properties" }], "url": "#default-writer-close" },
                "default-writer-closed": { "dfnID": "default-writer-closed", "dfnText": "closed", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-default-writer-closed" }], "title": "5.3.1. Interface definition" }, { "refs": [{ "id": "ref-for-default-writer-closed\u2460" }], "title": "5.3.2. Internal slots" }, { "refs": [{ "id": "ref-for-default-writer-closed\u2461" }], "title": "5.3.3. Constructor, methods, and properties" }], "url": "#default-writer-closed" },
                "default-writer-constructor": { "dfnID": "default-writer-constructor", "dfnText": "new WritableStreamDefaultWriter(stream)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-default-writer-constructor" }], "title": "5.3.1. Interface definition" }, { "refs": [{ "id": "ref-for-default-writer-constructor\u2460" }], "title": "5.3.3. Constructor, methods, and properties" }], "url": "#default-writer-constructor" },
                "default-writer-desired-size": { "dfnID": "default-writer-desired-size", "dfnText": "desiredSize", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-default-writer-desired-size" }], "title": "2.4. Pipe chains and backpressure" }, { "refs": [{ "id": "ref-for-default-writer-desired-size\u2460" }, { "id": "ref-for-default-writer-desired-size\u2461" }, { "id": "ref-for-default-writer-desired-size\u2462" }], "title": "5.1. Using writable streams" }, { "refs": [{ "id": "ref-for-default-writer-desired-size\u2463" }], "title": "5.2.3. The underlying sink API" }, { "refs": [{ "id": "ref-for-default-writer-desired-size\u2464" }], "title": "5.3.1. Interface definition" }, { "refs": [{ "id": "ref-for-default-writer-desired-size\u2465" }], "title": "5.3.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-default-writer-desired-size\u2466" }], "title": "7.1. The queuing strategy API" }], "url": "#default-writer-desired-size" },
                "default-writer-ready": { "dfnID": "default-writer-ready", "dfnText": "ready", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-default-writer-ready" }, { "id": "ref-for-default-writer-ready\u2460" }, { "id": "ref-for-default-writer-ready\u2461" }, { "id": "ref-for-default-writer-ready\u2462" }, { "id": "ref-for-default-writer-ready\u2463" }, { "id": "ref-for-default-writer-ready\u2464" }, { "id": "ref-for-default-writer-ready\u2465" }], "title": "5.1. Using writable streams" }, { "refs": [{ "id": "ref-for-default-writer-ready\u2466" }], "title": "5.3.1. Interface definition" }, { "refs": [{ "id": "ref-for-default-writer-ready\u2467" }], "title": "5.3.2. Internal slots" }, { "refs": [{ "id": "ref-for-default-writer-ready\u2468" }], "title": "5.3.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-default-writer-ready\u2460\u24ea" }], "title": "10.6. A writable stream with no backpressure or success signals" }, { "refs": [{ "id": "ref-for-default-writer-ready\u2460\u2460" }], "title": "10.7. A writable stream with backpressure and success signals" }], "url": "#default-writer-ready" },
                "default-writer-release-lock": { "dfnID": "default-writer-release-lock", "dfnText": "releaseLock()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-default-writer-release-lock" }], "title": "2.6. Locking" }, { "refs": [{ "id": "ref-for-default-writer-release-lock\u2460" }], "title": "5.3.1. Interface definition" }, { "refs": [{ "id": "ref-for-default-writer-release-lock\u2461" }], "title": "5.3.3. Constructor, methods, and properties" }], "url": "#default-writer-release-lock" },
                "default-writer-write": { "dfnID": "default-writer-write", "dfnText": "write(chunk)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-default-writer-write" }, { "id": "ref-for-default-writer-write\u2460" }, { "id": "ref-for-default-writer-write\u2461" }, { "id": "ref-for-default-writer-write\u2462" }, { "id": "ref-for-default-writer-write\u2463" }, { "id": "ref-for-default-writer-write\u2464" }, { "id": "ref-for-default-writer-write\u2465" }, { "id": "ref-for-default-writer-write\u2466" }, { "id": "ref-for-default-writer-write\u2467" }], "title": "5.1. Using writable streams" }, { "refs": [{ "id": "ref-for-default-writer-write\u2468" }], "title": "5.2.3. The underlying sink API" }, { "refs": [{ "id": "ref-for-default-writer-write\u2460\u24ea" }], "title": "5.3.1. Interface definition" }, { "refs": [{ "id": "ref-for-default-writer-write\u2460\u2460" }, { "id": "ref-for-default-writer-write\u2460\u2461" }, { "id": "ref-for-default-writer-write\u2460\u2462" }, { "id": "ref-for-default-writer-write\u2460\u2463" }], "title": "5.3.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-default-writer-write\u2460\u2464" }], "title": "6.2.3. The transformer API" }, { "refs": [{ "id": "ref-for-default-writer-write\u2460\u2465" }], "title": "10.6. A writable stream with no backpressure or success signals" }], "url": "#default-writer-write" },
                "dequeue-value": { "dfnID": "dequeue-value", "dfnText": "DequeueValue(container)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dequeue-value" }], "title": "4.6.4. Internal methods" }, { "refs": [{ "id": "ref-for-dequeue-value\u2460" }, { "id": "ref-for-dequeue-value\u2461" }], "title": "5.5.4. Default controllers" }], "url": "#dequeue-value" },
                "desired-size-to-fill-a-streams-internal-queue": { "dfnID": "desired-size-to-fill-a-streams-internal-queue", "dfnText": "desired size to fill the stream\u2019s queue", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-desired-size-to-fill-a-streams-internal-queue" }, { "id": "ref-for-desired-size-to-fill-a-streams-internal-queue\u2460" }], "title": "4.2.3. The underlying source API" }, { "refs": [{ "id": "ref-for-desired-size-to-fill-a-streams-internal-queue\u2461" }], "title": "4.6.3. Methods and properties" }, { "refs": [{ "id": "ref-for-desired-size-to-fill-a-streams-internal-queue\u2462" }], "title": "4.7.3. Methods and properties" }, { "refs": [{ "id": "ref-for-desired-size-to-fill-a-streams-internal-queue\u2463" }], "title": "5.1. Using writable streams" }, { "refs": [{ "id": "ref-for-desired-size-to-fill-a-streams-internal-queue\u2464" }], "title": "5.2.3. The underlying sink API" }, { "refs": [{ "id": "ref-for-desired-size-to-fill-a-streams-internal-queue\u2465" }, { "id": "ref-for-desired-size-to-fill-a-streams-internal-queue\u2466" }, { "id": "ref-for-desired-size-to-fill-a-streams-internal-queue\u2467" }], "title": "5.3.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-desired-size-to-fill-a-streams-internal-queue\u2468" }], "title": "6.3.3. Methods and properties" }], "url": "#desired-size-to-fill-a-streams-internal-queue" },
                "df16744f": { "dfnID": "df16744f", "dfnText": "MessagePort", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-messageport" }, { "id": "ref-for-messageport\u2460" }], "title": "4.2.6. Transfer via postMessage()" }, { "refs": [{ "id": "ref-for-messageport\u2461" }, { "id": "ref-for-messageport\u2462" }], "title": "5.2.5. Transfer via postMessage()" }], "url": "https://html.spec.whatwg.org/multipage/web-messaging.html#messageport" },
                "dictdef-queuingstrategy": { "dfnID": "dictdef-queuingstrategy", "dfnText": "QueuingStrategy", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-queuingstrategy" }], "title": "4.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-dictdef-queuingstrategy\u2460" }], "title": "5.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-dictdef-queuingstrategy\u2461" }, { "id": "ref-for-dictdef-queuingstrategy\u2462" }], "title": "6.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-dictdef-queuingstrategy\u2463" }], "title": "7.4. Abstract operations" }], "url": "#dictdef-queuingstrategy" },
                "dictdef-queuingstrategyinit": { "dfnID": "dictdef-queuingstrategyinit", "dfnText": "QueuingStrategyInit", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-queuingstrategyinit" }], "title": "7.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-dictdef-queuingstrategyinit\u2460" }], "title": "7.3.1. Interface definition" }], "url": "#dictdef-queuingstrategyinit" },
                "dictdef-readablestreambyobreaderreadoptions": { "dfnID": "dictdef-readablestreambyobreaderreadoptions", "dfnText": "ReadableStreamBYOBReaderReadOptions", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-readablestreambyobreaderreadoptions" }], "title": "4.5.1. Interface definition" }], "url": "#dictdef-readablestreambyobreaderreadoptions" },
                "dictdef-readablestreamgetreaderoptions": { "dfnID": "dictdef-readablestreamgetreaderoptions", "dfnText": "ReadableStreamGetReaderOptions", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-readablestreamgetreaderoptions" }], "title": "4.2.1. Interface definition" }], "url": "#dictdef-readablestreamgetreaderoptions" },
                "dictdef-readablestreamiteratoroptions": { "dfnID": "dictdef-readablestreamiteratoroptions", "dfnText": "ReadableStreamIteratorOptions", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-readablestreamiteratoroptions" }], "title": "4.2.1. Interface definition" }], "url": "#dictdef-readablestreamiteratoroptions" },
                "dictdef-readablestreamreadresult": { "dfnID": "dictdef-readablestreamreadresult", "dfnText": "ReadableStreamReadResult", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-readablestreamreadresult" }], "title": "4.4.1. Interface definition" }, { "refs": [{ "id": "ref-for-dictdef-readablestreamreadresult\u2460" }], "title": "4.5.1. Interface definition" }], "url": "#dictdef-readablestreamreadresult" },
                "dictdef-readablewritablepair": { "dfnID": "dictdef-readablewritablepair", "dfnText": "ReadableWritablePair", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-readablewritablepair" }], "title": "4.2.1. Interface definition" }], "url": "#dictdef-readablewritablepair" },
                "dictdef-streampipeoptions": { "dfnID": "dictdef-streampipeoptions", "dfnText": "StreamPipeOptions", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-streampipeoptions" }, { "id": "ref-for-dictdef-streampipeoptions\u2460" }], "title": "4.2.1. Interface definition" }], "url": "#dictdef-streampipeoptions" },
                "dictdef-transformer": { "dfnID": "dictdef-transformer", "dfnText": "Transformer", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-transformer" }, { "id": "ref-for-dictdef-transformer\u2460" }], "title": "6.2.4. Constructor and properties" }], "url": "#dictdef-transformer" },
                "dictdef-underlyingsink": { "dfnID": "dictdef-underlyingsink", "dfnText": "UnderlyingSink", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-underlyingsink" }, { "id": "ref-for-dictdef-underlyingsink\u2460" }], "title": "5.2.4. Constructor, methods, and properties" }], "url": "#dictdef-underlyingsink" },
                "dictdef-underlyingsource": { "dfnID": "dictdef-underlyingsource", "dfnText": "UnderlyingSource", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-underlyingsource" }, { "id": "ref-for-dictdef-underlyingsource\u2460" }], "title": "4.2.4. Constructor, methods, and properties" }], "url": "#dictdef-underlyingsource" },
                "dom-bytelengthqueuingstrategy-bytelengthqueuingstrategy-init-init": { "dfnID": "dom-bytelengthqueuingstrategy-bytelengthqueuingstrategy-init-init", "dfnText": "init", "external": false, "refSections": [], "url": "#dom-bytelengthqueuingstrategy-bytelengthqueuingstrategy-init-init" },
                "dom-countqueuingstrategy-countqueuingstrategy-init-init": { "dfnID": "dom-countqueuingstrategy-countqueuingstrategy-init-init", "dfnText": "init", "external": false, "refSections": [], "url": "#dom-countqueuingstrategy-countqueuingstrategy-init-init" },
                "dom-generictransformstream-readable": { "dfnID": "dom-generictransformstream-readable", "dfnText": "readable", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-generictransformstream-readable" }, { "id": "ref-for-dom-generictransformstream-readable\u2460" }], "title": "9.3.2. Wrapping into a custom class" }], "url": "#dom-generictransformstream-readable" },
                "dom-generictransformstream-writable": { "dfnID": "dom-generictransformstream-writable", "dfnText": "writable", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-generictransformstream-writable" }, { "id": "ref-for-dom-generictransformstream-writable\u2460" }], "title": "9.3.2. Wrapping into a custom class" }], "url": "#dom-generictransformstream-writable" },
                "dom-queuingstrategy-highwatermark": { "dfnID": "dom-queuingstrategy-highwatermark", "dfnText": "highWaterMark", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-queuingstrategy-highwatermark" }, { "id": "ref-for-dom-queuingstrategy-highwatermark\u2460" }, { "id": "ref-for-dom-queuingstrategy-highwatermark\u2461" }], "title": "2.5. Internal queues and queuing strategies" }, { "refs": [{ "id": "ref-for-dom-queuingstrategy-highwatermark\u2462" }], "title": "7.1. The queuing strategy API" }, { "refs": [{ "id": "ref-for-dom-queuingstrategy-highwatermark\u2463" }, { "id": "ref-for-dom-queuingstrategy-highwatermark\u2464" }], "title": "7.4. Abstract operations" }], "url": "#dom-queuingstrategy-highwatermark" },
                "dom-queuingstrategy-size": { "dfnID": "dom-queuingstrategy-size", "dfnText": "size(chunk)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-queuingstrategy-size" }], "title": "2.5. Internal queues and queuing strategies" }, { "refs": [{ "id": "ref-for-dom-queuingstrategy-size\u2460" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-dom-queuingstrategy-size\u2461" }], "title": "7.1. The queuing strategy API" }, { "refs": [{ "id": "ref-for-dom-queuingstrategy-size\u2462" }, { "id": "ref-for-dom-queuingstrategy-size\u2463" }], "title": "7.4. Abstract operations" }], "url": "#dom-queuingstrategy-size" },
                "dom-queuingstrategyinit-highwatermark": { "dfnID": "dom-queuingstrategyinit-highwatermark", "dfnText": "highWaterMark", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-queuingstrategyinit-highwatermark" }, { "id": "ref-for-dom-queuingstrategyinit-highwatermark\u2460" }], "title": "7.2.3. Constructor and properties" }, { "refs": [{ "id": "ref-for-dom-queuingstrategyinit-highwatermark\u2461" }, { "id": "ref-for-dom-queuingstrategyinit-highwatermark\u2462" }], "title": "7.3.3. Constructor and properties" }], "url": "#dom-queuingstrategyinit-highwatermark" },
                "dom-queuingstrategysize-chunk": { "dfnID": "dom-queuingstrategysize-chunk", "dfnText": "chunk", "external": false, "refSections": [], "url": "#dom-queuingstrategysize-chunk" },
                "dom-readablebytestreamcontroller-enqueue-chunk-chunk": { "dfnID": "dom-readablebytestreamcontroller-enqueue-chunk-chunk", "dfnText": "chunk", "external": false, "refSections": [], "url": "#dom-readablebytestreamcontroller-enqueue-chunk-chunk" },
                "dom-readablebytestreamcontroller-error-e-e": { "dfnID": "dom-readablebytestreamcontroller-error-e-e", "dfnText": "e", "external": false, "refSections": [], "url": "#dom-readablebytestreamcontroller-error-e-e" },
                "dom-readablestream-cancel-reason-reason": { "dfnID": "dom-readablestream-cancel-reason-reason", "dfnText": "reason", "external": false, "refSections": [], "url": "#dom-readablestream-cancel-reason-reason" },
                "dom-readablestream-from-asynciterable-asynciterable": { "dfnID": "dom-readablestream-from-asynciterable-asynciterable", "dfnText": "asyncIterable", "external": false, "refSections": [], "url": "#dom-readablestream-from-asynciterable-asynciterable" },
                "dom-readablestream-getreader-options-options": { "dfnID": "dom-readablestream-getreader-options-options", "dfnText": "options", "external": false, "refSections": [], "url": "#dom-readablestream-getreader-options-options" },
                "dom-readablestream-options": { "dfnID": "dom-readablestream-options", "dfnText": "options", "external": false, "refSections": [], "url": "#dom-readablestream-options" },
                "dom-readablestream-pipethrough-transform-options-options": { "dfnID": "dom-readablestream-pipethrough-transform-options-options", "dfnText": "options", "external": false, "refSections": [], "url": "#dom-readablestream-pipethrough-transform-options-options" },
                "dom-readablestream-pipethrough-transform-options-transform": { "dfnID": "dom-readablestream-pipethrough-transform-options-transform", "dfnText": "transform", "external": false, "refSections": [], "url": "#dom-readablestream-pipethrough-transform-options-transform" },
                "dom-readablestream-pipeto-destination-options-destination": { "dfnID": "dom-readablestream-pipeto-destination-options-destination", "dfnText": "destination", "external": false, "refSections": [], "url": "#dom-readablestream-pipeto-destination-options-destination" },
                "dom-readablestream-pipeto-destination-options-options": { "dfnID": "dom-readablestream-pipeto-destination-options-options", "dfnText": "options", "external": false, "refSections": [], "url": "#dom-readablestream-pipeto-destination-options-options" },
                "dom-readablestream-readablestream-underlyingsource-strategy-strategy": { "dfnID": "dom-readablestream-readablestream-underlyingsource-strategy-strategy", "dfnText": "strategy", "external": false, "refSections": [], "url": "#dom-readablestream-readablestream-underlyingsource-strategy-strategy" },
                "dom-readablestream-readablestream-underlyingsource-strategy-underlyingsource": { "dfnID": "dom-readablestream-readablestream-underlyingsource-strategy-underlyingsource", "dfnText": "underlyingSource", "external": false, "refSections": [], "url": "#dom-readablestream-readablestream-underlyingsource-strategy-underlyingsource" },
                "dom-readablestreambyobreader-read-view-options-options": { "dfnID": "dom-readablestreambyobreader-read-view-options-options", "dfnText": "options", "external": false, "refSections": [], "url": "#dom-readablestreambyobreader-read-view-options-options" },
                "dom-readablestreambyobreader-read-view-options-view": { "dfnID": "dom-readablestreambyobreader-read-view-options-view", "dfnText": "view", "external": false, "refSections": [], "url": "#dom-readablestreambyobreader-read-view-options-view" },
                "dom-readablestreambyobreader-readablestreambyobreader-stream-stream": { "dfnID": "dom-readablestreambyobreader-readablestreambyobreader-stream-stream", "dfnText": "stream", "external": false, "refSections": [], "url": "#dom-readablestreambyobreader-readablestreambyobreader-stream-stream" },
                "dom-readablestreambyobreaderreadoptions-min": { "dfnID": "dom-readablestreambyobreaderreadoptions-min", "dfnText": "min", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-readablestreambyobreaderreadoptions-min" }], "title": "4.1. Using readable streams" }, { "refs": [{ "id": "ref-for-dom-readablestreambyobreaderreadoptions-min\u2460" }, { "id": "ref-for-dom-readablestreambyobreaderreadoptions-min\u2461" }, { "id": "ref-for-dom-readablestreambyobreaderreadoptions-min\u2462" }, { "id": "ref-for-dom-readablestreambyobreaderreadoptions-min\u2463" }, { "id": "ref-for-dom-readablestreambyobreaderreadoptions-min\u2464" }, { "id": "ref-for-dom-readablestreambyobreaderreadoptions-min\u2465" }], "title": "4.5.3. Constructor, methods, and properties" }], "url": "#dom-readablestreambyobreaderreadoptions-min" },
                "dom-readablestreambyobrequest-respond-byteswritten-byteswritten": { "dfnID": "dom-readablestreambyobrequest-respond-byteswritten-byteswritten", "dfnText": "bytesWritten", "external": false, "refSections": [], "url": "#dom-readablestreambyobrequest-respond-byteswritten-byteswritten" },
                "dom-readablestreambyobrequest-respondwithnewview-view-view": { "dfnID": "dom-readablestreambyobrequest-respondwithnewview-view-view", "dfnText": "view", "external": false, "refSections": [], "url": "#dom-readablestreambyobrequest-respondwithnewview-view-view" },
                "dom-readablestreamdefaultcontroller-enqueue-chunk-chunk": { "dfnID": "dom-readablestreamdefaultcontroller-enqueue-chunk-chunk", "dfnText": "chunk", "external": false, "refSections": [], "url": "#dom-readablestreamdefaultcontroller-enqueue-chunk-chunk" },
                "dom-readablestreamdefaultcontroller-error-e-e": { "dfnID": "dom-readablestreamdefaultcontroller-error-e-e", "dfnText": "e", "external": false, "refSections": [], "url": "#dom-readablestreamdefaultcontroller-error-e-e" },
                "dom-readablestreamdefaultreader-readablestreamdefaultreader-stream-stream": { "dfnID": "dom-readablestreamdefaultreader-readablestreamdefaultreader-stream-stream", "dfnText": "stream", "external": false, "refSections": [], "url": "#dom-readablestreamdefaultreader-readablestreamdefaultreader-stream-stream" },
                "dom-readablestreamgenericreader-cancel-reason-reason": { "dfnID": "dom-readablestreamgenericreader-cancel-reason-reason", "dfnText": "reason", "external": false, "refSections": [], "url": "#dom-readablestreamgenericreader-cancel-reason-reason" },
                "dom-readablestreamgetreaderoptions-mode": { "dfnID": "dom-readablestreamgetreaderoptions-mode", "dfnText": "mode", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-readablestreamgetreaderoptions-mode" }, { "id": "ref-for-dom-readablestreamgetreaderoptions-mode\u2460" }, { "id": "ref-for-dom-readablestreamgetreaderoptions-mode\u2461" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-dom-readablestreamgetreaderoptions-mode\u2462" }], "title": "4.5.3. Constructor, methods, and properties" }], "url": "#dom-readablestreamgetreaderoptions-mode" },
                "dom-readablestreamiteratoroptions-preventcancel": { "dfnID": "dom-readablestreamiteratoroptions-preventcancel", "dfnText": "preventCancel", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-readablestreamiteratoroptions-preventcancel" }, { "id": "ref-for-dom-readablestreamiteratoroptions-preventcancel\u2460" }, { "id": "ref-for-dom-readablestreamiteratoroptions-preventcancel\u2461" }], "title": "4.2.5. Asynchronous iteration" }], "url": "#dom-readablestreamiteratoroptions-preventcancel" },
                "dom-readablestreamreadermode-byob": { "dfnID": "dom-readablestreamreadermode-byob", "dfnText": "\"byob\"", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-readablestreamreadermode-byob" }, { "id": "ref-for-dom-readablestreamreadermode-byob\u2460" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-dom-readablestreamreadermode-byob\u2461" }], "title": "4.5.3. Constructor, methods, and properties" }], "url": "#dom-readablestreamreadermode-byob" },
                "dom-readablestreamreadresult-done": { "dfnID": "dom-readablestreamreadresult-done", "dfnText": "done", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-readablestreamreadresult-done" }, { "id": "ref-for-dom-readablestreamreadresult-done\u2460" }], "title": "4.4.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-dom-readablestreamreadresult-done\u2461" }, { "id": "ref-for-dom-readablestreamreadresult-done\u2462" }], "title": "4.5.3. Constructor, methods, and properties" }], "url": "#dom-readablestreamreadresult-done" },
                "dom-readablestreamreadresult-value": { "dfnID": "dom-readablestreamreadresult-value", "dfnText": "value", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-readablestreamreadresult-value" }, { "id": "ref-for-dom-readablestreamreadresult-value\u2460" }], "title": "4.4.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-dom-readablestreamreadresult-value\u2461" }, { "id": "ref-for-dom-readablestreamreadresult-value\u2462" }], "title": "4.5.3. Constructor, methods, and properties" }], "url": "#dom-readablestreamreadresult-value" },
                "dom-readablestreamtype-bytes": { "dfnID": "dom-readablestreamtype-bytes", "dfnText": "bytes", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-readablestreamtype-bytes" }, { "id": "ref-for-dom-readablestreamtype-bytes\u2460" }, { "id": "ref-for-dom-readablestreamtype-bytes\u2461" }], "title": "4.2.3. The underlying source API" }, { "refs": [{ "id": "ref-for-dom-readablestreamtype-bytes\u2462" }], "title": "4.2.4. Constructor, methods, and properties" }], "url": "#dom-readablestreamtype-bytes" },
                "dom-readablewritablepair-readable": { "dfnID": "dom-readablewritablepair-readable", "dfnText": "readable", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-readablewritablepair-readable" }, { "id": "ref-for-dom-readablewritablepair-readable\u2460" }], "title": "4.2.4. Constructor, methods, and properties" }], "url": "#dom-readablewritablepair-readable" },
                "dom-readablewritablepair-writable": { "dfnID": "dom-readablewritablepair-writable", "dfnText": "writable", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-readablewritablepair-writable" }, { "id": "ref-for-dom-readablewritablepair-writable\u2460" }, { "id": "ref-for-dom-readablewritablepair-writable\u2461" }], "title": "4.2.4. Constructor, methods, and properties" }], "url": "#dom-readablewritablepair-writable" },
                "dom-streampipeoptions-preventabort": { "dfnID": "dom-streampipeoptions-preventabort", "dfnText": "preventAbort", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-streampipeoptions-preventabort" }, { "id": "ref-for-dom-streampipeoptions-preventabort\u2460" }, { "id": "ref-for-dom-streampipeoptions-preventabort\u2461" }, { "id": "ref-for-dom-streampipeoptions-preventabort\u2462" }, { "id": "ref-for-dom-streampipeoptions-preventabort\u2463" }, { "id": "ref-for-dom-streampipeoptions-preventabort\u2464" }, { "id": "ref-for-dom-streampipeoptions-preventabort\u2465" }], "title": "4.2.4. Constructor, methods, and properties" }], "url": "#dom-streampipeoptions-preventabort" },
                "dom-streampipeoptions-preventcancel": { "dfnID": "dom-streampipeoptions-preventcancel", "dfnText": "preventCancel", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-streampipeoptions-preventcancel" }, { "id": "ref-for-dom-streampipeoptions-preventcancel\u2460" }, { "id": "ref-for-dom-streampipeoptions-preventcancel\u2461" }, { "id": "ref-for-dom-streampipeoptions-preventcancel\u2462" }, { "id": "ref-for-dom-streampipeoptions-preventcancel\u2463" }, { "id": "ref-for-dom-streampipeoptions-preventcancel\u2464" }, { "id": "ref-for-dom-streampipeoptions-preventcancel\u2465" }, { "id": "ref-for-dom-streampipeoptions-preventcancel\u2466" }], "title": "4.2.4. Constructor, methods, and properties" }], "url": "#dom-streampipeoptions-preventcancel" },
                "dom-streampipeoptions-preventclose": { "dfnID": "dom-streampipeoptions-preventclose", "dfnText": "preventClose", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-streampipeoptions-preventclose" }, { "id": "ref-for-dom-streampipeoptions-preventclose\u2460" }, { "id": "ref-for-dom-streampipeoptions-preventclose\u2461" }, { "id": "ref-for-dom-streampipeoptions-preventclose\u2462" }, { "id": "ref-for-dom-streampipeoptions-preventclose\u2463" }], "title": "4.2.4. Constructor, methods, and properties" }], "url": "#dom-streampipeoptions-preventclose" },
                "dom-streampipeoptions-signal": { "dfnID": "dom-streampipeoptions-signal", "dfnText": "signal", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-streampipeoptions-signal" }, { "id": "ref-for-dom-streampipeoptions-signal\u2460" }, { "id": "ref-for-dom-streampipeoptions-signal\u2461" }, { "id": "ref-for-dom-streampipeoptions-signal\u2462" }, { "id": "ref-for-dom-streampipeoptions-signal\u2463" }], "title": "4.2.4. Constructor, methods, and properties" }], "url": "#dom-streampipeoptions-signal" },
                "dom-transformer-cancel": { "dfnID": "dom-transformer-cancel", "dfnText": "cancel(reason)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-transformer-cancel" }, { "id": "ref-for-dom-transformer-cancel\u2460" }], "title": "6.2.3. The transformer API" }, { "refs": [{ "id": "ref-for-dom-transformer-cancel\u2461" }, { "id": "ref-for-dom-transformer-cancel\u2462" }], "title": "6.4.2. Default controllers" }], "url": "#dom-transformer-cancel" },
                "dom-transformer-flush": { "dfnID": "dom-transformer-flush", "dfnText": "flush(controller)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-transformer-flush" }, { "id": "ref-for-dom-transformer-flush\u2460" }, { "id": "ref-for-dom-transformer-flush\u2461" }, { "id": "ref-for-dom-transformer-flush\u2462" }], "title": "6.2.3. The transformer API" }, { "refs": [{ "id": "ref-for-dom-transformer-flush\u2463" }, { "id": "ref-for-dom-transformer-flush\u2464" }], "title": "6.4.2. Default controllers" }], "url": "#dom-transformer-flush" },
                "dom-transformer-readabletype": { "dfnID": "dom-transformer-readabletype", "dfnText": "readableType", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-transformer-readabletype" }], "title": "6.2.3. The transformer API" }, { "refs": [{ "id": "ref-for-dom-transformer-readabletype\u2460" }], "title": "6.2.4. Constructor and properties" }], "url": "#dom-transformer-readabletype" },
                "dom-transformer-start": { "dfnID": "dom-transformer-start", "dfnText": "start(controller)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-transformer-start" }, { "id": "ref-for-dom-transformer-start\u2460" }, { "id": "ref-for-dom-transformer-start\u2461" }], "title": "6.2.3. The transformer API" }, { "refs": [{ "id": "ref-for-dom-transformer-start\u2462" }, { "id": "ref-for-dom-transformer-start\u2463" }], "title": "6.2.4. Constructor and properties" }, { "refs": [{ "id": "ref-for-dom-transformer-start\u2464" }], "title": "6.4.1. Working with transform streams" }], "url": "#dom-transformer-start" },
                "dom-transformer-transform": { "dfnID": "dom-transformer-transform", "dfnText": "transform(chunk, controller)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-transformer-transform" }], "title": "2.3. Transform streams" }, { "refs": [{ "id": "ref-for-dom-transformer-transform\u2460" }, { "id": "ref-for-dom-transformer-transform\u2461" }, { "id": "ref-for-dom-transformer-transform\u2462" }, { "id": "ref-for-dom-transformer-transform\u2463" }], "title": "6.2.3. The transformer API" }, { "refs": [{ "id": "ref-for-dom-transformer-transform\u2464" }, { "id": "ref-for-dom-transformer-transform\u2465" }], "title": "6.4.2. Default controllers" }], "url": "#dom-transformer-transform" },
                "dom-transformer-writabletype": { "dfnID": "dom-transformer-writabletype", "dfnText": "writableType", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-transformer-writabletype" }], "title": "6.2.3. The transformer API" }, { "refs": [{ "id": "ref-for-dom-transformer-writabletype\u2460" }], "title": "6.2.4. Constructor and properties" }], "url": "#dom-transformer-writabletype" },
                "dom-transformercancelcallback-reason": { "dfnID": "dom-transformercancelcallback-reason", "dfnText": "reason", "external": false, "refSections": [], "url": "#dom-transformercancelcallback-reason" },
                "dom-transformerflushcallback-controller": { "dfnID": "dom-transformerflushcallback-controller", "dfnText": "controller", "external": false, "refSections": [], "url": "#dom-transformerflushcallback-controller" },
                "dom-transformerstartcallback-controller": { "dfnID": "dom-transformerstartcallback-controller", "dfnText": "controller", "external": false, "refSections": [], "url": "#dom-transformerstartcallback-controller" },
                "dom-transformertransformcallback-chunk": { "dfnID": "dom-transformertransformcallback-chunk", "dfnText": "chunk", "external": false, "refSections": [], "url": "#dom-transformertransformcallback-chunk" },
                "dom-transformertransformcallback-controller": { "dfnID": "dom-transformertransformcallback-controller", "dfnText": "controller", "external": false, "refSections": [], "url": "#dom-transformertransformcallback-controller" },
                "dom-transformstream-transformstream-transformer-writablestrategy-readablestrategy-readablestrategy": { "dfnID": "dom-transformstream-transformstream-transformer-writablestrategy-readablestrategy-readablestrategy", "dfnText": "readableStrategy", "external": false, "refSections": [], "url": "#dom-transformstream-transformstream-transformer-writablestrategy-readablestrategy-readablestrategy" },
                "dom-transformstream-transformstream-transformer-writablestrategy-readablestrategy-transformer": { "dfnID": "dom-transformstream-transformstream-transformer-writablestrategy-readablestrategy-transformer", "dfnText": "transformer", "external": false, "refSections": [], "url": "#dom-transformstream-transformstream-transformer-writablestrategy-readablestrategy-transformer" },
                "dom-transformstream-transformstream-transformer-writablestrategy-readablestrategy-writablestrategy": { "dfnID": "dom-transformstream-transformstream-transformer-writablestrategy-readablestrategy-writablestrategy", "dfnText": "writableStrategy", "external": false, "refSections": [], "url": "#dom-transformstream-transformstream-transformer-writablestrategy-readablestrategy-writablestrategy" },
                "dom-transformstreamdefaultcontroller-enqueue-chunk-chunk": { "dfnID": "dom-transformstreamdefaultcontroller-enqueue-chunk-chunk", "dfnText": "chunk", "external": false, "refSections": [], "url": "#dom-transformstreamdefaultcontroller-enqueue-chunk-chunk" },
                "dom-transformstreamdefaultcontroller-error-reason-reason": { "dfnID": "dom-transformstreamdefaultcontroller-error-reason-reason", "dfnText": "reason", "external": false, "refSections": [], "url": "#dom-transformstreamdefaultcontroller-error-reason-reason" },
                "dom-underlyingsink-abort": { "dfnID": "dom-underlyingsink-abort", "dfnText": "abort(reason)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-underlyingsink-abort" }], "title": "4.2.3. The underlying source API" }, { "refs": [{ "id": "ref-for-dom-underlyingsink-abort\u2460" }, { "id": "ref-for-dom-underlyingsink-abort\u2461" }], "title": "5.2.3. The underlying sink API" }, { "refs": [{ "id": "ref-for-dom-underlyingsink-abort\u2462" }, { "id": "ref-for-dom-underlyingsink-abort\u2463" }], "title": "5.5.4. Default controllers" }], "url": "#dom-underlyingsink-abort" },
                "dom-underlyingsink-close": { "dfnID": "dom-underlyingsink-close", "dfnText": "close()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-underlyingsink-close" }], "title": "4.2.3. The underlying source API" }, { "refs": [{ "id": "ref-for-dom-underlyingsink-close\u2460" }, { "id": "ref-for-dom-underlyingsink-close\u2461" }, { "id": "ref-for-dom-underlyingsink-close\u2462" }], "title": "5.2.3. The underlying sink API" }, { "refs": [{ "id": "ref-for-dom-underlyingsink-close\u2463" }, { "id": "ref-for-dom-underlyingsink-close\u2464" }], "title": "5.5.4. Default controllers" }], "url": "#dom-underlyingsink-close" },
                "dom-underlyingsink-start": { "dfnID": "dom-underlyingsink-start", "dfnText": "start(controller)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-underlyingsink-start" }, { "id": "ref-for-dom-underlyingsink-start\u2460" }, { "id": "ref-for-dom-underlyingsink-start\u2461" }], "title": "5.2.3. The underlying sink API" }, { "refs": [{ "id": "ref-for-dom-underlyingsink-start\u2462" }, { "id": "ref-for-dom-underlyingsink-start\u2463" }], "title": "5.5.4. Default controllers" }], "url": "#dom-underlyingsink-start" },
                "dom-underlyingsink-type": { "dfnID": "dom-underlyingsink-type", "dfnText": "type", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-underlyingsink-type" }], "title": "5.2.3. The underlying sink API" }, { "refs": [{ "id": "ref-for-dom-underlyingsink-type\u2460" }], "title": "5.2.4. Constructor, methods, and properties" }], "url": "#dom-underlyingsink-type" },
                "dom-underlyingsink-write": { "dfnID": "dom-underlyingsink-write", "dfnText": "write(chunk,\n  controller)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-underlyingsink-write" }], "title": "4.1. Using readable streams" }, { "refs": [{ "id": "ref-for-dom-underlyingsink-write\u2460" }, { "id": "ref-for-dom-underlyingsink-write\u2461" }], "title": "5.2.3. The underlying sink API" }, { "refs": [{ "id": "ref-for-dom-underlyingsink-write\u2462" }], "title": "5.3.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-dom-underlyingsink-write\u2463" }, { "id": "ref-for-dom-underlyingsink-write\u2464" }], "title": "5.5.4. Default controllers" }, { "refs": [{ "id": "ref-for-dom-underlyingsink-write\u2465" }], "title": "10.7. A writable stream with backpressure and success signals" }], "url": "#dom-underlyingsink-write" },
                "dom-underlyingsinkabortcallback-reason": { "dfnID": "dom-underlyingsinkabortcallback-reason", "dfnText": "reason", "external": false, "refSections": [], "url": "#dom-underlyingsinkabortcallback-reason" },
                "dom-underlyingsinkstartcallback-controller": { "dfnID": "dom-underlyingsinkstartcallback-controller", "dfnText": "controller", "external": false, "refSections": [], "url": "#dom-underlyingsinkstartcallback-controller" },
                "dom-underlyingsinkwritecallback-chunk": { "dfnID": "dom-underlyingsinkwritecallback-chunk", "dfnText": "chunk", "external": false, "refSections": [], "url": "#dom-underlyingsinkwritecallback-chunk" },
                "dom-underlyingsinkwritecallback-controller": { "dfnID": "dom-underlyingsinkwritecallback-controller", "dfnText": "controller", "external": false, "refSections": [], "url": "#dom-underlyingsinkwritecallback-controller" },
                "dom-underlyingsource-autoallocatechunksize": { "dfnID": "dom-underlyingsource-autoallocatechunksize", "dfnText": "autoAllocateChunkSize", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-underlyingsource-autoallocatechunksize" }], "title": "4.2.3. The underlying source API" }, { "refs": [{ "id": "ref-for-dom-underlyingsource-autoallocatechunksize\u2460" }], "title": "4.9.5. Byte stream controllers" }, { "refs": [{ "id": "ref-for-dom-underlyingsource-autoallocatechunksize\u2461" }], "title": "10.5. A readable byte stream with an underlying pull source" }], "url": "#dom-underlyingsource-autoallocatechunksize" },
                "dom-underlyingsource-cancel": { "dfnID": "dom-underlyingsource-cancel", "dfnText": "cancel(reason)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-underlyingsource-cancel" }], "title": "4.2.3. The underlying source API" }, { "refs": [{ "id": "ref-for-dom-underlyingsource-cancel\u2460" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-dom-underlyingsource-cancel\u2461" }, { "id": "ref-for-dom-underlyingsource-cancel\u2462" }], "title": "4.9.4. Default controllers" }, { "refs": [{ "id": "ref-for-dom-underlyingsource-cancel\u2463" }, { "id": "ref-for-dom-underlyingsource-cancel\u2464" }], "title": "4.9.5. Byte stream controllers" }], "url": "#dom-underlyingsource-cancel" },
                "dom-underlyingsource-pull": { "dfnID": "dom-underlyingsource-pull", "dfnText": "pull(controller)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-underlyingsource-pull" }, { "id": "ref-for-dom-underlyingsource-pull\u2460" }, { "id": "ref-for-dom-underlyingsource-pull\u2461" }, { "id": "ref-for-dom-underlyingsource-pull\u2462" }], "title": "4.2.3. The underlying source API" }, { "refs": [{ "id": "ref-for-dom-underlyingsource-pull\u2463" }, { "id": "ref-for-dom-underlyingsource-pull\u2464" }], "title": "4.9.4. Default controllers" }, { "refs": [{ "id": "ref-for-dom-underlyingsource-pull\u2465" }, { "id": "ref-for-dom-underlyingsource-pull\u2466" }], "title": "4.9.5. Byte stream controllers" }, { "refs": [{ "id": "ref-for-dom-underlyingsource-pull\u2467" }], "title": "7.1. The queuing strategy API" }, { "refs": [{ "id": "ref-for-dom-underlyingsource-pull\u2468" }], "title": "10.4. A readable stream with an underlying pull source" }], "url": "#dom-underlyingsource-pull" },
                "dom-underlyingsource-start": { "dfnID": "dom-underlyingsource-start", "dfnText": "start(controller)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-underlyingsource-start" }, { "id": "ref-for-dom-underlyingsource-start\u2460" }, { "id": "ref-for-dom-underlyingsource-start\u2461" }, { "id": "ref-for-dom-underlyingsource-start\u2462" }], "title": "4.2.3. The underlying source API" }, { "refs": [{ "id": "ref-for-dom-underlyingsource-start\u2463" }, { "id": "ref-for-dom-underlyingsource-start\u2464" }], "title": "4.9.4. Default controllers" }, { "refs": [{ "id": "ref-for-dom-underlyingsource-start\u2465" }, { "id": "ref-for-dom-underlyingsource-start\u2466" }], "title": "4.9.5. Byte stream controllers" }, { "refs": [{ "id": "ref-for-dom-underlyingsource-start\u2467" }], "title": "10.1. A readable stream with an underlying push source (no backpressure support)" }, { "refs": [{ "id": "ref-for-dom-underlyingsource-start\u2468" }], "title": "10.4. A readable stream with an underlying pull source" }], "url": "#dom-underlyingsource-start" },
                "dom-underlyingsource-type": { "dfnID": "dom-underlyingsource-type", "dfnText": "type", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-underlyingsource-type" }, { "id": "ref-for-dom-underlyingsource-type\u2460" }, { "id": "ref-for-dom-underlyingsource-type\u2461" }], "title": "4.2.3. The underlying source API" }, { "refs": [{ "id": "ref-for-dom-underlyingsource-type\u2462" }, { "id": "ref-for-dom-underlyingsource-type\u2463" }], "title": "4.2.4. Constructor, methods, and properties" }], "url": "#dom-underlyingsource-type" },
                "dom-underlyingsourcecancelcallback-reason": { "dfnID": "dom-underlyingsourcecancelcallback-reason", "dfnText": "reason", "external": false, "refSections": [], "url": "#dom-underlyingsourcecancelcallback-reason" },
                "dom-underlyingsourcepullcallback-controller": { "dfnID": "dom-underlyingsourcepullcallback-controller", "dfnText": "controller", "external": false, "refSections": [], "url": "#dom-underlyingsourcepullcallback-controller" },
                "dom-underlyingsourcestartcallback-controller": { "dfnID": "dom-underlyingsourcestartcallback-controller", "dfnText": "controller", "external": false, "refSections": [], "url": "#dom-underlyingsourcestartcallback-controller" },
                "dom-writablestream-abort-reason-reason": { "dfnID": "dom-writablestream-abort-reason-reason", "dfnText": "reason", "external": false, "refSections": [], "url": "#dom-writablestream-abort-reason-reason" },
                "dom-writablestream-writablestream-underlyingsink-strategy-strategy": { "dfnID": "dom-writablestream-writablestream-underlyingsink-strategy-strategy", "dfnText": "strategy", "external": false, "refSections": [], "url": "#dom-writablestream-writablestream-underlyingsink-strategy-strategy" },
                "dom-writablestream-writablestream-underlyingsink-strategy-underlyingsink": { "dfnID": "dom-writablestream-writablestream-underlyingsink-strategy-underlyingsink", "dfnText": "underlyingSink", "external": false, "refSections": [], "url": "#dom-writablestream-writablestream-underlyingsink-strategy-underlyingsink" },
                "dom-writablestreamdefaultcontroller-error-e-e": { "dfnID": "dom-writablestreamdefaultcontroller-error-e-e", "dfnText": "e", "external": false, "refSections": [], "url": "#dom-writablestreamdefaultcontroller-error-e-e" },
                "dom-writablestreamdefaultwriter-abort-reason-reason": { "dfnID": "dom-writablestreamdefaultwriter-abort-reason-reason", "dfnText": "reason", "external": false, "refSections": [], "url": "#dom-writablestreamdefaultwriter-abort-reason-reason" },
                "dom-writablestreamdefaultwriter-writablestreamdefaultwriter-stream-stream": { "dfnID": "dom-writablestreamdefaultwriter-writablestreamdefaultwriter-stream-stream", "dfnText": "stream", "external": false, "refSections": [], "url": "#dom-writablestreamdefaultwriter-writablestreamdefaultwriter-stream-stream" },
                "dom-writablestreamdefaultwriter-write-chunk-chunk": { "dfnID": "dom-writablestreamdefaultwriter-write-chunk-chunk", "dfnText": "chunk", "external": false, "refSections": [], "url": "#dom-writablestreamdefaultwriter-write-chunk-chunk" },
                "duplex-stream": { "dfnID": "duplex-stream", "dfnText": "duplex stream", "external": false, "refSections": [], "url": "#duplex-stream" },
                "e050b76b": { "dfnID": "e050b76b", "dfnText": "number type", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-ecmascript-language-types-number-type" }], "title": "3. Conventions" }], "url": "https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-ecmascript-language-types-number-type" },
                "e1576caa": { "dfnID": "e1576caa", "dfnText": "the current Realm", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-current-realm" }, { "id": "ref-for-current-realm\u2460" }, { "id": "ref-for-current-realm\u2461" }, { "id": "ref-for-current-realm\u2462" }], "title": "4.2.6. Transfer via postMessage()" }, { "refs": [{ "id": "ref-for-current-realm\u2463" }, { "id": "ref-for-current-realm\u2464" }, { "id": "ref-for-current-realm\u2465" }, { "id": "ref-for-current-realm\u2466" }], "title": "5.2.5. Transfer via postMessage()" }, { "refs": [{ "id": "ref-for-current-realm\u2467" }, { "id": "ref-for-current-realm\u2468" }], "title": "6.2.5. Transfer via postMessage()" }, { "refs": [{ "id": "ref-for-current-realm\u2460\u24ea" }, { "id": "ref-for-current-realm\u2460\u2460" }], "title": "8.3. Miscellaneous" }], "url": "https://tc39.es/ecma262/#current-realm" },
                "e7409427": { "dfnID": "e7409427", "dfnText": "IsInteger", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-isinteger" }], "title": "4.9.5. Byte stream controllers" }], "url": "https://tc39.es/ecma262/#sec-isinteger" },
                "e7652812": { "dfnID": "e7652812", "dfnText": "get the next iteration result", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-get-the-next-iteration-result" }], "title": "4.2.5. Asynchronous iteration" }], "url": "https://webidl.spec.whatwg.org/#dfn-get-the-next-iteration-result" },
                "e7cb09fb": { "dfnID": "e7cb09fb", "dfnText": "StructuredDeserializeWithTransfer", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-structureddeserializewithtransfer" }], "title": "4.2.6. Transfer via postMessage()" }, { "refs": [{ "id": "ref-for-structureddeserializewithtransfer\u2460" }], "title": "5.2.5. Transfer via postMessage()" }, { "refs": [{ "id": "ref-for-structureddeserializewithtransfer\u2461" }, { "id": "ref-for-structureddeserializewithtransfer\u2462" }], "title": "6.2.5. Transfer via postMessage()" }], "url": "https://html.spec.whatwg.org/multipage/structured-data.html#structureddeserializewithtransfer" },
                "e99bd18e": { "dfnID": "e99bd18e", "dfnText": "relevant global object", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-relevant-global" }], "title": "7.2.3. Constructor and properties" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2460" }], "title": "7.3.3. Constructor and properties" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" },
                "ebbbef34": { "dfnID": "ebbbef34", "dfnText": "OrdinaryObjectCreate", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-ordinaryobjectcreate" }], "title": "8.2. Transferable streams" }], "url": "https://tc39.es/ecma262/multipage/ordinary-and-exotic-objects-behaviours.html#sec-ordinaryobjectcreate" },
                "ec878a66": { "dfnID": "ec878a66", "dfnText": "RangeError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-exceptiondef-rangeerror" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-exceptiondef-rangeerror\u2460" }, { "id": "ref-for-exceptiondef-rangeerror\u2461" }], "title": "4.5.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-exceptiondef-rangeerror\u2462" }, { "id": "ref-for-exceptiondef-rangeerror\u2463" }, { "id": "ref-for-exceptiondef-rangeerror\u2464" }, { "id": "ref-for-exceptiondef-rangeerror\u2465" }], "title": "4.9.5. Byte stream controllers" }, { "refs": [{ "id": "ref-for-exceptiondef-rangeerror\u2466" }], "title": "5.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-exceptiondef-rangeerror\u2467" }, { "id": "ref-for-exceptiondef-rangeerror\u2468" }], "title": "6.2.4. Constructor and properties" }, { "refs": [{ "id": "ref-for-exceptiondef-rangeerror\u2460\u24ea" }], "title": "7.4. Abstract operations" }, { "refs": [{ "id": "ref-for-exceptiondef-rangeerror\u2460\u2460" }, { "id": "ref-for-exceptiondef-rangeerror\u2460\u2461" }], "title": "8.1. Queue-with-sizes" }], "url": "https://webidl.spec.whatwg.org/#exceptiondef-rangeerror" },
                "ecb78c1d": { "dfnID": "ecb78c1d", "dfnText": "ArrayBuffer", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-arraybuffer-objects" }, { "id": "ref-for-sec-arraybuffer-objects\u2460" }], "title": "4.1. Using readable streams" }, { "refs": [{ "id": "ref-for-sec-arraybuffer-objects\u2461" }], "title": "4.2.3. The underlying source API" }, { "refs": [{ "id": "ref-for-sec-arraybuffer-objects\u2462" }, { "id": "ref-for-sec-arraybuffer-objects\u2463" }], "title": "4.7.2. Internal slots" }, { "refs": [{ "id": "ref-for-sec-arraybuffer-objects\u2464" }], "title": "8.3. Miscellaneous" }], "url": "https://tc39.es/ecma262/#sec-arraybuffer-objects" },
                "ee3f3fb3": { "dfnID": "ee3f3fb3", "dfnText": "RTCRtpScriptTransformer", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-rtcrtpscripttransformer" }], "title": "9.4.2. Endpoint pairs" }], "url": "https://w3c.github.io/webrtc-encoded-transform/#rtcrtpscripttransformer" },
                "efd1ec5d": { "dfnID": "efd1ec5d", "dfnText": "object", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-object" }], "title": "4.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-idl-object\u2460" }], "title": "5.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-idl-object\u2461" }], "title": "6.2.1. Interface definition" }], "url": "https://webidl.spec.whatwg.org/#idl-object" },
                "endpoint-pair": { "dfnID": "endpoint-pair", "dfnText": "endpoint pair", "external": false, "refSections": [], "url": "#endpoint-pair" },
                "enqueue-value-with-size": { "dfnID": "enqueue-value-with-size", "dfnText": "EnqueueValueWithSize(container, value, size)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-enqueue-value-with-size" }], "title": "4.9.4. Default controllers" }, { "refs": [{ "id": "ref-for-enqueue-value-with-size\u2460" }, { "id": "ref-for-enqueue-value-with-size\u2461" }], "title": "5.5.4. Default controllers" }], "url": "#enqueue-value-with-size" },
                "enumdef-readablestreamreadermode": { "dfnID": "enumdef-readablestreamreadermode", "dfnText": "ReadableStreamReaderMode", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-enumdef-readablestreamreadermode" }], "title": "4.2.1. Interface definition" }], "url": "#enumdef-readablestreamreadermode" },
                "enumdef-readablestreamtype": { "dfnID": "enumdef-readablestreamtype", "dfnText": "ReadableStreamType", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-enumdef-readablestreamtype" }, { "id": "ref-for-enumdef-readablestreamtype\u2460" }], "title": "4.2.3. The underlying source API" }], "url": "#enumdef-readablestreamtype" },
                "f0811ff8": { "dfnID": "f0811ff8", "dfnText": "img", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-the-img-element" }], "title": "1. Introduction" }], "url": "https://html.spec.whatwg.org/multipage/embedded-content.html#the-img-element" },
                "f1041b37": { "dfnID": "f1041b37", "dfnText": "unhandledrejection", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-event-unhandledrejection" }], "title": "5.1. Using writable streams" }], "url": "https://html.spec.whatwg.org/multipage/indices.html#event-unhandledrejection" },
                "f14b47b8": { "dfnID": "f14b47b8", "dfnText": "unsigned long long", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-unsigned-long-long" }, { "id": "ref-for-idl-unsigned-long-long\u2460" }], "title": "4.2.3. The underlying source API" }, { "refs": [{ "id": "ref-for-idl-unsigned-long-long\u2461" }], "title": "4.5.1. Interface definition" }, { "refs": [{ "id": "ref-for-idl-unsigned-long-long\u2462" }], "title": "4.8.1. Interface definition" }], "url": "https://webidl.spec.whatwg.org/#idl-unsigned-long-long" },
                "f14ed351": { "dfnID": "f14ed351", "dfnText": "upon rejection", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-upon-rejection" }, { "id": "ref-for-upon-rejection\u2460" }, { "id": "ref-for-upon-rejection\u2461" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-upon-rejection\u2462" }, { "id": "ref-for-upon-rejection\u2463" }], "title": "4.9.4. Default controllers" }, { "refs": [{ "id": "ref-for-upon-rejection\u2464" }, { "id": "ref-for-upon-rejection\u2465" }], "title": "4.9.5. Byte stream controllers" }, { "refs": [{ "id": "ref-for-upon-rejection\u2466" }], "title": "5.5.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-upon-rejection\u2467" }, { "id": "ref-for-upon-rejection\u2468" }, { "id": "ref-for-upon-rejection\u2460\u24ea" }], "title": "5.5.4. Default controllers" }], "url": "https://webidl.spec.whatwg.org/#upon-rejection" },
                "f32e046f": { "dfnID": "f32e046f", "dfnText": "underlying buffer", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-buffersource-underlying-buffer" }], "title": "9.1.1. Creation and manipulation" }], "url": "https://webidl.spec.whatwg.org/#buffersource-underlying-buffer" },
                "f3fd9d04": { "dfnID": "f3fd9d04", "dfnText": "write (for ArrayBufferView)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-arraybufferview-write" }, { "id": "ref-for-arraybufferview-write\u2460" }], "title": "9.1.1. Creation and manipulation" }], "url": "https://webidl.spec.whatwg.org/#arraybufferview-write" },
                "fb8187fa": { "dfnID": "fb8187fa", "dfnText": "DataView", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-dataview-objects" }, { "id": "ref-for-sec-dataview-objects\u2460" }], "title": "4.5.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-sec-dataview-objects\u2461" }], "title": "4.9.5. Byte stream controllers" }], "url": "https://tc39.es/ecma262/#sec-dataview-objects" },
                "ff87eaf9": { "dfnID": "ff87eaf9", "dfnText": "remove", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-abortsignal-remove" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-abortsignal-remove\u2460" }], "title": "9.2.1. Creation and manipulation" }], "url": "https://dom.spec.whatwg.org/#abortsignal-remove" },
                "generic-reader-cancel": { "dfnID": "generic-reader-cancel", "dfnText": "cancel(reason)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-generic-reader-cancel" }], "title": "4.2.3. The underlying source API" }, { "refs": [{ "id": "ref-for-generic-reader-cancel\u2460" }], "title": "4.3.1. Mixin definition" }, { "refs": [{ "id": "ref-for-generic-reader-cancel\u2461" }], "title": "4.4.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-generic-reader-cancel\u2462" }], "title": "4.5.3. Constructor, methods, and properties" }], "url": "#generic-reader-cancel" },
                "generic-reader-closed": { "dfnID": "generic-reader-closed", "dfnText": "closed", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-generic-reader-closed" }], "title": "4.3.1. Mixin definition" }, { "refs": [{ "id": "ref-for-generic-reader-closed\u2460" }], "title": "4.3.2. Internal slots" }, { "refs": [{ "id": "ref-for-generic-reader-closed\u2461" }], "title": "4.4.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-generic-reader-closed\u2462" }], "title": "4.5.3. Constructor, methods, and properties" }], "url": "#generic-reader-closed" },
                "generictransformstream": { "dfnID": "generictransformstream", "dfnText": "GenericTransformStream", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-generictransformstream" }], "title": "2.3. Transform streams" }, { "refs": [{ "id": "ref-for-generictransformstream\u2460" }, { "id": "ref-for-generictransformstream\u2461" }], "title": "9.3.2. Wrapping into a custom class" }], "url": "#generictransformstream" },
                "generictransformstream-transform": { "dfnID": "generictransformstream-transform", "dfnText": "transform", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-generictransformstream-transform" }, { "id": "ref-for-generictransformstream-transform\u2460" }, { "id": "ref-for-generictransformstream-transform\u2461" }], "title": "9.3.2. Wrapping into a custom class" }], "url": "#generictransformstream-transform" },
                "high-water-mark": { "dfnID": "high-water-mark", "dfnText": "high water mark", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-high-water-mark" }], "title": "4.2.3. The underlying source API" }, { "refs": [{ "id": "ref-for-high-water-mark\u2460" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-high-water-mark\u2461" }, { "id": "ref-for-high-water-mark\u2462" }], "title": "5.1. Using writable streams" }, { "refs": [{ "id": "ref-for-high-water-mark\u2463" }], "title": "5.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-high-water-mark\u2464" }], "title": "6.2.4. Constructor and properties" }, { "refs": [{ "id": "ref-for-high-water-mark\u2465" }], "title": "7.1. The queuing strategy API" }, { "refs": [{ "id": "ref-for-high-water-mark\u2466" }, { "id": "ref-for-high-water-mark\u2467" }], "title": "7.2.3. Constructor and properties" }, { "refs": [{ "id": "ref-for-high-water-mark\u2468" }, { "id": "ref-for-high-water-mark\u2460\u24ea" }], "title": "7.3.3. Constructor and properties" }, { "refs": [{ "id": "ref-for-high-water-mark\u2460\u2460" }], "title": "7.4. Abstract operations" }], "url": "#high-water-mark" },
                "identity-transform-stream": { "dfnID": "identity-transform-stream", "dfnText": "identity transform stream", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-identity-transform-stream" }], "title": "6.1. Using transform streams" }, { "refs": [{ "id": "ref-for-identity-transform-stream\u2460" }], "title": "6.2.4. Constructor and properties" }, { "refs": [{ "id": "ref-for-identity-transform-stream\u2461" }, { "id": "ref-for-identity-transform-stream\u2462" }], "title": "10.11. Using an identity transform stream as a primitive to create new readable streams" }], "url": "#identity-transform-stream" },
                "initialize-readable-stream": { "dfnID": "initialize-readable-stream", "dfnText": "InitializeReadableStream(stream)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-initialize-readable-stream" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-initialize-readable-stream\u2460" }, { "id": "ref-for-initialize-readable-stream\u2461" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-initialize-readable-stream\u2462" }], "title": "8.2. Transferable streams" }, { "refs": [{ "id": "ref-for-initialize-readable-stream\u2463" }, { "id": "ref-for-initialize-readable-stream\u2464" }], "title": "9.1.1. Creation and manipulation" }], "url": "#initialize-readable-stream" },
                "initialize-transform-stream": { "dfnID": "initialize-transform-stream", "dfnText": "InitializeTransformStream(stream, startPromise,\n writableHighWaterMark, writableSizeAlgorithm, readableHighWaterMark,\n readableSizeAlgorithm)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-initialize-transform-stream" }], "title": "6.2.4. Constructor and properties" }, { "refs": [{ "id": "ref-for-initialize-transform-stream\u2460" }], "title": "9.3.1. Creation and manipulation" }], "url": "#initialize-transform-stream" },
                "initialize-writable-stream": { "dfnID": "initialize-writable-stream", "dfnText": "InitializeWritableStream(stream)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-initialize-writable-stream" }], "title": "5.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-initialize-writable-stream\u2460" }], "title": "5.5.1. Working with writable streams" }, { "refs": [{ "id": "ref-for-initialize-writable-stream\u2461" }], "title": "8.2. Transferable streams" }, { "refs": [{ "id": "ref-for-initialize-writable-stream\u2462" }], "title": "9.2.1. Creation and manipulation" }], "url": "#initialize-writable-stream" },
                "internal-queues": { "dfnID": "internal-queues", "dfnText": "internal queues", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-internal-queues" }], "title": "2.2. Writable streams" }, { "refs": [{ "id": "ref-for-internal-queues\u2460" }], "title": "2.5. Internal queues and queuing strategies" }, { "refs": [{ "id": "ref-for-internal-queues\u2461" }], "title": "4.2.3. The underlying source API" }, { "refs": [{ "id": "ref-for-internal-queues\u2462" }], "title": "4.4.2. Internal slots" }, { "refs": [{ "id": "ref-for-internal-queues\u2463" }], "title": "4.4.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-internal-queues\u2464" }], "title": "4.5.2. Internal slots" }, { "refs": [{ "id": "ref-for-internal-queues\u2465" }], "title": "4.5.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-internal-queues\u2466" }], "title": "4.6. The ReadableStreamDefaultController class" }, { "refs": [{ "id": "ref-for-internal-queues\u2467" }], "title": "4.7. The ReadableByteStreamController class" }, { "refs": [{ "id": "ref-for-internal-queues\u2468" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-internal-queues\u2460\u24ea" }], "title": "4.9.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-internal-queues\u2460\u2460" }], "title": "5.1. Using writable streams" }, { "refs": [{ "id": "ref-for-internal-queues\u2460\u2461" }, { "id": "ref-for-internal-queues\u2460\u2462" }], "title": "10.3. A readable byte stream with an underlying push source (no backpressure support)" }], "url": "#internal-queues" },
                "is-non-negative-number": { "dfnID": "is-non-negative-number", "dfnText": "IsNonNegativeNumber(v)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-is-non-negative-number" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-is-non-negative-number\u2460" }], "title": "5.5.1. Working with writable streams" }, { "refs": [{ "id": "ref-for-is-non-negative-number\u2461" }], "title": "8.1. Queue-with-sizes" }], "url": "#is-non-negative-number" },
                "is-readable-stream-disturbed": { "dfnID": "is-readable-stream-disturbed", "dfnText": "disturbed", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-is-readable-stream-disturbed" }], "title": "9.5. Piping" }], "url": "#is-readable-stream-disturbed" },
                "is-readable-stream-locked": { "dfnID": "is-readable-stream-locked", "dfnText": "IsReadableStreamLocked(stream)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-is-readable-stream-locked" }, { "id": "ref-for-is-readable-stream-locked\u2460" }, { "id": "ref-for-is-readable-stream-locked\u2461" }, { "id": "ref-for-is-readable-stream-locked\u2462" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-is-readable-stream-locked\u2463" }], "title": "4.2.6. Transfer via postMessage()" }, { "refs": [{ "id": "ref-for-is-readable-stream-locked\u2464" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-is-readable-stream-locked\u2465" }, { "id": "ref-for-is-readable-stream-locked\u2466" }], "title": "4.9.3. Readers" }, { "refs": [{ "id": "ref-for-is-readable-stream-locked\u2467" }, { "id": "ref-for-is-readable-stream-locked\u2468" }], "title": "4.9.4. Default controllers" }, { "refs": [{ "id": "ref-for-is-readable-stream-locked\u2460\u24ea" }], "title": "4.9.5. Byte stream controllers" }, { "refs": [{ "id": "ref-for-is-readable-stream-locked\u2460\u2460" }], "title": "6.2.5. Transfer via postMessage()" }, { "refs": [{ "id": "ref-for-is-readable-stream-locked\u2460\u2461" }], "title": "9.1.3. Introspection" }, { "refs": [{ "id": "ref-for-is-readable-stream-locked\u2460\u2462" }, { "id": "ref-for-is-readable-stream-locked\u2460\u2463" }], "title": "9.5. Piping" }], "url": "#is-readable-stream-locked" },
                "is-writable-stream-locked": { "dfnID": "is-writable-stream-locked", "dfnText": "IsWritableStreamLocked(stream)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-is-writable-stream-locked" }, { "id": "ref-for-is-writable-stream-locked\u2460" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-is-writable-stream-locked\u2461" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-is-writable-stream-locked\u2462" }, { "id": "ref-for-is-writable-stream-locked\u2463" }, { "id": "ref-for-is-writable-stream-locked\u2464" }], "title": "5.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-is-writable-stream-locked\u2465" }], "title": "5.2.5. Transfer via postMessage()" }, { "refs": [{ "id": "ref-for-is-writable-stream-locked\u2466" }], "title": "5.5.1. Working with writable streams" }, { "refs": [{ "id": "ref-for-is-writable-stream-locked\u2467" }], "title": "5.5.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-is-writable-stream-locked\u2468" }], "title": "6.2.5. Transfer via postMessage()" }, { "refs": [{ "id": "ref-for-is-writable-stream-locked\u2460\u24ea" }, { "id": "ref-for-is-writable-stream-locked\u2460\u2460" }], "title": "9.5. Piping" }], "url": "#is-writable-stream-locked" },
                "lock": { "dfnID": "lock", "dfnText": "locked", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-lock" }], "title": "2.1. Readable streams" }, { "refs": [{ "id": "ref-for-lock\u2460" }], "title": "2.4. Pipe chains and backpressure" }, { "refs": [{ "id": "ref-for-lock\u2461" }], "title": "4.2.2. Internal slots" }, { "refs": [{ "id": "ref-for-lock\u2462" }, { "id": "ref-for-lock\u2463" }, { "id": "ref-for-lock\u2464" }, { "id": "ref-for-lock\u2465" }, { "id": "ref-for-lock\u2466" }, { "id": "ref-for-lock\u2467" }, { "id": "ref-for-lock\u2468" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-lock\u2460\u24ea" }], "title": "4.2.5. Asynchronous iteration" }, { "refs": [{ "id": "ref-for-lock\u2460\u2460" }], "title": "4.2.6. Transfer via postMessage()" }, { "refs": [{ "id": "ref-for-lock\u2460\u2461" }], "title": "5.2.2. Internal slots" }, { "refs": [{ "id": "ref-for-lock\u2460\u2462" }, { "id": "ref-for-lock\u2460\u2463" }, { "id": "ref-for-lock\u2460\u2464" }, { "id": "ref-for-lock\u2460\u2465" }], "title": "5.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-lock\u2460\u2466" }], "title": "5.2.5. Transfer via postMessage()" }], "url": "#lock" },
                "make-size-algorithm-from-size-function": { "dfnID": "make-size-algorithm-from-size-function", "dfnText": "ExtractSizeAlgorithm(strategy)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-make-size-algorithm-from-size-function" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-make-size-algorithm-from-size-function\u2460" }], "title": "5.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-make-size-algorithm-from-size-function\u2461" }, { "id": "ref-for-make-size-algorithm-from-size-function\u2462" }], "title": "6.2.4. Constructor and properties" }], "url": "#make-size-algorithm-from-size-function" },
                "original-source": { "dfnID": "original-source", "dfnText": "original source", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-original-source" }], "title": "2.4. Pipe chains and backpressure" }], "url": "#original-source" },
                "peek-queue-value": { "dfnID": "peek-queue-value", "dfnText": "PeekQueueValue(container)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-peek-queue-value" }], "title": "5.5.4. Default controllers" }], "url": "#peek-queue-value" },
                "pending-abort-request": { "dfnID": "pending-abort-request", "dfnText": "pending abort request", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-pending-abort-request" }], "title": "5.2.2. Internal slots" }, { "refs": [{ "id": "ref-for-pending-abort-request\u2460" }], "title": "5.5.1. Working with writable streams" }], "url": "#pending-abort-request" },
                "pending-abort-request-promise": { "dfnID": "pending-abort-request-promise", "dfnText": "promise", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-pending-abort-request-promise" }, { "id": "ref-for-pending-abort-request-promise\u2460" }], "title": "5.5.1. Working with writable streams" }, { "refs": [{ "id": "ref-for-pending-abort-request-promise\u2461" }, { "id": "ref-for-pending-abort-request-promise\u2462" }, { "id": "ref-for-pending-abort-request-promise\u2463" }, { "id": "ref-for-pending-abort-request-promise\u2464" }, { "id": "ref-for-pending-abort-request-promise\u2465" }], "title": "5.5.2. Interfacing with controllers" }], "url": "#pending-abort-request-promise" },
                "pending-abort-request-reason": { "dfnID": "pending-abort-request-reason", "dfnText": "reason", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-pending-abort-request-reason" }], "title": "5.5.1. Working with writable streams" }, { "refs": [{ "id": "ref-for-pending-abort-request-reason\u2460" }], "title": "5.5.2. Interfacing with controllers" }], "url": "#pending-abort-request-reason" },
                "pending-abort-request-was-already-erroring": { "dfnID": "pending-abort-request-was-already-erroring", "dfnText": "was already erroring", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-pending-abort-request-was-already-erroring" }], "title": "5.5.1. Working with writable streams" }, { "refs": [{ "id": "ref-for-pending-abort-request-was-already-erroring\u2460" }], "title": "5.5.2. Interfacing with controllers" }], "url": "#pending-abort-request-was-already-erroring" },
                "pipe-chain": { "dfnID": "pipe-chain", "dfnText": "pipe chain", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-pipe-chain" }], "title": "1. Introduction" }, { "refs": [{ "id": "ref-for-pipe-chain\u2460" }], "title": "2.4. Pipe chains and backpressure" }, { "refs": [{ "id": "ref-for-pipe-chain\u2461" }], "title": "4.2.4. Constructor, methods, and properties" }], "url": "#pipe-chain" },
                "piping": { "dfnID": "piping", "dfnText": "piping", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-piping" }, { "id": "ref-for-piping\u2460" }], "title": "2.6. Locking" }, { "refs": [{ "id": "ref-for-piping\u2461" }, { "id": "ref-for-piping\u2462" }, { "id": "ref-for-piping\u2463" }], "title": "4.1. Using readable streams" }, { "refs": [{ "id": "ref-for-piping\u2464" }], "title": "4.2.3. The underlying source API" }, { "refs": [{ "id": "ref-for-piping\u2465" }, { "id": "ref-for-piping\u2466" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-piping\u2467" }], "title": "5.1. Using writable streams" }, { "refs": [{ "id": "ref-for-piping\u2468" }], "title": "5.2.3. The underlying sink API" }, { "refs": [{ "id": "ref-for-piping\u2460\u24ea" }], "title": "6.1. Using transform streams" }, { "refs": [{ "id": "ref-for-piping\u2460\u2460" }], "title": "10.1. A readable stream with an underlying push source (no backpressure support)" }], "url": "#piping" },
                "producer": { "dfnID": "producer", "dfnText": "producer", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-producer" }], "title": "2.6. Locking" }, { "refs": [{ "id": "ref-for-producer\u2460" }], "title": "4.2.3. The underlying source API" }, { "refs": [{ "id": "ref-for-producer\u2461" }], "title": "5.1. Using writable streams" }, { "refs": [{ "id": "ref-for-producer\u2462" }, { "id": "ref-for-producer\u2463" }, { "id": "ref-for-producer\u2464" }, { "id": "ref-for-producer\u2465" }], "title": "5.2.3. The underlying sink API" }, { "refs": [{ "id": "ref-for-producer\u2466" }, { "id": "ref-for-producer\u2467" }, { "id": "ref-for-producer\u2468" }], "title": "5.3.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-producer\u2460\u24ea" }, { "id": "ref-for-producer\u2460\u2460" }], "title": "6.2.3. The transformer API" }, { "refs": [{ "id": "ref-for-producer\u2460\u2461" }], "title": "7.2. The ByteLengthQueuingStrategy class" }, { "refs": [{ "id": "ref-for-producer\u2460\u2462" }], "title": "7.3. The CountQueuingStrategy class" }, { "refs": [{ "id": "ref-for-producer\u2460\u2463" }], "title": "10.6. A writable stream with no backpressure or success signals" }, { "refs": [{ "id": "ref-for-producer\u2460\u2464" }], "title": "10.7. A writable stream with backpressure and success signals" }], "url": "#producer" },
                "pull-into-descriptor": { "dfnID": "pull-into-descriptor", "dfnText": "pull-into descriptor", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-pull-into-descriptor" }], "title": "4.7.2. Internal slots" }, { "refs": [{ "id": "ref-for-pull-into-descriptor\u2460" }], "title": "4.7.4. Internal methods" }, { "refs": [{ "id": "ref-for-pull-into-descriptor\u2461" }], "title": "4.9.5. Byte stream controllers" }], "url": "#pull-into-descriptor" },
                "pull-into-descriptor-buffer": { "dfnID": "pull-into-descriptor-buffer", "dfnText": "buffer", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-pull-into-descriptor-buffer" }, { "id": "ref-for-pull-into-descriptor-buffer\u2460" }, { "id": "ref-for-pull-into-descriptor-buffer\u2461" }, { "id": "ref-for-pull-into-descriptor-buffer\u2462" }, { "id": "ref-for-pull-into-descriptor-buffer\u2463" }, { "id": "ref-for-pull-into-descriptor-buffer\u2464" }, { "id": "ref-for-pull-into-descriptor-buffer\u2465" }], "title": "4.7.2. Internal slots" }, { "refs": [{ "id": "ref-for-pull-into-descriptor-buffer\u2466" }], "title": "4.7.4. Internal methods" }, { "refs": [{ "id": "ref-for-pull-into-descriptor-buffer\u2467" }, { "id": "ref-for-pull-into-descriptor-buffer\u2468" }, { "id": "ref-for-pull-into-descriptor-buffer\u2460\u24ea" }, { "id": "ref-for-pull-into-descriptor-buffer\u2460\u2460" }, { "id": "ref-for-pull-into-descriptor-buffer\u2460\u2461" }, { "id": "ref-for-pull-into-descriptor-buffer\u2460\u2462" }, { "id": "ref-for-pull-into-descriptor-buffer\u2460\u2463" }, { "id": "ref-for-pull-into-descriptor-buffer\u2460\u2464" }, { "id": "ref-for-pull-into-descriptor-buffer\u2460\u2465" }, { "id": "ref-for-pull-into-descriptor-buffer\u2460\u2466" }, { "id": "ref-for-pull-into-descriptor-buffer\u2460\u2467" }, { "id": "ref-for-pull-into-descriptor-buffer\u2460\u2468" }, { "id": "ref-for-pull-into-descriptor-buffer\u2461\u24ea" }, { "id": "ref-for-pull-into-descriptor-buffer\u2461\u2460" }, { "id": "ref-for-pull-into-descriptor-buffer\u2461\u2461" }], "title": "4.9.5. Byte stream controllers" }], "url": "#pull-into-descriptor-buffer" },
                "pull-into-descriptor-buffer-byte-length": { "dfnID": "pull-into-descriptor-buffer-byte-length", "dfnText": "buffer byte length", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-pull-into-descriptor-buffer-byte-length" }], "title": "4.7.4. Internal methods" }, { "refs": [{ "id": "ref-for-pull-into-descriptor-buffer-byte-length\u2460" }, { "id": "ref-for-pull-into-descriptor-buffer-byte-length\u2461" }], "title": "4.9.5. Byte stream controllers" }], "url": "#pull-into-descriptor-buffer-byte-length" },
                "pull-into-descriptor-byte-length": { "dfnID": "pull-into-descriptor-byte-length", "dfnText": "byte length", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-pull-into-descriptor-byte-length" }], "title": "4.7.4. Internal methods" }, { "refs": [{ "id": "ref-for-pull-into-descriptor-byte-length\u2460" }, { "id": "ref-for-pull-into-descriptor-byte-length\u2461" }, { "id": "ref-for-pull-into-descriptor-byte-length\u2462" }, { "id": "ref-for-pull-into-descriptor-byte-length\u2463" }, { "id": "ref-for-pull-into-descriptor-byte-length\u2464" }, { "id": "ref-for-pull-into-descriptor-byte-length\u2465" }, { "id": "ref-for-pull-into-descriptor-byte-length\u2466" }], "title": "4.9.5. Byte stream controllers" }], "url": "#pull-into-descriptor-byte-length" },
                "pull-into-descriptor-byte-offset": { "dfnID": "pull-into-descriptor-byte-offset", "dfnText": "byte offset", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-pull-into-descriptor-byte-offset" }], "title": "4.7.4. Internal methods" }, { "refs": [{ "id": "ref-for-pull-into-descriptor-byte-offset\u2460" }, { "id": "ref-for-pull-into-descriptor-byte-offset\u2461" }, { "id": "ref-for-pull-into-descriptor-byte-offset\u2462" }, { "id": "ref-for-pull-into-descriptor-byte-offset\u2463" }, { "id": "ref-for-pull-into-descriptor-byte-offset\u2464" }, { "id": "ref-for-pull-into-descriptor-byte-offset\u2465" }, { "id": "ref-for-pull-into-descriptor-byte-offset\u2466" }, { "id": "ref-for-pull-into-descriptor-byte-offset\u2467" }], "title": "4.9.5. Byte stream controllers" }], "url": "#pull-into-descriptor-byte-offset" },
                "pull-into-descriptor-bytes-filled": { "dfnID": "pull-into-descriptor-bytes-filled", "dfnText": "bytes filled", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-pull-into-descriptor-bytes-filled" }], "title": "4.7.4. Internal methods" }, { "refs": [{ "id": "ref-for-pull-into-descriptor-bytes-filled\u2460" }, { "id": "ref-for-pull-into-descriptor-bytes-filled\u2461" }, { "id": "ref-for-pull-into-descriptor-bytes-filled\u2462" }, { "id": "ref-for-pull-into-descriptor-bytes-filled\u2463" }, { "id": "ref-for-pull-into-descriptor-bytes-filled\u2464" }, { "id": "ref-for-pull-into-descriptor-bytes-filled\u2465" }, { "id": "ref-for-pull-into-descriptor-bytes-filled\u2466" }, { "id": "ref-for-pull-into-descriptor-bytes-filled\u2467" }, { "id": "ref-for-pull-into-descriptor-bytes-filled\u2468" }, { "id": "ref-for-pull-into-descriptor-bytes-filled\u2460\u24ea" }, { "id": "ref-for-pull-into-descriptor-bytes-filled\u2460\u2460" }, { "id": "ref-for-pull-into-descriptor-bytes-filled\u2460\u2461" }, { "id": "ref-for-pull-into-descriptor-bytes-filled\u2460\u2462" }, { "id": "ref-for-pull-into-descriptor-bytes-filled\u2460\u2463" }, { "id": "ref-for-pull-into-descriptor-bytes-filled\u2460\u2464" }, { "id": "ref-for-pull-into-descriptor-bytes-filled\u2460\u2465" }, { "id": "ref-for-pull-into-descriptor-bytes-filled\u2460\u2466" }, { "id": "ref-for-pull-into-descriptor-bytes-filled\u2460\u2467" }, { "id": "ref-for-pull-into-descriptor-bytes-filled\u2460\u2468" }, { "id": "ref-for-pull-into-descriptor-bytes-filled\u2461\u24ea" }, { "id": "ref-for-pull-into-descriptor-bytes-filled\u2461\u2460" }, { "id": "ref-for-pull-into-descriptor-bytes-filled\u2461\u2461" }, { "id": "ref-for-pull-into-descriptor-bytes-filled\u2461\u2462" }, { "id": "ref-for-pull-into-descriptor-bytes-filled\u2461\u2463" }, { "id": "ref-for-pull-into-descriptor-bytes-filled\u2461\u2464" }, { "id": "ref-for-pull-into-descriptor-bytes-filled\u2461\u2465" }, { "id": "ref-for-pull-into-descriptor-bytes-filled\u2461\u2466" }], "title": "4.9.5. Byte stream controllers" }], "url": "#pull-into-descriptor-bytes-filled" },
                "pull-into-descriptor-element-size": { "dfnID": "pull-into-descriptor-element-size", "dfnText": "element size", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-pull-into-descriptor-element-size" }], "title": "4.7.2. Internal slots" }, { "refs": [{ "id": "ref-for-pull-into-descriptor-element-size\u2460" }], "title": "4.7.4. Internal methods" }, { "refs": [{ "id": "ref-for-pull-into-descriptor-element-size\u2461" }, { "id": "ref-for-pull-into-descriptor-element-size\u2462" }, { "id": "ref-for-pull-into-descriptor-element-size\u2463" }, { "id": "ref-for-pull-into-descriptor-element-size\u2464" }, { "id": "ref-for-pull-into-descriptor-element-size\u2465" }, { "id": "ref-for-pull-into-descriptor-element-size\u2466" }, { "id": "ref-for-pull-into-descriptor-element-size\u2467" }], "title": "4.9.5. Byte stream controllers" }], "url": "#pull-into-descriptor-element-size" },
                "pull-into-descriptor-minimum-fill": { "dfnID": "pull-into-descriptor-minimum-fill", "dfnText": "minimum fill", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-pull-into-descriptor-minimum-fill" }], "title": "4.7.4. Internal methods" }, { "refs": [{ "id": "ref-for-pull-into-descriptor-minimum-fill\u2460" }, { "id": "ref-for-pull-into-descriptor-minimum-fill\u2461" }, { "id": "ref-for-pull-into-descriptor-minimum-fill\u2462" }, { "id": "ref-for-pull-into-descriptor-minimum-fill\u2463" }, { "id": "ref-for-pull-into-descriptor-minimum-fill\u2464" }], "title": "4.9.5. Byte stream controllers" }], "url": "#pull-into-descriptor-minimum-fill" },
                "pull-into-descriptor-reader-type": { "dfnID": "pull-into-descriptor-reader-type", "dfnText": "reader type", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-pull-into-descriptor-reader-type" }, { "id": "ref-for-pull-into-descriptor-reader-type\u2460" }], "title": "4.7.4. Internal methods" }, { "refs": [{ "id": "ref-for-pull-into-descriptor-reader-type\u2461" }, { "id": "ref-for-pull-into-descriptor-reader-type\u2462" }, { "id": "ref-for-pull-into-descriptor-reader-type\u2463" }, { "id": "ref-for-pull-into-descriptor-reader-type\u2464" }, { "id": "ref-for-pull-into-descriptor-reader-type\u2465" }, { "id": "ref-for-pull-into-descriptor-reader-type\u2466" }, { "id": "ref-for-pull-into-descriptor-reader-type\u2467" }, { "id": "ref-for-pull-into-descriptor-reader-type\u2468" }, { "id": "ref-for-pull-into-descriptor-reader-type\u2460\u24ea" }], "title": "4.9.5. Byte stream controllers" }], "url": "#pull-into-descriptor-reader-type" },
                "pull-into-descriptor-view-constructor": { "dfnID": "pull-into-descriptor-view-constructor", "dfnText": "view constructor", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-pull-into-descriptor-view-constructor" }], "title": "4.7.2. Internal slots" }, { "refs": [{ "id": "ref-for-pull-into-descriptor-view-constructor\u2460" }], "title": "4.7.4. Internal methods" }, { "refs": [{ "id": "ref-for-pull-into-descriptor-view-constructor\u2461" }, { "id": "ref-for-pull-into-descriptor-view-constructor\u2462" }], "title": "4.9.5. Byte stream controllers" }], "url": "#pull-into-descriptor-view-constructor" },
                "pull-source": { "dfnID": "pull-source", "dfnText": "Pull sources", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-pull-source" }, { "id": "ref-for-pull-source\u2460" }], "title": "4.2.3. The underlying source API" }, { "refs": [{ "id": "ref-for-pull-source\u2461" }], "title": "10.4. A readable stream with an underlying pull source" }], "url": "#pull-source" },
                "push-source": { "dfnID": "push-source", "dfnText": "Push sources", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-push-source" }, { "id": "ref-for-push-source\u2460" }], "title": "4.2.3. The underlying source API" }, { "refs": [{ "id": "ref-for-push-source\u2461" }], "title": "10.1. A readable stream with an underlying push source (no backpressure support)" }], "url": "#push-source" },
                "queuing-strategy": { "dfnID": "queuing-strategy", "dfnText": "queuing strategy", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-queuing-strategy" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-queuing-strategy\u2460" }, { "id": "ref-for-queuing-strategy\u2461" }], "title": "4.6.2. Internal slots" }, { "refs": [{ "id": "ref-for-queuing-strategy\u2462" }], "title": "4.7.2. Internal slots" }, { "refs": [{ "id": "ref-for-queuing-strategy\u2463" }], "title": "5.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-queuing-strategy\u2464" }, { "id": "ref-for-queuing-strategy\u2465" }], "title": "5.4.2. Internal slots" }, { "refs": [{ "id": "ref-for-queuing-strategy\u2466" }], "title": "6.2.4. Constructor and properties" }, { "refs": [{ "id": "ref-for-queuing-strategy\u2467" }], "title": "7.1. The queuing strategy API" }, { "refs": [{ "id": "ref-for-queuing-strategy\u2468" }, { "id": "ref-for-queuing-strategy\u2460\u24ea" }], "title": "7.2. The ByteLengthQueuingStrategy class" }, { "refs": [{ "id": "ref-for-queuing-strategy\u2460\u2460" }], "title": "7.3. The CountQueuingStrategy class" }], "url": "#queuing-strategy" },
                "rbs-controller-byob-request": { "dfnID": "rbs-controller-byob-request", "dfnText": "byobRequest", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-rbs-controller-byob-request" }], "title": "4.2.3. The underlying source API" }, { "refs": [{ "id": "ref-for-rbs-controller-byob-request\u2460" }], "title": "4.7.1. Interface definition" }, { "refs": [{ "id": "ref-for-rbs-controller-byob-request\u2461" }], "title": "4.7.3. Methods and properties" }], "url": "#rbs-controller-byob-request" },
                "rbs-controller-close": { "dfnID": "rbs-controller-close", "dfnText": "close()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-rbs-controller-close" }], "title": "4.7.1. Interface definition" }, { "refs": [{ "id": "ref-for-rbs-controller-close\u2460" }], "title": "4.7.3. Methods and properties" }], "url": "#rbs-controller-close" },
                "rbs-controller-desired-size": { "dfnID": "rbs-controller-desired-size", "dfnText": "desiredSize", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-rbs-controller-desired-size" }], "title": "2.4. Pipe chains and backpressure" }, { "refs": [{ "id": "ref-for-rbs-controller-desired-size\u2460" }], "title": "4.7.1. Interface definition" }, { "refs": [{ "id": "ref-for-rbs-controller-desired-size\u2461" }], "title": "4.7.3. Methods and properties" }, { "refs": [{ "id": "ref-for-rbs-controller-desired-size\u2462" }], "title": "7.1. The queuing strategy API" }, { "refs": [{ "id": "ref-for-rbs-controller-desired-size\u2463" }, { "id": "ref-for-rbs-controller-desired-size\u2464" }], "title": "10.3. A readable byte stream with an underlying push source (no backpressure support)" }], "url": "#rbs-controller-desired-size" },
                "rbs-controller-enqueue": { "dfnID": "rbs-controller-enqueue", "dfnText": "enqueue(chunk)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-rbs-controller-enqueue" }], "title": "4.7.1. Interface definition" }, { "refs": [{ "id": "ref-for-rbs-controller-enqueue\u2460" }], "title": "4.7.3. Methods and properties" }], "url": "#rbs-controller-enqueue" },
                "rbs-controller-error": { "dfnID": "rbs-controller-error", "dfnText": "error(e)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-rbs-controller-error" }], "title": "4.7.1. Interface definition" }, { "refs": [{ "id": "ref-for-rbs-controller-error\u2460" }], "title": "4.7.3. Methods and properties" }], "url": "#rbs-controller-error" },
                "rbs-controller-private-cancel": { "dfnID": "rbs-controller-private-cancel", "dfnText": "[[CancelSteps]](reason)", "external": false, "refSections": [], "url": "#rbs-controller-private-cancel" },
                "rbs-controller-private-pull": { "dfnID": "rbs-controller-private-pull", "dfnText": "[[PullSteps]](readRequest)", "external": false, "refSections": [], "url": "#rbs-controller-private-pull" },
                "read-into-request": { "dfnID": "read-into-request", "dfnText": "read-into request", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-read-into-request" }], "title": "4.5.2. Internal slots" }, { "refs": [{ "id": "ref-for-read-into-request\u2460" }], "title": "4.5.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-read-into-request\u2461" }], "title": "4.9.1. Working with readable streams" }], "url": "#read-into-request" },
                "read-into-request-chunk-steps": { "dfnID": "read-into-request-chunk-steps", "dfnText": "chunk steps", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-read-into-request-chunk-steps" }], "title": "4.5.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-read-into-request-chunk-steps\u2460" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-read-into-request-chunk-steps\u2461" }], "title": "4.9.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-read-into-request-chunk-steps\u2462" }], "title": "4.9.5. Byte stream controllers" }], "url": "#read-into-request-chunk-steps" },
                "read-into-request-close-steps": { "dfnID": "read-into-request-close-steps", "dfnText": "close steps", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-read-into-request-close-steps" }], "title": "4.5.2. Internal slots" }, { "refs": [{ "id": "ref-for-read-into-request-close-steps\u2460" }], "title": "4.5.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-read-into-request-close-steps\u2461" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-read-into-request-close-steps\u2462" }, { "id": "ref-for-read-into-request-close-steps\u2463" }], "title": "4.9.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-read-into-request-close-steps\u2464" }], "title": "4.9.5. Byte stream controllers" }], "url": "#read-into-request-close-steps" },
                "read-into-request-error-steps": { "dfnID": "read-into-request-error-steps", "dfnText": "error steps", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-read-into-request-error-steps" }], "title": "4.5.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-read-into-request-error-steps\u2460" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-read-into-request-error-steps\u2461" }, { "id": "ref-for-read-into-request-error-steps\u2462" }], "title": "4.9.3. Readers" }, { "refs": [{ "id": "ref-for-read-into-request-error-steps\u2463" }, { "id": "ref-for-read-into-request-error-steps\u2464" }], "title": "4.9.5. Byte stream controllers" }], "url": "#read-into-request-error-steps" },
                "read-loop": { "dfnID": "read-loop", "dfnText": "read-loop", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-read-loop" }, { "id": "ref-for-read-loop\u2460" }], "title": "9.1.2. Reading" }], "url": "#read-loop" },
                "read-request": { "dfnID": "read-request", "dfnText": "read request", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-read-request" }], "title": "4.2.5. Asynchronous iteration" }, { "refs": [{ "id": "ref-for-read-request\u2460" }], "title": "4.4.2. Internal slots" }, { "refs": [{ "id": "ref-for-read-request\u2461" }], "title": "4.4.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-read-request\u2462" }, { "id": "ref-for-read-request\u2463" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-read-request\u2464" }, { "id": "ref-for-read-request\u2465" }], "title": "9.1.2. Reading" }], "url": "#read-request" },
                "read-request-chunk-steps": { "dfnID": "read-request-chunk-steps", "dfnText": "chunk steps", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-read-request-chunk-steps" }], "title": "4.2.5. Asynchronous iteration" }, { "refs": [{ "id": "ref-for-read-request-chunk-steps\u2460" }], "title": "4.4.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-read-request-chunk-steps\u2461" }], "title": "4.6.4. Internal methods" }, { "refs": [{ "id": "ref-for-read-request-chunk-steps\u2462" }, { "id": "ref-for-read-request-chunk-steps\u2463" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-read-request-chunk-steps\u2464" }], "title": "4.9.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-read-request-chunk-steps\u2465" }], "title": "4.9.5. Byte stream controllers" }, { "refs": [{ "id": "ref-for-read-request-chunk-steps\u2466" }], "title": "9.1.2. Reading" }], "url": "#read-request-chunk-steps" },
                "read-request-close-steps": { "dfnID": "read-request-close-steps", "dfnText": "close steps", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-read-request-close-steps" }], "title": "4.2.5. Asynchronous iteration" }, { "refs": [{ "id": "ref-for-read-request-close-steps\u2460" }], "title": "4.4.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-read-request-close-steps\u2461" }, { "id": "ref-for-read-request-close-steps\u2462" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-read-request-close-steps\u2463" }, { "id": "ref-for-read-request-close-steps\u2464" }], "title": "4.9.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-read-request-close-steps\u2465" }], "title": "4.9.3. Readers" }, { "refs": [{ "id": "ref-for-read-request-close-steps\u2466" }], "title": "9.1.2. Reading" }], "url": "#read-request-close-steps" },
                "read-request-error-steps": { "dfnID": "read-request-error-steps", "dfnText": "error steps", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-read-request-error-steps" }], "title": "4.2.5. Asynchronous iteration" }, { "refs": [{ "id": "ref-for-read-request-error-steps\u2460" }], "title": "4.4.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-read-request-error-steps\u2461" }], "title": "4.7.4. Internal methods" }, { "refs": [{ "id": "ref-for-read-request-error-steps\u2462" }, { "id": "ref-for-read-request-error-steps\u2463" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-read-request-error-steps\u2464" }, { "id": "ref-for-read-request-error-steps\u2465" }], "title": "4.9.3. Readers" }, { "refs": [{ "id": "ref-for-read-request-error-steps\u2466" }], "title": "9.1.2. Reading" }], "url": "#read-request-error-steps" },
                "readable-byte-stream": { "dfnID": "readable-byte-stream", "dfnText": "readable byte stream", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-byte-stream" }], "title": "2.6. Locking" }, { "refs": [{ "id": "ref-for-readable-byte-stream\u2460" }], "title": "4.1. Using readable streams" }, { "refs": [{ "id": "ref-for-readable-byte-stream\u2461" }], "title": "4.2.3. The underlying source API" }, { "refs": [{ "id": "ref-for-readable-byte-stream\u2462" }, { "id": "ref-for-readable-byte-stream\u2463" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-readable-byte-stream\u2464" }], "title": "4.5.2. Internal slots" }, { "refs": [{ "id": "ref-for-readable-byte-stream\u2465" }], "title": "4.6. The ReadableStreamDefaultController class" }, { "refs": [{ "id": "ref-for-readable-byte-stream\u2466" }], "title": "4.7. The ReadableByteStreamController class" }, { "refs": [{ "id": "ref-for-readable-byte-stream\u2467" }], "title": "4.7.2. Internal slots" }, { "refs": [{ "id": "ref-for-readable-byte-stream\u2468" }, { "id": "ref-for-readable-byte-stream\u2460\u24ea" }, { "id": "ref-for-readable-byte-stream\u2460\u2460" }], "title": "4.8.3. Methods and properties" }, { "refs": [{ "id": "ref-for-readable-byte-stream\u2460\u2461" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-readable-byte-stream\u2460\u2462" }], "title": "4.9.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-readable-byte-stream\u2460\u2463" }], "title": "5.5.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-readable-byte-stream\u2460\u2464" }], "title": "7.1. The queuing strategy API" }, { "refs": [{ "id": "ref-for-readable-byte-stream\u2460\u2465" }], "title": "7.2. The ByteLengthQueuingStrategy class" }, { "refs": [{ "id": "ref-for-readable-byte-stream\u2460\u2466" }], "title": "10.3. A readable byte stream with an underlying push source (no backpressure support)" }, { "refs": [{ "id": "ref-for-readable-byte-stream\u2460\u2467" }], "title": "10.5. A readable byte stream with an underlying pull source" }], "url": "#readable-byte-stream" },
                "readable-byte-stream-controller-call-pull-if-needed": { "dfnID": "readable-byte-stream-controller-call-pull-if-needed", "dfnText": "ReadableByteStreamControllerCallPullIfNeeded(controller)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-byte-stream-controller-call-pull-if-needed" }], "title": "4.7.4. Internal methods" }, { "refs": [{ "id": "ref-for-readable-byte-stream-controller-call-pull-if-needed\u2460" }, { "id": "ref-for-readable-byte-stream-controller-call-pull-if-needed\u2461" }, { "id": "ref-for-readable-byte-stream-controller-call-pull-if-needed\u2462" }, { "id": "ref-for-readable-byte-stream-controller-call-pull-if-needed\u2463" }, { "id": "ref-for-readable-byte-stream-controller-call-pull-if-needed\u2464" }, { "id": "ref-for-readable-byte-stream-controller-call-pull-if-needed\u2465" }], "title": "4.9.5. Byte stream controllers" }], "url": "#readable-byte-stream-controller-call-pull-if-needed" },
                "readable-byte-stream-controller-clear-algorithms": { "dfnID": "readable-byte-stream-controller-clear-algorithms", "dfnText": "ReadableByteStreamControllerClearAlgorithms(controller)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-byte-stream-controller-clear-algorithms" }], "title": "4.7.4. Internal methods" }, { "refs": [{ "id": "ref-for-readable-byte-stream-controller-clear-algorithms\u2460" }, { "id": "ref-for-readable-byte-stream-controller-clear-algorithms\u2461" }, { "id": "ref-for-readable-byte-stream-controller-clear-algorithms\u2462" }], "title": "4.9.5. Byte stream controllers" }], "url": "#readable-byte-stream-controller-clear-algorithms" },
                "readable-byte-stream-controller-clear-pending-pull-intos": { "dfnID": "readable-byte-stream-controller-clear-pending-pull-intos", "dfnText": "ReadableByteStreamControllerClearPendingPullIntos(controller)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-byte-stream-controller-clear-pending-pull-intos" }], "title": "4.7.4. Internal methods" }, { "refs": [{ "id": "ref-for-readable-byte-stream-controller-clear-pending-pull-intos\u2460" }], "title": "4.9.5. Byte stream controllers" }], "url": "#readable-byte-stream-controller-clear-pending-pull-intos" },
                "readable-byte-stream-controller-close": { "dfnID": "readable-byte-stream-controller-close", "dfnText": "ReadableByteStreamControllerClose(controller)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-byte-stream-controller-close" }], "title": "4.7.3. Methods and properties" }, { "refs": [{ "id": "ref-for-readable-byte-stream-controller-close\u2460" }, { "id": "ref-for-readable-byte-stream-controller-close\u2461" }, { "id": "ref-for-readable-byte-stream-controller-close\u2462" }, { "id": "ref-for-readable-byte-stream-controller-close\u2463" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-readable-byte-stream-controller-close\u2464" }], "title": "9.1.1. Creation and manipulation" }], "url": "#readable-byte-stream-controller-close" },
                "readable-byte-stream-controller-commit-pull-into-descriptor": { "dfnID": "readable-byte-stream-controller-commit-pull-into-descriptor", "dfnText": "ReadableByteStreamControllerCommitPullIntoDescriptor(stream,\n pullIntoDescriptor)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-byte-stream-controller-commit-pull-into-descriptor" }, { "id": "ref-for-readable-byte-stream-controller-commit-pull-into-descriptor\u2460" }, { "id": "ref-for-readable-byte-stream-controller-commit-pull-into-descriptor\u2461" }, { "id": "ref-for-readable-byte-stream-controller-commit-pull-into-descriptor\u2462" }, { "id": "ref-for-readable-byte-stream-controller-commit-pull-into-descriptor\u2463" }], "title": "4.9.5. Byte stream controllers" }], "url": "#readable-byte-stream-controller-commit-pull-into-descriptor" },
                "readable-byte-stream-controller-convert-pull-into-descriptor": { "dfnID": "readable-byte-stream-controller-convert-pull-into-descriptor", "dfnText": "ReadableByteStreamControllerConvertPullIntoDescriptor(pullIntoDescriptor)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-byte-stream-controller-convert-pull-into-descriptor" }, { "id": "ref-for-readable-byte-stream-controller-convert-pull-into-descriptor\u2460" }], "title": "4.9.5. Byte stream controllers" }], "url": "#readable-byte-stream-controller-convert-pull-into-descriptor" },
                "readable-byte-stream-controller-enqueue": { "dfnID": "readable-byte-stream-controller-enqueue", "dfnText": "ReadableByteStreamControllerEnqueue(controller,\n chunk)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-byte-stream-controller-enqueue" }], "title": "4.7.3. Methods and properties" }, { "refs": [{ "id": "ref-for-readable-byte-stream-controller-enqueue\u2460" }, { "id": "ref-for-readable-byte-stream-controller-enqueue\u2461" }, { "id": "ref-for-readable-byte-stream-controller-enqueue\u2462" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-readable-byte-stream-controller-enqueue\u2463" }, { "id": "ref-for-readable-byte-stream-controller-enqueue\u2464" }], "title": "9.1.1. Creation and manipulation" }], "url": "#readable-byte-stream-controller-enqueue" },
                "readable-byte-stream-controller-enqueue-chunk-to-queue": { "dfnID": "readable-byte-stream-controller-enqueue-chunk-to-queue", "dfnText": "ReadableByteStreamControllerEnqueueChunkToQueue(controller,\n buffer, byteOffset, byteLength)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-byte-stream-controller-enqueue-chunk-to-queue" }, { "id": "ref-for-readable-byte-stream-controller-enqueue-chunk-to-queue\u2460" }, { "id": "ref-for-readable-byte-stream-controller-enqueue-chunk-to-queue\u2461" }, { "id": "ref-for-readable-byte-stream-controller-enqueue-chunk-to-queue\u2462" }], "title": "4.9.5. Byte stream controllers" }], "url": "#readable-byte-stream-controller-enqueue-chunk-to-queue" },
                "readable-byte-stream-controller-error": { "dfnID": "readable-byte-stream-controller-error", "dfnText": "ReadableByteStreamControllerError(controller,\n e)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-byte-stream-controller-error" }], "title": "4.7.3. Methods and properties" }, { "refs": [{ "id": "ref-for-readable-byte-stream-controller-error\u2460" }, { "id": "ref-for-readable-byte-stream-controller-error\u2461" }, { "id": "ref-for-readable-byte-stream-controller-error\u2462" }, { "id": "ref-for-readable-byte-stream-controller-error\u2463" }, { "id": "ref-for-readable-byte-stream-controller-error\u2464" }, { "id": "ref-for-readable-byte-stream-controller-error\u2465" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-readable-byte-stream-controller-error\u2466" }, { "id": "ref-for-readable-byte-stream-controller-error\u2467" }, { "id": "ref-for-readable-byte-stream-controller-error\u2468" }, { "id": "ref-for-readable-byte-stream-controller-error\u2460\u24ea" }, { "id": "ref-for-readable-byte-stream-controller-error\u2460\u2460" }, { "id": "ref-for-readable-byte-stream-controller-error\u2460\u2461" }], "title": "4.9.5. Byte stream controllers" }, { "refs": [{ "id": "ref-for-readable-byte-stream-controller-error\u2460\u2462" }], "title": "9.1.1. Creation and manipulation" }], "url": "#readable-byte-stream-controller-error" },
                "readable-byte-stream-controller-fill-head-pull-into-descriptor": { "dfnID": "readable-byte-stream-controller-fill-head-pull-into-descriptor", "dfnText": "ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller,\n size, pullIntoDescriptor)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-byte-stream-controller-fill-head-pull-into-descriptor" }, { "id": "ref-for-readable-byte-stream-controller-fill-head-pull-into-descriptor\u2460" }], "title": "4.9.5. Byte stream controllers" }], "url": "#readable-byte-stream-controller-fill-head-pull-into-descriptor" },
                "readable-byte-stream-controller-fill-pull-into-descriptor-from-queue": { "dfnID": "readable-byte-stream-controller-fill-pull-into-descriptor-from-queue", "dfnText": "ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller,\n pullIntoDescriptor)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-byte-stream-controller-fill-pull-into-descriptor-from-queue" }, { "id": "ref-for-readable-byte-stream-controller-fill-pull-into-descriptor-from-queue\u2460" }], "title": "4.9.5. Byte stream controllers" }], "url": "#readable-byte-stream-controller-fill-pull-into-descriptor-from-queue" },
                "readable-byte-stream-controller-get-desired-size": { "dfnID": "readable-byte-stream-controller-get-desired-size", "dfnText": "ReadableByteStreamControllerGetDesiredSize(controller)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-byte-stream-controller-get-desired-size" }], "title": "4.7.3. Methods and properties" }, { "refs": [{ "id": "ref-for-readable-byte-stream-controller-get-desired-size\u2460" }], "title": "4.9.5. Byte stream controllers" }, { "refs": [{ "id": "ref-for-readable-byte-stream-controller-get-desired-size\u2461" }], "title": "9.1.1. Creation and manipulation" }], "url": "#readable-byte-stream-controller-get-desired-size" },
                "readable-byte-stream-controller-handle-queue-drain": { "dfnID": "readable-byte-stream-controller-handle-queue-drain", "dfnText": "ReadableByteStreamControllerHandleQueueDrain(controller)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-byte-stream-controller-handle-queue-drain" }, { "id": "ref-for-readable-byte-stream-controller-handle-queue-drain\u2460" }], "title": "4.9.5. Byte stream controllers" }], "url": "#readable-byte-stream-controller-handle-queue-drain" },
                "readable-byte-stream-controller-invalidate-byob-request": { "dfnID": "readable-byte-stream-controller-invalidate-byob-request", "dfnText": "ReadableByteStreamControllerInvalidateBYOBRequest(controller)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-byte-stream-controller-invalidate-byob-request" }, { "id": "ref-for-readable-byte-stream-controller-invalidate-byob-request\u2460" }, { "id": "ref-for-readable-byte-stream-controller-invalidate-byob-request\u2461" }], "title": "4.9.5. Byte stream controllers" }], "url": "#readable-byte-stream-controller-invalidate-byob-request" },
                "readable-byte-stream-controller-process-pull-into-descriptors-using-queue": { "dfnID": "readable-byte-stream-controller-process-pull-into-descriptors-using-queue", "dfnText": "ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-byte-stream-controller-process-pull-into-descriptors-using-queue" }, { "id": "ref-for-readable-byte-stream-controller-process-pull-into-descriptors-using-queue\u2460" }, { "id": "ref-for-readable-byte-stream-controller-process-pull-into-descriptors-using-queue\u2461" }], "title": "4.9.5. Byte stream controllers" }], "url": "#readable-byte-stream-controller-process-pull-into-descriptors-using-queue" },
                "readable-byte-stream-controller-pull-into": { "dfnID": "readable-byte-stream-controller-pull-into", "dfnText": "ReadableByteStreamControllerPullInto(controller,\n view, min, readIntoRequest)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-byte-stream-controller-pull-into" }], "title": "4.9.3. Readers" }], "url": "#readable-byte-stream-controller-pull-into" },
                "readable-byte-stream-controller-respond": { "dfnID": "readable-byte-stream-controller-respond", "dfnText": "ReadableByteStreamControllerRespond(controller,\n bytesWritten)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-byte-stream-controller-respond" }], "title": "4.8.3. Methods and properties" }, { "refs": [{ "id": "ref-for-readable-byte-stream-controller-respond\u2460" }, { "id": "ref-for-readable-byte-stream-controller-respond\u2461" }, { "id": "ref-for-readable-byte-stream-controller-respond\u2462" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-readable-byte-stream-controller-respond\u2463" }, { "id": "ref-for-readable-byte-stream-controller-respond\u2464" }, { "id": "ref-for-readable-byte-stream-controller-respond\u2465" }], "title": "9.1.1. Creation and manipulation" }], "url": "#readable-byte-stream-controller-respond" },
                "readable-byte-stream-controller-respond-in-closed-state": { "dfnID": "readable-byte-stream-controller-respond-in-closed-state", "dfnText": "ReadableByteStreamControllerRespondInClosedState(controller,\n firstDescriptor)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-byte-stream-controller-respond-in-closed-state" }], "title": "4.9.5. Byte stream controllers" }], "url": "#readable-byte-stream-controller-respond-in-closed-state" },
                "readable-byte-stream-controller-respond-in-readable-state": { "dfnID": "readable-byte-stream-controller-respond-in-readable-state", "dfnText": "ReadableByteStreamControllerRespondInReadableState(controller,\n bytesWritten, pullIntoDescriptor)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-byte-stream-controller-respond-in-readable-state" }], "title": "4.9.5. Byte stream controllers" }], "url": "#readable-byte-stream-controller-respond-in-readable-state" },
                "readable-byte-stream-controller-respond-internal": { "dfnID": "readable-byte-stream-controller-respond-internal", "dfnText": "ReadableByteStreamControllerRespondInternal(controller,\n bytesWritten)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-byte-stream-controller-respond-internal" }, { "id": "ref-for-readable-byte-stream-controller-respond-internal\u2460" }], "title": "4.9.5. Byte stream controllers" }], "url": "#readable-byte-stream-controller-respond-internal" },
                "readable-byte-stream-controller-respond-with-new-view": { "dfnID": "readable-byte-stream-controller-respond-with-new-view", "dfnText": "ReadableByteStreamControllerRespondWithNewView(controller,\n view)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-byte-stream-controller-respond-with-new-view" }], "title": "4.8.3. Methods and properties" }, { "refs": [{ "id": "ref-for-readable-byte-stream-controller-respond-with-new-view\u2460" }, { "id": "ref-for-readable-byte-stream-controller-respond-with-new-view\u2461" }, { "id": "ref-for-readable-byte-stream-controller-respond-with-new-view\u2462" }], "title": "4.9.1. Working with readable streams" }], "url": "#readable-byte-stream-controller-respond-with-new-view" },
                "readable-byte-stream-controller-shift-pending-pull-into": { "dfnID": "readable-byte-stream-controller-shift-pending-pull-into", "dfnText": "ReadableByteStreamControllerShiftPendingPullInto(controller)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-byte-stream-controller-shift-pending-pull-into" }, { "id": "ref-for-readable-byte-stream-controller-shift-pending-pull-into\u2460" }, { "id": "ref-for-readable-byte-stream-controller-shift-pending-pull-into\u2461" }, { "id": "ref-for-readable-byte-stream-controller-shift-pending-pull-into\u2462" }, { "id": "ref-for-readable-byte-stream-controller-shift-pending-pull-into\u2463" }, { "id": "ref-for-readable-byte-stream-controller-shift-pending-pull-into\u2464" }], "title": "4.9.5. Byte stream controllers" }], "url": "#readable-byte-stream-controller-shift-pending-pull-into" },
                "readable-byte-stream-controller-should-call-pull": { "dfnID": "readable-byte-stream-controller-should-call-pull", "dfnText": "ReadableByteStreamControllerShouldCallPull(controller)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-byte-stream-controller-should-call-pull" }], "title": "4.9.5. Byte stream controllers" }], "url": "#readable-byte-stream-controller-should-call-pull" },
                "readable-byte-stream-queue-entry": { "dfnID": "readable-byte-stream-queue-entry", "dfnText": "readable byte stream queue entry", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-byte-stream-queue-entry" }], "title": "4.7.2. Internal slots" }, { "refs": [{ "id": "ref-for-readable-byte-stream-queue-entry\u2460" }], "title": "4.9.5. Byte stream controllers" }], "url": "#readable-byte-stream-queue-entry" },
                "readable-byte-stream-queue-entry-buffer": { "dfnID": "readable-byte-stream-queue-entry-buffer", "dfnText": "buffer", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-byte-stream-queue-entry-buffer" }, { "id": "ref-for-readable-byte-stream-queue-entry-buffer\u2460" }, { "id": "ref-for-readable-byte-stream-queue-entry-buffer\u2461" }], "title": "4.9.5. Byte stream controllers" }], "url": "#readable-byte-stream-queue-entry-buffer" },
                "readable-byte-stream-queue-entry-byte-length": { "dfnID": "readable-byte-stream-queue-entry-byte-length", "dfnText": "byte length", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-byte-stream-queue-entry-byte-length" }, { "id": "ref-for-readable-byte-stream-queue-entry-byte-length\u2460" }, { "id": "ref-for-readable-byte-stream-queue-entry-byte-length\u2461" }, { "id": "ref-for-readable-byte-stream-queue-entry-byte-length\u2462" }, { "id": "ref-for-readable-byte-stream-queue-entry-byte-length\u2463" }, { "id": "ref-for-readable-byte-stream-queue-entry-byte-length\u2464" }, { "id": "ref-for-readable-byte-stream-queue-entry-byte-length\u2465" }], "title": "4.9.5. Byte stream controllers" }], "url": "#readable-byte-stream-queue-entry-byte-length" },
                "readable-byte-stream-queue-entry-byte-offset": { "dfnID": "readable-byte-stream-queue-entry-byte-offset", "dfnText": "byte offset", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-byte-stream-queue-entry-byte-offset" }, { "id": "ref-for-readable-byte-stream-queue-entry-byte-offset\u2460" }, { "id": "ref-for-readable-byte-stream-queue-entry-byte-offset\u2461" }, { "id": "ref-for-readable-byte-stream-queue-entry-byte-offset\u2462" }, { "id": "ref-for-readable-byte-stream-queue-entry-byte-offset\u2463" }], "title": "4.9.5. Byte stream controllers" }], "url": "#readable-byte-stream-queue-entry-byte-offset" },
                "readable-side": { "dfnID": "readable-side", "dfnText": "readable\nside", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-side" }], "title": "2.3. Transform streams" }, { "refs": [{ "id": "ref-for-readable-side\u2460" }], "title": "6.1. Using transform streams" }, { "refs": [{ "id": "ref-for-readable-side\u2461" }, { "id": "ref-for-readable-side\u2462" }, { "id": "ref-for-readable-side\u2463" }, { "id": "ref-for-readable-side\u2464" }, { "id": "ref-for-readable-side\u2465" }], "title": "6.2.3. The transformer API" }, { "refs": [{ "id": "ref-for-readable-side\u2466" }, { "id": "ref-for-readable-side\u2467" }], "title": "6.2.4. Constructor and properties" }, { "refs": [{ "id": "ref-for-readable-side\u2468" }], "title": "6.2.5. Transfer via postMessage()" }, { "refs": [{ "id": "ref-for-readable-side\u2460\u24ea" }, { "id": "ref-for-readable-side\u2460\u2460" }, { "id": "ref-for-readable-side\u2460\u2461" }], "title": "6.3.3. Methods and properties" }, { "refs": [{ "id": "ref-for-readable-side\u2460\u2462" }], "title": "6.4.4. Default sources" }, { "refs": [{ "id": "ref-for-readable-side\u2460\u2463" }], "title": "8.2. Transferable streams" }, { "refs": [{ "id": "ref-for-readable-side\u2460\u2464" }], "title": "9.5. Piping" }, { "refs": [{ "id": "ref-for-readable-side\u2460\u2465" }, { "id": "ref-for-readable-side\u2460\u2466" }], "title": "10.11. Using an identity transform stream as a primitive to create new readable streams" }], "url": "#readable-side" },
                "readable-stream": { "dfnID": "readable-stream", "dfnText": "readable stream", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-stream" }], "title": "1. Introduction" }, { "refs": [{ "id": "ref-for-readable-stream\u2460" }], "title": "2.1. Readable streams" }, { "refs": [{ "id": "ref-for-readable-stream\u2461" }], "title": "2.3. Transform streams" }, { "refs": [{ "id": "ref-for-readable-stream\u2462" }], "title": "2.6. Locking" }, { "refs": [{ "id": "ref-for-readable-stream\u2463" }], "title": "4.2. The ReadableStream class" }, { "refs": [{ "id": "ref-for-readable-stream\u2464" }, { "id": "ref-for-readable-stream\u2465" }, { "id": "ref-for-readable-stream\u2466" }, { "id": "ref-for-readable-stream\u2467" }, { "id": "ref-for-readable-stream\u2468" }, { "id": "ref-for-readable-stream\u2460\u24ea" }, { "id": "ref-for-readable-stream\u2460\u2460" }, { "id": "ref-for-readable-stream\u2460\u2461" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-readable-stream\u2460\u2462" }], "title": "4.4.2. Internal slots" }, { "refs": [{ "id": "ref-for-readable-stream\u2460\u2463" }], "title": "5.1. Using writable streams" }, { "refs": [{ "id": "ref-for-readable-stream\u2460\u2464" }, { "id": "ref-for-readable-stream\u2460\u2465" }, { "id": "ref-for-readable-stream\u2460\u2466" }], "title": "6.1. Using transform streams" }, { "refs": [{ "id": "ref-for-readable-stream\u2460\u2467" }], "title": "7.2. The ByteLengthQueuingStrategy class" }, { "refs": [{ "id": "ref-for-readable-stream\u2460\u2468" }], "title": "7.3. The CountQueuingStrategy class" }, { "refs": [{ "id": "ref-for-readable-stream\u2461\u24ea" }], "title": "9.4. Other stream pairs" }, { "refs": [{ "id": "ref-for-readable-stream\u2461\u2460" }], "title": "10.1. A readable stream with an underlying push source (no backpressure support)" }, { "refs": [{ "id": "ref-for-readable-stream\u2461\u2461" }], "title": "10.2. A readable stream with an underlying push source and backpressure support" }, { "refs": [{ "id": "ref-for-readable-stream\u2461\u2462" }], "title": "10.4. A readable stream with an underlying pull source" }, { "refs": [{ "id": "ref-for-readable-stream\u2461\u2463" }], "title": "10.11. Using an identity transform stream as a primitive to create new readable streams" }], "url": "#readable-stream" },
                "readable-stream-add-read-into-request": { "dfnID": "readable-stream-add-read-into-request", "dfnText": "ReadableStreamAddReadIntoRequest(stream,\n readRequest)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-stream-add-read-into-request" }, { "id": "ref-for-readable-stream-add-read-into-request\u2460" }], "title": "4.9.5. Byte stream controllers" }], "url": "#readable-stream-add-read-into-request" },
                "readable-stream-add-read-request": { "dfnID": "readable-stream-add-read-request", "dfnText": "ReadableStreamAddReadRequest(stream, readRequest)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-stream-add-read-request" }], "title": "4.6.4. Internal methods" }, { "refs": [{ "id": "ref-for-readable-stream-add-read-request\u2460" }], "title": "4.7.4. Internal methods" }], "url": "#readable-stream-add-read-request" },
                "readable-stream-byob-reader-read": { "dfnID": "readable-stream-byob-reader-read", "dfnText": "ReadableStreamBYOBReaderRead(reader, view, min,\n readIntoRequest)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-stream-byob-reader-read" }], "title": "4.5.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-readable-stream-byob-reader-read\u2460" }], "title": "4.9.1. Working with readable streams" }], "url": "#readable-stream-byob-reader-read" },
                "readable-stream-cancel": { "dfnID": "readable-stream-cancel", "dfnText": "ReadableStreamCancel(stream, reason)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-stream-cancel" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-readable-stream-cancel\u2460" }, { "id": "ref-for-readable-stream-cancel\u2461" }, { "id": "ref-for-readable-stream-cancel\u2462" }, { "id": "ref-for-readable-stream-cancel\u2463" }, { "id": "ref-for-readable-stream-cancel\u2464" }, { "id": "ref-for-readable-stream-cancel\u2465" }, { "id": "ref-for-readable-stream-cancel\u2466" }, { "id": "ref-for-readable-stream-cancel\u2467" }, { "id": "ref-for-readable-stream-cancel\u2468" }, { "id": "ref-for-readable-stream-cancel\u2460\u24ea" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-readable-stream-cancel\u2460\u2460" }], "title": "4.9.3. Readers" }, { "refs": [{ "id": "ref-for-readable-stream-cancel\u2460\u2461" }], "title": "9.1.2. Reading" }], "url": "#readable-stream-cancel" },
                "readable-stream-close": { "dfnID": "readable-stream-close", "dfnText": "ReadableStreamClose(stream)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-stream-close" }], "title": "4.6.4. Internal methods" }, { "refs": [{ "id": "ref-for-readable-stream-close\u2460" }], "title": "4.9.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-readable-stream-close\u2461" }], "title": "4.9.4. Default controllers" }, { "refs": [{ "id": "ref-for-readable-stream-close\u2462" }, { "id": "ref-for-readable-stream-close\u2463" }], "title": "4.9.5. Byte stream controllers" }], "url": "#readable-stream-close" },
                "readable-stream-default-controller-call-pull-if-needed": { "dfnID": "readable-stream-default-controller-call-pull-if-needed", "dfnText": "ReadableStreamDefaultControllerCallPullIfNeeded(controller)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-stream-default-controller-call-pull-if-needed" }, { "id": "ref-for-readable-stream-default-controller-call-pull-if-needed\u2460" }], "title": "4.6.4. Internal methods" }, { "refs": [{ "id": "ref-for-readable-stream-default-controller-call-pull-if-needed\u2461" }, { "id": "ref-for-readable-stream-default-controller-call-pull-if-needed\u2462" }, { "id": "ref-for-readable-stream-default-controller-call-pull-if-needed\u2463" }], "title": "4.9.4. Default controllers" }], "url": "#readable-stream-default-controller-call-pull-if-needed" },
                "readable-stream-default-controller-can-close-or-enqueue": { "dfnID": "readable-stream-default-controller-can-close-or-enqueue", "dfnText": "ReadableStreamDefaultControllerCanCloseOrEnqueue(controller)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-stream-default-controller-can-close-or-enqueue" }, { "id": "ref-for-readable-stream-default-controller-can-close-or-enqueue\u2460" }], "title": "4.6.3. Methods and properties" }, { "refs": [{ "id": "ref-for-readable-stream-default-controller-can-close-or-enqueue\u2461" }, { "id": "ref-for-readable-stream-default-controller-can-close-or-enqueue\u2462" }, { "id": "ref-for-readable-stream-default-controller-can-close-or-enqueue\u2463" }], "title": "4.9.4. Default controllers" }, { "refs": [{ "id": "ref-for-readable-stream-default-controller-can-close-or-enqueue\u2464" }], "title": "6.4.2. Default controllers" }], "url": "#readable-stream-default-controller-can-close-or-enqueue" },
                "readable-stream-default-controller-clear-algorithms": { "dfnID": "readable-stream-default-controller-clear-algorithms", "dfnText": "ReadableStreamDefaultControllerClearAlgorithms(controller)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-stream-default-controller-clear-algorithms" }, { "id": "ref-for-readable-stream-default-controller-clear-algorithms\u2460" }], "title": "4.6.4. Internal methods" }, { "refs": [{ "id": "ref-for-readable-stream-default-controller-clear-algorithms\u2461" }, { "id": "ref-for-readable-stream-default-controller-clear-algorithms\u2462" }], "title": "4.9.4. Default controllers" }], "url": "#readable-stream-default-controller-clear-algorithms" },
                "readable-stream-default-controller-close": { "dfnID": "readable-stream-default-controller-close", "dfnText": "ReadableStreamDefaultControllerClose(controller)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-stream-default-controller-close" }], "title": "4.6.3. Methods and properties" }, { "refs": [{ "id": "ref-for-readable-stream-default-controller-close\u2460" }, { "id": "ref-for-readable-stream-default-controller-close\u2461" }, { "id": "ref-for-readable-stream-default-controller-close\u2462" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-readable-stream-default-controller-close\u2463" }], "title": "6.4.2. Default controllers" }, { "refs": [{ "id": "ref-for-readable-stream-default-controller-close\u2464" }], "title": "6.4.3. Default sinks" }, { "refs": [{ "id": "ref-for-readable-stream-default-controller-close\u2465" }], "title": "8.2. Transferable streams" }, { "refs": [{ "id": "ref-for-readable-stream-default-controller-close\u2466" }], "title": "9.1.1. Creation and manipulation" }], "url": "#readable-stream-default-controller-close" },
                "readable-stream-default-controller-enqueue": { "dfnID": "readable-stream-default-controller-enqueue", "dfnText": "ReadableStreamDefaultControllerEnqueue(controller,\n chunk)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-stream-default-controller-enqueue" }], "title": "4.6.3. Methods and properties" }, { "refs": [{ "id": "ref-for-readable-stream-default-controller-enqueue\u2460" }, { "id": "ref-for-readable-stream-default-controller-enqueue\u2461" }, { "id": "ref-for-readable-stream-default-controller-enqueue\u2462" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-readable-stream-default-controller-enqueue\u2463" }], "title": "6.4.2. Default controllers" }, { "refs": [{ "id": "ref-for-readable-stream-default-controller-enqueue\u2464" }], "title": "8.2. Transferable streams" }, { "refs": [{ "id": "ref-for-readable-stream-default-controller-enqueue\u2465" }], "title": "9.1.1. Creation and manipulation" }], "url": "#readable-stream-default-controller-enqueue" },
                "readable-stream-default-controller-error": { "dfnID": "readable-stream-default-controller-error", "dfnText": "ReadableStreamDefaultControllerError(controller,\n e)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-stream-default-controller-error" }], "title": "4.6.3. Methods and properties" }, { "refs": [{ "id": "ref-for-readable-stream-default-controller-error\u2460" }, { "id": "ref-for-readable-stream-default-controller-error\u2461" }, { "id": "ref-for-readable-stream-default-controller-error\u2462" }, { "id": "ref-for-readable-stream-default-controller-error\u2463" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-readable-stream-default-controller-error\u2464" }, { "id": "ref-for-readable-stream-default-controller-error\u2465" }, { "id": "ref-for-readable-stream-default-controller-error\u2466" }, { "id": "ref-for-readable-stream-default-controller-error\u2467" }], "title": "4.9.4. Default controllers" }, { "refs": [{ "id": "ref-for-readable-stream-default-controller-error\u2468" }], "title": "6.4.1. Working with transform streams" }, { "refs": [{ "id": "ref-for-readable-stream-default-controller-error\u2460\u24ea" }, { "id": "ref-for-readable-stream-default-controller-error\u2460\u2460" }, { "id": "ref-for-readable-stream-default-controller-error\u2460\u2461" }], "title": "6.4.3. Default sinks" }, { "refs": [{ "id": "ref-for-readable-stream-default-controller-error\u2460\u2462" }, { "id": "ref-for-readable-stream-default-controller-error\u2460\u2463" }], "title": "8.2. Transferable streams" }, { "refs": [{ "id": "ref-for-readable-stream-default-controller-error\u2460\u2464" }], "title": "9.1.1. Creation and manipulation" }], "url": "#readable-stream-default-controller-error" },
                "readable-stream-default-controller-get-desired-size": { "dfnID": "readable-stream-default-controller-get-desired-size", "dfnText": "ReadableStreamDefaultControllerGetDesiredSize(controller)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-stream-default-controller-get-desired-size" }], "title": "4.6.3. Methods and properties" }, { "refs": [{ "id": "ref-for-readable-stream-default-controller-get-desired-size\u2460" }], "title": "4.9.4. Default controllers" }, { "refs": [{ "id": "ref-for-readable-stream-default-controller-get-desired-size\u2461" }], "title": "6.3.3. Methods and properties" }, { "refs": [{ "id": "ref-for-readable-stream-default-controller-get-desired-size\u2462" }], "title": "9.1.1. Creation and manipulation" }], "url": "#readable-stream-default-controller-get-desired-size" },
                "readable-stream-default-controller-should-call-pull": { "dfnID": "readable-stream-default-controller-should-call-pull", "dfnText": "ReadableStreamDefaultControllerShouldCallPull(controller)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-stream-default-controller-should-call-pull" }, { "id": "ref-for-readable-stream-default-controller-should-call-pull\u2460" }], "title": "4.9.4. Default controllers" }], "url": "#readable-stream-default-controller-should-call-pull" },
                "readable-stream-default-reader-read": { "dfnID": "readable-stream-default-reader-read", "dfnText": "ReadableStreamDefaultReaderRead(reader,\n readRequest)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-stream-default-reader-read" }], "title": "4.2.5. Asynchronous iteration" }, { "refs": [{ "id": "ref-for-readable-stream-default-reader-read\u2460" }], "title": "4.4.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-readable-stream-default-reader-read\u2461" }, { "id": "ref-for-readable-stream-default-reader-read\u2462" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-readable-stream-default-reader-read\u2463" }, { "id": "ref-for-readable-stream-default-reader-read\u2464" }], "title": "9.1.2. Reading" }], "url": "#readable-stream-default-reader-read" },
                "readable-stream-error": { "dfnID": "readable-stream-error", "dfnText": "ReadableStreamError(stream,\n e)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-stream-error" }], "title": "4.9.4. Default controllers" }, { "refs": [{ "id": "ref-for-readable-stream-error\u2460" }], "title": "4.9.5. Byte stream controllers" }], "url": "#readable-stream-error" },
                "readable-stream-from-iterable": { "dfnID": "readable-stream-from-iterable", "dfnText": "\n ReadableStreamFromIterable(asyncIterable)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-stream-from-iterable" }], "title": "4.2.4. Constructor, methods, and properties" }], "url": "#readable-stream-from-iterable" },
                "readable-stream-fulfill-read-into-request": { "dfnID": "readable-stream-fulfill-read-into-request", "dfnText": "ReadableStreamFulfillReadIntoRequest(stream,\n chunk, done)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-stream-fulfill-read-into-request" }], "title": "4.9.5. Byte stream controllers" }], "url": "#readable-stream-fulfill-read-into-request" },
                "readable-stream-fulfill-read-request": { "dfnID": "readable-stream-fulfill-read-request", "dfnText": "ReadableStreamFulfillReadRequest(stream, chunk,\n done)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-stream-fulfill-read-request" }], "title": "4.9.4. Default controllers" }, { "refs": [{ "id": "ref-for-readable-stream-fulfill-read-request\u2460" }, { "id": "ref-for-readable-stream-fulfill-read-request\u2461" }], "title": "4.9.5. Byte stream controllers" }], "url": "#readable-stream-fulfill-read-request" },
                "readable-stream-get-num-read-into-requests": { "dfnID": "readable-stream-get-num-read-into-requests", "dfnText": "ReadableStreamGetNumReadIntoRequests(stream)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-stream-get-num-read-into-requests" }, { "id": "ref-for-readable-stream-get-num-read-into-requests\u2460" }], "title": "4.9.5. Byte stream controllers" }], "url": "#readable-stream-get-num-read-into-requests" },
                "readable-stream-get-num-read-requests": { "dfnID": "readable-stream-get-num-read-requests", "dfnText": "ReadableStreamGetNumReadRequests(stream)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-stream-get-num-read-requests" }], "title": "4.7.4. Internal methods" }, { "refs": [{ "id": "ref-for-readable-stream-get-num-read-requests\u2460" }, { "id": "ref-for-readable-stream-get-num-read-requests\u2461" }], "title": "4.9.4. Default controllers" }, { "refs": [{ "id": "ref-for-readable-stream-get-num-read-requests\u2462" }, { "id": "ref-for-readable-stream-get-num-read-requests\u2463" }], "title": "4.9.5. Byte stream controllers" }], "url": "#readable-stream-get-num-read-requests" },
                "readable-stream-has-byob-reader": { "dfnID": "readable-stream-has-byob-reader", "dfnText": "ReadableStreamHasBYOBReader(stream)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-stream-has-byob-reader" }, { "id": "ref-for-readable-stream-has-byob-reader\u2460" }], "title": "4.9.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-readable-stream-has-byob-reader\u2461" }, { "id": "ref-for-readable-stream-has-byob-reader\u2462" }, { "id": "ref-for-readable-stream-has-byob-reader\u2463" }], "title": "4.9.5. Byte stream controllers" }], "url": "#readable-stream-has-byob-reader" },
                "readable-stream-has-default-reader": { "dfnID": "readable-stream-has-default-reader", "dfnText": "ReadableStreamHasDefaultReader(stream)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-stream-has-default-reader" }], "title": "4.7.4. Internal methods" }, { "refs": [{ "id": "ref-for-readable-stream-has-default-reader\u2460" }, { "id": "ref-for-readable-stream-has-default-reader\u2461" }], "title": "4.9.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-readable-stream-has-default-reader\u2462" }, { "id": "ref-for-readable-stream-has-default-reader\u2463" }], "title": "4.9.5. Byte stream controllers" }], "url": "#readable-stream-has-default-reader" },
                "readable-stream-pipe-to": { "dfnID": "readable-stream-pipe-to", "dfnText": "ReadableStreamPipeTo(source, dest, preventClose, preventAbort,\n preventCancel[, signal])", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-stream-pipe-to" }, { "id": "ref-for-readable-stream-pipe-to\u2460" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-readable-stream-pipe-to\u2461" }], "title": "4.2.6. Transfer via postMessage()" }, { "refs": [{ "id": "ref-for-readable-stream-pipe-to\u2462" }], "title": "5.2.5. Transfer via postMessage()" }, { "refs": [{ "id": "ref-for-readable-stream-pipe-to\u2463" }, { "id": "ref-for-readable-stream-pipe-to\u2464" }], "title": "9.5. Piping" }], "url": "#readable-stream-pipe-to" },
                "readable-stream-reader-generic-cancel": { "dfnID": "readable-stream-reader-generic-cancel", "dfnText": "ReadableStreamReaderGenericCancel(reader,\n reason)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-stream-reader-generic-cancel" }], "title": "4.2.5. Asynchronous iteration" }, { "refs": [{ "id": "ref-for-readable-stream-reader-generic-cancel\u2460" }], "title": "4.3.3. Methods and properties" }, { "refs": [{ "id": "ref-for-readable-stream-reader-generic-cancel\u2461" }], "title": "9.1.2. Reading" }], "url": "#readable-stream-reader-generic-cancel" },
                "readable-stream-reader-generic-initialize": { "dfnID": "readable-stream-reader-generic-initialize", "dfnText": "ReadableStreamReaderGenericInitialize(reader,\n stream)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-stream-reader-generic-initialize" }, { "id": "ref-for-readable-stream-reader-generic-initialize\u2460" }], "title": "4.9.3. Readers" }], "url": "#readable-stream-reader-generic-initialize" },
                "readable-stream-reader-generic-release": { "dfnID": "readable-stream-reader-generic-release", "dfnText": "ReadableStreamReaderGenericRelease(reader)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-stream-reader-generic-release" }, { "id": "ref-for-readable-stream-reader-generic-release\u2460" }], "title": "4.9.3. Readers" }], "url": "#readable-stream-reader-generic-release" },
                "readable-stream-tee": { "dfnID": "readable-stream-tee", "dfnText": "ReadableStreamTee(stream,\n cloneForBranch2)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readable-stream-tee" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-readable-stream-tee\u2460" }, { "id": "ref-for-readable-stream-tee\u2461" }], "title": "9.1.2. Reading" }], "url": "#readable-stream-tee" },
                "readablebytestreamcontroller": { "dfnID": "readablebytestreamcontroller", "dfnText": "ReadableByteStreamController", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablebytestreamcontroller" }], "title": "4.2.2. Internal slots" }, { "refs": [{ "id": "ref-for-readablebytestreamcontroller\u2460" }, { "id": "ref-for-readablebytestreamcontroller\u2461" }], "title": "4.2.3. The underlying source API" }, { "refs": [{ "id": "ref-for-readablebytestreamcontroller\u2462" }, { "id": "ref-for-readablebytestreamcontroller\u2463" }, { "id": "ref-for-readablebytestreamcontroller\u2464" }], "title": "4.7. The ReadableByteStreamController class" }, { "refs": [{ "id": "ref-for-readablebytestreamcontroller\u2465" }], "title": "4.7.1. Interface definition" }, { "refs": [{ "id": "ref-for-readablebytestreamcontroller\u2466" }, { "id": "ref-for-readablebytestreamcontroller\u2467" }], "title": "4.7.2. Internal slots" }, { "refs": [{ "id": "ref-for-readablebytestreamcontroller\u2468" }], "title": "4.7.4. Internal methods" }, { "refs": [{ "id": "ref-for-readablebytestreamcontroller\u2460\u24ea" }], "title": "4.8. The ReadableStreamBYOBRequest class" }, { "refs": [{ "id": "ref-for-readablebytestreamcontroller\u2460\u2460" }], "title": "4.8.2. Internal slots" }, { "refs": [{ "id": "ref-for-readablebytestreamcontroller\u2460\u2461" }, { "id": "ref-for-readablebytestreamcontroller\u2460\u2462" }, { "id": "ref-for-readablebytestreamcontroller\u2460\u2463" }, { "id": "ref-for-readablebytestreamcontroller\u2460\u2464" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-readablebytestreamcontroller\u2460\u2465" }], "title": "4.9.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-readablebytestreamcontroller\u2460\u2466" }], "title": "4.9.3. Readers" }, { "refs": [{ "id": "ref-for-readablebytestreamcontroller\u2460\u2467" }], "title": "4.9.5. Byte stream controllers" }, { "refs": [{ "id": "ref-for-readablebytestreamcontroller\u2460\u2468" }, { "id": "ref-for-readablebytestreamcontroller\u2461\u24ea" }, { "id": "ref-for-readablebytestreamcontroller\u2461\u2460" }, { "id": "ref-for-readablebytestreamcontroller\u2461\u2461" }, { "id": "ref-for-readablebytestreamcontroller\u2461\u2462" }, { "id": "ref-for-readablebytestreamcontroller\u2461\u2463" }, { "id": "ref-for-readablebytestreamcontroller\u2461\u2464" }], "title": "9.1.1. Creation and manipulation" }], "url": "#readablebytestreamcontroller" },
                "readablebytestreamcontroller-autoallocatechunksize": { "dfnID": "readablebytestreamcontroller-autoallocatechunksize", "dfnText": "[[autoAllocateChunkSize]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablebytestreamcontroller-autoallocatechunksize" }], "title": "4.7.4. Internal methods" }, { "refs": [{ "id": "ref-for-readablebytestreamcontroller-autoallocatechunksize\u2460" }], "title": "4.9.5. Byte stream controllers" }], "url": "#readablebytestreamcontroller-autoallocatechunksize" },
                "readablebytestreamcontroller-byobrequest": { "dfnID": "readablebytestreamcontroller-byobrequest", "dfnText": "[[byobRequest]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablebytestreamcontroller-byobrequest" }, { "id": "ref-for-readablebytestreamcontroller-byobrequest\u2460" }, { "id": "ref-for-readablebytestreamcontroller-byobrequest\u2461" }, { "id": "ref-for-readablebytestreamcontroller-byobrequest\u2462" }, { "id": "ref-for-readablebytestreamcontroller-byobrequest\u2463" }, { "id": "ref-for-readablebytestreamcontroller-byobrequest\u2464" }, { "id": "ref-for-readablebytestreamcontroller-byobrequest\u2465" }, { "id": "ref-for-readablebytestreamcontroller-byobrequest\u2466" }, { "id": "ref-for-readablebytestreamcontroller-byobrequest\u2467" }, { "id": "ref-for-readablebytestreamcontroller-byobrequest\u2468" }], "title": "4.9.5. Byte stream controllers" }], "url": "#readablebytestreamcontroller-byobrequest" },
                "readablebytestreamcontroller-cancelalgorithm": { "dfnID": "readablebytestreamcontroller-cancelalgorithm", "dfnText": "[[cancelAlgorithm]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablebytestreamcontroller-cancelalgorithm" }], "title": "4.7.4. Internal methods" }, { "refs": [{ "id": "ref-for-readablebytestreamcontroller-cancelalgorithm\u2460" }, { "id": "ref-for-readablebytestreamcontroller-cancelalgorithm\u2461" }], "title": "4.9.5. Byte stream controllers" }], "url": "#readablebytestreamcontroller-cancelalgorithm" },
                "readablebytestreamcontroller-closerequested": { "dfnID": "readablebytestreamcontroller-closerequested", "dfnText": "[[closeRequested]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablebytestreamcontroller-closerequested" }, { "id": "ref-for-readablebytestreamcontroller-closerequested\u2460" }], "title": "4.7.3. Methods and properties" }, { "refs": [{ "id": "ref-for-readablebytestreamcontroller-closerequested\u2461" }, { "id": "ref-for-readablebytestreamcontroller-closerequested\u2462" }, { "id": "ref-for-readablebytestreamcontroller-closerequested\u2463" }, { "id": "ref-for-readablebytestreamcontroller-closerequested\u2464" }, { "id": "ref-for-readablebytestreamcontroller-closerequested\u2465" }, { "id": "ref-for-readablebytestreamcontroller-closerequested\u2466" }, { "id": "ref-for-readablebytestreamcontroller-closerequested\u2467" }, { "id": "ref-for-readablebytestreamcontroller-closerequested\u2468" }], "title": "4.9.5. Byte stream controllers" }], "url": "#readablebytestreamcontroller-closerequested" },
                "readablebytestreamcontroller-pendingpullintos": { "dfnID": "readablebytestreamcontroller-pendingpullintos", "dfnText": "[[pendingPullIntos]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablebytestreamcontroller-pendingpullintos" }, { "id": "ref-for-readablebytestreamcontroller-pendingpullintos\u2460" }, { "id": "ref-for-readablebytestreamcontroller-pendingpullintos\u2461" }, { "id": "ref-for-readablebytestreamcontroller-pendingpullintos\u2462" }], "title": "4.7.4. Internal methods" }, { "refs": [{ "id": "ref-for-readablebytestreamcontroller-pendingpullintos\u2463" }, { "id": "ref-for-readablebytestreamcontroller-pendingpullintos\u2464" }, { "id": "ref-for-readablebytestreamcontroller-pendingpullintos\u2465" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-readablebytestreamcontroller-pendingpullintos\u2466" }, { "id": "ref-for-readablebytestreamcontroller-pendingpullintos\u2467" }, { "id": "ref-for-readablebytestreamcontroller-pendingpullintos\u2468" }, { "id": "ref-for-readablebytestreamcontroller-pendingpullintos\u2460\u24ea" }, { "id": "ref-for-readablebytestreamcontroller-pendingpullintos\u2460\u2460" }, { "id": "ref-for-readablebytestreamcontroller-pendingpullintos\u2460\u2461" }, { "id": "ref-for-readablebytestreamcontroller-pendingpullintos\u2460\u2462" }, { "id": "ref-for-readablebytestreamcontroller-pendingpullintos\u2460\u2463" }, { "id": "ref-for-readablebytestreamcontroller-pendingpullintos\u2460\u2464" }, { "id": "ref-for-readablebytestreamcontroller-pendingpullintos\u2460\u2465" }, { "id": "ref-for-readablebytestreamcontroller-pendingpullintos\u2460\u2466" }, { "id": "ref-for-readablebytestreamcontroller-pendingpullintos\u2460\u2467" }, { "id": "ref-for-readablebytestreamcontroller-pendingpullintos\u2460\u2468" }, { "id": "ref-for-readablebytestreamcontroller-pendingpullintos\u2461\u24ea" }, { "id": "ref-for-readablebytestreamcontroller-pendingpullintos\u2461\u2460" }, { "id": "ref-for-readablebytestreamcontroller-pendingpullintos\u2461\u2461" }, { "id": "ref-for-readablebytestreamcontroller-pendingpullintos\u2461\u2462" }, { "id": "ref-for-readablebytestreamcontroller-pendingpullintos\u2461\u2463" }, { "id": "ref-for-readablebytestreamcontroller-pendingpullintos\u2461\u2464" }, { "id": "ref-for-readablebytestreamcontroller-pendingpullintos\u2461\u2465" }, { "id": "ref-for-readablebytestreamcontroller-pendingpullintos\u2461\u2466" }, { "id": "ref-for-readablebytestreamcontroller-pendingpullintos\u2461\u2467" }, { "id": "ref-for-readablebytestreamcontroller-pendingpullintos\u2461\u2468" }, { "id": "ref-for-readablebytestreamcontroller-pendingpullintos\u2462\u24ea" }, { "id": "ref-for-readablebytestreamcontroller-pendingpullintos\u2462\u2460" }], "title": "4.9.5. Byte stream controllers" }, { "refs": [{ "id": "ref-for-readablebytestreamcontroller-pendingpullintos\u2462\u2461" }], "title": "9.1.1. Creation and manipulation" }], "url": "#readablebytestreamcontroller-pendingpullintos" },
                "readablebytestreamcontroller-pullagain": { "dfnID": "readablebytestreamcontroller-pullagain", "dfnText": "[[pullAgain]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablebytestreamcontroller-pullagain" }, { "id": "ref-for-readablebytestreamcontroller-pullagain\u2460" }, { "id": "ref-for-readablebytestreamcontroller-pullagain\u2461" }, { "id": "ref-for-readablebytestreamcontroller-pullagain\u2462" }, { "id": "ref-for-readablebytestreamcontroller-pullagain\u2463" }, { "id": "ref-for-readablebytestreamcontroller-pullagain\u2464" }], "title": "4.9.5. Byte stream controllers" }], "url": "#readablebytestreamcontroller-pullagain" },
                "readablebytestreamcontroller-pullalgorithm": { "dfnID": "readablebytestreamcontroller-pullalgorithm", "dfnText": "[[pullAlgorithm]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablebytestreamcontroller-pullalgorithm" }, { "id": "ref-for-readablebytestreamcontroller-pullalgorithm\u2460" }, { "id": "ref-for-readablebytestreamcontroller-pullalgorithm\u2461" }], "title": "4.9.5. Byte stream controllers" }], "url": "#readablebytestreamcontroller-pullalgorithm" },
                "readablebytestreamcontroller-pulling": { "dfnID": "readablebytestreamcontroller-pulling", "dfnText": "[[pulling]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablebytestreamcontroller-pulling" }, { "id": "ref-for-readablebytestreamcontroller-pulling\u2460" }, { "id": "ref-for-readablebytestreamcontroller-pulling\u2461" }, { "id": "ref-for-readablebytestreamcontroller-pulling\u2462" }, { "id": "ref-for-readablebytestreamcontroller-pulling\u2463" }], "title": "4.9.5. Byte stream controllers" }], "url": "#readablebytestreamcontroller-pulling" },
                "readablebytestreamcontroller-queue": { "dfnID": "readablebytestreamcontroller-queue", "dfnText": "[[queue]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablebytestreamcontroller-queue" }, { "id": "ref-for-readablebytestreamcontroller-queue\u2460" }], "title": "4.7.2. Internal slots" }, { "refs": [{ "id": "ref-for-readablebytestreamcontroller-queue\u2461" }, { "id": "ref-for-readablebytestreamcontroller-queue\u2462" }, { "id": "ref-for-readablebytestreamcontroller-queue\u2463" }, { "id": "ref-for-readablebytestreamcontroller-queue\u2464" }, { "id": "ref-for-readablebytestreamcontroller-queue\u2465" }], "title": "4.9.5. Byte stream controllers" }], "url": "#readablebytestreamcontroller-queue" },
                "readablebytestreamcontroller-queuetotalsize": { "dfnID": "readablebytestreamcontroller-queuetotalsize", "dfnText": "[[queueTotalSize]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablebytestreamcontroller-queuetotalsize" }], "title": "4.7.2. Internal slots" }, { "refs": [{ "id": "ref-for-readablebytestreamcontroller-queuetotalsize\u2460" }], "title": "4.7.4. Internal methods" }, { "refs": [{ "id": "ref-for-readablebytestreamcontroller-queuetotalsize\u2461" }, { "id": "ref-for-readablebytestreamcontroller-queuetotalsize\u2462" }, { "id": "ref-for-readablebytestreamcontroller-queuetotalsize\u2463" }, { "id": "ref-for-readablebytestreamcontroller-queuetotalsize\u2464" }, { "id": "ref-for-readablebytestreamcontroller-queuetotalsize\u2465" }, { "id": "ref-for-readablebytestreamcontroller-queuetotalsize\u2466" }, { "id": "ref-for-readablebytestreamcontroller-queuetotalsize\u2467" }, { "id": "ref-for-readablebytestreamcontroller-queuetotalsize\u2468" }, { "id": "ref-for-readablebytestreamcontroller-queuetotalsize\u2460\u24ea" }, { "id": "ref-for-readablebytestreamcontroller-queuetotalsize\u2460\u2460" }, { "id": "ref-for-readablebytestreamcontroller-queuetotalsize\u2460\u2461" }, { "id": "ref-for-readablebytestreamcontroller-queuetotalsize\u2460\u2462" }, { "id": "ref-for-readablebytestreamcontroller-queuetotalsize\u2460\u2463" }, { "id": "ref-for-readablebytestreamcontroller-queuetotalsize\u2460\u2464" }, { "id": "ref-for-readablebytestreamcontroller-queuetotalsize\u2460\u2465" }], "title": "4.9.5. Byte stream controllers" }], "url": "#readablebytestreamcontroller-queuetotalsize" },
                "readablebytestreamcontroller-started": { "dfnID": "readablebytestreamcontroller-started", "dfnText": "[[started]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablebytestreamcontroller-started" }, { "id": "ref-for-readablebytestreamcontroller-started\u2460" }, { "id": "ref-for-readablebytestreamcontroller-started\u2461" }], "title": "4.9.5. Byte stream controllers" }], "url": "#readablebytestreamcontroller-started" },
                "readablebytestreamcontroller-strategyhwm": { "dfnID": "readablebytestreamcontroller-strategyhwm", "dfnText": "[[strategyHWM]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablebytestreamcontroller-strategyhwm" }, { "id": "ref-for-readablebytestreamcontroller-strategyhwm\u2460" }], "title": "4.9.5. Byte stream controllers" }], "url": "#readablebytestreamcontroller-strategyhwm" },
                "readablebytestreamcontroller-stream": { "dfnID": "readablebytestreamcontroller-stream", "dfnText": "[[stream]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablebytestreamcontroller-stream" }, { "id": "ref-for-readablebytestreamcontroller-stream\u2460" }], "title": "4.7.3. Methods and properties" }, { "refs": [{ "id": "ref-for-readablebytestreamcontroller-stream\u2461" }], "title": "4.7.4. Internal methods" }, { "refs": [{ "id": "ref-for-readablebytestreamcontroller-stream\u2462" }, { "id": "ref-for-readablebytestreamcontroller-stream\u2463" }, { "id": "ref-for-readablebytestreamcontroller-stream\u2464" }, { "id": "ref-for-readablebytestreamcontroller-stream\u2465" }, { "id": "ref-for-readablebytestreamcontroller-stream\u2466" }, { "id": "ref-for-readablebytestreamcontroller-stream\u2467" }, { "id": "ref-for-readablebytestreamcontroller-stream\u2468" }, { "id": "ref-for-readablebytestreamcontroller-stream\u2460\u24ea" }, { "id": "ref-for-readablebytestreamcontroller-stream\u2460\u2460" }, { "id": "ref-for-readablebytestreamcontroller-stream\u2460\u2461" }, { "id": "ref-for-readablebytestreamcontroller-stream\u2460\u2462" }, { "id": "ref-for-readablebytestreamcontroller-stream\u2460\u2463" }, { "id": "ref-for-readablebytestreamcontroller-stream\u2460\u2464" }, { "id": "ref-for-readablebytestreamcontroller-stream\u2460\u2465" }, { "id": "ref-for-readablebytestreamcontroller-stream\u2460\u2466" }, { "id": "ref-for-readablebytestreamcontroller-stream\u2460\u2467" }, { "id": "ref-for-readablebytestreamcontroller-stream\u2460\u2468" }], "title": "4.9.5. Byte stream controllers" }], "url": "#readablebytestreamcontroller-stream" },
                "readablestream": { "dfnID": "readablestream", "dfnText": "ReadableStream", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablestream" }], "title": "1. Introduction" }, { "refs": [{ "id": "ref-for-readablestream\u2460" }], "title": "2.1. Readable streams" }, { "refs": [{ "id": "ref-for-readablestream\u2461" }, { "id": "ref-for-readablestream\u2462" }], "title": "4.2. The ReadableStream class" }, { "refs": [{ "id": "ref-for-readablestream\u2463" }, { "id": "ref-for-readablestream\u2464" }, { "id": "ref-for-readablestream\u2465" }, { "id": "ref-for-readablestream\u2466" }, { "id": "ref-for-readablestream\u2467" }], "title": "4.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-readablestream\u2468" }], "title": "4.2.2. Internal slots" }, { "refs": [{ "id": "ref-for-readablestream\u2460\u24ea" }, { "id": "ref-for-readablestream\u2460\u2460" }, { "id": "ref-for-readablestream\u2460\u2461" }], "title": "4.2.3. The underlying source API" }, { "refs": [{ "id": "ref-for-readablestream\u2460\u2462" }, { "id": "ref-for-readablestream\u2460\u2463" }, { "id": "ref-for-readablestream\u2460\u2464" }, { "id": "ref-for-readablestream\u2460\u2465" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-readablestream\u2460\u2466" }, { "id": "ref-for-readablestream\u2460\u2467" }, { "id": "ref-for-readablestream\u2460\u2468" }], "title": "4.2.5. Asynchronous iteration" }, { "refs": [{ "id": "ref-for-readablestream\u2461\u24ea" }, { "id": "ref-for-readablestream\u2461\u2460" }], "title": "4.2.6. Transfer via postMessage()" }, { "refs": [{ "id": "ref-for-readablestream\u2461\u2461" }], "title": "4.3.2. Internal slots" }, { "refs": [{ "id": "ref-for-readablestream\u2461\u2462" }], "title": "4.4. The ReadableStreamDefaultReader class" }, { "refs": [{ "id": "ref-for-readablestream\u2461\u2463" }], "title": "4.4.1. Interface definition" }, { "refs": [{ "id": "ref-for-readablestream\u2461\u2464" }], "title": "4.5. The ReadableStreamBYOBReader class" }, { "refs": [{ "id": "ref-for-readablestream\u2461\u2465" }], "title": "4.5.1. Interface definition" }, { "refs": [{ "id": "ref-for-readablestream\u2461\u2466" }, { "id": "ref-for-readablestream\u2461\u2467" }], "title": "4.6. The ReadableStreamDefaultController class" }, { "refs": [{ "id": "ref-for-readablestream\u2461\u2468" }], "title": "4.6.2. Internal slots" }, { "refs": [{ "id": "ref-for-readablestream\u2462\u24ea" }, { "id": "ref-for-readablestream\u2462\u2460" }], "title": "4.7. The ReadableByteStreamController class" }, { "refs": [{ "id": "ref-for-readablestream\u2462\u2461" }], "title": "4.7.2. Internal slots" }, { "refs": [{ "id": "ref-for-readablestream\u2462\u2462" }, { "id": "ref-for-readablestream\u2462\u2463" }, { "id": "ref-for-readablestream\u2462\u2464" }, { "id": "ref-for-readablestream\u2462\u2465" }, { "id": "ref-for-readablestream\u2462\u2466" }, { "id": "ref-for-readablestream\u2462\u2467" }, { "id": "ref-for-readablestream\u2462\u2468" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-readablestream\u2463\u24ea" }, { "id": "ref-for-readablestream\u2463\u2460" }, { "id": "ref-for-readablestream\u2463\u2461" }, { "id": "ref-for-readablestream\u2463\u2462" }, { "id": "ref-for-readablestream\u2463\u2463" }], "title": "4.9.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-readablestream\u2463\u2464" }], "title": "4.9.4. Default controllers" }, { "refs": [{ "id": "ref-for-readablestream\u2463\u2465" }], "title": "4.9.5. Byte stream controllers" }, { "refs": [{ "id": "ref-for-readablestream\u2463\u2466" }], "title": "5.2.5. Transfer via postMessage()" }, { "refs": [{ "id": "ref-for-readablestream\u2463\u2467" }], "title": "5.5.3. Writers" }, { "refs": [{ "id": "ref-for-readablestream\u2463\u2468" }], "title": "6.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-readablestream\u2464\u24ea" }], "title": "6.2.2. Internal slots" }, { "refs": [{ "id": "ref-for-readablestream\u2464\u2460" }, { "id": "ref-for-readablestream\u2464\u2461" }], "title": "6.2.4. Constructor and properties" }, { "refs": [{ "id": "ref-for-readablestream\u2464\u2462" }], "title": "6.3. The TransformStreamDefaultController class" }, { "refs": [{ "id": "ref-for-readablestream\u2464\u2463" }, { "id": "ref-for-readablestream\u2464\u2464" }, { "id": "ref-for-readablestream\u2464\u2465" }, { "id": "ref-for-readablestream\u2464\u2466" }, { "id": "ref-for-readablestream\u2464\u2467" }, { "id": "ref-for-readablestream\u2464\u2468" }, { "id": "ref-for-readablestream\u2465\u24ea" }, { "id": "ref-for-readablestream\u2465\u2460" }, { "id": "ref-for-readablestream\u2465\u2461" }, { "id": "ref-for-readablestream\u2465\u2462" }, { "id": "ref-for-readablestream\u2465\u2463" }, { "id": "ref-for-readablestream\u2465\u2464" }, { "id": "ref-for-readablestream\u2465\u2465" }, { "id": "ref-for-readablestream\u2465\u2466" }, { "id": "ref-for-readablestream\u2465\u2467" }], "title": "9.1.1. Creation and manipulation" }, { "refs": [{ "id": "ref-for-readablestream\u2465\u2468" }, { "id": "ref-for-readablestream\u2466\u24ea" }, { "id": "ref-for-readablestream\u2466\u2460" }, { "id": "ref-for-readablestream\u2466\u2461" }, { "id": "ref-for-readablestream\u2466\u2462" }], "title": "9.1.2. Reading" }, { "refs": [{ "id": "ref-for-readablestream\u2466\u2463" }, { "id": "ref-for-readablestream\u2466\u2464" }, { "id": "ref-for-readablestream\u2466\u2465" }, { "id": "ref-for-readablestream\u2466\u2466" }, { "id": "ref-for-readablestream\u2466\u2467" }, { "id": "ref-for-readablestream\u2466\u2468" }], "title": "9.1.3. Introspection" }, { "refs": [{ "id": "ref-for-readablestream\u2467\u24ea" }], "title": "9.3.2. Wrapping into a custom class" }, { "refs": [{ "id": "ref-for-readablestream\u2467\u2460" }, { "id": "ref-for-readablestream\u2467\u2461" }, { "id": "ref-for-readablestream\u2467\u2462" }, { "id": "ref-for-readablestream\u2467\u2463" }], "title": "9.5. Piping" }, { "refs": [{ "id": "ref-for-readablestream\u2467\u2464" }], "title": "10. Examples of creating streams" }, { "refs": [{ "id": "ref-for-readablestream\u2467\u2465" }], "title": "10.1. A readable stream with an underlying push source (no backpressure support)" }, { "refs": [{ "id": "ref-for-readablestream\u2467\u2466" }], "title": "10.3. A readable byte stream with an underlying push source (no backpressure support)" }, { "refs": [{ "id": "ref-for-readablestream\u2467\u2467" }], "title": "10.5. A readable byte stream with an underlying pull source" }], "url": "#readablestream" },
                "readablestream-async-iterator-prevent-cancel": { "dfnID": "readablestream-async-iterator-prevent-cancel", "dfnText": "prevent cancel", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablestream-async-iterator-prevent-cancel" }], "title": "4.2.5. Asynchronous iteration" }], "url": "#readablestream-async-iterator-prevent-cancel" },
                "readablestream-async-iterator-reader": { "dfnID": "readablestream-async-iterator-reader", "dfnText": "reader", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablestream-async-iterator-reader" }, { "id": "ref-for-readablestream-async-iterator-reader\u2460" }], "title": "4.2.5. Asynchronous iteration" }], "url": "#readablestream-async-iterator-reader" },
                "readablestream-cancel": { "dfnID": "readablestream-cancel", "dfnText": "cancel", "external": false, "refSections": [], "url": "#readablestream-cancel" },
                "readablestream-close": { "dfnID": "readablestream-close", "dfnText": "close", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablestream-close" }, { "id": "ref-for-readablestream-close\u2460" }], "title": "9.1.1. Creation and manipulation" }], "url": "#readablestream-close" },
                "readablestream-closed": { "dfnID": "readablestream-closed", "dfnText": "closed", "external": false, "refSections": [], "url": "#readablestream-closed" },
                "readablestream-controller": { "dfnID": "readablestream-controller", "dfnText": "[[controller]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablestream-controller" }, { "id": "ref-for-readablestream-controller\u2460" }, { "id": "ref-for-readablestream-controller\u2461" }, { "id": "ref-for-readablestream-controller\u2462" }, { "id": "ref-for-readablestream-controller\u2463" }, { "id": "ref-for-readablestream-controller\u2464" }, { "id": "ref-for-readablestream-controller\u2465" }, { "id": "ref-for-readablestream-controller\u2466" }, { "id": "ref-for-readablestream-controller\u2467" }, { "id": "ref-for-readablestream-controller\u2468" }, { "id": "ref-for-readablestream-controller\u2460\u24ea" }, { "id": "ref-for-readablestream-controller\u2460\u2460" }, { "id": "ref-for-readablestream-controller\u2460\u2461" }, { "id": "ref-for-readablestream-controller\u2460\u2462" }, { "id": "ref-for-readablestream-controller\u2460\u2463" }, { "id": "ref-for-readablestream-controller\u2460\u2464" }, { "id": "ref-for-readablestream-controller\u2460\u2465" }, { "id": "ref-for-readablestream-controller\u2460\u2466" }, { "id": "ref-for-readablestream-controller\u2460\u2467" }, { "id": "ref-for-readablestream-controller\u2460\u2468" }, { "id": "ref-for-readablestream-controller\u2461\u24ea" }, { "id": "ref-for-readablestream-controller\u2461\u2460" }, { "id": "ref-for-readablestream-controller\u2461\u2461" }, { "id": "ref-for-readablestream-controller\u2461\u2462" }, { "id": "ref-for-readablestream-controller\u2461\u2463" }, { "id": "ref-for-readablestream-controller\u2461\u2464" }, { "id": "ref-for-readablestream-controller\u2461\u2465" }, { "id": "ref-for-readablestream-controller\u2461\u2466" }, { "id": "ref-for-readablestream-controller\u2461\u2467" }, { "id": "ref-for-readablestream-controller\u2461\u2468" }, { "id": "ref-for-readablestream-controller\u2462\u24ea" }, { "id": "ref-for-readablestream-controller\u2462\u2460" }, { "id": "ref-for-readablestream-controller\u2462\u2461" }, { "id": "ref-for-readablestream-controller\u2462\u2462" }, { "id": "ref-for-readablestream-controller\u2462\u2463" }, { "id": "ref-for-readablestream-controller\u2462\u2464" }, { "id": "ref-for-readablestream-controller\u2462\u2465" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-readablestream-controller\u2462\u2466" }], "title": "4.9.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-readablestream-controller\u2462\u2467" }, { "id": "ref-for-readablestream-controller\u2462\u2468" }, { "id": "ref-for-readablestream-controller\u2463\u24ea" }, { "id": "ref-for-readablestream-controller\u2463\u2460" }], "title": "4.9.3. Readers" }, { "refs": [{ "id": "ref-for-readablestream-controller\u2463\u2461" }, { "id": "ref-for-readablestream-controller\u2463\u2462" }], "title": "4.9.4. Default controllers" }, { "refs": [{ "id": "ref-for-readablestream-controller\u2463\u2463" }, { "id": "ref-for-readablestream-controller\u2463\u2464" }], "title": "4.9.5. Byte stream controllers" }, { "refs": [{ "id": "ref-for-readablestream-controller\u2463\u2465" }], "title": "6.3.3. Methods and properties" }, { "refs": [{ "id": "ref-for-readablestream-controller\u2463\u2466" }], "title": "6.4.1. Working with transform streams" }, { "refs": [{ "id": "ref-for-readablestream-controller\u2463\u2467" }, { "id": "ref-for-readablestream-controller\u2463\u2468" }], "title": "6.4.2. Default controllers" }, { "refs": [{ "id": "ref-for-readablestream-controller\u2464\u24ea" }, { "id": "ref-for-readablestream-controller\u2464\u2460" }, { "id": "ref-for-readablestream-controller\u2464\u2461" }, { "id": "ref-for-readablestream-controller\u2464\u2462" }], "title": "6.4.3. Default sinks" }, { "refs": [{ "id": "ref-for-readablestream-controller\u2464\u2463" }, { "id": "ref-for-readablestream-controller\u2464\u2464" }, { "id": "ref-for-readablestream-controller\u2464\u2465" }, { "id": "ref-for-readablestream-controller\u2464\u2466" }, { "id": "ref-for-readablestream-controller\u2464\u2467" }, { "id": "ref-for-readablestream-controller\u2464\u2468" }, { "id": "ref-for-readablestream-controller\u2465\u24ea" }, { "id": "ref-for-readablestream-controller\u2465\u2460" }, { "id": "ref-for-readablestream-controller\u2465\u2461" }, { "id": "ref-for-readablestream-controller\u2465\u2462" }, { "id": "ref-for-readablestream-controller\u2465\u2463" }, { "id": "ref-for-readablestream-controller\u2465\u2464" }, { "id": "ref-for-readablestream-controller\u2465\u2465" }, { "id": "ref-for-readablestream-controller\u2465\u2466" }, { "id": "ref-for-readablestream-controller\u2465\u2467" }, { "id": "ref-for-readablestream-controller\u2465\u2468" }, { "id": "ref-for-readablestream-controller\u2466\u24ea" }, { "id": "ref-for-readablestream-controller\u2466\u2460" }, { "id": "ref-for-readablestream-controller\u2466\u2461" }, { "id": "ref-for-readablestream-controller\u2466\u2462" }, { "id": "ref-for-readablestream-controller\u2466\u2463" }], "title": "9.1.1. Creation and manipulation" }], "url": "#readablestream-controller" },
                "readablestream-create-a-proxy": { "dfnID": "readablestream-create-a-proxy", "dfnText": "create a proxy", "external": false, "refSections": [], "url": "#readablestream-create-a-proxy" },
                "readablestream-current-byob-request-view": { "dfnID": "readablestream-current-byob-request-view", "dfnText": "current BYOB request view", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablestream-current-byob-request-view" }, { "id": "ref-for-readablestream-current-byob-request-view\u2460" }, { "id": "ref-for-readablestream-current-byob-request-view\u2461" }, { "id": "ref-for-readablestream-current-byob-request-view\u2462" }, { "id": "ref-for-readablestream-current-byob-request-view\u2463" }, { "id": "ref-for-readablestream-current-byob-request-view\u2464" }, { "id": "ref-for-readablestream-current-byob-request-view\u2465" }, { "id": "ref-for-readablestream-current-byob-request-view\u2466" }, { "id": "ref-for-readablestream-current-byob-request-view\u2467" }, { "id": "ref-for-readablestream-current-byob-request-view\u2468" }, { "id": "ref-for-readablestream-current-byob-request-view\u2460\u24ea" }], "title": "9.1.1. Creation and manipulation" }], "url": "#readablestream-current-byob-request-view" },
                "readablestream-desired-size-to-fill-up-to-the-high-water-mark": { "dfnID": "readablestream-desired-size-to-fill-up-to-the-high-water-mark", "dfnText": "desired size to fill up to the\n high water mark", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablestream-desired-size-to-fill-up-to-the-high-water-mark" }], "title": "9.1.1. Creation and manipulation" }], "url": "#readablestream-desired-size-to-fill-up-to-the-high-water-mark" },
                "readablestream-detached": { "dfnID": "readablestream-detached", "dfnText": "[[Detached]]", "external": false, "refSections": [], "url": "#readablestream-detached" },
                "readablestream-disturbed": { "dfnID": "readablestream-disturbed", "dfnText": "[[disturbed]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablestream-disturbed" }, { "id": "ref-for-readablestream-disturbed\u2460" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-readablestream-disturbed\u2461" }], "title": "4.9.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-readablestream-disturbed\u2462" }, { "id": "ref-for-readablestream-disturbed\u2463" }], "title": "4.9.3. Readers" }, { "refs": [{ "id": "ref-for-readablestream-disturbed\u2464" }], "title": "9.1.3. Introspection" }], "url": "#readablestream-disturbed" },
                "readablestream-enqueue": { "dfnID": "readablestream-enqueue", "dfnText": "enqueue", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablestream-enqueue" }, { "id": "ref-for-readablestream-enqueue\u2460" }, { "id": "ref-for-readablestream-enqueue\u2461" }, { "id": "ref-for-readablestream-enqueue\u2462" }], "title": "9.1.1. Creation and manipulation" }], "url": "#readablestream-enqueue" },
                "readablestream-error": { "dfnID": "readablestream-error", "dfnText": "error", "external": false, "refSections": [], "url": "#readablestream-error" },
                "readablestream-errored": { "dfnID": "readablestream-errored", "dfnText": "errored", "external": false, "refSections": [], "url": "#readablestream-errored" },
                "readablestream-get-a-reader": { "dfnID": "readablestream-get-a-reader", "dfnText": "get a reader", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablestream-get-a-reader" }], "title": "9.1.3. Introspection" }], "url": "#readablestream-get-a-reader" },
                "readablestream-locked": { "dfnID": "readablestream-locked", "dfnText": "locked", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablestream-locked" }], "title": "9.1.2. Reading" }, { "refs": [{ "id": "ref-for-readablestream-locked\u2460" }], "title": "9.1.3. Introspection" }, { "refs": [{ "id": "ref-for-readablestream-locked\u2461" }], "title": "9.5. Piping" }], "url": "#readablestream-locked" },
                "readablestream-need-more-data": { "dfnID": "readablestream-need-more-data", "dfnText": "needs more data", "external": false, "refSections": [], "url": "#readablestream-need-more-data" },
                "readablestream-pipe": { "dfnID": "readablestream-pipe", "dfnText": "piped to", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablestream-pipe" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-readablestream-pipe\u2460" }], "title": "6.1. Using transform streams" }, { "refs": [{ "id": "ref-for-readablestream-pipe\u2461" }], "title": "6.2.4. Constructor and properties" }, { "refs": [{ "id": "ref-for-readablestream-pipe\u2462" }], "title": "9.5. Piping" }], "url": "#readablestream-pipe" },
                "readablestream-pipe-through": { "dfnID": "readablestream-pipe-through", "dfnText": "piped through", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablestream-pipe-through" }], "title": "9.5. Piping" }], "url": "#readablestream-pipe-through" },
                "readablestream-pipe-through-preventabort": { "dfnID": "readablestream-pipe-through-preventabort", "dfnText": "preventAbort", "external": false, "refSections": [], "url": "#readablestream-pipe-through-preventabort" },
                "readablestream-pipe-through-preventcancel": { "dfnID": "readablestream-pipe-through-preventcancel", "dfnText": "preventCancel", "external": false, "refSections": [], "url": "#readablestream-pipe-through-preventcancel" },
                "readablestream-pipe-through-preventclose": { "dfnID": "readablestream-pipe-through-preventclose", "dfnText": "preventClose", "external": false, "refSections": [], "url": "#readablestream-pipe-through-preventclose" },
                "readablestream-pipe-through-signal": { "dfnID": "readablestream-pipe-through-signal", "dfnText": "signal", "external": false, "refSections": [], "url": "#readablestream-pipe-through-signal" },
                "readablestream-pipe-to-preventabort": { "dfnID": "readablestream-pipe-to-preventabort", "dfnText": "preventAbort", "external": false, "refSections": [], "url": "#readablestream-pipe-to-preventabort" },
                "readablestream-pipe-to-preventcancel": { "dfnID": "readablestream-pipe-to-preventcancel", "dfnText": "preventCancel", "external": false, "refSections": [], "url": "#readablestream-pipe-to-preventcancel" },
                "readablestream-pipe-to-preventclose": { "dfnID": "readablestream-pipe-to-preventclose", "dfnText": "preventClose", "external": false, "refSections": [], "url": "#readablestream-pipe-to-preventclose" },
                "readablestream-pipe-to-signal": { "dfnID": "readablestream-pipe-to-signal", "dfnText": "signal", "external": false, "refSections": [], "url": "#readablestream-pipe-to-signal" },
                "readablestream-pull-from-bytes": { "dfnID": "readablestream-pull-from-bytes", "dfnText": "pull from bytes", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablestream-pull-from-bytes" }, { "id": "ref-for-readablestream-pull-from-bytes\u2460" }], "title": "9.1.1. Creation and manipulation" }], "url": "#readablestream-pull-from-bytes" },
                "readablestream-readable": { "dfnID": "readablestream-readable", "dfnText": "readable", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablestream-readable" }], "title": "9.1.1. Creation and manipulation" }, { "refs": [{ "id": "ref-for-readablestream-readable\u2460" }], "title": "9.1.3. Introspection" }], "url": "#readablestream-readable" },
                "readablestream-reader": { "dfnID": "readablestream-reader", "dfnText": "[[reader]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablestream-reader" }, { "id": "ref-for-readablestream-reader\u2460" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-readablestream-reader\u2461" }, { "id": "ref-for-readablestream-reader\u2462" }, { "id": "ref-for-readablestream-reader\u2463" }, { "id": "ref-for-readablestream-reader\u2464" }, { "id": "ref-for-readablestream-reader\u2465" }, { "id": "ref-for-readablestream-reader\u2466" }, { "id": "ref-for-readablestream-reader\u2467" }, { "id": "ref-for-readablestream-reader\u2468" }, { "id": "ref-for-readablestream-reader\u2460\u24ea" }, { "id": "ref-for-readablestream-reader\u2460\u2460" }, { "id": "ref-for-readablestream-reader\u2460\u2461" }, { "id": "ref-for-readablestream-reader\u2460\u2462" }, { "id": "ref-for-readablestream-reader\u2460\u2463" }], "title": "4.9.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-readablestream-reader\u2460\u2464" }, { "id": "ref-for-readablestream-reader\u2460\u2465" }, { "id": "ref-for-readablestream-reader\u2460\u2466" }], "title": "4.9.3. Readers" }, { "refs": [{ "id": "ref-for-readablestream-reader\u2460\u2467" }], "title": "4.9.5. Byte stream controllers" }], "url": "#readablestream-reader" },
                "readablestream-set-up": { "dfnID": "readablestream-set-up", "dfnText": "set up", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablestream-set-up" }, { "id": "ref-for-readablestream-set-up\u2460" }, { "id": "ref-for-readablestream-set-up\u2461" }], "title": "9.1.1. Creation and manipulation" }], "url": "#readablestream-set-up" },
                "readablestream-set-up-cancelalgorithm": { "dfnID": "readablestream-set-up-cancelalgorithm", "dfnText": "cancelAlgorithm", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablestream-set-up-cancelalgorithm" }], "title": "9.4.1. Duplex streams" }], "url": "#readablestream-set-up-cancelalgorithm" },
                "readablestream-set-up-highwatermark": { "dfnID": "readablestream-set-up-highwatermark", "dfnText": "highWaterMark", "external": false, "refSections": [], "url": "#readablestream-set-up-highwatermark" },
                "readablestream-set-up-pullalgorithm": { "dfnID": "readablestream-set-up-pullalgorithm", "dfnText": "pullAlgorithm", "external": false, "refSections": [], "url": "#readablestream-set-up-pullalgorithm" },
                "readablestream-set-up-sizealgorithm": { "dfnID": "readablestream-set-up-sizealgorithm", "dfnText": "sizeAlgorithm", "external": false, "refSections": [], "url": "#readablestream-set-up-sizealgorithm" },
                "readablestream-set-up-with-byte-reading-support": { "dfnID": "readablestream-set-up-with-byte-reading-support", "dfnText": "set up with byte reading support", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablestream-set-up-with-byte-reading-support" }, { "id": "ref-for-readablestream-set-up-with-byte-reading-support\u2460" }, { "id": "ref-for-readablestream-set-up-with-byte-reading-support\u2461" }], "title": "9.1.1. Creation and manipulation" }], "url": "#readablestream-set-up-with-byte-reading-support" },
                "readablestream-set-up-with-byte-reading-support-cancelalgorithm": { "dfnID": "readablestream-set-up-with-byte-reading-support-cancelalgorithm", "dfnText": "cancelAlgorithm", "external": false, "refSections": [], "url": "#readablestream-set-up-with-byte-reading-support-cancelalgorithm" },
                "readablestream-set-up-with-byte-reading-support-highwatermark": { "dfnID": "readablestream-set-up-with-byte-reading-support-highwatermark", "dfnText": "highWaterMark", "external": false, "refSections": [], "url": "#readablestream-set-up-with-byte-reading-support-highwatermark" },
                "readablestream-set-up-with-byte-reading-support-pullalgorithm": { "dfnID": "readablestream-set-up-with-byte-reading-support-pullalgorithm", "dfnText": "pullAlgorithm", "external": false, "refSections": [], "url": "#readablestream-set-up-with-byte-reading-support-pullalgorithm" },
                "readablestream-state": { "dfnID": "readablestream-state", "dfnText": "[[state]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablestream-state" }, { "id": "ref-for-readablestream-state\u2460" }], "title": "4.7.3. Methods and properties" }, { "refs": [{ "id": "ref-for-readablestream-state\u2461" }, { "id": "ref-for-readablestream-state\u2462" }, { "id": "ref-for-readablestream-state\u2463" }, { "id": "ref-for-readablestream-state\u2464" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-readablestream-state\u2465" }, { "id": "ref-for-readablestream-state\u2466" }, { "id": "ref-for-readablestream-state\u2467" }, { "id": "ref-for-readablestream-state\u2468" }, { "id": "ref-for-readablestream-state\u2460\u24ea" }, { "id": "ref-for-readablestream-state\u2460\u2460" }, { "id": "ref-for-readablestream-state\u2460\u2461" }, { "id": "ref-for-readablestream-state\u2460\u2462" }], "title": "4.9.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-readablestream-state\u2460\u2463" }, { "id": "ref-for-readablestream-state\u2460\u2464" }, { "id": "ref-for-readablestream-state\u2460\u2465" }, { "id": "ref-for-readablestream-state\u2460\u2466" }, { "id": "ref-for-readablestream-state\u2460\u2467" }, { "id": "ref-for-readablestream-state\u2460\u2468" }, { "id": "ref-for-readablestream-state\u2461\u24ea" }, { "id": "ref-for-readablestream-state\u2461\u2460" }], "title": "4.9.3. Readers" }, { "refs": [{ "id": "ref-for-readablestream-state\u2461\u2461" }, { "id": "ref-for-readablestream-state\u2461\u2462" }, { "id": "ref-for-readablestream-state\u2461\u2463" }], "title": "4.9.4. Default controllers" }, { "refs": [{ "id": "ref-for-readablestream-state\u2461\u2464" }, { "id": "ref-for-readablestream-state\u2461\u2465" }, { "id": "ref-for-readablestream-state\u2461\u2466" }, { "id": "ref-for-readablestream-state\u2461\u2467" }, { "id": "ref-for-readablestream-state\u2461\u2468" }, { "id": "ref-for-readablestream-state\u2462\u24ea" }, { "id": "ref-for-readablestream-state\u2462\u2460" }, { "id": "ref-for-readablestream-state\u2462\u2461" }, { "id": "ref-for-readablestream-state\u2462\u2462" }, { "id": "ref-for-readablestream-state\u2462\u2463" }, { "id": "ref-for-readablestream-state\u2462\u2464" }, { "id": "ref-for-readablestream-state\u2462\u2465" }], "title": "4.9.5. Byte stream controllers" }, { "refs": [{ "id": "ref-for-readablestream-state\u2462\u2466" }, { "id": "ref-for-readablestream-state\u2462\u2467" }], "title": "6.4.3. Default sinks" }, { "refs": [{ "id": "ref-for-readablestream-state\u2462\u2468" }, { "id": "ref-for-readablestream-state\u2463\u24ea" }, { "id": "ref-for-readablestream-state\u2463\u2460" }], "title": "9.1.3. Introspection" }], "url": "#readablestream-state" },
                "readablestream-storederror": { "dfnID": "readablestream-storederror", "dfnText": "[[storedError]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablestream-storederror" }, { "id": "ref-for-readablestream-storederror\u2460" }, { "id": "ref-for-readablestream-storederror\u2461" }, { "id": "ref-for-readablestream-storederror\u2462" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-readablestream-storederror\u2463" }, { "id": "ref-for-readablestream-storederror\u2464" }], "title": "4.9.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-readablestream-storederror\u2465" }, { "id": "ref-for-readablestream-storederror\u2466" }, { "id": "ref-for-readablestream-storederror\u2467" }], "title": "4.9.3. Readers" }, { "refs": [{ "id": "ref-for-readablestream-storederror\u2468" }], "title": "6.4.2. Default controllers" }, { "refs": [{ "id": "ref-for-readablestream-storederror\u2460\u24ea" }, { "id": "ref-for-readablestream-storederror\u2460\u2460" }], "title": "6.4.3. Default sinks" }], "url": "#readablestream-storederror" },
                "readablestream-tee": { "dfnID": "readablestream-tee", "dfnText": "tee", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablestream-tee" }], "title": "4.9.1. Working with readable streams" }], "url": "#readablestream-tee" },
                "readablestreambyobreader": { "dfnID": "readablestreambyobreader", "dfnText": "ReadableStreamBYOBReader", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablestreambyobreader" }], "title": "2.6. Locking" }, { "refs": [{ "id": "ref-for-readablestreambyobreader\u2460" }], "title": "4.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-readablestreambyobreader\u2461" }], "title": "4.2.2. Internal slots" }, { "refs": [{ "id": "ref-for-readablestreambyobreader\u2462" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-readablestreambyobreader\u2463" }], "title": "4.3. The ReadableStreamGenericReader mixin" }, { "refs": [{ "id": "ref-for-readablestreambyobreader\u2464" }, { "id": "ref-for-readablestreambyobreader\u2465" }], "title": "4.5. The ReadableStreamBYOBReader class" }, { "refs": [{ "id": "ref-for-readablestreambyobreader\u2466" }, { "id": "ref-for-readablestreambyobreader\u2467" }], "title": "4.5.1. Interface definition" }, { "refs": [{ "id": "ref-for-readablestreambyobreader\u2468" }], "title": "4.5.2. Internal slots" }, { "refs": [{ "id": "ref-for-readablestreambyobreader\u2460\u24ea" }, { "id": "ref-for-readablestreambyobreader\u2460\u2460" }, { "id": "ref-for-readablestreambyobreader\u2460\u2461" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-readablestreambyobreader\u2460\u2462" }, { "id": "ref-for-readablestreambyobreader\u2460\u2463" }, { "id": "ref-for-readablestreambyobreader\u2460\u2464" }, { "id": "ref-for-readablestreambyobreader\u2460\u2465" }], "title": "4.9.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-readablestreambyobreader\u2460\u2466" }], "title": "4.9.3. Readers" }, { "refs": [{ "id": "ref-for-readablestreambyobreader\u2460\u2467" }], "title": "9.1.2. Reading" }], "url": "#readablestreambyobreader" },
                "readablestreambyobreader-readintorequests": { "dfnID": "readablestreambyobreader-readintorequests", "dfnText": "[[readIntoRequests]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablestreambyobreader-readintorequests" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-readablestreambyobreader-readintorequests\u2460" }, { "id": "ref-for-readablestreambyobreader-readintorequests\u2461" }, { "id": "ref-for-readablestreambyobreader-readintorequests\u2462" }, { "id": "ref-for-readablestreambyobreader-readintorequests\u2463" }, { "id": "ref-for-readablestreambyobreader-readintorequests\u2464" }, { "id": "ref-for-readablestreambyobreader-readintorequests\u2465" }, { "id": "ref-for-readablestreambyobreader-readintorequests\u2466" }], "title": "4.9.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-readablestreambyobreader-readintorequests\u2467" }, { "id": "ref-for-readablestreambyobreader-readintorequests\u2468" }, { "id": "ref-for-readablestreambyobreader-readintorequests\u2460\u24ea" }], "title": "4.9.3. Readers" }], "url": "#readablestreambyobreader-readintorequests" },
                "readablestreambyobrequest": { "dfnID": "readablestreambyobrequest", "dfnText": "ReadableStreamBYOBRequest", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablestreambyobrequest" }], "title": "4.7.1. Interface definition" }, { "refs": [{ "id": "ref-for-readablestreambyobrequest\u2460" }], "title": "4.7.2. Internal slots" }, { "refs": [{ "id": "ref-for-readablestreambyobrequest\u2461" }, { "id": "ref-for-readablestreambyobrequest\u2462" }], "title": "4.8. The ReadableStreamBYOBRequest class" }, { "refs": [{ "id": "ref-for-readablestreambyobrequest\u2463" }], "title": "4.8.1. Interface definition" }, { "refs": [{ "id": "ref-for-readablestreambyobrequest\u2464" }], "title": "4.8.2. Internal slots" }, { "refs": [{ "id": "ref-for-readablestreambyobrequest\u2465" }], "title": "4.9.5. Byte stream controllers" }], "url": "#readablestreambyobrequest" },
                "readablestreambyobrequest-controller": { "dfnID": "readablestreambyobrequest-controller", "dfnText": "[[controller]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablestreambyobrequest-controller" }, { "id": "ref-for-readablestreambyobrequest-controller\u2460" }, { "id": "ref-for-readablestreambyobrequest-controller\u2461" }, { "id": "ref-for-readablestreambyobrequest-controller\u2462" }], "title": "4.8.3. Methods and properties" }, { "refs": [{ "id": "ref-for-readablestreambyobrequest-controller\u2463" }, { "id": "ref-for-readablestreambyobrequest-controller\u2464" }], "title": "4.9.5. Byte stream controllers" }], "url": "#readablestreambyobrequest-controller" },
                "readablestreambyobrequest-view": { "dfnID": "readablestreambyobrequest-view", "dfnText": "[[view]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablestreambyobrequest-view" }, { "id": "ref-for-readablestreambyobrequest-view\u2460" }, { "id": "ref-for-readablestreambyobrequest-view\u2461" }, { "id": "ref-for-readablestreambyobrequest-view\u2462" }], "title": "4.8.3. Methods and properties" }, { "refs": [{ "id": "ref-for-readablestreambyobrequest-view\u2463" }, { "id": "ref-for-readablestreambyobrequest-view\u2464" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-readablestreambyobrequest-view\u2465" }, { "id": "ref-for-readablestreambyobrequest-view\u2466" }], "title": "4.9.5. Byte stream controllers" }, { "refs": [{ "id": "ref-for-readablestreambyobrequest-view\u2467" }], "title": "9.1.1. Creation and manipulation" }], "url": "#readablestreambyobrequest-view" },
                "readablestreamdefaultcontroller": { "dfnID": "readablestreamdefaultcontroller", "dfnText": "ReadableStreamDefaultController", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablestreamdefaultcontroller" }], "title": "4.2.2. Internal slots" }, { "refs": [{ "id": "ref-for-readablestreamdefaultcontroller\u2460" }, { "id": "ref-for-readablestreamdefaultcontroller\u2461" }], "title": "4.2.3. The underlying source API" }, { "refs": [{ "id": "ref-for-readablestreamdefaultcontroller\u2462" }, { "id": "ref-for-readablestreamdefaultcontroller\u2463" }, { "id": "ref-for-readablestreamdefaultcontroller\u2464" }], "title": "4.6. The ReadableStreamDefaultController class" }, { "refs": [{ "id": "ref-for-readablestreamdefaultcontroller\u2465" }], "title": "4.6.1. Interface definition" }, { "refs": [{ "id": "ref-for-readablestreamdefaultcontroller\u2466" }], "title": "4.6.2. Internal slots" }, { "refs": [{ "id": "ref-for-readablestreamdefaultcontroller\u2467" }], "title": "4.6.4. Internal methods" }, { "refs": [{ "id": "ref-for-readablestreamdefaultcontroller\u2468" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-readablestreamdefaultcontroller\u2460\u24ea" }], "title": "4.9.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-readablestreamdefaultcontroller\u2460\u2460" }, { "id": "ref-for-readablestreamdefaultcontroller\u2460\u2461" }], "title": "4.9.4. Default controllers" }, { "refs": [{ "id": "ref-for-readablestreamdefaultcontroller\u2460\u2462" }], "title": "8.2. Transferable streams" }, { "refs": [{ "id": "ref-for-readablestreamdefaultcontroller\u2460\u2463" }, { "id": "ref-for-readablestreamdefaultcontroller\u2460\u2464" }], "title": "9.1.1. Creation and manipulation" }], "url": "#readablestreamdefaultcontroller" },
                "readablestreamdefaultcontroller-cancelalgorithm": { "dfnID": "readablestreamdefaultcontroller-cancelalgorithm", "dfnText": "[[cancelAlgorithm]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablestreamdefaultcontroller-cancelalgorithm" }], "title": "4.6.4. Internal methods" }, { "refs": [{ "id": "ref-for-readablestreamdefaultcontroller-cancelalgorithm\u2460" }, { "id": "ref-for-readablestreamdefaultcontroller-cancelalgorithm\u2461" }], "title": "4.9.4. Default controllers" }], "url": "#readablestreamdefaultcontroller-cancelalgorithm" },
                "readablestreamdefaultcontroller-closerequested": { "dfnID": "readablestreamdefaultcontroller-closerequested", "dfnText": "[[closeRequested]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablestreamdefaultcontroller-closerequested" }], "title": "4.6.4. Internal methods" }, { "refs": [{ "id": "ref-for-readablestreamdefaultcontroller-closerequested\u2460" }, { "id": "ref-for-readablestreamdefaultcontroller-closerequested\u2461" }, { "id": "ref-for-readablestreamdefaultcontroller-closerequested\u2462" }, { "id": "ref-for-readablestreamdefaultcontroller-closerequested\u2463" }], "title": "4.9.4. Default controllers" }], "url": "#readablestreamdefaultcontroller-closerequested" },
                "readablestreamdefaultcontroller-pullagain": { "dfnID": "readablestreamdefaultcontroller-pullagain", "dfnText": "[[pullAgain]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablestreamdefaultcontroller-pullagain" }, { "id": "ref-for-readablestreamdefaultcontroller-pullagain\u2460" }, { "id": "ref-for-readablestreamdefaultcontroller-pullagain\u2461" }, { "id": "ref-for-readablestreamdefaultcontroller-pullagain\u2462" }, { "id": "ref-for-readablestreamdefaultcontroller-pullagain\u2463" }, { "id": "ref-for-readablestreamdefaultcontroller-pullagain\u2464" }], "title": "4.9.4. Default controllers" }], "url": "#readablestreamdefaultcontroller-pullagain" },
                "readablestreamdefaultcontroller-pullalgorithm": { "dfnID": "readablestreamdefaultcontroller-pullalgorithm", "dfnText": "[[pullAlgorithm]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablestreamdefaultcontroller-pullalgorithm" }, { "id": "ref-for-readablestreamdefaultcontroller-pullalgorithm\u2460" }, { "id": "ref-for-readablestreamdefaultcontroller-pullalgorithm\u2461" }], "title": "4.9.4. Default controllers" }], "url": "#readablestreamdefaultcontroller-pullalgorithm" },
                "readablestreamdefaultcontroller-pulling": { "dfnID": "readablestreamdefaultcontroller-pulling", "dfnText": "[[pulling]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablestreamdefaultcontroller-pulling" }, { "id": "ref-for-readablestreamdefaultcontroller-pulling\u2460" }, { "id": "ref-for-readablestreamdefaultcontroller-pulling\u2461" }, { "id": "ref-for-readablestreamdefaultcontroller-pulling\u2462" }, { "id": "ref-for-readablestreamdefaultcontroller-pulling\u2463" }], "title": "4.9.4. Default controllers" }], "url": "#readablestreamdefaultcontroller-pulling" },
                "readablestreamdefaultcontroller-queue": { "dfnID": "readablestreamdefaultcontroller-queue", "dfnText": "[[queue]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablestreamdefaultcontroller-queue" }], "title": "4.6.2. Internal slots" }, { "refs": [{ "id": "ref-for-readablestreamdefaultcontroller-queue\u2460" }, { "id": "ref-for-readablestreamdefaultcontroller-queue\u2461" }], "title": "4.6.4. Internal methods" }, { "refs": [{ "id": "ref-for-readablestreamdefaultcontroller-queue\u2462" }], "title": "4.9.4. Default controllers" }], "url": "#readablestreamdefaultcontroller-queue" },
                "readablestreamdefaultcontroller-queuetotalsize": { "dfnID": "readablestreamdefaultcontroller-queuetotalsize", "dfnText": "[[queueTotalSize]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablestreamdefaultcontroller-queuetotalsize" }], "title": "4.9.4. Default controllers" }], "url": "#readablestreamdefaultcontroller-queuetotalsize" },
                "readablestreamdefaultcontroller-started": { "dfnID": "readablestreamdefaultcontroller-started", "dfnText": "[[started]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablestreamdefaultcontroller-started" }, { "id": "ref-for-readablestreamdefaultcontroller-started\u2460" }, { "id": "ref-for-readablestreamdefaultcontroller-started\u2461" }], "title": "4.9.4. Default controllers" }], "url": "#readablestreamdefaultcontroller-started" },
                "readablestreamdefaultcontroller-strategyhwm": { "dfnID": "readablestreamdefaultcontroller-strategyhwm", "dfnText": "[[strategyHWM]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablestreamdefaultcontroller-strategyhwm" }, { "id": "ref-for-readablestreamdefaultcontroller-strategyhwm\u2460" }], "title": "4.9.4. Default controllers" }], "url": "#readablestreamdefaultcontroller-strategyhwm" },
                "readablestreamdefaultcontroller-strategysizealgorithm": { "dfnID": "readablestreamdefaultcontroller-strategysizealgorithm", "dfnText": "[[strategySizeAlgorithm]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablestreamdefaultcontroller-strategysizealgorithm" }, { "id": "ref-for-readablestreamdefaultcontroller-strategysizealgorithm\u2460" }, { "id": "ref-for-readablestreamdefaultcontroller-strategysizealgorithm\u2461" }], "title": "4.9.4. Default controllers" }], "url": "#readablestreamdefaultcontroller-strategysizealgorithm" },
                "readablestreamdefaultcontroller-stream": { "dfnID": "readablestreamdefaultcontroller-stream", "dfnText": "[[stream]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablestreamdefaultcontroller-stream" }], "title": "4.6.4. Internal methods" }, { "refs": [{ "id": "ref-for-readablestreamdefaultcontroller-stream\u2460" }, { "id": "ref-for-readablestreamdefaultcontroller-stream\u2461" }, { "id": "ref-for-readablestreamdefaultcontroller-stream\u2462" }, { "id": "ref-for-readablestreamdefaultcontroller-stream\u2463" }, { "id": "ref-for-readablestreamdefaultcontroller-stream\u2464" }, { "id": "ref-for-readablestreamdefaultcontroller-stream\u2465" }, { "id": "ref-for-readablestreamdefaultcontroller-stream\u2466" }], "title": "4.9.4. Default controllers" }], "url": "#readablestreamdefaultcontroller-stream" },
                "readablestreamdefaultreader": { "dfnID": "readablestreamdefaultreader", "dfnText": "ReadableStreamDefaultReader", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablestreamdefaultreader" }], "title": "2.6. Locking" }, { "refs": [{ "id": "ref-for-readablestreamdefaultreader\u2460" }], "title": "4.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-readablestreamdefaultreader\u2461" }], "title": "4.2.2. Internal slots" }, { "refs": [{ "id": "ref-for-readablestreamdefaultreader\u2462" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-readablestreamdefaultreader\u2463" }], "title": "4.3. The ReadableStreamGenericReader mixin" }, { "refs": [{ "id": "ref-for-readablestreamdefaultreader\u2464" }, { "id": "ref-for-readablestreamdefaultreader\u2465" }], "title": "4.4. The ReadableStreamDefaultReader class" }, { "refs": [{ "id": "ref-for-readablestreamdefaultreader\u2466" }, { "id": "ref-for-readablestreamdefaultreader\u2467" }], "title": "4.4.1. Interface definition" }, { "refs": [{ "id": "ref-for-readablestreamdefaultreader\u2468" }], "title": "4.4.2. Internal slots" }, { "refs": [{ "id": "ref-for-readablestreamdefaultreader\u2460\u24ea" }, { "id": "ref-for-readablestreamdefaultreader\u2460\u2460" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-readablestreamdefaultreader\u2460\u2461" }, { "id": "ref-for-readablestreamdefaultreader\u2460\u2462" }, { "id": "ref-for-readablestreamdefaultreader\u2460\u2463" }, { "id": "ref-for-readablestreamdefaultreader\u2460\u2464" }], "title": "4.9.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-readablestreamdefaultreader\u2460\u2465" }], "title": "4.9.3. Readers" }, { "refs": [{ "id": "ref-for-readablestreamdefaultreader\u2460\u2466" }], "title": "4.9.5. Byte stream controllers" }, { "refs": [{ "id": "ref-for-readablestreamdefaultreader\u2460\u2467" }, { "id": "ref-for-readablestreamdefaultreader\u2460\u2468" }, { "id": "ref-for-readablestreamdefaultreader\u2461\u24ea" }, { "id": "ref-for-readablestreamdefaultreader\u2461\u2460" }, { "id": "ref-for-readablestreamdefaultreader\u2461\u2461" }, { "id": "ref-for-readablestreamdefaultreader\u2461\u2462" }], "title": "9.1.2. Reading" }], "url": "#readablestreamdefaultreader" },
                "readablestreamdefaultreader-cancel": { "dfnID": "readablestreamdefaultreader-cancel", "dfnText": "cancel", "external": false, "refSections": [], "url": "#readablestreamdefaultreader-cancel" },
                "readablestreamdefaultreader-read-a-chunk": { "dfnID": "readablestreamdefaultreader-read-a-chunk", "dfnText": "read\na chunk", "external": false, "refSections": [], "url": "#readablestreamdefaultreader-read-a-chunk" },
                "readablestreamdefaultreader-read-all-bytes": { "dfnID": "readablestreamdefaultreader-read-all-bytes", "dfnText": "read all\n bytes", "external": false, "refSections": [], "url": "#readablestreamdefaultreader-read-all-bytes" },
                "readablestreamdefaultreader-readrequests": { "dfnID": "readablestreamdefaultreader-readrequests", "dfnText": "[[readRequests]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablestreamdefaultreader-readrequests" }], "title": "4.2.5. Asynchronous iteration" }, { "refs": [{ "id": "ref-for-readablestreamdefaultreader-readrequests\u2460" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-readablestreamdefaultreader-readrequests\u2461" }, { "id": "ref-for-readablestreamdefaultreader-readrequests\u2462" }, { "id": "ref-for-readablestreamdefaultreader-readrequests\u2463" }, { "id": "ref-for-readablestreamdefaultreader-readrequests\u2464" }, { "id": "ref-for-readablestreamdefaultreader-readrequests\u2465" }, { "id": "ref-for-readablestreamdefaultreader-readrequests\u2466" }, { "id": "ref-for-readablestreamdefaultreader-readrequests\u2467" }], "title": "4.9.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-readablestreamdefaultreader-readrequests\u2468" }, { "id": "ref-for-readablestreamdefaultreader-readrequests\u2460\u24ea" }, { "id": "ref-for-readablestreamdefaultreader-readrequests\u2460\u2460" }], "title": "4.9.3. Readers" }, { "refs": [{ "id": "ref-for-readablestreamdefaultreader-readrequests\u2460\u2461" }, { "id": "ref-for-readablestreamdefaultreader-readrequests\u2460\u2462" }, { "id": "ref-for-readablestreamdefaultreader-readrequests\u2460\u2463" }], "title": "4.9.5. Byte stream controllers" }], "url": "#readablestreamdefaultreader-readrequests" },
                "readablestreamdefaultreader-release": { "dfnID": "readablestreamdefaultreader-release", "dfnText": "release", "external": false, "refSections": [], "url": "#readablestreamdefaultreader-release" },
                "readablestreamgenericreader": { "dfnID": "readablestreamgenericreader", "dfnText": "ReadableStreamGenericReader", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablestreamgenericreader" }, { "id": "ref-for-readablestreamgenericreader\u2460" }], "title": "4.3. The ReadableStreamGenericReader mixin" }, { "refs": [{ "id": "ref-for-readablestreamgenericreader\u2461" }], "title": "4.3.1. Mixin definition" }, { "refs": [{ "id": "ref-for-readablestreamgenericreader\u2462" }], "title": "4.3.2. Internal slots" }, { "refs": [{ "id": "ref-for-readablestreamgenericreader\u2463" }], "title": "4.4.1. Interface definition" }, { "refs": [{ "id": "ref-for-readablestreamgenericreader\u2464" }], "title": "4.4.2. Internal slots" }, { "refs": [{ "id": "ref-for-readablestreamgenericreader\u2465" }], "title": "4.5.1. Interface definition" }, { "refs": [{ "id": "ref-for-readablestreamgenericreader\u2466" }], "title": "4.5.2. Internal slots" }], "url": "#readablestreamgenericreader" },
                "readablestreamgenericreader-closedpromise": { "dfnID": "readablestreamgenericreader-closedpromise", "dfnText": "[[closedPromise]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablestreamgenericreader-closedpromise" }], "title": "4.3.3. Methods and properties" }, { "refs": [{ "id": "ref-for-readablestreamgenericreader-closedpromise\u2460" }, { "id": "ref-for-readablestreamgenericreader-closedpromise\u2461" }, { "id": "ref-for-readablestreamgenericreader-closedpromise\u2462" }, { "id": "ref-for-readablestreamgenericreader-closedpromise\u2463" }, { "id": "ref-for-readablestreamgenericreader-closedpromise\u2464" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-readablestreamgenericreader-closedpromise\u2465" }, { "id": "ref-for-readablestreamgenericreader-closedpromise\u2466" }, { "id": "ref-for-readablestreamgenericreader-closedpromise\u2467" }], "title": "4.9.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-readablestreamgenericreader-closedpromise\u2468" }, { "id": "ref-for-readablestreamgenericreader-closedpromise\u2460\u24ea" }, { "id": "ref-for-readablestreamgenericreader-closedpromise\u2460\u2460" }, { "id": "ref-for-readablestreamgenericreader-closedpromise\u2460\u2461" }, { "id": "ref-for-readablestreamgenericreader-closedpromise\u2460\u2462" }, { "id": "ref-for-readablestreamgenericreader-closedpromise\u2460\u2463" }, { "id": "ref-for-readablestreamgenericreader-closedpromise\u2460\u2464" }], "title": "4.9.3. Readers" }], "url": "#readablestreamgenericreader-closedpromise" },
                "readablestreamgenericreader-stream": { "dfnID": "readablestreamgenericreader-stream", "dfnText": "[[stream]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-readablestreamgenericreader-stream" }, { "id": "ref-for-readablestreamgenericreader-stream\u2460" }], "title": "4.2.5. Asynchronous iteration" }, { "refs": [{ "id": "ref-for-readablestreamgenericreader-stream\u2461" }], "title": "4.3.3. Methods and properties" }, { "refs": [{ "id": "ref-for-readablestreamgenericreader-stream\u2462" }, { "id": "ref-for-readablestreamgenericreader-stream\u2463" }], "title": "4.4.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-readablestreamgenericreader-stream\u2464" }, { "id": "ref-for-readablestreamgenericreader-stream\u2465" }], "title": "4.5.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-readablestreamgenericreader-stream\u2466" }, { "id": "ref-for-readablestreamgenericreader-stream\u2467" }, { "id": "ref-for-readablestreamgenericreader-stream\u2468" }, { "id": "ref-for-readablestreamgenericreader-stream\u2460\u24ea" }, { "id": "ref-for-readablestreamgenericreader-stream\u2460\u2460" }, { "id": "ref-for-readablestreamgenericreader-stream\u2460\u2461" }], "title": "4.9.3. Readers" }], "url": "#readablestreamgenericreader-stream" },
                "reader": { "dfnID": "reader", "dfnText": "readable stream reader", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-reader" }], "title": "1. Introduction" }, { "refs": [{ "id": "ref-for-reader\u2460" }], "title": "2.1. Readable streams" }, { "refs": [{ "id": "ref-for-reader\u2461" }], "title": "4.1. Using readable streams" }, { "refs": [{ "id": "ref-for-reader\u2462" }, { "id": "ref-for-reader\u2463" }], "title": "4.7.2. Internal slots" }, { "refs": [{ "id": "ref-for-reader\u2464" }], "title": "4.9.2. Interfacing with controllers" }], "url": "#reader" },
                "release-a-lock": { "dfnID": "release-a-lock", "dfnText": "release its lock", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-release-a-lock" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-release-a-lock\u2460" }, { "id": "ref-for-release-a-lock\u2461" }], "title": "4.4.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-release-a-lock\u2462" }, { "id": "ref-for-release-a-lock\u2463" }], "title": "4.5.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-release-a-lock\u2464" }], "title": "4.7.2. Internal slots" }, { "refs": [{ "id": "ref-for-release-a-lock\u2465" }], "title": "4.9.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-release-a-lock\u2466" }], "title": "5.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-release-a-lock\u2467" }, { "id": "ref-for-release-a-lock\u2468" }, { "id": "ref-for-release-a-lock\u2460\u24ea" }, { "id": "ref-for-release-a-lock\u2460\u2460" }], "title": "5.3.3. Constructor, methods, and properties" }], "url": "#release-a-lock" },
                "reset-queue": { "dfnID": "reset-queue", "dfnText": "ResetQueue(container)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-reset-queue" }], "title": "4.6.4. Internal methods" }, { "refs": [{ "id": "ref-for-reset-queue\u2460" }], "title": "4.7.4. Internal methods" }, { "refs": [{ "id": "ref-for-reset-queue\u2461" }, { "id": "ref-for-reset-queue\u2462" }], "title": "4.9.4. Default controllers" }, { "refs": [{ "id": "ref-for-reset-queue\u2463" }, { "id": "ref-for-reset-queue\u2464" }], "title": "4.9.5. Byte stream controllers" }, { "refs": [{ "id": "ref-for-reset-queue\u2465" }], "title": "5.4.4. Internal methods" }, { "refs": [{ "id": "ref-for-reset-queue\u2466" }], "title": "5.5.4. Default controllers" }], "url": "#reset-queue" },
                "rs-byob-request-respond": { "dfnID": "rs-byob-request-respond", "dfnText": "respond(bytesWritten)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-rs-byob-request-respond" }], "title": "4.8.1. Interface definition" }, { "refs": [{ "id": "ref-for-rs-byob-request-respond\u2460" }], "title": "4.8.3. Methods and properties" }], "url": "#rs-byob-request-respond" },
                "rs-byob-request-respond-with-new-view": { "dfnID": "rs-byob-request-respond-with-new-view", "dfnText": "respondWithNewView(view)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-rs-byob-request-respond-with-new-view" }], "title": "4.8.1. Interface definition" }, { "refs": [{ "id": "ref-for-rs-byob-request-respond-with-new-view\u2460" }], "title": "4.8.3. Methods and properties" }], "url": "#rs-byob-request-respond-with-new-view" },
                "rs-byob-request-view": { "dfnID": "rs-byob-request-view", "dfnText": "view", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-rs-byob-request-view" }], "title": "4.8.1. Interface definition" }, { "refs": [{ "id": "ref-for-rs-byob-request-view\u2460" }, { "id": "ref-for-rs-byob-request-view\u2461" }, { "id": "ref-for-rs-byob-request-view\u2462" }, { "id": "ref-for-rs-byob-request-view\u2463" }, { "id": "ref-for-rs-byob-request-view\u2464" }, { "id": "ref-for-rs-byob-request-view\u2465" }, { "id": "ref-for-rs-byob-request-view\u2466" }, { "id": "ref-for-rs-byob-request-view\u2467" }], "title": "4.8.3. Methods and properties" }], "url": "#rs-byob-request-view" },
                "rs-cancel": { "dfnID": "rs-cancel", "dfnText": "cancel(reason)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-rs-cancel" }], "title": "2.1. Readable streams" }, { "refs": [{ "id": "ref-for-rs-cancel\u2460" }], "title": "4.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-rs-cancel\u2461" }], "title": "4.2.3. The underlying source API" }, { "refs": [{ "id": "ref-for-rs-cancel\u2462" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-rs-cancel\u2463" }], "title": "4.4.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-rs-cancel\u2464" }], "title": "4.5.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-rs-cancel\u2465" }], "title": "4.9.4. Default controllers" }, { "refs": [{ "id": "ref-for-rs-cancel\u2466" }], "title": "6.2.3. The transformer API" }], "url": "#rs-cancel" },
                "rs-constructor": { "dfnID": "rs-constructor", "dfnText": "new ReadableStream(underlyingSource, strategy)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-rs-constructor" }], "title": "2.1. Readable streams" }, { "refs": [{ "id": "ref-for-rs-constructor\u2460" }], "title": "4.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-rs-constructor\u2461" }, { "id": "ref-for-rs-constructor\u2462" }, { "id": "ref-for-rs-constructor\u2463" }], "title": "4.2.3. The underlying source API" }, { "refs": [{ "id": "ref-for-rs-constructor\u2464" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-rs-constructor\u2465" }], "title": "7.1. The queuing strategy API" }], "url": "#rs-constructor" },
                "rs-default-controller-close": { "dfnID": "rs-default-controller-close", "dfnText": "close()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-rs-default-controller-close" }], "title": "4.6.1. Interface definition" }, { "refs": [{ "id": "ref-for-rs-default-controller-close\u2460" }], "title": "4.6.3. Methods and properties" }, { "refs": [{ "id": "ref-for-rs-default-controller-close\u2461" }], "title": "4.9.4. Default controllers" }], "url": "#rs-default-controller-close" },
                "rs-default-controller-desired-size": { "dfnID": "rs-default-controller-desired-size", "dfnText": "desiredSize", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-rs-default-controller-desired-size" }], "title": "2.4. Pipe chains and backpressure" }, { "refs": [{ "id": "ref-for-rs-default-controller-desired-size\u2460" }], "title": "4.6.1. Interface definition" }, { "refs": [{ "id": "ref-for-rs-default-controller-desired-size\u2461" }], "title": "4.6.3. Methods and properties" }, { "refs": [{ "id": "ref-for-rs-default-controller-desired-size\u2462" }], "title": "7.1. The queuing strategy API" }], "url": "#rs-default-controller-desired-size" },
                "rs-default-controller-enqueue": { "dfnID": "rs-default-controller-enqueue", "dfnText": "enqueue(chunk)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-rs-default-controller-enqueue" }], "title": "4.6.1. Interface definition" }, { "refs": [{ "id": "ref-for-rs-default-controller-enqueue\u2460" }], "title": "4.6.3. Methods and properties" }], "url": "#rs-default-controller-enqueue" },
                "rs-default-controller-error": { "dfnID": "rs-default-controller-error", "dfnText": "error(e)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-rs-default-controller-error" }], "title": "4.6.1. Interface definition" }, { "refs": [{ "id": "ref-for-rs-default-controller-error\u2460" }], "title": "4.6.3. Methods and properties" }, { "refs": [{ "id": "ref-for-rs-default-controller-error\u2461" }], "title": "4.9.4. Default controllers" }], "url": "#rs-default-controller-error" },
                "rs-default-controller-has-backpressure": { "dfnID": "rs-default-controller-has-backpressure", "dfnText": "ReadableStreamDefaultControllerHasBackpressure(controller)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-rs-default-controller-has-backpressure" }], "title": "6.4.2. Default controllers" }], "url": "#rs-default-controller-has-backpressure" },
                "rs-default-controller-private-cancel": { "dfnID": "rs-default-controller-private-cancel", "dfnText": "[[CancelSteps]](reason)", "external": false, "refSections": [], "url": "#rs-default-controller-private-cancel" },
                "rs-default-controller-private-pull": { "dfnID": "rs-default-controller-private-pull", "dfnText": "[[PullSteps]](readRequest)", "external": false, "refSections": [], "url": "#rs-default-controller-private-pull" },
                "rs-from": { "dfnID": "rs-from", "dfnText": "from(asyncIterable)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-rs-from" }], "title": "4.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-rs-from\u2460" }], "title": "4.2.4. Constructor, methods, and properties" }], "url": "#rs-from" },
                "rs-get-reader": { "dfnID": "rs-get-reader", "dfnText": "getReader(options)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-rs-get-reader" }, { "id": "ref-for-rs-get-reader\u2460" }], "title": "2.1. Readable streams" }, { "refs": [{ "id": "ref-for-rs-get-reader\u2461" }], "title": "2.6. Locking" }, { "refs": [{ "id": "ref-for-rs-get-reader\u2462" }], "title": "4.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-rs-get-reader\u2463" }], "title": "4.2.3. The underlying source API" }, { "refs": [{ "id": "ref-for-rs-get-reader\u2464" }, { "id": "ref-for-rs-get-reader\u2465" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-rs-get-reader\u2466" }], "title": "4.4.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-rs-get-reader\u2467" }], "title": "4.5.3. Constructor, methods, and properties" }], "url": "#rs-get-reader" },
                "rs-locked": { "dfnID": "rs-locked", "dfnText": "locked", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-rs-locked" }], "title": "2.6. Locking" }, { "refs": [{ "id": "ref-for-rs-locked\u2460" }], "title": "4.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-rs-locked\u2461" }], "title": "4.2.4. Constructor, methods, and properties" }], "url": "#rs-locked" },
                "rs-pipe-through": { "dfnID": "rs-pipe-through", "dfnText": "pipeThrough(transform, options)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-rs-pipe-through" }], "title": "2.4. Pipe chains and backpressure" }, { "refs": [{ "id": "ref-for-rs-pipe-through\u2460" }], "title": "4.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-rs-pipe-through\u2461" }, { "id": "ref-for-rs-pipe-through\u2462" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-rs-pipe-through\u2463" }], "title": "9.4.1. Duplex streams" }, { "refs": [{ "id": "ref-for-rs-pipe-through\u2464" }], "title": "9.4.2. Endpoint pairs" }], "url": "#rs-pipe-through" },
                "rs-pipe-to": { "dfnID": "rs-pipe-to", "dfnText": "pipeTo(destination, options)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-rs-pipe-to" }, { "id": "ref-for-rs-pipe-to\u2460" }], "title": "2.4. Pipe chains and backpressure" }, { "refs": [{ "id": "ref-for-rs-pipe-to\u2461" }], "title": "4.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-rs-pipe-to\u2462" }], "title": "4.2.3. The underlying source API" }, { "refs": [{ "id": "ref-for-rs-pipe-to\u2463" }, { "id": "ref-for-rs-pipe-to\u2464" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-rs-pipe-to\u2465" }], "title": "5.2.3. The underlying sink API" }, { "refs": [{ "id": "ref-for-rs-pipe-to\u2466" }], "title": "5.5.3. Writers" }, { "refs": [{ "id": "ref-for-rs-pipe-to\u2467" }, { "id": "ref-for-rs-pipe-to\u2468" }], "title": "10.11. Using an identity transform stream as a primitive to create new readable streams" }], "url": "#rs-pipe-to" },
                "rs-pipeTo-finalize": { "dfnID": "rs-pipeTo-finalize", "dfnText": "Finalize", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-rs-pipeTo-finalize" }, { "id": "ref-for-rs-pipeTo-finalize\u2460" }, { "id": "ref-for-rs-pipeTo-finalize\u2461" }], "title": "4.9.1. Working with readable streams" }], "url": "#rs-pipeTo-finalize" },
                "rs-pipeTo-shutdown": { "dfnID": "rs-pipeTo-shutdown", "dfnText": "Shutdown", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-rs-pipeTo-shutdown" }, { "id": "ref-for-rs-pipeTo-shutdown\u2460" }, { "id": "ref-for-rs-pipeTo-shutdown\u2461" }, { "id": "ref-for-rs-pipeTo-shutdown\u2462" }], "title": "4.9.1. Working with readable streams" }], "url": "#rs-pipeTo-shutdown" },
                "rs-pipeTo-shutdown-with-action": { "dfnID": "rs-pipeTo-shutdown-with-action", "dfnText": "Shutdown with an action", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-rs-pipeTo-shutdown-with-action" }, { "id": "ref-for-rs-pipeTo-shutdown-with-action\u2460" }, { "id": "ref-for-rs-pipeTo-shutdown-with-action\u2461" }, { "id": "ref-for-rs-pipeTo-shutdown-with-action\u2462" }, { "id": "ref-for-rs-pipeTo-shutdown-with-action\u2463" }], "title": "4.9.1. Working with readable streams" }], "url": "#rs-pipeTo-shutdown-with-action" },
                "rs-tee": { "dfnID": "rs-tee", "dfnText": "tee()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-rs-tee" }], "title": "2.1. Readable streams" }, { "refs": [{ "id": "ref-for-rs-tee\u2460" }], "title": "4.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-rs-tee\u2461" }], "title": "4.2.4. Constructor, methods, and properties" }], "url": "#rs-tee" },
                "set-up-readable-byte-stream-controller": { "dfnID": "set-up-readable-byte-stream-controller", "dfnText": "SetUpReadableByteStreamController(stream,\n controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark,\n autoAllocateChunkSize)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-set-up-readable-byte-stream-controller" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-set-up-readable-byte-stream-controller\u2460" }], "title": "4.9.5. Byte stream controllers" }, { "refs": [{ "id": "ref-for-set-up-readable-byte-stream-controller\u2461" }], "title": "9.1.1. Creation and manipulation" }], "url": "#set-up-readable-byte-stream-controller" },
                "set-up-readable-byte-stream-controller-from-underlying-source": { "dfnID": "set-up-readable-byte-stream-controller-from-underlying-source", "dfnText": "SetUpReadableByteStreamControllerFromUnderlyingSource(stream,\n underlyingSource, underlyingSourceDict, highWaterMark)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-set-up-readable-byte-stream-controller-from-underlying-source" }], "title": "4.2.4. Constructor, methods, and properties" }], "url": "#set-up-readable-byte-stream-controller-from-underlying-source" },
                "set-up-readable-stream-byob-reader": { "dfnID": "set-up-readable-stream-byob-reader", "dfnText": "SetUpReadableStreamBYOBReader(reader, stream)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-set-up-readable-stream-byob-reader" }], "title": "4.5.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-set-up-readable-stream-byob-reader\u2460" }], "title": "4.9.1. Working with readable streams" }], "url": "#set-up-readable-stream-byob-reader" },
                "set-up-readable-stream-default-controller": { "dfnID": "set-up-readable-stream-default-controller", "dfnText": "SetUpReadableStreamDefaultController(stream,\n controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark,\n sizeAlgorithm)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-set-up-readable-stream-default-controller" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-set-up-readable-stream-default-controller\u2460" }], "title": "4.9.4. Default controllers" }, { "refs": [{ "id": "ref-for-set-up-readable-stream-default-controller\u2461" }], "title": "8.2. Transferable streams" }, { "refs": [{ "id": "ref-for-set-up-readable-stream-default-controller\u2462" }], "title": "9.1.1. Creation and manipulation" }], "url": "#set-up-readable-stream-default-controller" },
                "set-up-readable-stream-default-controller-from-underlying-source": { "dfnID": "set-up-readable-stream-default-controller-from-underlying-source", "dfnText": "SetUpReadableStreamDefaultControllerFromUnderlyingSource(stream,\n underlyingSource, underlyingSourceDict, highWaterMark, sizeAlgorithm)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-set-up-readable-stream-default-controller-from-underlying-source" }], "title": "4.2.4. Constructor, methods, and properties" }], "url": "#set-up-readable-stream-default-controller-from-underlying-source" },
                "set-up-readable-stream-default-reader": { "dfnID": "set-up-readable-stream-default-reader", "dfnText": "SetUpReadableStreamDefaultReader(reader,\n stream)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-set-up-readable-stream-default-reader" }], "title": "4.4.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-set-up-readable-stream-default-reader\u2460" }], "title": "4.9.1. Working with readable streams" }], "url": "#set-up-readable-stream-default-reader" },
                "set-up-transform-stream-default-controller": { "dfnID": "set-up-transform-stream-default-controller", "dfnText": "SetUpTransformStreamDefaultController(stream,\n controller, transformAlgorithm, flushAlgorithm, cancelAlgorithm)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-set-up-transform-stream-default-controller" }], "title": "6.4.2. Default controllers" }, { "refs": [{ "id": "ref-for-set-up-transform-stream-default-controller\u2460" }], "title": "9.3.1. Creation and manipulation" }], "url": "#set-up-transform-stream-default-controller" },
                "set-up-transform-stream-default-controller-from-transformer": { "dfnID": "set-up-transform-stream-default-controller-from-transformer", "dfnText": "SetUpTransformStreamDefaultControllerFromTransformer(stream,\n transformer, transformerDict)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-set-up-transform-stream-default-controller-from-transformer" }], "title": "6.2.4. Constructor and properties" }], "url": "#set-up-transform-stream-default-controller-from-transformer" },
                "set-up-writable-stream-default-controller": { "dfnID": "set-up-writable-stream-default-controller", "dfnText": "SetUpWritableStreamDefaultController(stream,\n controller, startAlgorithm, writeAlgorithm, closeAlgorithm, abortAlgorithm,\n highWaterMark, sizeAlgorithm)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-set-up-writable-stream-default-controller" }], "title": "5.5.1. Working with writable streams" }, { "refs": [{ "id": "ref-for-set-up-writable-stream-default-controller\u2460" }], "title": "5.5.4. Default controllers" }, { "refs": [{ "id": "ref-for-set-up-writable-stream-default-controller\u2461" }], "title": "8.2. Transferable streams" }, { "refs": [{ "id": "ref-for-set-up-writable-stream-default-controller\u2462" }], "title": "9.2.1. Creation and manipulation" }], "url": "#set-up-writable-stream-default-controller" },
                "set-up-writable-stream-default-controller-from-underlying-sink": { "dfnID": "set-up-writable-stream-default-controller-from-underlying-sink", "dfnText": "SetUpWritableStreamDefaultControllerFromUnderlyingSink(stream,\n underlyingSink, underlyingSinkDict, highWaterMark, sizeAlgorithm)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-set-up-writable-stream-default-controller-from-underlying-sink" }], "title": "5.2.4. Constructor, methods, and properties" }], "url": "#set-up-writable-stream-default-controller-from-underlying-sink" },
                "set-up-writable-stream-default-writer": { "dfnID": "set-up-writable-stream-default-writer", "dfnText": "SetUpWritableStreamDefaultWriter(writer,\n stream)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-set-up-writable-stream-default-writer" }], "title": "5.3.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-set-up-writable-stream-default-writer\u2460" }], "title": "5.5.1. Working with writable streams" }], "url": "#set-up-writable-stream-default-writer" },
                "tee-a-readable-stream": { "dfnID": "tee-a-readable-stream", "dfnText": "tee", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-tee-a-readable-stream" }], "title": "2.4. Pipe chains and backpressure" }, { "refs": [{ "id": "ref-for-tee-a-readable-stream\u2460" }], "title": "4.1. Using readable streams" }, { "refs": [{ "id": "ref-for-tee-a-readable-stream\u2461" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-tee-a-readable-stream\u2462" }], "title": "4.9.1. Working with readable streams" }], "url": "#tee-a-readable-stream" },
                "transfer-array-buffer": { "dfnID": "transfer-array-buffer", "dfnText": "TransferArrayBuffer(O)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-transfer-array-buffer" }], "title": "4.1. Using readable streams" }, { "refs": [{ "id": "ref-for-transfer-array-buffer" }], "title": "4.7.2. Internal slots" }, { "refs": [{ "id": "ref-for-transfer-array-buffer" }, { "id": "ref-for-transfer-array-buffer" }, { "id": "ref-for-transfer-array-buffer" }], "title": "4.8.3. Methods and properties" }, { "refs": [{ "id": "ref-for-transfer-array-buffer" }, { "id": "ref-for-transfer-array-buffer\u2460" }, { "id": "ref-for-transfer-array-buffer\u2461" }, { "id": "ref-for-transfer-array-buffer\u2462" }, { "id": "ref-for-transfer-array-buffer\u2463" }, { "id": "ref-for-transfer-array-buffer\u2464" }], "title": "4.9.5. Byte stream controllers" }], "url": "#transfer-array-buffer" },
                "transform-stream": { "dfnID": "transform-stream", "dfnText": "transform stream", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-transform-stream" }], "title": "1. Introduction" }, { "refs": [{ "id": "ref-for-transform-stream\u2460" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-transform-stream\u2461" }], "title": "6.2. The TransformStream class" }, { "refs": [{ "id": "ref-for-transform-stream\u2462" }], "title": "6.4.3. Default sinks" }, { "refs": [{ "id": "ref-for-transform-stream\u2463" }], "title": "6.4.4. Default sources" }, { "refs": [{ "id": "ref-for-transform-stream\u2464" }], "title": "9.3.2. Wrapping into a custom class" }, { "refs": [{ "id": "ref-for-transform-stream\u2465" }], "title": "9.4. Other stream pairs" }, { "refs": [{ "id": "ref-for-transform-stream\u2466" }], "title": "9.4.2. Endpoint pairs" }, { "refs": [{ "id": "ref-for-transform-stream\u2467" }], "title": "10.1. A readable stream with an underlying push source (no backpressure support)" }], "url": "#transform-stream" },
                "transform-stream-default-controller-clear-algorithms": { "dfnID": "transform-stream-default-controller-clear-algorithms", "dfnText": "TransformStreamDefaultControllerClearAlgorithms(controller)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-transform-stream-default-controller-clear-algorithms" }], "title": "6.4.1. Working with transform streams" }, { "refs": [{ "id": "ref-for-transform-stream-default-controller-clear-algorithms\u2460" }, { "id": "ref-for-transform-stream-default-controller-clear-algorithms\u2461" }], "title": "6.4.3. Default sinks" }, { "refs": [{ "id": "ref-for-transform-stream-default-controller-clear-algorithms\u2462" }], "title": "6.4.4. Default sources" }], "url": "#transform-stream-default-controller-clear-algorithms" },
                "transform-stream-default-controller-enqueue": { "dfnID": "transform-stream-default-controller-enqueue", "dfnText": "TransformStreamDefaultControllerEnqueue(controller,\n chunk)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-transform-stream-default-controller-enqueue" }], "title": "6.3.3. Methods and properties" }, { "refs": [{ "id": "ref-for-transform-stream-default-controller-enqueue\u2460" }], "title": "6.4.2. Default controllers" }, { "refs": [{ "id": "ref-for-transform-stream-default-controller-enqueue\u2461" }], "title": "9.3.1. Creation and manipulation" }], "url": "#transform-stream-default-controller-enqueue" },
                "transform-stream-default-controller-error": { "dfnID": "transform-stream-default-controller-error", "dfnText": "TransformStreamDefaultControllerError(controller,\n e)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-transform-stream-default-controller-error" }], "title": "6.3.3. Methods and properties" }, { "refs": [{ "id": "ref-for-transform-stream-default-controller-error\u2460" }], "title": "9.3.1. Creation and manipulation" }], "url": "#transform-stream-default-controller-error" },
                "transform-stream-default-controller-perform-transform": { "dfnID": "transform-stream-default-controller-perform-transform", "dfnText": "TransformStreamDefaultControllerPerformTransform(controller,\n chunk)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-transform-stream-default-controller-perform-transform" }, { "id": "ref-for-transform-stream-default-controller-perform-transform\u2460" }], "title": "6.4.3. Default sinks" }], "url": "#transform-stream-default-controller-perform-transform" },
                "transform-stream-default-controller-terminate": { "dfnID": "transform-stream-default-controller-terminate", "dfnText": "TransformStreamDefaultControllerTerminate(controller)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-transform-stream-default-controller-terminate" }], "title": "6.3.3. Methods and properties" }, { "refs": [{ "id": "ref-for-transform-stream-default-controller-terminate\u2460" }], "title": "9.3.1. Creation and manipulation" }], "url": "#transform-stream-default-controller-terminate" },
                "transform-stream-default-sink-abort-algorithm": { "dfnID": "transform-stream-default-sink-abort-algorithm", "dfnText": "TransformStreamDefaultSinkAbortAlgorithm(stream,\n reason)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-transform-stream-default-sink-abort-algorithm" }], "title": "6.4.1. Working with transform streams" }], "url": "#transform-stream-default-sink-abort-algorithm" },
                "transform-stream-default-sink-close-algorithm": { "dfnID": "transform-stream-default-sink-close-algorithm", "dfnText": "TransformStreamDefaultSinkCloseAlgorithm(stream)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-transform-stream-default-sink-close-algorithm" }], "title": "6.4.1. Working with transform streams" }], "url": "#transform-stream-default-sink-close-algorithm" },
                "transform-stream-default-sink-write-algorithm": { "dfnID": "transform-stream-default-sink-write-algorithm", "dfnText": "TransformStreamDefaultSinkWriteAlgorithm(stream,\n chunk)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-transform-stream-default-sink-write-algorithm" }, { "id": "ref-for-transform-stream-default-sink-write-algorithm\u2460" }], "title": "6.4.1. Working with transform streams" }], "url": "#transform-stream-default-sink-write-algorithm" },
                "transform-stream-default-source-cancel": { "dfnID": "transform-stream-default-source-cancel", "dfnText": "TransformStreamDefaultSourceCancelAlgorithm(stream,\n reason)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-transform-stream-default-source-cancel" }], "title": "6.4.1. Working with transform streams" }], "url": "#transform-stream-default-source-cancel" },
                "transform-stream-default-source-pull": { "dfnID": "transform-stream-default-source-pull", "dfnText": "TransformStreamDefaultSourcePullAlgorithm(stream)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-transform-stream-default-source-pull" }], "title": "6.4.1. Working with transform streams" }], "url": "#transform-stream-default-source-pull" },
                "transform-stream-error": { "dfnID": "transform-stream-error", "dfnText": "TransformStreamError(stream, e)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-transform-stream-error" }, { "id": "ref-for-transform-stream-error\u2460" }], "title": "6.4.2. Default controllers" }], "url": "#transform-stream-error" },
                "transform-stream-error-writable-and-unblock-write": { "dfnID": "transform-stream-error-writable-and-unblock-write", "dfnText": "TransformStreamErrorWritableAndUnblockWrite(stream,\n e)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-transform-stream-error-writable-and-unblock-write" }], "title": "6.4.1. Working with transform streams" }, { "refs": [{ "id": "ref-for-transform-stream-error-writable-and-unblock-write\u2460" }, { "id": "ref-for-transform-stream-error-writable-and-unblock-write\u2461" }], "title": "6.4.2. Default controllers" }], "url": "#transform-stream-error-writable-and-unblock-write" },
                "transform-stream-set-backpressure": { "dfnID": "transform-stream-set-backpressure", "dfnText": "TransformStreamSetBackpressure(stream,\n backpressure)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-transform-stream-set-backpressure" }, { "id": "ref-for-transform-stream-set-backpressure\u2460" }, { "id": "ref-for-transform-stream-set-backpressure\u2461" }, { "id": "ref-for-transform-stream-set-backpressure\u2462" }], "title": "6.4.1. Working with transform streams" }, { "refs": [{ "id": "ref-for-transform-stream-set-backpressure\u2463" }], "title": "6.4.2. Default controllers" }, { "refs": [{ "id": "ref-for-transform-stream-set-backpressure\u2464" }], "title": "6.4.4. Default sources" }], "url": "#transform-stream-set-backpressure" },
                "transform-stream-unblock-write": { "dfnID": "transform-stream-unblock-write", "dfnText": "TransformStreamUnblockWrite(stream)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-transform-stream-unblock-write" }], "title": "6.4.1. Working with transform streams" }, { "refs": [{ "id": "ref-for-transform-stream-unblock-write\u2460" }, { "id": "ref-for-transform-stream-unblock-write\u2461" }], "title": "6.4.4. Default sources" }], "url": "#transform-stream-unblock-write" },
                "transformer": { "dfnID": "transformer", "dfnText": "transformer", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-transformer" }], "title": "2.3. Transform streams" }, { "refs": [{ "id": "ref-for-transformer\u2460" }, { "id": "ref-for-transformer\u2461" }], "title": "6.2.3. The transformer API" }, { "refs": [{ "id": "ref-for-transformer\u2462" }], "title": "6.2.4. Constructor and properties" }, { "refs": [{ "id": "ref-for-transformer\u2463" }], "title": "6.3. The TransformStreamDefaultController class" }, { "refs": [{ "id": "ref-for-transformer\u2464" }, { "id": "ref-for-transformer\u2465" }, { "id": "ref-for-transformer\u2466" }], "title": "6.3.2. Internal slots" }, { "refs": [{ "id": "ref-for-transformer\u2467" }], "title": "6.3.3. Methods and properties" }, { "refs": [{ "id": "ref-for-transformer\u2468" }], "title": "6.4.2. Default controllers" }, { "refs": [{ "id": "ref-for-transformer\u2460\u24ea" }], "title": "10.9. A transform stream that replaces template tags" }], "url": "#transformer" },
                "transformstream": { "dfnID": "transformstream", "dfnText": "TransformStream", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-transformstream" }, { "id": "ref-for-transformstream\u2460" }], "title": "2.3. Transform streams" }, { "refs": [{ "id": "ref-for-transformstream\u2461" }], "title": "4.9.4. Default controllers" }, { "refs": [{ "id": "ref-for-transformstream\u2462" }, { "id": "ref-for-transformstream\u2463" }], "title": "6.2. The TransformStream class" }, { "refs": [{ "id": "ref-for-transformstream\u2464" }], "title": "6.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-transformstream\u2465" }], "title": "6.2.2. Internal slots" }, { "refs": [{ "id": "ref-for-transformstream\u2466" }], "title": "6.2.3. The transformer API" }, { "refs": [{ "id": "ref-for-transformstream\u2467" }, { "id": "ref-for-transformstream\u2468" }], "title": "6.2.4. Constructor and properties" }, { "refs": [{ "id": "ref-for-transformstream\u2460\u24ea" }, { "id": "ref-for-transformstream\u2460\u2460" }, { "id": "ref-for-transformstream\u2460\u2461" }], "title": "6.2.5. Transfer via postMessage()" }, { "refs": [{ "id": "ref-for-transformstream\u2460\u2462" }], "title": "6.3. The TransformStreamDefaultController class" }, { "refs": [{ "id": "ref-for-transformstream\u2460\u2463" }], "title": "6.3.2. Internal slots" }, { "refs": [{ "id": "ref-for-transformstream\u2460\u2464" }], "title": "6.4.1. Working with transform streams" }, { "refs": [{ "id": "ref-for-transformstream\u2460\u2465" }, { "id": "ref-for-transformstream\u2460\u2466" }], "title": "6.4.2. Default controllers" }, { "refs": [{ "id": "ref-for-transformstream\u2460\u2467" }, { "id": "ref-for-transformstream\u2460\u2468" }, { "id": "ref-for-transformstream\u2461\u24ea" }, { "id": "ref-for-transformstream\u2461\u2460" }, { "id": "ref-for-transformstream\u2461\u2461" }, { "id": "ref-for-transformstream\u2461\u2462" }, { "id": "ref-for-transformstream\u2461\u2463" }, { "id": "ref-for-transformstream\u2461\u2464" }, { "id": "ref-for-transformstream\u2461\u2465" }, { "id": "ref-for-transformstream\u2461\u2466" }], "title": "9.3.1. Creation and manipulation" }, { "refs": [{ "id": "ref-for-transformstream\u2461\u2467" }, { "id": "ref-for-transformstream\u2461\u2468" }, { "id": "ref-for-transformstream\u2462\u24ea" }, { "id": "ref-for-transformstream\u2462\u2460" }, { "id": "ref-for-transformstream\u2462\u2461" }], "title": "9.3.2. Wrapping into a custom class" }, { "refs": [{ "id": "ref-for-transformstream\u2462\u2462" }], "title": "9.5. Piping" }, { "refs": [{ "id": "ref-for-transformstream\u2462\u2463" }], "title": "10. Examples of creating streams" }, { "refs": [{ "id": "ref-for-transformstream\u2462\u2464" }], "title": "10.9. A transform stream that replaces template tags" }, { "refs": [{ "id": "ref-for-transformstream\u2462\u2465" }, { "id": "ref-for-transformstream\u2462\u2466" }], "title": "10.10. A transform stream created from a sync mapper function" }], "url": "#transformstream" },
                "transformstream-backpressure": { "dfnID": "transformstream-backpressure", "dfnText": "[[backpressure]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-transformstream-backpressure" }], "title": "6.2.2. Internal slots" }, { "refs": [{ "id": "ref-for-transformstream-backpressure\u2460" }, { "id": "ref-for-transformstream-backpressure\u2461" }], "title": "6.2.5. Transfer via postMessage()" }, { "refs": [{ "id": "ref-for-transformstream-backpressure\u2462" }, { "id": "ref-for-transformstream-backpressure\u2463" }, { "id": "ref-for-transformstream-backpressure\u2464" }, { "id": "ref-for-transformstream-backpressure\u2465" }, { "id": "ref-for-transformstream-backpressure\u2466" }, { "id": "ref-for-transformstream-backpressure\u2467" }], "title": "6.4.1. Working with transform streams" }, { "refs": [{ "id": "ref-for-transformstream-backpressure\u2468" }], "title": "6.4.2. Default controllers" }, { "refs": [{ "id": "ref-for-transformstream-backpressure\u2460\u24ea" }], "title": "6.4.3. Default sinks" }, { "refs": [{ "id": "ref-for-transformstream-backpressure\u2460\u2460" }], "title": "6.4.4. Default sources" }], "url": "#transformstream-backpressure" },
                "transformstream-backpressurechangepromise": { "dfnID": "transformstream-backpressurechangepromise", "dfnText": "[[backpressureChangePromise]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-transformstream-backpressurechangepromise" }, { "id": "ref-for-transformstream-backpressurechangepromise\u2460" }], "title": "6.2.5. Transfer via postMessage()" }, { "refs": [{ "id": "ref-for-transformstream-backpressurechangepromise\u2461" }, { "id": "ref-for-transformstream-backpressurechangepromise\u2462" }, { "id": "ref-for-transformstream-backpressurechangepromise\u2463" }, { "id": "ref-for-transformstream-backpressurechangepromise\u2464" }, { "id": "ref-for-transformstream-backpressurechangepromise\u2465" }], "title": "6.4.1. Working with transform streams" }, { "refs": [{ "id": "ref-for-transformstream-backpressurechangepromise\u2466" }], "title": "6.4.3. Default sinks" }, { "refs": [{ "id": "ref-for-transformstream-backpressurechangepromise\u2467" }, { "id": "ref-for-transformstream-backpressurechangepromise\u2468" }], "title": "6.4.4. Default sources" }], "url": "#transformstream-backpressurechangepromise" },
                "transformstream-controller": { "dfnID": "transformstream-controller", "dfnText": "[[controller]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-transformstream-controller" }], "title": "6.2.4. Constructor and properties" }, { "refs": [{ "id": "ref-for-transformstream-controller\u2460" }, { "id": "ref-for-transformstream-controller\u2461" }], "title": "6.2.5. Transfer via postMessage()" }, { "refs": [{ "id": "ref-for-transformstream-controller\u2462" }, { "id": "ref-for-transformstream-controller\u2463" }], "title": "6.4.1. Working with transform streams" }, { "refs": [{ "id": "ref-for-transformstream-controller\u2464" }, { "id": "ref-for-transformstream-controller\u2465" }], "title": "6.4.2. Default controllers" }, { "refs": [{ "id": "ref-for-transformstream-controller\u2466" }, { "id": "ref-for-transformstream-controller\u2467" }, { "id": "ref-for-transformstream-controller\u2468" }], "title": "6.4.3. Default sinks" }, { "refs": [{ "id": "ref-for-transformstream-controller\u2460\u24ea" }], "title": "6.4.4. Default sources" }, { "refs": [{ "id": "ref-for-transformstream-controller\u2460\u2460" }, { "id": "ref-for-transformstream-controller\u2460\u2461" }, { "id": "ref-for-transformstream-controller\u2460\u2462" }], "title": "9.3.1. Creation and manipulation" }], "url": "#transformstream-controller" },
                "transformstream-detached": { "dfnID": "transformstream-detached", "dfnText": "[[Detached]]", "external": false, "refSections": [], "url": "#transformstream-detached" },
                "transformstream-enqueue": { "dfnID": "transformstream-enqueue", "dfnText": "enqueue", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-transformstream-enqueue" }], "title": "9.3.1. Creation and manipulation" }], "url": "#transformstream-enqueue" },
                "transformstream-error": { "dfnID": "transformstream-error", "dfnText": "error", "external": false, "refSections": [], "url": "#transformstream-error" },
                "transformstream-readable": { "dfnID": "transformstream-readable", "dfnText": "[[readable]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-transformstream-readable" }, { "id": "ref-for-transformstream-readable\u2460" }], "title": "6.2.2. Internal slots" }, { "refs": [{ "id": "ref-for-transformstream-readable\u2461" }], "title": "6.2.4. Constructor and properties" }, { "refs": [{ "id": "ref-for-transformstream-readable\u2462" }, { "id": "ref-for-transformstream-readable\u2463" }], "title": "6.2.5. Transfer via postMessage()" }, { "refs": [{ "id": "ref-for-transformstream-readable\u2464" }], "title": "6.3.3. Methods and properties" }, { "refs": [{ "id": "ref-for-transformstream-readable\u2465" }, { "id": "ref-for-transformstream-readable\u2466" }], "title": "6.4.1. Working with transform streams" }, { "refs": [{ "id": "ref-for-transformstream-readable\u2467" }, { "id": "ref-for-transformstream-readable\u2468" }, { "id": "ref-for-transformstream-readable\u2460\u24ea" }], "title": "6.4.2. Default controllers" }, { "refs": [{ "id": "ref-for-transformstream-readable\u2460\u2460" }, { "id": "ref-for-transformstream-readable\u2460\u2461" }], "title": "6.4.3. Default sinks" }, { "refs": [{ "id": "ref-for-transformstream-readable\u2460\u2462" }], "title": "9.3.2. Wrapping into a custom class" }, { "refs": [{ "id": "ref-for-transformstream-readable\u2460\u2463" }], "title": "9.5. Piping" }], "url": "#transformstream-readable" },
                "transformstream-set-up": { "dfnID": "transformstream-set-up", "dfnText": "set up", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-transformstream-set-up" }, { "id": "ref-for-transformstream-set-up\u2460" }, { "id": "ref-for-transformstream-set-up\u2461" }, { "id": "ref-for-transformstream-set-up\u2462" }], "title": "9.3.1. Creation and manipulation" }, { "refs": [{ "id": "ref-for-transformstream-set-up\u2463" }], "title": "9.3.2. Wrapping into a custom class" }], "url": "#transformstream-set-up" },
                "transformstream-set-up-cancelalgorithm": { "dfnID": "transformstream-set-up-cancelalgorithm", "dfnText": "cancelAlgorithm", "external": false, "refSections": [], "url": "#transformstream-set-up-cancelalgorithm" },
                "transformstream-set-up-flushalgorithm": { "dfnID": "transformstream-set-up-flushalgorithm", "dfnText": "flushAlgorithm", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-transformstream-set-up-flushalgorithm" }], "title": "9.3.1. Creation and manipulation" }, { "refs": [{ "id": "ref-for-transformstream-set-up-flushalgorithm\u2460" }], "title": "9.3.2. Wrapping into a custom class" }], "url": "#transformstream-set-up-flushalgorithm" },
                "transformstream-set-up-transformalgorithm": { "dfnID": "transformstream-set-up-transformalgorithm", "dfnText": "transformAlgorithm", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-transformstream-set-up-transformalgorithm" }, { "id": "ref-for-transformstream-set-up-transformalgorithm\u2460" }, { "id": "ref-for-transformstream-set-up-transformalgorithm\u2461" }], "title": "9.3.1. Creation and manipulation" }, { "refs": [{ "id": "ref-for-transformstream-set-up-transformalgorithm\u2462" }], "title": "9.3.2. Wrapping into a custom class" }], "url": "#transformstream-set-up-transformalgorithm" },
                "transformstream-terminate": { "dfnID": "transformstream-terminate", "dfnText": "terminate", "external": false, "refSections": [], "url": "#transformstream-terminate" },
                "transformstream-writable": { "dfnID": "transformstream-writable", "dfnText": "[[writable]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-transformstream-writable" }], "title": "6.2.2. Internal slots" }, { "refs": [{ "id": "ref-for-transformstream-writable\u2460" }], "title": "6.2.4. Constructor and properties" }, { "refs": [{ "id": "ref-for-transformstream-writable\u2461" }, { "id": "ref-for-transformstream-writable\u2462" }], "title": "6.2.5. Transfer via postMessage()" }, { "refs": [{ "id": "ref-for-transformstream-writable\u2463" }, { "id": "ref-for-transformstream-writable\u2464" }], "title": "6.4.1. Working with transform streams" }, { "refs": [{ "id": "ref-for-transformstream-writable\u2465" }, { "id": "ref-for-transformstream-writable\u2466" }], "title": "6.4.3. Default sinks" }, { "refs": [{ "id": "ref-for-transformstream-writable\u2467" }], "title": "6.4.4. Default sources" }, { "refs": [{ "id": "ref-for-transformstream-writable\u2468" }], "title": "9.3.2. Wrapping into a custom class" }, { "refs": [{ "id": "ref-for-transformstream-writable\u2460\u24ea" }, { "id": "ref-for-transformstream-writable\u2460\u2460" }], "title": "9.5. Piping" }], "url": "#transformstream-writable" },
                "transformstreamdefaultcontroller": { "dfnID": "transformstreamdefaultcontroller", "dfnText": "TransformStreamDefaultController", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-transformstreamdefaultcontroller" }], "title": "6.2.2. Internal slots" }, { "refs": [{ "id": "ref-for-transformstreamdefaultcontroller\u2460" }, { "id": "ref-for-transformstreamdefaultcontroller\u2461" }, { "id": "ref-for-transformstreamdefaultcontroller\u2462" }, { "id": "ref-for-transformstreamdefaultcontroller\u2463" }], "title": "6.2.3. The transformer API" }, { "refs": [{ "id": "ref-for-transformstreamdefaultcontroller\u2464" }, { "id": "ref-for-transformstreamdefaultcontroller\u2465" }, { "id": "ref-for-transformstreamdefaultcontroller\u2466" }], "title": "6.3. The TransformStreamDefaultController class" }, { "refs": [{ "id": "ref-for-transformstreamdefaultcontroller\u2467" }], "title": "6.3.1. Interface definition" }, { "refs": [{ "id": "ref-for-transformstreamdefaultcontroller\u2468" }], "title": "6.3.2. Internal slots" }, { "refs": [{ "id": "ref-for-transformstreamdefaultcontroller\u2460\u24ea" }, { "id": "ref-for-transformstreamdefaultcontroller\u2460\u2460" }], "title": "6.4.2. Default controllers" }, { "refs": [{ "id": "ref-for-transformstreamdefaultcontroller\u2460\u2461" }], "title": "9.3.1. Creation and manipulation" }], "url": "#transformstreamdefaultcontroller" },
                "transformstreamdefaultcontroller-cancelalgorithm": { "dfnID": "transformstreamdefaultcontroller-cancelalgorithm", "dfnText": "[[cancelAlgorithm]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-transformstreamdefaultcontroller-cancelalgorithm" }], "title": "6.3.2. Internal slots" }, { "refs": [{ "id": "ref-for-transformstreamdefaultcontroller-cancelalgorithm\u2460" }, { "id": "ref-for-transformstreamdefaultcontroller-cancelalgorithm\u2461" }], "title": "6.4.2. Default controllers" }, { "refs": [{ "id": "ref-for-transformstreamdefaultcontroller-cancelalgorithm\u2462" }], "title": "6.4.3. Default sinks" }, { "refs": [{ "id": "ref-for-transformstreamdefaultcontroller-cancelalgorithm\u2463" }], "title": "6.4.4. Default sources" }], "url": "#transformstreamdefaultcontroller-cancelalgorithm" },
                "transformstreamdefaultcontroller-finishpromise": { "dfnID": "transformstreamdefaultcontroller-finishpromise", "dfnText": "[[finishPromise]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-transformstreamdefaultcontroller-finishpromise" }, { "id": "ref-for-transformstreamdefaultcontroller-finishpromise\u2460" }, { "id": "ref-for-transformstreamdefaultcontroller-finishpromise\u2461" }, { "id": "ref-for-transformstreamdefaultcontroller-finishpromise\u2462" }, { "id": "ref-for-transformstreamdefaultcontroller-finishpromise\u2463" }, { "id": "ref-for-transformstreamdefaultcontroller-finishpromise\u2464" }, { "id": "ref-for-transformstreamdefaultcontroller-finishpromise\u2465" }, { "id": "ref-for-transformstreamdefaultcontroller-finishpromise\u2466" }, { "id": "ref-for-transformstreamdefaultcontroller-finishpromise\u2467" }, { "id": "ref-for-transformstreamdefaultcontroller-finishpromise\u2468" }, { "id": "ref-for-transformstreamdefaultcontroller-finishpromise\u2460\u24ea" }, { "id": "ref-for-transformstreamdefaultcontroller-finishpromise\u2460\u2460" }, { "id": "ref-for-transformstreamdefaultcontroller-finishpromise\u2460\u2461" }, { "id": "ref-for-transformstreamdefaultcontroller-finishpromise\u2460\u2462" }], "title": "6.4.3. Default sinks" }, { "refs": [{ "id": "ref-for-transformstreamdefaultcontroller-finishpromise\u2460\u2463" }, { "id": "ref-for-transformstreamdefaultcontroller-finishpromise\u2460\u2464" }, { "id": "ref-for-transformstreamdefaultcontroller-finishpromise\u2460\u2465" }, { "id": "ref-for-transformstreamdefaultcontroller-finishpromise\u2460\u2466" }, { "id": "ref-for-transformstreamdefaultcontroller-finishpromise\u2460\u2467" }, { "id": "ref-for-transformstreamdefaultcontroller-finishpromise\u2460\u2468" }, { "id": "ref-for-transformstreamdefaultcontroller-finishpromise\u2461\u24ea" }], "title": "6.4.4. Default sources" }], "url": "#transformstreamdefaultcontroller-finishpromise" },
                "transformstreamdefaultcontroller-flushalgorithm": { "dfnID": "transformstreamdefaultcontroller-flushalgorithm", "dfnText": "[[flushAlgorithm]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-transformstreamdefaultcontroller-flushalgorithm" }], "title": "6.3.2. Internal slots" }, { "refs": [{ "id": "ref-for-transformstreamdefaultcontroller-flushalgorithm\u2460" }, { "id": "ref-for-transformstreamdefaultcontroller-flushalgorithm\u2461" }], "title": "6.4.2. Default controllers" }, { "refs": [{ "id": "ref-for-transformstreamdefaultcontroller-flushalgorithm\u2462" }], "title": "6.4.3. Default sinks" }], "url": "#transformstreamdefaultcontroller-flushalgorithm" },
                "transformstreamdefaultcontroller-stream": { "dfnID": "transformstreamdefaultcontroller-stream", "dfnText": "[[stream]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-transformstreamdefaultcontroller-stream" }], "title": "6.3.3. Methods and properties" }, { "refs": [{ "id": "ref-for-transformstreamdefaultcontroller-stream\u2460" }, { "id": "ref-for-transformstreamdefaultcontroller-stream\u2461" }, { "id": "ref-for-transformstreamdefaultcontroller-stream\u2462" }, { "id": "ref-for-transformstreamdefaultcontroller-stream\u2463" }, { "id": "ref-for-transformstreamdefaultcontroller-stream\u2464" }], "title": "6.4.2. Default controllers" }], "url": "#transformstreamdefaultcontroller-stream" },
                "transformstreamdefaultcontroller-transformalgorithm": { "dfnID": "transformstreamdefaultcontroller-transformalgorithm", "dfnText": "[[transformAlgorithm]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-transformstreamdefaultcontroller-transformalgorithm" }, { "id": "ref-for-transformstreamdefaultcontroller-transformalgorithm\u2460" }, { "id": "ref-for-transformstreamdefaultcontroller-transformalgorithm\u2461" }], "title": "6.4.2. Default controllers" }], "url": "#transformstreamdefaultcontroller-transformalgorithm" },
                "ts-constructor": { "dfnID": "ts-constructor", "dfnText": "new TransformStream(transformer, writableStrategy,\n readableStrategy)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ts-constructor" }], "title": "2.3. Transform streams" }, { "refs": [{ "id": "ref-for-ts-constructor\u2460" }], "title": "6.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-ts-constructor\u2461" }, { "id": "ref-for-ts-constructor\u2462" }], "title": "6.2.3. The transformer API" }, { "refs": [{ "id": "ref-for-ts-constructor\u2463" }], "title": "6.2.4. Constructor and properties" }, { "refs": [{ "id": "ref-for-ts-constructor\u2464" }], "title": "7.1. The queuing strategy API" }], "url": "#ts-constructor" },
                "ts-default-controller-desired-size": { "dfnID": "ts-default-controller-desired-size", "dfnText": "desiredSize", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ts-default-controller-desired-size" }], "title": "6.3.1. Interface definition" }, { "refs": [{ "id": "ref-for-ts-default-controller-desired-size\u2460" }], "title": "6.3.3. Methods and properties" }], "url": "#ts-default-controller-desired-size" },
                "ts-default-controller-enqueue": { "dfnID": "ts-default-controller-enqueue", "dfnText": "enqueue(chunk)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ts-default-controller-enqueue" }, { "id": "ref-for-ts-default-controller-enqueue\u2460" }, { "id": "ref-for-ts-default-controller-enqueue\u2461" }], "title": "6.2.3. The transformer API" }, { "refs": [{ "id": "ref-for-ts-default-controller-enqueue\u2462" }], "title": "6.3.1. Interface definition" }, { "refs": [{ "id": "ref-for-ts-default-controller-enqueue\u2463" }], "title": "6.3.3. Methods and properties" }], "url": "#ts-default-controller-enqueue" },
                "ts-default-controller-error": { "dfnID": "ts-default-controller-error", "dfnText": "error(e)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ts-default-controller-error" }], "title": "6.3.1. Interface definition" }, { "refs": [{ "id": "ref-for-ts-default-controller-error\u2460" }], "title": "6.3.3. Methods and properties" }], "url": "#ts-default-controller-error" },
                "ts-default-controller-terminate": { "dfnID": "ts-default-controller-terminate", "dfnText": "terminate()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ts-default-controller-terminate" }, { "id": "ref-for-ts-default-controller-terminate\u2460" }], "title": "6.2.3. The transformer API" }, { "refs": [{ "id": "ref-for-ts-default-controller-terminate\u2461" }], "title": "6.3.1. Interface definition" }, { "refs": [{ "id": "ref-for-ts-default-controller-terminate\u2462" }], "title": "6.3.3. Methods and properties" }], "url": "#ts-default-controller-terminate" },
                "ts-readable": { "dfnID": "ts-readable", "dfnText": "readable", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ts-readable" }], "title": "6.1. Using transform streams" }, { "refs": [{ "id": "ref-for-ts-readable\u2460" }], "title": "6.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-ts-readable\u2461" }], "title": "6.2.4. Constructor and properties" }], "url": "#ts-readable" },
                "ts-writable": { "dfnID": "ts-writable", "dfnText": "writable", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ts-writable" }], "title": "6.1. Using transform streams" }, { "refs": [{ "id": "ref-for-ts-writable\u2460" }], "title": "6.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-ts-writable\u2461" }], "title": "6.2.4. Constructor and properties" }], "url": "#ts-writable" },
                "typedefdef-readablestreamcontroller": { "dfnID": "typedefdef-readablestreamcontroller", "dfnText": "ReadableStreamController", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedefdef-readablestreamcontroller" }, { "id": "ref-for-typedefdef-readablestreamcontroller\u2460" }], "title": "4.2.3. The underlying source API" }], "url": "#typedefdef-readablestreamcontroller" },
                "typedefdef-readablestreamreader": { "dfnID": "typedefdef-readablestreamreader", "dfnText": "ReadableStreamReader", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedefdef-readablestreamreader" }], "title": "4.2.1. Interface definition" }], "url": "#typedefdef-readablestreamreader" },
                "ultimate-sink": { "dfnID": "ultimate-sink", "dfnText": "ultimate sink", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ultimate-sink" }], "title": "2.4. Pipe chains and backpressure" }], "url": "#ultimate-sink" },
                "underlying-byte-source": { "dfnID": "underlying-byte-source", "dfnText": "underlying byte source", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-underlying-byte-source" }, { "id": "ref-for-underlying-byte-source\u2460" }, { "id": "ref-for-underlying-byte-source\u2461" }, { "id": "ref-for-underlying-byte-source\u2462" }, { "id": "ref-for-underlying-byte-source\u2463" }, { "id": "ref-for-underlying-byte-source\u2464" }, { "id": "ref-for-underlying-byte-source\u2465" }, { "id": "ref-for-underlying-byte-source\u2466" }, { "id": "ref-for-underlying-byte-source\u2467" }, { "id": "ref-for-underlying-byte-source\u2468" }, { "id": "ref-for-underlying-byte-source\u2460\u24ea" }], "title": "4.7.2. Internal slots" }, { "refs": [{ "id": "ref-for-underlying-byte-source\u2460\u2460" }], "title": "4.7.3. Methods and properties" }, { "refs": [{ "id": "ref-for-underlying-byte-source\u2460\u2461" }], "title": "4.8.3. Methods and properties" }, { "refs": [{ "id": "ref-for-underlying-byte-source\u2460\u2462" }], "title": "4.9.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-underlying-byte-source\u2460\u2463" }], "title": "4.9.5. Byte stream controllers" }, { "refs": [{ "id": "ref-for-underlying-byte-source\u2460\u2464" }], "title": "9.1.1. Creation and manipulation" }, { "refs": [{ "id": "ref-for-underlying-byte-source\u2460\u2465" }], "title": "10.5. A readable byte stream with an underlying pull source" }], "url": "#underlying-byte-source" },
                "underlying-sink": { "dfnID": "underlying-sink", "dfnText": "underlying sink", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-underlying-sink" }, { "id": "ref-for-underlying-sink\u2460" }], "title": "2.2. Writable streams" }, { "refs": [{ "id": "ref-for-underlying-sink\u2461" }], "title": "2.4. Pipe chains and backpressure" }, { "refs": [{ "id": "ref-for-underlying-sink\u2462" }], "title": "2.5. Internal queues and queuing strategies" }, { "refs": [{ "id": "ref-for-underlying-sink\u2463" }], "title": "4.2.3. The underlying source API" }, { "refs": [{ "id": "ref-for-underlying-sink\u2464" }, { "id": "ref-for-underlying-sink\u2465" }, { "id": "ref-for-underlying-sink\u2466" }], "title": "5.1. Using writable streams" }, { "refs": [{ "id": "ref-for-underlying-sink\u2467" }, { "id": "ref-for-underlying-sink\u2468" }, { "id": "ref-for-underlying-sink\u2460\u24ea" }], "title": "5.2.2. Internal slots" }, { "refs": [{ "id": "ref-for-underlying-sink\u2460\u2460" }, { "id": "ref-for-underlying-sink\u2460\u2461" }, { "id": "ref-for-underlying-sink\u2460\u2462" }, { "id": "ref-for-underlying-sink\u2460\u2463" }, { "id": "ref-for-underlying-sink\u2460\u2464" }, { "id": "ref-for-underlying-sink\u2460\u2465" }], "title": "5.2.3. The underlying sink API" }, { "refs": [{ "id": "ref-for-underlying-sink\u2460\u2466" }, { "id": "ref-for-underlying-sink\u2460\u2467" }, { "id": "ref-for-underlying-sink\u2460\u2468" }], "title": "5.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-underlying-sink\u2461\u24ea" }, { "id": "ref-for-underlying-sink\u2461\u2460" }, { "id": "ref-for-underlying-sink\u2461\u2461" }], "title": "5.3.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-underlying-sink\u2461\u2462" }], "title": "5.4. The WritableStreamDefaultController class" }, { "refs": [{ "id": "ref-for-underlying-sink\u2461\u2463" }, { "id": "ref-for-underlying-sink\u2461\u2464" }, { "id": "ref-for-underlying-sink\u2461\u2465" }, { "id": "ref-for-underlying-sink\u2461\u2466" }, { "id": "ref-for-underlying-sink\u2461\u2467" }], "title": "5.4.2. Internal slots" }, { "refs": [{ "id": "ref-for-underlying-sink\u2461\u2468" }, { "id": "ref-for-underlying-sink\u2462\u24ea" }], "title": "5.4.3. Methods and properties" }, { "refs": [{ "id": "ref-for-underlying-sink\u2462\u2460" }], "title": "5.5.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-underlying-sink\u2462\u2461" }], "title": "5.5.4. Default controllers" }, { "refs": [{ "id": "ref-for-underlying-sink\u2462\u2462" }], "title": "6.4.3. Default sinks" }, { "refs": [{ "id": "ref-for-underlying-sink\u2462\u2463" }], "title": "7.2. The ByteLengthQueuingStrategy class" }, { "refs": [{ "id": "ref-for-underlying-sink\u2462\u2464" }], "title": "7.3. The CountQueuingStrategy class" }, { "refs": [{ "id": "ref-for-underlying-sink\u2462\u2465" }, { "id": "ref-for-underlying-sink\u2462\u2466" }], "title": "9.2.1. Creation and manipulation" }, { "refs": [{ "id": "ref-for-underlying-sink\u2462\u2467" }], "title": "10.7. A writable stream with backpressure and success signals" }], "url": "#underlying-sink" },
                "underlying-source": { "dfnID": "underlying-source", "dfnText": "underlying source", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-underlying-source" }, { "id": "ref-for-underlying-source\u2460" }, { "id": "ref-for-underlying-source\u2461" }], "title": "2.1. Readable streams" }, { "refs": [{ "id": "ref-for-underlying-source\u2462" }, { "id": "ref-for-underlying-source\u2463" }], "title": "2.4. Pipe chains and backpressure" }, { "refs": [{ "id": "ref-for-underlying-source\u2464" }], "title": "2.5. Internal queues and queuing strategies" }, { "refs": [{ "id": "ref-for-underlying-source\u2465" }], "title": "4.2. The ReadableStream class" }, { "refs": [{ "id": "ref-for-underlying-source\u2466" }], "title": "4.2.3. The underlying source API" }, { "refs": [{ "id": "ref-for-underlying-source\u2467" }, { "id": "ref-for-underlying-source\u2468" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-underlying-source\u2460\u24ea" }], "title": "4.4.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-underlying-source\u2460\u2460" }], "title": "4.5.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-underlying-source\u2460\u2461" }], "title": "4.6. The ReadableStreamDefaultController class" }, { "refs": [{ "id": "ref-for-underlying-source\u2460\u2462" }, { "id": "ref-for-underlying-source\u2460\u2463" }, { "id": "ref-for-underlying-source\u2460\u2464" }, { "id": "ref-for-underlying-source\u2460\u2465" }, { "id": "ref-for-underlying-source\u2460\u2466" }, { "id": "ref-for-underlying-source\u2460\u2467" }, { "id": "ref-for-underlying-source\u2460\u2468" }], "title": "4.6.2. Internal slots" }, { "refs": [{ "id": "ref-for-underlying-source\u2461\u24ea" }], "title": "4.6.3. Methods and properties" }, { "refs": [{ "id": "ref-for-underlying-source\u2461\u2460" }], "title": "4.7. The ReadableByteStreamController class" }, { "refs": [{ "id": "ref-for-underlying-source\u2461\u2461" }, { "id": "ref-for-underlying-source\u2461\u2462" }, { "id": "ref-for-underlying-source\u2461\u2463" }], "title": "4.9.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-underlying-source\u2461\u2464" }], "title": "4.9.4. Default controllers" }, { "refs": [{ "id": "ref-for-underlying-source\u2461\u2465" }, { "id": "ref-for-underlying-source\u2461\u2466" }], "title": "4.9.5. Byte stream controllers" }, { "refs": [{ "id": "ref-for-underlying-source\u2461\u2467" }], "title": "6.4.4. Default sources" }, { "refs": [{ "id": "ref-for-underlying-source\u2461\u2468" }], "title": "7.1. The queuing strategy API" }, { "refs": [{ "id": "ref-for-underlying-source\u2462\u24ea" }], "title": "7.2. The ByteLengthQueuingStrategy class" }, { "refs": [{ "id": "ref-for-underlying-source\u2462\u2460" }], "title": "7.3. The CountQueuingStrategy class" }, { "refs": [{ "id": "ref-for-underlying-source\u2462\u2461" }], "title": "10.2. A readable stream with an underlying push source and backpressure support" }], "url": "#underlying-source" },
                "validate-and-normalize-high-water-mark": { "dfnID": "validate-and-normalize-high-water-mark", "dfnText": "ExtractHighWaterMark(strategy, defaultHWM)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-validate-and-normalize-high-water-mark" }, { "id": "ref-for-validate-and-normalize-high-water-mark\u2460" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-validate-and-normalize-high-water-mark\u2461" }], "title": "5.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-validate-and-normalize-high-water-mark\u2462" }, { "id": "ref-for-validate-and-normalize-high-water-mark\u2463" }], "title": "6.2.4. Constructor and properties" }], "url": "#validate-and-normalize-high-water-mark" },
                "value-with-size": { "dfnID": "value-with-size", "dfnText": "value-with-size", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-value-with-size" }, { "id": "ref-for-value-with-size\u2460" }], "title": "8.1. Queue-with-sizes" }], "url": "#value-with-size" },
                "value-with-size-size": { "dfnID": "value-with-size-size", "dfnText": "size", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-value-with-size-size" }, { "id": "ref-for-value-with-size-size\u2460" }], "title": "8.1. Queue-with-sizes" }], "url": "#value-with-size-size" },
                "value-with-size-value": { "dfnID": "value-with-size-value", "dfnText": "value", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-value-with-size-value" }, { "id": "ref-for-value-with-size-value\u2460" }, { "id": "ref-for-value-with-size-value\u2461" }], "title": "8.1. Queue-with-sizes" }], "url": "#value-with-size-value" },
                "writable-side": { "dfnID": "writable-side", "dfnText": "writable side", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writable-side" }], "title": "2.3. Transform streams" }, { "refs": [{ "id": "ref-for-writable-side\u2460" }], "title": "6.1. Using transform streams" }, { "refs": [{ "id": "ref-for-writable-side\u2461" }, { "id": "ref-for-writable-side\u2462" }, { "id": "ref-for-writable-side\u2463" }, { "id": "ref-for-writable-side\u2464" }], "title": "6.2.3. The transformer API" }, { "refs": [{ "id": "ref-for-writable-side\u2465" }, { "id": "ref-for-writable-side\u2466" }], "title": "6.2.4. Constructor and properties" }, { "refs": [{ "id": "ref-for-writable-side\u2467" }], "title": "6.2.5. Transfer via postMessage()" }, { "refs": [{ "id": "ref-for-writable-side\u2468" }, { "id": "ref-for-writable-side\u2460\u24ea" }, { "id": "ref-for-writable-side\u2460\u2460" }], "title": "6.3.3. Methods and properties" }, { "refs": [{ "id": "ref-for-writable-side\u2460\u2461" }], "title": "6.4.3. Default sinks" }, { "refs": [{ "id": "ref-for-writable-side\u2460\u2462" }], "title": "8.2. Transferable streams" }, { "refs": [{ "id": "ref-for-writable-side\u2460\u2463" }, { "id": "ref-for-writable-side\u2460\u2464" }], "title": "10.11. Using an identity transform stream as a primitive to create new readable streams" }], "url": "#writable-side" },
                "writable-stream": { "dfnID": "writable-stream", "dfnText": "writable stream", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writable-stream" }], "title": "1. Introduction" }, { "refs": [{ "id": "ref-for-writable-stream\u2460" }], "title": "2.3. Transform streams" }, { "refs": [{ "id": "ref-for-writable-stream\u2461" }], "title": "2.6. Locking" }, { "refs": [{ "id": "ref-for-writable-stream\u2462" }, { "id": "ref-for-writable-stream\u2463" }], "title": "4.1. Using readable streams" }, { "refs": [{ "id": "ref-for-writable-stream\u2464" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-writable-stream\u2465" }], "title": "5.2. The WritableStream class" }, { "refs": [{ "id": "ref-for-writable-stream\u2466" }], "title": "5.5.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-writable-stream\u2467" }, { "id": "ref-for-writable-stream\u2468" }, { "id": "ref-for-writable-stream\u2460\u24ea" }], "title": "6.1. Using transform streams" }, { "refs": [{ "id": "ref-for-writable-stream\u2460\u2460" }], "title": "7.2. The ByteLengthQueuingStrategy class" }, { "refs": [{ "id": "ref-for-writable-stream\u2460\u2461" }], "title": "7.3. The CountQueuingStrategy class" }, { "refs": [{ "id": "ref-for-writable-stream\u2460\u2462" }], "title": "9.4. Other stream pairs" }, { "refs": [{ "id": "ref-for-writable-stream\u2460\u2463" }], "title": "10.1. A readable stream with an underlying push source (no backpressure support)" }, { "refs": [{ "id": "ref-for-writable-stream\u2460\u2464" }], "title": "10.6. A writable stream with no backpressure or success signals" }, { "refs": [{ "id": "ref-for-writable-stream\u2460\u2465" }], "title": "10.7. A writable stream with backpressure and success signals" }], "url": "#writable-stream" },
                "writable-stream-abort": { "dfnID": "writable-stream-abort", "dfnText": "WritableStreamAbort(stream, reason)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writable-stream-abort" }, { "id": "ref-for-writable-stream-abort\u2460" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-writable-stream-abort\u2461" }, { "id": "ref-for-writable-stream-abort\u2462" }, { "id": "ref-for-writable-stream-abort\u2463" }], "title": "5.2.2. Internal slots" }, { "refs": [{ "id": "ref-for-writable-stream-abort\u2464" }], "title": "5.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-writable-stream-abort\u2465" }], "title": "5.5.3. Writers" }, { "refs": [{ "id": "ref-for-writable-stream-abort\u2466" }], "title": "9.2.2. Writing" }], "url": "#writable-stream-abort" },
                "writable-stream-add-write-request": { "dfnID": "writable-stream-add-write-request", "dfnText": "WritableStreamAddWriteRequest(stream)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writable-stream-add-write-request" }], "title": "5.5.3. Writers" }], "url": "#writable-stream-add-write-request" },
                "writable-stream-close": { "dfnID": "writable-stream-close", "dfnText": "WritableStreamClose(stream)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writable-stream-close" }], "title": "5.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-writable-stream-close\u2460" }], "title": "5.5.3. Writers" }, { "refs": [{ "id": "ref-for-writable-stream-close\u2461" }], "title": "9.2.2. Writing" }], "url": "#writable-stream-close" },
                "writable-stream-close-queued-or-in-flight": { "dfnID": "writable-stream-close-queued-or-in-flight", "dfnText": "WritableStreamCloseQueuedOrInFlight(stream)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writable-stream-close-queued-or-in-flight" }, { "id": "ref-for-writable-stream-close-queued-or-in-flight\u2460" }, { "id": "ref-for-writable-stream-close-queued-or-in-flight\u2461" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-writable-stream-close-queued-or-in-flight\u2462" }], "title": "5.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-writable-stream-close-queued-or-in-flight\u2463" }], "title": "5.3.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-writable-stream-close-queued-or-in-flight\u2464" }, { "id": "ref-for-writable-stream-close-queued-or-in-flight\u2465" }], "title": "5.5.1. Working with writable streams" }, { "refs": [{ "id": "ref-for-writable-stream-close-queued-or-in-flight\u2466" }], "title": "5.5.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-writable-stream-close-queued-or-in-flight\u2467" }, { "id": "ref-for-writable-stream-close-queued-or-in-flight\u2468" }], "title": "5.5.3. Writers" }, { "refs": [{ "id": "ref-for-writable-stream-close-queued-or-in-flight\u2460\u24ea" }, { "id": "ref-for-writable-stream-close-queued-or-in-flight\u2460\u2460" }], "title": "5.5.4. Default controllers" }], "url": "#writable-stream-close-queued-or-in-flight" },
                "writable-stream-deal-with-rejection": { "dfnID": "writable-stream-deal-with-rejection", "dfnText": "WritableStreamDealWithRejection(stream, error)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writable-stream-deal-with-rejection" }, { "id": "ref-for-writable-stream-deal-with-rejection\u2460" }], "title": "5.5.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-writable-stream-deal-with-rejection\u2461" }], "title": "5.5.4. Default controllers" }], "url": "#writable-stream-deal-with-rejection" },
                "writable-stream-default-controller-advance-queue-if-needed": { "dfnID": "writable-stream-default-controller-advance-queue-if-needed", "dfnText": "WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writable-stream-default-controller-advance-queue-if-needed" }, { "id": "ref-for-writable-stream-default-controller-advance-queue-if-needed\u2460" }, { "id": "ref-for-writable-stream-default-controller-advance-queue-if-needed\u2461" }, { "id": "ref-for-writable-stream-default-controller-advance-queue-if-needed\u2462" }], "title": "5.5.4. Default controllers" }], "url": "#writable-stream-default-controller-advance-queue-if-needed" },
                "writable-stream-default-controller-clear-algorithms": { "dfnID": "writable-stream-default-controller-clear-algorithms", "dfnText": "WritableStreamDefaultControllerClearAlgorithms(controller)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writable-stream-default-controller-clear-algorithms" }], "title": "5.4.4. Internal methods" }, { "refs": [{ "id": "ref-for-writable-stream-default-controller-clear-algorithms\u2460" }, { "id": "ref-for-writable-stream-default-controller-clear-algorithms\u2461" }, { "id": "ref-for-writable-stream-default-controller-clear-algorithms\u2462" }], "title": "5.5.4. Default controllers" }], "url": "#writable-stream-default-controller-clear-algorithms" },
                "writable-stream-default-controller-close": { "dfnID": "writable-stream-default-controller-close", "dfnText": "WritableStreamDefaultControllerClose(controller)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writable-stream-default-controller-close" }], "title": "5.5.1. Working with writable streams" }], "url": "#writable-stream-default-controller-close" },
                "writable-stream-default-controller-error": { "dfnID": "writable-stream-default-controller-error", "dfnText": "WritableStreamDefaultControllerError(controller,\n error)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writable-stream-default-controller-error" }], "title": "5.4.3. Methods and properties" }, { "refs": [{ "id": "ref-for-writable-stream-default-controller-error\u2460" }], "title": "5.5.4. Default controllers" }], "url": "#writable-stream-default-controller-error" },
                "writable-stream-default-controller-error-if-needed": { "dfnID": "writable-stream-default-controller-error-if-needed", "dfnText": "WritableStreamDefaultControllerErrorIfNeeded(controller,\n error)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writable-stream-default-controller-error-if-needed" }, { "id": "ref-for-writable-stream-default-controller-error-if-needed\u2460" }], "title": "5.5.4. Default controllers" }, { "refs": [{ "id": "ref-for-writable-stream-default-controller-error-if-needed\u2461" }], "title": "6.4.1. Working with transform streams" }, { "refs": [{ "id": "ref-for-writable-stream-default-controller-error-if-needed\u2462" }, { "id": "ref-for-writable-stream-default-controller-error-if-needed\u2463" }], "title": "6.4.4. Default sources" }, { "refs": [{ "id": "ref-for-writable-stream-default-controller-error-if-needed\u2464" }, { "id": "ref-for-writable-stream-default-controller-error-if-needed\u2465" }], "title": "8.2. Transferable streams" }, { "refs": [{ "id": "ref-for-writable-stream-default-controller-error-if-needed\u2466" }], "title": "9.2.1. Creation and manipulation" }], "url": "#writable-stream-default-controller-error-if-needed" },
                "writable-stream-default-controller-get-backpressure": { "dfnID": "writable-stream-default-controller-get-backpressure", "dfnText": "WritableStreamDefaultControllerGetBackpressure(controller)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writable-stream-default-controller-get-backpressure" }, { "id": "ref-for-writable-stream-default-controller-get-backpressure\u2460" }, { "id": "ref-for-writable-stream-default-controller-get-backpressure\u2461" }], "title": "5.5.4. Default controllers" }], "url": "#writable-stream-default-controller-get-backpressure" },
                "writable-stream-default-controller-get-chunk-size": { "dfnID": "writable-stream-default-controller-get-chunk-size", "dfnText": "WritableStreamDefaultControllerGetChunkSize(controller,\n chunk)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writable-stream-default-controller-get-chunk-size" }], "title": "5.5.3. Writers" }], "url": "#writable-stream-default-controller-get-chunk-size" },
                "writable-stream-default-controller-get-desired-size": { "dfnID": "writable-stream-default-controller-get-desired-size", "dfnText": "WritableStreamDefaultControllerGetDesiredSize(controller)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writable-stream-default-controller-get-desired-size" }], "title": "5.5.3. Writers" }, { "refs": [{ "id": "ref-for-writable-stream-default-controller-get-desired-size\u2460" }], "title": "5.5.4. Default controllers" }], "url": "#writable-stream-default-controller-get-desired-size" },
                "writable-stream-default-controller-process-close": { "dfnID": "writable-stream-default-controller-process-close", "dfnText": "WritableStreamDefaultControllerProcessClose(controller)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writable-stream-default-controller-process-close" }], "title": "5.5.4. Default controllers" }], "url": "#writable-stream-default-controller-process-close" },
                "writable-stream-default-controller-process-write": { "dfnID": "writable-stream-default-controller-process-write", "dfnText": "WritableStreamDefaultControllerProcessWrite(controller,\n chunk)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writable-stream-default-controller-process-write" }], "title": "5.5.4. Default controllers" }], "url": "#writable-stream-default-controller-process-write" },
                "writable-stream-default-controller-write": { "dfnID": "writable-stream-default-controller-write", "dfnText": "WritableStreamDefaultControllerWrite(controller,\n chunk, chunkSize)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writable-stream-default-controller-write" }], "title": "5.5.3. Writers" }], "url": "#writable-stream-default-controller-write" },
                "writable-stream-default-writer-abort": { "dfnID": "writable-stream-default-writer-abort", "dfnText": "WritableStreamDefaultWriterAbort(writer,\n reason)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writable-stream-default-writer-abort" }], "title": "5.3.3. Constructor, methods, and properties" }], "url": "#writable-stream-default-writer-abort" },
                "writable-stream-default-writer-close": { "dfnID": "writable-stream-default-writer-close", "dfnText": "WritableStreamDefaultWriterClose(writer)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writable-stream-default-writer-close" }], "title": "5.3.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-writable-stream-default-writer-close\u2460" }], "title": "5.5.3. Writers" }], "url": "#writable-stream-default-writer-close" },
                "writable-stream-default-writer-close-with-error-propagation": { "dfnID": "writable-stream-default-writer-close-with-error-propagation", "dfnText": "WritableStreamDefaultWriterCloseWithErrorPropagation(writer)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writable-stream-default-writer-close-with-error-propagation" }], "title": "4.9.1. Working with readable streams" }], "url": "#writable-stream-default-writer-close-with-error-propagation" },
                "writable-stream-default-writer-ensure-closed-promise-rejected": { "dfnID": "writable-stream-default-writer-ensure-closed-promise-rejected", "dfnText": "WritableStreamDefaultWriterEnsureClosedPromiseRejected(writer,\n error)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writable-stream-default-writer-ensure-closed-promise-rejected" }], "title": "5.5.3. Writers" }], "url": "#writable-stream-default-writer-ensure-closed-promise-rejected" },
                "writable-stream-default-writer-ensure-ready-promise-rejected": { "dfnID": "writable-stream-default-writer-ensure-ready-promise-rejected", "dfnText": "WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer,\n error)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writable-stream-default-writer-ensure-ready-promise-rejected" }], "title": "5.5.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-writable-stream-default-writer-ensure-ready-promise-rejected\u2460" }], "title": "5.5.3. Writers" }], "url": "#writable-stream-default-writer-ensure-ready-promise-rejected" },
                "writable-stream-default-writer-get-desired-size": { "dfnID": "writable-stream-default-writer-get-desired-size", "dfnText": "WritableStreamDefaultWriterGetDesiredSize(writer)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writable-stream-default-writer-get-desired-size" }, { "id": "ref-for-writable-stream-default-writer-get-desired-size\u2460" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-writable-stream-default-writer-get-desired-size\u2461" }], "title": "5.3.3. Constructor, methods, and properties" }], "url": "#writable-stream-default-writer-get-desired-size" },
                "writable-stream-default-writer-release": { "dfnID": "writable-stream-default-writer-release", "dfnText": "WritableStreamDefaultWriterRelease(writer)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writable-stream-default-writer-release" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-writable-stream-default-writer-release\u2460" }], "title": "5.3.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-writable-stream-default-writer-release\u2461" }], "title": "9.2.2. Writing" }], "url": "#writable-stream-default-writer-release" },
                "writable-stream-default-writer-write": { "dfnID": "writable-stream-default-writer-write", "dfnText": "WritableStreamDefaultWriterWrite(writer, chunk)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writable-stream-default-writer-write" }], "title": "5.3.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-writable-stream-default-writer-write\u2460" }], "title": "9.2.2. Writing" }], "url": "#writable-stream-default-writer-write" },
                "writable-stream-finish-erroring": { "dfnID": "writable-stream-finish-erroring", "dfnText": "WritableStreamFinishErroring(stream)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writable-stream-finish-erroring" }, { "id": "ref-for-writable-stream-finish-erroring\u2460" }], "title": "5.5.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-writable-stream-finish-erroring\u2461" }], "title": "5.5.4. Default controllers" }], "url": "#writable-stream-finish-erroring" },
                "writable-stream-finish-in-flight-close": { "dfnID": "writable-stream-finish-in-flight-close", "dfnText": "WritableStreamFinishInFlightClose(stream)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writable-stream-finish-in-flight-close" }], "title": "5.5.4. Default controllers" }], "url": "#writable-stream-finish-in-flight-close" },
                "writable-stream-finish-in-flight-close-with-error": { "dfnID": "writable-stream-finish-in-flight-close-with-error", "dfnText": "WritableStreamFinishInFlightCloseWithError(stream,\n error)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writable-stream-finish-in-flight-close-with-error" }], "title": "5.5.4. Default controllers" }], "url": "#writable-stream-finish-in-flight-close-with-error" },
                "writable-stream-finish-in-flight-write": { "dfnID": "writable-stream-finish-in-flight-write", "dfnText": "WritableStreamFinishInFlightWrite(stream)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writable-stream-finish-in-flight-write" }], "title": "5.5.4. Default controllers" }], "url": "#writable-stream-finish-in-flight-write" },
                "writable-stream-finish-in-flight-write-with-error": { "dfnID": "writable-stream-finish-in-flight-write-with-error", "dfnText": "WritableStreamFinishInFlightWriteWithError(stream,\n error)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writable-stream-finish-in-flight-write-with-error" }], "title": "5.5.4. Default controllers" }], "url": "#writable-stream-finish-in-flight-write-with-error" },
                "writable-stream-has-operation-marked-in-flight": { "dfnID": "writable-stream-has-operation-marked-in-flight", "dfnText": "WritableStreamHasOperationMarkedInFlight(stream)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writable-stream-has-operation-marked-in-flight" }, { "id": "ref-for-writable-stream-has-operation-marked-in-flight\u2460" }], "title": "5.5.2. Interfacing with controllers" }], "url": "#writable-stream-has-operation-marked-in-flight" },
                "writable-stream-mark-close-request-in-flight": { "dfnID": "writable-stream-mark-close-request-in-flight", "dfnText": "WritableStreamMarkCloseRequestInFlight(stream)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writable-stream-mark-close-request-in-flight" }], "title": "5.5.4. Default controllers" }], "url": "#writable-stream-mark-close-request-in-flight" },
                "writable-stream-mark-first-write-request-in-flight": { "dfnID": "writable-stream-mark-first-write-request-in-flight", "dfnText": "WritableStreamMarkFirstWriteRequestInFlight(stream)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writable-stream-mark-first-write-request-in-flight" }], "title": "5.5.4. Default controllers" }], "url": "#writable-stream-mark-first-write-request-in-flight" },
                "writable-stream-reject-close-and-closed-promise-if-needed": { "dfnID": "writable-stream-reject-close-and-closed-promise-if-needed", "dfnText": "WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writable-stream-reject-close-and-closed-promise-if-needed" }, { "id": "ref-for-writable-stream-reject-close-and-closed-promise-if-needed\u2460" }, { "id": "ref-for-writable-stream-reject-close-and-closed-promise-if-needed\u2461" }, { "id": "ref-for-writable-stream-reject-close-and-closed-promise-if-needed\u2462" }], "title": "5.5.2. Interfacing with controllers" }], "url": "#writable-stream-reject-close-and-closed-promise-if-needed" },
                "writable-stream-start-erroring": { "dfnID": "writable-stream-start-erroring", "dfnText": "WritableStreamStartErroring(stream, reason)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writable-stream-start-erroring" }], "title": "5.5.1. Working with writable streams" }, { "refs": [{ "id": "ref-for-writable-stream-start-erroring\u2460" }], "title": "5.5.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-writable-stream-start-erroring\u2461" }], "title": "5.5.4. Default controllers" }], "url": "#writable-stream-start-erroring" },
                "writable-stream-update-backpressure": { "dfnID": "writable-stream-update-backpressure", "dfnText": "WritableStreamUpdateBackpressure(stream,\n backpressure)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writable-stream-update-backpressure" }, { "id": "ref-for-writable-stream-update-backpressure\u2460" }, { "id": "ref-for-writable-stream-update-backpressure\u2461" }], "title": "5.5.4. Default controllers" }], "url": "#writable-stream-update-backpressure" },
                "writablestream": { "dfnID": "writablestream", "dfnText": "WritableStream", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writablestream" }], "title": "2.2. Writable streams" }, { "refs": [{ "id": "ref-for-writablestream\u2460" }, { "id": "ref-for-writablestream\u2461" }], "title": "4.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-writablestream\u2462" }, { "id": "ref-for-writablestream\u2463" }], "title": "4.2.3. The underlying source API" }, { "refs": [{ "id": "ref-for-writablestream\u2464" }], "title": "4.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-writablestream\u2465" }], "title": "4.2.6. Transfer via postMessage()" }, { "refs": [{ "id": "ref-for-writablestream\u2466" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-writablestream\u2467" }, { "id": "ref-for-writablestream\u2468" }], "title": "5.2. The WritableStream class" }, { "refs": [{ "id": "ref-for-writablestream\u2460\u24ea" }], "title": "5.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-writablestream\u2460\u2460" }], "title": "5.2.2. Internal slots" }, { "refs": [{ "id": "ref-for-writablestream\u2460\u2461" }], "title": "5.2.3. The underlying sink API" }, { "refs": [{ "id": "ref-for-writablestream\u2460\u2462" }], "title": "5.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-writablestream\u2460\u2463" }, { "id": "ref-for-writablestream\u2460\u2464" }], "title": "5.2.5. Transfer via postMessage()" }, { "refs": [{ "id": "ref-for-writablestream\u2460\u2465" }], "title": "5.3. The WritableStreamDefaultWriter class" }, { "refs": [{ "id": "ref-for-writablestream\u2460\u2466" }], "title": "5.3.1. Interface definition" }, { "refs": [{ "id": "ref-for-writablestream\u2460\u2467" }], "title": "5.3.2. Internal slots" }, { "refs": [{ "id": "ref-for-writablestream\u2460\u2468" }, { "id": "ref-for-writablestream\u2461\u24ea" }], "title": "5.4. The WritableStreamDefaultController class" }, { "refs": [{ "id": "ref-for-writablestream\u2461\u2460" }], "title": "5.4.2. Internal slots" }, { "refs": [{ "id": "ref-for-writablestream\u2461\u2461" }, { "id": "ref-for-writablestream\u2461\u2462" }], "title": "5.5.1. Working with writable streams" }, { "refs": [{ "id": "ref-for-writablestream\u2461\u2463" }, { "id": "ref-for-writablestream\u2461\u2464" }, { "id": "ref-for-writablestream\u2461\u2465" }, { "id": "ref-for-writablestream\u2461\u2466" }], "title": "5.5.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-writablestream\u2461\u2467" }, { "id": "ref-for-writablestream\u2461\u2468" }], "title": "5.5.4. Default controllers" }, { "refs": [{ "id": "ref-for-writablestream\u2462\u24ea" }], "title": "6.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-writablestream\u2462\u2460" }], "title": "6.2.2. Internal slots" }, { "refs": [{ "id": "ref-for-writablestream\u2462\u2461" }, { "id": "ref-for-writablestream\u2462\u2462" }], "title": "6.2.4. Constructor and properties" }, { "refs": [{ "id": "ref-for-writablestream\u2462\u2463" }], "title": "6.3. The TransformStreamDefaultController class" }, { "refs": [{ "id": "ref-for-writablestream\u2462\u2464" }, { "id": "ref-for-writablestream\u2462\u2465" }, { "id": "ref-for-writablestream\u2462\u2466" }, { "id": "ref-for-writablestream\u2462\u2467" }, { "id": "ref-for-writablestream\u2462\u2468" }, { "id": "ref-for-writablestream\u2463\u24ea" }, { "id": "ref-for-writablestream\u2463\u2460" }, { "id": "ref-for-writablestream\u2463\u2461" }], "title": "9.2.1. Creation and manipulation" }, { "refs": [{ "id": "ref-for-writablestream\u2463\u2462" }, { "id": "ref-for-writablestream\u2463\u2463" }, { "id": "ref-for-writablestream\u2463\u2464" }, { "id": "ref-for-writablestream\u2463\u2465" }], "title": "9.2.2. Writing" }, { "refs": [{ "id": "ref-for-writablestream\u2463\u2466" }], "title": "9.3.2. Wrapping into a custom class" }, { "refs": [{ "id": "ref-for-writablestream\u2463\u2467" }], "title": "9.5. Piping" }, { "refs": [{ "id": "ref-for-writablestream\u2463\u2468" }], "title": "10. Examples of creating streams" }], "url": "#writablestream" },
                "writablestream-abort": { "dfnID": "writablestream-abort", "dfnText": "abort", "external": false, "refSections": [], "url": "#writablestream-abort" },
                "writablestream-backpressure": { "dfnID": "writablestream-backpressure", "dfnText": "[[backpressure]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writablestream-backpressure" }, { "id": "ref-for-writablestream-backpressure\u2460" }, { "id": "ref-for-writablestream-backpressure\u2461" }], "title": "5.5.1. Working with writable streams" }, { "refs": [{ "id": "ref-for-writablestream-backpressure\u2462" }, { "id": "ref-for-writablestream-backpressure\u2463" }], "title": "5.5.2. Interfacing with controllers" }], "url": "#writablestream-backpressure" },
                "writablestream-close": { "dfnID": "writablestream-close", "dfnText": "close", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writablestream-close" }], "title": "9.4.1. Duplex streams" }], "url": "#writablestream-close" },
                "writablestream-closerequest": { "dfnID": "writablestream-closerequest", "dfnText": "[[closeRequest]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writablestream-closerequest" }], "title": "5.2.2. Internal slots" }, { "refs": [{ "id": "ref-for-writablestream-closerequest\u2460" }, { "id": "ref-for-writablestream-closerequest\u2461" }], "title": "5.5.1. Working with writable streams" }, { "refs": [{ "id": "ref-for-writablestream-closerequest\u2462" }, { "id": "ref-for-writablestream-closerequest\u2463" }, { "id": "ref-for-writablestream-closerequest\u2464" }, { "id": "ref-for-writablestream-closerequest\u2465" }, { "id": "ref-for-writablestream-closerequest\u2466" }, { "id": "ref-for-writablestream-closerequest\u2467" }, { "id": "ref-for-writablestream-closerequest\u2468" }], "title": "5.5.2. Interfacing with controllers" }], "url": "#writablestream-closerequest" },
                "writablestream-controller": { "dfnID": "writablestream-controller", "dfnText": "[[controller]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writablestream-controller" }, { "id": "ref-for-writablestream-controller\u2460" }, { "id": "ref-for-writablestream-controller\u2461" }], "title": "5.5.1. Working with writable streams" }, { "refs": [{ "id": "ref-for-writablestream-controller\u2462" }, { "id": "ref-for-writablestream-controller\u2463" }, { "id": "ref-for-writablestream-controller\u2464" }], "title": "5.5.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-writablestream-controller\u2465" }, { "id": "ref-for-writablestream-controller\u2466" }], "title": "5.5.3. Writers" }, { "refs": [{ "id": "ref-for-writablestream-controller\u2467" }, { "id": "ref-for-writablestream-controller\u2468" }], "title": "5.5.4. Default controllers" }, { "refs": [{ "id": "ref-for-writablestream-controller\u2460\u24ea" }], "title": "6.4.1. Working with transform streams" }, { "refs": [{ "id": "ref-for-writablestream-controller\u2460\u2460" }, { "id": "ref-for-writablestream-controller\u2460\u2461" }], "title": "6.4.4. Default sources" }, { "refs": [{ "id": "ref-for-writablestream-controller\u2460\u2462" }, { "id": "ref-for-writablestream-controller\u2460\u2463" }], "title": "9.2.1. Creation and manipulation" }], "url": "#writablestream-controller" },
                "writablestream-detached": { "dfnID": "writablestream-detached", "dfnText": "[[Detached]]", "external": false, "refSections": [], "url": "#writablestream-detached" },
                "writablestream-error": { "dfnID": "writablestream-error", "dfnText": "error", "external": false, "refSections": [], "url": "#writablestream-error" },
                "writablestream-get-a-writer": { "dfnID": "writablestream-get-a-writer", "dfnText": "get a writer", "external": false, "refSections": [], "url": "#writablestream-get-a-writer" },
                "writablestream-inflightcloserequest": { "dfnID": "writablestream-inflightcloserequest", "dfnText": "[[inFlightCloseRequest]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writablestream-inflightcloserequest" }], "title": "5.2.2. Internal slots" }, { "refs": [{ "id": "ref-for-writablestream-inflightcloserequest\u2460" }], "title": "5.5.1. Working with writable streams" }, { "refs": [{ "id": "ref-for-writablestream-inflightcloserequest\u2461" }, { "id": "ref-for-writablestream-inflightcloserequest\u2462" }, { "id": "ref-for-writablestream-inflightcloserequest\u2463" }, { "id": "ref-for-writablestream-inflightcloserequest\u2464" }, { "id": "ref-for-writablestream-inflightcloserequest\u2465" }, { "id": "ref-for-writablestream-inflightcloserequest\u2466" }, { "id": "ref-for-writablestream-inflightcloserequest\u2467" }, { "id": "ref-for-writablestream-inflightcloserequest\u2468" }, { "id": "ref-for-writablestream-inflightcloserequest\u2460\u24ea" }, { "id": "ref-for-writablestream-inflightcloserequest\u2460\u2460" }, { "id": "ref-for-writablestream-inflightcloserequest\u2460\u2461" }], "title": "5.5.2. Interfacing with controllers" }], "url": "#writablestream-inflightcloserequest" },
                "writablestream-inflightwriterequest": { "dfnID": "writablestream-inflightwriterequest", "dfnText": "[[inFlightWriteRequest]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writablestream-inflightwriterequest" }], "title": "5.2.2. Internal slots" }, { "refs": [{ "id": "ref-for-writablestream-inflightwriterequest\u2460" }], "title": "5.5.1. Working with writable streams" }, { "refs": [{ "id": "ref-for-writablestream-inflightwriterequest\u2461" }, { "id": "ref-for-writablestream-inflightwriterequest\u2462" }, { "id": "ref-for-writablestream-inflightwriterequest\u2463" }, { "id": "ref-for-writablestream-inflightwriterequest\u2464" }, { "id": "ref-for-writablestream-inflightwriterequest\u2465" }, { "id": "ref-for-writablestream-inflightwriterequest\u2466" }, { "id": "ref-for-writablestream-inflightwriterequest\u2467" }, { "id": "ref-for-writablestream-inflightwriterequest\u2468" }, { "id": "ref-for-writablestream-inflightwriterequest\u2460\u24ea" }], "title": "5.5.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-writablestream-inflightwriterequest\u2460\u2460" }], "title": "5.5.4. Default controllers" }], "url": "#writablestream-inflightwriterequest" },
                "writablestream-pendingabortrequest": { "dfnID": "writablestream-pendingabortrequest", "dfnText": "[[pendingAbortRequest]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writablestream-pendingabortrequest" }, { "id": "ref-for-writablestream-pendingabortrequest\u2460" }, { "id": "ref-for-writablestream-pendingabortrequest\u2461" }, { "id": "ref-for-writablestream-pendingabortrequest\u2462" }], "title": "5.5.1. Working with writable streams" }, { "refs": [{ "id": "ref-for-writablestream-pendingabortrequest\u2463" }, { "id": "ref-for-writablestream-pendingabortrequest\u2464" }, { "id": "ref-for-writablestream-pendingabortrequest\u2465" }, { "id": "ref-for-writablestream-pendingabortrequest\u2466" }, { "id": "ref-for-writablestream-pendingabortrequest\u2467" }, { "id": "ref-for-writablestream-pendingabortrequest\u2468" }, { "id": "ref-for-writablestream-pendingabortrequest\u2460\u24ea" }, { "id": "ref-for-writablestream-pendingabortrequest\u2460\u2460" }, { "id": "ref-for-writablestream-pendingabortrequest\u2460\u2461" }, { "id": "ref-for-writablestream-pendingabortrequest\u2460\u2462" }], "title": "5.5.2. Interfacing with controllers" }], "url": "#writablestream-pendingabortrequest" },
                "writablestream-set-up": { "dfnID": "writablestream-set-up", "dfnText": "set up", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writablestream-set-up" }, { "id": "ref-for-writablestream-set-up\u2460" }, { "id": "ref-for-writablestream-set-up\u2461" }, { "id": "ref-for-writablestream-set-up\u2462" }], "title": "9.2.1. Creation and manipulation" }], "url": "#writablestream-set-up" },
                "writablestream-set-up-abortalgorithm": { "dfnID": "writablestream-set-up-abortalgorithm", "dfnText": "abortAlgorithm", "external": false, "refSections": [], "url": "#writablestream-set-up-abortalgorithm" },
                "writablestream-set-up-closealgorithm": { "dfnID": "writablestream-set-up-closealgorithm", "dfnText": "closeAlgorithm", "external": false, "refSections": [], "url": "#writablestream-set-up-closealgorithm" },
                "writablestream-set-up-highwatermark": { "dfnID": "writablestream-set-up-highwatermark", "dfnText": "highWaterMark", "external": false, "refSections": [], "url": "#writablestream-set-up-highwatermark" },
                "writablestream-set-up-sizealgorithm": { "dfnID": "writablestream-set-up-sizealgorithm", "dfnText": "sizeAlgorithm", "external": false, "refSections": [], "url": "#writablestream-set-up-sizealgorithm" },
                "writablestream-set-up-writealgorithm": { "dfnID": "writablestream-set-up-writealgorithm", "dfnText": "writeAlgorithm", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writablestream-set-up-writealgorithm" }, { "id": "ref-for-writablestream-set-up-writealgorithm\u2460" }], "title": "9.2.1. Creation and manipulation" }], "url": "#writablestream-set-up-writealgorithm" },
                "writablestream-signal": { "dfnID": "writablestream-signal", "dfnText": "signal", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writablestream-signal" }, { "id": "ref-for-writablestream-signal\u2460" }], "title": "9.2.1. Creation and manipulation" }], "url": "#writablestream-signal" },
                "writablestream-state": { "dfnID": "writablestream-state", "dfnText": "[[state]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writablestream-state" }, { "id": "ref-for-writablestream-state\u2460" }, { "id": "ref-for-writablestream-state\u2461" }, { "id": "ref-for-writablestream-state\u2462" }, { "id": "ref-for-writablestream-state\u2463" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-writablestream-state\u2464" }], "title": "5.4.3. Methods and properties" }, { "refs": [{ "id": "ref-for-writablestream-state\u2465" }, { "id": "ref-for-writablestream-state\u2466" }, { "id": "ref-for-writablestream-state\u2467" }, { "id": "ref-for-writablestream-state\u2468" }, { "id": "ref-for-writablestream-state\u2460\u24ea" }], "title": "5.5.1. Working with writable streams" }, { "refs": [{ "id": "ref-for-writablestream-state\u2460\u2460" }, { "id": "ref-for-writablestream-state\u2460\u2461" }, { "id": "ref-for-writablestream-state\u2460\u2462" }, { "id": "ref-for-writablestream-state\u2460\u2463" }, { "id": "ref-for-writablestream-state\u2460\u2464" }, { "id": "ref-for-writablestream-state\u2460\u2465" }, { "id": "ref-for-writablestream-state\u2460\u2466" }, { "id": "ref-for-writablestream-state\u2460\u2467" }, { "id": "ref-for-writablestream-state\u2460\u2468" }, { "id": "ref-for-writablestream-state\u2461\u24ea" }, { "id": "ref-for-writablestream-state\u2461\u2460" }, { "id": "ref-for-writablestream-state\u2461\u2461" }, { "id": "ref-for-writablestream-state\u2461\u2462" }], "title": "5.5.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-writablestream-state\u2461\u2463" }, { "id": "ref-for-writablestream-state\u2461\u2464" }, { "id": "ref-for-writablestream-state\u2461\u2465" }], "title": "5.5.3. Writers" }, { "refs": [{ "id": "ref-for-writablestream-state\u2461\u2466" }, { "id": "ref-for-writablestream-state\u2461\u2467" }, { "id": "ref-for-writablestream-state\u2461\u2468" }, { "id": "ref-for-writablestream-state\u2462\u24ea" }, { "id": "ref-for-writablestream-state\u2462\u2460" }, { "id": "ref-for-writablestream-state\u2462\u2461" }, { "id": "ref-for-writablestream-state\u2462\u2462" }, { "id": "ref-for-writablestream-state\u2462\u2463" }, { "id": "ref-for-writablestream-state\u2462\u2464" }], "title": "5.5.4. Default controllers" }, { "refs": [{ "id": "ref-for-writablestream-state\u2462\u2465" }, { "id": "ref-for-writablestream-state\u2462\u2466" }], "title": "6.4.3. Default sinks" }, { "refs": [{ "id": "ref-for-writablestream-state\u2462\u2467" }], "title": "6.4.4. Default sources" }], "url": "#writablestream-state" },
                "writablestream-storederror": { "dfnID": "writablestream-storederror", "dfnText": "[[storedError]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writablestream-storederror" }, { "id": "ref-for-writablestream-storederror\u2460" }, { "id": "ref-for-writablestream-storederror\u2461" }], "title": "4.9.1. Working with readable streams" }, { "refs": [{ "id": "ref-for-writablestream-storederror\u2462" }, { "id": "ref-for-writablestream-storederror\u2463" }, { "id": "ref-for-writablestream-storederror\u2464" }], "title": "5.5.1. Working with writable streams" }, { "refs": [{ "id": "ref-for-writablestream-storederror\u2465" }, { "id": "ref-for-writablestream-storederror\u2466" }, { "id": "ref-for-writablestream-storederror\u2467" }, { "id": "ref-for-writablestream-storederror\u2468" }, { "id": "ref-for-writablestream-storederror\u2460\u24ea" }, { "id": "ref-for-writablestream-storederror\u2460\u2460" }, { "id": "ref-for-writablestream-storederror\u2460\u2461" }], "title": "5.5.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-writablestream-storederror\u2460\u2462" }, { "id": "ref-for-writablestream-storederror\u2460\u2463" }, { "id": "ref-for-writablestream-storederror\u2460\u2464" }], "title": "5.5.3. Writers" }, { "refs": [{ "id": "ref-for-writablestream-storederror\u2460\u2465" }], "title": "6.4.3. Default sinks" }, { "refs": [{ "id": "ref-for-writablestream-storederror\u2460\u2466" }], "title": "6.4.4. Default sources" }], "url": "#writablestream-storederror" },
                "writablestream-writer": { "dfnID": "writablestream-writer", "dfnText": "[[writer]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writablestream-writer" }], "title": "5.3.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-writablestream-writer\u2460" }, { "id": "ref-for-writablestream-writer\u2461" }, { "id": "ref-for-writablestream-writer\u2462" }, { "id": "ref-for-writablestream-writer\u2463" }], "title": "5.5.1. Working with writable streams" }, { "refs": [{ "id": "ref-for-writablestream-writer\u2464" }, { "id": "ref-for-writablestream-writer\u2465" }, { "id": "ref-for-writablestream-writer\u2466" }, { "id": "ref-for-writablestream-writer\u2467" }], "title": "5.5.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-writablestream-writer\u2468" }, { "id": "ref-for-writablestream-writer\u2460\u24ea" }], "title": "5.5.3. Writers" }], "url": "#writablestream-writer" },
                "writablestream-writerequests": { "dfnID": "writablestream-writerequests", "dfnText": "[[writeRequests]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writablestream-writerequests" }], "title": "5.2.2. Internal slots" }, { "refs": [{ "id": "ref-for-writablestream-writerequests\u2460" }], "title": "5.5.1. Working with writable streams" }, { "refs": [{ "id": "ref-for-writablestream-writerequests\u2461" }, { "id": "ref-for-writablestream-writerequests\u2462" }, { "id": "ref-for-writablestream-writerequests\u2463" }, { "id": "ref-for-writablestream-writerequests\u2464" }, { "id": "ref-for-writablestream-writerequests\u2465" }, { "id": "ref-for-writablestream-writerequests\u2466" }], "title": "5.5.2. Interfacing with controllers" }], "url": "#writablestream-writerequests" },
                "writablestreamdefaultcontroller": { "dfnID": "writablestreamdefaultcontroller", "dfnText": "WritableStreamDefaultController", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writablestreamdefaultcontroller" }], "title": "5.2.2. Internal slots" }, { "refs": [{ "id": "ref-for-writablestreamdefaultcontroller\u2460" }, { "id": "ref-for-writablestreamdefaultcontroller\u2461" }, { "id": "ref-for-writablestreamdefaultcontroller\u2462" }], "title": "5.2.3. The underlying sink API" }, { "refs": [{ "id": "ref-for-writablestreamdefaultcontroller\u2463" }, { "id": "ref-for-writablestreamdefaultcontroller\u2464" }, { "id": "ref-for-writablestreamdefaultcontroller\u2465" }], "title": "5.4. The WritableStreamDefaultController class" }, { "refs": [{ "id": "ref-for-writablestreamdefaultcontroller\u2466" }], "title": "5.4.1. Interface definition" }, { "refs": [{ "id": "ref-for-writablestreamdefaultcontroller\u2467" }], "title": "5.4.2. Internal slots" }, { "refs": [{ "id": "ref-for-writablestreamdefaultcontroller\u2468" }], "title": "5.4.4. Internal methods" }, { "refs": [{ "id": "ref-for-writablestreamdefaultcontroller\u2460\u24ea" }], "title": "5.5.1. Working with writable streams" }, { "refs": [{ "id": "ref-for-writablestreamdefaultcontroller\u2460\u2460" }, { "id": "ref-for-writablestreamdefaultcontroller\u2460\u2461" }], "title": "5.5.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-writablestreamdefaultcontroller\u2460\u2462" }, { "id": "ref-for-writablestreamdefaultcontroller\u2460\u2463" }], "title": "5.5.4. Default controllers" }, { "refs": [{ "id": "ref-for-writablestreamdefaultcontroller\u2460\u2464" }], "title": "8.2. Transferable streams" }, { "refs": [{ "id": "ref-for-writablestreamdefaultcontroller\u2460\u2465" }], "title": "9.2.1. Creation and manipulation" }], "url": "#writablestreamdefaultcontroller" },
                "writablestreamdefaultcontroller-abortalgorithm": { "dfnID": "writablestreamdefaultcontroller-abortalgorithm", "dfnText": "[[abortAlgorithm]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writablestreamdefaultcontroller-abortalgorithm" }], "title": "5.4.4. Internal methods" }, { "refs": [{ "id": "ref-for-writablestreamdefaultcontroller-abortalgorithm\u2460" }, { "id": "ref-for-writablestreamdefaultcontroller-abortalgorithm\u2461" }], "title": "5.5.4. Default controllers" }], "url": "#writablestreamdefaultcontroller-abortalgorithm" },
                "writablestreamdefaultcontroller-abortcontroller": { "dfnID": "writablestreamdefaultcontroller-abortcontroller", "dfnText": "[[abortController]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writablestreamdefaultcontroller-abortcontroller" }], "title": "5.4.3. Methods and properties" }, { "refs": [{ "id": "ref-for-writablestreamdefaultcontroller-abortcontroller\u2460" }], "title": "5.5.1. Working with writable streams" }, { "refs": [{ "id": "ref-for-writablestreamdefaultcontroller-abortcontroller\u2461" }], "title": "5.5.4. Default controllers" }, { "refs": [{ "id": "ref-for-writablestreamdefaultcontroller-abortcontroller\u2462" }], "title": "9.2.1. Creation and manipulation" }], "url": "#writablestreamdefaultcontroller-abortcontroller" },
                "writablestreamdefaultcontroller-closealgorithm": { "dfnID": "writablestreamdefaultcontroller-closealgorithm", "dfnText": "[[closeAlgorithm]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writablestreamdefaultcontroller-closealgorithm" }, { "id": "ref-for-writablestreamdefaultcontroller-closealgorithm\u2460" }, { "id": "ref-for-writablestreamdefaultcontroller-closealgorithm\u2461" }], "title": "5.5.4. Default controllers" }], "url": "#writablestreamdefaultcontroller-closealgorithm" },
                "writablestreamdefaultcontroller-queue": { "dfnID": "writablestreamdefaultcontroller-queue", "dfnText": "[[queue]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writablestreamdefaultcontroller-queue" }, { "id": "ref-for-writablestreamdefaultcontroller-queue\u2460" }], "title": "5.4.2. Internal slots" }, { "refs": [{ "id": "ref-for-writablestreamdefaultcontroller-queue\u2461" }, { "id": "ref-for-writablestreamdefaultcontroller-queue\u2462" }], "title": "5.5.4. Default controllers" }], "url": "#writablestreamdefaultcontroller-queue" },
                "writablestreamdefaultcontroller-queuetotalsize": { "dfnID": "writablestreamdefaultcontroller-queuetotalsize", "dfnText": "[[queueTotalSize]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writablestreamdefaultcontroller-queuetotalsize" }], "title": "5.5.4. Default controllers" }], "url": "#writablestreamdefaultcontroller-queuetotalsize" },
                "writablestreamdefaultcontroller-started": { "dfnID": "writablestreamdefaultcontroller-started", "dfnText": "[[started]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writablestreamdefaultcontroller-started" }], "title": "5.5.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-writablestreamdefaultcontroller-started\u2460" }, { "id": "ref-for-writablestreamdefaultcontroller-started\u2461" }, { "id": "ref-for-writablestreamdefaultcontroller-started\u2462" }, { "id": "ref-for-writablestreamdefaultcontroller-started\u2463" }], "title": "5.5.4. Default controllers" }], "url": "#writablestreamdefaultcontroller-started" },
                "writablestreamdefaultcontroller-strategyhwm": { "dfnID": "writablestreamdefaultcontroller-strategyhwm", "dfnText": "[[strategyHWM]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writablestreamdefaultcontroller-strategyhwm" }, { "id": "ref-for-writablestreamdefaultcontroller-strategyhwm\u2460" }], "title": "5.5.4. Default controllers" }], "url": "#writablestreamdefaultcontroller-strategyhwm" },
                "writablestreamdefaultcontroller-strategysizealgorithm": { "dfnID": "writablestreamdefaultcontroller-strategysizealgorithm", "dfnText": "[[strategySizeAlgorithm]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writablestreamdefaultcontroller-strategysizealgorithm" }, { "id": "ref-for-writablestreamdefaultcontroller-strategysizealgorithm\u2460" }, { "id": "ref-for-writablestreamdefaultcontroller-strategysizealgorithm\u2461" }, { "id": "ref-for-writablestreamdefaultcontroller-strategysizealgorithm\u2462" }], "title": "5.5.4. Default controllers" }], "url": "#writablestreamdefaultcontroller-strategysizealgorithm" },
                "writablestreamdefaultcontroller-stream": { "dfnID": "writablestreamdefaultcontroller-stream", "dfnText": "[[stream]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writablestreamdefaultcontroller-stream" }], "title": "5.4.3. Methods and properties" }, { "refs": [{ "id": "ref-for-writablestreamdefaultcontroller-stream\u2460" }, { "id": "ref-for-writablestreamdefaultcontroller-stream\u2461" }, { "id": "ref-for-writablestreamdefaultcontroller-stream\u2462" }, { "id": "ref-for-writablestreamdefaultcontroller-stream\u2463" }, { "id": "ref-for-writablestreamdefaultcontroller-stream\u2464" }, { "id": "ref-for-writablestreamdefaultcontroller-stream\u2465" }, { "id": "ref-for-writablestreamdefaultcontroller-stream\u2466" }, { "id": "ref-for-writablestreamdefaultcontroller-stream\u2467" }], "title": "5.5.4. Default controllers" }], "url": "#writablestreamdefaultcontroller-stream" },
                "writablestreamdefaultcontroller-writealgorithm": { "dfnID": "writablestreamdefaultcontroller-writealgorithm", "dfnText": "[[writeAlgorithm]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writablestreamdefaultcontroller-writealgorithm" }, { "id": "ref-for-writablestreamdefaultcontroller-writealgorithm\u2460" }, { "id": "ref-for-writablestreamdefaultcontroller-writealgorithm\u2461" }], "title": "5.5.4. Default controllers" }], "url": "#writablestreamdefaultcontroller-writealgorithm" },
                "writablestreamdefaultwriter": { "dfnID": "writablestreamdefaultwriter", "dfnText": "WritableStreamDefaultWriter", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writablestreamdefaultwriter" }], "title": "2.6. Locking" }, { "refs": [{ "id": "ref-for-writablestreamdefaultwriter\u2460" }], "title": "5.1. Using writable streams" }, { "refs": [{ "id": "ref-for-writablestreamdefaultwriter\u2461" }], "title": "5.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-writablestreamdefaultwriter\u2462" }], "title": "5.2.2. Internal slots" }, { "refs": [{ "id": "ref-for-writablestreamdefaultwriter\u2463" }], "title": "5.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-writablestreamdefaultwriter\u2464" }, { "id": "ref-for-writablestreamdefaultwriter\u2465" }], "title": "5.3. The WritableStreamDefaultWriter class" }, { "refs": [{ "id": "ref-for-writablestreamdefaultwriter\u2466" }], "title": "5.3.1. Interface definition" }, { "refs": [{ "id": "ref-for-writablestreamdefaultwriter\u2467" }], "title": "5.3.2. Internal slots" }, { "refs": [{ "id": "ref-for-writablestreamdefaultwriter\u2468" }], "title": "5.5.1. Working with writable streams" }, { "refs": [{ "id": "ref-for-writablestreamdefaultwriter\u2460\u24ea" }], "title": "5.5.3. Writers" }, { "refs": [{ "id": "ref-for-writablestreamdefaultwriter\u2460\u2460" }, { "id": "ref-for-writablestreamdefaultwriter\u2460\u2461" }, { "id": "ref-for-writablestreamdefaultwriter\u2460\u2462" }], "title": "9.2.2. Writing" }], "url": "#writablestreamdefaultwriter" },
                "writablestreamdefaultwriter-closedpromise": { "dfnID": "writablestreamdefaultwriter-closedpromise", "dfnText": "[[closedPromise]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writablestreamdefaultwriter-closedpromise" }], "title": "5.3.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-writablestreamdefaultwriter-closedpromise\u2460" }, { "id": "ref-for-writablestreamdefaultwriter-closedpromise\u2461" }, { "id": "ref-for-writablestreamdefaultwriter-closedpromise\u2462" }, { "id": "ref-for-writablestreamdefaultwriter-closedpromise\u2463" }, { "id": "ref-for-writablestreamdefaultwriter-closedpromise\u2464" }], "title": "5.5.1. Working with writable streams" }, { "refs": [{ "id": "ref-for-writablestreamdefaultwriter-closedpromise\u2465" }, { "id": "ref-for-writablestreamdefaultwriter-closedpromise\u2466" }, { "id": "ref-for-writablestreamdefaultwriter-closedpromise\u2467" }], "title": "5.5.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-writablestreamdefaultwriter-closedpromise\u2468" }, { "id": "ref-for-writablestreamdefaultwriter-closedpromise\u2460\u24ea" }, { "id": "ref-for-writablestreamdefaultwriter-closedpromise\u2460\u2460" }, { "id": "ref-for-writablestreamdefaultwriter-closedpromise\u2460\u2461" }], "title": "5.5.3. Writers" }], "url": "#writablestreamdefaultwriter-closedpromise" },
                "writablestreamdefaultwriter-readypromise": { "dfnID": "writablestreamdefaultwriter-readypromise", "dfnText": "[[readyPromise]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writablestreamdefaultwriter-readypromise" }], "title": "5.3.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-writablestreamdefaultwriter-readypromise\u2460" }, { "id": "ref-for-writablestreamdefaultwriter-readypromise\u2461" }, { "id": "ref-for-writablestreamdefaultwriter-readypromise\u2462" }, { "id": "ref-for-writablestreamdefaultwriter-readypromise\u2463" }, { "id": "ref-for-writablestreamdefaultwriter-readypromise\u2464" }, { "id": "ref-for-writablestreamdefaultwriter-readypromise\u2465" }, { "id": "ref-for-writablestreamdefaultwriter-readypromise\u2466" }, { "id": "ref-for-writablestreamdefaultwriter-readypromise\u2467" }], "title": "5.5.1. Working with writable streams" }, { "refs": [{ "id": "ref-for-writablestreamdefaultwriter-readypromise\u2468" }, { "id": "ref-for-writablestreamdefaultwriter-readypromise\u2460\u24ea" }], "title": "5.5.2. Interfacing with controllers" }, { "refs": [{ "id": "ref-for-writablestreamdefaultwriter-readypromise\u2460\u2460" }, { "id": "ref-for-writablestreamdefaultwriter-readypromise\u2460\u2461" }, { "id": "ref-for-writablestreamdefaultwriter-readypromise\u2460\u2462" }, { "id": "ref-for-writablestreamdefaultwriter-readypromise\u2460\u2463" }], "title": "5.5.3. Writers" }], "url": "#writablestreamdefaultwriter-readypromise" },
                "writablestreamdefaultwriter-release": { "dfnID": "writablestreamdefaultwriter-release", "dfnText": "release", "external": false, "refSections": [], "url": "#writablestreamdefaultwriter-release" },
                "writablestreamdefaultwriter-stream": { "dfnID": "writablestreamdefaultwriter-stream", "dfnText": "[[stream]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writablestreamdefaultwriter-stream" }, { "id": "ref-for-writablestreamdefaultwriter-stream\u2460" }, { "id": "ref-for-writablestreamdefaultwriter-stream\u2461" }, { "id": "ref-for-writablestreamdefaultwriter-stream\u2462" }, { "id": "ref-for-writablestreamdefaultwriter-stream\u2463" }], "title": "5.3.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-writablestreamdefaultwriter-stream\u2464" }], "title": "5.5.1. Working with writable streams" }, { "refs": [{ "id": "ref-for-writablestreamdefaultwriter-stream\u2465" }, { "id": "ref-for-writablestreamdefaultwriter-stream\u2466" }, { "id": "ref-for-writablestreamdefaultwriter-stream\u2467" }, { "id": "ref-for-writablestreamdefaultwriter-stream\u2468" }, { "id": "ref-for-writablestreamdefaultwriter-stream\u2460\u24ea" }, { "id": "ref-for-writablestreamdefaultwriter-stream\u2460\u2460" }, { "id": "ref-for-writablestreamdefaultwriter-stream\u2460\u2461" }, { "id": "ref-for-writablestreamdefaultwriter-stream\u2460\u2462" }], "title": "5.5.3. Writers" }], "url": "#writablestreamdefaultwriter-stream" },
                "writablestreamdefaultwriter-write-a-chunk": { "dfnID": "writablestreamdefaultwriter-write-a-chunk", "dfnText": "write a chunk", "external": false, "refSections": [], "url": "#writablestreamdefaultwriter-write-a-chunk" },
                "writer": { "dfnID": "writer", "dfnText": "writable stream writer", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-writer" }], "title": "1. Introduction" }, { "refs": [{ "id": "ref-for-writer\u2460" }, { "id": "ref-for-writer\u2461" }], "title": "5.1. Using writable streams" }, { "refs": [{ "id": "ref-for-writer\u2462" }], "title": "5.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-writer\u2463" }], "title": "5.3. The WritableStreamDefaultWriter class" }, { "refs": [{ "id": "ref-for-writer\u2464" }], "title": "6.1. Using transform streams" }, { "refs": [{ "id": "ref-for-writer\u2465" }], "title": "10.6. A writable stream with no backpressure or success signals" }], "url": "#writer" },
                "ws-abort": { "dfnID": "ws-abort", "dfnText": "abort(reason)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ws-abort" }], "title": "2.2. Writable streams" }, { "refs": [{ "id": "ref-for-ws-abort\u2460" }], "title": "5.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-ws-abort\u2461" }], "title": "5.2.3. The underlying sink API" }, { "refs": [{ "id": "ref-for-ws-abort\u2462" }], "title": "5.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-ws-abort\u2463" }], "title": "5.3.3. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-ws-abort\u2464" }], "title": "6.2.3. The transformer API" }, { "refs": [{ "id": "ref-for-ws-abort\u2465" }], "title": "10.11. Using an identity transform stream as a primitive to create new readable streams" }], "url": "#ws-abort" },
                "ws-close": { "dfnID": "ws-close", "dfnText": "close()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ws-close" }], "title": "5.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-ws-close\u2460" }], "title": "5.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-ws-close\u2461" }], "title": "5.3.3. Constructor, methods, and properties" }], "url": "#ws-close" },
                "ws-constructor": { "dfnID": "ws-constructor", "dfnText": "new WritableStream(underlyingSink, strategy)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ws-constructor" }], "title": "2.2. Writable streams" }, { "refs": [{ "id": "ref-for-ws-constructor\u2460" }], "title": "5.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-ws-constructor\u2461" }, { "id": "ref-for-ws-constructor\u2462" }], "title": "5.2.3. The underlying sink API" }, { "refs": [{ "id": "ref-for-ws-constructor\u2463" }], "title": "5.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-ws-constructor\u2464" }], "title": "7.1. The queuing strategy API" }], "url": "#ws-constructor" },
                "ws-default-controller-error": { "dfnID": "ws-default-controller-error", "dfnText": "error(e)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ws-default-controller-error" }], "title": "5.4.1. Interface definition" }, { "refs": [{ "id": "ref-for-ws-default-controller-error\u2460" }], "title": "5.4.3. Methods and properties" }], "url": "#ws-default-controller-error" },
                "ws-default-controller-private-abort": { "dfnID": "ws-default-controller-private-abort", "dfnText": "[[AbortSteps]](reason)", "external": false, "refSections": [], "url": "#ws-default-controller-private-abort" },
                "ws-default-controller-private-error": { "dfnID": "ws-default-controller-private-error", "dfnText": "[[ErrorSteps]]()", "external": false, "refSections": [], "url": "#ws-default-controller-private-error" },
                "ws-default-controller-signal": { "dfnID": "ws-default-controller-signal", "dfnText": "signal", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ws-default-controller-signal" }], "title": "5.4.1. Interface definition" }, { "refs": [{ "id": "ref-for-ws-default-controller-signal\u2460" }], "title": "5.4.3. Methods and properties" }], "url": "#ws-default-controller-signal" },
                "ws-get-writer": { "dfnID": "ws-get-writer", "dfnText": "getWriter()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ws-get-writer" }], "title": "5.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-ws-get-writer\u2460" }], "title": "5.2.4. Constructor, methods, and properties" }, { "refs": [{ "id": "ref-for-ws-get-writer\u2461" }], "title": "5.3.3. Constructor, methods, and properties" }], "url": "#ws-get-writer" },
                "ws-locked": { "dfnID": "ws-locked", "dfnText": "locked", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ws-locked" }], "title": "2.6. Locking" }, { "refs": [{ "id": "ref-for-ws-locked\u2460" }], "title": "5.2.1. Interface definition" }, { "refs": [{ "id": "ref-for-ws-locked\u2461" }], "title": "5.2.4. Constructor, methods, and properties" }], "url": "#ws-locked" },
            };

            document.addEventListener("DOMContentLoaded", () => {
                genAllDfnPanels();

                document.body.addEventListener("click", (e) => {
                    // If not handled already, just hide all dfn panels.
                    hideAllDfnPanels();
                });
            });

            window.addEventListener("resize", () => {
                // Pin any visible dfn panel
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el => positionDfnPanel(el));
            });

            function genAllDfnPanels() {
                for (const panelData of Object.values(dfnPanelData)) {
                    const dfnID = panelData.dfnID;
                    const dfn = document.getElementById(dfnID);
                    if (!dfn) {
                        console.log(`Can't find dfn#${dfnID}.`, panelData);
                        continue;
                    }
                    dfn.panelData = panelData;
                    insertDfnPopupAction(dfn);
                }
            }

            function genDfnPanel(dfn, { dfnID, url, dfnText, refSections, external }) {
                const dfnPanel = mk.aside({
                    class: "dfn-panel on",
                    id: `infopanel-for-${dfnID}`,
                    "data-for": dfnID,
                    "aria-labelled-by": `infopaneltitle-for-${dfnID}`,
                },
                    mk.span({ id: `infopaneltitle-for-${dfnID}`, style: "display:none" },
                        `Info about the '${dfnText}' ${external ? "external" : ""} reference.`),
                    mk.a({ href: url, class: "dfn-link" }, url),
                    refSections.length == 0 ? [] :
                        mk.b({}, "Referenced in:"),
                    mk.ul({},
                        ...refSections.map(section =>
                            mk.li({},
                                ...section.refs.map((ref, refI) =>
                                    [
                                        mk.a({ href: `#${ref.id}` },
                                            (refI == 0) ? section.title : `(${refI + 1})`
                                        ),
                                        " ",
                                    ]
                                ),
                            ),
                        ),
                    ),
                    genLinkingSyntaxes(dfn),
                );

                dfnPanel.addEventListener('click', (event) => {
                    if (event.target.nodeName == 'A') {
                        scrollToTargetAndHighlight(event);
                        pinDfnPanel(dfnPanel);
                    }
                    event.stopPropagation();
                    refocusOnTarget(event);
                });
                dfnPanel.addEventListener('keydown', (event) => {
                    if (event.keyCode == 27) { // Escape key
                        hideDfnPanel({ dfnPanel });
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });

                dfnPanel.dfn = dfn;
                dfn.dfnPanel = dfnPanel;
                return dfnPanel;
            }



            function hideAllDfnPanels() {
                // Delete the currently-active dfn panel.
                queryAll(".dfn-panel").forEach(dfnPanel => hideDfnPanel({ dfnPanel }));
            }

            function showDfnPanel(dfn) {
                hideAllDfnPanels(); // Only display one at a time.

                dfn.setAttribute("aria-expanded", "true");

                const dfnPanel = genDfnPanel(dfn, dfn.panelData);

                // Give the dfn a unique tabindex, and then
                // give all the tabbable panel bits successive indexes.
                let tabIndex = 100;
                dfn.tabIndex = tabIndex++;
                const tabbable = dfnPanel.querySelectorAll(":is(a, button)");
                for (const el of tabbable) {
                    el.tabIndex = tabIndex++;
                }

                append(document.body, dfnPanel);
                positionDfnPanel(dfnPanel);
            }

            function positionDfnPanel(dfnPanel) {
                const dfn = dfnPanel.dfn;
                const dfnPos = getBounds(dfn);
                dfnPanel.style.top = dfnPos.bottom + "px";
                dfnPanel.style.left = dfnPos.left + "px";

                const panelPos = dfnPanel.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);
                    dfnPanel.style.left = newLeft + "px";
                }
            }

            function pinDfnPanel(dfnPanel) {
                // Switch it to "activated" state, which pins it.
                dfnPanel.classList.add("activated");
                dfnPanel.style.position = "fixed";
                dfnPanel.style.left = null;
                dfnPanel.style.top = null;
            }

            function hideDfnPanel({ dfn, dfnPanel }) {
                if (!dfnPanel) dfnPanel = dfn.dfnPanel;
                if (!dfn) dfn = dfnPanel.dfn;
                dfn.dfnPanel = undefined;
                dfnPanel.dfn = undefined;
                dfn.setAttribute("aria-expanded", "false");
                dfn.tabIndex = undefined;
                dfnPanel.remove()
            }

            function toggleDfnPanel(dfn) {
                if (dfn.dfnPanel) {
                    hideDfnPanel(dfn);
                } else {
                    showDfnPanel(dfn);
                }
            }

            function insertDfnPopupAction(dfn) {
                dfn.setAttribute('role', 'button');
                dfn.setAttribute('aria-expanded', 'false')
                dfn.tabIndex = 0;
                dfn.classList.add('has-dfn-panel');
                dfn.addEventListener('click', (event) => {
                    toggleDfnPanel(dfn);
                    event.stopPropagation();
                });
                dfn.addEventListener('keypress', (event) => {
                    const kc = event.keyCode;
                    // 32->Space, 13->Enter
                    if (kc == 32 || kc == 13) {
                        toggleDfnPanel(dfn);
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });
            }

            function refocusOnTarget(event) {
                const target = event.target;
                setTimeout(() => {
                    // Refocus on the event.target element.
                    // This is needed after browser scrolls to the destination.
                    target.focus();
                });
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function scrollToTargetAndHighlight(event) {
                let hash = event.target.hash;
                if (hash) {
                    hash = decodeURIComponent(hash.substring(1));
                    const dest = document.getElementById(hash);
                    if (dest) {
                        dest.classList.add('highlighted');
                        setTimeout(() => dest.classList.remove('highlighted'), 1000);
                    }
                }
            }

            // Functions, divided by link type, that wrap an autolink's
            // contents with the appropriate outer syntax.
            // Alternately, a string naming another type they format
            // the same as.
            function needsFor(type) {
                switch (type) {
                    case "descriptor":
                    case "value":
                    case "element-attr":
                    case "attr-value":
                    case "element-state":
                    case "method":
                    case "constructor":
                    case "argument":
                    case "attribute":
                    case "const":
                    case "dict-member":
                    case "event":
                    case "enum-value":
                    case "stringifier":
                    case "serializer":
                    case "iterator":
                    case "maplike":
                    case "setlike":
                    case "state":
                    case "mode":
                    case "context":
                    case "facet": return true;

                    default: return false;
                }
            }
            function refusesFor(type) {
                switch (type) {
                    case "property":
                    case "element":
                    case "interface":
                    case "namespace":
                    case "callback":
                    case "dictionary":
                    case "enum":
                    case "exception":
                    case "typedef":
                    case "http-header":
                    case "permission": return true;

                    default: return false;
                }
            }
            function linkFormatterFromType(type) {
                switch (type) {
                    case 'scheme':
                    case 'permission':
                    case 'dfn': return (text) => `[=${text}=]`;

                    case 'abstract-op': return (text) => `[\$${text}\$]`;

                    case 'function':
                    case 'at-rule':
                    case 'selector':
                    case 'value': return (text) => `''${text}''`;

                    case 'http-header': return (text) => `[:${text}:]`;

                    case 'interface':
                    case 'constructor':
                    case 'method':
                    case 'argument':
                    case 'attribute':
                    case 'callback':
                    case 'dictionary':
                    case 'dict-member':
                    case 'enum':
                    case 'enum-value':
                    case 'exception':
                    case 'const':
                    case 'typedef':
                    case 'stringifier':
                    case 'serializer':
                    case 'iterator':
                    case 'maplike':
                    case 'setlike':
                    case 'extended-attribute':
                    case 'event':
                    case 'idl': return (text) => `{{${text}}}`;

                    case 'element-state':
                    case 'element-attr':
                    case 'attr-value':
                    case 'element': return (element) => `<{${element}}>`;

                    case 'grammar': return (text) => `${text} (within a <pre class=prod>)`;

                    case 'type': return (text) => `<<${text}>>`;

                    case 'descriptor':
                    case 'property': return (text) => `'${text}'`;

                    default: return;
                };
            };

            function genLinkingSyntaxes(dfn) {
                if (dfn.tagName != "DFN") return;

                const type = dfn.getAttribute('data-dfn-type');
                if (!type) {
                    console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
                    return [];
                }

                // Return a function that wraps link text based on the type
                const linkFormatter = linkFormatterFromType(type);
                if (!linkFormatter) {
                    console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
                    return [];
                }

                let ltAlts;
                if (dfn.hasAttribute('data-lt')) {
                    ltAlts = dfn.getAttribute('data-lt')
                        .split("|")
                        .map(x => x.trim());
                } else {
                    ltAlts = [dfn.textContent.trim()];
                }
                if (type == "type") {
                    // lt of "<foo>", but "foo" is the interior;
                    // <<foo/bar>> is how you write it with a for,
                    // not <foo/<bar>> or whatever.
                    for (var i = 0; i < ltAlts.length; i++) {
                        const lt = ltAlts[i];
                        const match = /<(.*)>/.exec(lt);
                        if (match) { ltAlts[i] = match[1]; }
                    }
                }

                let forAlts;
                if (dfn.hasAttribute('data-dfn-for')) {
                    forAlts = dfn.getAttribute('data-dfn-for')
                        .split(",")
                        .map(x => x.trim());
                } else {
                    forAlts = [''];
                }

                let linkingSyntaxes = [];
                if (!needsFor(type)) {
                    for (const lt of ltAlts) {
                        linkingSyntaxes.push(linkFormatter(lt));
                    }
                }
                if (!refusesFor(type)) {
                    for (const f of forAlts) {
                        linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
                    }
                }
                return [
                    mk.b({}, 'Possible linking syntaxes:'),
                    mk.ul({},
                        ...linkingSyntaxes.map(link => {
                            const copyLink = async () =>
                                await navigator.clipboard.writeText(link);
                            return mk.li({},
                                mk.div({ class: 'link-item' },
                                    mk.button({
                                        class: 'copy-icon', title: 'Copy',
                                        type: 'button',
                                        _onclick: copyLink,
                                        tabindex: 0,
                                    }, mk.span({ class: 'icon' })),
                                    mk.span({}, link)
                                )
                            );
                        })
                    )
                ];
            }
        }
    </script>
    <script>/* Boilerplate: script-position-annos */
        "use strict";
        {
            function repositionAnnoPanels() {
                const panels = [...document.querySelectorAll("[data-anno-for]")];
                hydratePanels(panels);
                let vSoFar = 0;
                for (const panel of panels.sort(cmpTops)) {
                    if (panel.top < vSoFar) {
                        panel.top = vSoFar;
                        panel.style.top = vSoFar + "px";
                    }
                    vSoFar = panel.top + panel.height + 15;
                }
            }
            function hydratePanels(panels) {
                const main = document.querySelector("main");
                let mainRect;
                if (main) mainRect = main.getBoundingClientRect();
                // First display them all, if they're not already visible.
                for (const panel of panels) {
                    panel.classList.remove("unpositioned");
                }
                // Measure them all
                for (const panel of panels) {
                    const dfn = document.getElementById(panel.getAttribute("data-anno-for"));
                    if (!dfn) {
                        console.log("Can't find the annotation panel target:", panel);
                        continue;
                    }
                    panel.dfn = dfn;
                    panel.top = window.scrollY + dfn.getBoundingClientRect().top;
                    let panelRect = panel.getBoundingClientRect();
                    panel.height = panelRect.height;
                    if (main) {
                        panel.overlappingMain = panelRect.left < mainRect.right;
                    } else {
                        panel.overlappingMain = false;
                    }
                }
                // And finally position them
                for (const panel of panels) {
                    const dfn = panel.dfn;
                    if (!dfn) continue;
                    panel.style.top = panel.top + "px";
                    panel.classList.toggle("overlapping-main", panel.overlappingMain);
                }
            }

            function cmpTops(a, b) {
                return a.top - b.top;
            }

            window.addEventListener("load", repositionAnnoPanels);
            window.addEventListener("resize", repositionAnnoPanels);
        }
    </script>
    <script>/* Boilerplate: script-ref-hints */
        "use strict";
        {
            let refsData = {
                "#abort-a-writable-stream": { "displayText": "abort a writable stream", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "abort a writable stream", "type": "dfn", "url": "#abort-a-writable-stream" },
                "#abstract-opdef-cancopydatablockbytes": { "displayText": "CanCopyDataBlockBytes", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "CanCopyDataBlockBytes", "type": "abstract-op", "url": "#abstract-opdef-cancopydatablockbytes" },
                "#abstract-opdef-cloneasuint8array": { "displayText": "CloneAsUint8Array", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "CloneAsUint8Array", "type": "abstract-op", "url": "#abstract-opdef-cloneasuint8array" },
                "#abstract-opdef-createreadablebytestream": { "displayText": "CreateReadableByteStream", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "CreateReadableByteStream", "type": "abstract-op", "url": "#abstract-opdef-createreadablebytestream" },
                "#abstract-opdef-crossrealmtransformsenderror": { "displayText": "CrossRealmTransformSendError", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "CrossRealmTransformSendError", "type": "abstract-op", "url": "#abstract-opdef-crossrealmtransformsenderror" },
                "#abstract-opdef-packandpostmessage": { "displayText": "PackAndPostMessage", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "PackAndPostMessage", "type": "abstract-op", "url": "#abstract-opdef-packandpostmessage" },
                "#abstract-opdef-packandpostmessagehandlingerror": { "displayText": "PackAndPostMessageHandlingError", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "PackAndPostMessageHandlingError", "type": "abstract-op", "url": "#abstract-opdef-packandpostmessagehandlingerror" },
                "#abstract-opdef-readablebytestreamcontrollerenqueueclonedchunktoqueue": { "displayText": "ReadableByteStreamControllerEnqueueClonedChunkToQueue", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableByteStreamControllerEnqueueClonedChunkToQueue", "type": "abstract-op", "url": "#abstract-opdef-readablebytestreamcontrollerenqueueclonedchunktoqueue" },
                "#abstract-opdef-readablebytestreamcontrollerenqueuedetachedpullintotoqueue": { "displayText": "ReadableByteStreamControllerEnqueueDetachedPullIntoToQueue", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableByteStreamControllerEnqueueDetachedPullIntoToQueue", "type": "abstract-op", "url": "#abstract-opdef-readablebytestreamcontrollerenqueuedetachedpullintotoqueue" },
                "#abstract-opdef-readablebytestreamcontrollerfillreadrequestfromqueue": { "displayText": "ReadableByteStreamControllerFillReadRequestFromQueue", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableByteStreamControllerFillReadRequestFromQueue", "type": "abstract-op", "url": "#abstract-opdef-readablebytestreamcontrollerfillreadrequestfromqueue" },
                "#abstract-opdef-readablebytestreamcontrollergetbyobrequest": { "displayText": "ReadableByteStreamControllerGetBYOBRequest", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableByteStreamControllerGetBYOBRequest", "type": "abstract-op", "url": "#abstract-opdef-readablebytestreamcontrollergetbyobrequest" },
                "#abstract-opdef-readablebytestreamcontrollerprocessreadrequestsusingqueue": { "displayText": "ReadableByteStreamControllerProcessReadRequestsUsingQueue", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableByteStreamControllerProcessReadRequestsUsingQueue", "type": "abstract-op", "url": "#abstract-opdef-readablebytestreamcontrollerprocessreadrequestsusingqueue" },
                "#abstract-opdef-readablebytestreamtee": { "displayText": "ReadableByteStreamTee", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableByteStreamTee", "type": "abstract-op", "url": "#abstract-opdef-readablebytestreamtee" },
                "#abstract-opdef-readablestreambyobreadererrorreadintorequests": { "displayText": "ReadableStreamBYOBReaderErrorReadIntoRequests", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamBYOBReaderErrorReadIntoRequests", "type": "abstract-op", "url": "#abstract-opdef-readablestreambyobreadererrorreadintorequests" },
                "#abstract-opdef-readablestreambyobreaderrelease": { "displayText": "ReadableStreamBYOBReaderRelease", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamBYOBReaderRelease", "type": "abstract-op", "url": "#abstract-opdef-readablestreambyobreaderrelease" },
                "#abstract-opdef-readablestreamcontroller-cancelsteps": { "displayText": "[[CancelSteps]]", "export": true, "for_": ["ReadableStreamController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[CancelSteps]]", "type": "abstract-op", "url": "#abstract-opdef-readablestreamcontroller-cancelsteps" },
                "#abstract-opdef-readablestreamcontroller-pullsteps": { "displayText": "[[PullSteps]]", "export": true, "for_": ["ReadableStreamController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[PullSteps]]", "type": "abstract-op", "url": "#abstract-opdef-readablestreamcontroller-pullsteps" },
                "#abstract-opdef-readablestreamcontroller-releasesteps": { "displayText": "[[ReleaseSteps]]", "export": true, "for_": ["ReadableStreamController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[ReleaseSteps]]", "type": "abstract-op", "url": "#abstract-opdef-readablestreamcontroller-releasesteps" },
                "#abstract-opdef-readablestreamdefaultreadererrorreadrequests": { "displayText": "ReadableStreamDefaultReaderErrorReadRequests", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamDefaultReaderErrorReadRequests", "type": "abstract-op", "url": "#abstract-opdef-readablestreamdefaultreadererrorreadrequests" },
                "#abstract-opdef-readablestreamdefaultreaderrelease": { "displayText": "ReadableStreamDefaultReaderRelease", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamDefaultReaderRelease", "type": "abstract-op", "url": "#abstract-opdef-readablestreamdefaultreaderrelease" },
                "#abstract-opdef-readablestreamdefaulttee": { "displayText": "ReadableStreamDefaultTee", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamDefaultTee", "type": "abstract-op", "url": "#abstract-opdef-readablestreamdefaulttee" },
                "#abstract-opdef-setupcrossrealmtransformreadable": { "displayText": "SetUpCrossRealmTransformReadable", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "SetUpCrossRealmTransformReadable", "type": "abstract-op", "url": "#abstract-opdef-setupcrossrealmtransformreadable" },
                "#abstract-opdef-setupcrossrealmtransformwritable": { "displayText": "SetUpCrossRealmTransformWritable", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "SetUpCrossRealmTransformWritable", "type": "abstract-op", "url": "#abstract-opdef-setupcrossrealmtransformwritable" },
                "#abstract-opdef-structuredclone": { "displayText": "StructuredClone", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "StructuredClone", "type": "abstract-op", "url": "#abstract-opdef-structuredclone" },
                "#abstract-opdef-writablestreamcontroller-abortsteps": { "displayText": "[[AbortSteps]]", "export": true, "for_": ["WritableStreamController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[AbortSteps]]", "type": "abstract-op", "url": "#abstract-opdef-writablestreamcontroller-abortsteps" },
                "#abstract-opdef-writablestreamcontroller-errorsteps": { "displayText": "[[ErrorSteps]]", "export": true, "for_": ["WritableStreamController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[ErrorSteps]]", "type": "abstract-op", "url": "#abstract-opdef-writablestreamcontroller-errorsteps" },
                "#acquire-readable-stream-byob-reader": { "displayText": "AcquireReadableStreamBYOBReader", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "AcquireReadableStreamBYOBReader", "type": "abstract-op", "url": "#acquire-readable-stream-byob-reader" },
                "#acquire-readable-stream-reader": { "displayText": "AcquireReadableStreamDefaultReader", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "AcquireReadableStreamDefaultReader", "type": "abstract-op", "url": "#acquire-readable-stream-reader" },
                "#acquire-writable-stream-default-writer": { "displayText": "AcquireWritableStreamDefaultWriter", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "AcquireWritableStreamDefaultWriter", "type": "abstract-op", "url": "#acquire-writable-stream-default-writer" },
                "#active": { "displayText": "active reader", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "active reader", "type": "dfn", "url": "#active" },
                "#backpressure": { "displayText": "backpressure", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "backpressure", "type": "dfn", "url": "#backpressure" },
                "#blqs-constructor": { "displayText": "ByteLengthQueuingStrategy(init)", "export": true, "for_": ["ByteLengthQueuingStrategy"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ByteLengthQueuingStrategy(init)", "type": "constructor", "url": "#blqs-constructor" },
                "#blqs-high-water-mark": { "displayText": "highWaterMark", "export": true, "for_": ["ByteLengthQueuingStrategy"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "highWaterMark", "type": "attribute", "url": "#blqs-high-water-mark" },
                "#blqs-size": { "displayText": "size", "export": true, "for_": ["ByteLengthQueuingStrategy"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "size", "type": "attribute", "url": "#blqs-size" },
                "#branches-of-a-readable-stream-tee": { "displayText": "branches of a readable stream tee", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "branches of a readable stream tee", "type": "dfn", "url": "#branches-of-a-readable-stream-tee" },
                "#byob-reader": { "displayText": "byob reader", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "byob reader", "type": "dfn", "url": "#byob-reader" },
                "#byob-reader-constructor": { "displayText": "ReadableStreamBYOBReader(stream)", "export": true, "for_": ["ReadableStreamBYOBReader"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamBYOBReader(stream)", "type": "constructor", "url": "#byob-reader-constructor" },
                "#byob-reader-read": { "displayText": "read(view)", "export": true, "for_": ["ReadableStreamBYOBReader"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "read(view)", "type": "method", "url": "#byob-reader-read" },
                "#byob-reader-release-lock": { "displayText": "releaseLock()", "export": true, "for_": ["ReadableStreamBYOBReader"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "releaseLock()", "type": "method", "url": "#byob-reader-release-lock" },
                "#byte-length-queuing-strategy-size-function": { "displayText": "byte length queuing strategy size function", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "byte length queuing strategy size function", "type": "dfn", "url": "#byte-length-queuing-strategy-size-function" },
                "#bytelengthqueuingstrategy": { "displayText": "ByteLengthQueuingStrategy", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ByteLengthQueuingStrategy", "type": "interface", "url": "#bytelengthqueuingstrategy" },
                "#bytelengthqueuingstrategy-highwatermark": { "displayText": "[[highwatermark]]", "export": true, "for_": ["ByteLengthQueuingStrategy"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[highwatermark]]", "type": "dfn", "url": "#bytelengthqueuingstrategy-highwatermark" },
                "#callbackdef-queuingstrategysize": { "displayText": "QueuingStrategySize", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "QueuingStrategySize", "type": "callback", "url": "#callbackdef-queuingstrategysize" },
                "#callbackdef-transformercancelcallback": { "displayText": "TransformerCancelCallback", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "TransformerCancelCallback", "type": "callback", "url": "#callbackdef-transformercancelcallback" },
                "#callbackdef-transformerflushcallback": { "displayText": "TransformerFlushCallback", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "TransformerFlushCallback", "type": "callback", "url": "#callbackdef-transformerflushcallback" },
                "#callbackdef-transformerstartcallback": { "displayText": "TransformerStartCallback", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "TransformerStartCallback", "type": "callback", "url": "#callbackdef-transformerstartcallback" },
                "#callbackdef-transformertransformcallback": { "displayText": "TransformerTransformCallback", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "TransformerTransformCallback", "type": "callback", "url": "#callbackdef-transformertransformcallback" },
                "#callbackdef-underlyingsinkabortcallback": { "displayText": "UnderlyingSinkAbortCallback", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "UnderlyingSinkAbortCallback", "type": "callback", "url": "#callbackdef-underlyingsinkabortcallback" },
                "#callbackdef-underlyingsinkclosecallback": { "displayText": "UnderlyingSinkCloseCallback", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "UnderlyingSinkCloseCallback", "type": "callback", "url": "#callbackdef-underlyingsinkclosecallback" },
                "#callbackdef-underlyingsinkstartcallback": { "displayText": "UnderlyingSinkStartCallback", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "UnderlyingSinkStartCallback", "type": "callback", "url": "#callbackdef-underlyingsinkstartcallback" },
                "#callbackdef-underlyingsinkwritecallback": { "displayText": "UnderlyingSinkWriteCallback", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "UnderlyingSinkWriteCallback", "type": "callback", "url": "#callbackdef-underlyingsinkwritecallback" },
                "#callbackdef-underlyingsourcecancelcallback": { "displayText": "UnderlyingSourceCancelCallback", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "UnderlyingSourceCancelCallback", "type": "callback", "url": "#callbackdef-underlyingsourcecancelcallback" },
                "#callbackdef-underlyingsourcepullcallback": { "displayText": "UnderlyingSourcePullCallback", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "UnderlyingSourcePullCallback", "type": "callback", "url": "#callbackdef-underlyingsourcepullcallback" },
                "#callbackdef-underlyingsourcestartcallback": { "displayText": "UnderlyingSourceStartCallback", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "UnderlyingSourceStartCallback", "type": "callback", "url": "#callbackdef-underlyingsourcestartcallback" },
                "#can-transfer-array-buffer": { "displayText": "CanTransferArrayBuffer", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "CanTransferArrayBuffer", "type": "abstract-op", "url": "#can-transfer-array-buffer" },
                "#cancel-a-readable-stream": { "displayText": "cancel a readable stream", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "cancel a readable stream", "type": "dfn", "url": "#cancel-a-readable-stream" },
                "#chunk": { "displayText": "chunk", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "chunk", "type": "dfn", "url": "#chunk" },
                "#close-sentinel": { "displayText": "close sentinel", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "close sentinel", "type": "dfn", "url": "#close-sentinel" },
                "#consumer": { "displayText": "consumer", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "consumer", "type": "dfn", "url": "#consumer" },
                "#count-queuing-strategy-size-function": { "displayText": "count queuing strategy size function", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "count queuing strategy size function", "type": "dfn", "url": "#count-queuing-strategy-size-function" },
                "#countqueuingstrategy": { "displayText": "CountQueuingStrategy", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "CountQueuingStrategy", "type": "interface", "url": "#countqueuingstrategy" },
                "#countqueuingstrategy-highwatermark": { "displayText": "[[highwatermark]]", "export": true, "for_": ["CountQueuingStrategy"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[highwatermark]]", "type": "dfn", "url": "#countqueuingstrategy-highwatermark" },
                "#cqs-constructor": { "displayText": "CountQueuingStrategy(init)", "export": true, "for_": ["CountQueuingStrategy"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "CountQueuingStrategy(init)", "type": "constructor", "url": "#cqs-constructor" },
                "#cqs-high-water-mark": { "displayText": "highWaterMark", "export": true, "for_": ["CountQueuingStrategy"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "highWaterMark", "type": "attribute", "url": "#cqs-high-water-mark" },
                "#cqs-size": { "displayText": "size", "export": true, "for_": ["CountQueuingStrategy"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "size", "type": "attribute", "url": "#cqs-size" },
                "#create-an-identity-transformstream": { "displayText": "creating an identity transformstream", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "creating an identity transformstream", "type": "dfn", "url": "#create-an-identity-transformstream" },
                "#create-readable-stream": { "displayText": "CreateReadableStream", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "CreateReadableStream", "type": "abstract-op", "url": "#create-readable-stream" },
                "#create-writable-stream": { "displayText": "CreateWritableStream", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "CreateWritableStream", "type": "abstract-op", "url": "#create-writable-stream" },
                "#default-reader": { "displayText": "default reader", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "default reader", "type": "dfn", "url": "#default-reader" },
                "#default-reader-constructor": { "displayText": "ReadableStreamDefaultReader(stream)", "export": true, "for_": ["ReadableStreamDefaultReader"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamDefaultReader(stream)", "type": "constructor", "url": "#default-reader-constructor" },
                "#default-reader-read": { "displayText": "read()", "export": true, "for_": ["ReadableStreamDefaultReader"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "read()", "type": "method", "url": "#default-reader-read" },
                "#default-reader-release-lock": { "displayText": "releaseLock()", "export": true, "for_": ["ReadableStreamDefaultReader"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "releaseLock()", "type": "method", "url": "#default-reader-release-lock" },
                "#default-writer-abort": { "displayText": "abort()", "export": true, "for_": ["WritableStreamDefaultWriter"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "abort()", "type": "method", "url": "#default-writer-abort" },
                "#default-writer-close": { "displayText": "close()", "export": true, "for_": ["WritableStreamDefaultWriter"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "close()", "type": "method", "url": "#default-writer-close" },
                "#default-writer-closed": { "displayText": "closed", "export": true, "for_": ["WritableStreamDefaultWriter"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "closed", "type": "attribute", "url": "#default-writer-closed" },
                "#default-writer-constructor": { "displayText": "WritableStreamDefaultWriter(stream)", "export": true, "for_": ["WritableStreamDefaultWriter"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "WritableStreamDefaultWriter(stream)", "type": "constructor", "url": "#default-writer-constructor" },
                "#default-writer-desired-size": { "displayText": "desiredSize", "export": true, "for_": ["WritableStreamDefaultWriter"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "desiredSize", "type": "attribute", "url": "#default-writer-desired-size" },
                "#default-writer-ready": { "displayText": "ready", "export": true, "for_": ["WritableStreamDefaultWriter"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ready", "type": "attribute", "url": "#default-writer-ready" },
                "#default-writer-release-lock": { "displayText": "releaseLock()", "export": true, "for_": ["WritableStreamDefaultWriter"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "releaseLock()", "type": "method", "url": "#default-writer-release-lock" },
                "#default-writer-write": { "displayText": "write()", "export": true, "for_": ["WritableStreamDefaultWriter"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "write()", "type": "method", "url": "#default-writer-write" },
                "#dequeue-value": { "displayText": "DequeueValue", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "DequeueValue", "type": "abstract-op", "url": "#dequeue-value" },
                "#desired-size-to-fill-a-streams-internal-queue": { "displayText": "desired size to fill a stream's internal queue", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "desired size to fill a stream's internal queue", "type": "dfn", "url": "#desired-size-to-fill-a-streams-internal-queue" },
                "#dictdef-queuingstrategy": { "displayText": "QueuingStrategy", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "QueuingStrategy", "type": "dictionary", "url": "#dictdef-queuingstrategy" },
                "#dictdef-queuingstrategyinit": { "displayText": "QueuingStrategyInit", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "QueuingStrategyInit", "type": "dictionary", "url": "#dictdef-queuingstrategyinit" },
                "#dictdef-readablestreambyobreaderreadoptions": { "displayText": "ReadableStreamBYOBReaderReadOptions", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamBYOBReaderReadOptions", "type": "dictionary", "url": "#dictdef-readablestreambyobreaderreadoptions" },
                "#dictdef-readablestreamgetreaderoptions": { "displayText": "ReadableStreamGetReaderOptions", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamGetReaderOptions", "type": "dictionary", "url": "#dictdef-readablestreamgetreaderoptions" },
                "#dictdef-readablestreamiteratoroptions": { "displayText": "ReadableStreamIteratorOptions", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamIteratorOptions", "type": "dictionary", "url": "#dictdef-readablestreamiteratoroptions" },
                "#dictdef-readablestreamreadresult": { "displayText": "ReadableStreamReadResult", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamReadResult", "type": "dictionary", "url": "#dictdef-readablestreamreadresult" },
                "#dictdef-readablewritablepair": { "displayText": "ReadableWritablePair", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableWritablePair", "type": "dictionary", "url": "#dictdef-readablewritablepair" },
                "#dictdef-streampipeoptions": { "displayText": "StreamPipeOptions", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "StreamPipeOptions", "type": "dictionary", "url": "#dictdef-streampipeoptions" },
                "#dictdef-transformer": { "displayText": "Transformer", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "Transformer", "type": "dictionary", "url": "#dictdef-transformer" },
                "#dictdef-underlyingsink": { "displayText": "UnderlyingSink", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "UnderlyingSink", "type": "dictionary", "url": "#dictdef-underlyingsink" },
                "#dictdef-underlyingsource": { "displayText": "UnderlyingSource", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "UnderlyingSource", "type": "dictionary", "url": "#dictdef-underlyingsource" },
                "#dom-generictransformstream-readable": { "displayText": "readable", "export": true, "for_": ["GenericTransformStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "readable", "type": "attribute", "url": "#dom-generictransformstream-readable" },
                "#dom-generictransformstream-writable": { "displayText": "writable", "export": true, "for_": ["GenericTransformStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "writable", "type": "attribute", "url": "#dom-generictransformstream-writable" },
                "#dom-queuingstrategy-highwatermark": { "displayText": "highWaterMark", "export": true, "for_": ["QueuingStrategy"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "highWaterMark", "type": "dict-member", "url": "#dom-queuingstrategy-highwatermark" },
                "#dom-queuingstrategy-size": { "displayText": "size", "export": true, "for_": ["QueuingStrategy"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "size", "type": "dict-member", "url": "#dom-queuingstrategy-size" },
                "#dom-queuingstrategyinit-highwatermark": { "displayText": "highWaterMark", "export": true, "for_": ["QueuingStrategyInit"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "highWaterMark", "type": "dict-member", "url": "#dom-queuingstrategyinit-highwatermark" },
                "#dom-readablestreambyobreaderreadoptions-min": { "displayText": "min", "export": true, "for_": ["ReadableStreamBYOBReaderReadOptions"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "min", "type": "dict-member", "url": "#dom-readablestreambyobreaderreadoptions-min" },
                "#dom-readablestreamgetreaderoptions-mode": { "displayText": "mode", "export": true, "for_": ["ReadableStreamGetReaderOptions"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "mode", "type": "dict-member", "url": "#dom-readablestreamgetreaderoptions-mode" },
                "#dom-readablestreamiteratoroptions-preventcancel": { "displayText": "preventCancel", "export": true, "for_": ["ReadableStreamIteratorOptions"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "preventCancel", "type": "dict-member", "url": "#dom-readablestreamiteratoroptions-preventcancel" },
                "#dom-readablestreamreadermode-byob": { "displayText": "\"byob\"", "export": true, "for_": ["ReadableStreamReaderMode"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "\"byob\"", "type": "enum-value", "url": "#dom-readablestreamreadermode-byob" },
                "#dom-readablestreamreadresult-done": { "displayText": "done", "export": true, "for_": ["ReadableStreamReadResult"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "done", "type": "dict-member", "url": "#dom-readablestreamreadresult-done" },
                "#dom-readablestreamreadresult-value": { "displayText": "value", "export": true, "for_": ["ReadableStreamReadResult"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "value", "type": "dict-member", "url": "#dom-readablestreamreadresult-value" },
                "#dom-readablestreamtype-bytes": { "displayText": "\"bytes\"", "export": true, "for_": ["ReadableStreamType"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "\"bytes\"", "type": "enum-value", "url": "#dom-readablestreamtype-bytes" },
                "#dom-readablewritablepair-readable": { "displayText": "readable", "export": true, "for_": ["ReadableWritablePair"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "readable", "type": "dict-member", "url": "#dom-readablewritablepair-readable" },
                "#dom-readablewritablepair-writable": { "displayText": "writable", "export": true, "for_": ["ReadableWritablePair"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "writable", "type": "dict-member", "url": "#dom-readablewritablepair-writable" },
                "#dom-streampipeoptions-preventabort": { "displayText": "preventAbort", "export": true, "for_": ["StreamPipeOptions"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "preventAbort", "type": "dict-member", "url": "#dom-streampipeoptions-preventabort" },
                "#dom-streampipeoptions-preventcancel": { "displayText": "preventCancel", "export": true, "for_": ["StreamPipeOptions"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "preventCancel", "type": "dict-member", "url": "#dom-streampipeoptions-preventcancel" },
                "#dom-streampipeoptions-preventclose": { "displayText": "preventClose", "export": true, "for_": ["StreamPipeOptions"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "preventClose", "type": "dict-member", "url": "#dom-streampipeoptions-preventclose" },
                "#dom-streampipeoptions-signal": { "displayText": "signal", "export": true, "for_": ["StreamPipeOptions"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "signal", "type": "dict-member", "url": "#dom-streampipeoptions-signal" },
                "#dom-transformer-cancel": { "displayText": "cancel", "export": true, "for_": ["Transformer"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "cancel", "type": "dict-member", "url": "#dom-transformer-cancel" },
                "#dom-transformer-flush": { "displayText": "flush", "export": true, "for_": ["Transformer"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "flush", "type": "dict-member", "url": "#dom-transformer-flush" },
                "#dom-transformer-readabletype": { "displayText": "readableType", "export": true, "for_": ["Transformer"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "readableType", "type": "dict-member", "url": "#dom-transformer-readabletype" },
                "#dom-transformer-start": { "displayText": "start", "export": true, "for_": ["Transformer"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "start", "type": "dict-member", "url": "#dom-transformer-start" },
                "#dom-transformer-transform": { "displayText": "transform", "export": true, "for_": ["Transformer"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "transform", "type": "dict-member", "url": "#dom-transformer-transform" },
                "#dom-transformer-writabletype": { "displayText": "writableType", "export": true, "for_": ["Transformer"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "writableType", "type": "dict-member", "url": "#dom-transformer-writabletype" },
                "#dom-underlyingsink-abort": { "displayText": "abort", "export": true, "for_": ["UnderlyingSink"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "abort", "type": "dict-member", "url": "#dom-underlyingsink-abort" },
                "#dom-underlyingsink-close": { "displayText": "close", "export": true, "for_": ["UnderlyingSink"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "close", "type": "dict-member", "url": "#dom-underlyingsink-close" },
                "#dom-underlyingsink-start": { "displayText": "start", "export": true, "for_": ["UnderlyingSink"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "start", "type": "dict-member", "url": "#dom-underlyingsink-start" },
                "#dom-underlyingsink-type": { "displayText": "type", "export": true, "for_": ["UnderlyingSink"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "type", "type": "dict-member", "url": "#dom-underlyingsink-type" },
                "#dom-underlyingsink-write": { "displayText": "write", "export": true, "for_": ["UnderlyingSink"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "write", "type": "dict-member", "url": "#dom-underlyingsink-write" },
                "#dom-underlyingsource-autoallocatechunksize": { "displayText": "autoAllocateChunkSize", "export": true, "for_": ["UnderlyingSource"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "autoAllocateChunkSize", "type": "dict-member", "url": "#dom-underlyingsource-autoallocatechunksize" },
                "#dom-underlyingsource-cancel": { "displayText": "cancel", "export": true, "for_": ["UnderlyingSource"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "cancel", "type": "dict-member", "url": "#dom-underlyingsource-cancel" },
                "#dom-underlyingsource-pull": { "displayText": "pull", "export": true, "for_": ["UnderlyingSource"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "pull", "type": "dict-member", "url": "#dom-underlyingsource-pull" },
                "#dom-underlyingsource-start": { "displayText": "start", "export": true, "for_": ["UnderlyingSource"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "start", "type": "dict-member", "url": "#dom-underlyingsource-start" },
                "#dom-underlyingsource-type": { "displayText": "type", "export": true, "for_": ["UnderlyingSource"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "type", "type": "dict-member", "url": "#dom-underlyingsource-type" },
                "#enqueue-value-with-size": { "displayText": "EnqueueValueWithSize", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "EnqueueValueWithSize", "type": "abstract-op", "url": "#enqueue-value-with-size" },
                "#enumdef-readablestreamreadermode": { "displayText": "ReadableStreamReaderMode", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamReaderMode", "type": "enum", "url": "#enumdef-readablestreamreadermode" },
                "#enumdef-readablestreamtype": { "displayText": "ReadableStreamType", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamType", "type": "enum", "url": "#enumdef-readablestreamtype" },
                "#generic-reader-cancel": { "displayText": "cancel()", "export": true, "for_": ["ReadableStreamGenericReader"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "cancel()", "type": "method", "url": "#generic-reader-cancel" },
                "#generic-reader-closed": { "displayText": "closed", "export": true, "for_": ["ReadableStreamGenericReader"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "closed", "type": "attribute", "url": "#generic-reader-closed" },
                "#generictransformstream": { "displayText": "GenericTransformStream", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "GenericTransformStream", "type": "interface", "url": "#generictransformstream" },
                "#generictransformstream-transform": { "displayText": "transform", "export": true, "for_": ["GenericTransformStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "transform", "type": "dfn", "url": "#generictransformstream-transform" },
                "#high-water-mark": { "displayText": "high water mark", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "high water mark", "type": "dfn", "url": "#high-water-mark" },
                "#identity-transform-stream": { "displayText": "identity transform stream", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "identity transform stream", "type": "dfn", "url": "#identity-transform-stream" },
                "#initialize-readable-stream": { "displayText": "InitializeReadableStream", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "InitializeReadableStream", "type": "abstract-op", "url": "#initialize-readable-stream" },
                "#initialize-transform-stream": { "displayText": "InitializeTransformStream", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "InitializeTransformStream", "type": "abstract-op", "url": "#initialize-transform-stream" },
                "#initialize-writable-stream": { "displayText": "InitializeWritableStream", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "InitializeWritableStream", "type": "abstract-op", "url": "#initialize-writable-stream" },
                "#internal-queues": { "displayText": "internal queues", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "internal queues", "type": "dfn", "url": "#internal-queues" },
                "#is-non-negative-number": { "displayText": "IsNonNegativeNumber", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "IsNonNegativeNumber", "type": "abstract-op", "url": "#is-non-negative-number" },
                "#is-readable-stream-disturbed": { "displayText": "disturbed", "export": true, "for_": ["ReadableStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "disturbed", "type": "dfn", "url": "#is-readable-stream-disturbed" },
                "#is-readable-stream-locked": { "displayText": "IsReadableStreamLocked", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "IsReadableStreamLocked", "type": "abstract-op", "url": "#is-readable-stream-locked" },
                "#is-writable-stream-locked": { "displayText": "IsWritableStreamLocked", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "IsWritableStreamLocked", "type": "abstract-op", "url": "#is-writable-stream-locked" },
                "#lock": { "displayText": "locked to a reader", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "locked to a reader", "type": "dfn", "url": "#lock" },
                "#make-size-algorithm-from-size-function": { "displayText": "ExtractSizeAlgorithm", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ExtractSizeAlgorithm", "type": "abstract-op", "url": "#make-size-algorithm-from-size-function" },
                "#original-source": { "displayText": "original source", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "original source", "type": "dfn", "url": "#original-source" },
                "#peek-queue-value": { "displayText": "PeekQueueValue", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "PeekQueueValue", "type": "abstract-op", "url": "#peek-queue-value" },
                "#pending-abort-request": { "displayText": "pending abort request", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "pending abort request", "type": "dfn", "url": "#pending-abort-request" },
                "#pending-abort-request-promise": { "displayText": "promise", "export": true, "for_": ["pending abort request"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "promise", "type": "dfn", "url": "#pending-abort-request-promise" },
                "#pending-abort-request-reason": { "displayText": "reason", "export": true, "for_": ["pending abort request"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "reason", "type": "dfn", "url": "#pending-abort-request-reason" },
                "#pending-abort-request-was-already-erroring": { "displayText": "was already erroring", "export": true, "for_": ["pending abort request"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "was already erroring", "type": "dfn", "url": "#pending-abort-request-was-already-erroring" },
                "#pipe-chain": { "displayText": "pipe chain", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "pipe chain", "type": "dfn", "url": "#pipe-chain" },
                "#piping": { "displayText": "piping", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "piping", "type": "dfn", "url": "#piping" },
                "#producer": { "displayText": "producer", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "producer", "type": "dfn", "url": "#producer" },
                "#pull-into-descriptor": { "displayText": "pull-into descriptor", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "pull-into descriptor", "type": "dfn", "url": "#pull-into-descriptor" },
                "#pull-into-descriptor-buffer": { "displayText": "buffer", "export": true, "for_": ["pull-into descriptor"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "buffer", "type": "dfn", "url": "#pull-into-descriptor-buffer" },
                "#pull-into-descriptor-buffer-byte-length": { "displayText": "buffer byte length", "export": true, "for_": ["pull-into descriptor"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "buffer byte length", "type": "dfn", "url": "#pull-into-descriptor-buffer-byte-length" },
                "#pull-into-descriptor-byte-length": { "displayText": "byte length", "export": true, "for_": ["pull-into descriptor"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "byte length", "type": "dfn", "url": "#pull-into-descriptor-byte-length" },
                "#pull-into-descriptor-byte-offset": { "displayText": "byte offset", "export": true, "for_": ["pull-into descriptor"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "byte offset", "type": "dfn", "url": "#pull-into-descriptor-byte-offset" },
                "#pull-into-descriptor-bytes-filled": { "displayText": "bytes filled", "export": true, "for_": ["pull-into descriptor"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "bytes filled", "type": "dfn", "url": "#pull-into-descriptor-bytes-filled" },
                "#pull-into-descriptor-element-size": { "displayText": "element size", "export": true, "for_": ["pull-into descriptor"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "element size", "type": "dfn", "url": "#pull-into-descriptor-element-size" },
                "#pull-into-descriptor-minimum-fill": { "displayText": "minimum fill", "export": true, "for_": ["pull-into descriptor"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "minimum fill", "type": "dfn", "url": "#pull-into-descriptor-minimum-fill" },
                "#pull-into-descriptor-reader-type": { "displayText": "reader type", "export": true, "for_": ["pull-into descriptor"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "reader type", "type": "dfn", "url": "#pull-into-descriptor-reader-type" },
                "#pull-into-descriptor-view-constructor": { "displayText": "view constructor", "export": true, "for_": ["pull-into descriptor"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "view constructor", "type": "dfn", "url": "#pull-into-descriptor-view-constructor" },
                "#pull-source": { "displayText": "pull source", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "pull source", "type": "dfn", "url": "#pull-source" },
                "#push-source": { "displayText": "push source", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "push source", "type": "dfn", "url": "#push-source" },
                "#queuing-strategy": { "displayText": "queuing strategy", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "queuing strategy", "type": "dfn", "url": "#queuing-strategy" },
                "#rbs-controller-byob-request": { "displayText": "byobRequest", "export": true, "for_": ["ReadableByteStreamController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "byobRequest", "type": "attribute", "url": "#rbs-controller-byob-request" },
                "#rbs-controller-close": { "displayText": "close()", "export": true, "for_": ["ReadableByteStreamController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "close()", "type": "method", "url": "#rbs-controller-close" },
                "#rbs-controller-desired-size": { "displayText": "desiredSize", "export": true, "for_": ["ReadableByteStreamController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "desiredSize", "type": "attribute", "url": "#rbs-controller-desired-size" },
                "#rbs-controller-enqueue": { "displayText": "enqueue(chunk)", "export": true, "for_": ["ReadableByteStreamController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "enqueue(chunk)", "type": "method", "url": "#rbs-controller-enqueue" },
                "#rbs-controller-error": { "displayText": "error(e)", "export": true, "for_": ["ReadableByteStreamController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "error(e)", "type": "method", "url": "#rbs-controller-error" },
                "#read-into-request": { "displayText": "read-into request", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "read-into request", "type": "dfn", "url": "#read-into-request" },
                "#read-into-request-chunk-steps": { "displayText": "chunk steps", "export": true, "for_": ["read-into request"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "chunk steps", "type": "dfn", "url": "#read-into-request-chunk-steps" },
                "#read-into-request-close-steps": { "displayText": "close steps", "export": true, "for_": ["read-into request"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "close steps", "type": "dfn", "url": "#read-into-request-close-steps" },
                "#read-into-request-error-steps": { "displayText": "error steps", "export": true, "for_": ["read-into request"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "error steps", "type": "dfn", "url": "#read-into-request-error-steps" },
                "#read-loop": { "displayText": "read-loop", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "read-loop", "type": "dfn", "url": "#read-loop" },
                "#read-request": { "displayText": "read request", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "read request", "type": "dfn", "url": "#read-request" },
                "#read-request-chunk-steps": { "displayText": "chunk steps", "export": true, "for_": ["read request"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "chunk steps", "type": "dfn", "url": "#read-request-chunk-steps" },
                "#read-request-close-steps": { "displayText": "close steps", "export": true, "for_": ["read request"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "close steps", "type": "dfn", "url": "#read-request-close-steps" },
                "#read-request-error-steps": { "displayText": "error steps", "export": true, "for_": ["read request"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "error steps", "type": "dfn", "url": "#read-request-error-steps" },
                "#readable-byte-stream": { "displayText": "readable byte stream", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "readable byte stream", "type": "dfn", "url": "#readable-byte-stream" },
                "#readable-byte-stream-controller-call-pull-if-needed": { "displayText": "ReadableByteStreamControllerCallPullIfNeeded", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableByteStreamControllerCallPullIfNeeded", "type": "abstract-op", "url": "#readable-byte-stream-controller-call-pull-if-needed" },
                "#readable-byte-stream-controller-clear-algorithms": { "displayText": "ReadableByteStreamControllerClearAlgorithms", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableByteStreamControllerClearAlgorithms", "type": "abstract-op", "url": "#readable-byte-stream-controller-clear-algorithms" },
                "#readable-byte-stream-controller-clear-pending-pull-intos": { "displayText": "ReadableByteStreamControllerClearPendingPullIntos", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableByteStreamControllerClearPendingPullIntos", "type": "abstract-op", "url": "#readable-byte-stream-controller-clear-pending-pull-intos" },
                "#readable-byte-stream-controller-close": { "displayText": "ReadableByteStreamControllerClose", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableByteStreamControllerClose", "type": "abstract-op", "url": "#readable-byte-stream-controller-close" },
                "#readable-byte-stream-controller-commit-pull-into-descriptor": { "displayText": "ReadableByteStreamControllerCommitPullIntoDescriptor", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableByteStreamControllerCommitPullIntoDescriptor", "type": "abstract-op", "url": "#readable-byte-stream-controller-commit-pull-into-descriptor" },
                "#readable-byte-stream-controller-convert-pull-into-descriptor": { "displayText": "ReadableByteStreamControllerConvertPullIntoDescriptor", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableByteStreamControllerConvertPullIntoDescriptor", "type": "abstract-op", "url": "#readable-byte-stream-controller-convert-pull-into-descriptor" },
                "#readable-byte-stream-controller-enqueue": { "displayText": "ReadableByteStreamControllerEnqueue", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableByteStreamControllerEnqueue", "type": "abstract-op", "url": "#readable-byte-stream-controller-enqueue" },
                "#readable-byte-stream-controller-enqueue-chunk-to-queue": { "displayText": "ReadableByteStreamControllerEnqueueChunkToQueue", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableByteStreamControllerEnqueueChunkToQueue", "type": "abstract-op", "url": "#readable-byte-stream-controller-enqueue-chunk-to-queue" },
                "#readable-byte-stream-controller-error": { "displayText": "ReadableByteStreamControllerError", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableByteStreamControllerError", "type": "abstract-op", "url": "#readable-byte-stream-controller-error" },
                "#readable-byte-stream-controller-fill-head-pull-into-descriptor": { "displayText": "ReadableByteStreamControllerFillHeadPullIntoDescriptor", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableByteStreamControllerFillHeadPullIntoDescriptor", "type": "abstract-op", "url": "#readable-byte-stream-controller-fill-head-pull-into-descriptor" },
                "#readable-byte-stream-controller-fill-pull-into-descriptor-from-queue": { "displayText": "ReadableByteStreamControllerFillPullIntoDescriptorFromQueue", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableByteStreamControllerFillPullIntoDescriptorFromQueue", "type": "abstract-op", "url": "#readable-byte-stream-controller-fill-pull-into-descriptor-from-queue" },
                "#readable-byte-stream-controller-get-desired-size": { "displayText": "ReadableByteStreamControllerGetDesiredSize", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableByteStreamControllerGetDesiredSize", "type": "abstract-op", "url": "#readable-byte-stream-controller-get-desired-size" },
                "#readable-byte-stream-controller-handle-queue-drain": { "displayText": "ReadableByteStreamControllerHandleQueueDrain", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableByteStreamControllerHandleQueueDrain", "type": "abstract-op", "url": "#readable-byte-stream-controller-handle-queue-drain" },
                "#readable-byte-stream-controller-invalidate-byob-request": { "displayText": "ReadableByteStreamControllerInvalidateBYOBRequest", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableByteStreamControllerInvalidateBYOBRequest", "type": "abstract-op", "url": "#readable-byte-stream-controller-invalidate-byob-request" },
                "#readable-byte-stream-controller-process-pull-into-descriptors-using-queue": { "displayText": "ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue", "type": "abstract-op", "url": "#readable-byte-stream-controller-process-pull-into-descriptors-using-queue" },
                "#readable-byte-stream-controller-pull-into": { "displayText": "ReadableByteStreamControllerPullInto", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableByteStreamControllerPullInto", "type": "abstract-op", "url": "#readable-byte-stream-controller-pull-into" },
                "#readable-byte-stream-controller-respond": { "displayText": "ReadableByteStreamControllerRespond", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableByteStreamControllerRespond", "type": "abstract-op", "url": "#readable-byte-stream-controller-respond" },
                "#readable-byte-stream-controller-respond-in-closed-state": { "displayText": "ReadableByteStreamControllerRespondInClosedState", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableByteStreamControllerRespondInClosedState", "type": "abstract-op", "url": "#readable-byte-stream-controller-respond-in-closed-state" },
                "#readable-byte-stream-controller-respond-in-readable-state": { "displayText": "ReadableByteStreamControllerRespondInReadableState", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableByteStreamControllerRespondInReadableState", "type": "abstract-op", "url": "#readable-byte-stream-controller-respond-in-readable-state" },
                "#readable-byte-stream-controller-respond-internal": { "displayText": "ReadableByteStreamControllerRespondInternal", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableByteStreamControllerRespondInternal", "type": "abstract-op", "url": "#readable-byte-stream-controller-respond-internal" },
                "#readable-byte-stream-controller-respond-with-new-view": { "displayText": "ReadableByteStreamControllerRespondWithNewView", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableByteStreamControllerRespondWithNewView", "type": "abstract-op", "url": "#readable-byte-stream-controller-respond-with-new-view" },
                "#readable-byte-stream-controller-shift-pending-pull-into": { "displayText": "ReadableByteStreamControllerShiftPendingPullInto", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableByteStreamControllerShiftPendingPullInto", "type": "abstract-op", "url": "#readable-byte-stream-controller-shift-pending-pull-into" },
                "#readable-byte-stream-controller-should-call-pull": { "displayText": "ReadableByteStreamControllerShouldCallPull", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableByteStreamControllerShouldCallPull", "type": "abstract-op", "url": "#readable-byte-stream-controller-should-call-pull" },
                "#readable-byte-stream-queue-entry": { "displayText": "readable byte stream queue entry", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "readable byte stream queue entry", "type": "dfn", "url": "#readable-byte-stream-queue-entry" },
                "#readable-byte-stream-queue-entry-buffer": { "displayText": "buffer", "export": true, "for_": ["readable byte stream queue entry"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "buffer", "type": "dfn", "url": "#readable-byte-stream-queue-entry-buffer" },
                "#readable-byte-stream-queue-entry-byte-length": { "displayText": "byte length", "export": true, "for_": ["readable byte stream queue entry"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "byte length", "type": "dfn", "url": "#readable-byte-stream-queue-entry-byte-length" },
                "#readable-byte-stream-queue-entry-byte-offset": { "displayText": "byte offset", "export": true, "for_": ["readable byte stream queue entry"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "byte offset", "type": "dfn", "url": "#readable-byte-stream-queue-entry-byte-offset" },
                "#readable-side": { "displayText": "readable side", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "readable side", "type": "dfn", "url": "#readable-side" },
                "#readable-stream": { "displayText": "readable stream", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "readable stream", "type": "dfn", "url": "#readable-stream" },
                "#readable-stream-add-read-into-request": { "displayText": "ReadableStreamAddReadIntoRequest", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamAddReadIntoRequest", "type": "abstract-op", "url": "#readable-stream-add-read-into-request" },
                "#readable-stream-add-read-request": { "displayText": "ReadableStreamAddReadRequest", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamAddReadRequest", "type": "abstract-op", "url": "#readable-stream-add-read-request" },
                "#readable-stream-byob-reader-read": { "displayText": "ReadableStreamBYOBReaderRead", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamBYOBReaderRead", "type": "abstract-op", "url": "#readable-stream-byob-reader-read" },
                "#readable-stream-cancel": { "displayText": "ReadableStreamCancel", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamCancel", "type": "abstract-op", "url": "#readable-stream-cancel" },
                "#readable-stream-close": { "displayText": "ReadableStreamClose", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamClose", "type": "abstract-op", "url": "#readable-stream-close" },
                "#readable-stream-default-controller-call-pull-if-needed": { "displayText": "ReadableStreamDefaultControllerCallPullIfNeeded", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamDefaultControllerCallPullIfNeeded", "type": "abstract-op", "url": "#readable-stream-default-controller-call-pull-if-needed" },
                "#readable-stream-default-controller-can-close-or-enqueue": { "displayText": "ReadableStreamDefaultControllerCanCloseOrEnqueue", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamDefaultControllerCanCloseOrEnqueue", "type": "abstract-op", "url": "#readable-stream-default-controller-can-close-or-enqueue" },
                "#readable-stream-default-controller-clear-algorithms": { "displayText": "ReadableStreamDefaultControllerClearAlgorithms", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamDefaultControllerClearAlgorithms", "type": "abstract-op", "url": "#readable-stream-default-controller-clear-algorithms" },
                "#readable-stream-default-controller-close": { "displayText": "ReadableStreamDefaultControllerClose", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamDefaultControllerClose", "type": "abstract-op", "url": "#readable-stream-default-controller-close" },
                "#readable-stream-default-controller-enqueue": { "displayText": "ReadableStreamDefaultControllerEnqueue", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamDefaultControllerEnqueue", "type": "abstract-op", "url": "#readable-stream-default-controller-enqueue" },
                "#readable-stream-default-controller-error": { "displayText": "ReadableStreamDefaultControllerError", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamDefaultControllerError", "type": "abstract-op", "url": "#readable-stream-default-controller-error" },
                "#readable-stream-default-controller-get-desired-size": { "displayText": "ReadableStreamDefaultControllerGetDesiredSize", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamDefaultControllerGetDesiredSize", "type": "abstract-op", "url": "#readable-stream-default-controller-get-desired-size" },
                "#readable-stream-default-controller-should-call-pull": { "displayText": "ReadableStreamDefaultControllerShouldCallPull", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamDefaultControllerShouldCallPull", "type": "abstract-op", "url": "#readable-stream-default-controller-should-call-pull" },
                "#readable-stream-default-reader-read": { "displayText": "ReadableStreamDefaultReaderRead", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamDefaultReaderRead", "type": "abstract-op", "url": "#readable-stream-default-reader-read" },
                "#readable-stream-error": { "displayText": "ReadableStreamError", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamError", "type": "abstract-op", "url": "#readable-stream-error" },
                "#readable-stream-from-iterable": { "displayText": "ReadableStreamFromIterable", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamFromIterable", "type": "abstract-op", "url": "#readable-stream-from-iterable" },
                "#readable-stream-fulfill-read-into-request": { "displayText": "ReadableStreamFulfillReadIntoRequest", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamFulfillReadIntoRequest", "type": "abstract-op", "url": "#readable-stream-fulfill-read-into-request" },
                "#readable-stream-fulfill-read-request": { "displayText": "ReadableStreamFulfillReadRequest", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamFulfillReadRequest", "type": "abstract-op", "url": "#readable-stream-fulfill-read-request" },
                "#readable-stream-get-num-read-into-requests": { "displayText": "ReadableStreamGetNumReadIntoRequests", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamGetNumReadIntoRequests", "type": "abstract-op", "url": "#readable-stream-get-num-read-into-requests" },
                "#readable-stream-get-num-read-requests": { "displayText": "ReadableStreamGetNumReadRequests", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamGetNumReadRequests", "type": "abstract-op", "url": "#readable-stream-get-num-read-requests" },
                "#readable-stream-has-byob-reader": { "displayText": "ReadableStreamHasBYOBReader", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamHasBYOBReader", "type": "abstract-op", "url": "#readable-stream-has-byob-reader" },
                "#readable-stream-has-default-reader": { "displayText": "ReadableStreamHasDefaultReader", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamHasDefaultReader", "type": "abstract-op", "url": "#readable-stream-has-default-reader" },
                "#readable-stream-pipe-to": { "displayText": "ReadableStreamPipeTo", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamPipeTo", "type": "abstract-op", "url": "#readable-stream-pipe-to" },
                "#readable-stream-reader-generic-cancel": { "displayText": "ReadableStreamReaderGenericCancel", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamReaderGenericCancel", "type": "abstract-op", "url": "#readable-stream-reader-generic-cancel" },
                "#readable-stream-reader-generic-initialize": { "displayText": "ReadableStreamReaderGenericInitialize", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamReaderGenericInitialize", "type": "abstract-op", "url": "#readable-stream-reader-generic-initialize" },
                "#readable-stream-reader-generic-release": { "displayText": "ReadableStreamReaderGenericRelease", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamReaderGenericRelease", "type": "abstract-op", "url": "#readable-stream-reader-generic-release" },
                "#readable-stream-tee": { "displayText": "ReadableStreamTee", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamTee", "type": "abstract-op", "url": "#readable-stream-tee" },
                "#readablebytestreamcontroller": { "displayText": "ReadableByteStreamController", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableByteStreamController", "type": "interface", "url": "#readablebytestreamcontroller" },
                "#readablebytestreamcontroller-autoallocatechunksize": { "displayText": "[[autoallocatechunksize]]", "export": true, "for_": ["ReadableByteStreamController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[autoallocatechunksize]]", "type": "dfn", "url": "#readablebytestreamcontroller-autoallocatechunksize" },
                "#readablebytestreamcontroller-byobrequest": { "displayText": "[[byobrequest]]", "export": true, "for_": ["ReadableByteStreamController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[byobrequest]]", "type": "dfn", "url": "#readablebytestreamcontroller-byobrequest" },
                "#readablebytestreamcontroller-cancelalgorithm": { "displayText": "[[cancelalgorithm]]", "export": true, "for_": ["ReadableByteStreamController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[cancelalgorithm]]", "type": "dfn", "url": "#readablebytestreamcontroller-cancelalgorithm" },
                "#readablebytestreamcontroller-closerequested": { "displayText": "[[closerequested]]", "export": true, "for_": ["ReadableByteStreamController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[closerequested]]", "type": "dfn", "url": "#readablebytestreamcontroller-closerequested" },
                "#readablebytestreamcontroller-pendingpullintos": { "displayText": "[[pendingpullintos]]", "export": true, "for_": ["ReadableByteStreamController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[pendingpullintos]]", "type": "dfn", "url": "#readablebytestreamcontroller-pendingpullintos" },
                "#readablebytestreamcontroller-pullagain": { "displayText": "[[pullagain]]", "export": true, "for_": ["ReadableByteStreamController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[pullagain]]", "type": "dfn", "url": "#readablebytestreamcontroller-pullagain" },
                "#readablebytestreamcontroller-pullalgorithm": { "displayText": "[[pullalgorithm]]", "export": true, "for_": ["ReadableByteStreamController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[pullalgorithm]]", "type": "dfn", "url": "#readablebytestreamcontroller-pullalgorithm" },
                "#readablebytestreamcontroller-pulling": { "displayText": "[[pulling]]", "export": true, "for_": ["ReadableByteStreamController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[pulling]]", "type": "dfn", "url": "#readablebytestreamcontroller-pulling" },
                "#readablebytestreamcontroller-queue": { "displayText": "[[queue]]", "export": true, "for_": ["ReadableByteStreamController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[queue]]", "type": "dfn", "url": "#readablebytestreamcontroller-queue" },
                "#readablebytestreamcontroller-queuetotalsize": { "displayText": "[[queuetotalsize]]", "export": true, "for_": ["ReadableByteStreamController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[queuetotalsize]]", "type": "dfn", "url": "#readablebytestreamcontroller-queuetotalsize" },
                "#readablebytestreamcontroller-started": { "displayText": "[[started]]", "export": true, "for_": ["ReadableByteStreamController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[started]]", "type": "dfn", "url": "#readablebytestreamcontroller-started" },
                "#readablebytestreamcontroller-strategyhwm": { "displayText": "[[strategyhwm]]", "export": true, "for_": ["ReadableByteStreamController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[strategyhwm]]", "type": "dfn", "url": "#readablebytestreamcontroller-strategyhwm" },
                "#readablebytestreamcontroller-stream": { "displayText": "[[stream]]", "export": true, "for_": ["ReadableByteStreamController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[stream]]", "type": "dfn", "url": "#readablebytestreamcontroller-stream" },
                "#readablestream": { "displayText": "ReadableStream", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStream", "type": "interface", "url": "#readablestream" },
                "#readablestream-async-iterator-prevent-cancel": { "displayText": "prevent cancel", "export": true, "for_": ["ReadableStream async iterator"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "prevent cancel", "type": "dfn", "url": "#readablestream-async-iterator-prevent-cancel" },
                "#readablestream-async-iterator-reader": { "displayText": "reader", "export": true, "for_": ["ReadableStream async iterator"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "reader", "type": "dfn", "url": "#readablestream-async-iterator-reader" },
                "#readablestream-close": { "displayText": "close", "export": true, "for_": ["ReadableStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "close", "type": "dfn", "url": "#readablestream-close" },
                "#readablestream-controller": { "displayText": "[[controller]]", "export": true, "for_": ["ReadableStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[controller]]", "type": "dfn", "url": "#readablestream-controller" },
                "#readablestream-current-byob-request-view": { "displayText": "current byob request view", "export": true, "for_": ["ReadableStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "current byob request view", "type": "dfn", "url": "#readablestream-current-byob-request-view" },
                "#readablestream-desired-size-to-fill-up-to-the-high-water-mark": { "displayText": "desired size to fill up to the high water mark", "export": true, "for_": ["ReadableStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "desired size to fill up to the high water mark", "type": "dfn", "url": "#readablestream-desired-size-to-fill-up-to-the-high-water-mark" },
                "#readablestream-disturbed": { "displayText": "[[disturbed]]", "export": true, "for_": ["ReadableStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[disturbed]]", "type": "dfn", "url": "#readablestream-disturbed" },
                "#readablestream-enqueue": { "displayText": "enqueue", "export": true, "for_": ["ReadableStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "enqueue", "type": "dfn", "url": "#readablestream-enqueue" },
                "#readablestream-get-a-reader": { "displayText": "get a reader", "export": true, "for_": ["ReadableStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "get a reader", "type": "dfn", "url": "#readablestream-get-a-reader" },
                "#readablestream-locked": { "displayText": "locked", "export": true, "for_": ["ReadableStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "locked", "type": "dfn", "url": "#readablestream-locked" },
                "#readablestream-pipe": { "displayText": "pipe", "export": true, "for_": ["ReadableStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "pipe", "type": "dfn", "url": "#readablestream-pipe" },
                "#readablestream-pipe-through": { "displayText": "piped through", "export": true, "for_": ["ReadableStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "piped through", "type": "dfn", "url": "#readablestream-pipe-through" },
                "#readablestream-pull-from-bytes": { "displayText": "pull from bytes", "export": true, "for_": ["ReadableStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "pull from bytes", "type": "dfn", "url": "#readablestream-pull-from-bytes" },
                "#readablestream-readable": { "displayText": "readable", "export": true, "for_": ["ReadableStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "readable", "type": "dfn", "url": "#readablestream-readable" },
                "#readablestream-reader": { "displayText": "[[reader]]", "export": true, "for_": ["ReadableStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[reader]]", "type": "dfn", "url": "#readablestream-reader" },
                "#readablestream-set-up": { "displayText": "set up", "export": true, "for_": ["ReadableStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "set up", "type": "dfn", "url": "#readablestream-set-up" },
                "#readablestream-set-up-cancelalgorithm": { "displayText": "cancelalgorithm", "export": true, "for_": ["ReadableStream/set up"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "cancelalgorithm", "type": "dfn", "url": "#readablestream-set-up-cancelalgorithm" },
                "#readablestream-set-up-with-byte-reading-support": { "displayText": "set up with byte reading support", "export": true, "for_": ["ReadableStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "set up with byte reading support", "type": "dfn", "url": "#readablestream-set-up-with-byte-reading-support" },
                "#readablestream-state": { "displayText": "[[state]]", "export": true, "for_": ["ReadableStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[state]]", "type": "dfn", "url": "#readablestream-state" },
                "#readablestream-storederror": { "displayText": "[[storederror]]", "export": true, "for_": ["ReadableStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[storederror]]", "type": "dfn", "url": "#readablestream-storederror" },
                "#readablestream-tee": { "displayText": "tee", "export": true, "for_": ["ReadableStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "tee", "type": "dfn", "url": "#readablestream-tee" },
                "#readablestreambyobreader": { "displayText": "ReadableStreamBYOBReader", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamBYOBReader", "type": "interface", "url": "#readablestreambyobreader" },
                "#readablestreambyobreader-readintorequests": { "displayText": "[[readintorequests]]", "export": true, "for_": ["ReadableStreamBYOBReader"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[readintorequests]]", "type": "dfn", "url": "#readablestreambyobreader-readintorequests" },
                "#readablestreambyobrequest": { "displayText": "ReadableStreamBYOBRequest", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamBYOBRequest", "type": "interface", "url": "#readablestreambyobrequest" },
                "#readablestreambyobrequest-controller": { "displayText": "[[controller]]", "export": true, "for_": ["ReadableStreamBYOBRequest"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[controller]]", "type": "dfn", "url": "#readablestreambyobrequest-controller" },
                "#readablestreambyobrequest-view": { "displayText": "[[view]]", "export": true, "for_": ["ReadableStreamBYOBRequest"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[view]]", "type": "dfn", "url": "#readablestreambyobrequest-view" },
                "#readablestreamdefaultcontroller": { "displayText": "ReadableStreamDefaultController", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamDefaultController", "type": "interface", "url": "#readablestreamdefaultcontroller" },
                "#readablestreamdefaultcontroller-cancelalgorithm": { "displayText": "[[cancelalgorithm]]", "export": true, "for_": ["ReadableStreamDefaultController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[cancelalgorithm]]", "type": "dfn", "url": "#readablestreamdefaultcontroller-cancelalgorithm" },
                "#readablestreamdefaultcontroller-closerequested": { "displayText": "[[closerequested]]", "export": true, "for_": ["ReadableStreamDefaultController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[closerequested]]", "type": "dfn", "url": "#readablestreamdefaultcontroller-closerequested" },
                "#readablestreamdefaultcontroller-pullagain": { "displayText": "[[pullagain]]", "export": true, "for_": ["ReadableStreamDefaultController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[pullagain]]", "type": "dfn", "url": "#readablestreamdefaultcontroller-pullagain" },
                "#readablestreamdefaultcontroller-pullalgorithm": { "displayText": "[[pullalgorithm]]", "export": true, "for_": ["ReadableStreamDefaultController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[pullalgorithm]]", "type": "dfn", "url": "#readablestreamdefaultcontroller-pullalgorithm" },
                "#readablestreamdefaultcontroller-pulling": { "displayText": "[[pulling]]", "export": true, "for_": ["ReadableStreamDefaultController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[pulling]]", "type": "dfn", "url": "#readablestreamdefaultcontroller-pulling" },
                "#readablestreamdefaultcontroller-queue": { "displayText": "[[queue]]", "export": true, "for_": ["ReadableStreamDefaultController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[queue]]", "type": "dfn", "url": "#readablestreamdefaultcontroller-queue" },
                "#readablestreamdefaultcontroller-queuetotalsize": { "displayText": "[[queuetotalsize]]", "export": true, "for_": ["ReadableStreamDefaultController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[queuetotalsize]]", "type": "dfn", "url": "#readablestreamdefaultcontroller-queuetotalsize" },
                "#readablestreamdefaultcontroller-started": { "displayText": "[[started]]", "export": true, "for_": ["ReadableStreamDefaultController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[started]]", "type": "dfn", "url": "#readablestreamdefaultcontroller-started" },
                "#readablestreamdefaultcontroller-strategyhwm": { "displayText": "[[strategyhwm]]", "export": true, "for_": ["ReadableStreamDefaultController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[strategyhwm]]", "type": "dfn", "url": "#readablestreamdefaultcontroller-strategyhwm" },
                "#readablestreamdefaultcontroller-strategysizealgorithm": { "displayText": "[[strategysizealgorithm]]", "export": true, "for_": ["ReadableStreamDefaultController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[strategysizealgorithm]]", "type": "dfn", "url": "#readablestreamdefaultcontroller-strategysizealgorithm" },
                "#readablestreamdefaultcontroller-stream": { "displayText": "[[stream]]", "export": true, "for_": ["ReadableStreamDefaultController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[stream]]", "type": "dfn", "url": "#readablestreamdefaultcontroller-stream" },
                "#readablestreamdefaultreader": { "displayText": "ReadableStreamDefaultReader", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamDefaultReader", "type": "interface", "url": "#readablestreamdefaultreader" },
                "#readablestreamdefaultreader-readrequests": { "displayText": "[[readrequests]]", "export": true, "for_": ["ReadableStreamDefaultReader"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[readrequests]]", "type": "dfn", "url": "#readablestreamdefaultreader-readrequests" },
                "#readablestreamgenericreader": { "displayText": "ReadableStreamGenericReader", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamGenericReader", "type": "interface", "url": "#readablestreamgenericreader" },
                "#readablestreamgenericreader-closedpromise": { "displayText": "[[closedpromise]]", "export": true, "for_": ["ReadableStreamGenericReader"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[closedpromise]]", "type": "dfn", "url": "#readablestreamgenericreader-closedpromise" },
                "#readablestreamgenericreader-stream": { "displayText": "[[stream]]", "export": true, "for_": ["ReadableStreamGenericReader"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[stream]]", "type": "dfn", "url": "#readablestreamgenericreader-stream" },
                "#reader": { "displayText": "reader", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "reader", "type": "dfn", "url": "#reader" },
                "#release-a-lock": { "displayText": "release a read lock", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "release a read lock", "type": "dfn", "url": "#release-a-lock" },
                "#reset-queue": { "displayText": "ResetQueue", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ResetQueue", "type": "abstract-op", "url": "#reset-queue" },
                "#rs-byob-request-respond": { "displayText": "respond(bytesWritten)", "export": true, "for_": ["ReadableStreamBYOBRequest"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "respond(bytesWritten)", "type": "method", "url": "#rs-byob-request-respond" },
                "#rs-byob-request-respond-with-new-view": { "displayText": "respondWithNewView(view)", "export": true, "for_": ["ReadableStreamBYOBRequest"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "respondWithNewView(view)", "type": "method", "url": "#rs-byob-request-respond-with-new-view" },
                "#rs-byob-request-view": { "displayText": "view", "export": true, "for_": ["ReadableStreamBYOBRequest"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "view", "type": "attribute", "url": "#rs-byob-request-view" },
                "#rs-cancel": { "displayText": "cancel()", "export": true, "for_": ["ReadableStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "cancel()", "type": "method", "url": "#rs-cancel" },
                "#rs-constructor": { "displayText": "ReadableStream()", "export": true, "for_": ["ReadableStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStream()", "type": "constructor", "url": "#rs-constructor" },
                "#rs-default-controller-close": { "displayText": "close()", "export": true, "for_": ["ReadableStreamDefaultController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "close()", "type": "method", "url": "#rs-default-controller-close" },
                "#rs-default-controller-desired-size": { "displayText": "desiredSize", "export": true, "for_": ["ReadableStreamDefaultController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "desiredSize", "type": "attribute", "url": "#rs-default-controller-desired-size" },
                "#rs-default-controller-enqueue": { "displayText": "enqueue(chunk)", "export": true, "for_": ["ReadableStreamDefaultController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "enqueue(chunk)", "type": "method", "url": "#rs-default-controller-enqueue" },
                "#rs-default-controller-error": { "displayText": "error(e)", "export": true, "for_": ["ReadableStreamDefaultController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "error(e)", "type": "method", "url": "#rs-default-controller-error" },
                "#rs-default-controller-has-backpressure": { "displayText": "ReadableStreamDefaultControllerHasBackpressure", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamDefaultControllerHasBackpressure", "type": "abstract-op", "url": "#rs-default-controller-has-backpressure" },
                "#rs-from": { "displayText": "from(asyncIterable)", "export": true, "for_": ["ReadableStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "from(asyncIterable)", "type": "method", "url": "#rs-from" },
                "#rs-get-reader": { "displayText": "getReader()", "export": true, "for_": ["ReadableStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "getReader()", "type": "method", "url": "#rs-get-reader" },
                "#rs-locked": { "displayText": "locked", "export": true, "for_": ["ReadableStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "locked", "type": "attribute", "url": "#rs-locked" },
                "#rs-pipe-through": { "displayText": "pipeThrough(transform)", "export": true, "for_": ["ReadableStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "pipeThrough(transform)", "type": "method", "url": "#rs-pipe-through" },
                "#rs-pipe-to": { "displayText": "pipeTo(destination)", "export": true, "for_": ["ReadableStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "pipeTo(destination)", "type": "method", "url": "#rs-pipe-to" },
                "#rs-pipeTo-finalize": { "displayText": "finalize", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "finalize", "type": "dfn", "url": "#rs-pipeTo-finalize" },
                "#rs-pipeTo-shutdown": { "displayText": "shutdown", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "shutdown", "type": "dfn", "url": "#rs-pipeTo-shutdown" },
                "#rs-pipeTo-shutdown-with-action": { "displayText": "shutdown with an action", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "shutdown with an action", "type": "dfn", "url": "#rs-pipeTo-shutdown-with-action" },
                "#rs-tee": { "displayText": "tee()", "export": true, "for_": ["ReadableStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "tee()", "type": "method", "url": "#rs-tee" },
                "#set-up-readable-byte-stream-controller": { "displayText": "SetUpReadableByteStreamController", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "SetUpReadableByteStreamController", "type": "abstract-op", "url": "#set-up-readable-byte-stream-controller" },
                "#set-up-readable-byte-stream-controller-from-underlying-source": { "displayText": "SetUpReadableByteStreamControllerFromUnderlyingSource", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "SetUpReadableByteStreamControllerFromUnderlyingSource", "type": "abstract-op", "url": "#set-up-readable-byte-stream-controller-from-underlying-source" },
                "#set-up-readable-stream-byob-reader": { "displayText": "SetUpReadableStreamBYOBReader", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "SetUpReadableStreamBYOBReader", "type": "abstract-op", "url": "#set-up-readable-stream-byob-reader" },
                "#set-up-readable-stream-default-controller": { "displayText": "SetUpReadableStreamDefaultController", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "SetUpReadableStreamDefaultController", "type": "abstract-op", "url": "#set-up-readable-stream-default-controller" },
                "#set-up-readable-stream-default-controller-from-underlying-source": { "displayText": "SetUpReadableStreamDefaultControllerFromUnderlyingSource", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "SetUpReadableStreamDefaultControllerFromUnderlyingSource", "type": "abstract-op", "url": "#set-up-readable-stream-default-controller-from-underlying-source" },
                "#set-up-readable-stream-default-reader": { "displayText": "SetUpReadableStreamDefaultReader", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "SetUpReadableStreamDefaultReader", "type": "abstract-op", "url": "#set-up-readable-stream-default-reader" },
                "#set-up-transform-stream-default-controller": { "displayText": "SetUpTransformStreamDefaultController", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "SetUpTransformStreamDefaultController", "type": "abstract-op", "url": "#set-up-transform-stream-default-controller" },
                "#set-up-transform-stream-default-controller-from-transformer": { "displayText": "SetUpTransformStreamDefaultControllerFromTransformer", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "SetUpTransformStreamDefaultControllerFromTransformer", "type": "abstract-op", "url": "#set-up-transform-stream-default-controller-from-transformer" },
                "#set-up-writable-stream-default-controller": { "displayText": "SetUpWritableStreamDefaultController", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "SetUpWritableStreamDefaultController", "type": "abstract-op", "url": "#set-up-writable-stream-default-controller" },
                "#set-up-writable-stream-default-controller-from-underlying-sink": { "displayText": "SetUpWritableStreamDefaultControllerFromUnderlyingSink", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "SetUpWritableStreamDefaultControllerFromUnderlyingSink", "type": "abstract-op", "url": "#set-up-writable-stream-default-controller-from-underlying-sink" },
                "#set-up-writable-stream-default-writer": { "displayText": "SetUpWritableStreamDefaultWriter", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "SetUpWritableStreamDefaultWriter", "type": "abstract-op", "url": "#set-up-writable-stream-default-writer" },
                "#tee-a-readable-stream": { "displayText": "tee a readable stream", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "tee a readable stream", "type": "dfn", "url": "#tee-a-readable-stream" },
                "#transfer-array-buffer": { "displayText": "TransferArrayBuffer", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "TransferArrayBuffer", "type": "abstract-op", "url": "#transfer-array-buffer" },
                "#transform-stream": { "displayText": "transform stream", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "transform stream", "type": "dfn", "url": "#transform-stream" },
                "#transform-stream-default-controller-clear-algorithms": { "displayText": "TransformStreamDefaultControllerClearAlgorithms", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "TransformStreamDefaultControllerClearAlgorithms", "type": "abstract-op", "url": "#transform-stream-default-controller-clear-algorithms" },
                "#transform-stream-default-controller-enqueue": { "displayText": "TransformStreamDefaultControllerEnqueue", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "TransformStreamDefaultControllerEnqueue", "type": "abstract-op", "url": "#transform-stream-default-controller-enqueue" },
                "#transform-stream-default-controller-error": { "displayText": "TransformStreamDefaultControllerError", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "TransformStreamDefaultControllerError", "type": "abstract-op", "url": "#transform-stream-default-controller-error" },
                "#transform-stream-default-controller-perform-transform": { "displayText": "TransformStreamDefaultControllerPerformTransform", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "TransformStreamDefaultControllerPerformTransform", "type": "abstract-op", "url": "#transform-stream-default-controller-perform-transform" },
                "#transform-stream-default-controller-terminate": { "displayText": "TransformStreamDefaultControllerTerminate", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "TransformStreamDefaultControllerTerminate", "type": "abstract-op", "url": "#transform-stream-default-controller-terminate" },
                "#transform-stream-default-sink-abort-algorithm": { "displayText": "TransformStreamDefaultSinkAbortAlgorithm", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "TransformStreamDefaultSinkAbortAlgorithm", "type": "abstract-op", "url": "#transform-stream-default-sink-abort-algorithm" },
                "#transform-stream-default-sink-close-algorithm": { "displayText": "TransformStreamDefaultSinkCloseAlgorithm", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "TransformStreamDefaultSinkCloseAlgorithm", "type": "abstract-op", "url": "#transform-stream-default-sink-close-algorithm" },
                "#transform-stream-default-sink-write-algorithm": { "displayText": "TransformStreamDefaultSinkWriteAlgorithm", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "TransformStreamDefaultSinkWriteAlgorithm", "type": "abstract-op", "url": "#transform-stream-default-sink-write-algorithm" },
                "#transform-stream-default-source-cancel": { "displayText": "TransformStreamDefaultSourceCancelAlgorithm", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "TransformStreamDefaultSourceCancelAlgorithm", "type": "abstract-op", "url": "#transform-stream-default-source-cancel" },
                "#transform-stream-default-source-pull": { "displayText": "TransformStreamDefaultSourcePullAlgorithm", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "TransformStreamDefaultSourcePullAlgorithm", "type": "abstract-op", "url": "#transform-stream-default-source-pull" },
                "#transform-stream-error": { "displayText": "TransformStreamError", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "TransformStreamError", "type": "abstract-op", "url": "#transform-stream-error" },
                "#transform-stream-error-writable-and-unblock-write": { "displayText": "TransformStreamErrorWritableAndUnblockWrite", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "TransformStreamErrorWritableAndUnblockWrite", "type": "abstract-op", "url": "#transform-stream-error-writable-and-unblock-write" },
                "#transform-stream-set-backpressure": { "displayText": "TransformStreamSetBackpressure", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "TransformStreamSetBackpressure", "type": "abstract-op", "url": "#transform-stream-set-backpressure" },
                "#transform-stream-unblock-write": { "displayText": "TransformStreamUnblockWrite", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "TransformStreamUnblockWrite", "type": "abstract-op", "url": "#transform-stream-unblock-write" },
                "#transformer": { "displayText": "transformer", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "transformer", "type": "dfn", "url": "#transformer" },
                "#transformstream": { "displayText": "TransformStream", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "TransformStream", "type": "interface", "url": "#transformstream" },
                "#transformstream-backpressure": { "displayText": "[[backpressure]]", "export": true, "for_": ["TransformStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[backpressure]]", "type": "dfn", "url": "#transformstream-backpressure" },
                "#transformstream-backpressurechangepromise": { "displayText": "[[backpressurechangepromise]]", "export": true, "for_": ["TransformStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[backpressurechangepromise]]", "type": "dfn", "url": "#transformstream-backpressurechangepromise" },
                "#transformstream-controller": { "displayText": "[[controller]]", "export": true, "for_": ["TransformStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[controller]]", "type": "dfn", "url": "#transformstream-controller" },
                "#transformstream-enqueue": { "displayText": "enqueue", "export": true, "for_": ["TransformStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "enqueue", "type": "dfn", "url": "#transformstream-enqueue" },
                "#transformstream-readable": { "displayText": "[[readable]]", "export": true, "for_": ["TransformStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[readable]]", "type": "dfn", "url": "#transformstream-readable" },
                "#transformstream-set-up": { "displayText": "set up", "export": true, "for_": ["TransformStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "set up", "type": "dfn", "url": "#transformstream-set-up" },
                "#transformstream-set-up-flushalgorithm": { "displayText": "flushalgorithm", "export": true, "for_": ["TransformStream/set up"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "flushalgorithm", "type": "dfn", "url": "#transformstream-set-up-flushalgorithm" },
                "#transformstream-set-up-transformalgorithm": { "displayText": "transformalgorithm", "export": true, "for_": ["TransformStream/set up"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "transformalgorithm", "type": "dfn", "url": "#transformstream-set-up-transformalgorithm" },
                "#transformstream-writable": { "displayText": "[[writable]]", "export": true, "for_": ["TransformStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[writable]]", "type": "dfn", "url": "#transformstream-writable" },
                "#transformstreamdefaultcontroller": { "displayText": "TransformStreamDefaultController", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "TransformStreamDefaultController", "type": "interface", "url": "#transformstreamdefaultcontroller" },
                "#transformstreamdefaultcontroller-cancelalgorithm": { "displayText": "[[cancelalgorithm]]", "export": true, "for_": ["TransformStreamDefaultController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[cancelalgorithm]]", "type": "dfn", "url": "#transformstreamdefaultcontroller-cancelalgorithm" },
                "#transformstreamdefaultcontroller-finishpromise": { "displayText": "[[finishpromise]]", "export": true, "for_": ["TransformStreamDefaultController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[finishpromise]]", "type": "dfn", "url": "#transformstreamdefaultcontroller-finishpromise" },
                "#transformstreamdefaultcontroller-flushalgorithm": { "displayText": "[[flushalgorithm]]", "export": true, "for_": ["TransformStreamDefaultController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[flushalgorithm]]", "type": "dfn", "url": "#transformstreamdefaultcontroller-flushalgorithm" },
                "#transformstreamdefaultcontroller-stream": { "displayText": "[[stream]]", "export": true, "for_": ["TransformStreamDefaultController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[stream]]", "type": "dfn", "url": "#transformstreamdefaultcontroller-stream" },
                "#transformstreamdefaultcontroller-transformalgorithm": { "displayText": "[[transformalgorithm]]", "export": true, "for_": ["TransformStreamDefaultController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[transformalgorithm]]", "type": "dfn", "url": "#transformstreamdefaultcontroller-transformalgorithm" },
                "#ts-constructor": { "displayText": "TransformStream()", "export": true, "for_": ["TransformStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "TransformStream()", "type": "constructor", "url": "#ts-constructor" },
                "#ts-default-controller-desired-size": { "displayText": "desiredSize", "export": true, "for_": ["TransformStreamDefaultController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "desiredSize", "type": "attribute", "url": "#ts-default-controller-desired-size" },
                "#ts-default-controller-enqueue": { "displayText": "enqueue()", "export": true, "for_": ["TransformStreamDefaultController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "enqueue()", "type": "method", "url": "#ts-default-controller-enqueue" },
                "#ts-default-controller-error": { "displayText": "error()", "export": true, "for_": ["TransformStreamDefaultController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "error()", "type": "method", "url": "#ts-default-controller-error" },
                "#ts-default-controller-terminate": { "displayText": "terminate()", "export": true, "for_": ["TransformStreamDefaultController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "terminate()", "type": "method", "url": "#ts-default-controller-terminate" },
                "#ts-readable": { "displayText": "readable", "export": true, "for_": ["TransformStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "readable", "type": "attribute", "url": "#ts-readable" },
                "#ts-writable": { "displayText": "writable", "export": true, "for_": ["TransformStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "writable", "type": "attribute", "url": "#ts-writable" },
                "#typedefdef-readablestreamcontroller": { "displayText": "ReadableStreamController", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamController", "type": "typedef", "url": "#typedefdef-readablestreamcontroller" },
                "#typedefdef-readablestreamreader": { "displayText": "ReadableStreamReader", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ReadableStreamReader", "type": "typedef", "url": "#typedefdef-readablestreamreader" },
                "#ultimate-sink": { "displayText": "ultimate sink", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ultimate sink", "type": "dfn", "url": "#ultimate-sink" },
                "#underlying-byte-source": { "displayText": "underlying byte source", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "underlying byte source", "type": "dfn", "url": "#underlying-byte-source" },
                "#underlying-sink": { "displayText": "underlying sink", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "underlying sink", "type": "dfn", "url": "#underlying-sink" },
                "#underlying-source": { "displayText": "underlying source", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "underlying source", "type": "dfn", "url": "#underlying-source" },
                "#validate-and-normalize-high-water-mark": { "displayText": "ExtractHighWaterMark", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "ExtractHighWaterMark", "type": "abstract-op", "url": "#validate-and-normalize-high-water-mark" },
                "#value-with-size": { "displayText": "value-with-size", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "value-with-size", "type": "dfn", "url": "#value-with-size" },
                "#value-with-size-size": { "displayText": "size", "export": true, "for_": ["value-with-size"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "size", "type": "dfn", "url": "#value-with-size-size" },
                "#value-with-size-value": { "displayText": "value", "export": true, "for_": ["value-with-size"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "value", "type": "dfn", "url": "#value-with-size-value" },
                "#writable-side": { "displayText": "writable side", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "writable side", "type": "dfn", "url": "#writable-side" },
                "#writable-stream": { "displayText": "writable stream", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "writable stream", "type": "dfn", "url": "#writable-stream" },
                "#writable-stream-abort": { "displayText": "WritableStreamAbort", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "WritableStreamAbort", "type": "abstract-op", "url": "#writable-stream-abort" },
                "#writable-stream-add-write-request": { "displayText": "WritableStreamAddWriteRequest", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "WritableStreamAddWriteRequest", "type": "abstract-op", "url": "#writable-stream-add-write-request" },
                "#writable-stream-close": { "displayText": "WritableStreamClose", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "WritableStreamClose", "type": "abstract-op", "url": "#writable-stream-close" },
                "#writable-stream-close-queued-or-in-flight": { "displayText": "WritableStreamCloseQueuedOrInFlight", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "WritableStreamCloseQueuedOrInFlight", "type": "abstract-op", "url": "#writable-stream-close-queued-or-in-flight" },
                "#writable-stream-deal-with-rejection": { "displayText": "WritableStreamDealWithRejection", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "WritableStreamDealWithRejection", "type": "abstract-op", "url": "#writable-stream-deal-with-rejection" },
                "#writable-stream-default-controller-advance-queue-if-needed": { "displayText": "WritableStreamDefaultControllerAdvanceQueueIfNeeded", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "WritableStreamDefaultControllerAdvanceQueueIfNeeded", "type": "abstract-op", "url": "#writable-stream-default-controller-advance-queue-if-needed" },
                "#writable-stream-default-controller-clear-algorithms": { "displayText": "WritableStreamDefaultControllerClearAlgorithms", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "WritableStreamDefaultControllerClearAlgorithms", "type": "abstract-op", "url": "#writable-stream-default-controller-clear-algorithms" },
                "#writable-stream-default-controller-close": { "displayText": "WritableStreamDefaultControllerClose", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "WritableStreamDefaultControllerClose", "type": "abstract-op", "url": "#writable-stream-default-controller-close" },
                "#writable-stream-default-controller-error": { "displayText": "WritableStreamDefaultControllerError", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "WritableStreamDefaultControllerError", "type": "abstract-op", "url": "#writable-stream-default-controller-error" },
                "#writable-stream-default-controller-error-if-needed": { "displayText": "WritableStreamDefaultControllerErrorIfNeeded", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "WritableStreamDefaultControllerErrorIfNeeded", "type": "abstract-op", "url": "#writable-stream-default-controller-error-if-needed" },
                "#writable-stream-default-controller-get-backpressure": { "displayText": "WritableStreamDefaultControllerGetBackpressure", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "WritableStreamDefaultControllerGetBackpressure", "type": "abstract-op", "url": "#writable-stream-default-controller-get-backpressure" },
                "#writable-stream-default-controller-get-chunk-size": { "displayText": "WritableStreamDefaultControllerGetChunkSize", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "WritableStreamDefaultControllerGetChunkSize", "type": "abstract-op", "url": "#writable-stream-default-controller-get-chunk-size" },
                "#writable-stream-default-controller-get-desired-size": { "displayText": "WritableStreamDefaultControllerGetDesiredSize", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "WritableStreamDefaultControllerGetDesiredSize", "type": "abstract-op", "url": "#writable-stream-default-controller-get-desired-size" },
                "#writable-stream-default-controller-process-close": { "displayText": "WritableStreamDefaultControllerProcessClose", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "WritableStreamDefaultControllerProcessClose", "type": "abstract-op", "url": "#writable-stream-default-controller-process-close" },
                "#writable-stream-default-controller-process-write": { "displayText": "WritableStreamDefaultControllerProcessWrite", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "WritableStreamDefaultControllerProcessWrite", "type": "abstract-op", "url": "#writable-stream-default-controller-process-write" },
                "#writable-stream-default-controller-write": { "displayText": "WritableStreamDefaultControllerWrite", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "WritableStreamDefaultControllerWrite", "type": "abstract-op", "url": "#writable-stream-default-controller-write" },
                "#writable-stream-default-writer-abort": { "displayText": "WritableStreamDefaultWriterAbort", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "WritableStreamDefaultWriterAbort", "type": "abstract-op", "url": "#writable-stream-default-writer-abort" },
                "#writable-stream-default-writer-close": { "displayText": "WritableStreamDefaultWriterClose", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "WritableStreamDefaultWriterClose", "type": "abstract-op", "url": "#writable-stream-default-writer-close" },
                "#writable-stream-default-writer-close-with-error-propagation": { "displayText": "WritableStreamDefaultWriterCloseWithErrorPropagation", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "WritableStreamDefaultWriterCloseWithErrorPropagation", "type": "abstract-op", "url": "#writable-stream-default-writer-close-with-error-propagation" },
                "#writable-stream-default-writer-ensure-closed-promise-rejected": { "displayText": "WritableStreamDefaultWriterEnsureClosedPromiseRejected", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "WritableStreamDefaultWriterEnsureClosedPromiseRejected", "type": "abstract-op", "url": "#writable-stream-default-writer-ensure-closed-promise-rejected" },
                "#writable-stream-default-writer-ensure-ready-promise-rejected": { "displayText": "WritableStreamDefaultWriterEnsureReadyPromiseRejected", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "WritableStreamDefaultWriterEnsureReadyPromiseRejected", "type": "abstract-op", "url": "#writable-stream-default-writer-ensure-ready-promise-rejected" },
                "#writable-stream-default-writer-get-desired-size": { "displayText": "WritableStreamDefaultWriterGetDesiredSize", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "WritableStreamDefaultWriterGetDesiredSize", "type": "abstract-op", "url": "#writable-stream-default-writer-get-desired-size" },
                "#writable-stream-default-writer-release": { "displayText": "WritableStreamDefaultWriterRelease", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "WritableStreamDefaultWriterRelease", "type": "abstract-op", "url": "#writable-stream-default-writer-release" },
                "#writable-stream-default-writer-write": { "displayText": "WritableStreamDefaultWriterWrite", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "WritableStreamDefaultWriterWrite", "type": "abstract-op", "url": "#writable-stream-default-writer-write" },
                "#writable-stream-finish-erroring": { "displayText": "WritableStreamFinishErroring", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "WritableStreamFinishErroring", "type": "abstract-op", "url": "#writable-stream-finish-erroring" },
                "#writable-stream-finish-in-flight-close": { "displayText": "WritableStreamFinishInFlightClose", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "WritableStreamFinishInFlightClose", "type": "abstract-op", "url": "#writable-stream-finish-in-flight-close" },
                "#writable-stream-finish-in-flight-close-with-error": { "displayText": "WritableStreamFinishInFlightCloseWithError", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "WritableStreamFinishInFlightCloseWithError", "type": "abstract-op", "url": "#writable-stream-finish-in-flight-close-with-error" },
                "#writable-stream-finish-in-flight-write": { "displayText": "WritableStreamFinishInFlightWrite", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "WritableStreamFinishInFlightWrite", "type": "abstract-op", "url": "#writable-stream-finish-in-flight-write" },
                "#writable-stream-finish-in-flight-write-with-error": { "displayText": "WritableStreamFinishInFlightWriteWithError", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "WritableStreamFinishInFlightWriteWithError", "type": "abstract-op", "url": "#writable-stream-finish-in-flight-write-with-error" },
                "#writable-stream-has-operation-marked-in-flight": { "displayText": "WritableStreamHasOperationMarkedInFlight", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "WritableStreamHasOperationMarkedInFlight", "type": "abstract-op", "url": "#writable-stream-has-operation-marked-in-flight" },
                "#writable-stream-mark-close-request-in-flight": { "displayText": "WritableStreamMarkCloseRequestInFlight", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "WritableStreamMarkCloseRequestInFlight", "type": "abstract-op", "url": "#writable-stream-mark-close-request-in-flight" },
                "#writable-stream-mark-first-write-request-in-flight": { "displayText": "WritableStreamMarkFirstWriteRequestInFlight", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "WritableStreamMarkFirstWriteRequestInFlight", "type": "abstract-op", "url": "#writable-stream-mark-first-write-request-in-flight" },
                "#writable-stream-reject-close-and-closed-promise-if-needed": { "displayText": "WritableStreamRejectCloseAndClosedPromiseIfNeeded", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "WritableStreamRejectCloseAndClosedPromiseIfNeeded", "type": "abstract-op", "url": "#writable-stream-reject-close-and-closed-promise-if-needed" },
                "#writable-stream-start-erroring": { "displayText": "WritableStreamStartErroring", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "WritableStreamStartErroring", "type": "abstract-op", "url": "#writable-stream-start-erroring" },
                "#writable-stream-update-backpressure": { "displayText": "WritableStreamUpdateBackpressure", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "WritableStreamUpdateBackpressure", "type": "abstract-op", "url": "#writable-stream-update-backpressure" },
                "#writablestream": { "displayText": "WritableStream", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "WritableStream", "type": "interface", "url": "#writablestream" },
                "#writablestream-backpressure": { "displayText": "[[backpressure]]", "export": true, "for_": ["WritableStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[backpressure]]", "type": "dfn", "url": "#writablestream-backpressure" },
                "#writablestream-close": { "displayText": "close", "export": true, "for_": ["WritableStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "close", "type": "dfn", "url": "#writablestream-close" },
                "#writablestream-closerequest": { "displayText": "[[closerequest]]", "export": true, "for_": ["WritableStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[closerequest]]", "type": "dfn", "url": "#writablestream-closerequest" },
                "#writablestream-controller": { "displayText": "[[controller]]", "export": true, "for_": ["WritableStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[controller]]", "type": "dfn", "url": "#writablestream-controller" },
                "#writablestream-inflightcloserequest": { "displayText": "[[inflightcloserequest]]", "export": true, "for_": ["WritableStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[inflightcloserequest]]", "type": "dfn", "url": "#writablestream-inflightcloserequest" },
                "#writablestream-inflightwriterequest": { "displayText": "[[inflightwriterequest]]", "export": true, "for_": ["WritableStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[inflightwriterequest]]", "type": "dfn", "url": "#writablestream-inflightwriterequest" },
                "#writablestream-pendingabortrequest": { "displayText": "[[pendingabortrequest]]", "export": true, "for_": ["WritableStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[pendingabortrequest]]", "type": "dfn", "url": "#writablestream-pendingabortrequest" },
                "#writablestream-set-up": { "displayText": "set up", "export": true, "for_": ["WritableStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "set up", "type": "dfn", "url": "#writablestream-set-up" },
                "#writablestream-set-up-writealgorithm": { "displayText": "writealgorithm", "export": true, "for_": ["WritableStream/set up"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "writealgorithm", "type": "dfn", "url": "#writablestream-set-up-writealgorithm" },
                "#writablestream-signal": { "displayText": "signal", "export": true, "for_": ["WritableStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "signal", "type": "dfn", "url": "#writablestream-signal" },
                "#writablestream-state": { "displayText": "[[state]]", "export": true, "for_": ["WritableStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[state]]", "type": "dfn", "url": "#writablestream-state" },
                "#writablestream-storederror": { "displayText": "[[storederror]]", "export": true, "for_": ["WritableStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[storederror]]", "type": "dfn", "url": "#writablestream-storederror" },
                "#writablestream-writer": { "displayText": "[[writer]]", "export": true, "for_": ["WritableStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[writer]]", "type": "dfn", "url": "#writablestream-writer" },
                "#writablestream-writerequests": { "displayText": "[[writerequests]]", "export": true, "for_": ["WritableStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[writerequests]]", "type": "dfn", "url": "#writablestream-writerequests" },
                "#writablestreamdefaultcontroller": { "displayText": "WritableStreamDefaultController", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "WritableStreamDefaultController", "type": "interface", "url": "#writablestreamdefaultcontroller" },
                "#writablestreamdefaultcontroller-abortalgorithm": { "displayText": "[[abortalgorithm]]", "export": true, "for_": ["WritableStreamDefaultController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[abortalgorithm]]", "type": "dfn", "url": "#writablestreamdefaultcontroller-abortalgorithm" },
                "#writablestreamdefaultcontroller-abortcontroller": { "displayText": "[[abortcontroller]]", "export": true, "for_": ["WritableStreamDefaultController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[abortcontroller]]", "type": "dfn", "url": "#writablestreamdefaultcontroller-abortcontroller" },
                "#writablestreamdefaultcontroller-closealgorithm": { "displayText": "[[closealgorithm]]", "export": true, "for_": ["WritableStreamDefaultController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[closealgorithm]]", "type": "dfn", "url": "#writablestreamdefaultcontroller-closealgorithm" },
                "#writablestreamdefaultcontroller-queue": { "displayText": "[[queue]]", "export": true, "for_": ["WritableStreamDefaultController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[queue]]", "type": "dfn", "url": "#writablestreamdefaultcontroller-queue" },
                "#writablestreamdefaultcontroller-queuetotalsize": { "displayText": "[[queuetotalsize]]", "export": true, "for_": ["WritableStreamDefaultController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[queuetotalsize]]", "type": "dfn", "url": "#writablestreamdefaultcontroller-queuetotalsize" },
                "#writablestreamdefaultcontroller-started": { "displayText": "[[started]]", "export": true, "for_": ["WritableStreamDefaultController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[started]]", "type": "dfn", "url": "#writablestreamdefaultcontroller-started" },
                "#writablestreamdefaultcontroller-strategyhwm": { "displayText": "[[strategyhwm]]", "export": true, "for_": ["WritableStreamDefaultController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[strategyhwm]]", "type": "dfn", "url": "#writablestreamdefaultcontroller-strategyhwm" },
                "#writablestreamdefaultcontroller-strategysizealgorithm": { "displayText": "[[strategysizealgorithm]]", "export": true, "for_": ["WritableStreamDefaultController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[strategysizealgorithm]]", "type": "dfn", "url": "#writablestreamdefaultcontroller-strategysizealgorithm" },
                "#writablestreamdefaultcontroller-stream": { "displayText": "[[stream]]", "export": true, "for_": ["WritableStreamDefaultController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[stream]]", "type": "dfn", "url": "#writablestreamdefaultcontroller-stream" },
                "#writablestreamdefaultcontroller-writealgorithm": { "displayText": "[[writealgorithm]]", "export": true, "for_": ["WritableStreamDefaultController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[writealgorithm]]", "type": "dfn", "url": "#writablestreamdefaultcontroller-writealgorithm" },
                "#writablestreamdefaultwriter": { "displayText": "WritableStreamDefaultWriter", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "WritableStreamDefaultWriter", "type": "interface", "url": "#writablestreamdefaultwriter" },
                "#writablestreamdefaultwriter-closedpromise": { "displayText": "[[closedpromise]]", "export": true, "for_": ["WritableStreamDefaultWriter"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[closedpromise]]", "type": "dfn", "url": "#writablestreamdefaultwriter-closedpromise" },
                "#writablestreamdefaultwriter-readypromise": { "displayText": "[[readypromise]]", "export": true, "for_": ["WritableStreamDefaultWriter"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[readypromise]]", "type": "dfn", "url": "#writablestreamdefaultwriter-readypromise" },
                "#writablestreamdefaultwriter-stream": { "displayText": "[[stream]]", "export": true, "for_": ["WritableStreamDefaultWriter"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "[[stream]]", "type": "dfn", "url": "#writablestreamdefaultwriter-stream" },
                "#writer": { "displayText": "writer", "export": true, "for_": [], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "writer", "type": "dfn", "url": "#writer" },
                "#ws-abort": { "displayText": "abort()", "export": true, "for_": ["WritableStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "abort()", "type": "method", "url": "#ws-abort" },
                "#ws-close": { "displayText": "close()", "export": true, "for_": ["WritableStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "close()", "type": "method", "url": "#ws-close" },
                "#ws-constructor": { "displayText": "WritableStream()", "export": true, "for_": ["WritableStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "WritableStream()", "type": "constructor", "url": "#ws-constructor" },
                "#ws-default-controller-error": { "displayText": "error(e)", "export": true, "for_": ["WritableStreamDefaultController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "error(e)", "type": "method", "url": "#ws-default-controller-error" },
                "#ws-default-controller-signal": { "displayText": "signal", "export": true, "for_": ["WritableStreamDefaultController"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "signal", "type": "attribute", "url": "#ws-default-controller-signal" },
                "#ws-get-writer": { "displayText": "getWriter()", "export": true, "for_": ["WritableStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "getWriter()", "type": "method", "url": "#ws-get-writer" },
                "#ws-locked": { "displayText": "locked", "export": true, "for_": ["WritableStream"], "level": "", "normative": true, "shortname": "streams", "spec": "streams", "status": "local", "text": "locked", "type": "attribute", "url": "#ws-locked" },
                "08a5d589_https://tc39.es/ecma262/#sec-object-type": { "displayText": "is an Object", "export": true, "for_": [], "level": "", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "anchor-block", "text": "is an object", "type": "dfn", "url": "https://tc39.es/ecma262/#sec-object-type" },
                "b4cd276c_https://tc39.es/ecma262/#sec-typedarray-objects": { "displayText": "typed array", "export": true, "for_": [], "level": "", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "anchor-block", "text": "typed array", "type": "dfn", "url": "https://tc39.es/ecma262/#sec-typedarray-objects" },
                "https://compression.spec.whatwg.org/#compressionstream": { "displayText": "CompressionStream", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "compression", "spec": "compression", "status": "current", "text": "CompressionStream", "type": "interface", "url": "https://compression.spec.whatwg.org/#compressionstream" },
                "https://dom.spec.whatwg.org/#abortcontroller": { "displayText": "AbortController", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "AbortController", "type": "interface", "url": "https://dom.spec.whatwg.org/#abortcontroller" },
                "https://dom.spec.whatwg.org/#abortcontroller-signal": { "displayText": "signal", "export": true, "for_": ["AbortController"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "signal", "type": "dfn", "url": "https://dom.spec.whatwg.org/#abortcontroller-signal" },
                "https://dom.spec.whatwg.org/#abortcontroller-signal-abort": { "displayText": "signal abort", "export": true, "for_": ["AbortController"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "signal abort", "type": "dfn", "url": "https://dom.spec.whatwg.org/#abortcontroller-signal-abort" },
                "https://dom.spec.whatwg.org/#abortsignal": { "displayText": "AbortSignal", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "AbortSignal", "type": "interface", "url": "https://dom.spec.whatwg.org/#abortsignal" },
                "https://dom.spec.whatwg.org/#abortsignal-abort-reason": { "displayText": "abort reason", "export": true, "for_": ["AbortSignal"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "abort reason", "type": "dfn", "url": "https://dom.spec.whatwg.org/#abortsignal-abort-reason" },
                "https://dom.spec.whatwg.org/#abortsignal-aborted": { "displayText": "aborted", "export": true, "for_": ["AbortSignal"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "aborted", "type": "dfn", "url": "https://dom.spec.whatwg.org/#abortsignal-aborted" },
                "https://dom.spec.whatwg.org/#abortsignal-add": { "displayText": "add", "export": true, "for_": ["AbortSignal"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "add", "type": "dfn", "url": "https://dom.spec.whatwg.org/#abortsignal-add" },
                "https://dom.spec.whatwg.org/#abortsignal-remove": { "displayText": "remove", "export": true, "for_": ["AbortSignal"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "remove", "type": "dfn", "url": "https://dom.spec.whatwg.org/#abortsignal-remove" },
                "https://encoding.spec.whatwg.org/#textdecoderstream": { "displayText": "TextDecoderStream", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "current", "text": "TextDecoderStream", "type": "interface", "url": "https://encoding.spec.whatwg.org/#textdecoderstream" },
                "https://fetch.spec.whatwg.org/#concept-request-body": { "displayText": "body", "export": true, "for_": ["request"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "body", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-request-body" },
                "https://fetch.spec.whatwg.org/#dom-global-fetch": { "displayText": "fetch(input)", "export": true, "for_": ["WindowOrWorkerGlobalScope"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "fetch(input)", "type": "method", "url": "https://fetch.spec.whatwg.org/#dom-global-fetch" },
                "https://fetch.spec.whatwg.org/#response": { "displayText": "Response", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "Response", "type": "interface", "url": "https://fetch.spec.whatwg.org/#response" },
                "https://html.spec.whatwg.org/multipage/embedded-content.html#the-img-element": { "displayText": "img", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "img", "type": "element", "url": "https://html.spec.whatwg.org/multipage/embedded-content.html#the-img-element" },
                "https://html.spec.whatwg.org/multipage/indices.html#event-message": { "displayText": "message", "export": true, "for_": ["Window", "EventSource", "MessagePort", "BroadcastChannel", "DedicatedWorkerGlobalScope", "Worker", "ServiceWorkerContainer"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "message", "type": "event", "url": "https://html.spec.whatwg.org/multipage/indices.html#event-message" },
                "https://html.spec.whatwg.org/multipage/indices.html#event-messageerror": { "displayText": "messageerror", "export": true, "for_": ["Window", "MessagePort", "BroadcastChannel", "DedicatedWorkerGlobalScope", "Worker", "ServiceWorkerContainer"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "messageerror", "type": "event", "url": "https://html.spec.whatwg.org/multipage/indices.html#event-messageerror" },
                "https://html.spec.whatwg.org/multipage/indices.html#event-unhandledrejection": { "displayText": "unhandledrejection", "export": true, "for_": ["Window", "WorkerGlobalScope"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "unhandledrejection", "type": "event", "url": "https://html.spec.whatwg.org/multipage/indices.html#event-unhandledrejection" },
                "https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel": { "displayText": "in parallel", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "in parallel", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" },
                "https://html.spec.whatwg.org/multipage/structured-data.html#serializable-objects": { "displayText": "serializable object", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "serializable object", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/structured-data.html#serializable-objects" },
                "https://html.spec.whatwg.org/multipage/structured-data.html#structureddeserialize": { "displayText": "StructuredDeserialize", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "StructuredDeserialize", "type": "abstract-op", "url": "https://html.spec.whatwg.org/multipage/structured-data.html#structureddeserialize" },
                "https://html.spec.whatwg.org/multipage/structured-data.html#structureddeserializewithtransfer": { "displayText": "StructuredDeserializeWithTransfer", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "StructuredDeserializeWithTransfer", "type": "abstract-op", "url": "https://html.spec.whatwg.org/multipage/structured-data.html#structureddeserializewithtransfer" },
                "https://html.spec.whatwg.org/multipage/structured-data.html#structuredserialize": { "displayText": "StructuredSerialize", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "StructuredSerialize", "type": "abstract-op", "url": "https://html.spec.whatwg.org/multipage/structured-data.html#structuredserialize" },
                "https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializewithtransfer": { "displayText": "StructuredSerializeWithTransfer", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "StructuredSerializeWithTransfer", "type": "abstract-op", "url": "https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializewithtransfer" },
                "https://html.spec.whatwg.org/multipage/structured-data.html#transfer-receiving-steps": { "displayText": "transfer-receiving steps", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "transfer-receiving steps", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/structured-data.html#transfer-receiving-steps" },
                "https://html.spec.whatwg.org/multipage/structured-data.html#transfer-steps": { "displayText": "transfer steps", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "transfer steps", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/structured-data.html#transfer-steps" },
                "https://html.spec.whatwg.org/multipage/structured-data.html#transferable": { "displayText": "Transferable", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "Transferable", "type": "extended-attribute", "url": "https://html.spec.whatwg.org/multipage/structured-data.html#transferable" },
                "https://html.spec.whatwg.org/multipage/structured-data.html#transferable-objects": { "displayText": "transferable object", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "transferable object", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/structured-data.html#transferable-objects" },
                "https://html.spec.whatwg.org/multipage/web-messaging.html#entangle": { "displayText": "entangle", "export": false, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "entangle", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/web-messaging.html#entangle" },
                "https://html.spec.whatwg.org/multipage/web-messaging.html#message-port-post-message-steps": { "displayText": "message port post message steps", "export": false, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "message port post message steps", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/web-messaging.html#message-port-post-message-steps" },
                "https://html.spec.whatwg.org/multipage/web-messaging.html#messageport": { "displayText": "MessagePort", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "MessagePort", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/web-messaging.html#messageport" },
                "https://html.spec.whatwg.org/multipage/web-messaging.html#port-message-queue": { "displayText": "port message queue", "export": false, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "port message queue", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/web-messaging.html#port-message-queue" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global": { "displayText": "relevant global object", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "relevant global object", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm": { "displayText": "relevant realm", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "relevant realm", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#global-object": { "displayText": "global object", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "global object", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#global-object" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-microtask": { "displayText": "queue a microtask", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "queue a microtask", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-microtask" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object": { "displayText": "relevant settings object", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "relevant settings object", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" },
                "https://infra.spec.whatwg.org/#byte-sequence": { "displayText": "byte sequence", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "byte sequence", "type": "dfn", "url": "https://infra.spec.whatwg.org/#byte-sequence" },
                "https://infra.spec.whatwg.org/#byte-sequence-length": { "displayText": "length", "export": true, "for_": ["byte sequence"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "length", "type": "dfn", "url": "https://infra.spec.whatwg.org/#byte-sequence-length" },
                "https://infra.spec.whatwg.org/#implementation-defined": { "displayText": "implementation-defined", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "implementation-defined", "type": "dfn", "url": "https://infra.spec.whatwg.org/#implementation-defined" },
                "https://infra.spec.whatwg.org/#iteration-break": { "displayText": "break", "export": true, "for_": ["iteration"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "break", "type": "dfn", "url": "https://infra.spec.whatwg.org/#iteration-break" },
                "https://infra.spec.whatwg.org/#iteration-while": { "displayText": "while", "export": true, "for_": ["iteration"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "while", "type": "dfn", "url": "https://infra.spec.whatwg.org/#iteration-while" },
                "https://infra.spec.whatwg.org/#list": { "displayText": "list", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "list", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list" },
                "https://infra.spec.whatwg.org/#list-append": { "displayText": "append", "export": true, "for_": ["list"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "append", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-append" },
                "https://infra.spec.whatwg.org/#list-is-empty": { "displayText": "is empty", "export": true, "for_": ["list", "stack", "queue", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "is empty", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-is-empty" },
                "https://infra.spec.whatwg.org/#list-iterate": { "displayText": "for each", "export": true, "for_": ["list", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "for each", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-iterate" },
                "https://infra.spec.whatwg.org/#list-remove": { "displayText": "remove", "export": true, "for_": ["list", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "remove", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-remove" },
                "https://infra.spec.whatwg.org/#list-size": { "displayText": "size", "export": true, "for_": ["list", "stack", "queue", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "size", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-size" },
                "https://infra.spec.whatwg.org/#map-exists": { "displayText": "exist", "export": true, "for_": ["map"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "exist", "type": "dfn", "url": "https://infra.spec.whatwg.org/#map-exists" },
                "https://infra.spec.whatwg.org/#ordered-set": { "displayText": "ordered set", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "ordered set", "type": "dfn", "url": "https://infra.spec.whatwg.org/#ordered-set" },
                "https://infra.spec.whatwg.org/#set-append": { "displayText": "append", "export": true, "for_": ["set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "append", "type": "dfn", "url": "https://infra.spec.whatwg.org/#set-append" },
                "https://infra.spec.whatwg.org/#struct": { "displayText": "struct", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "struct", "type": "dfn", "url": "https://infra.spec.whatwg.org/#struct" },
                "https://infra.spec.whatwg.org/#struct-item": { "displayText": "item", "export": true, "for_": ["struct", "tuple"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "item", "type": "dfn", "url": "https://infra.spec.whatwg.org/#struct-item" },
                "https://tc39.es/ecma262/#current-realm": { "displayText": "the current Realm", "export": true, "for_": [], "level": "", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "anchor-block", "text": "the current realm", "type": "dfn", "url": "https://tc39.es/ecma262/#current-realm" },
                "https://tc39.es/ecma262/#sec-algorithm-conventions-abstract-operations": { "displayText": "abstract operation", "export": true, "for_": [], "level": "", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "anchor-block", "text": "abstract operation", "type": "dfn", "url": "https://tc39.es/ecma262/#sec-algorithm-conventions-abstract-operations" },
                "https://tc39.es/ecma262/#sec-array-objects": { "displayText": "array", "export": true, "for_": [], "level": "", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "anchor-block", "text": "array", "type": "dfn", "url": "https://tc39.es/ecma262/#sec-array-objects" },
                "https://tc39.es/ecma262/#sec-array.prototype.map": { "displayText": "map", "export": true, "for_": ["Array.prototype"], "level": "", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "anchor-block", "text": "map", "type": "method", "url": "https://tc39.es/ecma262/#sec-array.prototype.map" },
                "https://tc39.es/ecma262/#sec-arraybuffer-objects": { "displayText": "ArrayBuffer", "export": true, "for_": [], "level": "", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "anchor-block", "text": "ArrayBuffer", "type": "interface", "url": "https://tc39.es/ecma262/#sec-arraybuffer-objects" },
                "https://tc39.es/ecma262/#sec-asyncgenerator-objects": { "displayText": "async generator", "export": true, "for_": [], "level": "", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "anchor-block", "text": "async generator", "type": "dfn", "url": "https://tc39.es/ecma262/#sec-asyncgenerator-objects" },
                "https://tc39.es/ecma262/#sec-asynciterable-interface": { "displayText": "async iterable", "export": true, "for_": [], "level": "", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "anchor-block", "text": "async iterable", "type": "dfn", "url": "https://tc39.es/ecma262/#sec-asynciterable-interface" },
                "https://tc39.es/ecma262/#sec-code-realms": { "displayText": "realm", "export": true, "for_": [], "level": "", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "anchor-block", "text": "realm", "type": "dfn", "url": "https://tc39.es/ecma262/#sec-code-realms" },
                "https://tc39.es/ecma262/#sec-dataview-objects": { "displayText": "DataView", "export": true, "for_": [], "level": "", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "anchor-block", "text": "DataView", "type": "interface", "url": "https://tc39.es/ecma262/#sec-dataview-objects" },
                "https://tc39.es/ecma262/#sec-ecmascript-language-types-number-type": { "displayText": "is not a Number", "export": true, "for_": [], "level": "", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "anchor-block", "text": "is not a number", "type": "dfn", "url": "https://tc39.es/ecma262/#sec-ecmascript-language-types-number-type" },
                "https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type": { "displayText": "is a String", "export": true, "for_": [], "level": "", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "anchor-block", "text": "is a string", "type": "dfn", "url": "https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type" },
                "https://tc39.es/ecma262/#sec-isinteger": { "displayText": "IsInteger", "export": true, "for_": [], "level": "", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "anchor-block", "text": "IsInteger", "type": "abstract-op", "url": "https://tc39.es/ecma262/#sec-isinteger" },
                "https://tc39.es/ecma262/#sec-iterable-interface": { "displayText": "iterable", "export": true, "for_": [], "level": "", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "anchor-block", "text": "iterable", "type": "dfn", "url": "https://tc39.es/ecma262/#sec-iterable-interface" },
                "https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror": { "displayText": "TypeError", "export": true, "for_": [], "level": "", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "anchor-block", "text": "TypeError", "type": "exception", "url": "https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror" },
                "https://tc39.es/ecma262/#sec-object-internal-methods-and-internal-slots": { "displayText": "internal slot", "export": true, "for_": [], "level": "", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "anchor-block", "text": "internal slot", "type": "dfn", "url": "https://tc39.es/ecma262/#sec-object-internal-methods-and-internal-slots" },
                "https://tc39.es/ecma262/#sec-object-type": { "displayText": "is not an Object", "export": true, "for_": [], "level": "", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "anchor-block", "text": "is not an object", "type": "dfn", "url": "https://tc39.es/ecma262/#sec-object-type" },
                "https://tc39.es/ecma262/#sec-sharedarraybuffer-objects": { "displayText": "SharedArrayBuffer", "export": true, "for_": [], "level": "", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "anchor-block", "text": "SharedArrayBuffer", "type": "interface", "url": "https://tc39.es/ecma262/#sec-sharedarraybuffer-objects" },
                "https://tc39.es/ecma262/#sec-typedarray-objects": { "displayText": "Uint8Array", "export": true, "for_": [], "level": "", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "anchor-block", "text": "Uint8Array", "type": "interface", "url": "https://tc39.es/ecma262/#sec-typedarray-objects" },
                "https://tc39.es/ecma262/#table-49": { "displayText": "the typed array constructors table", "export": true, "for_": [], "level": "", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "anchor-block", "text": "the typed array constructors table", "type": "dfn", "url": "https://tc39.es/ecma262/#table-49" },
                "https://tc39.es/ecma262/multipage/abstract-operations.html#sec-call": { "displayText": "Call", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "current", "text": "Call", "type": "abstract-op", "url": "https://tc39.es/ecma262/multipage/abstract-operations.html#sec-call" },
                "https://tc39.es/ecma262/multipage/abstract-operations.html#sec-construct": { "displayText": "Construct", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "current", "text": "Construct", "type": "abstract-op", "url": "https://tc39.es/ecma262/multipage/abstract-operations.html#sec-construct" },
                "https://tc39.es/ecma262/multipage/abstract-operations.html#sec-createarrayfromlist": { "displayText": "CreateArrayFromList", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "current", "text": "CreateArrayFromList", "type": "abstract-op", "url": "https://tc39.es/ecma262/multipage/abstract-operations.html#sec-createarrayfromlist" },
                "https://tc39.es/ecma262/multipage/abstract-operations.html#sec-createdataproperty": { "displayText": "CreateDataProperty", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "current", "text": "CreateDataProperty", "type": "abstract-op", "url": "https://tc39.es/ecma262/multipage/abstract-operations.html#sec-createdataproperty" },
                "https://tc39.es/ecma262/multipage/abstract-operations.html#sec-get-o-p": { "displayText": "Get", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "current", "text": "Get", "type": "abstract-op", "url": "https://tc39.es/ecma262/multipage/abstract-operations.html#sec-get-o-p" },
                "https://tc39.es/ecma262/multipage/abstract-operations.html#sec-getiterator": { "displayText": "GetIterator", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "current", "text": "GetIterator", "type": "abstract-op", "url": "https://tc39.es/ecma262/multipage/abstract-operations.html#sec-getiterator" },
                "https://tc39.es/ecma262/multipage/abstract-operations.html#sec-getmethod": { "displayText": "GetMethod", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "current", "text": "GetMethod", "type": "abstract-op", "url": "https://tc39.es/ecma262/multipage/abstract-operations.html#sec-getmethod" },
                "https://tc39.es/ecma262/multipage/abstract-operations.html#sec-getv": { "displayText": "GetV", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "current", "text": "GetV", "type": "abstract-op", "url": "https://tc39.es/ecma262/multipage/abstract-operations.html#sec-getv" },
                "https://tc39.es/ecma262/multipage/abstract-operations.html#sec-iteratorcomplete": { "displayText": "IteratorComplete", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "current", "text": "IteratorComplete", "type": "abstract-op", "url": "https://tc39.es/ecma262/multipage/abstract-operations.html#sec-iteratorcomplete" },
                "https://tc39.es/ecma262/multipage/abstract-operations.html#sec-iteratornext": { "displayText": "IteratorNext", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "current", "text": "IteratorNext", "type": "abstract-op", "url": "https://tc39.es/ecma262/multipage/abstract-operations.html#sec-iteratornext" },
                "https://tc39.es/ecma262/multipage/abstract-operations.html#sec-iteratorvalue": { "displayText": "IteratorValue", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "current", "text": "IteratorValue", "type": "abstract-op", "url": "https://tc39.es/ecma262/multipage/abstract-operations.html#sec-iteratorvalue" },
                "https://tc39.es/ecma262/multipage/abstract-operations.html#sec-samevalue": { "displayText": "SameValue", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "current", "text": "SameValue", "type": "abstract-op", "url": "https://tc39.es/ecma262/multipage/abstract-operations.html#sec-samevalue" },
                "https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-completion-record-specification-type": { "displayText": "Completion Records", "export": true, "for_": ["ECMAScript"], "level": "1", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "current", "text": "completion records", "type": "dfn", "url": "https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-completion-record-specification-type" },
                "https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-copydatablockbytes": { "displayText": "CopyDataBlockBytes", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "current", "text": "CopyDataBlockBytes", "type": "abstract-op", "url": "https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-copydatablockbytes" },
                "https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-ecmascript-language-types-number-type": { "displayText": "number type", "export": true, "for_": ["ECMAScript"], "level": "1", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "current", "text": "number type", "type": "dfn", "url": "https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-ecmascript-language-types-number-type" },
                "https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-properties-of-the-object-prototype-object": { "displayText": "%Object.prototype%", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "current", "text": "%Object.prototype%", "type": "interface", "url": "https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-properties-of-the-object-prototype-object" },
                "https://tc39.es/ecma262/multipage/indexed-collections.html#sec-typedarray-objects": { "displayText": "%Uint8Array%", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "current", "text": "%Uint8Array%", "type": "interface", "url": "https://tc39.es/ecma262/multipage/indexed-collections.html#sec-typedarray-objects" },
                "https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects": { "displayText": "Number", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "current", "text": "Number", "type": "interface", "url": "https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects" },
                "https://tc39.es/ecma262/multipage/ordinary-and-exotic-objects-behaviours.html#sec-createbuiltinfunction": { "displayText": "CreateBuiltinFunction", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "current", "text": "CreateBuiltinFunction", "type": "abstract-op", "url": "https://tc39.es/ecma262/multipage/ordinary-and-exotic-objects-behaviours.html#sec-createbuiltinfunction" },
                "https://tc39.es/ecma262/multipage/ordinary-and-exotic-objects-behaviours.html#sec-ordinaryobjectcreate": { "displayText": "OrdinaryObjectCreate", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "current", "text": "OrdinaryObjectCreate", "type": "abstract-op", "url": "https://tc39.es/ecma262/multipage/ordinary-and-exotic-objects-behaviours.html#sec-ordinaryobjectcreate" },
                "https://tc39.es/ecma262/multipage/structured-data.html#sec-arraybuffer-constructor": { "displayText": "%ArrayBuffer%", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "current", "text": "%ArrayBuffer%", "type": "interface", "url": "https://tc39.es/ecma262/multipage/structured-data.html#sec-arraybuffer-constructor" },
                "https://tc39.es/ecma262/multipage/structured-data.html#sec-clonearraybuffer": { "displayText": "CloneArrayBuffer", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "current", "text": "CloneArrayBuffer", "type": "abstract-op", "url": "https://tc39.es/ecma262/multipage/structured-data.html#sec-clonearraybuffer" },
                "https://tc39.es/ecma262/multipage/structured-data.html#sec-dataview-constructor": { "displayText": "%DataView%", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "current", "text": "%DataView%", "type": "interface", "url": "https://tc39.es/ecma262/multipage/structured-data.html#sec-dataview-constructor" },
                "https://tc39.es/ecma262/multipage/structured-data.html#sec-detacharraybuffer": { "displayText": "DetachArrayBuffer", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "current", "text": "DetachArrayBuffer", "type": "abstract-op", "url": "https://tc39.es/ecma262/multipage/structured-data.html#sec-detacharraybuffer" },
                "https://tc39.es/ecma262/multipage/structured-data.html#sec-isdetachedbuffer": { "displayText": "IsDetachedBuffer", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "current", "text": "IsDetachedBuffer", "type": "abstract-op", "url": "https://tc39.es/ecma262/multipage/structured-data.html#sec-isdetachedbuffer" },
                "https://w3c.github.io/ServiceWorker/#service-worker-global-scope-fetch-event": { "displayText": "fetch", "export": true, "for_": ["ServiceWorkerGlobalScope"], "level": "1", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "current", "text": "fetch", "type": "event", "url": "https://w3c.github.io/ServiceWorker/#service-worker-global-scope-fetch-event" },
                "https://w3c.github.io/webrtc-encoded-transform/#rtcrtpscripttransformer": { "displayText": "RTCRtpScriptTransformer", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webrtc-encoded-transform", "spec": "webrtc-encoded-transform", "status": "current", "text": "RTCRtpScriptTransformer", "type": "interface", "url": "https://w3c.github.io/webrtc-encoded-transform/#rtcrtpscripttransformer" },
                "https://webassembly.github.io/spec/js-api/#dom-memory-buffer": { "displayText": "buffer", "export": true, "for_": ["Memory"], "level": "2", "normative": true, "shortname": "wasm-js-api", "spec": "wasm-js-api-2", "status": "current", "text": "buffer", "type": "attribute", "url": "https://webassembly.github.io/spec/js-api/#dom-memory-buffer" },
                "https://webassembly.github.io/spec/js-api/#memory": { "displayText": "Memory", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "wasm-js-api", "spec": "wasm-js-api-2", "status": "current", "text": "Memory", "type": "interface", "url": "https://webassembly.github.io/spec/js-api/#memory" },
                "https://webidl.spec.whatwg.org/#ArrayBufferView": { "displayText": "ArrayBufferView", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "ArrayBufferView", "type": "typedef", "url": "https://webidl.spec.whatwg.org/#ArrayBufferView" },
                "https://webidl.spec.whatwg.org/#EnforceRange": { "displayText": "EnforceRange", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "EnforceRange", "type": "extended-attribute", "url": "https://webidl.spec.whatwg.org/#EnforceRange" },
                "https://webidl.spec.whatwg.org/#Function": { "displayText": "Function", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "Function", "type": "callback", "url": "https://webidl.spec.whatwg.org/#Function" },
                "https://webidl.spec.whatwg.org/#a-new-promise": { "displayText": "a new promise", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "a new promise", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#a-new-promise" },
                "https://webidl.spec.whatwg.org/#a-promise-rejected-with": { "displayText": "a promise rejected with", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "a promise rejected with", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#a-promise-rejected-with" },
                "https://webidl.spec.whatwg.org/#a-promise-resolved-with": { "displayText": "a promise resolved with", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "a promise resolved with", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#a-promise-resolved-with" },
                "https://webidl.spec.whatwg.org/#arraybuffer-transfer": { "displayText": "transfer", "export": true, "for_": ["ArrayBuffer"], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "transfer", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#arraybuffer-transfer" },
                "https://webidl.spec.whatwg.org/#arraybuffer-write": { "displayText": "write", "export": true, "for_": ["ArrayBuffer", "SharedArrayBuffer"], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "write", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#arraybuffer-write" },
                "https://webidl.spec.whatwg.org/#arraybufferview-create": { "displayText": "create", "export": true, "for_": ["ArrayBufferView"], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "create", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#arraybufferview-create" },
                "https://webidl.spec.whatwg.org/#arraybufferview-write": { "displayText": "write", "export": true, "for_": ["ArrayBufferView"], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "write", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#arraybufferview-write" },
                "https://webidl.spec.whatwg.org/#asynchronous-iterator-initialization-steps": { "displayText": "asynchronous iterator initialization steps", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "asynchronous iterator initialization steps", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#asynchronous-iterator-initialization-steps" },
                "https://webidl.spec.whatwg.org/#asynchronous-iterator-return": { "displayText": "asynchronous iterator return", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "asynchronous iterator return", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#asynchronous-iterator-return" },
                "https://webidl.spec.whatwg.org/#buffersource-byte-length": { "displayText": "byte length", "export": true, "for_": ["BufferSource"], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "byte length", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#buffersource-byte-length" },
                "https://webidl.spec.whatwg.org/#buffersource-underlying-buffer": { "displayText": "underlying buffer", "export": true, "for_": ["BufferSource"], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "underlying buffer", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#buffersource-underlying-buffer" },
                "https://webidl.spec.whatwg.org/#constructor-steps": { "displayText": "constructor steps", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "constructor steps", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#constructor-steps" },
                "https://webidl.spec.whatwg.org/#datacloneerror": { "displayText": "DataCloneError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "DataCloneError", "type": "exception", "url": "https://webidl.spec.whatwg.org/#datacloneerror" },
                "https://webidl.spec.whatwg.org/#dfn-callback-context": { "displayText": "callback context", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "callback context", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-callback-context" },
                "https://webidl.spec.whatwg.org/#dfn-callback-this-value": { "displayText": "callback this value", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "callback this value", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-callback-this-value" },
                "https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value": { "displayText": "converted to an IDL value", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "converted to an idl value", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value" },
                "https://webidl.spec.whatwg.org/#dfn-detach": { "displayText": "detach", "export": true, "for_": ["ArrayBuffer"], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "detach", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-detach" },
                "https://webidl.spec.whatwg.org/#dfn-get-buffer-source-copy": { "displayText": "get a copy of the bytes held by the buffer source", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "get a copy of the bytes held by the buffer source", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-get-buffer-source-copy" },
                "https://webidl.spec.whatwg.org/#dfn-get-the-next-iteration-result": { "displayText": "get the next iteration result", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "get the next iteration result", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-get-the-next-iteration-result" },
                "https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled": { "displayText": "reacting", "export": true, "for_": ["promise"], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "reacting", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled" },
                "https://webidl.spec.whatwg.org/#dfn-platform-object": { "displayText": "platform object", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "platform object", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-platform-object" },
                "https://webidl.spec.whatwg.org/#end-of-iteration": { "displayText": "end of iteration", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "end of iteration", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#end-of-iteration" },
                "https://webidl.spec.whatwg.org/#exceptiondef-rangeerror": { "displayText": "RangeError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "RangeError", "type": "exception", "url": "https://webidl.spec.whatwg.org/#exceptiondef-rangeerror" },
                "https://webidl.spec.whatwg.org/#idl-DOMException": { "displayText": "DOMException", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "DOMException", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-DOMException" },
                "https://webidl.spec.whatwg.org/#idl-any": { "displayText": "any", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "any", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-any" },
                "https://webidl.spec.whatwg.org/#idl-boolean": { "displayText": "boolean", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "boolean", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-boolean" },
                "https://webidl.spec.whatwg.org/#idl-object": { "displayText": "object", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "object", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-object" },
                "https://webidl.spec.whatwg.org/#idl-promise": { "displayText": "Promise", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "Promise", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-promise" },
                "https://webidl.spec.whatwg.org/#idl-sequence": { "displayText": "sequence", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "sequence", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#idl-sequence" },
                "https://webidl.spec.whatwg.org/#idl-undefined": { "displayText": "undefined", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "undefined", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-undefined" },
                "https://webidl.spec.whatwg.org/#idl-unrestricted-double": { "displayText": "unrestricted double", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "unrestricted double", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-unrestricted-double" },
                "https://webidl.spec.whatwg.org/#idl-unsigned-long-long": { "displayText": "unsigned long long", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "unsigned long long", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-unsigned-long-long" },
                "https://webidl.spec.whatwg.org/#implements": { "displayText": "implements", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "implements", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#implements" },
                "https://webidl.spec.whatwg.org/#include": { "displayText": "include", "export": true, "for_": ["interface"], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "include", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#include" },
                "https://webidl.spec.whatwg.org/#invoke-a-callback-function": { "displayText": "invoke", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "invoke", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#invoke-a-callback-function" },
                "https://webidl.spec.whatwg.org/#new": { "displayText": "new", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "new", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#new" },
                "https://webidl.spec.whatwg.org/#reject": { "displayText": "reject", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "reject", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#reject" },
                "https://webidl.spec.whatwg.org/#resolve": { "displayText": "resolve", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "resolve", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#resolve" },
                "https://webidl.spec.whatwg.org/#this": { "displayText": "this", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "this", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#this" },
                "https://webidl.spec.whatwg.org/#upon-fulfillment": { "displayText": "upon fulfillment", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "upon fulfillment", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#upon-fulfillment" },
                "https://webidl.spec.whatwg.org/#upon-rejection": { "displayText": "upon rejection", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "upon rejection", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#upon-rejection" },
                "https://webidl.spec.whatwg.org/#waiting-for-all-promise": { "displayText": "getting a promise to wait for all", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "getting a promise to wait for all", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#waiting-for-all-promise" },
                "https://websockets.spec.whatwg.org/#dom-websocket-bufferedamount": { "displayText": "bufferedAmount", "export": true, "for_": ["WebSocket"], "level": "1", "normative": true, "shortname": "websockets", "spec": "websockets", "status": "current", "text": "bufferedAmount", "type": "attribute", "url": "https://websockets.spec.whatwg.org/#dom-websocket-bufferedamount" },
                "https://websockets.spec.whatwg.org/#websocket": { "displayText": "WebSocket", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "websockets", "spec": "websockets", "status": "current", "text": "WebSocket", "type": "interface", "url": "https://websockets.spec.whatwg.org/#websocket" },
            };

            function mkRefHint(link, ref) {
                const linkText = link.textContent;
                let dfnTextElements = '';
                if (ref.displayText.toLowerCase() != linkText.toLowerCase()) {
                    // Give the original term if it's being displayed in a different way.
                    // But allow casing differences, they're insignificant.
                    dfnTextElements =
                        mk.li({},
                            mk.b({}, "Term: "),
                            mk.span({}, ref.displayText)
                        );
                }
                const forList = ref.for_;
                let forListElements;
                if (forList.length == 0) {
                    forListElements = [];
                } else if (forList.length == 1) {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.span({}, forList[0]),
                    );
                } else {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.ul({},
                            ...forList.map(forItem =>
                                mk.li({},
                                    mk.span({}, forItem)
                                ),
                            ),
                        ),
                    );
                }
                const url = ref.url;
                const safeUrl = encodeURIComponent(url);
                const hintPanel = mk.aside({
                    class: "ref-hint",
                    id: `ref-hint-for-${safeUrl}`,
                    "data-for": url,
                    "aria-labelled-by": `ref-hint-for-${safeUrl}`,
                },
                    mk.ul({},
                        dfnTextElements,
                        mk.li({},
                            mk.b({}, "URL: "),
                            mk.a({ href: url, class: "ref" }, url),
                        ),
                        mk.li({},
                            mk.b({}, "Type: "),
                            mk.span({}, `${ref.type}`),
                        ),
                        mk.li({},
                            mk.b({}, "Spec: "),
                            mk.span({}, `${ref.spec ? ref.spec : ''}`),
                        ),
                        forListElements
                    ),
                );
                hintPanel.forLink = link;
                setupRefHintEventListeners(link, hintPanel);
                return hintPanel;
            }

            function hideAllRefHints() {
                queryAll(".ref-hint").forEach(el => hideRefHint(el));
            }

            function hideRefHint(refHint) {
                const link = refHint.forLink;
                link.setAttribute("aria-expanded", "false");
                if (refHint.teardownEventListeners) {
                    refHint.teardownEventListeners();
                }
                refHint.remove();
            }

            function showRefHint(link) {
                if (link.classList.contains("dfn-link")) return;
                const url = link.getAttribute("href");
                const refHintKey = link.getAttribute("data-refhint-key");
                let key = url;
                if (refHintKey) {
                    key = refHintKey + "_" + url;
                }
                const ref = refsData[key];
                if (!ref) return;

                hideAllRefHints(); // Only display one at this time.

                const refHint = mkRefHint(link, ref);
                append(document.body, refHint);
                link.setAttribute("aria-expanded", "true");
                positionRefHint(refHint);
            }

            function setupRefHintEventListeners(link, refHint) {
                if (refHint.teardownEventListeners) return;
                // Add event handlers to hide the refHint after the user moves away
                // from both the link and refHint, if not hovering either within one second.
                let timeout = null;
                const startHidingRefHint = (event) => {
                    if (timeout) {
                        clearTimeout(timeout);
                    }
                    timeout = setTimeout(() => {
                        hideRefHint(refHint);
                    }, 1000);
                }
                const resetHidingRefHint = (event) => {
                    if (timeout) clearTimeout(timeout);
                    timeout = null;
                };
                link.addEventListener("mouseleave", startHidingRefHint);
                link.addEventListener("mouseenter", resetHidingRefHint);
                link.addEventListener("blur", startHidingRefHint);
                link.addEventListener("focus", resetHidingRefHint);
                refHint.addEventListener("mouseleave", startHidingRefHint);
                refHint.addEventListener("mouseenter", resetHidingRefHint);
                refHint.addEventListener("blur", startHidingRefHint);
                refHint.addEventListener("focus", resetHidingRefHint);

                refHint.teardownEventListeners = () => {
                    // remove event listeners
                    resetHidingRefHint();
                    link.removeEventListener("mouseleave", startHidingRefHint);
                    link.removeEventListener("mouseenter", resetHidingRefHint);
                    link.removeEventListener("blur", startHidingRefHint);
                    link.removeEventListener("focus", resetHidingRefHint);
                    refHint.removeEventListener("mouseleave", startHidingRefHint);
                    refHint.removeEventListener("mouseenter", resetHidingRefHint);
                    refHint.removeEventListener("blur", startHidingRefHint);
                    refHint.removeEventListener("focus", resetHidingRefHint);
                };
            }

            function positionRefHint(refHint) {
                const link = refHint.forLink;
                const linkPos = getBounds(link);
                refHint.style.top = linkPos.bottom + "px";
                refHint.style.left = linkPos.left + "px";

                const panelPos = refHint.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);
                    refHint.style.left = newLeft + "px";
                }
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function showRefHintListener(e) {
                // If the target isn't in a link (or is a link),
                // just ignore it.
                let link = e.target.closest("a");
                if (!link) return;

                // If the target is in a ref-hint panel
                // (aka a link in the already-open one),
                // also just ignore it.
                if (link.closest(".ref-hint")) return;

                // Otherwise, show the panel for the link.
                showRefHint(link);
            }

            function hideAllHintsListener(e) {
                // If the click is inside a ref-hint panel, ignore it.
                if (e.target.closest(".ref-hint")) return;
                // Otherwise, close all the current panels.
                hideAllRefHints();
            }

            document.addEventListener("DOMContentLoaded", () => {
                document.body.addEventListener("mousedown", showRefHintListener);
                document.body.addEventListener("focus", showRefHintListener);

                document.body.addEventListener("click", hideAllHintsListener);
            });

            window.addEventListener("resize", () => {
                // Hide any open ref hint.
                hideAllRefHints();
            });
        }
    </script>
    <script>/* Boilerplate: script-var-click-highlighting */
        "use strict";
        {
            /*
            Color-choosing design:
            
            * Colors are ordered by goodness.
            * On clicking a var, give it the earliest color
                with the lowest usage in the algorithm.
            * On re-clicking, re-use the var's most recent color
                if that's not currently being used elsewhere.
            */

            const COLOR_COUNT = 7;

            document.addEventListener("click", e => {
                if (e.target.nodeName == "VAR") {
                    highlightSameAlgoVars(e.target);
                }
            });

            function highlightSameAlgoVars(v) {
                // Find the algorithm container.
                let algoContainer = findAlgoContainer(v);

                // Not highlighting document-global vars,
                // too likely to be unrelated.
                if (algoContainer == null) return;

                const varName = nameFromVar(v);
                if (!v.hasAttribute("data-var-color")) {
                    const newColor = chooseHighlightColor(algoContainer, v);
                    for (const el of algoContainer.querySelectorAll("var")) {
                        if (nameFromVar(el) == varName) {
                            el.setAttribute("data-var-color", newColor);
                            el.setAttribute("data-var-last-color", newColor);
                        }
                    }
                } else {
                    for (const el of algoContainer.querySelectorAll("var")) {
                        if (nameFromVar(el) == varName) {
                            el.removeAttribute("data-var-color");
                        }
                    }
                }
            }
            function findAlgoContainer(el) {
                while (el != document.body) {
                    if (el.hasAttribute("data-algorithm")) return el;
                    el = el.parentNode;
                }
                return null;
            }
            function nameFromVar(el) {
                return el.textContent.replace(/(\s|\xa0)+/g, " ").trim();
            }
            function colorCountsFromContainer(container) {
                const namesFromColor = Array.from({ length: COLOR_COUNT }, x => new Set());
                for (let v of container.querySelectorAll("var[data-var-color]")) {
                    let color = +v.getAttribute("data-var-color");
                    namesFromColor[color].add(nameFromVar(v));
                }

                return namesFromColor.map(x => x.size);
            }
            function leastUsedColor(colors) {
                // Find the earliest color with the lowest count.
                let minCount = Infinity;
                let minColor = null;
                for (var i = 0; i < colors.length; i++) {
                    if (colors[i] < minCount) {
                        minColor = i;
                        minCount = colors[i];
                    }
                }
                return minColor;
            }
            function chooseHighlightColor(container, v) {
                const colorCounts = colorCountsFromContainer(container);
                if (v.hasAttribute("data-var-last-color")) {
                    let color = +v.getAttribute("data-var-last-color");
                    if (colorCounts[color] == 0) return color;
                }
                return leastUsedColor(colorCounts);
            }
        }
    </script>
    <script src="/dropdown.js"></script>