<!DOCTYPE html>
<html lang="zh-hans" dir="ltr">

<head>
    <meta charset="utf-8">
    <!-- <meta name="generator" content="ReSpec 35.4.3"> -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <style>
        span.example-title {
            text-transform: none
        }

        :is(aside, div).example,
        div.illegal-example {
            padding: .5em;
            margin: 1em 0;
            position: relative;
            clear: both
        }

        div.illegal-example {
            color: red
        }

        div.illegal-example p {
            color: #000
        }

        aside.example div.example {
            border-left-width: .1em;
            border-color: #999;
            background: #fff
        }
    </style>
    <style>
        .issue-label {
            text-transform: initial
        }

        .warning>p:first-child {
            margin-top: 0
        }

        .warning {
            padding: .5em;
            border-left-width: .5em;
            border-left-style: solid
        }

        span.warning {
            padding: .1em .5em .15em
        }

        .issue.closed span.issue-number {
            text-decoration: line-through
        }

        .issue.closed span.issue-number::after {
            content: " (Closed)";
            font-size: smaller
        }

        .warning {
            border-color: #f11;
            border-color: var(--warning-border, #f11);
            border-width: .2em;
            border-style: solid;
            background: #fbe9e9;
            background: var(--warning-bg, #fbe9e9);
            color: #000;
            color: var(--text, #000)
        }

        .warning-title:before {
            content: "⚠";
            font-size: 1.3em;
            float: left;
            padding-right: .3em;
            margin-top: -.3em
        }

        li.task-list-item {
            list-style: none
        }

        input.task-list-item-checkbox {
            margin: 0 .35em .25em -1.6em;
            vertical-align: middle
        }

        .issue a.respec-gh-label {
            padding: 5px;
            margin: 0 2px 0 2px;
            font-size: 10px;
            text-transform: none;
            text-decoration: none;
            font-weight: 700;
            border-radius: 4px;
            position: relative;
            bottom: 2px;
            border: none;
            display: inline-block
        }
    </style>
    <style>
        pre.idl {
            padding: 1em;
            position: relative
        }

        pre.idl>code {
            color: #000;
            color: var(--text, #000)
        }

        @media print {
            pre.idl {
                white-space: pre-wrap
            }
        }

        .idlHeader {
            display: block;
            width: 150px;
            background: #8ccbf2;
            background: var(--def-border, #8ccbf2);
            color: #fff;
            color: var(--defrow-border, #fff);
            font-family: sans-serif;
            font-weight: 700;
            margin: -1em 0 1em -1em;
            height: 28px;
            line-height: 28px
        }

        .idlHeader a.self-link {
            margin-left: .3cm;
            text-decoration: none;
            border-bottom: none;
            color: inherit
        }

        .idlID {
            font-weight: 700;
            color: #005a9c
        }

        .idlType {
            color: #005a9c
        }

        .idlName {
            color: #ff4500
        }

        .idlName a {
            color: #ff4500;
            border-bottom: 1px dotted #ff4500;
            text-decoration: none
        }

        a.idlEnumItem {
            color: #000;
            border-bottom: 1px dotted #ccc;
            text-decoration: none
        }

        .idlSuperclass {
            font-style: italic;
            color: #005a9c
        }

        .idlDefaultValue,
        .idlParamName {
            font-style: italic
        }

        .extAttr {
            color: #666
        }

        .idlSectionComment {
            color: gray
        }

        .idlIncludes a {
            font-weight: 700
        }

        .respec-button-copy-paste:focus {
            text-decoration: none;
            border-color: #51a7e8;
            outline: 0;
            box-shadow: 0 0 5px rgba(81, 167, 232, .5)
        }

        .respec-button-copy-paste:is(:focus:hover, .selected:focus) {
            border-color: #51a7e8
        }

        .respec-button-copy-paste:is(:hover, :active, .zeroclipboard-is-hover, .zeroclipboard-is-active) {
            text-decoration: none;
            background-color: #ddd;
            background-image: linear-gradient(#eee, #ddd);
            border-color: #ccc
        }

        .respec-button-copy-paste:is(:active, .selected, .zeroclipboard-is-active) {
            background-color: #dcdcdc;
            background-image: none;
            border-color: #b5b5b5;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, .15)
        }

        .respec-button-copy-paste.selected:hover {
            background-color: #cfcfcf
        }

        .respec-button-copy-paste:is(:disabled, :disabled:hover, .disabled, .disabled:hover) {
            color: rgba(102, 102, 102, .5);
            cursor: default;
            background-color: rgba(229, 229, 229, .5);
            background-image: none;
            border-color: rgba(197, 197, 197, .5);
            box-shadow: none
        }

        @media print {
            .respec-button-copy-paste {
                visibility: hidden
            }
        }
    </style>
    <style>
        dfn {
            cursor: pointer
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            min-width: 300px;
            max-width: 500px;
            padding: .5em .75em;
            margin-top: .6em;
            font-family: "Helvetica Neue", sans-serif;
            font-size: small;
            background: #fff;
            background: var(--indextable-hover-bg, #fff);
            color: #000;
            color: var(--text, #000);
            box-shadow: 0 1em 3em -.4em rgba(0, 0, 0, .3), 0 0 1px 1px rgba(0, 0, 0, .05);
            box-shadow: 0 1em 3em -.4em var(--tocsidebar-shadow, rgba(0, 0, 0, .3)), 0 0 1px 1px var(--tocsidebar-shadow, rgba(0, 0, 0, .05));
            border-radius: 2px
        }

        .dfn-panel:not(.docked)>.caret {
            position: absolute;
            top: -9px
        }

        .dfn-panel:not(.docked)>.caret::after,
        .dfn-panel:not(.docked)>.caret::before {
            content: "";
            position: absolute;
            border: 10px solid transparent;
            border-top: 0;
            border-bottom: 10px solid #fff;
            border-bottom-color: var(--indextable-hover-bg, #fff);
            top: 0
        }

        .dfn-panel:not(.docked)>.caret::before {
            border-bottom: 9px solid #a2a9b1;
            border-bottom-color: var(--indextable-hover-bg, #a2a9b1)
        }

        .dfn-panel * {
            margin: 0
        }

        .dfn-panel b {
            display: block;
            color: #000;
            color: var(--text, #000);
            margin-top: .25em
        }

        .dfn-panel ul a[href] {
            color: #333;
            color: var(--text, #333)
        }

        .dfn-panel>div {
            display: flex
        }

        .dfn-panel a.self-link {
            font-weight: 700;
            margin-right: auto
        }

        .dfn-panel .marker {
            padding: .1em;
            margin-left: .5em;
            border-radius: .2em;
            text-align: center;
            white-space: nowrap;
            font-size: 90%;
            color: #040b1c
        }

        .dfn-panel .marker.dfn-exported {
            background: #d1edfd;
            box-shadow: 0 0 0 .125em #1ca5f940
        }

        .dfn-panel .marker.idl-block {
            background: #8ccbf2;
            box-shadow: 0 0 0 .125em #0670b161
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important
        }

        .dfn-panel a[href]:hover {
            border-bottom-width: 1px
        }

        .dfn-panel ul {
            padding: 0
        }

        .dfn-panel li {
            margin-left: 1em
        }

        .dfn-panel.docked {
            position: fixed;
            left: .5em;
            top: unset;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - .75em * 2 - .5em - .2em * 2);
            max-height: 30vh;
            overflow: auto
        }
    </style>


    <title>Web 串行 API</title>



    <link rel="stylesheet" href="https://wicg.github.io/serial/styles/spec.css">

    <style id="respec-mainstyle">
        @keyframes pop {
            0% {
                transform: scale(1, 1)
            }

            25% {
                transform: scale(1.25, 1.25);
                opacity: .75
            }

            100% {
                transform: scale(1, 1)
            }
        }

        a.internalDFN {
            color: inherit;
            border-bottom: 1px solid #99c;
            text-decoration: none
        }

        a.externalDFN {
            color: inherit;
            border-bottom: 1px dotted #ccc;
            text-decoration: none
        }

        a.bibref {
            text-decoration: none
        }

        .respec-offending-element:target {
            animation: pop .25s ease-in-out 0s 1
        }

        .respec-offending-element,
        a[href].respec-offending-element {
            text-decoration: red wavy underline
        }

        @supports not (text-decoration:red wavy underline) {
            .respec-offending-element:not(pre) {
                display: inline-block
            }

            .respec-offending-element {
                background: url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x
            }
        }

        #references :target {
            background: #eaf3ff;
            animation: pop .4s ease-in-out 0s 1
        }

        cite .bibref {
            font-style: italic
        }

        a[href].orcid {
            padding-left: 4px;
            padding-right: 4px
        }

        a[href].orcid>svg {
            margin-bottom: -2px
        }

        ol.tof,
        ul.tof {
            list-style: none outside none
        }

        .caption {
            margin-top: .5em;
            font-style: italic
        }

        #issue-summary>ul {
            column-count: 2
        }

        #issue-summary li {
            list-style: none;
            display: inline-block
        }

        details.respec-tests-details {
            margin-left: 1em;
            display: inline-block;
            vertical-align: top
        }

        details.respec-tests-details>* {
            padding-right: 2em
        }

        details.respec-tests-details[open] {
            z-index: 999999;
            position: absolute;
            border: thin solid #cad3e2;
            border-radius: .3em;
            background-color: #fff;
            padding-bottom: .5em
        }

        details.respec-tests-details[open]>summary {
            border-bottom: thin solid #cad3e2;
            padding-left: 1em;
            margin-bottom: 1em;
            line-height: 2em
        }

        details.respec-tests-details>ul {
            width: 100%;
            margin-top: -.3em
        }

        details.respec-tests-details>li {
            padding-left: 1em
        }

        .self-link:hover {
            opacity: 1;
            text-decoration: none;
            background-color: transparent
        }

        aside.example .marker>a.self-link {
            color: inherit
        }

        .header-wrapper {
            display: flex;
            align-items: baseline
        }

        :is(h2, h3, h4, h5, h6):not(#toc>h2, #abstract>h2, #sotd>h2, .head>h2) {
            position: relative;
            left: -.5em
        }

        :is(h2, h3, h4, h5, h6):not(#toch2)+a.self-link {
            color: inherit;
            order: -1;
            position: relative;
            left: -1.1em;
            font-size: 1rem;
            opacity: .5
        }

        :is(h2, h3, h4, h5, h6)+a.self-link::before {
            content: "§";
            text-decoration: none;
            color: var(--heading-text)
        }

        :is(h2, h3)+a.self-link {
            top: -.2em
        }

        :is(h4, h5, h6)+a.self-link::before {
            color: #000
        }

        @media (max-width:767px) {
            dd {
                margin-left: 0
            }
        }

        @media print {
            .removeOnSave {
                display: none
            }
        }
    </style>
    <meta name="color-scheme" content="light">
    <style>
        .hljs {
            --base: #fafafa;
            --mono-1: #383a42;
            --mono-2: #686b77;
            --mono-3: #717277;
            --hue-1: #0b76c5;
            --hue-2: #336ae3;
            --hue-3: #a626a4;
            --hue-4: #42803c;
            --hue-5: #ca4706;
            --hue-5-2: #c91243;
            --hue-6: #986801;
            --hue-6-2: #9a6a01
        }

        @media (prefers-color-scheme:dark) {
            .hljs {
                --base: #282c34;
                --mono-1: #abb2bf;
                --mono-2: #818896;
                --mono-3: #5c6370;
                --hue-1: #56b6c2;
                --hue-2: #61aeee;
                --hue-3: #c678dd;
                --hue-4: #98c379;
                --hue-5: #e06c75;
                --hue-5-2: #be5046;
                --hue-6: #d19a66;
                --hue-6-2: #e6c07b
            }
        }

        .hljs {
            display: block;
            overflow-x: auto;
            padding: .5em;
            color: #383a42;
            color: var(--mono-1, #383a42);
            background: #fafafa;
            background: var(--base, #fafafa)
        }

        .hljs-comment,
        .hljs-quote {
            color: #717277;
            color: var(--mono-3, #717277);
            font-style: italic
        }

        .hljs-doctag,
        .hljs-formula,
        .hljs-keyword {
            color: #a626a4;
            color: var(--hue-3, #a626a4)
        }

        .hljs-deletion,
        .hljs-name,
        .hljs-section,
        .hljs-selector-tag,
        .hljs-subst {
            color: #ca4706;
            color: var(--hue-5, #ca4706);
            font-weight: 700
        }

        .hljs-literal {
            color: #0b76c5;
            color: var(--hue-1, #0b76c5)
        }

        .hljs-addition,
        .hljs-attribute,
        .hljs-meta-string,
        .hljs-regexp,
        .hljs-string {
            color: #42803c;
            color: var(--hue-4, #42803c)
        }

        .hljs-built_in,
        .hljs-class .hljs-title {
            color: #9a6a01;
            color: var(--hue-6-2, #9a6a01)
        }

        .hljs-attr,
        .hljs-number,
        .hljs-selector-attr,
        .hljs-selector-class,
        .hljs-selector-pseudo,
        .hljs-template-variable,
        .hljs-type,
        .hljs-variable {
            color: #986801;
            color: var(--hue-6, #986801)
        }

        .hljs-bullet,
        .hljs-link,
        .hljs-meta,
        .hljs-selector-id,
        .hljs-symbol,
        .hljs-title {
            color: #336ae3;
            color: var(--hue-2, #336ae3)
        }

        .hljs-emphasis {
            font-style: italic
        }

        .hljs-strong {
            font-weight: 700
        }

        .hljs-link {
            text-decoration: underline
        }
    </style>
    <style>
        var:hover {
            text-decoration: underline;
            cursor: pointer
        }

        var.respec-hl {
            color: var(--color, #000);
            background-color: var(--bg-color);
            box-shadow: 0 0 0 2px var(--bg-color)
        }

        @media (prefers-color-scheme:dark) {
            var.respec-hl {
                filter: saturate(.9) brightness(.9)
            }
        }

        var.respec-hl-c1 {
            --bg-color: #f4d200
        }

        var.respec-hl-c2 {
            --bg-color: #ff87a2
        }

        var.respec-hl-c3 {
            --bg-color: #96e885
        }

        var.respec-hl-c4 {
            --bg-color: #3eeed2
        }

        var.respec-hl-c5 {
            --bg-color: #eacfb6
        }

        var.respec-hl-c6 {
            --bg-color: #82ddff
        }

        var.respec-hl-c7 {
            --bg-color: #ffbcf2
        }

        @media print {
            var.respec-hl {
                background: 0 0;
                color: #000;
                box-shadow: unset
            }
        }
    </style>
    <style>
        var {
            position: relative;
            cursor: pointer
        }

        var[data-type]::after,
        var[data-type]::before {
            position: absolute;
            left: 50%;
            top: -6px;
            opacity: 0;
            transition: opacity .4s;
            pointer-events: none
        }

        var[data-type]::before {
            content: "";
            transform: translateX(-50%);
            border-width: 4px 6px 0 6px;
            border-style: solid;
            border-color: transparent;
            border-top-color: #222
        }

        var[data-type]::after {
            content: attr(data-type);
            transform: translateX(-50%) translateY(-100%);
            background: #222;
            text-align: center;
            font-family: "Dank Mono", "Fira Code", monospace;
            font-style: normal;
            padding: 6px;
            border-radius: 3px;
            color: #daca88;
            text-indent: 0;
            font-weight: 400
        }

        var[data-type]:hover::after,
        var[data-type]:hover::before {
            opacity: 1
        }
    </style>
    <script id="initialUserConfig" type="application/json">{
  "specStatus": "CG-DRAFT",
  "latestVersion": null,
  "shortName": "serial",
  "subtitle": "Living document",
  "editors": [
    {
      "name": "See contributors on GH",
      "url": "https://github.com/wicg/serial/graphs/contributors"
    }
  ],
  "logos": [
    {
      "src": "images/logo_serial.svg",
      "alt": "Serial API logo",
      "width": 100,
      "height": 100,
      "id": "spec-logo"
    }
  ],
  "group": "wicg",
  "github": "https://github.com/wicg/serial",
  "xref": [
    "DOM",
    "HTML",
    "Infra",
    "PERMISSIONS-POLICY",
    "STREAMS",
    "WebIDL",
    "web-bluetooth"
  ],
  "lint": {
    "informative-dfn": false
  },
  "publishISODate": "2026-02-02T00:00:00.000Z",
  "generatedSubtitle": "Draft Community Group Report 02 February 2026"
}</script>
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2021/cg-draft">
</head>

<body class="h-entry" data-cite="WEBIDL DOM HTML Infra PERMISSIONS-POLICY STREAMS WebIDL web-bluetooth">
    <div class="head">
        <p class="logos"><a class="logo"><img alt="Serial API logo" height="100" id="spec-logo"
                    src="https://wicg.github.io/serial/images/logo_serial.svg" width="100">
            </a></p>
        <h1 id="title" class="title">Web 串行 API</h1>
        <h2 id="subtitle" class="subtitle">持续更新文档</h2>
        <p id="w3c-state">
            <a href="https://www.w3.org/standards/types#reports">社区小组报告（草案）</a>
            <time class="dt-published" datetime="2026-02-02">2026年2月2日</time>
        </p>
        <dl>

            <dt>最近发布的版本：</dt>
            <dd>
                无
            </dd>
            <dt>最新编辑草稿：</dt>
            <dd><a href="https://wicg.github.io/serial/">https://wicg.github.io/serial/</a></dd>




            <dt>编辑：</dt>
            <dd class="editor p-author h-card vcard">
                <a class="u-url url p-name fn" href="https://github.com/wicg/serial/graphs/contributors">在 GH 查看贡献者</a>
            </dd>


            <dt>反馈：</dt>
            <dd>
                <a href="https://github.com/wicg/serial/">GitHub wicg/serial</a>
                (<a href="https://github.com/wicg/serial/pulls/">拉取请求</a>,
                <a href="https://github.com/wicg/serial/issues/new/choose">新 issue</a>,
                <a href="https://github.com/wicg/serial/issues/">打开的问题</a>)
            </dd>

        </dl>

        <p class="copyright">
            <a href="https://www.w3.org/policies/#copyright">Copyright</a>
            ©
            2026

            the Contributors to the Web Serial API
            Specification, published by the
            <a href="https://www.w3.org/groups/cg/wicg">Web Platform Incubator Community Group</a> under the
            <a href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement
                (CLA)</a>. A human-readable
            <a href="https://www.w3.org/community/about/agreements/cla-deed/">summary</a>
            is available.

        </p>
        <hr title="Separator for header">
    </div>
    <section id="abstract" class="introductory">
        <h2>摘要</h2>
        <cite>串口 API</cite>为网站提供了一种通过脚本读取和写入串口设备的方式。这样的 API 将 web 与物理世界连接起来，使文档能够与如微控制器、3D 打印机及其他串口设备通信。相关还有一份<a
            href="https://github.com/WICG/serial/blob/main/EXPLAINER.md">说明文档</a>。
    </section>
    <section id="sotd" class="introductory">
        <h2>文档状态</h2>
        <p>
            本规范由
            <a href="https://www.w3.org/groups/cg/wicg">Web 平台孵化社区组</a>发布。它不是 W3C 标准，也不在 W3C 标准轨道上。

            请注意，根据
            <a href="https://www.w3.org/community/about/agreements/cla/">W3C 社区贡献者许可协议 (CLA)</a>
            有有限的选择退出选项，并且适用其他条件。

            了解更多关于
            <a href="https://www.w3.org/community/">W3C 社区与商务组</a>的信息。
        </p>
        该规范仍在不断完善中。欢迎所有<a href="https://github.com/WICG/serial">贡献</a>。
        <p>
            讨论本规范优先使用<a href="https://github.com/wicg/serial/issues/">GitHub Issues</a>。


        </p>
    </section>
    <nav id="toc">
        <h2 class="introductory" id="table-of-contents">目录</h2>
        <ol class="toc">
            <li class="tocline"><a class="tocxref" href="#abstract">摘要</a></li>
            <li class="tocline"><a class="tocxref" href="#sotd">文档状态</a></li>
            <li class="tocline"><a class="tocxref" href="#extensions-to-the-navigator-interface"><bdi class="secno">1.
                    </bdi>
                    <span> <span data-xref-type="_IDL_" data-link-type="interface" data-lt="Navigator" data-cite="html"
                            data-cite-path="/system-state.html" data-cite-frag="navigator"
                            class="formerLink"><code>Navigator</code></span> 接口的扩展</span>
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#serial-attribute"><bdi class="secno">1.1 </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="serial"
                                data-dfn-for="Navigator" data-type="Serial" data-lt="serial"
                                data-local-lt="Navigator.serial"><code>serial</code></span> 属性
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#extensions-to-the-workernavigator-interface"><bdi
                        class="secno">2. </bdi>
                    <span><span data-xref-type="_IDL_" data-link-type="interface" data-lt="WorkerNavigator"
                            data-cite="html" data-cite-path="/workers.html" data-cite-frag="workernavigator"
                            class="formerLink"><code>WorkerNavigator</code></span> 接口的扩展</span>
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#serial-attribute-0"><bdi class="secno">2.1 </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="serial"
                                data-dfn-for="WorkerNavigator" data-type="Serial" data-lt="serial"
                                data-local-lt="WorkerNavigator.serial"><code>serial</code></span> 属性
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#serial-interface"><bdi class="secno">3. </bdi>
                    <span data-xref-type="_IDL_" data-link-type="idl" data-lt="Serial"
                        class="formerLink"><code>Serial</code></span> 接口
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#requestport-method"><bdi class="secno">3.1 </bdi>
                            <span data-export="" data-dfn-type="method" data-idl="operation" data-title="requestPort()"
                                data-dfn-for="Serial" data-type="Promise" data-lt="requestPort()|requestPort(options)"
                                data-local-lt="Serial.requestPort|Serial.requestPort()|requestPort"><code>requestPort()</code></span>
                            方法
                        </a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#serialportrequestoptions-dictionary"><bdi
                                        class="secno">3.1.1 </bdi>
                                    <span data-export="" data-dfn-type="dictionary" data-idl="dictionary"
                                        data-title="SerialPortRequestOptions"
                                        data-dfn-for=""><code>SerialPortRequestOptions</code></span> 字典
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#serialportfilter-dictionary"><bdi
                                        class="secno">3.1.2 </bdi>
                                    <span data-export="" data-dfn-type="dictionary" data-idl="dictionary"
                                        data-title="SerialPortFilter"
                                        data-dfn-for=""><code>SerialPortFilter</code></span> 字典
                                </a></li>
                        </ol>
                    </li>
                    <li class="tocline"><a class="tocxref" href="#getports-method"><bdi class="secno">3.2 </bdi>
                            <span data-export="" data-dfn-type="method" data-idl="operation" data-title="getPorts()"
                                data-dfn-for="Serial" data-type="Promise" data-lt="getPorts()"
                                data-local-lt="Serial.getPorts|Serial.getPorts()|getPorts"><code>getPorts()</code></span>
                            方法
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#onconnect-attribute"><bdi class="secno">3.3 </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="onconnect"
                                data-dfn-for="Serial" data-type="EventHandler" data-lt="onconnect"
                                data-local-lt="Serial.onconnect"><code>onconnect</code></span> 属性
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#ondisconnect-attribute"><bdi class="secno">3.4 </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute"
                                data-title="ondisconnect" data-dfn-for="Serial" data-type="EventHandler"
                                data-lt="ondisconnect"
                                data-local-lt="Serial.ondisconnect"><code>ondisconnect</code></span> 属性
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#serialport-interface"><bdi class="secno">4. </bdi>
                    <span data-export="" data-dfn-type="interface" data-idl="interface" data-title="SerialPort"
                        data-dfn-for=""><code>SerialPort</code></span> 接口
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#onconnect-attribute-0"><bdi class="secno">4.1 </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="onconnect"
                                data-dfn-for="SerialPort" data-type="EventHandler" data-lt="onconnect"
                                data-local-lt="SerialPort.onconnect"><code>onconnect</code></span> 属性
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#ondisconnect-attribute-0"><bdi class="secno">4.2
                            </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute"
                                data-title="ondisconnect" data-dfn-for="SerialPort" data-type="EventHandler"
                                data-lt="ondisconnect"
                                data-local-lt="SerialPort.ondisconnect"><code>ondisconnect</code></span> 属性
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#getinfo-method"><bdi class="secno">4.3 </bdi>
                            <span data-export="" data-dfn-type="method" data-idl="operation" data-title="getInfo()"
                                data-dfn-for="SerialPort" data-type="SerialPortInfo" data-lt="getInfo()"
                                data-local-lt="SerialPort.getInfo|SerialPort.getInfo()|getInfo"><code>getInfo()</code></span>
                            方法
                        </a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#serialportinfo-dictionary"><bdi
                                        class="secno">4.3.1 </bdi>
                                    <span data-export="" data-dfn-type="dictionary" data-idl="dictionary"
                                        data-title="SerialPortInfo" data-dfn-for=""><code>SerialPortInfo</code></span>
                                    字典
                                </a></li>
                        </ol>
                    </li>
                    <li class="tocline"><a class="tocxref" href="#open-method"><bdi class="secno">4.4 </bdi>
                            <span data-export="" data-dfn-type="method" data-idl="operation" data-title="open()"
                                data-dfn-for="SerialPort" data-type="Promise" data-lt="open()|open(options)"
                                data-local-lt="SerialPort.open|SerialPort.open()|open"><code>open()</code></span> 方法
                        </a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#serialoptions-dictionary"><bdi
                                        class="secno">4.4.1 </bdi>
                                    <span data-export="" data-dfn-type="dictionary" data-idl="dictionary"
                                        data-title="SerialOptions" data-dfn-for=""><code>SerialOptions</code></span>
                                    字典
                                </a>
                                <ol class="toc">
                                    <li class="tocline"><a class="tocxref" href="#paritytype-enum"><bdi
                                                class="secno">4.4.1.1 </bdi>
                                            <span data-export="" data-dfn-type="enum" data-idl="enum"
                                                data-title="ParityType" data-dfn-for=""><code>ParityType</code></span>
                                            枚举
                                        </a></li>
                                    <li class="tocline"><a class="tocxref" href="#flowcontroltype-enum"><bdi
                                                class="secno">4.4.1.2 </bdi>
                                            <span data-export="" data-dfn-type="enum" data-idl="enum"
                                                data-title="FlowControlType"
                                                data-dfn-for=""><code>FlowControlType</code></span> 枚举
                                        </a></li>
                                </ol>
                            </li>
                        </ol>
                    </li>
                    <li class="tocline"><a class="tocxref" href="#connected-attribute"><bdi class="secno">4.5 </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="connected"
                                data-dfn-for="SerialPort" data-type="boolean" data-lt="connected"
                                data-local-lt="SerialPort.connected"><code>connected</code></span> 属性
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#readable-attribute"><bdi class="secno">4.6 </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="readable"
                                data-dfn-for="SerialPort" data-type="ReadableStream" data-lt="readable"
                                data-local-lt="SerialPort.readable"><code>readable</code></span> 属性
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#writable-attribute"><bdi class="secno">4.7 </bdi>
                            <span data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="writable"
                                data-dfn-for="SerialPort" data-type="WritableStream" data-lt="writable"
                                data-local-lt="SerialPort.writable"><code>writable</code></span> 属性
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#setsignals-method"><bdi class="secno">4.8 </bdi>
                            <span data-export="" data-dfn-type="method" data-idl="operation" data-title="setSignals()"
                                data-dfn-for="SerialPort" data-type="Promise" data-lt="setSignals()|setSignals(signals)"
                                data-local-lt="SerialPort.setSignals|SerialPort.setSignals()|setSignals"><code>setSignals()</code></span>
                            方法
                        </a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#serialoutputsignals-dictionary"><bdi
                                        class="secno">4.8.1 </bdi>
                                    <span data-export="" data-dfn-type="dictionary" data-idl="dictionary"
                                        data-title="SerialOutputSignals"
                                        data-dfn-for=""><code>SerialOutputSignals</code></span> 字典
                                </a></li>
                        </ol>
                    </li>
                    <li class="tocline"><a class="tocxref" href="#getsignals-method"><bdi class="secno">4.9 </bdi>
                            <span data-export="" data-dfn-type="method" data-idl="operation" data-title="getSignals()"
                                data-dfn-for="SerialPort" data-type="Promise" data-lt="getSignals()"
                                data-local-lt="SerialPort.getSignals|SerialPort.getSignals()|getSignals"><code>getSignals()</code></span>
                            方法
                        </a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#serialinputsignals-dictionary"><bdi
                                        class="secno">4.9.1 </bdi>
                                    <span data-export="" data-dfn-type="dictionary" data-idl="dictionary"
                                        data-title="SerialInputSignals"
                                        data-dfn-for=""><code>SerialInputSignals</code></span> 字典
                                </a></li>
                        </ol>
                    </li>
                    <li class="tocline"><a class="tocxref" href="#close-method"><bdi class="secno">4.10 </bdi>
                            <span data-export="" data-dfn-type="method" data-idl="operation" data-title="close()"
                                data-dfn-for="SerialPort" data-type="Promise" data-lt="close()"
                                data-local-lt="SerialPort.close|SerialPort.close()|close"><code>close()</code></span>
                            方法
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#forget-method"><bdi class="secno">4.11 </bdi>
                            <span data-export="" data-dfn-type="method" data-idl="operation" data-title="forget()"
                                data-dfn-for="SerialPort" data-type="Promise" data-lt="forget()"
                                data-local-lt="SerialPort.forget|SerialPort.forget()|forget"><code>forget()</code></span>
                            方法
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#blocklist"><bdi class="secno">5. </bdi>
                    阻止列表
                </a></li>
            <li class="tocline"><a class="tocxref" href="#integrations"><bdi class="secno">6. </bdi>
                    集成
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#permissions-policy"><bdi class="secno">6.1 </bdi>
                            权限策略
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#security"><bdi class="secno">7. </bdi>
                    安全注意事项
                </a></li>
            <li class="tocline"><a class="tocxref" href="#privacy"><bdi class="secno">8. </bdi>
                    隐私注意事项
                </a></li>
            <li class="tocline"><a class="tocxref" href="#conformance"><bdi class="secno">9. </bdi>一致性</a></li>
            <li class="tocline"><a class="tocxref" href="#acknowledgements"><bdi class="secno">A. </bdi>
                    致谢
                </a></li>
            <li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">B. </bdi>参考文献</a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#normative-references"><bdi class="secno">B.1
                            </bdi>规范性引用</a></li>
                    <li class="tocline"><a class="tocxref" href="#informative-references"><bdi class="secno">B.2
                            </bdi>非规范性引用</a></li>
                </ol>
            </li>
        </ol>
    </nav>
    <section data-dfn-for="Navigator" id="extensions-to-the-navigator-interface">
        <div class="header-wrapper">
            <h2 id="x1-extensions-to-the-navigator-interface"><bdi class="secno">1. </bdi>
                <a data-link-type="interface" data-lt="Navigator"
                    href="https://html.spec.whatwg.org/multipage/system-state.html#navigator"><code>Navigator</code></a>
                接口的扩展
            </h2><a class="self-link" href="#extensions-to-the-navigator-interface"
                aria-label="Permalink for Section 1."></a>
        </div>

        <pre class="idl def" id="webidl-216783249"><span class="idlHeader"><a class="self-link" href="#webidl-216783249">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-navigator-partial-1" data-title="Navigator">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=Window</span>, <span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>]
partial interface <a data-idl="partial" data-link-type="interface" data-title="Navigator" class="idlID" data-dfn-for="Navigator" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator">Navigator</a> {<span data-idl="" class="idlAttribute" id="idl-def-navigator-serial" data-title="serial" data-dfn-for="Navigator">
  [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject">SameObject</a></span>] readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-serial" class="internalDFN" id="ref-for-dom-serial-1"><code>Serial</code></a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-navigator-serial" id="ref-for-dom-navigator-serial-1"><code>serial</code></a>;</span>
};</span></code></pre>
        <section id="serial-attribute">
            <div class="header-wrapper">
                <h3 id="x1-1-serial-attribute"><bdi class="secno">1.1 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-navigator-serial" data-idl="attribute"
                        data-title="serial" data-dfn-for="Navigator" data-type="Serial" data-lt="serial"
                        data-local-lt="Navigator.serial" tabindex="0" aria-haspopup="dialog"><code>serial</code></dfn>
                    属性
                </h3><a class="self-link" href="#serial-attribute" aria-label="Permalink for Section 1.1"></a>
            </div>获取时，<a data-link-type="idl" href="#dom-navigator-serial" class="internalDFN"
                id="ref-for-dom-navigator-serial-2"><code>serial</code></a> 属性总是返回同一个 <a data-link-type="idl"
                data-lt="Serial" href="#dom-serial" class="internalDFN"
                id="ref-for-dom-serial-2"><code>Serial</code></a> 对象实例。
        </section>
    </section>
    <section data-dfn-for="WorkerNavigator" id="extensions-to-the-workernavigator-interface">
        <div class="header-wrapper">
            <h2 id="x2-extensions-to-the-workernavigator-interface"><bdi class="secno">2. </bdi>
                <a data-link-type="interface" data-lt="WorkerNavigator"
                    href="https://html.spec.whatwg.org/multipage/workers.html#workernavigator"><code>WorkerNavigator</code></a>
                接口的扩展
            </h2><a class="self-link" href="#extensions-to-the-workernavigator-interface"
                aria-label="Permalink for Section 2."></a>
        </div>

        <pre class="idl def" id="webidl-169119904"><span class="idlHeader"><a class="self-link" href="#webidl-169119904">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-workernavigator-partial-1" data-title="WorkerNavigator">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=DedicatedWorker</span>, <span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>]
partial interface <a data-idl="partial" data-link-type="interface" data-title="WorkerNavigator" class="idlID" data-dfn-for="WorkerNavigator" href="https://html.spec.whatwg.org/multipage/workers.html#workernavigator">WorkerNavigator</a> {<span data-idl="" class="idlAttribute" id="idl-def-workernavigator-serial" data-title="serial" data-dfn-for="WorkerNavigator">
  [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject">SameObject</a></span>] readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-serial" class="internalDFN" id="ref-for-dom-serial-3"><code>Serial</code></a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-workernavigator-serial" id="ref-for-dom-workernavigator-serial-1"><code>serial</code></a>;</span>
};</span></code></pre>
        <section id="serial-attribute-0">
            <div class="header-wrapper">
                <h3 id="x2-1-serial-attribute"><bdi class="secno">2.1 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-workernavigator-serial" data-idl="attribute"
                        data-title="serial" data-dfn-for="WorkerNavigator" data-type="Serial" data-lt="serial"
                        data-local-lt="WorkerNavigator.serial" tabindex="0"
                        aria-haspopup="dialog"><code>serial</code></dfn> 属性
                </h3><a class="self-link" href="#serial-attribute-0" aria-label="Permalink for Section 2.1"></a>
            </div>获取时，<a data-link-type="idl" href="#dom-workernavigator-serial" class="internalDFN"
                id="ref-for-dom-workernavigator-serial-2"><code>serial</code></a> 属性总是
            返回同一个 <a data-link-type="idl" data-lt="Serial" href="#dom-serial" class="internalDFN"
                id="ref-for-dom-serial-4"><code>Serial</code></a> 对象实例。
        </section>
    </section>
    <section data-dfn-for="Serial" id="serial-interface">
        <div class="header-wrapper">
            <h2 id="x3-serial-interface"><bdi class="secno">3. </bdi>
                <a data-link-type="idl" data-lt="Serial" href="#dom-serial" class="internalDFN"
                    id="ref-for-dom-serial-5"><code>Serial</code></a> 接口
            </h2><a class="self-link" href="#serial-interface" aria-label="Permalink for Section 3."></a>
        </div>

        <pre class="idl def" id="webidl-1469373565"><span class="idlHeader"><a class="self-link" href="#webidl-1469373565">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-serial" data-title="Serial">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=(DedicatedWorker, Window)</span>, <span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>]
interface <dfn data-export="" data-dfn-type="interface" id="dom-serial" data-idl="interface" data-title="Serial" data-dfn-for="" class="idlID" tabindex="0" aria-haspopup="dialog"><code>Serial</code></dfn> : <span class="idlSuperclass"><a data-link-type="interface" href="https://dom.spec.whatwg.org/#eventtarget">EventTarget</a></span> {<span data-idl="" class="idlAttribute" id="idl-def-serial-onconnect" data-title="onconnect" data-dfn-for="Serial">
  attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-serial-onconnect" id="ref-for-dom-serial-onconnect-1"><code>onconnect</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-serial-ondisconnect" data-title="ondisconnect" data-dfn-for="Serial">
  attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-serial-ondisconnect" id="ref-for-dom-serial-ondisconnect-1"><code>ondisconnect</code></a>;</span><span data-idl="" class="idlMethod" id="idl-def-serial-getports" data-title="getPorts" data-dfn-for="Serial"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="idl" href="#dom-serialport" class="internalDFN" id="ref-for-dom-serialport-1"><code>SerialPort</code></a>&gt;&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-serial-getports" id="ref-for-dom-serial-getports-1"><code>getPorts</code></a>();</span><span data-idl="" class="idlMethod" id="idl-def-serial-requestport-options" data-title="requestPort" data-dfn-for="Serial">
  [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=Window</span>]<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="idl" href="#dom-serialport" class="internalDFN" id="ref-for-dom-serialport-2"><code>SerialPort</code></a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-serial-requestport" id="ref-for-dom-serial-requestport-1"><code>requestPort</code></a>(optional<span class="idlType"> <a data-link-type="idl" href="#dom-serialportrequestoptions" class="internalDFN" id="ref-for-dom-serialportrequestoptions-1"><code>SerialPortRequestOptions</code></a></span> <span class="idlParamName">options</span> = {});</span>
};</span></code></pre>
        <section id="requestport-method">
            <div class="header-wrapper">
                <h3 id="x3-1-requestport-method"><bdi class="secno">3.1 </bdi>
                    <dfn data-export="" data-dfn-type="method" id="dom-serial-requestport" data-idl="operation"
                        data-title="requestPort()" data-dfn-for="Serial" data-type="Promise"
                        data-lt="requestPort()|requestPort(options)"
                        data-local-lt="Serial.requestPort|Serial.requestPort()|requestPort" tabindex="0"
                        aria-haspopup="dialog"><code>requestPort()</code></dfn> 方法
                </h3><a class="self-link" href="#requestport-method" aria-label="Permalink for Section 3.1"></a>
            </div>

            <aside class="example" id="example-1">
                <div class="marker">
                    <a class="self-link" href="#example-1">示例<bdi> 1</bdi></a>
                </div>
                <p>
                    当用户首次访问某站点时，站点不会获得访问任何串口设备的权限。必须首先调用
                    <a data-link-type="idl" data-lt="requestPort()" href="#dom-serial-requestport" class="internalDFN"
                        id="ref-for-dom-serial-requestport-2"><code>requestPort</code></a><code>()</code>。该调用会
                    给浏览器一个机会，提示用户，允许该站点控制哪个设备。如果站点专为总是通过 USB 连接的特定设备设计，可以
                    提供一个筛选器，仅让用户选择兼容的设备。例如，一个用于编程 Arduino 机器人的网站可以像下面这样限制选择
                    端口集合，仅为具有 Arduino USB 厂商 ID 的 USB 设备：
                </p>
                <pre
                    aria-busy="false"><code class="hljs js"><span class="hljs-keyword">const</span> filter = { <span class="hljs-attr">usbVendorId</span>: <span class="hljs-number">0x2341</span> };
<span class="hljs-keyword">const</span> port = <span class="hljs-keyword">await</span> navigator.<span class="hljs-property">serial</span>.<span class="hljs-title function_">requestPort</span>({ <span class="hljs-attr">filters</span>: [filter] });</code></pre>
                <p>
                    另一方面，如果站点期望与各类设备或通过 USB 转串口适配器连接的设备一起使用，则可以不指定任何筛选器，
                    由用户自己选择合适的设备，
                </p>
                <pre
                    aria-busy="false"><code class="hljs js"><span class="hljs-keyword">const</span> port = <span class="hljs-keyword">await</span> navigator.<span class="hljs-property">serial</span>.<span class="hljs-title function_">requestPort</span>();</code></pre>
                <p>
                    要求用户选择端口时会弹出提示，因此站点必须通过<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/interaction.html#transient-activation">瞬时激活</a>
                    事件（如用户点击按钮）。
                </p>
                <pre
                    aria-busy="false"><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"connect"</span>&gt;</span>连接<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></code></pre>
                <pre aria-busy="false"><code class="hljs js"><span class="hljs-keyword">const</span> connectButton = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"connect"</span>);
connectButton.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> port = <span class="hljs-keyword">await</span> navigator.<span class="hljs-property">serial</span>.<span class="hljs-title function_">requestPort</span>();
    <span class="hljs-comment">// 继续连接到 |port| 所绑定的设备。</span>
  } <span class="hljs-keyword">catch</span> (e) {
    <span class="hljs-comment">// 用户关闭了选择设备提示，未选任何设备。</span>
  }
});</code></pre>
                <p>
                    用户可能会选择不选设备，此时
                    <a data-link-type="interface" data-lt="Promise"
                        href="https://webidl.spec.whatwg.org/#idl-promise"><code>Promise</code></a> 将以
                    "<a data-link-type="exception" data-lt="NotFoundError"
                        href="https://webidl.spec.whatwg.org/#notfounderror"><code>NotFoundError</code></a>"
                    <a data-link-type="interface" data-lt="DOMException"
                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>
                    拒绝，站点要进行处理。
                </p>
            </aside>
            <p>
                <a data-link-type="idl" data-lt="requestPort()" href="#dom-serial-requestport" class="internalDFN"
                    id="ref-for-dom-serial-requestport-3"><code>requestPort</code></a><code>()</code> 方法的执行步骤如下：
            </p>
            <ol>
                <li>令 <var data-type="Promise">promise</var> 为<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#a-new-promise">新 Promise</a>。
                </li>
                <li>如果 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a> 的 <a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">相关全局对象</a>的
                    <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window">关联文档</a>
                    不被允许使用名为
                    "<a data-link-type="dfn|abstract-op" href="#dfn-serial" class="internalDFN"
                        id="ref-for-dfn-serial-1"><code>serial</code></a>" 的<a data-link-type="dfn"
                        href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature">策略控制功能</a>，
                    则用 "<a data-link-type="exception" data-lt="SecurityError"
                        href="https://webidl.spec.whatwg.org/#securityerror"><code>SecurityError</code></a>"
                    <a data-link-type="interface" data-lt="DOMException"
                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a> 拒绝
                    <var data-type="Promise">promise</var> 并返回。
                </li>
                <li>如果 <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">相关全局对象</a>
                    没有
                    <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/interaction.html#transient-activation">瞬时激活</a>，
                    用 "<a data-link-type="exception" data-lt="SecurityError"
                        href="https://webidl.spec.whatwg.org/#securityerror"><code>SecurityError</code></a>"
                    <a data-link-type="interface" data-lt="DOMException"
                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>
                    拒绝 <var data-type="Promise">promise</var>，并返回。
                </li>
                <li>如果 <var>options</var>["<a data-link-type="idl" href="#dom-serialportrequestoptions-filters"
                        class="internalDFN"
                        id="ref-for-dom-serialportrequestoptions-filters-1"><code>filters</code></a>"] 存在，
                    对于 <var>options</var>["<a data-link-type="idl" href="#dom-serialportrequestoptions-filters"
                        class="internalDFN"
                        id="ref-for-dom-serialportrequestoptions-filters-2"><code>filters</code></a>"] 中的每个
                    <var data-type="SerialPortFilter">filter</var> 执行以下步骤：
                    <ol>
                        <li>如果 <var data-type="SerialPortFilter">filter</var>["<a data-link-type="idl"
                                href="#dom-serialportfilter-bluetoothserviceclassid" class="internalDFN"
                                id="ref-for-dom-serialportfilter-bluetoothserviceclassid-1"><code>bluetoothServiceClassId</code></a>"]
                            存在：
                            <ol>
                                <li>
                                    如果 <var data-type="SerialPortFilter">filter</var>["<a data-link-type="idl"
                                        href="#dom-serialportfilter-usbvendorid" class="internalDFN"
                                        id="ref-for-dom-serialportfilter-usbvendorid-1"><code>usbVendorId</code></a>"]
                                    存在，
                                    用 <a data-link-type="exception" data-lt="TypeError"
                                        href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a>
                                    拒绝 <var data-type="Promise">promise</var> 并返回。
                                </li>
                                <li>
                                    如果 <var data-type="SerialPortFilter">filter</var>["<a data-link-type="idl"
                                        href="#dom-serialportfilter-usbproductid" class="internalDFN"
                                        id="ref-for-dom-serialportfilter-usbproductid-1"><code>usbProductId</code></a>"]
                                    存在，
                                    用 <a data-link-type="exception" data-lt="TypeError"
                                        href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a>
                                    拒绝 <var data-type="Promise">promise</var> 并返回。
                                </li>
                            </ol>
                        </li>
                        <li>如果 <var data-type="SerialPortFilter">filter</var>["<a data-link-type="idl"
                                href="#dom-serialportfilter-usbvendorid" class="internalDFN"
                                id="ref-for-dom-serialportfilter-usbvendorid-2"><code>usbVendorId</code></a>"] 不存在，用
                            <a data-link-type="exception" data-lt="TypeError"
                                href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a>
                            拒绝 <var data-type="Promise">promise</var>并返回。
                            <div class="note" role="note" id="issue-container-generatedID">
                                <div role="heading" class="note-title marker" id="h-note" aria-level="4">
                                    <span>注意</span>
                                </div>
                                <div class="">
                                    此检查实现了组合规则：<a data-link-type="idl" data-lt="SerialPortFilter"
                                        href="#dom-serialportfilter" class="internalDFN"
                                        id="ref-for-dom-serialportfilter-1"><code>SerialPortFilter</code></a> 不能为空，且如果
                                    <a data-link-type="idl" href="#dom-serialportfilter-usbproductid"
                                        class="internalDFN"
                                        id="ref-for-dom-serialportfilter-usbproductid-2"><code>usbProductId</code></a>
                                    指定，则
                                    <a data-link-type="idl" href="#dom-serialportfilter-usbvendorid" class="internalDFN"
                                        id="ref-for-dom-serialportfilter-usbvendorid-3"><code>usbVendorId</code></a>
                                    也必须被指定。
                                </div>
                            </div>
                        </li>
                    </ol>
                </li>
                <li>并行执行下列步骤：
                    <ol>
                        <li>令 <var data-type="list&lt;SerialPort&gt;">allPorts</var> 为一个空 <a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#list">列表</a>。
                        </li>
                        <li>对系统注册的每个蓝牙设备：
                            <ol>
                                <li>对于设备支持的每个 <a data-link-type="typedef" data-lt="BluetoothServiceUUID"
                                        href="https://webbluetoothcg.github.io/web-bluetooth/#typedefdef-bluetoothserviceuuid"><code>BluetoothServiceUUID</code></a>
                                    <var data-type="BluetoothServiceUUID">uuid</var>：
                                    <ol>
                                        <li>如果 <var data-type="BluetoothServiceUUID">uuid</var> 不是 <a
                                                data-link-type="dfn|abstract-op"
                                                href="#dfn-blocked-bluetooth-service-class-uuid" class="internalDFN"
                                                id="ref-for-dfn-blocked-bluetooth-service-class-uuid-1">受限
                                                蓝牙服务类 UUID</a>：
                                            <ul>
                                                <li>如果 <var data-type="BluetoothServiceUUID">uuid</var> 等于
                                                    <a data-link-type="dfn|abstract-op"
                                                        href="#dfn-serial-port-profile-service-class-id"
                                                        class="internalDFN"
                                                        id="ref-for-dfn-serial-port-profile-service-class-id-1">串口配置文件服务类
                                                        ID</a>，或者
                                                </li>
                                                <li>
                                                    <var>options</var>["<a data-link-type="idl"
                                                        href="#dom-serialportrequestoptions-allowedbluetoothserviceclassids"
                                                        class="internalDFN"
                                                        id="ref-for-dom-serialportrequestoptions-allowedbluetoothserviceclassids-1"><code>allowedBluetoothServiceClassIds</code></a>"]
                                                    存在且<a data-link-type="dfn"
                                                        href="https://infra.spec.whatwg.org/#list-contain">包含</a>
                                                    <var data-type="BluetoothServiceUUID">uuid</var>：
                                                    <ol>
                                                        <li>令 <var data-type="SerialPort">port</var> 为表示该蓝牙设备上的服务的 <a
                                                                data-link-type="idl" data-lt="SerialPort"
                                                                href="#dom-serialport" class="internalDFN"
                                                                id="ref-for-dom-serialport-3"><code>SerialPort</code></a>
                                                            。
                                                        </li>
                                                        <li><a data-link-type="dfn"
                                                                href="https://infra.spec.whatwg.org/#list-append">追加</a>
                                                            <var data-type="SerialPort">port</var> 到 <var
                                                                data-type="list&lt;SerialPort&gt;">allPorts</var>。
                                                        </li>
                                                    </ol>
                                                </li>
                                            </ul>
                                        </li>
                                    </ol>
                                </li>
                            </ol>
                        </li>
                        <li><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate">对于每一个</a> <a
                                data-link-type="dfn|abstract-op" href="#dfn-available" class="internalDFN"
                                id="ref-for-dfn-available-1">可用的</a>非蓝牙串口：
                            <ol>
                                <li>令 <var data-type="SerialPort">port</var> 为一个<a data-link-type="idl"
                                        data-lt="SerialPort" href="#dom-serialport" class="internalDFN"
                                        id="ref-for-dom-serialport-4"><code>SerialPort</code></a>，表示该端口。
                                </li>
                                <li><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append">将</a>
                                    <var data-type="SerialPort">port</var> <a data-link-type="dfn"
                                        href="https://infra.spec.whatwg.org/#list-append">添加</a>到 <var
                                        data-type="list&lt;SerialPort&gt;">allPorts</var>。
                                </li>
                            </ol>
                        </li>
                        <li>通过向用户呈现 <var data-type="list&lt;SerialPort&gt;">allPorts</var> 中<a
                                data-link-type="dfn|abstract-op" href="#dfn-match-any-filter" class="internalDFN"
                                id="ref-for-dfn-match-any-filter-1">符合任一过滤器</a>的端口列表（过滤器来自 <var>options</var>["<a
                                data-link-type="idl" href="#dom-serialportrequestoptions-filters" class="internalDFN"
                                id="ref-for-dom-serialportrequestoptions-filters-3"><code>filters</code></a>"]，如果有的话，否则为
                            <var data-type="list&lt;SerialPort&gt;">allPorts</var>）来提示用户授予本站对串口的访问权限。
                        </li>
                        <li>如果用户未选择端口，<a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">在相关全局对象</a>
                            上、使用 <a data-link-type="dfn|abstract-op" href="#dfn-serial-port-task-source"
                                class="internalDFN" id="ref-for-dfn-serial-port-task-source-1">serial port task
                                source</a>
                            <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject">拒绝</a> <var
                                data-type="Promise">promise</var>，错误为
                            "<a data-link-type="exception"
                                href="https://webidl.spec.whatwg.org/#notfounderror"><code>NotFoundError</code></a>"
                            <a data-link-type="interface" data-lt="DOMException"
                                href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>，
                            并中止后续步骤。
                        </li>
                        <li>令 <var data-type="SerialPort">port</var> 为用户选定的端口，
                            其为 <a data-link-type="idl" data-lt="SerialPort" href="#dom-serialport" class="internalDFN"
                                id="ref-for-dom-serialport-5"><code>SerialPort</code></a> 的一个实例。
                        </li>
                        <li><a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">在相关全局对象</a>
                            上、使用 <a data-link-type="dfn|abstract-op" href="#dfn-serial-port-task-source"
                                class="internalDFN" id="ref-for-dfn-serial-port-task-source-2">serial port task
                                source</a>
                            <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve">解析</a>
                            <var data-type="Promise">promise</var>，值为 <var data-type="SerialPort">port</var>。
                        </li>
                    </ol>
                </li>
                <li>返回 <var data-type="Promise">promise</var>。
                </li>
            </ol>
            <p>
                串口在下列情况下被认为是<dfn id="dfn-available" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">可用</dfn>：当它是有线串口并且物理连接至系统，或它是无线串口但对应的无线设备已注册到系统。
            </p>
            <section data-dfn-for="SerialPortRequestOptions" id="serialportrequestoptions-dictionary">
                <div class="header-wrapper">
                    <h4 id="x3-1-1-serialportrequestoptions-dictionary"><bdi class="secno">3.1.1 </bdi>
                        <dfn data-export="" data-dfn-type="dictionary" id="dom-serialportrequestoptions"
                            data-idl="dictionary" data-title="SerialPortRequestOptions" data-dfn-for="" tabindex="0"
                            aria-haspopup="dialog"><code>SerialPortRequestOptions</code></dfn> 字典
                    </h4><a class="self-link" href="#serialportrequestoptions-dictionary"
                        aria-label="Permalink for Section 3.1.1"></a>
                </div>

                <pre class="idl def" id="webidl-1146248160"><span class="idlHeader"><a class="self-link" href="#webidl-1146248160">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-serialportrequestoptions" data-title="SerialPortRequestOptions">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-serialportrequestoptions" id="ref-for-dom-serialportrequestoptions-2"><code>SerialPortRequestOptions</code></a> {<span data-idl="" class="idlMember" id="idl-def-serialportrequestoptions-filters" data-title="filters" data-dfn-for="SerialPortRequestOptions"><span class="idlType">
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="idl" href="#dom-serialportfilter" class="internalDFN" id="ref-for-dom-serialportfilter-2"><code>SerialPortFilter</code></a>&gt;</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-serialportrequestoptions-filters" id="ref-for-dom-serialportrequestoptions-filters-4"><code>filters</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-serialportrequestoptions-allowedbluetoothserviceclassids" data-title="allowedBluetoothServiceClassIds" data-dfn-for="SerialPortRequestOptions"><span class="idlType">
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="typedef" href="https://webbluetoothcg.github.io/web-bluetooth/#typedefdef-bluetoothserviceuuid">BluetoothServiceUUID</a>&gt;</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-serialportrequestoptions-allowedbluetoothserviceclassids" id="ref-for-dom-serialportrequestoptions-allowedbluetoothserviceclassids-2"><code>allowedBluetoothServiceClassIds</code></a>;</span>
};</span></code></pre>
                <dl>
                    <dt>
                        <dfn data-export="" data-dfn-type="dict-member" id="dom-serialportrequestoptions-filters"
                            data-idl="field" data-title="filters" data-dfn-for="SerialPortRequestOptions"
                            data-type="sequence" tabindex="0" aria-haspopup="dialog"><code>filters</code></dfn> 成员
                    </dt>
                    <dd>
                        串口筛选器
                    </dd>
                    <dt>
                        <dfn data-export="" data-dfn-type="dict-member"
                            id="dom-serialportrequestoptions-allowedbluetoothserviceclassids" data-idl="field"
                            data-title="allowedBluetoothServiceClassIds" data-dfn-for="SerialPortRequestOptions"
                            data-type="sequence" tabindex="0"
                            aria-haspopup="dialog"><code>allowedBluetoothServiceClassIds</code></dfn> 成员
                    </dt>
                    <dd>
                        <a data-link-type="typedef" data-lt="BluetoothServiceUUID"
                            href="https://webbluetoothcg.github.io/web-bluetooth/#typedefdef-bluetoothserviceuuid"><code>BluetoothServiceUUID</code></a>
                        的值组成的列表，代表蓝牙服务类 ID。带自定义服务类 ID 的蓝牙端口，除非在该列表中，否则不会出现在
                        用户可选端口列表里。
                    </dd>
                </dl>
            </section>
            <section data-dfn-for="SerialPortFilter" id="serialportfilter-dictionary">
                <div class="header-wrapper">
                    <h4 id="x3-1-2-serialportfilter-dictionary"><bdi class="secno">3.1.2 </bdi>
                        <dfn data-export="" data-dfn-type="dictionary" id="dom-serialportfilter" data-idl="dictionary"
                            data-title="SerialPortFilter" data-dfn-for="" tabindex="0"
                            aria-haspopup="dialog"><code>SerialPortFilter</code></dfn> 字典
                    </h4><a class="self-link" href="#serialportfilter-dictionary"
                        aria-label="Permalink for Section 3.1.2"></a>
                </div>

                <pre class="idl def" id="webidl-365048672"><span class="idlHeader"><a class="self-link" href="#webidl-365048672">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-serialportfilter" data-title="SerialPortFilter">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-serialportfilter" id="ref-for-dom-serialportfilter-3"><code>SerialPortFilter</code></a> {<span data-idl="" class="idlMember" id="idl-def-serialportfilter-usbvendorid" data-title="usbVendorId" data-dfn-for="SerialPortFilter"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short">unsigned short</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-serialportfilter-usbvendorid" id="ref-for-dom-serialportfilter-usbvendorid-4"><code>usbVendorId</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-serialportfilter-usbproductid" data-title="usbProductId" data-dfn-for="SerialPortFilter"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short">unsigned short</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-serialportfilter-usbproductid" id="ref-for-dom-serialportfilter-usbproductid-3"><code>usbProductId</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-serialportfilter-bluetoothserviceclassid" data-title="bluetoothServiceClassId" data-dfn-for="SerialPortFilter"><span class="idlType">
  <a data-link-type="typedef" href="https://webbluetoothcg.github.io/web-bluetooth/#typedefdef-bluetoothserviceuuid">BluetoothServiceUUID</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-serialportfilter-bluetoothserviceclassid" id="ref-for-dom-serialportfilter-bluetoothserviceclassid-2"><code>bluetoothServiceClassId</code></a>;</span>
};</span></code></pre>
                <dl>
                    <dt>
                        <dfn data-export="" data-dfn-type="dict-member" id="dom-serialportfilter-usbvendorid"
                            data-idl="field" data-title="usbVendorId" data-dfn-for="SerialPortFilter"
                            data-type="unsigned short" tabindex="0"
                            aria-haspopup="dialog"><code>usbVendorId</code></dfn> 成员
                    </dt>
                    <dd>
                        USB 厂商 ID
                    </dd>
                    <dt>
                        <dfn data-export="" data-dfn-type="dict-member" id="dom-serialportfilter-usbproductid"
                            data-idl="field" data-title="usbProductId" data-dfn-for="SerialPortFilter"
                            data-type="unsigned short" tabindex="0"
                            aria-haspopup="dialog"><code>usbProductId</code></dfn> 成员
                    </dt>
                    <dd>
                        USB 产品 ID
                    </dd>
                    <dt>
                        <dfn data-export="" data-dfn-type="dict-member"
                            id="dom-serialportfilter-bluetoothserviceclassid" data-idl="field"
                            data-title="bluetoothServiceClassId" data-dfn-for="SerialPortFilter"
                            data-type="BluetoothServiceUUID" tabindex="0"
                            aria-haspopup="dialog"><code>bluetoothServiceClassId</code></dfn> 成员
                    </dt>
                    <dd>
                        蓝牙服务类 ID
                    </dd>
                </dl>
                <p>
                    若下列步骤返回 <code>true</code>，则串口 <var data-type="SerialPort">port</var> <dfn
                        id="dfn-matches-the-filter" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">匹配筛选条件</dfn>
                    <var data-type="SerialPortFilter">filter</var>：
                </p>
                <ol>
                    <li>令 <var data-type="SerialPortInfo">info</var> 等于调用
                        <var data-type="SerialPort">port</var>.<a data-link-type="idl" data-lt="getInfo()"
                            href="#dom-serialport-getinfo" class="internalDFN"
                            id="ref-for-dom-serialport-getinfo-1"><code>getInfo</code></a><code>()</code> 的结果。
                    </li>
                    <li>如果 <var data-type="SerialPortFilter">filter</var>["<a data-link-type="idl"
                            href="#dom-serialportfilter-bluetoothserviceclassid" class="internalDFN"
                            id="ref-for-dom-serialportfilter-bluetoothserviceclassid-3"><code>bluetoothServiceClassId</code></a>"]
                        存在：
                        <ol>
                            <li>如该串口不是蓝牙设备的一部分，返回 <code>false</code>。
                            </li>
                            <li>如 <var data-type="SerialPortFilter">filter</var>["<a data-link-type="idl"
                                    href="#dom-serialportfilter-bluetoothserviceclassid" class="internalDFN"
                                    id="ref-for-dom-serialportfilter-bluetoothserviceclassid-4"><code>bluetoothServiceClassId</code></a>"]
                                等于
                                <var data-type="SerialPortInfo">info</var>["<a data-link-type="idl"
                                    href="#dom-serialportinfo-bluetoothserviceclassid" class="internalDFN"
                                    id="ref-for-dom-serialportinfo-bluetoothserviceclassid-1"><code>bluetoothServiceClassId</code></a>"]，
                                返回
                                <code>true</code>。
                            </li>
                            <li>否则，返回 <code>false</code>。
                            </li>
                        </ol>
                    </li>
                    <li>如 <var data-type="SerialPortFilter">filter</var>["<a data-link-type="idl"
                            href="#dom-serialportfilter-usbvendorid" class="internalDFN"
                            id="ref-for-dom-serialportfilter-usbvendorid-5"><code>usbVendorId</code></a>"] 不存在，
                        返回 <code>true</code>。
                    </li>
                    <li>如该串口不是 USB 设备一部分，返回 <code>false</code>。
                    </li>
                    <li>如 <var data-type="SerialPortInfo">info</var>["<a data-link-type="idl"
                            href="#dom-serialportinfo-usbvendorid" class="internalDFN"
                            id="ref-for-dom-serialportinfo-usbvendorid-1"><code>usbVendorId</code></a>"] 不等于
                        <var data-type="SerialPortFilter">filter</var>["<a data-link-type="idl"
                            href="#dom-serialportfilter-usbvendorid" class="internalDFN"
                            id="ref-for-dom-serialportfilter-usbvendorid-6"><code>usbVendorId</code></a>"]，返回
                        <code>false</code>。
                    </li>
                    <li>如 <var data-type="SerialPortFilter">filter</var>["<a data-link-type="idl"
                            href="#dom-serialportfilter-usbproductid" class="internalDFN"
                            id="ref-for-dom-serialportfilter-usbproductid-4"><code>usbProductId</code></a>"] 不存在，返回
                        <code>true</code>。
                    </li>
                    <li>如 <var data-type="SerialPortInfo">info</var>["<a data-link-type="idl"
                            href="#dom-serialportinfo-usbproductid" class="internalDFN"
                            id="ref-for-dom-serialportinfo-usbproductid-1"><code>usbProductId</code></a>"] 不等于
                        <var data-type="SerialPortFilter">filter</var>["<a data-link-type="idl"
                            href="#dom-serialportfilter-usbproductid" class="internalDFN"
                            id="ref-for-dom-serialportfilter-usbproductid-5"><code>usbProductId</code></a>"]，返回
                        <code>false</code>。
                    </li>
                    <li>否则，返回 <code>true</code>。
                    </li>
                </ol>
                <p>
                    <var data-type="SerialPort">port</var> 在某组
                    <a data-link-type="idl" data-lt="SerialPortFilter" href="#dom-serialportfilter" class="internalDFN"
                        id="ref-for-dom-serialportfilter-4"><code>SerialPortFilter</code></a> 内 <dfn
                        data-lt="match any filter|matches any filter" id="dfn-match-any-filter" tabindex="0"
                        aria-haspopup="dialog" data-dfn-type="dfn">匹配任意筛选条件</dfn>，步骤如下：
                </p>
                <ol>
                    <li>对序列中的每个 <var data-type="SerialPortFilter">filter</var>，执行下面的子步骤：
                        <ol>
                            <li>如果 <var data-type="SerialPort">port</var> <a data-link-type="dfn|abstract-op"
                                    href="#dfn-matches-the-filter" class="internalDFN"
                                    id="ref-for-dfn-matches-the-filter-1">匹配筛选条件</a> <var
                                    data-type="SerialPortFilter">filter</var>，返回 <code>true</code>。
                            </li>
                        </ol>
                    </li>
                    <li>返回 <code>false</code>。
                    </li>
                </ol>
            </section>
        </section>
        <section id="getports-method">
            <div class="header-wrapper">
                <h3 id="x3-2-getports-method"><bdi class="secno">3.2 </bdi>
                    <dfn data-export="" data-dfn-type="method" id="dom-serial-getports" data-idl="operation"
                        data-title="getPorts()" data-dfn-for="Serial" data-type="Promise" data-lt="getPorts()"
                        data-local-lt="Serial.getPorts|Serial.getPorts()|getPorts" tabindex="0"
                        aria-haspopup="dialog"><code>getPorts()</code></dfn> 方法
                </h3><a class="self-link" href="#getports-method" aria-label="Permalink for Section 3.2"></a>
            </div>

            <aside class="example" id="example-2">
                <div class="marker">
                    <a class="self-link" href="#example-2">示例<bdi> 2</bdi></a>
                </div>
                <p>
                    若串口由 USB 设备提供，则该设备可能会连接或断开。一旦站点获得了端口的访问权限，
                    可接收这些事件，并查询当前有权访问的已连接设备集合。
                </p>
                <pre aria-busy="false"><code class="hljs js"><span class="hljs-comment">// 页面加载时检查可用端口。</span>
<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'DOMContentLoaded'</span>, <span class="hljs-title function_">async</span> () =&gt; {
  <span class="hljs-keyword">let</span> ports = <span class="hljs-keyword">await</span> navigator.<span class="hljs-property">serial</span>.<span class="hljs-title function_">getPorts</span>();
  <span class="hljs-comment">// 用于 UI，供用户选择或自动连接。</span>
});

navigator.<span class="hljs-property">serial</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'connect'</span>, <span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> {
  <span class="hljs-comment">// 将 |e.target| 加入 UI 或自动连接。</span>
});

navigator.<span class="hljs-property">serial</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'disconnect'</span>, <span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> {
  <span class="hljs-comment">// 从 UI 移除 |e.target|，设备断开时也可通过流错误感知。</span>
});</code></pre>
            </aside>
            <p>
                <a data-link-type="idl" data-lt="getPorts()" href="#dom-serial-getports" class="internalDFN"
                    id="ref-for-dom-serial-getports-2"><code>getPorts</code></a><code>()</code> 方法步骤如下：
            </p>
            <ol>
                <li>令 <var data-type="Promise">promise</var> 为<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#a-new-promise">新 Promise</a>。
                </li>
                <li>如果 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a> 的 <a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">相关全局对象</a>的
                    <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window">关联文档</a>
                    不被允许使用名为 <code>"serial"</code> 的<a data-link-type="dfn"
                        href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature">策略控制功能</a>，
                    用 "<a data-link-type="exception" data-lt="SecurityError"
                        href="https://webidl.spec.whatwg.org/#securityerror"><code>SecurityError</code></a>"
                    <a data-link-type="interface" data-lt="DOMException"
                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>
                    拒绝 <var data-type="Promise">promise</var> 并返回。
                </li>
                <li>并行执行下列步骤：
                    <ol>
                        <li>令 <var>availablePorts</var> 为用户允许站点访问（通过前次调用
                            <a data-link-type="idl" data-lt="requestPort()" href="#dom-serial-requestport"
                                class="internalDFN"
                                id="ref-for-dom-serial-requestport-4"><code>requestPort</code></a><code>()</code> 实现）的
                            <a data-link-type="dfn|abstract-op" href="#dfn-available" class="internalDFN"
                                id="ref-for-dfn-available-2">可用</a>
                            串口序列。
                        </li>
                        <li>令 <var>ports</var> 为序列 <a data-link-type="idl" data-lt="SerialPort" href="#dom-serialport"
                                class="internalDFN" id="ref-for-dom-serialport-6"><code>SerialPort</code></a>s，
                            表示 <var>availablePorts</var> 所包含的端口。
                        </li>
                        <li><a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">在相关全局对象</a>
                            上、使用 <a data-link-type="dfn|abstract-op" href="#dfn-serial-port-task-source"
                                class="internalDFN" id="ref-for-dfn-serial-port-task-source-3">serial port task
                                source</a>
                            <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve">解析</a>
                            <var data-type="Promise">promise</var>，值为 <var>ports</var>。
                        </li>
                    </ol>
                </li>
                <li>返回 <var data-type="Promise">promise</var>。
                </li>
            </ol>
        </section>
        <section id="onconnect-attribute">
            <div class="header-wrapper">
                <h3 id="x3-3-onconnect-attribute"><bdi class="secno">3.3 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-serial-onconnect" data-idl="attribute"
                        data-title="onconnect" data-dfn-for="Serial" data-type="EventHandler" data-lt="onconnect"
                        data-local-lt="Serial.onconnect" tabindex="0"
                        aria-haspopup="dialog"><code>onconnect</code></dfn> 属性
                </h3><a class="self-link" href="#onconnect-attribute" aria-label="Permalink for Section 3.3"></a>
            </div>
            <a data-link-type="idl" href="#dom-serial-onconnect" class="internalDFN"
                id="ref-for-dom-serial-onconnect-2"><code>onconnect</code></a> 是
            <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes">事件处理
                IDL 属性</a>，对应于 <dfn id="dfn-connect" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">connect</dfn> 事件类型。
        </section>
        <section id="ondisconnect-attribute">
            <div class="header-wrapper">
                <h3 id="x3-4-ondisconnect-attribute"><bdi class="secno">3.4 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-serial-ondisconnect" data-idl="attribute"
                        data-title="ondisconnect" data-dfn-for="Serial" data-type="EventHandler" data-lt="ondisconnect"
                        data-local-lt="Serial.ondisconnect" tabindex="0"
                        aria-haspopup="dialog"><code>ondisconnect</code></dfn> 属性
                </h3><a class="self-link" href="#ondisconnect-attribute" aria-label="Permalink for Section 3.4"></a>
            </div>
            <a data-link-type="idl" href="#dom-serial-ondisconnect" class="internalDFN"
                id="ref-for-dom-serial-ondisconnect-2"><code>ondisconnect</code></a> 是
            <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes">事件处理
                IDL 属性</a>，对应于 <dfn id="dfn-disconnect" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">disconnect</dfn> 事件类型。
        </section>
    </section>
    <section data-dfn-for="SerialPort" id="serialport-interface">
        <div class="header-wrapper">
            <h2 id="x4-serialport-interface"><bdi class="secno">4. </bdi>
                <dfn data-export="" data-dfn-type="interface" id="dom-serialport" data-idl="interface"
                    data-title="SerialPort" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>SerialPort</code></dfn> 接口
            </h2><a class="self-link" href="#serialport-interface" aria-label="Permalink for Section 4."></a>
        </div>

        <pre class="idl def" id="webidl-522066859"><span class="idlHeader"><a class="self-link" href="#webidl-522066859">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-serialport" data-title="SerialPort">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=(DedicatedWorker,Window)</span>, <span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-serialport" id="ref-for-dom-serialport-7"><code>SerialPort</code></a> : <span class="idlSuperclass"><a data-link-type="interface" href="https://dom.spec.whatwg.org/#eventtarget">EventTarget</a></span> {<span data-idl="" class="idlAttribute" id="idl-def-serialport-onconnect" data-title="onconnect" data-dfn-for="SerialPort">
  attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-serialport-onconnect" id="ref-for-dom-serialport-onconnect-1"><code>onconnect</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-serialport-ondisconnect" data-title="ondisconnect" data-dfn-for="SerialPort">
  attribute<span class="idlType"> <a data-link-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-serialport-ondisconnect" id="ref-for-dom-serialport-ondisconnect-1"><code>ondisconnect</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-serialport-connected" data-title="connected" data-dfn-for="SerialPort">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-serialport-connected" id="ref-for-dom-serialport-connected-1"><code>connected</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-serialport-readable" data-title="readable" data-dfn-for="SerialPort">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://streams.spec.whatwg.org/#readablestream">ReadableStream</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-serialport-readable" id="ref-for-dom-serialport-readable-1"><code>readable</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-serialport-writable" data-title="writable" data-dfn-for="SerialPort">
  readonly attribute<span class="idlType"> <a data-link-type="interface" href="https://streams.spec.whatwg.org/#writablestream">WritableStream</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-serialport-writable" id="ref-for-dom-serialport-writable-1"><code>writable</code></a>;</span><span data-idl="" class="idlMethod" id="idl-def-serialport-getinfo" data-title="getInfo" data-dfn-for="SerialPort"><span class="idlType">

  <a data-link-type="idl" href="#dom-serialportinfo" class="internalDFN" id="ref-for-dom-serialportinfo-1"><code>SerialPortInfo</code></a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-serialport-getinfo" id="ref-for-dom-serialport-getinfo-2"><code>getInfo</code></a>();</span><span data-idl="" class="idlMethod" id="idl-def-serialport-open-options" data-title="open" data-dfn-for="SerialPort"><span class="idlType">

  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-serialport-open" id="ref-for-dom-serialport-open-1"><code>open</code></a>(<span class="idlType"><a data-link-type="idl" href="#dom-serialoptions" class="internalDFN" id="ref-for-dom-serialoptions-1"><code>SerialOptions</code></a></span> <span class="idlParamName">options</span>);</span><span data-idl="" class="idlMethod" id="idl-def-serialport-setsignals-signals" data-title="setSignals" data-dfn-for="SerialPort"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-serialport-setsignals" id="ref-for-dom-serialport-setsignals-1"><code>setSignals</code></a>(optional<span class="idlType"> <a data-link-type="idl" href="#dom-serialoutputsignals" class="internalDFN" id="ref-for-dom-serialoutputsignals-1"><code>SerialOutputSignals</code></a></span> <span class="idlParamName">signals</span> = {});</span><span data-idl="" class="idlMethod" id="idl-def-serialport-getsignals" data-title="getSignals" data-dfn-for="SerialPort"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="idl" href="#dom-serialinputsignals" class="internalDFN" id="ref-for-dom-serialinputsignals-1"><code>SerialInputSignals</code></a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-serialport-getsignals" id="ref-for-dom-serialport-getsignals-1"><code>getSignals</code></a>();</span><span data-idl="" class="idlMethod" id="idl-def-serialport-close" data-title="close" data-dfn-for="SerialPort"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-serialport-close" id="ref-for-dom-serialport-close-1"><code>close</code></a>();</span><span data-idl="" class="idlMethod" id="idl-def-serialport-forget" data-title="forget" data-dfn-for="SerialPort"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-serialport-forget" id="ref-for-dom-serialport-forget-1"><code>forget</code></a>();</span>
};</span></code></pre>
        <p>
            该接口的方法通常为异步完成，会在<dfn id="dfn-serial-port-task-source" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">串口任务源</dfn>上排队执行。
        </p>
        <p>
            <a data-link-type="idl" data-lt="SerialPort" href="#dom-serialport" class="internalDFN"
                id="ref-for-dom-serialport-8"><code>SerialPort</code></a> 的 <a data-link-type="dfn"
                href="https://dom.spec.whatwg.org/#get-the-parent">get the parent</a> 算法会返回同一个
            <a data-link-type="idl" data-lt="Serial" href="#dom-serial" class="internalDFN"
                id="ref-for-dom-serial-6"><code>Serial</code></a> 实例，该实例由 <a data-link-type="interface"
                data-lt="Navigator"
                href="https://html.spec.whatwg.org/multipage/system-state.html#navigator"><code>Navigator</code></a>
            对象的 <a data-link-type="idl" href="#dom-navigator-serial" class="internalDFN"
                id="ref-for-dom-navigator-serial-3"><code>serial</code></a> getter 返回。
        </p>
        <p>
            <a data-link-type="idl" data-lt="SerialPort" href="#dom-serialport" class="internalDFN"
                id="ref-for-dom-serialport-10"><code>SerialPort</code></a> 实例包含下表所述的内部插槽：
        </p>
        <table class="simple" data-dfn-for="SerialPort">
            <tbody>
                <tr>
                    <th>
                        内部插槽
                    </th>
                    <th>
                        初始值
                    </th>
                    <th>
                        说明（非规范性）
                    </th>
                </tr>
                <tr>
                    <td>
                        <dfn data-idl="" data-dfn-for="SerialPort" data-noexport="" data-dfn-type="attribute"
                            id="dfn-state" tabindex="0" aria-haspopup="dialog">[[state]]</dfn>
                    </td>
                    <td>
                        <code>"closed"</code>
                    </td>
                    <td>
                        跟踪<a data-link-type="idl" data-lt="SerialPort" href="#dom-serialport" class="internalDFN"
                            id="ref-for-dom-serialport-11"><code>SerialPort</code></a>的活动状态
                    </td>
                </tr>
                <tr>
                    <td>
                        <dfn data-idl="" data-dfn-for="SerialPort" data-noexport="" data-dfn-type="attribute"
                            id="dfn-buffersize" tabindex="0" aria-haspopup="dialog">[[bufferSize]]</dfn>
                    </td>
                    <td>
                        undefined
                    </td>
                    <td>
                        数据收发缓冲区的大小
                    </td>
                </tr>
                <tr>
                    <td>
                        <dfn data-idl="" data-dfn-for="SerialPort" data-noexport="" data-dfn-type="attribute"
                            id="dfn-connected" tabindex="0" aria-haspopup="dialog">[[connected]]</dfn>
                    </td>
                    <td>
                        <code>false</code>
                    </td>
                    <td>
                        标志串口逻辑连接状态
                    </td>
                </tr>
                <tr>
                    <td>
                        <dfn data-idl="" data-dfn-for="SerialPort" data-noexport="" data-dfn-type="attribute"
                            id="dfn-readable" tabindex="0" aria-haspopup="dialog">[[readable]]</dfn>
                    </td>
                    <td>
                        <code>null</code>
                    </td>
                    <td>
                        一个 <a data-link-type="interface" data-lt="ReadableStream"
                            href="https://streams.spec.whatwg.org/#readablestream"><code>ReadableStream</code></a>
                        用于接收串口数据
                    </td>
                </tr>
                <tr>
                    <td>
                        <dfn data-idl="" data-dfn-for="SerialPort" data-noexport="" data-dfn-type="attribute"
                            id="dfn-readfatal" tabindex="0" aria-haspopup="dialog">[[readFatal]]</dfn>
                    </td>
                    <td>
                        <code>false</code>
                    </td>
                    <td>
                        标志端口遇到严重读取错误
                    </td>
                </tr>
                <tr>
                    <td>
                        <dfn data-idl="" data-dfn-for="SerialPort" data-noexport="" data-dfn-type="attribute"
                            id="dfn-writable" tabindex="0" aria-haspopup="dialog">[[writable]]</dfn>
                    </td>
                    <td>
                        <code>null</code>
                    </td>
                    <td>
                        一个 <a data-link-type="interface" data-lt="WritableStream"
                            href="https://streams.spec.whatwg.org/#writablestream"><code>WritableStream</code></a>
                        向端口发送数据
                    </td>
                </tr>
                <tr>
                    <td>
                        <dfn data-idl="" data-dfn-for="SerialPort" data-noexport="" data-dfn-type="attribute"
                            id="dfn-writefatal" tabindex="0" aria-haspopup="dialog">[[writeFatal]]</dfn>
                    </td>
                    <td>
                        <code>false</code>
                    </td>
                    <td>
                        标志端口遇到严重写入错误
                    </td>
                </tr>
                <tr>
                    <td>
                        <dfn data-idl="" data-dfn-for="SerialPort" data-noexport="" data-dfn-type="attribute"
                            id="dfn-pendingclosepromise" tabindex="0"
                            aria-haspopup="dialog">[[pendingClosePromise]]</dfn>
                    </td>
                    <td>
                        <code>null</code>
                    </td>
                    <td>
                        一个 <a data-link-type="interface" data-lt="Promise"
                            href="https://webidl.spec.whatwg.org/#idl-promise"><code>Promise</code></a> 用于等待
                        <a data-link-type="idl" href="#dom-serialport-readable" class="internalDFN"
                            id="ref-for-dom-serialport-readable-2"><code>readable</code></a> 和
                        <a data-link-type="idl" href="#dom-serialport-writable" class="internalDFN"
                            id="ref-for-dom-serialport-writable-2"><code>writable</code></a> 关闭
                    </td>
                </tr>
            </tbody>
        </table>
        <section id="onconnect-attribute-0">
            <div class="header-wrapper">
                <h3 id="x4-1-onconnect-attribute"><bdi class="secno">4.1 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-serialport-onconnect" data-idl="attribute"
                        data-title="onconnect" data-dfn-for="SerialPort" data-type="EventHandler" data-lt="onconnect"
                        data-local-lt="SerialPort.onconnect" tabindex="0"
                        aria-haspopup="dialog"><code>onconnect</code></dfn> 属性
                </h3><a class="self-link" href="#onconnect-attribute-0" aria-label="Permalink for Section 4.1"></a>
            </div>
            <a data-link-type="idl" href="#dom-serialport-onconnect" class="internalDFN"
                id="ref-for-dom-serialport-onconnect-2"><code>onconnect</code></a> 是
            <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes">事件处理
                IDL 属性</a>，用于 <a data-link-type="idl" data-lt="connect" href="#dfn-connect" class="internalDFN"
                id="ref-for-dfn-connect-1"><code>connect</code></a> 事件类型。
            <p>
                当用户此前已授权站点访问的串口，通过 <a data-link-type="idl" data-lt="requestPort()" href="#dom-serial-requestport"
                    class="internalDFN"
                    id="ref-for-dom-serial-requestport-5"><code>requestPort</code></a><code>()</code> 方法，变为
                <a data-link-type="dfn|abstract-op" href="#dfn-logically-connected" class="internalDFN"
                    id="ref-for-dfn-logically-connected-1">逻辑连接</a> 状态时，执行以下步骤：
            </p>
            <ol>
                <li>令 <var data-type="SerialPort">port</var> 为表示该端口的 <a data-link-type="idl" data-lt="SerialPort"
                        href="#dom-serialport" class="internalDFN"
                        id="ref-for-dom-serialport-12"><code>SerialPort</code></a>。
                </li>
                <li>将 <var data-type="SerialPort">port</var>.<a data-link-type="attribute" data-lt="[[connected]]"
                        href="#dfn-connected" class="internalDFN"
                        id="ref-for-dfn-connected-1"><code>[[connected]]</code></a> 设为 <code>true</code>。
                </li>
                <li><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire">触发名为</a>
                    <a data-link-type="idl" data-lt="connect" href="#dfn-connect" class="internalDFN"
                        id="ref-for-dfn-connect-2"><code>connect</code></a> 的事件，目标为 <var
                        data-type="SerialPort">port</var>，
                    并将 <a data-link-type="attribute"
                        href="https://dom.spec.whatwg.org/#dom-event-bubbles"><code>bubbles</code></a> 属性初始化为
                    <code>true</code>。
                </li>
            </ol>
            <p>
                当一个串口是<dfn id="dfn-logically-connected" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">逻辑连接</dfn> 状态时，即为有线串口且物理连接至系统，或为无线串口且系统与该无线设备保持活跃连接（如已打开蓝牙 L2CAP 通道）。
            </p>
        </section>
        <section id="ondisconnect-attribute-0">
            <div class="header-wrapper">
                <h3 id="x4-2-ondisconnect-attribute"><bdi class="secno">4.2 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-serialport-ondisconnect" data-idl="attribute"
                        data-title="ondisconnect" data-dfn-for="SerialPort" data-type="EventHandler"
                        data-lt="ondisconnect" data-local-lt="SerialPort.ondisconnect" tabindex="0"
                        aria-haspopup="dialog"><code>ondisconnect</code></dfn> 属性
                </h3><a class="self-link" href="#ondisconnect-attribute-0" aria-label="Permalink for Section 4.2"></a>
            </div>
            <a data-link-type="idl" href="#dom-serialport-ondisconnect" class="internalDFN"
                id="ref-for-dom-serialport-ondisconnect-2"><code>ondisconnect</code></a> 是
            <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes">事件处理
                IDL 属性</a>，用于 <a data-link-type="idl" data-lt="disconnect" href="#dfn-disconnect" class="internalDFN"
                id="ref-for-dfn-disconnect-1"><code>disconnect</code></a> 事件类型。
            <p>
                当用户此前已授权站点访问的串口，通过 <a data-link-type="idl" data-lt="requestPort()" href="#dom-serial-requestport"
                    class="internalDFN"
                    id="ref-for-dom-serial-requestport-6"><code>requestPort</code></a><code>()</code>，不再
                <a data-link-type="dfn|abstract-op" href="#dfn-logically-connected" class="internalDFN"
                    id="ref-for-dfn-logically-connected-2">逻辑连接</a>，则执行以下步骤：
            </p>
            <ol>
                <li>令 <var data-type="SerialPort">port</var> 为表示该端口的 <a data-link-type="idl" data-lt="SerialPort"
                        href="#dom-serialport" class="internalDFN"
                        id="ref-for-dom-serialport-13"><code>SerialPort</code></a>。
                </li>
                <li>将 <var data-type="SerialPort">port</var>.<a data-link-type="attribute" data-lt="[[connected]]"
                        href="#dfn-connected" class="internalDFN"
                        id="ref-for-dfn-connected-2"><code>[[connected]]</code></a> 设为 <code>false</code>。
                </li>
                <li><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire">触发名为</a>
                    <a data-link-type="idl" data-lt="disconnect" href="#dfn-disconnect" class="internalDFN"
                        id="ref-for-dfn-disconnect-2"><code>disconnect</code></a> 的事件，目标为 <var
                        data-type="SerialPort">port</var>，并将
                    <a data-link-type="attribute"
                        href="https://dom.spec.whatwg.org/#dom-event-bubbles"><code>bubbles</code></a> 属性初始化为
                    <code>true</code>。
                </li>
            </ol>
        </section>
        <section id="getinfo-method">
            <div class="header-wrapper">
                <h3 id="x4-3-getinfo-method"><bdi class="secno">4.3 </bdi>
                    <dfn data-export="" data-dfn-type="method" id="dom-serialport-getinfo" data-idl="operation"
                        data-title="getInfo()" data-dfn-for="SerialPort" data-type="SerialPortInfo" data-lt="getInfo()"
                        data-local-lt="SerialPort.getInfo|SerialPort.getInfo()|getInfo" tabindex="0"
                        aria-haspopup="dialog"><code>getInfo()</code></dfn> 方法
                </h3><a class="self-link" href="#getinfo-method" aria-label="Permalink for Section 4.3"></a>
            </div>
            <a data-link-type="idl" data-lt="getInfo()" href="#dom-serialport-getinfo" class="internalDFN"
                id="ref-for-dom-serialport-getinfo-3"><code>getInfo</code></a><code>()</code> 方法步骤如下：
            <ol>
                <li>令 <var data-type="SerialPortInfo">info</var> 为一个空的<a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#ordered-map">有序映射</a>。
                </li>
                <li>如果端口属于 USB 设备，执行下列步骤：
                    <ol>
                        <li>将 <var data-type="SerialPortInfo">info</var>["<a data-link-type="idl"
                                href="#dom-serialportinfo-usbvendorid" class="internalDFN"
                                id="ref-for-dom-serialportinfo-usbvendorid-2"><code>usbVendorId</code></a>"] 设为
                            设备的厂商 ID。
                        </li>
                        <li>将 <var data-type="SerialPortInfo">info</var>["<a data-link-type="idl"
                                href="#dom-serialportinfo-usbproductid" class="internalDFN"
                                id="ref-for-dom-serialportinfo-usbproductid-2"><code>usbProductId</code></a>"] 设为
                            设备的产品 ID。
                        </li>
                    </ol>
                </li>
                <li>如果端口是蓝牙设备的某项服务，执行以下步骤：
                    <ol>
                        <li>将 <var data-type="SerialPortInfo">info</var>["<a data-link-type="idl"
                                href="#dom-serialportinfo-bluetoothserviceclassid" class="internalDFN"
                                id="ref-for-dom-serialportinfo-bluetoothserviceclassid-2"><code>bluetoothServiceClassId</code></a>"]
                            设为蓝牙服务的服务类 UUID。</li>
                    </ol>
                </li>
                <li>返回 <var data-type="SerialPortInfo">info</var>。
                </li>
            </ol>
            <section data-dfn-for="SerialPortInfo" id="serialportinfo-dictionary">
                <div class="header-wrapper">
                    <h4 id="x4-3-1-serialportinfo-dictionary"><bdi class="secno">4.3.1 </bdi>
                        <dfn data-export="" data-dfn-type="dictionary" id="dom-serialportinfo" data-idl="dictionary"
                            data-title="SerialPortInfo" data-dfn-for="" tabindex="0"
                            aria-haspopup="dialog"><code>SerialPortInfo</code></dfn> 字典
                    </h4><a class="self-link" href="#serialportinfo-dictionary"
                        aria-label="Permalink for Section 4.3.1"></a>
                </div>

                <pre class="idl def" id="webidl-1960202070"><span class="idlHeader"><a class="self-link" href="#webidl-1960202070">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-serialportinfo" data-title="SerialPortInfo">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-serialportinfo" id="ref-for-dom-serialportinfo-2"><code>SerialPortInfo</code></a> {<span data-idl="" class="idlMember" id="idl-def-serialportinfo-usbvendorid" data-title="usbVendorId" data-dfn-for="SerialPortInfo"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short">unsigned short</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-serialportinfo-usbvendorid" id="ref-for-dom-serialportinfo-usbvendorid-3"><code>usbVendorId</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-serialportinfo-usbproductid" data-title="usbProductId" data-dfn-for="SerialPortInfo"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short">unsigned short</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-serialportinfo-usbproductid" id="ref-for-dom-serialportinfo-usbproductid-3"><code>usbProductId</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-serialportinfo-bluetoothserviceclassid" data-title="bluetoothServiceClassId" data-dfn-for="SerialPortInfo"><span class="idlType">
  <a data-link-type="typedef" href="https://webbluetoothcg.github.io/web-bluetooth/#typedefdef-bluetoothserviceuuid">BluetoothServiceUUID</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-serialportinfo-bluetoothserviceclassid" id="ref-for-dom-serialportinfo-bluetoothserviceclassid-3"><code>bluetoothServiceClassId</code></a>;</span>
};</span></code></pre>
                <dl>
                    <dt>
                        <dfn data-export="" data-dfn-type="dict-member" id="dom-serialportinfo-usbvendorid"
                            data-idl="field" data-title="usbVendorId" data-dfn-for="SerialPortInfo"
                            data-type="unsigned short" tabindex="0"
                            aria-haspopup="dialog"><code>usbVendorId</code></dfn> 成员
                    </dt>
                    <dd>
                        如果端口属于 USB 设备则为该设备的16位厂商 ID，否则为 <code>undefined</code>。
                    </dd>
                    <dt>
                        <dfn data-export="" data-dfn-type="dict-member" id="dom-serialportinfo-usbproductid"
                            data-idl="field" data-title="usbProductId" data-dfn-for="SerialPortInfo"
                            data-type="unsigned short" tabindex="0"
                            aria-haspopup="dialog"><code>usbProductId</code></dfn> 成员
                    </dt>
                    <dd>
                        如果端口属于 USB 设备则为该设备的16位产品 ID，否则为 <code>undefined</code>。
                    </dd>
                    <dt>
                        <dfn data-export="" data-dfn-type="dict-member" id="dom-serialportinfo-bluetoothserviceclassid"
                            data-idl="field" data-title="bluetoothServiceClassId" data-dfn-for="SerialPortInfo"
                            data-type="BluetoothServiceUUID" tabindex="0"
                            aria-haspopup="dialog"><code>bluetoothServiceClassId</code></dfn> 成员
                    </dt>
                    <dd>
                        如果端口是蓝牙设备的某项服务，则为 <a data-link-type="typedef" data-lt="BluetoothServiceUUID"
                            href="https://webbluetoothcg.github.io/web-bluetooth/#typedefdef-bluetoothserviceuuid"><code>BluetoothServiceUUID</code></a>
                        ，包含服务类 UUID。否则为 <code>undefined</code>。
                    </dd>
                </dl>
            </section>
        </section>
        <section id="open-method">
            <div class="header-wrapper">
                <h3 id="x4-4-open-method"><bdi class="secno">4.4 </bdi>
                    <dfn data-export="" data-dfn-type="method" id="dom-serialport-open" data-idl="operation"
                        data-title="open()" data-dfn-for="SerialPort" data-type="Promise" data-lt="open()|open(options)"
                        data-local-lt="SerialPort.open|SerialPort.open()|open" tabindex="0"
                        aria-haspopup="dialog"><code>open()</code></dfn> 方法
                </h3><a class="self-link" href="#open-method" aria-label="Permalink for Section 4.4"></a>
            </div>

            <aside class="example" id="example-3">
                <div class="marker">
                    <a class="self-link" href="#example-3">示例<bdi> 3</bdi></a>
                </div>
                <p>
                    在串口通信前必须先打开端口。打开端口允许站点指定必要的参数来控制数据的收发方式。开发者应查阅所连接设备的文档以确定合适的参数。
                </p>
                <pre
                    aria-busy="false"><code class="hljs js"><span class="hljs-keyword">await</span> port.<span class="hljs-title function_">open</span>({ <span class="hljs-attr">baudRate</span>: <span class="hljs-comment">/* 选择合适波特率 */</span> });</code></pre>
                <p>
                    一旦 <a data-link-type="idl" data-lt="open()" href="#dom-serialport-open" class="internalDFN"
                        id="ref-for-dom-serialport-open-2"><code>open</code></a><code>()</code> 成功解析，<a
                        data-link-type="idl" href="#dom-serialport-readable" class="internalDFN"
                        id="ref-for-dom-serialport-readable-3"><code>readable</code></a>
                    和 <a data-link-type="idl" href="#dom-serialport-writable" class="internalDFN"
                        id="ref-for-dom-serialport-writable-3"><code>writable</code></a> 属性即可访问，
                    获取用于收发数据的
                    <a data-link-type="interface" data-lt="ReadableStream"
                        href="https://streams.spec.whatwg.org/#readablestream"><code>ReadableStream</code></a> 和
                    <a data-link-type="interface" data-lt="WritableStream"
                        href="https://streams.spec.whatwg.org/#writablestream"><code>WritableStream</code></a> 实例。
                </p>
            </aside>
            <p>
                <a data-link-type="idl" data-lt="open()" href="#dom-serialport-open" class="internalDFN"
                    id="ref-for-dom-serialport-open-3"><code>open</code></a><code>()</code> 方法执行步骤如下：
            </p>
            <ol>
                <li>令 <var>promise</var> 为<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise">新
                        Promise</a>。
                </li>
                <li>如果 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                        data-link-type="attribute" data-lt="[[state]]" href="#dfn-state" class="internalDFN"
                        id="ref-for-dfn-state-1"><code>[[state]]</code></a> 非 <code>"closed"</code>，则以 "<a
                        data-link-type="exception" data-lt="InvalidStateError"
                        href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>"
                    <a data-link-type="interface" data-lt="DOMException"
                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a> 拒绝
                    <var>promise</var> 并返回。
                </li>
                <li>如果 <var>options</var>["<a data-link-type="idl" href="#dom-serialoptions-databits"
                        class="internalDFN" id="ref-for-dom-serialoptions-databits-1"><code>dataBits</code></a>"] 不是 7 或
                    8，
                    则以 <a data-link-type="exception" data-lt="TypeError"
                        href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a> 拒绝
                    <var>promise</var> 并返回。
                </li>
                <li>如果 <var>options</var>["<a data-link-type="idl" href="#dom-serialoptions-stopbits"
                        class="internalDFN" id="ref-for-dom-serialoptions-stopbits-1"><code>stopBits</code></a>"] 不是 1 或
                    2，
                    则以 <a data-link-type="exception" data-lt="TypeError"
                        href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a> 拒绝
                    <var>promise</var> 并返回。
                </li>
                <li>如果 <var>options</var>["<a data-link-type="idl" href="#dom-serialoptions-buffersize"
                        class="internalDFN" id="ref-for-dom-serialoptions-buffersize-1"><code>bufferSize</code></a>"] 为
                    0，则以 <a data-link-type="exception" data-lt="TypeError"
                        href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a> 拒绝
                    <var>promise</var> 并返回。
                </li>
                <li>可选地，如 <var>options</var>["<a data-link-type="idl" href="#dom-serialoptions-buffersize"
                        class="internalDFN" id="ref-for-dom-serialoptions-buffersize-2"><code>bufferSize</code></a>"]
                    大于实现所能支持的上限，则以 <a data-link-type="exception" data-lt="TypeError"
                        href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a> 拒绝
                    <var>promise</var> 并返回。
                </li>
                <li>将 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                        data-link-type="attribute" data-lt="[[state]]" href="#dfn-state" class="internalDFN"
                        id="ref-for-dfn-state-2"><code>[[state]]</code></a> 设为 <code>"opening"</code>。
                </li>
                <li>如下<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">并行</a>执行：
                    <ol>
                        <li>调用操作系统，使用 <var>options</var> 中指定（或默认）的参数打开串口。
                        </li>
                        <li>如因任何原因失败，<a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">在相关全局对象</a>
                            上、使用 <a data-link-type="dfn|abstract-op" href="#dfn-serial-port-task-source"
                                class="internalDFN" id="ref-for-dfn-serial-port-task-source-4">serial port task
                                source</a>
                            <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject">拒绝</a>
                            <var>promise</var>，错误为 "<a data-link-type="exception" data-lt="NetworkError"
                                href="https://webidl.spec.whatwg.org/#networkerror"><code>NetworkError</code></a>"
                            <a data-link-type="interface" data-lt="DOMException"
                                href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>
                            并终止执行。
                        </li>
                        <li>将 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                data-link-type="attribute" data-lt="[[state]]" href="#dfn-state" class="internalDFN"
                                id="ref-for-dfn-state-3"><code>[[state]]</code></a> 设为 <code>"opened"</code>。
                        </li>
                        <li>将 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                data-link-type="attribute" data-lt="[[bufferSize]]" href="#dfn-buffersize"
                                class="internalDFN" id="ref-for-dfn-buffersize-1"><code>[[bufferSize]]</code></a> 设为
                            <var>options</var>["<a data-link-type="idl" href="#dom-serialoptions-buffersize"
                                class="internalDFN"
                                id="ref-for-dom-serialoptions-buffersize-3"><code>bufferSize</code></a>"]。
                        </li>
                        <li><a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">在相关全局对象</a>
                            上、使用 <a data-link-type="dfn|abstract-op" href="#dfn-serial-port-task-source"
                                class="internalDFN" id="ref-for-dfn-serial-port-task-source-5">serial port task
                                source</a>
                            <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve">解析</a>
                            <var>promise</var>，值为 <code>undefined</code>。
                        </li>
                    </ol>
                </li>
                <li>返回 <var>promise</var>。
                </li>
            </ol>
            <section data-dfn-for="SerialOptions" id="serialoptions-dictionary">
                <div class="header-wrapper">
                    <h4 id="x4-4-1-serialoptions-dictionary"><bdi class="secno">4.4.1 </bdi>
                        <dfn data-export="" data-dfn-type="dictionary" id="dom-serialoptions" data-idl="dictionary"
                            data-title="SerialOptions" data-dfn-for="" tabindex="0"
                            aria-haspopup="dialog"><code>SerialOptions</code></dfn> 字典
                    </h4><a class="self-link" href="#serialoptions-dictionary"
                        aria-label="Permalink for Section 4.4.1"></a>
                </div>

                <pre class="idl def" id="webidl-547934505"><span class="idlHeader"><a class="self-link" href="#webidl-547934505">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-serialoptions" data-title="SerialOptions">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-serialoptions" id="ref-for-dom-serialoptions-2"><code>SerialOptions</code></a> {<span data-idl="" class="idlMember" id="idl-def-serialoptions-baudrate" data-title="baudRate" data-dfn-for="SerialOptions">
  [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#EnforceRange">EnforceRange</a></span>] required<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-serialoptions-baudrate" id="ref-for-dom-serialoptions-baudrate-1"><code>baudRate</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-serialoptions-databits" data-title="dataBits" data-dfn-for="SerialOptions">
  [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#EnforceRange">EnforceRange</a></span>]<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-octet">octet</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-serialoptions-databits" id="ref-for-dom-serialoptions-databits-2"><code>dataBits</code></a> = 8;</span><span data-idl="" class="idlMember" id="idl-def-serialoptions-stopbits" data-title="stopBits" data-dfn-for="SerialOptions">
  [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#EnforceRange">EnforceRange</a></span>]<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-octet">octet</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-serialoptions-stopbits" id="ref-for-dom-serialoptions-stopbits-2"><code>stopBits</code></a> = 1;</span><span data-idl="" class="idlMember" id="idl-def-serialoptions-parity" data-title="parity" data-dfn-for="SerialOptions"><span class="idlType">
  <a data-link-type="idl" href="#dom-paritytype" class="internalDFN" id="ref-for-dom-paritytype-1"><code>ParityType</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-serialoptions-parity" id="ref-for-dom-serialoptions-parity-1"><code>parity</code></a> = "none";</span><span data-idl="" class="idlMember" id="idl-def-serialoptions-buffersize" data-title="bufferSize" data-dfn-for="SerialOptions">
  [<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#EnforceRange">EnforceRange</a></span>]<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-serialoptions-buffersize" id="ref-for-dom-serialoptions-buffersize-4"><code>bufferSize</code></a> = 255;</span><span data-idl="" class="idlMember" id="idl-def-serialoptions-flowcontrol" data-title="flowControl" data-dfn-for="SerialOptions"><span class="idlType">
  <a data-link-type="idl" href="#dom-flowcontroltype" class="internalDFN" id="ref-for-dom-flowcontroltype-1"><code>FlowControlType</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-serialoptions-flowcontrol" id="ref-for-dom-serialoptions-flowcontrol-1"><code>flowControl</code></a> = "none";</span>
};</span></code></pre>
                <dl>
                    <dt>
                        <dfn data-export="" data-dfn-type="dict-member" id="dom-serialoptions-baudrate" data-idl="field"
                            data-title="baudRate" data-dfn-for="SerialOptions" data-type="unsigned long" tabindex="0"
                            aria-haspopup="dialog"><code>baudRate</code></dfn> 成员
                    </dt>
                    <dd>
                        一个正整数且不为零，表示串口通信应使用的波特率。
                        <div class="note" role="note" id="issue-container-generatedID-0">
                            <div role="heading" class="note-title marker" id="h-note-0" aria-level="5"><span>注意</span>
                            </div>
                            <div class="">
                                <a data-link-type="idl" href="#dom-serialoptions-baudrate" class="internalDFN"
                                    id="ref-for-dom-serialoptions-baudrate-2"><code>baudRate</code></a> 是该字典唯一必需成员。
                                虽然其它连接参数有通用默认值，但开发者应查阅拟连接设备的文档来确定正确的取值。没有统一标准的波特率，要求明确该参数可减少规范默认值带来的困惑。
                            </div>
                        </div>
                    </dd>
                    <dt>
                        <dfn data-export="" data-dfn-type="dict-member" id="dom-serialoptions-databits" data-idl="field"
                            data-title="dataBits" data-dfn-for="SerialOptions" data-type="octet" tabindex="0"
                            aria-haspopup="dialog"><code>dataBits</code></dfn> 成员
                    </dt>
                    <dd>
                        每帧数据位数，取值为 7 或 8。
                    </dd>
                    <dt>
                        <dfn data-export="" data-dfn-type="dict-member" id="dom-serialoptions-stopbits" data-idl="field"
                            data-title="stopBits" data-dfn-for="SerialOptions" data-type="octet" tabindex="0"
                            aria-haspopup="dialog"><code>stopBits</code></dfn> 成员
                    </dt>
                    <dd>
                        每帧停止位数，取值为 1 或 2。
                    </dd>
                    <dt>
                        <dfn data-export="" data-dfn-type="dict-member" id="dom-serialoptions-parity" data-idl="field"
                            data-title="parity" data-dfn-for="SerialOptions" data-type="ParityType" tabindex="0"
                            aria-haspopup="dialog"><code>parity</code></dfn> 成员
                    </dt>
                    <dd>
                        奇偶校验模式。
                    </dd>
                    <dt>
                        <dfn data-export="" data-dfn-type="dict-member" id="dom-serialoptions-buffersize"
                            data-idl="field" data-title="bufferSize" data-dfn-for="SerialOptions"
                            data-type="unsigned long" tabindex="0" aria-haspopup="dialog"><code>bufferSize</code></dfn>
                        成员
                    </dt>
                    <dd>
                        指定应建读写缓冲区的正整数大小且不为零。
                    </dd>
                    <dt>
                        <dfn data-export="" data-dfn-type="dict-member" id="dom-serialoptions-flowcontrol"
                            data-idl="field" data-title="flowControl" data-dfn-for="SerialOptions"
                            data-type="FlowControlType" tabindex="0"
                            aria-haspopup="dialog"><code>flowControl</code></dfn> 成员
                    </dt>
                    <dd>
                        流控模式。
                    </dd>
                </dl>
                <section data-dfn-for="ParityType" id="paritytype-enum">
                    <div class="header-wrapper">
                        <h5 id="x4-4-1-1-paritytype-enum"><bdi class="secno">4.4.1.1 </bdi>
                            <dfn data-export="" data-dfn-type="enum" id="dom-paritytype" data-idl="enum"
                                data-title="ParityType" data-dfn-for="" tabindex="0"
                                aria-haspopup="dialog"><code>ParityType</code></dfn> 枚举
                        </h5><a class="self-link" href="#paritytype-enum"
                            aria-label="Permalink for Section 4.4.1.1"></a>
                    </div>

                    <pre class="idl def" id="webidl-2140913730"><span class="idlHeader"><a class="self-link" href="#webidl-2140913730">WebIDL</a></span><code><span data-idl="" class="idlEnum" id="idl-def-paritytype" data-title="ParityType">enum <a class="internalDFN idlID" data-link-type="enum" href="#dom-paritytype" id="ref-for-dom-paritytype-2"><code>ParityType</code></a> {
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-paritytype-none" id="ref-for-dom-paritytype-none-1"><code>none</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-paritytype-even" id="ref-for-dom-paritytype-even-1"><code>even</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-paritytype-odd" id="ref-for-dom-paritytype-odd-1"><code>odd</code></a>"</span>
};</span></code></pre>
                    <dl>
                        <dt>
                            <dfn data-export="" data-dfn-type="enum-value" id="dom-paritytype-none"
                                data-idl="enum-value" data-title="none" data-dfn-for="ParityType" tabindex="0"
                                aria-haspopup="dialog"><code>none</code></dfn>
                        </dt>
                        <dd>
                            每个数据字不发送校验位。
                        </dd>
                        <dt>
                            <dfn data-export="" data-dfn-type="enum-value" id="dom-paritytype-even"
                                data-idl="enum-value" data-title="even" data-dfn-for="ParityType" tabindex="0"
                                aria-haspopup="dialog"><code>even</code></dfn>
                        </dt>
                        <dd>
                            数据字与校验位的总数为偶校验。
                        </dd>
                        <dt>
                            <dfn data-export="" data-dfn-type="enum-value" id="dom-paritytype-odd" data-idl="enum-value"
                                data-title="odd" data-dfn-for="ParityType" tabindex="0"
                                aria-haspopup="dialog"><code>odd</code></dfn>
                        </dt>
                        <dd>
                            数据字与校验位的总数为奇校验。
                        </dd>
                    </dl>
                </section>
                <section data-dfn-for="FlowControlType" id="flowcontroltype-enum">
                    <div class="header-wrapper">
                        <h5 id="x4-4-1-2-flowcontroltype-enum"><bdi class="secno">4.4.1.2 </bdi>
                            <dfn data-export="" data-dfn-type="enum" id="dom-flowcontroltype" data-idl="enum"
                                data-title="FlowControlType" data-dfn-for="" tabindex="0"
                                aria-haspopup="dialog"><code>FlowControlType</code></dfn> 枚举
                        </h5><a class="self-link" href="#flowcontroltype-enum"
                            aria-label="Permalink for Section 4.4.1.2"></a>
                    </div>

                    <pre class="idl def" id="webidl-1109025009"><span class="idlHeader"><a class="self-link" href="#webidl-1109025009">WebIDL</a></span><code><span data-idl="" class="idlEnum" id="idl-def-flowcontroltype" data-title="FlowControlType">enum <a class="internalDFN idlID" data-link-type="enum" href="#dom-flowcontroltype" id="ref-for-dom-flowcontroltype-2"><code>FlowControlType</code></a> {
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-flowcontroltype-none" id="ref-for-dom-flowcontroltype-none-1"><code>none</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-flowcontroltype-hardware" id="ref-for-dom-flowcontroltype-hardware-1"><code>hardware</code></a>"</span>
};</span></code></pre>
                    <dl>
                        <dt>
                            <dfn data-export="" data-dfn-type="enum-value" id="dom-flowcontroltype-none"
                                data-idl="enum-value" data-title="none" data-dfn-for="FlowControlType" tabindex="0"
                                aria-haspopup="dialog"><code>none</code></dfn>
                        </dt>
                        <dd>
                            不启用流控。
                        </dd>
                        <dt>
                            <dfn data-export="" data-dfn-type="enum-value" id="dom-flowcontroltype-hardware"
                                data-idl="enum-value" data-title="hardware" data-dfn-for="FlowControlType" tabindex="0"
                                aria-haspopup="dialog"><code>hardware</code></dfn>
                        </dt>
                        <dd>
                            启用基于RTS和CTS信号的硬件流控。
                        </dd>
                    </dl>
                </section>
            </section>
        </section>
        <section id="connected-attribute">
            <div class="header-wrapper">
                <h3 id="x4-5-connected-attribute"><bdi class="secno">4.5 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-serialport-connected" data-idl="attribute"
                        data-title="connected" data-dfn-for="SerialPort" data-type="boolean" data-lt="connected"
                        data-local-lt="SerialPort.connected" tabindex="0"
                        aria-haspopup="dialog"><code>connected</code></dfn> 属性
                </h3><a class="self-link" href="#connected-attribute" aria-label="Permalink for Section 4.5"></a>
            </div>

            <p>
                <a data-link-type="idl" href="#dom-serialport-connected" class="internalDFN"
                    id="ref-for-dom-serialport-connected-2"><code>connected</code></a> 获取操作如下：
            </p>
            <ol>
                <li>返回 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                        data-link-type="attribute" data-lt="[[connected]]" href="#dfn-connected" class="internalDFN"
                        id="ref-for-dfn-connected-3"><code>[[connected]]</code></a>。
                </li>
            </ol>
        </section>
        <section id="readable-attribute">
            <div class="header-wrapper">
                <h3 id="x4-6-readable-attribute"><bdi class="secno">4.6 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-serialport-readable" data-idl="attribute"
                        data-title="readable" data-dfn-for="SerialPort" data-type="ReadableStream" data-lt="readable"
                        data-local-lt="SerialPort.readable" tabindex="0"
                        aria-haspopup="dialog"><code>readable</code></dfn> 属性
                </h3><a class="self-link" href="#readable-attribute" aria-label="Permalink for Section 4.6"></a>
            </div>

            <aside class="example" id="readable-example">
                <div class="marker">
                    <a class="self-link" href="#readable-example">示例<bdi> 4</bdi></a>
                </div>
                <p>
                    一个从串口接收数据的应用通常会使用如下嵌套循环结构，
                </p>
                <pre aria-busy="false"><code class="hljs js"><span class="hljs-keyword">while</span> (port.<span class="hljs-property">readable</span>) {
  <span class="hljs-keyword">const</span> reader = port.<span class="hljs-property">readable</span>.<span class="hljs-title function_">getReader</span>();
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
      <span class="hljs-keyword">const</span> { value, done } = <span class="hljs-keyword">await</span> reader.<span class="hljs-title function_">read</span>();
      <span class="hljs-keyword">if</span> (done) {
        <span class="hljs-comment">// |reader| 已被取消。</span>
        <span class="hljs-keyword">break</span>;
      }
      <span class="hljs-comment">// 用 |value| 做某些事...</span>
    }
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-comment">// 处理 |error|...</span>
  } <span class="hljs-keyword">finally</span> {
    reader.<span class="hljs-title function_">releaseLock</span>();
  }
}</code></pre>
                <p>
                    内层循环会持续读取端口的数据块，直到遇到错误，此时将会执行"catch"块中的代码。外层循环用于处理可恢复错误，如奇偶校验失败等情况，会重新打开一个新的 reader。遇到致命错误时，<a
                        data-link-type="idl" href="#dom-serialport-readable" class="internalDFN"
                        id="ref-for-dom-serialport-readable-4"><code>readable</code></a> 会变为 <code>null</code>，循环也会结束。
                </p>
                <p>
                    只要串口保持打开，就可以持续产生数据。每次 <a data-link-type="method" data-lt="read()"
                        href="https://streams.spec.whatwg.org/#default-reader-read"><code>read</code></a><code>()</code>
                    返回的数据块大小基本上是任意的，取决于被调用时的时机。由设备和与之通信的代码决定什么才算完整的消息。例如，设备可以采用ASCII文本，每条消息以换行符(或 <code>"\r\n"</code>
                    序列)结尾。可以用 <a data-link-type="interface" data-lt="TransformStream"
                        href="https://streams.spec.whatwg.org/#transformstream"><code>TransformStream</code></a>
                    组成的流水线，将 <a data-link-type="interface" data-lt="Uint8Array"
                        href="https://webidl.spec.whatwg.org/#idl-Uint8Array"><code>Uint8Array</code></a> 数据块自动转为每行一条 <a
                        data-link-type="interface" data-lt="DOMString"
                        href="https://webidl.spec.whatwg.org/#idl-DOMString"><code>DOMString</code></a>。
                </p>
                <pre aria-busy="false"><code class="hljs js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">LineBreakTransformer</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">container</span> = <span class="hljs-string">''</span>;
  }

  <span class="hljs-title function_">transform</span>(<span class="hljs-params">chunk, controller</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">container</span> += chunk;
    <span class="hljs-keyword">const</span> lines = <span class="hljs-variable language_">this</span>.<span class="hljs-property">container</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">'\r\n'</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">container</span> = lines.<span class="hljs-title function_">pop</span>();
    lines.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">line</span> =&gt;</span> controller.<span class="hljs-title function_">enqueue</span>(line));
  }

  <span class="hljs-title function_">flush</span>(<span class="hljs-params">controller</span>) {
    controller.<span class="hljs-title function_">enqueue</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">container</span>);
  }
}

<span class="hljs-keyword">const</span> decoder = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TextDecoderStream</span>();
<span class="hljs-keyword">const</span> streamClosed = port.<span class="hljs-property">readable</span>.<span class="hljs-title function_">pipeTo</span>(decoder.<span class="hljs-property">writable</span>);
<span class="hljs-keyword">const</span> lineReader = decoder.<span class="hljs-property">readable</span>
    .<span class="hljs-title function_">pipeThrough</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">TransformStream</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">LineBreakTransformer</span>()))
    .<span class="hljs-title function_">getReader</span>();</code></pre>
                <p>
                    如 <a href="#close-example" data-matched-text="[[[#close-example]]]"
                        class="box-ref">示例<bdi>7</bdi></a> 所示，pipe chain 不能仅用 <code>pipeThrough()</code> 构建。连接第一个 <a
                        data-link-type="interface" data-lt="TransformStream"
                        href="https://streams.spec.whatwg.org/#transformstream"><code>TransformStream</code></a> 到 <a
                        data-link-type="idl" data-lt="SerialPort" href="#dom-serialport" class="internalDFN"
                        id="ref-for-dom-serialport-14"><code>SerialPort</code></a> 时，必须用
                    <code>pipeTo()</code>，这样在端口关闭时可以等待 pipe chain 正确关闭。
                </p>
                <pre aria-busy="false"><code class="hljs js">lineReader.<span class="hljs-title function_">cancel</span>();
<span class="hljs-keyword">await</span> streamClosed;
<span class="hljs-keyword">await</span> port.<span class="hljs-title function_">close</span>();</code></pre>
                <p>
                    其他实现消息边界的方法还有为每条消息加长度前缀，或每次消息间隔固定时间后再发送。为这类消息边界实现 <a data-link-type="interface"
                        data-lt="TransformStream"
                        href="https://streams.spec.whatwg.org/#transformstream"><code>TransformStream</code></a>，可留给读者练习。
                </p>
                <p>
                    虽然 <a data-link-type="method" data-lt="read()"
                        href="https://streams.spec.whatwg.org/#default-reader-read"><code>read</code></a><code>()</code>
                    是异步的不会阻塞执行，但用 async/await 语法时似乎是同步的。这种情况下，可以实现超时处理，让代码在无数据时一段时间后继续执行。下面示例用 <a
                        data-link-type="method" data-lt="releaseLock()"
                        href="https://streams.spec.whatwg.org/#default-reader-release-lock"><code>releaseLock</code></a><code>()</code>
                    方法，在定时器到期时打断 <a data-link-type="method" data-lt="read()"
                        href="https://streams.spec.whatwg.org/#default-reader-read"><code>read</code></a><code>()</code>
                    调用。这样不会关闭流，超时后仍可再次 <a data-link-type="method" data-lt="getReader()"
                        href="https://streams.spec.whatwg.org/#rs-get-reader"><code>getReader</code></a><code>()</code>
                    继续读取数据。
                </p>
                <pre aria-busy="false"><code class="hljs js"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">readWithTimeout</span>(<span class="hljs-params">port, timeout</span>) {
  <span class="hljs-keyword">const</span> reader = port.<span class="hljs-property">readable</span>.<span class="hljs-title function_">getReader</span>();
  <span class="hljs-keyword">const</span> timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
    reader.<span class="hljs-title function_">releaseLock</span>();
  }, timeout);
  <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> reader.<span class="hljs-title function_">read</span>();
  <span class="hljs-built_in">clearTimeout</span>(timer);
  reader.<span class="hljs-title function_">releaseLock</span>();
  <span class="hljs-keyword">return</span> result;
}</code></pre>
                <p>
                    <a data-link-type="method" data-lt="releaseLock()"
                        href="https://streams.spec.whatwg.org/#default-reader-release-lock"><code>releaseLock</code></a><code>()</code>
                    的该功能是在 <a href="https://github.com/whatwg/streams/pull/1168">whatwg/streams#1168</a>
                    中加入的，近期才被各浏览器实现。
                </p>
            </aside>
            <p>
                <a data-link-type="idl" href="#dom-serialport-readable" class="internalDFN"
                    id="ref-for-dom-serialport-readable-6"><code>readable</code></a> 获取步骤如下：
            </p>
            <ol>
                <li>如果 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                        data-link-type="attribute" data-lt="[[readable]]" href="#dfn-readable" class="internalDFN"
                        id="ref-for-dfn-readable-1"><code>[[readable]]</code></a> 不为 <code>null</code>，返回
                    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                        data-link-type="attribute" data-lt="[[readable]]" href="#dfn-readable" class="internalDFN"
                        id="ref-for-dfn-readable-2"><code>[[readable]]</code></a>。
                </li>
                <li>如果 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                        data-link-type="attribute" data-lt="[[state]]" href="#dfn-state" class="internalDFN"
                        id="ref-for-dfn-state-4"><code>[[state]]</code></a> 非 <code>"opened"</code>，返回
                    <code>null</code>。
                </li>
                <li>如果 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                        data-link-type="attribute" data-lt="[[readFatal]]" href="#dfn-readfatal" class="internalDFN"
                        id="ref-for-dfn-readfatal-1"><code>[[readFatal]]</code></a> 为 <code>true</code>，返回
                    <code>null</code>。
                </li>
                <li>令 <var>stream</var> 为一个<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new">新的</a> <a
                        data-link-type="interface" data-lt="ReadableStream"
                        href="https://streams.spec.whatwg.org/#readablestream"><code>ReadableStream</code></a>。
                </li>
                <li>令 <var>pullAlgorithm</var> 为如下步骤：
                    <ol>
                        <li>令 <var>desiredSize</var> 为 <a data-link-type="dfn"
                                href="https://streams.spec.whatwg.org/#readablestream-desired-size-to-fill-up-to-the-high-water-mark">填满高水位线所需大小</a>，
                            针对 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                data-link-type="attribute" data-lt="[[readable]]" href="#dfn-readable"
                                class="internalDFN" id="ref-for-dfn-readable-3"><code>[[readable]]</code></a>。
                        </li>
                        <li>如果 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                data-link-type="attribute" data-lt="[[readable]]" href="#dfn-readable"
                                class="internalDFN" id="ref-for-dfn-readable-4"><code>[[readable]]</code></a> 的
                            <a data-link-type="dfn"
                                href="https://streams.spec.whatwg.org/#readablestream-current-byob-request-view">当前 BYOB
                                请求视图</a>
                            非空，则将 <var>desiredSize</var> 设为 <a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute"
                                data-lt="[[readable]]" href="#dfn-readable" class="internalDFN"
                                id="ref-for-dfn-readable-5"><code>[[readable]]</code></a> 的
                            <a data-link-type="dfn"
                                href="https://streams.spec.whatwg.org/#readablestream-current-byob-request-view">当前 BYOB
                                请求视图</a>的
                            <a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#buffersource-byte-length">字节长度</a>。
                        </li>
                        <li>执行如下<a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">并行</a>步骤：
                            <ol>
                                <li>调用操作系统，从端口读取至多 <var>desiredSize</var> 个字节，结果保存在 <a data-link-type="dfn"
                                        href="https://infra.spec.whatwg.org/#byte-sequence">字节序列</a>
                                    <var>bytes</var> 中。
                                    <div class="note" role="note" id="issue-container-generatedID-1">
                                        <div role="heading" class="note-title marker" id="h-note-1" aria-level="4">
                                            <span>注意</span>
                                        </div>
                                        <div class="">
                                            <a data-link-type="dfn"
                                                href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                                data-link-type="attribute" data-lt="[[state]]" href="#dfn-state"
                                                class="internalDFN" id="ref-for-dfn-state-5"><code>[[state]]</code></a>
                                            变为 <code>"forgotten"</code>
                                            时，要按端口断开处理。
                                        </div>
                                    </div>
                                </li>
                                <li><a data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">在相关全局对象</a>
                                    上、使用 <a data-link-type="dfn|abstract-op" href="#dfn-serial-port-task-source"
                                        class="internalDFN" id="ref-for-dfn-serial-port-task-source-6">serial port task
                                        source</a> 执行：
                                    <ol>
                                        <li>如果未遇到错误，则：
                                            <ol>
                                                <li>如果 <a data-link-type="dfn"
                                                        href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                                        data-link-type="attribute" data-lt="[[readable]]"
                                                        href="#dfn-readable" class="internalDFN"
                                                        id="ref-for-dfn-readable-6"><code>[[readable]]</code></a> 的
                                                    <a data-link-type="dfn"
                                                        href="https://streams.spec.whatwg.org/#readablestream-current-byob-request-view">当前
                                                        BYOB 请求视图</a>
                                                    非空，则将 <var>bytes</var> 写入 <a data-link-type="dfn"
                                                        href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                                        data-link-type="attribute" data-lt="[[readable]]"
                                                        href="#dfn-readable" class="internalDFN"
                                                        id="ref-for-dfn-readable-7"><code>[[readable]]</code></a> 的
                                                    <a data-link-type="dfn"
                                                        href="https://streams.spec.whatwg.org/#readablestream-current-byob-request-view">当前
                                                        BYOB 请求视图</a>，
                                                    并将 <var>view</var> 设为 <a data-link-type="dfn"
                                                        href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                                        data-link-type="attribute" data-lt="[[readable]]"
                                                        href="#dfn-readable" class="internalDFN"
                                                        id="ref-for-dfn-readable-8"><code>[[readable]]</code></a> 的
                                                    <a data-link-type="dfn"
                                                        href="https://streams.spec.whatwg.org/#readablestream-current-byob-request-view">当前
                                                        BYOB 请求视图</a>。
                                                </li>
                                                <li>否则，将 <var>view</var> 设为以 <var>bytes</var> 创建的 <a
                                                        data-link-type="interface" data-lt="Uint8Array"
                                                        href="https://webidl.spec.whatwg.org/#idl-Uint8Array"><code>Uint8Array</code></a>，在
                                                    <a data-link-type="dfn"
                                                        href="https://webidl.spec.whatwg.org/#this">this</a> 的 <a
                                                        data-link-type="dfn"
                                                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm">相关
                                                        Realm</a> 中创建。
                                                </li>
                                                <li><a data-link-type="dfn"
                                                        href="https://streams.spec.whatwg.org/#readablestream-enqueue">入队</a>
                                                    <var>view</var> 到 <a data-link-type="dfn"
                                                        href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                                        data-link-type="attribute" data-lt="[[readable]]"
                                                        href="#dfn-readable" class="internalDFN"
                                                        id="ref-for-dfn-readable-9"><code>[[readable]]</code></a>。
                                                </li>
                                            </ol>
                                        </li>
                                        <li>如遇 buffer overrun，调用 <a data-link-type="dfn"
                                                href="https://streams.spec.whatwg.org/#readablestream-error">error</a>
                                            于 <a data-link-type="dfn"
                                                href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                                data-link-type="attribute" data-lt="[[readable]]" href="#dfn-readable"
                                                class="internalDFN"
                                                id="ref-for-dfn-readable-10"><code>[[readable]]</code></a>，错误为
                                            "<code>BufferOverrunError</code>" <a data-link-type="interface"
                                                data-lt="DOMException"
                                                href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>，
                                            并调用<a data-link-type="dfn|abstract-op"
                                                href="#dfn-handle-closing-the-readable-stream" class="internalDFN"
                                                id="ref-for-dfn-handle-closing-the-readable-stream-1">关闭 readable
                                                流处理</a>。
                                        </li>
                                        <li>如遇 break condition，调用 <a data-link-type="dfn"
                                                href="https://streams.spec.whatwg.org/#readablestream-error">error</a>
                                            于 <a data-link-type="dfn"
                                                href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                                data-link-type="attribute" data-lt="[[readable]]" href="#dfn-readable"
                                                class="internalDFN"
                                                id="ref-for-dfn-readable-11"><code>[[readable]]</code></a>，错误为
                                            "<code>BreakError</code>" <a data-link-type="interface"
                                                data-lt="DOMException"
                                                href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>，
                                            并调用<a data-link-type="dfn|abstract-op"
                                                href="#dfn-handle-closing-the-readable-stream" class="internalDFN"
                                                id="ref-for-dfn-handle-closing-the-readable-stream-2">关闭 readable
                                                流处理</a>。
                                        </li>
                                        <li>如遇 framing error，调用 <a data-link-type="dfn"
                                                href="https://streams.spec.whatwg.org/#readablestream-error">error</a>
                                            于 <a data-link-type="dfn"
                                                href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                                data-link-type="attribute" data-lt="[[readable]]" href="#dfn-readable"
                                                class="internalDFN"
                                                id="ref-for-dfn-readable-12"><code>[[readable]]</code></a>，错误为
                                            "<code>FramingError</code>" <a data-link-type="interface"
                                                data-lt="DOMException"
                                                href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>，
                                            并调用
                                            <a data-link-type="dfn|abstract-op"
                                                href="#dfn-handle-closing-the-readable-stream" class="internalDFN"
                                                id="ref-for-dfn-handle-closing-the-readable-stream-3">关闭 readable
                                                流处理</a>。
                                        </li>
                                        <li>如遇 parity error，调用 <a data-link-type="dfn"
                                                href="https://streams.spec.whatwg.org/#readablestream-error">error</a>
                                            于 <a data-link-type="dfn"
                                                href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                                data-link-type="attribute" data-lt="[[readable]]" href="#dfn-readable"
                                                class="internalDFN"
                                                id="ref-for-dfn-readable-13"><code>[[readable]]</code></a>，错误为
                                            "<code>ParityError</code>" <a data-link-type="interface"
                                                data-lt="DOMException"
                                                href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>，
                                            并调用
                                            <a data-link-type="dfn|abstract-op"
                                                href="#dfn-handle-closing-the-readable-stream" class="internalDFN"
                                                id="ref-for-dfn-handle-closing-the-readable-stream-4">关闭 readable
                                                流处理</a>。
                                        </li>
                                        <li>如遇操作系统错误，调用 <a data-link-type="dfn"
                                                href="https://streams.spec.whatwg.org/#readablestream-error">error</a>
                                            于 <a data-link-type="dfn"
                                                href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                                data-link-type="attribute" data-lt="[[readable]]" href="#dfn-readable"
                                                class="internalDFN"
                                                id="ref-for-dfn-readable-14"><code>[[readable]]</code></a>，错误为 "<a
                                                data-link-type="exception" data-lt="UnknownError"
                                                href="https://webidl.spec.whatwg.org/#unknownerror"><code>UnknownError</code></a>"
                                            <a data-link-type="interface" data-lt="DOMException"
                                                href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>，
                                            并调用 <a data-link-type="dfn|abstract-op"
                                                href="#dfn-handle-closing-the-readable-stream" class="internalDFN"
                                                id="ref-for-dfn-handle-closing-the-readable-stream-5">关闭 readable
                                                流处理</a>。
                                        </li>
                                        <li>如<var>端口已断开</var>，执行如下：
                                            <ol>
                                                <li>将 <a data-link-type="dfn"
                                                        href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                                        data-link-type="attribute" data-lt="[[readFatal]]"
                                                        href="#dfn-readfatal" class="internalDFN"
                                                        id="ref-for-dfn-readfatal-2"><code>[[readFatal]]</code></a> 设为
                                                    <code>true</code>，
                                                </li>
                                                <li>调用 <a data-link-type="dfn"
                                                        href="https://streams.spec.whatwg.org/#readablestream-error">error</a>
                                                    于 <a data-link-type="dfn"
                                                        href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                                        data-link-type="attribute" data-lt="[[readable]]"
                                                        href="#dfn-readable" class="internalDFN"
                                                        id="ref-for-dfn-readable-15"><code>[[readable]]</code></a>，错误为
                                                    "<a data-link-type="exception" data-lt="NetworkError"
                                                        href="https://webidl.spec.whatwg.org/#networkerror"><code>NetworkError</code></a>"
                                                    <a data-link-type="interface" data-lt="DOMException"
                                                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>。
                                                </li>
                                                <li>调用 <a data-link-type="dfn|abstract-op"
                                                        href="#dfn-handle-closing-the-readable-stream"
                                                        class="internalDFN"
                                                        id="ref-for-dfn-handle-closing-the-readable-stream-6">关闭
                                                        readable 流处理</a>。
                                                </li>
                                            </ol>
                                        </li>
                                    </ol>
                                </li>
                            </ol>
                        </li>
                        <li>返回<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-resolved-with">以
                                <code>undefined</code> 解析</a>的 promise。
                        </li>
                    </ol>
                    <div class="note" role="note" id="issue-container-generatedID-2">
                        <div role="heading" class="note-title marker" id="h-note-2" aria-level="4"><span>注意</span>
                        </div>
                        <p class="">
                            本算法返回的<a data-link-type="interface" data-lt="Promise"
                                href="https://webidl.spec.whatwg.org/#idl-promise"><code>Promise</code></a>会立即被
                            resolve，不会阻塞流的取消。[<cite><a class="bibref" data-link-type="biblio" href="#bib-streams"
                                    title="Streams Standard">STREAMS</a></cite>] 规定该算法不会在 chunk 未入队时被再次调用。
                        </p>
                    </div>
                </li>
                <li>令 <var>cancelAlgorithm</var> 如下：
                    <ol>
                        <li>令 <var>promise</var> 为<a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#a-new-promise">新 Promise</a>。
                        </li>
                        <li>执行如下<a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">并行</a>步骤。
                            <ol>
                                <li>让操作系统丢弃端口相关的所有软硬件接收缓冲区内容。
                                </li>
                                <li><a data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">在相关全局对象</a>
                                    上、使用 <a data-link-type="dfn|abstract-op" href="#dfn-serial-port-task-source"
                                        class="internalDFN" id="ref-for-dfn-serial-port-task-source-7">serial port task
                                        source</a> 执行：
                                    <ol>
                                        <li>调用 <a data-link-type="dfn|abstract-op"
                                                href="#dfn-handle-closing-the-readable-stream" class="internalDFN"
                                                id="ref-for-dfn-handle-closing-the-readable-stream-7">关闭 readable
                                                流处理</a>。
                                        </li>
                                        <li><a data-link-type="dfn"
                                                href="https://webidl.spec.whatwg.org/#resolve">解析</a>
                                            <var>promise</var>，值为 <code>undefined</code>。
                                        </li>
                                    </ol>
                                </li>
                            </ol>
                        </li>
                        <li>返回 <var>promise</var>。
                        </li>
                    </ol>
                </li>
                <li><a data-link-type="dfn"
                        href="https://streams.spec.whatwg.org/#readablestream-set-up-with-byte-reading-support">用字节读取支持设置</a>
                    <var>stream</var> ，
                    其 <i><a data-link-type="dfn"
                            href="https://streams.spec.whatwg.org/#readablestream-set-up-with-byte-reading-support-pullalgorithm">pullAlgorithm</a></i>
                    设为 <var>pullAlgorithm</var>，
                    <i><a data-link-type="dfn"
                            href="https://streams.spec.whatwg.org/#readablestream-set-up-with-byte-reading-support-cancelalgorithm">cancelAlgorithm</a></i>
                    设为 <var>cancelAlgorithm</var>，
                    <i><a data-link-type="dfn"
                            href="https://streams.spec.whatwg.org/#readablestream-set-up-with-byte-reading-support-highwatermark">highWaterMark</a></i>
                    设为
                    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                        data-link-type="attribute" data-lt="[[bufferSize]]" href="#dfn-buffersize" class="internalDFN"
                        id="ref-for-dfn-buffersize-2"><code>[[bufferSize]]</code></a>。
                </li>
                <li>将 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                        data-link-type="attribute" data-lt="[[readable]]" href="#dfn-readable" class="internalDFN"
                        id="ref-for-dfn-readable-16"><code>[[readable]]</code></a> 设为 <var>stream</var>。
                </li>
                <li>返回 <var>stream</var>。
                </li>
            </ol>
            对 <dfn id="dfn-handle-closing-the-readable-stream" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">关闭 readable 流处理</dfn>，执行以下步骤：
            <ol>
                <li>将 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                        data-link-type="attribute" data-lt="[[readable]]" href="#dfn-readable" class="internalDFN"
                        id="ref-for-dfn-readable-17"><code>[[readable]]</code></a> 设为 <code>null</code>。
                </li>
                <li>如果 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                        data-link-type="attribute" data-lt="[[writable]]" href="#dfn-writable" class="internalDFN"
                        id="ref-for-dfn-writable-1"><code>[[writable]]</code></a> 为 <code>null</code> 且
                    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                        data-link-type="attribute" data-lt="[[pendingClosePromise]]" href="#dfn-pendingclosepromise"
                        class="internalDFN"
                        id="ref-for-dfn-pendingclosepromise-1"><code>[[pendingClosePromise]]</code></a> 非
                    <code>null</code>，
                    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve">解析</a> <a
                        data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                        data-link-type="attribute" data-lt="[[pendingClosePromise]]" href="#dfn-pendingclosepromise"
                        class="internalDFN"
                        id="ref-for-dfn-pendingclosepromise-2"><code>[[pendingClosePromise]]</code></a>，值为
                    <code>undefined</code>。
                </li>
            </ol>
        </section>
        <section id="writable-attribute">
            <div class="header-wrapper">
                <h3 id="x4-7-writable-attribute"><bdi class="secno">4.7 </bdi>
                    <dfn data-export="" data-dfn-type="attribute" id="dom-serialport-writable" data-idl="attribute"
                        data-title="writable" data-dfn-for="SerialPort" data-type="WritableStream" data-lt="writable"
                        data-local-lt="SerialPort.writable" tabindex="0"
                        aria-haspopup="dialog"><code>writable</code></dfn> 属性
                </h3><a class="self-link" href="#writable-attribute" aria-label="Permalink for Section 4.7"></a>
            </div>

            <aside class="example" id="example-5">
                <div class="marker">
                    <a class="self-link" href="#example-5">示例<bdi> 5</bdi></a>
                </div>
                <p>
                    如需向端口写入单个数据块，可以根据需要创建和释放
                    <a data-link-type="interface" data-lt="WritableStreamDefaultWriter"
                        href="https://streams.spec.whatwg.org/#writablestreamdefaultwriter"><code>WritableStreamDefaultWriter</code></a>。
                    下面这个例子使用 <code>TextEncoder</code> 将
                    <a data-link-type="interface" data-lt="DOMString"
                        href="https://webidl.spec.whatwg.org/#idl-DOMString"><code>DOMString</code></a> 编码为需要传输的
                    <a data-link-type="interface" data-lt="Uint8Array"
                        href="https://webidl.spec.whatwg.org/#idl-Uint8Array"><code>Uint8Array</code></a>。
                </p>
                <pre aria-busy="false"><code class="hljs js"><span class="hljs-keyword">const</span> encoder = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TextEncoder</span>();
<span class="hljs-keyword">const</span> writer = port.<span class="hljs-property">writable</span>.<span class="hljs-title function_">getWriter</span>();
<span class="hljs-keyword">await</span> writer.<span class="hljs-title function_">write</span>(encoder.<span class="hljs-title function_">encode</span>(<span class="hljs-string">"PING"</span>));
writer.<span class="hljs-title function_">releaseLock</span>();</code></pre>
                <p>
                    当写入较大的数据块时，允许端口应用背压很重要，这样串口发送器才不会因为应用程序生成太多数据而跟不上发送。<a data-link-type="method" data-lt="write()"
                        href="https://streams.spec.whatwg.org/#default-writer-write"><code>write</code></a><code>()</code>
                    方法返回一个
                    <a data-link-type="interface" data-lt="Promise"
                        href="https://webidl.spec.whatwg.org/#idl-promise"><code>Promise</code></a>，当数据写入完成时解析。
                    虽然保持发送缓冲区有部分数据有助于维持吞吐，但在生成大量数据块前 await 这个 <a data-link-type="interface" data-lt="Promise"
                        href="https://webidl.spec.whatwg.org/#idl-promise"><code>Promise</code></a>，是避免过度缓冲的好习惯。
                </p>
            </aside>
            <p>
                <a data-link-type="idl" href="#dom-serialport-writable" class="internalDFN"
                    id="ref-for-dom-serialport-writable-4"><code>writable</code></a> 获取的步骤如下：
            </p>
            <ol>
                <li>如果 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                        data-link-type="attribute" data-lt="[[writable]]" href="#dfn-writable" class="internalDFN"
                        id="ref-for-dfn-writable-2"><code>[[writable]]</code></a> 不为 <code>null</code>，返回
                    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                        data-link-type="attribute" data-lt="[[writable]]" href="#dfn-writable" class="internalDFN"
                        id="ref-for-dfn-writable-3"><code>[[writable]]</code></a>。
                </li>
                <li>如果 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                        data-link-type="attribute" data-lt="[[state]]" href="#dfn-state" class="internalDFN"
                        id="ref-for-dfn-state-6"><code>[[state]]</code></a> 非 <code>"opened"</code>，返回
                    <code>null</code>。
                </li>
                <li>如果 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                        data-link-type="attribute" data-lt="[[writeFatal]]" href="#dfn-writefatal" class="internalDFN"
                        id="ref-for-dfn-writefatal-1"><code>[[writeFatal]]</code></a> 为 <code>true</code>，返回
                    <code>null</code>。
                </li>
                <li>令 <var data-type="WritableStream">stream</var> 为一个<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#new">新的</a> <a data-link-type="interface"
                        data-lt="WritableStream"
                        href="https://streams.spec.whatwg.org/#writablestream"><code>WritableStream</code></a>。
                </li>
                <li>令 <var data-type="AbortSignal">signal</var> 为 <var data-type="WritableStream">stream</var> 的 <a
                        data-link-type="dfn" href="https://streams.spec.whatwg.org/#writablestream-signal">signal</a>。
                </li>
                <li>令 <var>writeAlgorithm</var> 如下，对于给定的 <var>chunk</var>：
                    <ol>
                        <li>令 <var data-type="Promise">promise</var> 为<a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#a-new-promise">新 Promise</a>。
                        </li>
                        <li>断言：<var data-type="AbortSignal">signal</var> 未被<a data-link-type="dfn"
                                href="https://dom.spec.whatwg.org/#abortsignal-aborted">中止</a>。
                        </li>
                        <li>如果 <var>chunk</var> 无法 <a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value">转为</a>
                            <a data-link-type="typedef" data-lt="BufferSource"
                                href="https://webidl.spec.whatwg.org/#BufferSource"><code>BufferSource</code></a>
                            类型的 IDL 值，则用 <a data-link-type="exception" data-lt="TypeError"
                                href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a>
                            拒绝 <var data-type="Promise">promise</var> 并返回。否则，转化结果保存到
                            <var data-type="BufferSource">source</var>。
                        </li>
                        <li><a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#dfn-get-buffer-source-copy">获取缓冲区副本</a>
                            <var data-type="BufferSource">source</var>，结果保存到 <var>bytes</var>。
                        </li>
                        <li><a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">并行</a>执行以下步骤：
                            <ol>
                                <li>调用操作系统将 <var>bytes</var> 写入端口。或先缓存在本地以便合并。
                                    <div class="note" role="note" id="issue-container-generatedID-3">
                                        <div role="heading" class="note-title marker" id="h-note-3" aria-level="4">
                                            <span>注意</span>
                                        </div>
                                        <div class="">
                                            操作系统可能在 <var>bytes</var> 被排队等待发送后就返回，
                                            而不是等数据实际发送完毕。
                                        </div>
                                    </div>
                                    <div class="note" role="note" id="issue-container-generatedID-4">
                                        <div role="heading" class="note-title marker" id="h-note-4" aria-level="4">
                                            <span>注意</span>
                                        </div>
                                        <div class="">
                                            <a data-link-type="dfn"
                                                href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                                data-link-type="attribute" data-lt="[[state]]" href="#dfn-state"
                                                class="internalDFN" id="ref-for-dfn-state-7"><code>[[state]]</code></a>
                                            变为 <code>"forgotten"</code> 时要视为端口已断开。
                                        </div>
                                    </div>
                                </li>
                                <li><a data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">在相关全局对象</a>
                                    上，使用 <a data-link-type="dfn|abstract-op" href="#dfn-serial-port-task-source"
                                        class="internalDFN" id="ref-for-dfn-serial-port-task-source-8">serial port task
                                        source</a>，执行：
                                    <ol>
                                        <li>如果数据块已被成功写入或已缓存合并，<a data-link-type="dfn"
                                                href="https://webidl.spec.whatwg.org/#resolve">resolve</a> <var
                                                data-type="Promise">promise</var>，值为
                                            <code>undefined</code>。
                                            <div class="note" role="note" id="issue-container-generatedID-5">
                                                <div role="heading" class="note-title marker" id="h-note-5"
                                                    aria-level="4"><span>注意</span></div>
                                                <div class="">
                                                    [<cite><a class="bibref" data-link-type="biblio" href="#bib-streams"
                                                            title="Streams Standard">STREAMS</a></cite>] 规定
                                                    <var>writeAlgorithm</var> 只会在上一次返回的 <a data-link-type="interface"
                                                        data-lt="Promise"
                                                        href="https://webidl.spec.whatwg.org/#idl-promise"><code>Promise</code></a>
                                                    解析之后再被调用。
                                                    为了效率，实现允许提前 resolve，这样可将多个排队的 chunk 合并为一次系统调用。
                                                </div>
                                            </div>
                                        </li>
                                        <li>如遇操作系统错误，
                                            <a data-link-type="dfn"
                                                href="https://webidl.spec.whatwg.org/#reject">reject</a> <var
                                                data-type="Promise">promise</var>，错误为 "<a data-link-type="exception"
                                                data-lt="UnknownError"
                                                href="https://webidl.spec.whatwg.org/#unknownerror"><code>UnknownError</code></a>"
                                            <a data-link-type="interface" data-lt="DOMException"
                                                href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>。
                                        </li>
                                        <li>如<var>端口已断开</var>，执行以下步骤：
                                            <ol>
                                                <li>将 <a data-link-type="dfn"
                                                        href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                                        data-link-type="attribute" data-lt="[[writeFatal]]"
                                                        href="#dfn-writefatal" class="internalDFN"
                                                        id="ref-for-dfn-writefatal-2"><code>[[writeFatal]]</code></a> 设为
                                                    <code>true</code>。
                                                </li>
                                                <li><a data-link-type="dfn"
                                                        href="https://webidl.spec.whatwg.org/#reject">Reject</a> <var
                                                        data-type="Promise">promise</var>，错误为 "<a
                                                        data-link-type="exception" data-lt="NetworkError"
                                                        href="https://webidl.spec.whatwg.org/#networkerror"><code>NetworkError</code></a>"
                                                    <a data-link-type="interface" data-lt="DOMException"
                                                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>。
                                                </li>
                                                <li>调用 <a data-link-type="dfn|abstract-op"
                                                        href="#dfn-handle-closing-the-writable-stream"
                                                        class="internalDFN"
                                                        id="ref-for-dfn-handle-closing-the-writable-stream-1">关闭
                                                        writable 流处理</a>。
                                                </li>
                                            </ol>
                                        </li>
                                        <li>如 <var data-type="AbortSignal">signal</var> 已<a data-link-type="dfn"
                                                href="https://dom.spec.whatwg.org/#abortsignal-aborted">中止</a>，则
                                            <a data-link-type="dfn"
                                                href="https://webidl.spec.whatwg.org/#reject">reject</a>
                                            <var data-type="Promise">promise</var>，错误为 <var
                                                data-type="AbortSignal">signal</var> 的<a data-link-type="dfn"
                                                href="https://dom.spec.whatwg.org/#abortsignal-abort-reason">中止原因</a>。
                                        </li>
                                    </ol>
                                </li>
                            </ol>
                        </li>
                        <li>返回 <var data-type="Promise">promise</var>。
                        </li>
                    </ol>
                </li>
                <li>令 <var>abortAlgorithm</var> 如下：
                    <ol>
                        <li>令 <var data-type="Promise">promise</var> 为<a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#a-new-promise">新 Promise</a>。
                        </li>
                        <li>执行如下<a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">并行</a>步骤。
                            <ol>
                                <li>让操作系统丢弃端口所有软硬件发送缓冲内容。
                                </li>
                                <li><a data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">在相关全局对象</a>
                                    上、使用 <a data-link-type="dfn|abstract-op" href="#dfn-serial-port-task-source"
                                        class="internalDFN" id="ref-for-dfn-serial-port-task-source-9">serial port task
                                        source</a> 执行：
                                    <ol>
                                        <li>调用 <a data-link-type="dfn|abstract-op"
                                                href="#dfn-handle-closing-the-writable-stream" class="internalDFN"
                                                id="ref-for-dfn-handle-closing-the-writable-stream-2">关闭 writable
                                                流处理</a>。
                                        </li>
                                        <li><a data-link-type="dfn"
                                                href="https://webidl.spec.whatwg.org/#resolve">解析</a> <var
                                                data-type="Promise">promise</var>，值为 <code>undefined</code>。
                                        </li>
                                    </ol>
                                </li>
                            </ol>
                        </li>
                        <li>返回 <var data-type="Promise">promise</var>。
                        </li>
                    </ol>
                </li>
                <li>令 <var>closeAlgorithm</var> 如下：
                    <ol>
                        <li>令 <var data-type="Promise">promise</var> 为<a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#a-new-promise">新 Promise</a>。
                        </li>
                        <li>执行如下<a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">并行</a>步骤。
                            <ol>
                                <li>让操作系统刷新该端口的所有软硬件发送缓冲内容。
                                </li>
                                <li><a data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">在相关全局对象</a>
                                    上、使用 <a data-link-type="dfn|abstract-op" href="#dfn-serial-port-task-source"
                                        class="internalDFN" id="ref-for-dfn-serial-port-task-source-10">serial port task
                                        source</a> 执行：
                                    <ol>
                                        <li>调用 <a data-link-type="dfn|abstract-op"
                                                href="#dfn-handle-closing-the-writable-stream" class="internalDFN"
                                                id="ref-for-dfn-handle-closing-the-writable-stream-3">关闭 writable
                                                流处理</a>。
                                        </li>
                                        <li>如 <var data-type="AbortSignal">signal</var> 已<a data-link-type="dfn"
                                                href="https://dom.spec.whatwg.org/#abortsignal-aborted">中止</a>，
                                            <a data-link-type="dfn"
                                                href="https://webidl.spec.whatwg.org/#reject">reject</a>
                                            <var data-type="Promise">promise</var>，错误为 <var
                                                data-type="AbortSignal">signal</var> 的<a data-link-type="dfn"
                                                href="https://dom.spec.whatwg.org/#abortsignal-abort-reason">中止原因</a>。
                                        </li>
                                        <li>否则，<a data-link-type="dfn"
                                                href="https://webidl.spec.whatwg.org/#resolve">resolve</a> <var
                                                data-type="Promise">promise</var>，值为 <code>undefined</code>。
                                        </li>
                                    </ol>
                                </li>
                            </ol>
                        </li>
                        <li>返回 <var data-type="Promise">promise</var>。
                        </li>
                    </ol>
                </li>
                <li><a data-link-type="dfn" href="https://streams.spec.whatwg.org/#writablestream-set-up">设置</a>
                    <var data-type="WritableStream">stream</var>，其 <a
                        href="https://streams.spec.whatwg.org/#writablestream-set-up-writealgorithm">
                        writeAlgorithm</a> 设为 <var>writeAlgorithm</var>，
                    <a href="https://streams.spec.whatwg.org/#writablestream-set-up-abortalgorithm">
                        abortAlgorithm</a> 设为 <var>abortAlgorithm</var>，
                    <a href="https://streams.spec.whatwg.org/#writablestream-set-up-closealgorithm">
                        closeAlgorithm</a> 设为 <var>closeAlgorithm</var>，
                    <a href="https://streams.spec.whatwg.org/#writablestream-set-up-highwatermark">
                        highWaterMark</a> 设为 <a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute"
                        data-lt="[[bufferSize]]" href="#dfn-buffersize" class="internalDFN"
                        id="ref-for-dfn-buffersize-3"><code>[[bufferSize]]</code></a>，
                    <a href="https://streams.spec.whatwg.org/#writablestream-set-up-sizealgorithm">
                        sizeAlgorithm</a> 设为字节计数算法。
                </li>
                <li><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-add">添加</a>下述中止操作到 <var
                        data-type="AbortSignal">signal</var>：
                    <ol>
                        <li>使任何针对端口的写操作系统调用立刻返回，无论数据是否实际写入。
                        </li>
                    </ol>
                </li>
                <li>将 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                        data-link-type="attribute" data-lt="[[writable]]" href="#dfn-writable" class="internalDFN"
                        id="ref-for-dfn-writable-4"><code>[[writable]]</code></a> 设为 <var
                        data-type="WritableStream">stream</var>。
                </li>
                <li>返回 <var data-type="WritableStream">stream</var>。
                </li>
            </ol>
            对 <dfn id="dfn-handle-closing-the-writable-stream" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">关闭 writable 流处理</dfn>，执行以下步骤：
            <ol>
                <li>将 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                        data-link-type="attribute" data-lt="[[writable]]" href="#dfn-writable" class="internalDFN"
                        id="ref-for-dfn-writable-5"><code>[[writable]]</code></a> 设为 <code>null</code>。
                </li>
                <li>如果 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                        data-link-type="attribute" data-lt="[[readable]]" href="#dfn-readable" class="internalDFN"
                        id="ref-for-dfn-readable-18"><code>[[readable]]</code></a> 为 <code>null</code> 且
                    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                        data-link-type="attribute" data-lt="[[pendingClosePromise]]" href="#dfn-pendingclosepromise"
                        class="internalDFN"
                        id="ref-for-dfn-pendingclosepromise-3"><code>[[pendingClosePromise]]</code></a> 不为
                    <code>null</code>，
                    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve">解析</a> <a
                        data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                        data-link-type="attribute" data-lt="[[pendingClosePromise]]" href="#dfn-pendingclosepromise"
                        class="internalDFN"
                        id="ref-for-dfn-pendingclosepromise-4"><code>[[pendingClosePromise]]</code></a>，值为
                    <code>undefined</code>。
                </li>
            </ol>
        </section>
        <section id="setsignals-method">
            <div class="header-wrapper">
                <h3 id="x4-8-setsignals-method"><bdi class="secno">4.8 </bdi>
                    <dfn data-export="" data-dfn-type="method" id="dom-serialport-setsignals" data-idl="operation"
                        data-title="setSignals()" data-dfn-for="SerialPort" data-type="Promise"
                        data-lt="setSignals()|setSignals(signals)"
                        data-local-lt="SerialPort.setSignals|SerialPort.setSignals()|setSignals" tabindex="0"
                        aria-haspopup="dialog"><code>setSignals()</code></dfn> 方法
                </h3><a class="self-link" href="#setsignals-method" aria-label="Permalink for Section 4.8"></a>
            </div>

            <aside class="example" id="example-6">
                <div class="marker">
                    <a class="self-link" href="#example-6">示例<bdi> 6</bdi></a>
                </div>
                <p>
                    串口包含用于设备检测和流控的一些额外信号，可以显式查询和设置。例如，编程某些微控制器时，通常需先通过切换"数据终端就绪"（Data Terminal Ready，DTR）信号进入“编程”模式。
                </p>
                <pre
                    aria-busy="false"><code class="hljs js"><span class="hljs-keyword">await</span> port.<span class="hljs-title function_">setSignals</span>({ <span class="hljs-attr">dataTerminalReady</span>: <span class="hljs-literal">false</span> });
<span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> <span class="hljs-built_in">setTimeout</span>(resolve, <span class="hljs-number">200</span>));
<span class="hljs-keyword">await</span> port.<span class="hljs-title function_">setSignals</span>({ <span class="hljs-attr">dataTerminalReady</span>: <span class="hljs-literal">true</span> });</code></pre>
            </aside>
            <p>
                <a data-link-type="idl" data-lt="setSignals()" href="#dom-serialport-setsignals" class="internalDFN"
                    id="ref-for-dom-serialport-setsignals-2"><code>setSignals</code></a><code>()</code> 方法的步骤如下：
            </p>
            <ol>
                <li>令 <var>promise</var> 为<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#a-new-promise">新的 Promise</a>。
                </li>
                <li>如果 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                        data-link-type="attribute" data-lt="[[state]]" href="#dfn-state" class="internalDFN"
                        id="ref-for-dfn-state-8"><code>[[state]]</code></a> 不为 <code>"opened"</code>，则以 "<a
                        data-link-type="exception" data-lt="InvalidStateError"
                        href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>"
                    <a data-link-type="interface" data-lt="DOMException"
                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a> 拒绝
                    <var>promise</var> 并返回。
                </li>
                <li>如果 <var>signals</var> 所有指定成员均不存在，则以 <a data-link-type="exception" data-lt="TypeError"
                        href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a> 拒绝
                    <var>promise</var> 并返回。
                </li>
                <li>并行执行以下步骤：
                    <div class="note" role="note" id="issue-container-generatedID-6">
                        <div role="heading" class="note-title marker" id="h-note-6" aria-level="4"><span>注意</span>
                        </div>
                        <div class="">
                            理想情况下，<var>signals</var> 中指定的各项更改应原子性应用，但无论是 POSIX 还是 Windows API
                            都不支持。所以下述顺序很可能被应用所依赖。
                        </div>
                    </div>
                    <ol>
                        <li>若 <var>signals</var>["<a data-link-type="idl"
                                href="#dom-serialoutputsignals-dataterminalready" class="internalDFN"
                                id="ref-for-dom-serialoutputsignals-dataterminalready-1"><code>dataTerminalReady</code></a>"]
                            存在，
                            则调用操作系统在串口上置位（为 <code>true</code> 时）或清除（为 <code>false</code> 时）“数据终端就绪”（DTR）信号。
                        </li>
                        <li>若 <var>signals</var>["<a data-link-type="idl" href="#dom-serialoutputsignals-requesttosend"
                                class="internalDFN"
                                id="ref-for-dom-serialoutputsignals-requesttosend-1"><code>requestToSend</code></a>"]
                            存在，
                            则调用操作系统在串口上置位（为 <code>true</code> 时）或清除（为 <code>false</code> 时）“请求发送”（RTS）信号。
                        </li>
                        <li>若 <var>signals</var>["<a data-link-type="idl" href="#dom-serialoutputsignals-break"
                                class="internalDFN"
                                id="ref-for-dom-serialoutputsignals-break-1"><code>break</code></a>"] 存在，
                            则调用操作系统在串口上置位（为 <code>true</code> 时）或清除（为 <code>false</code> 时）“break”信号。
                            <div class="note" role="note" id="issue-container-generatedID-7">
                                <div role="heading" class="note-title marker" id="h-note-7" aria-level="4">
                                    <span>注意</span>
                                </div>
                                <div class="">
                                    “break” 信号通常通过保持发送线在“mark”电平实现，在assert状态下不能发送数据。
                                </div>
                            </div>
                        </li>
                        <li>如操作系统因任何原因未能改变任一信号状态，<a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">在相关全局对象</a>
                            上、使用 <a data-link-type="dfn|abstract-op" href="#dfn-serial-port-task-source"
                                class="internalDFN" id="ref-for-dfn-serial-port-task-source-11">serial port task
                                source</a> 拒绝 <var>promise</var>，错误为
                            "<a data-link-type="exception" data-lt="NetworkError"
                                href="https://webidl.spec.whatwg.org/#networkerror"><code>NetworkError</code></a>"
                            <a data-link-type="interface" data-lt="DOMException"
                                href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>。
                        </li>
                        <li><a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">在相关全局对象</a>上、
                            使用 <a data-link-type="dfn|abstract-op" href="#dfn-serial-port-task-source"
                                class="internalDFN" id="ref-for-dfn-serial-port-task-source-12">serial port task
                                source</a> 解析
                            <var>promise</var>，值为 <code>undefined</code>。
                        </li>
                    </ol>
                </li>
                <li>返回 <var>promise</var>。
                </li>
            </ol>
            <section data-dfn-for="SerialOutputSignals" id="serialoutputsignals-dictionary">
                <div class="header-wrapper">
                    <h4 id="x4-8-1-serialoutputsignals-dictionary"><bdi class="secno">4.8.1 </bdi>
                        <dfn data-export="" data-dfn-type="dictionary" id="dom-serialoutputsignals"
                            data-idl="dictionary" data-title="SerialOutputSignals" data-dfn-for="" tabindex="0"
                            aria-haspopup="dialog"><code>SerialOutputSignals</code></dfn> 字典
                    </h4><a class="self-link" href="#serialoutputsignals-dictionary"
                        aria-label="Permalink for Section 4.8.1"></a>
                </div>

                <pre class="idl def" id="webidl-1048921348"><span class="idlHeader"><a class="self-link" href="#webidl-1048921348">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-serialoutputsignals" data-title="SerialOutputSignals">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-serialoutputsignals" id="ref-for-dom-serialoutputsignals-2"><code>SerialOutputSignals</code></a> {<span data-idl="" class="idlMember" id="idl-def-serialoutputsignals-dataterminalready" data-title="dataTerminalReady" data-dfn-for="SerialOutputSignals"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-serialoutputsignals-dataterminalready" id="ref-for-dom-serialoutputsignals-dataterminalready-2"><code>dataTerminalReady</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-serialoutputsignals-requesttosend" data-title="requestToSend" data-dfn-for="SerialOutputSignals"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-serialoutputsignals-requesttosend" id="ref-for-dom-serialoutputsignals-requesttosend-2"><code>requestToSend</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-serialoutputsignals-break" data-title="break" data-dfn-for="SerialOutputSignals"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-serialoutputsignals-break" id="ref-for-dom-serialoutputsignals-break-2"><code>break</code></a>;</span>
};</span></code></pre>
                <dl>
                    <dt>
                        <dfn data-export="" data-dfn-type="dict-member" id="dom-serialoutputsignals-dataterminalready"
                            data-idl="field" data-title="dataTerminalReady" data-dfn-for="SerialOutputSignals"
                            data-type="boolean" tabindex="0" aria-haspopup="dialog"><code>dataTerminalReady</code></dfn>
                    </dt>
                    <dd>
                        数据终端就绪（DTR）
                    </dd>
                    <dt>
                        <dfn data-export="" data-dfn-type="dict-member" id="dom-serialoutputsignals-requesttosend"
                            data-idl="field" data-title="requestToSend" data-dfn-for="SerialOutputSignals"
                            data-type="boolean" tabindex="0" aria-haspopup="dialog"><code>requestToSend</code></dfn>
                    </dt>
                    <dd>
                        请求发送（RTS）
                    </dd>
                    <dt>
                        <dfn data-export="" data-dfn-type="dict-member" id="dom-serialoutputsignals-break"
                            data-idl="field" data-title="break" data-dfn-for="SerialOutputSignals" data-type="boolean"
                            tabindex="0" aria-haspopup="dialog"><code>break</code></dfn>
                    </dt>
                    <dd>
                        Break（断开信号）
                    </dd>
                </dl>
            </section>
        </section>
        <section id="getsignals-method">
            <div class="header-wrapper">
                <h3 id="x4-9-getsignals-method"><bdi class="secno">4.9 </bdi>
                    <dfn data-export="" data-dfn-type="method" id="dom-serialport-getsignals" data-idl="operation"
                        data-title="getSignals()" data-dfn-for="SerialPort" data-type="Promise" data-lt="getSignals()"
                        data-local-lt="SerialPort.getSignals|SerialPort.getSignals()|getSignals" tabindex="0"
                        aria-haspopup="dialog"><code>getSignals()</code></dfn> 方法
                </h3><a class="self-link" href="#getsignals-method" aria-label="Permalink for Section 4.9"></a>
            </div>
            <a data-link-type="idl" data-lt="getSignals()" href="#dom-serialport-getsignals" class="internalDFN"
                id="ref-for-dom-serialport-getsignals-2"><code>getSignals</code></a><code>()</code> 方法步骤如下：
            <ol>
                <li>令 <var data-type="Promise">promise</var> 为<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#a-new-promise">新 Promise</a>。
                </li>
                <li>如果 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                        data-link-type="attribute" data-lt="[[state]]" href="#dfn-state" class="internalDFN"
                        id="ref-for-dfn-state-9"><code>[[state]]</code></a> 不为 <code>"opened"</code>，以 "<a
                        data-link-type="exception" data-lt="InvalidStateError"
                        href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>"
                    <a data-link-type="interface" data-lt="DOMException"
                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a> 拒绝
                    <var data-type="Promise">promise</var> 并返回。
                </li>
                <li>并行执行以下步骤：
                    <ol>
                        <li>查询操作系统，获取串口连接设备可置位的控制信号状态。
                        </li>
                        <li>如操作系统因任何原因未能判断信号状态，<a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">在相关全局对象</a>
                            上、使用 <a data-link-type="dfn|abstract-op" href="#dfn-serial-port-task-source"
                                class="internalDFN" id="ref-for-dfn-serial-port-task-source-13">serial port task
                                source</a> 拒绝 <var data-type="Promise">promise</var>，错误为
                            "<a data-link-type="exception" data-lt="NetworkError"
                                href="https://webidl.spec.whatwg.org/#networkerror"><code>NetworkError</code></a>"
                            <a data-link-type="interface" data-lt="DOMException"
                                href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>，并中止步骤。
                        </li>
                        <li>如“数据载波检测”（DCD）信号已被设备置位，令 <var>dataCarrierDetect</var> 为 <code>true</code>，否则为
                            <code>false</code>。
                        </li>
                        <li>如“清除发送”（CTS）信号已被设备置位，令 <var>clearToSend</var> 为 <code>true</code>，否则为 <code>false</code>。
                        </li>
                        <li>如“振铃指示”（RI）信号已被设备置位，令 <var>ringIndicator</var> 为 <code>true</code>，否则为 <code>false</code>。
                        </li>
                        <li>如“数据集就绪”（DSR）信号已被设备置位，令 <var>dataSetReady</var> 为 <code>true</code>，否则为 <code>false</code>。
                        </li>
                        <li>令 <var>signals</var> 为 <a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#ordered-map">有序映射</a> «[
                            "<a data-link-type="idl" href="#dom-serialinputsignals-datacarrierdetect"
                                class="internalDFN"
                                id="ref-for-dom-serialinputsignals-datacarrierdetect-1"><code>dataCarrierDetect</code></a>"
                            → <var>dataCarrierDetect</var>,
                            "<a data-link-type="idl" href="#dom-serialinputsignals-cleartosend" class="internalDFN"
                                id="ref-for-dom-serialinputsignals-cleartosend-1"><code>clearToSend</code></a>" →
                            <var>clearToSend</var>,
                            "<a data-link-type="idl" href="#dom-serialinputsignals-ringindicator" class="internalDFN"
                                id="ref-for-dom-serialinputsignals-ringindicator-1"><code>ringIndicator</code></a>" →
                            <var>ringIndicator</var>,
                            "<a data-link-type="idl" href="#dom-serialinputsignals-datasetready" class="internalDFN"
                                id="ref-for-dom-serialinputsignals-datasetready-1"><code>dataSetReady</code></a>" →
                            <var>dataSetReady</var> ]»。
                        </li>
                        <li><a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">在相关全局对象</a>上、
                            使用 <a data-link-type="dfn|abstract-op" href="#dfn-serial-port-task-source"
                                class="internalDFN" id="ref-for-dfn-serial-port-task-source-14">serial port task
                                source</a> 解析
                            <var data-type="Promise">promise</var>，值为 <var>signals</var>。
                        </li>
                    </ol>
                </li>
                <li>返回 <var data-type="Promise">promise</var>。
                </li>
            </ol>
            <section data-dfn-for="SerialInputSignals" id="serialinputsignals-dictionary">
                <div class="header-wrapper">
                    <h4 id="x4-9-1-serialinputsignals-dictionary"><bdi class="secno">4.9.1 </bdi>
                        <dfn data-export="" data-dfn-type="dictionary" id="dom-serialinputsignals" data-idl="dictionary"
                            data-title="SerialInputSignals" data-dfn-for="" tabindex="0"
                            aria-haspopup="dialog"><code>SerialInputSignals</code></dfn> 字典
                    </h4><a class="self-link" href="#serialinputsignals-dictionary"
                        aria-label="Permalink for Section 4.9.1"></a>
                </div>

                <pre class="idl def" id="webidl-910464035"><span class="idlHeader"><a class="self-link" href="#webidl-910464035">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-serialinputsignals" data-title="SerialInputSignals">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-serialinputsignals" id="ref-for-dom-serialinputsignals-2"><code>SerialInputSignals</code></a> {<span data-idl="" class="idlMember" id="idl-def-serialinputsignals-datacarrierdetect" data-title="dataCarrierDetect" data-dfn-for="SerialInputSignals">
  required<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-serialinputsignals-datacarrierdetect" id="ref-for-dom-serialinputsignals-datacarrierdetect-2"><code>dataCarrierDetect</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-serialinputsignals-cleartosend" data-title="clearToSend" data-dfn-for="SerialInputSignals">
  required<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-serialinputsignals-cleartosend" id="ref-for-dom-serialinputsignals-cleartosend-2"><code>clearToSend</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-serialinputsignals-ringindicator" data-title="ringIndicator" data-dfn-for="SerialInputSignals">
  required<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-serialinputsignals-ringindicator" id="ref-for-dom-serialinputsignals-ringindicator-2"><code>ringIndicator</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-serialinputsignals-datasetready" data-title="dataSetReady" data-dfn-for="SerialInputSignals">
  required<span class="idlType"> <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-serialinputsignals-datasetready" id="ref-for-dom-serialinputsignals-datasetready-2"><code>dataSetReady</code></a>;</span>
};</span></code></pre>
                <dl>
                    <dt>
                        <dfn data-export="" data-dfn-type="dict-member" id="dom-serialinputsignals-datacarrierdetect"
                            data-idl="field" data-title="dataCarrierDetect" data-dfn-for="SerialInputSignals"
                            data-type="boolean" tabindex="0" aria-haspopup="dialog"><code>dataCarrierDetect</code></dfn>
                        成员
                    </dt>
                    <dd>
                        数据载波检测（DCD）
                    </dd>
                    <dt>
                        <dfn data-export="" data-dfn-type="dict-member" id="dom-serialinputsignals-cleartosend"
                            data-idl="field" data-title="clearToSend" data-dfn-for="SerialInputSignals"
                            data-type="boolean" tabindex="0" aria-haspopup="dialog"><code>clearToSend</code></dfn>
                        成员
                    </dt>
                    <dd>
                        清除发送（CTS）
                    </dd>
                    <dt>
                        <dfn data-export="" data-dfn-type="dict-member" id="dom-serialinputsignals-ringindicator"
                            data-idl="field" data-title="ringIndicator" data-dfn-for="SerialInputSignals"
                            data-type="boolean" tabindex="0" aria-haspopup="dialog"><code>ringIndicator</code></dfn>
                        成员
                    </dt>
                    <dd>
                        振铃指示（RI）
                    </dd>
                    <dt>
                        <dfn data-export="" data-dfn-type="dict-member" id="dom-serialinputsignals-datasetready"
                            data-idl="field" data-title="dataSetReady" data-dfn-for="SerialInputSignals"
                            data-type="boolean" tabindex="0" aria-haspopup="dialog"><code>dataSetReady</code></dfn>
                        成员
                    </dt>
                    <dd>
                        数据集就绪（DSR）
                    </dd>
                </dl>
            </section>
        </section>
        <section id="close-method">
            <div class="header-wrapper">
                <h3 id="x4-10-close-method"><bdi class="secno">4.10 </bdi>
                    <dfn data-export="" data-dfn-type="method" id="dom-serialport-close" data-idl="operation"
                        data-title="close()" data-dfn-for="SerialPort" data-type="Promise" data-lt="close()"
                        data-local-lt="SerialPort.close|SerialPort.close()|close" tabindex="0"
                        aria-haspopup="dialog"><code>close()</code></dfn> 方法
                </h3><a class="self-link" href="#close-method" aria-label="Permalink for Section 4.10"></a>
            </div>

            <aside id="close-example" class="example">
                <div class="marker">
                    <a class="self-link" href="#close-example">示例<bdi> 7</bdi></a>
                </div>
                <p>
                    当不再需要与端口通信时，可关闭端口并释放系统关联的资源。
                </p>
                <p>
                    调用 <code>port.</code><a data-link-type="idl" data-lt="close()" href="#dom-serialport-close"
                        class="internalDFN" id="ref-for-dom-serialport-close-2"><code>close</code></a><code>()</code>
                    会隐式调用
                    <code>port.</code><a data-link-type="idl" href="#dom-serialport-readable" class="internalDFN"
                        id="ref-for-dom-serialport-readable-7"><code>readable</code></a><code>.</code><a
                        data-link-type="method" data-lt="cancel()"
                        href="https://streams.spec.whatwg.org/#rs-cancel"><code>cancel</code></a><code>()</code>
                    和 <code>port.</code><a data-link-type="idl" href="#dom-serialport-writable" class="internalDFN"
                        id="ref-for-dom-serialport-writable-5"><code>writable</code></a><code>.</code><a
                        data-link-type="method" data-lt="abort()"
                        href="https://streams.spec.whatwg.org/#ws-abort"><code>abort</code></a><code>()</code>，以清除所有已缓冲数据。
                    如果应用已调用 <code>port.</code><a data-link-type="idl" href="#dom-serialport-readable"
                        class="internalDFN"
                        id="ref-for-dom-serialport-readable-8"><code>readable</code></a><code>.</code><a
                        data-link-type="method" data-lt="getReader()"
                        href="https://streams.spec.whatwg.org/#rs-get-reader"><code>getReader</code></a><code>()</code>
                    或 <code>port.</code><a data-link-type="idl" href="#dom-serialport-writable" class="internalDFN"
                        id="ref-for-dom-serialport-writable-6"><code>writable</code></a><code>.</code><a
                        data-link-type="method" data-lt="getWriter()"
                        href="https://streams.spec.whatwg.org/#ws-get-writer"><code>getWriter</code></a><code>()</code>，
                    流将被锁定，端口无法关闭。这会强制开发者自行决定如何处理进行中的读写操作。例如，要确保所有已缓冲的数据已发送完毕再关闭端口，应用需
                    await <a data-link-type="interface" data-lt="Promise"
                        href="https://webidl.spec.whatwg.org/#idl-promise"><code>Promise</code></a>
                    ，即 <code>writer.</code><a data-link-type="method" data-lt="close()"
                        href="https://streams.spec.whatwg.org/#default-writer-close"><code>close</code></a><code>()</code>
                    的返回值。
                </p>
                <pre aria-busy="false"><code class="hljs js"><span class="hljs-keyword">const</span> encoder = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TextEncoder</span>();
<span class="hljs-keyword">const</span> writer = port.<span class="hljs-property">writable</span>.<span class="hljs-title function_">getWriter</span>();
writer.<span class="hljs-title function_">write</span>(encoder.<span class="hljs-title function_">encode</span>(<span class="hljs-string">"A long message that will take..."</span>));
<span class="hljs-keyword">await</span> writer.<span class="hljs-title function_">close</span>();
<span class="hljs-keyword">await</span> port.<span class="hljs-title function_">close</span>();</code></pre>
                <p>
                    若需丢弃未发送数据，可直接调用 <code>writer.</code><a data-link-type="method" data-lt="abort()"
                        href="https://streams.spec.whatwg.org/#default-writer-abort"><code>abort</code></a><code>()</code>。
                </p>
                <p>
                    如果有 <a data-link-type="interface" data-lt="TransformStream"
                        href="https://streams.spec.whatwg.org/#transformstream"><code>TransformStream</code></a>
                    正通过管道连接到
                    <code>port</code>.<a data-link-type="idl" href="#dom-serialport-writable" class="internalDFN"
                        id="ref-for-dom-serialport-writable-7"><code>writable</code></a>，仅等 <a
                        data-link-type="interface" data-lt="Promise"
                        href="https://webidl.spec.whatwg.org/#idl-promise"><code>Promise</code></a>
                    （即 <code>writer.</code><a data-link-type="method" data-lt="close()"
                        href="https://streams.spec.whatwg.org/#default-writer-close"><code>close</code></a><code>()</code>）解析是不够的，应等
                    <a data-link-type="method" data-lt="pipeTo()"
                        href="https://streams.spec.whatwg.org/#rs-pipe-to"><code>pipeTo</code></a><code>()</code> 返回的
                    Promise 解析后再关闭端口。
                </p>
                <pre aria-busy="false"><code class="hljs js"><span class="hljs-keyword">const</span> encoder = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TextEncoderStream</span>();
<span class="hljs-keyword">const</span> writableStreamClosed = encoder.<span class="hljs-property">readable</span>.<span class="hljs-title function_">pipeTo</span>(port.<span class="hljs-property">writable</span>);
<span class="hljs-keyword">const</span> writer = encoder.<span class="hljs-property">writable</span>.<span class="hljs-title function_">getWriter</span>();
writer.<span class="hljs-title function_">write</span>(<span class="hljs-string">"A long message that will take..."</span>);
writer.<span class="hljs-title function_">close</span>();
<span class="hljs-keyword">await</span> writableStreamClosed;
<span class="hljs-keyword">await</span> port.<span class="hljs-title function_">close</span>();</code></pre>
                <p>
                    如果使用循环从端口读取数据（如 <a href="#readable-example" data-matched-text="[[[#readable-example]]]"
                        class="box-ref">示例<bdi>4</bdi></a>），
                    则需要先终止循环再调用 <code>port.</code><a data-link-type="idl" data-lt="close()" href="#dom-serialport-close"
                        class="internalDFN" id="ref-for-dom-serialport-close-3"><code>close</code></a><code>()</code>。
                </p>
                <pre aria-busy="false"><code class="hljs js"><span class="hljs-keyword">let</span> keepReading = <span class="hljs-literal">true</span>;
<span class="hljs-keyword">let</span> reader;

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">readUntilClosed</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">while</span> (port.<span class="hljs-property">readable</span> &amp;&amp; keepReading) {
    reader = port.<span class="hljs-property">readable</span>.<span class="hljs-title function_">getReader</span>();
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
        <span class="hljs-keyword">const</span> { value, done } = <span class="hljs-keyword">await</span> reader.<span class="hljs-title function_">read</span>();
        <span class="hljs-keyword">if</span> (done) {
          <span class="hljs-comment">// |reader| 已被取消。</span>
          <span class="hljs-keyword">break</span>;
        }
        <span class="hljs-comment">// 用 |value| 做某些事...</span>
      }
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-comment">// 处理 |error|...</span>
    } <span class="hljs-keyword">finally</span> {
      reader.<span class="hljs-title function_">releaseLock</span>();
    }
  }

  <span class="hljs-keyword">await</span> port.<span class="hljs-title function_">close</span>();
}

<span class="hljs-keyword">const</span> closed = <span class="hljs-title function_">readUntilClosed</span>();

<span class="hljs-comment">// 稍后某时…</span>
keepReading = <span class="hljs-literal">false</span>;
reader.<span class="hljs-title function_">cancel</span>();
<span class="hljs-keyword">await</span> closed;</code></pre>
                <p>
                    调用 <code>reader.</code><a data-link-type="method" data-lt="cancel()"
                        href="https://streams.spec.whatwg.org/#generic-reader-cancel"><code>cancel</code></a><code>()</code>
                    会导致 <code>reader.</code><a data-link-type="method" data-lt="read()"
                        href="https://streams.spec.whatwg.org/#default-reader-read"><code>read</code></a><code>()</code>
                    立即返回，退出内层循环并调用 <code>reader.</code><a data-link-type="method" data-lt="releaseLock()"
                        href="https://streams.spec.whatwg.org/#default-reader-release-lock"><code>releaseLock</code></a><code>()</code>。
                    外层循环因 <code>keepReading</code> 被设为 <code>false</code> 而退出，且流已解锁，此时 <code>port.</code><a
                        data-link-type="idl" data-lt="close()" href="#dom-serialport-close" class="internalDFN"
                        id="ref-for-dom-serialport-close-4"><code>close</code></a><code>()</code> 可正常完成。
                </p>
                <p>
                    虽然也可以在等 <code>reader.</code><a data-link-type="method" data-lt="cancel()"
                        href="https://streams.spec.whatwg.org/#generic-reader-cancel"><code>cancel</code></a><code>()</code>
                    返回后直接调用
                    <code>port.</code><a data-link-type="idl" data-lt="close()" href="#dom-serialport-close"
                        class="internalDFN" id="ref-for-dom-serialport-close-5"><code>close</code></a><code>()</code>，
                    但最好把 <code>port.</code><a data-link-type="idl" data-lt="close()" href="#dom-serialport-close"
                        class="internalDFN" id="ref-for-dom-serialport-close-6"><code>close</code></a><code>()</code> 作为
                    <code>readUntilClosed()</code> 最后一步，
                    这样遇到致命错误 <code>port.</code><a data-link-type="idl" href="#dom-serialport-readable"
                        class="internalDFN" id="ref-for-dom-serialport-readable-9"><code>readable</code></a> 变为
                    <code>null</code> 时端口也能安全关闭。
                </p>
            </aside>
            <p>
                <a data-link-type="idl" data-lt="close()" href="#dom-serialport-close" class="internalDFN"
                    id="ref-for-dom-serialport-close-7"><code>close</code></a><code>()</code> 方法的执行步骤如下：
            </p>
            <ol>
                <li>令 <var>promise</var> 为<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise">新
                        Promise</a>。
                </li>
                <li>如果 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                        data-link-type="attribute" data-lt="[[state]]" href="#dfn-state" class="internalDFN"
                        id="ref-for-dfn-state-10"><code>[[state]]</code></a> 非 <code>"opened"</code>，
                    则用 "<a data-link-type="exception" data-lt="InvalidStateError"
                        href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>"
                    <a data-link-type="interface" data-lt="DOMException"
                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>
                    拒绝 <var>promise</var> 并返回。
                </li>
                <li>令 <var data-type="Promise">cancelPromise</var> 为调用
                    <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-cancel">cancel</a> 于
                    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                        data-link-type="attribute" data-lt="[[readable]]" href="#dfn-readable" class="internalDFN"
                        id="ref-for-dfn-readable-19"><code>[[readable]]</code></a>
                    或 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-resolved-with">以</a>
                    <code>undefined</code> 解析的 promise（如 <a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute"
                        data-lt="[[readable]]" href="#dfn-readable" class="internalDFN"
                        id="ref-for-dfn-readable-20"><code>[[readable]]</code></a> 为 <code>null</code>）。
                </li>
                <li>令 <var data-type="Promise">abortPromise</var> 为调用
                    <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#writablestream-abort">abort</a> 于
                    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                        data-link-type="attribute" data-lt="[[writable]]" href="#dfn-writable" class="internalDFN"
                        id="ref-for-dfn-writable-6"><code>[[writable]]</code></a>
                    或 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-resolved-with">以</a>
                    <code>undefined</code> 解析的 promise（如 <a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute"
                        data-lt="[[writable]]" href="#dfn-writable" class="internalDFN"
                        id="ref-for-dfn-writable-7"><code>[[writable]]</code></a> 为 <code>null</code>）。
                </li>
                <li>令 <var>pendingClosePromise</var> 为<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#a-new-promise">新 Promise</a>。
                </li>
                <li>如果 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                        data-link-type="attribute" data-lt="[[readable]]" href="#dfn-readable" class="internalDFN"
                        id="ref-for-dfn-readable-21"><code>[[readable]]</code></a> 和
                    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                        data-link-type="attribute" data-lt="[[writable]]" href="#dfn-writable" class="internalDFN"
                        id="ref-for-dfn-writable-8"><code>[[writable]]</code></a> 均为 <code>null</code>，<a
                        data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve">解析</a>
                    <var>pendingClosePromise</var>，值为 <code>undefined</code>。
                </li>
                <li>将 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                        data-link-type="attribute" data-lt="[[pendingClosePromise]]" href="#dfn-pendingclosepromise"
                        class="internalDFN"
                        id="ref-for-dfn-pendingclosepromise-5"><code>[[pendingClosePromise]]</code></a> 设为
                    <var>pendingClosePromise</var>。
                </li>
                <li>令 <var data-type="Promise">combinedPromise</var> 为<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#waiting-for-all-promise">等待全部</a>
                    «<var data-type="Promise">cancelPromise</var>, <var data-type="Promise">abortPromise</var>,
                    <var>pendingClosePromise</var>»。
                </li>
                <li>将 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                        data-link-type="attribute" data-lt="[[state]]" href="#dfn-state" class="internalDFN"
                        id="ref-for-dfn-state-11"><code>[[state]]</code></a> 设为 <code>"closing"</code>。
                </li>
                <li><a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled">对</a>
                    <var data-type="Promise">combinedPromise</var> 做出反应。
                    <ul>
                        <li>如 <var data-type="Promise">combinedPromise</var> 已 fulfill，则：
                            <ol>
                                <li>并行执行如下步骤：
                                    <ol>
                                        <li>调用操作系统关闭串口，并释放对应资源。</li>
                                        <li>将 <a data-link-type="dfn"
                                                href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                                data-link-type="attribute" data-lt="[[state]]" href="#dfn-state"
                                                class="internalDFN" id="ref-for-dfn-state-12"><code>[[state]]</code></a>
                                            设为 <code>"closed"</code>。
                                        </li>
                                        <li>将 <a data-link-type="dfn"
                                                href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                                data-link-type="attribute" data-lt="[[readFatal]]" href="#dfn-readfatal"
                                                class="internalDFN"
                                                id="ref-for-dfn-readfatal-3"><code>[[readFatal]]</code></a> 和
                                            <a data-link-type="dfn"
                                                href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                                data-link-type="attribute" data-lt="[[writeFatal]]"
                                                href="#dfn-writefatal" class="internalDFN"
                                                id="ref-for-dfn-writefatal-3"><code>[[writeFatal]]</code></a> 设为
                                            <code>false</code>。
                                        </li>
                                        <li>将 <a data-link-type="dfn"
                                                href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                                data-link-type="attribute" data-lt="[[pendingClosePromise]]"
                                                href="#dfn-pendingclosepromise" class="internalDFN"
                                                id="ref-for-dfn-pendingclosepromise-6"><code>[[pendingClosePromise]]</code></a>
                                            设为 <code>null</code>。
                                        </li>
                                        <li><a data-link-type="dfn"
                                                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">在相关全局对象</a>
                                            上、使用 <a data-link-type="dfn|abstract-op" href="#dfn-serial-port-task-source"
                                                class="internalDFN" id="ref-for-dfn-serial-port-task-source-15">serial
                                                port task source</a>，<a data-link-type="dfn"
                                                href="https://webidl.spec.whatwg.org/#resolve">解析</a>
                                            <var>promise</var>，值为 <code>undefined</code>。
                                        </li>
                                    </ol>
                                </li>
                            </ol>
                        </li>
                        <li>如 <var data-type="Promise">combinedPromise</var> 被 reason <var>r</var> reject，则：
                            <ol>
                                <li>将 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                        data-link-type="attribute" data-lt="[[pendingClosePromise]]"
                                        href="#dfn-pendingclosepromise" class="internalDFN"
                                        id="ref-for-dfn-pendingclosepromise-7"><code>[[pendingClosePromise]]</code></a>
                                    设为 <code>null</code>。
                                </li>
                                <li><a data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">在相关全局对象</a>
                                    上，使用 <a data-link-type="dfn|abstract-op" href="#dfn-serial-port-task-source"
                                        class="internalDFN" id="ref-for-dfn-serial-port-task-source-16">serial port task
                                        source</a>
                                    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject">拒绝</a>
                                    <var>promise</var>，原因为 <var>r</var>。
                                </li>
                            </ol>
                        </li>
                    </ul>
                </li>
                <li>返回 <var>promise</var>。
                </li>
            </ol>
        </section>
        <section id="forget-method">
            <div class="header-wrapper">
                <h3 id="x4-11-forget-method"><bdi class="secno">4.11 </bdi>
                    <dfn data-export="" data-dfn-type="method" id="dom-serialport-forget" data-idl="operation"
                        data-title="forget()" data-dfn-for="SerialPort" data-type="Promise" data-lt="forget()"
                        data-local-lt="SerialPort.forget|SerialPort.forget()|forget" tabindex="0"
                        aria-haspopup="dialog"><code>forget()</code></dfn> 方法
                </h3><a class="self-link" href="#forget-method" aria-label="Permalink for Section 4.11"></a>
            </div>

            <aside class="example" id="example-8">
                <div class="marker">
                    <a class="self-link" href="#example-8">示例<bdi> 8</bdi></a>
                </div>
                <p>
                    用户可主动撤销其已授权给串口的权限。
                </p>
                <pre aria-busy="false"><code class="hljs js"><span class="hljs-comment">// 请求串口。</span>
<span class="hljs-keyword">const</span> port = <span class="hljs-keyword">await</span> navigator.<span class="hljs-property">serial</span>.<span class="hljs-title function_">requestPort</span>();

<span class="hljs-comment">// 某时……撤销串口权限。</span>
<span class="hljs-keyword">await</span> port.<span class="hljs-title function_">forget</span>();</code></pre>
            </aside>
            <p>
                <a data-link-type="idl" data-lt="forget()" href="#dom-serialport-forget" class="internalDFN"
                    id="ref-for-dom-serialport-forget-2"><code>forget</code></a><code>()</code> 方法的步骤如下：
            </p>
            <ol>
                <li>
                    如果用户代理无法执行（如权限为管理员策略授予），则返回<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#a-promise-resolved-with">以</a>
                    <code>undefined</code> 解析的 promise。
                </li>
                <li>
                    并行执行以下步骤：
                    <ol>
                        <li>将 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                data-link-type="attribute" data-lt="[[state]]" href="#dfn-state" class="internalDFN"
                                id="ref-for-dfn-state-13"><code>[[state]]</code></a> 设为 <code>"forgetting"</code>。
                        </li>
                        <li>将 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a> 从
                            用户此前通过 <a data-link-type="idl" data-lt="requestPort()" href="#dom-serial-requestport"
                                class="internalDFN"
                                id="ref-for-dom-serial-requestport-7"><code>requestPort</code></a><code>()</code>
                            授权访问的串口序列中移除。
                        </li>
                        <li>将 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                data-link-type="attribute" data-lt="[[state]]" href="#dfn-state" class="internalDFN"
                                id="ref-for-dfn-state-14"><code>[[state]]</code></a> 设为 <code>"forgotten"</code>。
                        </li>
                        <li><a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">在相关全局对象</a>上
                            ，使用 <a data-link-type="dfn|abstract-op" href="#dfn-serial-port-task-source"
                                class="internalDFN" id="ref-for-dfn-serial-port-task-source-17">serial port task
                                source</a> 解析 <var>promise</var>，值为
                            <code>undefined</code>。
                        </li>
                    </ol>
                </li>
                <li>返回 <var>promise</var>。
                </li>
            </ol>
        </section>
    </section>
    <section id="blocklist">
        <div class="header-wrapper">
            <h2 id="x5-blocklist"><bdi class="secno">5. </bdi>
                阻止列表
            </h2><a class="self-link" href="#blocklist" aria-label="Permalink for Section 5."></a>
        </div>

        <p>
            本规范依赖于 <a href="https://github.com/WICG/serial">https://github.com/WICG/serial</a>
            仓库中的 blocklist 文件，用于限制网站可访问的端口集合。
        </p>
        <p>
            在 URL <var>url</var> 解析<a id="dfn-parsing-the-bluetooth-service-class-id-blocklist" tabindex="0"
                aria-haspopup="dialog" data-dfn-type="dfn">蓝牙服务类 ID 阻止列表</a>的结果，是一个<a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#list">列表</a>，包含代表自定义服务 ID 的 <a data-link-type="typedef"
                data-lt="UUID"
                href="https://webbluetoothcg.github.io/web-bluetooth/#typedefdef-uuid"><code>UUID</code></a> 值。
        </p>
        <p>
            <dfn id="dfn-serial-port-profile-service-class-id" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">串口配置文件服务类 ID</dfn> 是一个
            <a data-link-type="typedef" data-lt="BluetoothServiceUUID"
                href="https://webbluetoothcg.github.io/web-bluetooth/#typedefdef-bluetoothserviceuuid"><code>BluetoothServiceUUID</code></a>
            ，其值为
            "<code>00001101-0000-1000-8000-00805f9b34fb</code>"。
        </p>
        <p>
            当 {{BluetoothServiceUUID} <var data-type="BluetoothServiceUUID">serviceUuid</var> 满足下列步骤时，
            <dfn id="dfn-blocked-bluetooth-service-class-uuid" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">被阻止的蓝牙服务类 UUID</dfn> 返回 <code>true</code>：
        </p>
        <ol>
            <li>令 <var data-type="UUID">uuid</var> 为调用
                <a data-link-type="interface" data-lt="BluetoothUUID"
                    href="https://webbluetoothcg.github.io/web-bluetooth/#bluetoothuuid"><code>BluetoothUUID</code></a>.<a
                    data-link-type="method" data-lt="getService()"
                    href="https://webbluetoothcg.github.io/web-bluetooth/#dom-bluetoothuuid-getservice"><code>getService</code></a><code>()</code>
                ，参数为 <var data-type="BluetoothServiceUUID">serviceUuid</var> 的结果。
            </li>
            <li>令 <var data-type="list&lt;BluetoothServiceUUID&gt;">blocklist</var> 为
                <a data-link-type="dfn|abstract-op" href="#dfn-parsing-the-bluetooth-service-class-id-blocklist"
                    class="internalDFN" id="ref-for-dfn-parsing-the-bluetooth-service-class-id-blocklist-1">解析蓝牙服务类 ID
                    阻止列表</a>
                ，URL 为 <a
                    href="https://github.com/WICG/serial/blob/main/blocklist.txt">https://github.com/WICG/serial/blob/main/blocklist.txt</a>
                的结果。
            </li>
            <li>如果 <var data-type="list&lt;BluetoothServiceUUID&gt;">blocklist</var> <a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#list-contain">包含</a> <var data-type="UUID">uuid</var>，
                返回 <code>true</code>。
            </li>
            <li>如果 <var data-type="UUID">uuid</var> <a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#string-is">等于</a> <a data-link-type="dfn|abstract-op"
                    href="#dfn-serial-port-profile-service-class-id" class="internalDFN"
                    id="ref-for-dfn-serial-port-profile-service-class-id-2">串口配置文件服务类 ID</a>，
                返回 <code>false</code>。
            </li>
            <li>如果 <var data-type="UUID">uuid</var> <a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#string-ends-with">结尾为</a>
                "<code>-0000-1000-8000-00805f9b34fb</code>"，
                返回 <code>true</code>。
            </li>
            <li>否则，返回 <code>false</code>。
            </li>
        </ol>
    </section>
    <section id="integrations">
        <div class="header-wrapper">
            <h2 id="x6-integrations"><bdi class="secno">6. </bdi>
                集成
            </h2><a class="self-link" href="#integrations" aria-label="Permalink for Section 6."></a>
        </div>

        <section id="permissions-policy">
            <div class="header-wrapper">
                <h3 id="x6-1-permissions-policy"><bdi class="secno">6.1 </bdi>
                    权限策略
                </h3><a class="self-link" href="#permissions-policy" aria-label="Permalink for Section 6.1"></a>
            </div>

            <p>
                本规范定义了一个功能，用于控制 <a data-link-type="idl" href="#dom-navigator-serial" class="internalDFN"
                    id="ref-for-dom-navigator-serial-4"><code>serial</code></a> 属性在
                <a data-link-type="interface" data-lt="Navigator"
                    href="https://html.spec.whatwg.org/multipage/system-state.html#navigator"><code>Navigator</code></a>
                对象上暴露的方法是否可用。
            </p>
            <p>
                本功能的特性名称为 "<dfn data-dfn-for="policy-controlled feature" id="dfn-serial" tabindex="0"
                    aria-haspopup="dialog" data-dfn-type="dfn"><code>serial</code></dfn>"。
            </p>
            <p>
                本功能的<a data-link-type="dfn"
                    href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature-default-allowlist">默认允许列表</a>
                是 <code>'self'</code>。
            </p>
        </section>
    </section>
    <section id="security" class="informative">
        <div class="header-wrapper">
            <h2 id="x7-security-considerations"><bdi class="secno">7. </bdi>
                安全性注意事项
            </h2><a class="self-link" href="#security" aria-label="Permalink for Section 7."></a>
        </div>
        <p><em>本节为非规范性内容。</em></p>
        本 API 与[<cite><a class="bibref" data-link-type="biblio" href="#bib-web-bluetooth"
                title="Web Bluetooth">WEB-BLUETOOTH</a></cite>]和
        [<cite><a class="bibref" data-link-type="biblio" href="#bib-webusb"
                title="WebUSB API">WEBUSB</a></cite>]有类似的安全风险，因此前者的经验同样适用。主要威胁有：
        <ul>
            <li>恶意网站诱导用户授权访问设备，并利用设备的正常功能作恶。例如让机器人造成物理伤害。
            </li>
            <li>恶意网站诱导用户授权访问设备，并向设备刷入恶意固件，从而修改设备的正常能力或攻击主机。例如在主机与该设备通信的软件中触发缓冲区溢出。
            </li>
            <li>被授权访问设备的可信网站被注入恶意代码，做上述任意操作。例如在线固件升级工具被黑后传播恶意固件。
            </li>
            <li>攻击者诱导用户连接恶意设备，该设备再与恶意网站或被攻陷的网站协作，建立面向攻击者的基于 Web 的通信通道。
            </li>
        </ul>主要的缓解措施是
        <a data-link-type="idl" data-lt="requestPort()" href="#dom-serial-requestport" class="internalDFN"
            id="ref-for-dom-serial-requestport-8"><code>requestPort</code></a><code>()</code> 模式，
        该模式要求用户交互且只支持一次授权一个设备访问。这防止了“途经攻击”，因为站点无法遍历所有已连接设备来判断是否有易受攻击的设备，必须由用户明确操作授权。实现还可以提供
        可视化指示，提示当前站点正在与设备通信，并允许用户随时撤销授权。
        <p>
            本规范要求站点必须部署在 <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#secure-context">安全上下文</a>中，以防止基于
            网络的攻击者注入恶意代码。这样在用户做权限决策时，显示的站点身份才是可信的。本规范还要求顶级文档必须通过
            [<cite><a class="bibref" data-link-type="biblio" href="#bib-permissions-policy"
                    title="Permissions Policy">PERMISSIONS-POLICY</a></cite>] 显式声明，跨域 iframe 才能使用本 API。结合
            [<cite><a class="bibref" data-link-type="biblio" href="#bib-csp3"
                    title="Content Security Policy Level 3">CSP3</a></cite>] 可进一步防护代码注入攻击。
        </p>
        <p>
            剩下的问题是，钓鱼攻击可能说服用户授予恶意网站访问设备的权限。这类攻击可以操纵设备的正常功能，也可以刷写恶意固件后攻击主机。主机端软件很可能没有正确校验设备输入而受攻击。安全研究建议
            软件厂商将外部设备视为不可信。
        </p>
        <p>
            没有什么机制可以完全防止这类攻击，因为从页面发给设备的数据是字节流。尝试阻止特定类型数据的做法，很可能被设备厂商以规避手段绕过。
        </p>
        <p>
            用户代理可以实现额外的管理机制来进一步控制设备访问权限：
        </p>
        <ul>
            <li>设置禁用站点调用
                <a data-link-type="idl" data-lt="requestPort()" href="#dom-serial-requestport" class="internalDFN"
                    id="ref-for-dom-serial-requestport-9"><code>requestPort</code></a><code>()</code>，
                除非站点被加入明确允许列表。
                <p>
                    系统管理员可以通过企业策略全局设置。也可以让管理员自动允许部分站点访问特定设备，其它全部拒绝。
                </p>
            </li>
            <li>包含已知易受攻击的硬件设备 ID 列表，用户代理可阻止与这些设备的通信。实现可通过自动更新机制或实验发布机制，动态更新此列表，对正在进行的攻击做出响应。
            </li>
        </ul>[<cite><a class="bibref" data-link-type="biblio" href="#bib-web-bluetooth"
                title="Web Bluetooth">WEB-BLUETOOTH</a></cite>]和[<cite><a class="bibref" data-link-type="biblio"
                href="#bib-webusb" title="WebUSB API">WEBUSB</a></cite>] 的实现都尝试过这些缓解措施，但这些措施有效性有限。首先，很难准确界定设备是否易受攻击。例如，本
        API 允许站点将固件上传到微控制器开发板。这是本 API 面向教育和爱好市场的关键用例。这些开发板通常不校验固件签名，很容易被变成恶意设备。这类开发板显然可被利用但不应被屏蔽。
        <p>
            此外，维护脆弱设备列表在 USB 和蓝牙场景下有效，因为这些协议可以带外获取设备元数据。这样可以识别厂商和型号，即使设备对主机表现为虚拟串口。但还有大量 USB/蓝牙转串口适配器和那些用 DB-25、DE-9 或
            RJ-45 连接的“真”串口。这些场景下没有可读元数据，无法得知设备身份，所以无法屏蔽这类访问。
        </p>
    </section>
    <section id="privacy" class="informative">
        <div class="header-wrapper">
            <h2 id="x8-privacy-considerations"><bdi class="secno">8. </bdi>
                隐私注意事项
            </h2><a class="self-link" href="#privacy" aria-label="Permalink for Section 8."></a>
        </div>
        <p><em>本节为非规范性内容。</em></p>
        串口及其设备涉及两类敏感信息。当串口为 USB 或蓝牙设备时，包含厂商 ID、产品 ID（标识型号）及序列号或 MAC 地址。本身也可能有自有的标识，或通过串口命令等获得。设备内还可能存储其他隐私信息，有些也许能指向身份。
        <p>
            为方便权限管理，实际实现很可能会把 USB 厂商 ID、产品 ID、序列号等存储在用户偏好文件中，作为用户授权访问设备的稳定标识。这些不会直接分享给网站，并且在权限撤销或站点数据整体清除时会被清除。
        </p>
        <p>
            页面在获得设备访问权限后，可以通过命令访问设备已存储的其他敏感信息。参见
            <a href="#security" data-matched-text="[[[#security]]]" class="sec-ref"><bdi class="secno">7. </bdi>
                安全性注意事项</a>，不宜试图通过技术手段限制页面访问这些信息。
        </p>
        <p>
            实现应该让用户完全掌握站点对哪些设备的访问权限，并且在无用户操作时不得自动授权设备访问。<a data-link-type="idl" data-lt="requestPort()"
                href="#dom-serial-requestport" class="internalDFN"
                id="ref-for-dom-serial-requestport-10"><code>requestPort</code></a><code>()</code>
            的设计正是如此。这样可以阻止网站静默遍历和采集所有已连接设备的信息，有点类似文件选择器。站点对文件系统一无所知，只能访问用户指定的文件/目录。实现也可以在标签页或地址栏上显示图标，指示站点正在使用该权限。
        </p>
        <p>
            支持“隐私模式”或“无痕模式”的实现，应保证普通用户配置的权限不会带入隐私会话，并且该会话下授予的权限在结束后不被保留。实现可在隐私会话授权设备访问时提醒用户——如同手动输入身份证一样，这些设备标识和先前提到的唯一特性跨会话追踪用户的风险也必须说明。
        </p>
        <p>
            如果用户不了解本 API 能带来的能力，可能会被授权后突破传统 Web 安全模型的隔离边界感到惊讶。安全 UI 和文档应该明确说明，授权网站访问设备可能让其完全控制设备及设备内数据。
        </p>
    </section>
    <section id="conformance">
        <div class="header-wrapper">
            <h2 id="x9-conformance"><bdi class="secno">9. </bdi>一致性</h2><a class="self-link" href="#conformance"
                aria-label="Permalink for Section 9."></a>
        </div>
        <p>除标记为非规范性内容的章节外，本规范中的所有创作指导、图示、示例和说明均为非规范性内容。其余内容均为规范性。</p>
    </section>
    <section class="appendix" id="acknowledgements">
        <div class="header-wrapper">
            <h2 id="a-acknowledgements"><bdi class="secno">A. </bdi>
                致谢
            </h2><a class="self-link" href="#acknowledgements" aria-label="Permalink for Appendix A."></a>
        </div>
        下列人员为本规范的制定做出贡献：
        <ul id="gh-contributors">
            <li><a href="https://github.com/spookyvision">Anatol Ulrich</a></li>
            <li><a href="https://github.com/cmumford">Chris Mumford</a></li>
            <li><a href="https://github.com/Clemenard">Clément Menard</a></li>
            <li><a href="https://github.com/domenic">Domenic Denicola</a></li>
            <li><a href="https://github.com/dontcallmedom">Dominique Hazael-Massieux</a></li>
            <li><a href="https://github.com/floitsch">Florian Loitsch</a></li>
            <li><a href="https://github.com/Elchi3">Florian Scholz</a></li>
            <li><a href="https://github.com/reconbot">Francis Gulotta</a></li>
            <li><a href="https://github.com/beaufortfrancois">François Beaufort</a></li>
            <li><a href="https://github.com/chengweih001">Jack Hsieh</a></li>
            <li><a href="https://github.com/Keavon">Keavon Chambers</a></li>
            <li><a href="https://github.com/kenchris">Kenneth Rohde Christiansen</a></li>
            <li><a href="https://github.com/marcoscaceres">Marcos Cáceres</a></li>
            <li><a href="https://github.com/marcoscaceres-remote">marcoscaceres-remote</a></li>
            <li><a href="https://github.com/nondebug">Matt Reynolds</a></li>
            <li><a href="https://github.com/melhuishj">melhuishj</a></li>
            <li><a href="https://github.com/MichaelKohler">Michael Kohler</a></li>
            <li><a href="https://github.com/Ms2ger">Ms2ger</a></li>
            <li><a href="https://github.com/reillyeon">Reilly Grant</a></li>
            <li><a href="https://github.com/rwaldron">Rick Waldron</a></li>
            <li><a href="https://github.com/ngsankha">Sankha Narayan Guria</a></li>
            <li><a href="https://github.com/zcorpan">Simon Pieters</a></li>
            <li><a href="https://github.com/noopkat">Suz Hinton</a></li>
            <li><a href="https://github.com/travisleithead">Travis Leithead</a></li>
            <li><a href="https://github.com/scheib">Vincent Scheib</a></li>
        </ul>
    </section>


    <section id="references" class="appendix">
        <div class="header-wrapper">
            <h2 id="b-references"><bdi class="secno">B. </bdi>参考文献</h2><a class="self-link" href="#references"
                aria-label="Permalink for Appendix B."></a>
        </div>
        <section id="normative-references">
            <div class="header-wrapper">
                <h3 id="b-1-normative-references"><bdi class="secno">B.1 </bdi>规范性引用</h3><a class="self-link"
                    href="#normative-references" aria-label="Permalink for Appendix B.1"></a>
            </div>

            <dl class="bibliography">
                <dt id="bib-dom">[dom]</dt>
                <dd>
                    <a href="https://dom.spec.whatwg.org/"><cite>DOM 标准</cite></a>. Anne van Kesteren. WHATWG.
                    实时标准. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-html">[html]</dt>
                <dd>
                    <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML 标准</cite></a>. Anne van Kesteren;
                    Domenic Denicola; Dominic Farolino; Ian Hickson; Philip Jägenstedt; Simon Pieters. WHATWG. 实时标准.
                    URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
                </dd>
                <dt id="bib-infra">[infra]</dt>
                <dd>
                    <a href="https://infra.spec.whatwg.org/"><cite>Infra 标准</cite></a>. Anne van Kesteren; Domenic
                    Denicola. WHATWG. 实时标准. URL: <a
                        href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-permissions-policy">[PERMISSIONS-POLICY]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/permissions-policy-1/"><cite>权限策略</cite></a>. Ian
                    Clelland. W3C. 2025年10月6日. W3C 工作草案. URL: <a
                        href="https://www.w3.org/TR/permissions-policy-1/">https://www.w3.org/TR/permissions-policy-1/</a>
                </dd>
                <dt id="bib-streams">[STREAMS]</dt>
                <dd>
                    <a href="https://streams.spec.whatwg.org/"><cite>流标准</cite></a>. Adam Rice; Domenic
                    Denicola; Mattias Buelens; 吉野剛史 (Takeshi Yoshino). WHATWG. 实时标准. URL: <a
                        href="https://streams.spec.whatwg.org/">https://streams.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-web-bluetooth">[WEB-BLUETOOTH]</dt>
                <dd>
                    <a href="https://webbluetoothcg.github.io/web-bluetooth/"><cite>Web Bluetooth</cite></a>. Jeffrey
                    Yasskin. W3C Web Bluetooth Community Group. 草案社区报告. URL: <a
                        href="https://webbluetoothcg.github.io/web-bluetooth/">https://webbluetoothcg.github.io/web-bluetooth/</a>
                </dd>
                <dt id="bib-webidl">[WEBIDL]</dt>
                <dd>
                    <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL 标准</cite></a>. Edgar Chen; Timothy Gu.
                    WHATWG. 实时标准. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
                </dd>
            </dl>
        </section>
        <section id="informative-references">
            <div class="header-wrapper">
                <h3 id="b-2-informative-references"><bdi class="secno">B.2 </bdi>非规范性引用</h3><a class="self-link"
                    href="#informative-references" aria-label="Permalink for Appendix B.2"></a>
            </div>

            <dl class="bibliography">
                <dt id="bib-csp3">[CSP3]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/CSP3/"><cite>内容安全策略3</cite></a>. Mike West;
                    Antonio Sartori. W3C. 2025年11月6日. W3C 工作草案. URL: <a
                        href="https://www.w3.org/TR/CSP3/">https://www.w3.org/TR/CSP3/</a>
                </dd>
                <dt id="bib-webusb">[WEBUSB]</dt>
                <dd>
                    <a href="https://wicg.github.io/webusb/"><cite>WebUSB API</cite></a>. W3C. 草案社区报告
                    . URL: <a href="https://wicg.github.io/webusb/">https://wicg.github.io/webusb/</a>
                </dd>
            </dl>
        </section>
    </section>
    <p role="navigation" id="back-to-top">
        <a href="#title"><abbr title="Back to Top">↑</abbr></a>
    </p>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-navigator-serial"
        aria-label="Links in this document to definition: serial">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-navigator-serial"
                aria-label="Permalink for definition: serial. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-216783249">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-navigator-serial-1" title="§ 1. Extensions to the Navigator interface">§ 1.
                    Extensions to the Navigator interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-navigator-serial-2" title="§ 1.1 serial attribute">§ 1.1 serial attribute</a>
            </li>
            <li>
                <a href="#ref-for-dom-navigator-serial-3" title="§ 4. SerialPort interface">§ 4. SerialPort
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-navigator-serial-4" title="§ 6.1 Permissions Policy">§ 6.1 Permissions Policy</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-workernavigator-serial"
        aria-label="Links in this document to definition: serial">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-workernavigator-serial"
                aria-label="Permalink for definition: serial. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-169119904">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-workernavigator-serial-1"
                    title="§ 2. Extensions to the WorkerNavigator interface">§ 2. Extensions to the WorkerNavigator
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-workernavigator-serial-2" title="§ 2.1 serial attribute">§ 2.1 serial
                    attribute</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-serial"
        aria-label="Links in this document to definition: Serial">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serial"
                aria-label="Permalink for definition: Serial. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serial-1" title="§ 1. Extensions to the Navigator interface">§ 1. Extensions to
                    the Navigator interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-serial-2" title="§ 1.1 serial attribute">§ 1.1 serial attribute</a>
            </li>
            <li>
                <a href="#ref-for-dom-serial-3" title="§ 2. Extensions to the WorkerNavigator interface">§ 2. Extensions
                    to the WorkerNavigator interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-serial-4" title="§ 2.1 serial attribute">§ 2.1 serial attribute</a>
            </li>
            <li>
                <a href="#ref-for-dom-serial-5" title="§ 3. Serial interface">§ 3. Serial interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-serial-6" title="§ 4. SerialPort interface">§ 4. SerialPort interface</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-serial-requestport"
        aria-label="Links in this document to definition: requestPort()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serial-requestport"
                aria-label="Permalink for definition: requestPort(). Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1469373565">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serial-requestport-1" title="§ 3. Serial interface">§ 3. Serial interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-serial-requestport-2" title="§ 3.1 requestPort() method">§ 3.1 requestPort()
                    method</a> <a href="#ref-for-dom-serial-requestport-3" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-serial-requestport-4" title="§ 3.2 getPorts() method">§ 3.2 getPorts() method</a>
            </li>
            <li>
                <a href="#ref-for-dom-serial-requestport-5" title="§ 4.1 onconnect attribute">§ 4.1 onconnect
                    attribute</a>
            </li>
            <li>
                <a href="#ref-for-dom-serial-requestport-6" title="§ 4.2 ondisconnect attribute">§ 4.2 ondisconnect
                    attribute</a>
            </li>
            <li>
                <a href="#ref-for-dom-serial-requestport-7" title="§ 4.11 forget() method">§ 4.11 forget() method</a>
            </li>
            <li>
                <a href="#ref-for-dom-serial-requestport-8" title="§ 7. Security considerations">§ 7. Security
                    considerations</a> <a href="#ref-for-dom-serial-requestport-9" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-serial-requestport-10" title="§ 8. Privacy considerations">§ 8. Privacy
                    considerations</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-available"
        aria-label="Links in this document to definition: available">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-available"
                aria-label="Permalink for definition: available. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-available-1" title="§ 3.1 requestPort() method">§ 3.1 requestPort() method</a>
            </li>
            <li>
                <a href="#ref-for-dfn-available-2" title="§ 3.2 getPorts() method">§ 3.2 getPorts() method</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-serialportrequestoptions"
        aria-label="Links in this document to definition: SerialPortRequestOptions">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serialportrequestoptions"
                aria-label="Permalink for definition: SerialPortRequestOptions. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1146248160">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serialportrequestoptions-1" title="§ 3. Serial interface">§ 3. Serial
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialportrequestoptions-2" title="§ 3.1.1 SerialPortRequestOptions dictionary">§
                    3.1.1 SerialPortRequestOptions dictionary</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-serialportrequestoptions-filters"
        aria-label="Links in this document to definition: filters">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serialportrequestoptions-filters"
                aria-label="Permalink for definition: filters. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1146248160">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serialportrequestoptions-filters-1" title="§ 3.1 requestPort() method">§ 3.1
                    requestPort() method</a> <a href="#ref-for-dom-serialportrequestoptions-filters-2"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-serialportrequestoptions-filters-3"
                    title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialportrequestoptions-filters-4"
                    title="§ 3.1.1 SerialPortRequestOptions dictionary">§ 3.1.1 SerialPortRequestOptions dictionary</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-serialportrequestoptions-allowedbluetoothserviceclassids"
        aria-label="Links in this document to definition: allowedBluetoothServiceClassIds">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serialportrequestoptions-allowedbluetoothserviceclassids"
                aria-label="Permalink for definition: allowedBluetoothServiceClassIds. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1146248160">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serialportrequestoptions-allowedbluetoothserviceclassids-1"
                    title="§ 3.1 requestPort() method">§ 3.1 requestPort() method</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialportrequestoptions-allowedbluetoothserviceclassids-2"
                    title="§ 3.1.1 SerialPortRequestOptions dictionary">§ 3.1.1 SerialPortRequestOptions dictionary</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-serialportfilter"
        aria-label="Links in this document to definition: SerialPortFilter">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serialportfilter"
                aria-label="Permalink for definition: SerialPortFilter. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-365048672">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serialportfilter-1" title="§ 3.1 requestPort() method">§ 3.1 requestPort()
                    method</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialportfilter-2" title="§ 3.1.1 SerialPortRequestOptions dictionary">§ 3.1.1
                    SerialPortRequestOptions dictionary</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialportfilter-3" title="§ 3.1.2 SerialPortFilter dictionary">§ 3.1.2
                    SerialPortFilter dictionary</a> <a href="#ref-for-dom-serialportfilter-4"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-serialportfilter-usbvendorid"
        aria-label="Links in this document to definition: usbVendorId">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serialportfilter-usbvendorid"
                aria-label="Permalink for definition: usbVendorId. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-365048672">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serialportfilter-usbvendorid-1" title="§ 3.1 requestPort() method">§ 3.1
                    requestPort() method</a> <a href="#ref-for-dom-serialportfilter-usbvendorid-2"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-serialportfilter-usbvendorid-3"
                    title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialportfilter-usbvendorid-4" title="§ 3.1.2 SerialPortFilter dictionary">§
                    3.1.2 SerialPortFilter dictionary</a> <a href="#ref-for-dom-serialportfilter-usbvendorid-5"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-serialportfilter-usbvendorid-6"
                    title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-serialportfilter-usbproductid"
        aria-label="Links in this document to definition: usbProductId">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serialportfilter-usbproductid"
                aria-label="Permalink for definition: usbProductId. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-365048672">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serialportfilter-usbproductid-1" title="§ 3.1 requestPort() method">§ 3.1
                    requestPort() method</a> <a href="#ref-for-dom-serialportfilter-usbproductid-2"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialportfilter-usbproductid-3" title="§ 3.1.2 SerialPortFilter dictionary">§
                    3.1.2 SerialPortFilter dictionary</a> <a href="#ref-for-dom-serialportfilter-usbproductid-4"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-serialportfilter-usbproductid-5"
                    title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-serialportfilter-bluetoothserviceclassid"
        aria-label="Links in this document to definition: bluetoothServiceClassId">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serialportfilter-bluetoothserviceclassid"
                aria-label="Permalink for definition: bluetoothServiceClassId. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-365048672">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serialportfilter-bluetoothserviceclassid-1" title="§ 3.1 requestPort() method">§
                    3.1 requestPort() method</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialportfilter-bluetoothserviceclassid-2"
                    title="§ 3.1.2 SerialPortFilter dictionary">§ 3.1.2 SerialPortFilter dictionary</a> <a
                    href="#ref-for-dom-serialportfilter-bluetoothserviceclassid-3" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-serialportfilter-bluetoothserviceclassid-4" title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-matches-the-filter"
        aria-label="Links in this document to definition: matches the filter">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-matches-the-filter"
                aria-label="Permalink for definition: matches the filter. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-matches-the-filter-1" title="§ 3.1.2 SerialPortFilter dictionary">§ 3.1.2
                    SerialPortFilter dictionary</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-match-any-filter"
        aria-label="Links in this document to definition: matches any filter">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-match-any-filter"
                aria-label="Permalink for definition: matches any filter. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-match-any-filter-1" title="§ 3.1 requestPort() method">§ 3.1 requestPort()
                    method</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-serial-getports"
        aria-label="Links in this document to definition: getPorts()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serial-getports"
                aria-label="Permalink for definition: getPorts(). Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1469373565">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serial-getports-1" title="§ 3. Serial interface">§ 3. Serial interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-serial-getports-2" title="§ 3.2 getPorts() method">§ 3.2 getPorts() method</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-serial-onconnect"
        aria-label="Links in this document to definition: onconnect">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serial-onconnect"
                aria-label="Permalink for definition: onconnect. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1469373565">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serial-onconnect-1" title="§ 3. Serial interface">§ 3. Serial interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-serial-onconnect-2" title="§ 3.3 onconnect attribute">§ 3.3 onconnect
                    attribute</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-connect"
        aria-label="Links in this document to definition: connect">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-connect"
                aria-label="Permalink for definition: connect. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-connect-1" title="§ 4.1 onconnect attribute">§ 4.1 onconnect attribute</a> <a
                    href="#ref-for-dfn-connect-2" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-serial-ondisconnect"
        aria-label="Links in this document to definition: ondisconnect">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serial-ondisconnect"
                aria-label="Permalink for definition: ondisconnect. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1469373565">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serial-ondisconnect-1" title="§ 3. Serial interface">§ 3. Serial interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-serial-ondisconnect-2" title="§ 3.4 ondisconnect attribute">§ 3.4 ondisconnect
                    attribute</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-disconnect"
        aria-label="Links in this document to definition: disconnect">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-disconnect"
                aria-label="Permalink for definition: disconnect. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-disconnect-1" title="§ 4.2 ondisconnect attribute">§ 4.2 ondisconnect
                    attribute</a> <a href="#ref-for-dfn-disconnect-2" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-serialport"
        aria-label="Links in this document to definition: SerialPort">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serialport"
                aria-label="Permalink for definition: SerialPort. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-522066859">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serialport-1" title="§ 3. Serial interface">§ 3. Serial interface</a> <a
                    href="#ref-for-dom-serialport-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialport-3" title="§ 3.1 requestPort() method">§ 3.1 requestPort() method</a> <a
                    href="#ref-for-dom-serialport-4" title="Reference 2">(2)</a> <a href="#ref-for-dom-serialport-5"
                    title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialport-6" title="§ 3.2 getPorts() method">§ 3.2 getPorts() method</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialport-7" title="§ 4. SerialPort interface">§ 4. SerialPort interface</a> <a
                    href="#ref-for-dom-serialport-8" title="Reference 2">(2)</a> <a href="#ref-for-dom-serialport-9"
                    title="Reference 3">(3)</a> <a href="#ref-for-dom-serialport-10" title="Reference 4">(4)</a> <a
                    href="#ref-for-dom-serialport-11" title="Reference 5">(5)</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialport-12" title="§ 4.1 onconnect attribute">§ 4.1 onconnect attribute</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialport-13" title="§ 4.2 ondisconnect attribute">§ 4.2 ondisconnect
                    attribute</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialport-14" title="§ 4.6 readable attribute">§ 4.6 readable attribute</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-serial-port-task-source"
        aria-label="Links in this document to definition: serial port task source">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-serial-port-task-source"
                aria-label="Permalink for definition: serial port task source. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-serial-port-task-source-1" title="§ 3.1 requestPort() method">§ 3.1 requestPort()
                    method</a> <a href="#ref-for-dfn-serial-port-task-source-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-serial-port-task-source-3" title="§ 3.2 getPorts() method">§ 3.2 getPorts()
                    method</a>
            </li>
            <li>
                <a href="#ref-for-dfn-serial-port-task-source-4" title="§ 4.4 open() method">§ 4.4 open() method</a> <a
                    href="#ref-for-dfn-serial-port-task-source-5" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-serial-port-task-source-6" title="§ 4.6 readable attribute">§ 4.6 readable
                    attribute</a> <a href="#ref-for-dfn-serial-port-task-source-7" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-serial-port-task-source-8" title="§ 4.7 writable attribute">§ 4.7 writable
                    attribute</a> <a href="#ref-for-dfn-serial-port-task-source-9" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-serial-port-task-source-10" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-serial-port-task-source-11" title="§ 4.8 setSignals() method">§ 4.8 setSignals()
                    method</a> <a href="#ref-for-dfn-serial-port-task-source-12" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-serial-port-task-source-13" title="§ 4.9 getSignals() method">§ 4.9 getSignals()
                    method</a> <a href="#ref-for-dfn-serial-port-task-source-14" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-serial-port-task-source-15" title="§ 4.10 close() method">§ 4.10 close()
                    method</a> <a href="#ref-for-dfn-serial-port-task-source-16" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-serial-port-task-source-17" title="§ 4.11 forget() method">§ 4.11 forget()
                    method</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-state"
        aria-label="Links in this document to definition: [[state]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-state"
                aria-label="Permalink for definition: [[state]]. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-state-1" title="§ 4.4 open() method">§ 4.4 open() method</a> <a
                    href="#ref-for-dfn-state-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-state-3"
                    title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-state-4" title="§ 4.6 readable attribute">§ 4.6 readable attribute</a> <a
                    href="#ref-for-dfn-state-5" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-state-6" title="§ 4.7 writable attribute">§ 4.7 writable attribute</a> <a
                    href="#ref-for-dfn-state-7" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-state-8" title="§ 4.8 setSignals() method">§ 4.8 setSignals() method</a>
            </li>
            <li>
                <a href="#ref-for-dfn-state-9" title="§ 4.9 getSignals() method">§ 4.9 getSignals() method</a>
            </li>
            <li>
                <a href="#ref-for-dfn-state-10" title="§ 4.10 close() method">§ 4.10 close() method</a> <a
                    href="#ref-for-dfn-state-11" title="Reference 2">(2)</a> <a href="#ref-for-dfn-state-12"
                    title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-state-13" title="§ 4.11 forget() method">§ 4.11 forget() method</a> <a
                    href="#ref-for-dfn-state-14" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-buffersize"
        aria-label="Links in this document to definition: [[bufferSize]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-buffersize"
                aria-label="Permalink for definition: [[bufferSize]]. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-buffersize-1" title="§ 4.4 open() method">§ 4.4 open() method</a>
            </li>
            <li>
                <a href="#ref-for-dfn-buffersize-2" title="§ 4.6 readable attribute">§ 4.6 readable attribute</a>
            </li>
            <li>
                <a href="#ref-for-dfn-buffersize-3" title="§ 4.7 writable attribute">§ 4.7 writable attribute</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-connected"
        aria-label="Links in this document to definition: [[connected]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-connected"
                aria-label="Permalink for definition: [[connected]]. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-connected-1" title="§ 4.1 onconnect attribute">§ 4.1 onconnect attribute</a>
            </li>
            <li>
                <a href="#ref-for-dfn-connected-2" title="§ 4.2 ondisconnect attribute">§ 4.2 ondisconnect attribute</a>
            </li>
            <li>
                <a href="#ref-for-dfn-connected-3" title="§ 4.5 connected attribute">§ 4.5 connected attribute</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-readable"
        aria-label="Links in this document to definition: [[readable]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-readable"
                aria-label="Permalink for definition: [[readable]]. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-readable-1" title="§ 4.6 readable attribute">§ 4.6 readable attribute</a> <a
                    href="#ref-for-dfn-readable-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-readable-3"
                    title="Reference 3">(3)</a> <a href="#ref-for-dfn-readable-4" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-readable-5" title="Reference 5">(5)</a> <a href="#ref-for-dfn-readable-6"
                    title="Reference 6">(6)</a> <a href="#ref-for-dfn-readable-7" title="Reference 7">(7)</a> <a
                    href="#ref-for-dfn-readable-8" title="Reference 8">(8)</a> <a href="#ref-for-dfn-readable-9"
                    title="Reference 9">(9)</a> <a href="#ref-for-dfn-readable-10" title="Reference 10">(10)</a> <a
                    href="#ref-for-dfn-readable-11" title="Reference 11">(11)</a> <a href="#ref-for-dfn-readable-12"
                    title="Reference 12">(12)</a> <a href="#ref-for-dfn-readable-13" title="Reference 13">(13)</a> <a
                    href="#ref-for-dfn-readable-14" title="Reference 14">(14)</a> <a href="#ref-for-dfn-readable-15"
                    title="Reference 15">(15)</a> <a href="#ref-for-dfn-readable-16" title="Reference 16">(16)</a> <a
                    href="#ref-for-dfn-readable-17" title="Reference 17">(17)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-readable-18" title="§ 4.7 writable attribute">§ 4.7 writable attribute</a>
            </li>
            <li>
                <a href="#ref-for-dfn-readable-19" title="§ 4.10 close() method">§ 4.10 close() method</a> <a
                    href="#ref-for-dfn-readable-20" title="Reference 2">(2)</a> <a href="#ref-for-dfn-readable-21"
                    title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-readfatal"
        aria-label="Links in this document to definition: [[readFatal]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-readfatal"
                aria-label="Permalink for definition: [[readFatal]]. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-readfatal-1" title="§ 4.6 readable attribute">§ 4.6 readable attribute</a> <a
                    href="#ref-for-dfn-readfatal-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-readfatal-3" title="§ 4.10 close() method">§ 4.10 close() method</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-writable"
        aria-label="Links in this document to definition: [[writable]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-writable"
                aria-label="Permalink for definition: [[writable]]. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-writable-1" title="§ 4.6 readable attribute">§ 4.6 readable attribute</a>
            </li>
            <li>
                <a href="#ref-for-dfn-writable-2" title="§ 4.7 writable attribute">§ 4.7 writable attribute</a> <a
                    href="#ref-for-dfn-writable-3" title="Reference 2">(2)</a> <a href="#ref-for-dfn-writable-4"
                    title="Reference 3">(3)</a> <a href="#ref-for-dfn-writable-5" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-writable-6" title="§ 4.10 close() method">§ 4.10 close() method</a> <a
                    href="#ref-for-dfn-writable-7" title="Reference 2">(2)</a> <a href="#ref-for-dfn-writable-8"
                    title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-writefatal"
        aria-label="Links in this document to definition: [[writeFatal]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-writefatal"
                aria-label="Permalink for definition: [[writeFatal]]. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-writefatal-1" title="§ 4.7 writable attribute">§ 4.7 writable attribute</a> <a
                    href="#ref-for-dfn-writefatal-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-writefatal-3" title="§ 4.10 close() method">§ 4.10 close() method</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-pendingclosepromise"
        aria-label="Links in this document to definition: [[pendingClosePromise]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-pendingclosepromise"
                aria-label="Permalink for definition: [[pendingClosePromise]]. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-pendingclosepromise-1" title="§ 4.6 readable attribute">§ 4.6 readable
                    attribute</a> <a href="#ref-for-dfn-pendingclosepromise-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-pendingclosepromise-3" title="§ 4.7 writable attribute">§ 4.7 writable
                    attribute</a> <a href="#ref-for-dfn-pendingclosepromise-4" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-pendingclosepromise-5" title="§ 4.10 close() method">§ 4.10 close() method</a> <a
                    href="#ref-for-dfn-pendingclosepromise-6" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-pendingclosepromise-7" title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-serialport-onconnect"
        aria-label="Links in this document to definition: onconnect">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serialport-onconnect"
                aria-label="Permalink for definition: onconnect. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-522066859">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serialport-onconnect-1" title="§ 4. SerialPort interface">§ 4. SerialPort
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialport-onconnect-2" title="§ 4.1 onconnect attribute">§ 4.1 onconnect
                    attribute</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-logically-connected"
        aria-label="Links in this document to definition: logically connected">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-logically-connected"
                aria-label="Permalink for definition: logically connected. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-logically-connected-1" title="§ 4.1 onconnect attribute">§ 4.1 onconnect
                    attribute</a>
            </li>
            <li>
                <a href="#ref-for-dfn-logically-connected-2" title="§ 4.2 ondisconnect attribute">§ 4.2 ondisconnect
                    attribute</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-serialport-ondisconnect"
        aria-label="Links in this document to definition: ondisconnect">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serialport-ondisconnect"
                aria-label="Permalink for definition: ondisconnect. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-522066859">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serialport-ondisconnect-1" title="§ 4. SerialPort interface">§ 4. SerialPort
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialport-ondisconnect-2" title="§ 4.2 ondisconnect attribute">§ 4.2 ondisconnect
                    attribute</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-serialport-getinfo"
        aria-label="Links in this document to definition: getInfo()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serialport-getinfo"
                aria-label="Permalink for definition: getInfo(). Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-522066859">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serialport-getinfo-1" title="§ 3.1.2 SerialPortFilter dictionary">§ 3.1.2
                    SerialPortFilter dictionary</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialport-getinfo-2" title="§ 4. SerialPort interface">§ 4. SerialPort
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialport-getinfo-3" title="§ 4.3 getInfo() method">§ 4.3 getInfo() method</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-serialportinfo"
        aria-label="Links in this document to definition: SerialPortInfo">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serialportinfo"
                aria-label="Permalink for definition: SerialPortInfo. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1960202070">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serialportinfo-1" title="§ 4. SerialPort interface">§ 4. SerialPort interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialportinfo-2" title="§ 4.3.1 SerialPortInfo dictionary">§ 4.3.1 SerialPortInfo
                    dictionary</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-serialportinfo-usbvendorid"
        aria-label="Links in this document to definition: usbVendorId">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serialportinfo-usbvendorid"
                aria-label="Permalink for definition: usbVendorId. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1960202070">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serialportinfo-usbvendorid-1" title="§ 3.1.2 SerialPortFilter dictionary">§ 3.1.2
                    SerialPortFilter dictionary</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialportinfo-usbvendorid-2" title="§ 4.3 getInfo() method">§ 4.3 getInfo()
                    method</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialportinfo-usbvendorid-3" title="§ 4.3.1 SerialPortInfo dictionary">§ 4.3.1
                    SerialPortInfo dictionary</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-serialportinfo-usbproductid"
        aria-label="Links in this document to definition: usbProductId">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serialportinfo-usbproductid"
                aria-label="Permalink for definition: usbProductId. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1960202070">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serialportinfo-usbproductid-1" title="§ 3.1.2 SerialPortFilter dictionary">§ 3.1.2
                    SerialPortFilter dictionary</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialportinfo-usbproductid-2" title="§ 4.3 getInfo() method">§ 4.3 getInfo()
                    method</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialportinfo-usbproductid-3" title="§ 4.3.1 SerialPortInfo dictionary">§ 4.3.1
                    SerialPortInfo dictionary</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-serialportinfo-bluetoothserviceclassid"
        aria-label="Links in this document to definition: bluetoothServiceClassId">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serialportinfo-bluetoothserviceclassid"
                aria-label="Permalink for definition: bluetoothServiceClassId. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1960202070">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serialportinfo-bluetoothserviceclassid-1"
                    title="§ 3.1.2 SerialPortFilter dictionary">§ 3.1.2 SerialPortFilter dictionary</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialportinfo-bluetoothserviceclassid-2" title="§ 4.3 getInfo() method">§ 4.3
                    getInfo() method</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialportinfo-bluetoothserviceclassid-3"
                    title="§ 4.3.1 SerialPortInfo dictionary">§ 4.3.1 SerialPortInfo dictionary</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-serialport-open"
        aria-label="Links in this document to definition: open()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serialport-open"
                aria-label="Permalink for definition: open(). Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-522066859">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serialport-open-1" title="§ 4. SerialPort interface">§ 4. SerialPort interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialport-open-2" title="§ 4.4 open() method">§ 4.4 open() method</a> <a
                    href="#ref-for-dom-serialport-open-3" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-serialoptions"
        aria-label="Links in this document to definition: SerialOptions">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serialoptions"
                aria-label="Permalink for definition: SerialOptions. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-547934505">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serialoptions-1" title="§ 4. SerialPort interface">§ 4. SerialPort interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialoptions-2" title="§ 4.4.1 SerialOptions dictionary">§ 4.4.1 SerialOptions
                    dictionary</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-serialoptions-baudrate"
        aria-label="Links in this document to definition: baudRate">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serialoptions-baudrate"
                aria-label="Permalink for definition: baudRate. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-547934505">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serialoptions-baudrate-1" title="§ 4.4.1 SerialOptions dictionary">§ 4.4.1
                    SerialOptions dictionary</a> <a href="#ref-for-dom-serialoptions-baudrate-2"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-serialoptions-databits"
        aria-label="Links in this document to definition: dataBits">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serialoptions-databits"
                aria-label="Permalink for definition: dataBits. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-547934505">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serialoptions-databits-1" title="§ 4.4 open() method">§ 4.4 open() method</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialoptions-databits-2" title="§ 4.4.1 SerialOptions dictionary">§ 4.4.1
                    SerialOptions dictionary</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-serialoptions-stopbits"
        aria-label="Links in this document to definition: stopBits">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serialoptions-stopbits"
                aria-label="Permalink for definition: stopBits. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-547934505">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serialoptions-stopbits-1" title="§ 4.4 open() method">§ 4.4 open() method</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialoptions-stopbits-2" title="§ 4.4.1 SerialOptions dictionary">§ 4.4.1
                    SerialOptions dictionary</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-serialoptions-parity"
        aria-label="Links in this document to definition: parity">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serialoptions-parity"
                aria-label="Permalink for definition: parity. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-547934505">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serialoptions-parity-1" title="§ 4.4.1 SerialOptions dictionary">§ 4.4.1
                    SerialOptions dictionary</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-serialoptions-buffersize"
        aria-label="Links in this document to definition: bufferSize">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serialoptions-buffersize"
                aria-label="Permalink for definition: bufferSize. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-547934505">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serialoptions-buffersize-1" title="§ 4.4 open() method">§ 4.4 open() method</a> <a
                    href="#ref-for-dom-serialoptions-buffersize-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-serialoptions-buffersize-3" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialoptions-buffersize-4" title="§ 4.4.1 SerialOptions dictionary">§ 4.4.1
                    SerialOptions dictionary</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-serialoptions-flowcontrol"
        aria-label="Links in this document to definition: flowControl">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serialoptions-flowcontrol"
                aria-label="Permalink for definition: flowControl. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-547934505">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serialoptions-flowcontrol-1" title="§ 4.4.1 SerialOptions dictionary">§ 4.4.1
                    SerialOptions dictionary</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paritytype"
        aria-label="Links in this document to definition: ParityType">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-paritytype"
                aria-label="Permalink for definition: ParityType. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-2140913730">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-paritytype-1" title="§ 4.4.1 SerialOptions dictionary">§ 4.4.1 SerialOptions
                    dictionary</a>
            </li>
            <li>
                <a href="#ref-for-dom-paritytype-2" title="§ 4.4.1.1 ParityType enum">§ 4.4.1.1 ParityType enum</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paritytype-none"
        aria-label="Links in this document to definition: none">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-paritytype-none"
                aria-label="Permalink for definition: none. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-2140913730">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-paritytype-none-1" title="§ 4.4.1.1 ParityType enum">§ 4.4.1.1 ParityType enum</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paritytype-even"
        aria-label="Links in this document to definition: even">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-paritytype-even"
                aria-label="Permalink for definition: even. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-2140913730">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-paritytype-even-1" title="§ 4.4.1.1 ParityType enum">§ 4.4.1.1 ParityType enum</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-paritytype-odd"
        aria-label="Links in this document to definition: odd">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-paritytype-odd"
                aria-label="Permalink for definition: odd. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-2140913730">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-paritytype-odd-1" title="§ 4.4.1.1 ParityType enum">§ 4.4.1.1 ParityType enum</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-flowcontroltype"
        aria-label="Links in this document to definition: FlowControlType">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-flowcontroltype"
                aria-label="Permalink for definition: FlowControlType. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1109025009">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-flowcontroltype-1" title="§ 4.4.1 SerialOptions dictionary">§ 4.4.1 SerialOptions
                    dictionary</a>
            </li>
            <li>
                <a href="#ref-for-dom-flowcontroltype-2" title="§ 4.4.1.2 FlowControlType enum">§ 4.4.1.2
                    FlowControlType enum</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-flowcontroltype-none"
        aria-label="Links in this document to definition: none">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-flowcontroltype-none"
                aria-label="Permalink for definition: none. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1109025009">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-flowcontroltype-none-1" title="§ 4.4.1.2 FlowControlType enum">§ 4.4.1.2
                    FlowControlType enum</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-flowcontroltype-hardware"
        aria-label="Links in this document to definition: hardware">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-flowcontroltype-hardware"
                aria-label="Permalink for definition: hardware. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1109025009">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-flowcontroltype-hardware-1" title="§ 4.4.1.2 FlowControlType enum">§ 4.4.1.2
                    FlowControlType enum</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-serialport-connected"
        aria-label="Links in this document to definition: connected">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serialport-connected"
                aria-label="Permalink for definition: connected. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-522066859">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serialport-connected-1" title="§ 4. SerialPort interface">§ 4. SerialPort
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialport-connected-2" title="§ 4.5 connected attribute">§ 4.5 connected
                    attribute</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-serialport-readable"
        aria-label="Links in this document to definition: readable">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serialport-readable"
                aria-label="Permalink for definition: readable. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-522066859">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serialport-readable-1" title="§ 4. SerialPort interface">§ 4. SerialPort
                    interface</a> <a href="#ref-for-dom-serialport-readable-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialport-readable-3" title="§ 4.4 open() method">§ 4.4 open() method</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialport-readable-4" title="§ 4.6 readable attribute">§ 4.6 readable
                    attribute</a> <a href="#ref-for-dom-serialport-readable-5" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-serialport-readable-6" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialport-readable-7" title="§ 4.10 close() method">§ 4.10 close() method</a> <a
                    href="#ref-for-dom-serialport-readable-8" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-serialport-readable-9" title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-handle-closing-the-readable-stream"
        aria-label="Links in this document to definition: handle closing the readable stream">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-handle-closing-the-readable-stream"
                aria-label="Permalink for definition: handle closing the readable stream. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-handle-closing-the-readable-stream-1" title="§ 4.6 readable attribute">§ 4.6
                    readable attribute</a> <a href="#ref-for-dfn-handle-closing-the-readable-stream-2"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-handle-closing-the-readable-stream-3"
                    title="Reference 3">(3)</a> <a href="#ref-for-dfn-handle-closing-the-readable-stream-4"
                    title="Reference 4">(4)</a> <a href="#ref-for-dfn-handle-closing-the-readable-stream-5"
                    title="Reference 5">(5)</a> <a href="#ref-for-dfn-handle-closing-the-readable-stream-6"
                    title="Reference 6">(6)</a> <a href="#ref-for-dfn-handle-closing-the-readable-stream-7"
                    title="Reference 7">(7)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-serialport-writable"
        aria-label="Links in this document to definition: writable">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serialport-writable"
                aria-label="Permalink for definition: writable. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-522066859">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serialport-writable-1" title="§ 4. SerialPort interface">§ 4. SerialPort
                    interface</a> <a href="#ref-for-dom-serialport-writable-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialport-writable-3" title="§ 4.4 open() method">§ 4.4 open() method</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialport-writable-4" title="§ 4.7 writable attribute">§ 4.7 writable
                    attribute</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialport-writable-5" title="§ 4.10 close() method">§ 4.10 close() method</a> <a
                    href="#ref-for-dom-serialport-writable-6" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-serialport-writable-7" title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-handle-closing-the-writable-stream"
        aria-label="Links in this document to definition: handle closing the writable stream">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-handle-closing-the-writable-stream"
                aria-label="Permalink for definition: handle closing the writable stream. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-handle-closing-the-writable-stream-1" title="§ 4.7 writable attribute">§ 4.7
                    writable attribute</a> <a href="#ref-for-dfn-handle-closing-the-writable-stream-2"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-handle-closing-the-writable-stream-3"
                    title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-serialport-setsignals"
        aria-label="Links in this document to definition: setSignals()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serialport-setsignals"
                aria-label="Permalink for definition: setSignals(). Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-522066859">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serialport-setsignals-1" title="§ 4. SerialPort interface">§ 4. SerialPort
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialport-setsignals-2" title="§ 4.8 setSignals() method">§ 4.8 setSignals()
                    method</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-serialoutputsignals"
        aria-label="Links in this document to definition: SerialOutputSignals">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serialoutputsignals"
                aria-label="Permalink for definition: SerialOutputSignals. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1048921348">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serialoutputsignals-1" title="§ 4. SerialPort interface">§ 4. SerialPort
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialoutputsignals-2" title="§ 4.8.1 SerialOutputSignals dictionary">§ 4.8.1
                    SerialOutputSignals dictionary</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-serialoutputsignals-dataterminalready"
        aria-label="Links in this document to definition: dataTerminalReady">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serialoutputsignals-dataterminalready"
                aria-label="Permalink for definition: dataTerminalReady. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1048921348">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serialoutputsignals-dataterminalready-1" title="§ 4.8 setSignals() method">§ 4.8
                    setSignals() method</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialoutputsignals-dataterminalready-2"
                    title="§ 4.8.1 SerialOutputSignals dictionary">§ 4.8.1 SerialOutputSignals dictionary</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-serialoutputsignals-requesttosend"
        aria-label="Links in this document to definition: requestToSend">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serialoutputsignals-requesttosend"
                aria-label="Permalink for definition: requestToSend. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1048921348">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serialoutputsignals-requesttosend-1" title="§ 4.8 setSignals() method">§ 4.8
                    setSignals() method</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialoutputsignals-requesttosend-2"
                    title="§ 4.8.1 SerialOutputSignals dictionary">§ 4.8.1 SerialOutputSignals dictionary</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-serialoutputsignals-break"
        aria-label="Links in this document to definition: break">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serialoutputsignals-break"
                aria-label="Permalink for definition: break. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1048921348">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serialoutputsignals-break-1" title="§ 4.8 setSignals() method">§ 4.8 setSignals()
                    method</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialoutputsignals-break-2" title="§ 4.8.1 SerialOutputSignals dictionary">§
                    4.8.1 SerialOutputSignals dictionary</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-serialport-getsignals"
        aria-label="Links in this document to definition: getSignals()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serialport-getsignals"
                aria-label="Permalink for definition: getSignals(). Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-522066859">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serialport-getsignals-1" title="§ 4. SerialPort interface">§ 4. SerialPort
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialport-getsignals-2" title="§ 4.9 getSignals() method">§ 4.9 getSignals()
                    method</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-serialinputsignals"
        aria-label="Links in this document to definition: SerialInputSignals">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serialinputsignals"
                aria-label="Permalink for definition: SerialInputSignals. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-910464035">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serialinputsignals-1" title="§ 4. SerialPort interface">§ 4. SerialPort
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialinputsignals-2" title="§ 4.9.1 SerialInputSignals dictionary">§ 4.9.1
                    SerialInputSignals dictionary</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-serialinputsignals-datacarrierdetect"
        aria-label="Links in this document to definition: dataCarrierDetect">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serialinputsignals-datacarrierdetect"
                aria-label="Permalink for definition: dataCarrierDetect. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-910464035">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serialinputsignals-datacarrierdetect-1" title="§ 4.9 getSignals() method">§ 4.9
                    getSignals() method</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialinputsignals-datacarrierdetect-2"
                    title="§ 4.9.1 SerialInputSignals dictionary">§ 4.9.1 SerialInputSignals dictionary</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-serialinputsignals-cleartosend"
        aria-label="Links in this document to definition: clearToSend">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serialinputsignals-cleartosend"
                aria-label="Permalink for definition: clearToSend. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-910464035">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serialinputsignals-cleartosend-1" title="§ 4.9 getSignals() method">§ 4.9
                    getSignals() method</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialinputsignals-cleartosend-2" title="§ 4.9.1 SerialInputSignals dictionary">§
                    4.9.1 SerialInputSignals dictionary</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-serialinputsignals-ringindicator"
        aria-label="Links in this document to definition: ringIndicator">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serialinputsignals-ringindicator"
                aria-label="Permalink for definition: ringIndicator. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-910464035">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serialinputsignals-ringindicator-1" title="§ 4.9 getSignals() method">§ 4.9
                    getSignals() method</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialinputsignals-ringindicator-2"
                    title="§ 4.9.1 SerialInputSignals dictionary">§ 4.9.1 SerialInputSignals dictionary</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-serialinputsignals-datasetready"
        aria-label="Links in this document to definition: dataSetReady">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serialinputsignals-datasetready"
                aria-label="Permalink for definition: dataSetReady. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-910464035">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serialinputsignals-datasetready-1" title="§ 4.9 getSignals() method">§ 4.9
                    getSignals() method</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialinputsignals-datasetready-2" title="§ 4.9.1 SerialInputSignals dictionary">§
                    4.9.1 SerialInputSignals dictionary</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-serialport-close"
        aria-label="Links in this document to definition: close()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serialport-close"
                aria-label="Permalink for definition: close(). Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-522066859">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serialport-close-1" title="§ 4. SerialPort interface">§ 4. SerialPort
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialport-close-2" title="§ 4.10 close() method">§ 4.10 close() method</a> <a
                    href="#ref-for-dom-serialport-close-3" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-serialport-close-4" title="Reference 3">(3)</a> <a
                    href="#ref-for-dom-serialport-close-5" title="Reference 4">(4)</a> <a
                    href="#ref-for-dom-serialport-close-6" title="Reference 5">(5)</a> <a
                    href="#ref-for-dom-serialport-close-7" title="Reference 6">(6)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-serialport-forget"
        aria-label="Links in this document to definition: forget()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-serialport-forget"
                aria-label="Permalink for definition: forget(). Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-522066859">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-serialport-forget-1" title="§ 4. SerialPort interface">§ 4. SerialPort
                    interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-serialport-forget-2" title="§ 4.11 forget() method">§ 4.11 forget() method</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-parsing-the-bluetooth-service-class-id-blocklist"
        aria-label="Links in this document to definition: parsing the Bluetooth service class ID blocklist">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-parsing-the-bluetooth-service-class-id-blocklist"
                aria-label="Permalink for definition: parsing the Bluetooth service class ID blocklist. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-parsing-the-bluetooth-service-class-id-blocklist-1" title="§ 5. Blocklist">§ 5.
                    Blocklist</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-serial-port-profile-service-class-id"
        aria-label="Links in this document to definition: Serial Port Profile service class ID">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-serial-port-profile-service-class-id"
                aria-label="Permalink for definition: Serial Port Profile service class ID. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-serial-port-profile-service-class-id-1" title="§ 3.1 requestPort() method">§ 3.1
                    requestPort() method</a>
            </li>
            <li>
                <a href="#ref-for-dfn-serial-port-profile-service-class-id-2" title="§ 5. Blocklist">§ 5. Blocklist</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-blocked-bluetooth-service-class-uuid"
        aria-label="Links in this document to definition: blocked Bluetooth service class UUID">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-blocked-bluetooth-service-class-uuid"
                aria-label="Permalink for definition: blocked Bluetooth service class UUID. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-blocked-bluetooth-service-class-uuid-1" title="§ 3.1 requestPort() method">§ 3.1
                    requestPort() method</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-serial"
        aria-label="Links in this document to definition: serial">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-serial"
                aria-label="Permalink for definition: serial. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-serial-1" title="§ 3.1 requestPort() method">§ 3.1 requestPort() method</a>
            </li>
        </ul>
    </div>
    <script id="respec-highlight-vars">(() => {
            // @ts-check

            if (document.respec) {
                document.respec.ready.then(setupVarHighlighter);
            } else {
                setupVarHighlighter();
            }

            function setupVarHighlighter() {
                document
                    .querySelectorAll("var")
                    .forEach(varElem => varElem.addEventListener("click", highlightListener));
            }

            function highlightListener(ev) {
                ev.stopPropagation();
                const { target: varElem } = ev;
                const hightligtedElems = highlightVars(varElem);
                const resetListener = () => {
                    const hlColor = getHighlightColor(varElem);
                    hightligtedElems.forEach(el => removeHighlight(el, hlColor));
                    [...HL_COLORS.keys()].forEach(key => HL_COLORS.set(key, true));
                };
                if (hightligtedElems.length) {
                    document.body.addEventListener("click", resetListener, { once: true });
                }
            }

            // availability of highlight colors. colors from var.css
            const HL_COLORS = new Map([
                ["respec-hl-c1", true],
                ["respec-hl-c2", true],
                ["respec-hl-c3", true],
                ["respec-hl-c4", true],
                ["respec-hl-c5", true],
                ["respec-hl-c6", true],
                ["respec-hl-c7", true],
            ]);

            function getHighlightColor(target) {
                // return current colors if applicable
                const { value } = target.classList;
                const re = /respec-hl-\w+/;
                const activeClass = re.test(value) && value.match(re);
                if (activeClass) return activeClass[0];

                // first color preference
                if (HL_COLORS.get("respec-hl-c1") === true) return "respec-hl-c1";

                // otherwise get some other available color
                return [...HL_COLORS.keys()].find(c => HL_COLORS.get(c)) || "respec-hl-c1";
            }

            function highlightVars(varElem) {
                const textContent = norm(varElem.textContent);
                const parent = varElem.closest(".algorithm, section");
                const highlightColor = getHighlightColor(varElem);

                const varsToHighlight = [...parent.querySelectorAll("var")].filter(
                    el =>
                        norm(el.textContent) === textContent &&
                        el.closest(".algorithm, section") === parent
                );

                // update availability of highlight color
                const colorStatus = varsToHighlight[0].classList.contains("respec-hl");
                HL_COLORS.set(highlightColor, colorStatus);

                // highlight vars
                if (colorStatus) {
                    varsToHighlight.forEach(el => removeHighlight(el, highlightColor));
                    return [];
                } else {
                    varsToHighlight.forEach(el => addHighlight(el, highlightColor));
                }
                return varsToHighlight;
            }

            function removeHighlight(el, highlightColor) {
                el.classList.remove("respec-hl", highlightColor);
                // clean up empty class attributes so they don't come in export
                if (!el.classList.length) el.removeAttribute("class");
            }

            function addHighlight(elem, highlightColor) {
                elem.classList.add("respec-hl", highlightColor);
            }

            /**
             * Same as `norm` from src/core/utils, but our build process doesn't allow
             * imports in runtime scripts, so duplicated here.
             * @param {string} str
             */
            function norm(str) {
                return str.trim().replace(/\s+/g, " ");
            }
        })()</script>
    <script id="respec-dfn-panel">(() => {
                                               // @ts-check
                                               if (document.respec) {
                                                   document.respec.ready.then(setupPanel);
                                               } else {
                                                   setupPanel();
                                               }

                                               function setupPanel() {
                                                   const listener = panelListener();
                                                   document.body.addEventListener("keydown", listener);
                                                   document.body.addEventListener("click", listener);
                                               }

                                               function panelListener() {
                                                   /** @type {HTMLElement} */
                                                   let panel = null;
                                                   return event => {
                                                       const { target, type } = event;

                                                       if (!(target instanceof HTMLElement)) return;

                                                       // For keys, we only care about Enter key to activate the panel
                                                       // otherwise it's activated via a click.
                                                       if (type === "keydown" && event.key !== "Enter") return;

                                                       const action = deriveAction(event);

                                                       switch (action) {
                                                           case "show": {
                                                               hidePanel(panel);
                                                               /** @type {HTMLElement} */
                                                               const dfn = target.closest("dfn, .index-term");
                                                               panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
                                                               const coords = deriveCoordinates(event);
                                                               displayPanel(dfn, panel, coords);
                                                               break;
                                                           }
                                                           case "dock": {
                                                               panel.style.left = null;
                                                               panel.style.top = null;
                                                               panel.classList.add("docked");
                                                               break;
                                                           }
                                                           case "hide": {
                                                               hidePanel(panel);
                                                               panel = null;
                                                               break;
                                                           }
                                                       }
                                                   };
                                               }

                                               /**
                                                * @param {MouseEvent|KeyboardEvent} event
                                                */
                                               function deriveCoordinates(event) {
                                                   const target = /** @type HTMLElement */ (event.target);

                                                   // We prevent synthetic AT clicks from putting
                                                   // the dialog in a weird place. The AT events sometimes
                                                   // lack coordinates, so they have clientX/Y = 0
                                                   const rect = target.getBoundingClientRect();
                                                   if (
                                                       event instanceof MouseEvent &&
                                                       event.clientX >= rect.left &&
                                                       event.clientY >= rect.top
                                                   ) {
                                                       // The event probably happened inside the bounding rect...
                                                       return { x: event.clientX, y: event.clientY };
                                                   }

                                                   // Offset to the middle of the element
                                                   const x = rect.x + rect.width / 2;
                                                   // Placed at the bottom of the element
                                                   const y = rect.y + rect.height;
                                                   return { x, y };
                                               }

                                               /**
                                                * @param {Event} event
                                                */
                                               function deriveAction(event) {
                                                   const target = /** @type {HTMLElement} */ (event.target);
                                                   const hitALink = !!target.closest("a");
                                                   if (target.closest("dfn:not([data-cite]), .index-term")) {
                                                       return hitALink ? "none" : "show";
                                                   }
                                                   if (target.closest(".dfn-panel")) {
                                                       if (hitALink) {
                                                           return target.classList.contains("self-link") ? "hide" : "dock";
                                                       }
                                                       const panel = target.closest(".dfn-panel");
                                                       return panel.classList.contains("docked") ? "hide" : "none";
                                                   }
                                                   if (document.querySelector(".dfn-panel:not([hidden])")) {
                                                       return "hide";
                                                   }
                                                   return "none";
                                               }

                                               /**
                                                * @param {HTMLElement} dfn
                                                * @param {HTMLElement} panel
                                                * @param {{ x: number, y: number }} clickPosition
                                                */
                                               function displayPanel(dfn, panel, { x, y }) {
                                                   panel.hidden = false;
                                                   // distance (px) between edge of panel and the pointing triangle (caret)
                                                   const MARGIN = 20;

                                                   const dfnRects = dfn.getClientRects();
                                                   // Find the `top` offset when the `dfn` can be spread across multiple lines
                                                   let closestTop = 0;
                                                   let minDiff = Infinity;
                                                   for (const rect of dfnRects) {
                                                       const { top, bottom } = rect;
                                                       const diffFromClickY = Math.abs((top + bottom) / 2 - y);
                                                       if (diffFromClickY < minDiff) {
                                                           minDiff = diffFromClickY;
                                                           closestTop = top;
                                                       }
                                                   }

                                                   const top = window.scrollY + closestTop + dfnRects[0].height;
                                                   const left = x - MARGIN;
                                                   panel.style.left = `${left}px`;
                                                   panel.style.top = `${top}px`;

                                                   // Find if the panel is flowing out of the window
                                                   const panelRect = panel.getBoundingClientRect();
                                                   const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
                                                   if (panelRect.right > SCREEN_WIDTH) {
                                                       const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
                                                       const newCaretOffset = left - newLeft;
                                                       panel.style.left = `${newLeft}px`;
                                                       /** @type {HTMLElement} */
                                                       const caret = panel.querySelector(".caret");
                                                       caret.style.left = `${newCaretOffset}px`;
                                                   }

                                                   // As it's a dialog, we trap focus.
                                                   // TODO: when <dialog> becomes a implemented, we should really
                                                   // use that.
                                                   trapFocus(panel, dfn);
                                               }

                                               /**
                                                * @param {HTMLElement} panel
                                                * @param {HTMLElement} dfn
                                                * @returns
                                                */
                                               function trapFocus(panel, dfn) {
                                                   /** @type NodeListOf<HTMLAnchorElement> elements */
                                                   const anchors = panel.querySelectorAll("a[href]");
                                                   // No need to trap focus
                                                   if (!anchors.length) return;

                                                   // Move focus to first anchor element
                                                   const first = anchors.item(0);
                                                   first.focus();

                                                   const trapListener = createTrapListener(anchors, panel, dfn);
                                                   panel.addEventListener("keydown", trapListener);

                                                   // Hiding the panel releases the trap
                                                   const mo = new MutationObserver(records => {
                                                       const [record] = records;
                                                       const target = /** @type HTMLElement */ (record.target);
                                                       if (target.hidden) {
                                                           panel.removeEventListener("keydown", trapListener);
                                                           mo.disconnect();
                                                       }
                                                   });
                                                   mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });
                                               }

                                               /**
                                                *
                                                * @param {NodeListOf<HTMLAnchorElement>} anchors
                                                * @param {HTMLElement} panel
                                                * @param {HTMLElement} dfn
                                                * @returns
                                                */
                                               function createTrapListener(anchors, panel, dfn) {
                                                   const lastIndex = anchors.length - 1;
                                                   let currentIndex = 0;
                                                   return event => {
                                                       switch (event.key) {
                                                           // Hitting "Tab" traps us in a nice loop around elements.
                                                           case "Tab": {
                                                               event.preventDefault();
                                                               currentIndex += event.shiftKey ? -1 : +1;
                                                               if (currentIndex < 0) {
                                                                   currentIndex = lastIndex;
                                                               } else if (currentIndex > lastIndex) {
                                                                   currentIndex = 0;
                                                               }
                                                               anchors.item(currentIndex).focus();
                                                               break;
                                                           }

                                                           // Hitting "Enter" on an anchor releases the trap.
                                                           case "Enter":
                                                               hidePanel(panel);
                                                               break;

                                                           // Hitting "Escape" returns focus to dfn.
                                                           case "Escape":
                                                               hidePanel(panel);
                                                               dfn.focus();
                                                               return;
                                                       }
                                                   };
                                               }

                                               /** @param {HTMLElement} panel */
                                               function hidePanel(panel) {
                                                   if (!panel) return;
                                                   panel.hidden = true;
                                                   panel.classList.remove("docked");
                                               }
                                           })()</script>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
    <script src="/dropdown.js"></script>
</body>

</html>