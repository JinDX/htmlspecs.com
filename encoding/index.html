<!doctype html>
<html lang="zh-hans">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <meta content="#3c790a" name="theme-color">
    <meta content="light dark" name="color-scheme">
    <title>编码标准</title>
    <link crossorigin href="https://resources.whatwg.org/standard-shared-with-dev.css" rel="stylesheet">
    <link crossorigin href="https://resources.whatwg.org/standard.css" rel="stylesheet">
    <link crossorigin href="https://resources.whatwg.org/spec.css" rel="stylesheet">
    <link crossorigin href="https://resources.whatwg.org/logo-encoding.svg" rel="icon">
    <script crossorigin defer src="https://resources.whatwg.org/commit-snapshot-shortcut-key.js"></script>
    <!-- <meta content="Bikeshed version 275834c42, updated Wed Jun 11 14:18:15 2025 -0700" name="generator">
    <meta content="67494fceee1b95bbc87b58142fcc14e48310f257" name="revision"> -->
    <link crossorigin href="https://encoding.spec.whatwg.org/visualization-colors.css" rel="stylesheet">
    <style>
        /* Boilerplate: style-dfn-panel */
        :root {
            --dfnpanel-bg: #ddd;
            --dfnpanel-text: var(--text);
            --dfnpanel-target-bg: #ffc;
            --dfnpanel-target-outline: orange;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --dfnpanel-bg: #222;
                --dfnpanel-text: var(--text);
                --dfnpanel-target-bg: #333;
                --dfnpanel-target-outline: silver;
            }
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--dfnpanel-bg);
            color: var(--dfnpanel-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .dfn-panel:not(.on) {
            display: none;
        }

        .dfn-panel * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .dfn-panel>b {
            display: block;
        }

        .dfn-panel a {
            color: var(--dfnpanel-text);
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important;
        }

        .dfn-panel a:focus {
            outline: 5px auto Highlight;
            outline: 5px auto -webkit-focus-ring-color;
        }

        .dfn-panel>b+b {
            margin-top: 0.25em;
        }

        .dfn-panel ul {
            padding: 0 0 0 1em;
            list-style: none;
        }

        .dfn-panel li a {
            max-width: calc(300px - 1.5em - 1em);
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: 8px;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
            transition: left 1s ease-out, bottom 1s ease-out;
        }

        .dfn-panel .link-item:hover {
            text-decoration: underline;
        }

        .dfn-panel .link-item .copy-icon {
            opacity: 0;
        }

        .dfn-panel .link-item:hover .copy-icon,
        .dfn-panel .link-item .copy-icon:focus {
            opacity: 1;
        }

        .dfn-panel .copy-icon {
            display: inline-block;
            margin-right: 0.5em;
            width: 0.85em;
            height: 1em;
            border-radius: 3px;
            background-color: #ccc;
            cursor: pointer;
        }

        .dfn-panel .copy-icon .icon {
            width: 100%;
            height: 100%;
            background-color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .dfn-panel .copy-icon .icon::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 1px solid black;
            background-color: #ccc;
            opacity: 0.25;
            transform: translate(3px, -3px);
        }

        .dfn-panel .copy-icon:active .icon::before {
            opacity: 1;
        }

        .dfn-paneled[role="button"] {
            cursor: help;
        }

        .highlighted {
            animation: target-fade 3s;
        }

        @keyframes target-fade {
            from {
                background-color: var(--dfnpanel-target-bg);
                outline: 5px solid var(--dfnpanel-target-outline);
            }

            to {
                color: var(--a-normal-text);
                background-color: transparent;
                outline: transparent;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-mdn-anno */
        :root {
            --mdn-bg: #EEE;
            --mdn-shadow: #999;
            --mdn-nosupport-text: #ccc;
            --mdn-pass: green;
            --mdn-fail: red;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --mdn-bg: #222;
                --mdn-shadow: #444;
                --mdn-nosupport-text: #666;
                --mdn-pass: #690;
                --mdn-fail: #d22;
            }
        }

        .mdn-anno {
            background: var(--mdn-bg, #EEE);
            border-radius: .25em;
            box-shadow: 0 0 3px var(--mdn-shadow, #999);
            color: var(--text, black);
            font: 1em sans-serif;
            hyphens: none;
            max-width: min-content;
            overflow: hidden;
            padding: 0.2em;
            position: absolute;
            right: 0.3em;
            top: auto;
            white-space: nowrap;
            word-wrap: normal;
            z-index: 8;
        }

        .mdn-anno.unpositioned {
            display: none;
        }

        .mdn-anno.overlapping-main {
            opacity: .2;
            transition: opacity .1s;
        }

        .mdn-anno[open] {
            opacity: 1;
            z-index: 9;
            min-width: 9em;
        }

        .mdn-anno:hover {
            opacity: 1;
            outline: var(--text, black) 1px solid;
        }

        .mdn-anno>summary {
            font-weight: normal;
            text-align: right;
            cursor: pointer;
            display: block;
        }

        .mdn-anno>summary>.less-than-two-engines-flag {
            color: var(--mdn-fail);
            padding-right: 2px;
        }

        .mdn-anno>summary>.all-engines-flag {
            color: var(--mdn-pass);
            padding-right: 2px;
        }

        .mdn-anno>summary>span {
            color: #fff;
            background-color: #000;
            font-weight: normal;
            font-family: zillaslab, Palatino, "Palatino Linotype", serif;
            padding: 2px 3px 0px 3px;
            line-height: 1.3em;
            vertical-align: top;
        }

        .mdn-anno>.feature {
            margin-top: 20px;
        }

        .mdn-anno>.feature:not(:first-of-type) {
            border-top: 1px solid #999;
            margin-top: 6px;
            padding-top: 2px;
        }

        .mdn-anno>.feature>.less-than-two-engines-text {
            color: var(--mdn-fail);
        }

        .mdn-anno>.feature>.all-engines-text {
            color: var(--mdn-pass);
        }

        .mdn-anno>.feature>p {
            font-size: .75em;
            margin-top: 6px;
            margin-bottom: 0;
        }

        .mdn-anno>.feature>p+p {
            margin-top: 3px;
        }

        .mdn-anno>.feature>.support {
            display: block;
            font-size: 0.6em;
            margin: 0;
            padding: 0;
            margin-top: 2px;
        }

        .mdn-anno>.feature>.support+div {
            padding-top: 0.5em;
        }

        .mdn-anno>.feature>.support>hr {
            display: block;
            border: none;
            border-top: 1px dotted #999;
            padding: 3px 0px 0px 0px;
            margin: 2px 3px 0px 3px;
        }

        .mdn-anno>.feature>.support>hr::before {
            content: "";
        }

        .mdn-anno>.feature>.support>span {
            padding: 0.2em 0;
            display: block;
            display: table;
        }

        .mdn-anno>.feature>.support>span.no {
            color: var(--mdn-nosupport-text);
            filter: grayscale(100%);
        }

        .mdn-anno>.feature>.support>span.no::before {
            opacity: 0.5;
        }

        .mdn-anno>.feature>.support>span:first-of-type {
            padding-top: 0.5em;
        }

        .mdn-anno>.feature>.support>span>span {
            padding: 0 0.5em;
            display: table-cell;
        }

        .mdn-anno>.feature>.support>span>span:first-child {
            width: 100%;
        }

        .mdn-anno>.feature>.support>span>span:last-child {
            width: 100%;
            white-space: pre;
            padding: 0;
        }

        .mdn-anno>.feature>.support>span::before {
            content: ' ';
            display: table-cell;
            min-width: 1.5em;
            height: 1.5em;
            background: no-repeat center center;
            background-size: contain;
            text-align: right;
            font-size: 0.75em;
            font-weight: bold;
        }

        .mdn-anno>.feature>.support>.chrome_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
        }

        .mdn-anno>.feature>.support>.firefox_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
        }

        .mdn-anno>.feature>.support>.chrome::before {
            background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
        }

        .mdn-anno>.feature>.support>.edge_blink::before {
            background-image: url(https://resources.whatwg.org/browser-logos/edge.svg);
        }

        .mdn-anno>.feature>.support>.edge::before {
            background-image: url(https://resources.whatwg.org/browser-logos/edge_legacy.svg);
        }

        .mdn-anno>.feature>.support>.firefox::before {
            background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
        }

        .mdn-anno>.feature>.support>.ie::before {
            background-image: url(https://resources.whatwg.org/browser-logos/ie.png);
        }

        .mdn-anno>.feature>.support>.safari_ios::before {
            background-image: url(https://resources.whatwg.org/browser-logos/safari-ios.svg);
        }

        .mdn-anno>.feature>.support>.nodejs::before {
            background-image: url(https://nodejs.org/favicon.ico);
        }

        .mdn-anno>.feature>.support>.opera_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
        }

        .mdn-anno>.feature>.support>.opera::before {
            background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
        }

        .mdn-anno>.feature>.support>.safari::before {
            background-image: url(https://resources.whatwg.org/browser-logos/safari.png);
        }

        .mdn-anno>.feature>.support>.samsunginternet_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/samsung.svg);
        }

        .mdn-anno>.feature>.support>.webview_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/android-webview.png);
        }

        .name-slug-mismatch {
            color: red;
        }

        .caniuse-status:hover {
            z-index: 9;
        }

        /* dt, li, .issue, .note, and .example are "position: relative", so to put annotation at right margin, must move to right of containing block */
        ;

        .h-entry:not(.status-LS) dt>.mdn-anno,
        .h-entry:not(.status-LS) li>.mdn-anno,
        .h-entry:not(.status-LS) .issue>.mdn-anno,
        .h-entry:not(.status-LS) .note>.mdn-anno,
        .h-entry:not(.status-LS) .example>.mdn-anno {
            right: -6.7em;
        }

        .h-entry p+.mdn-anno {
            margin-top: 0;
        }

        h2+.mdn-anno.after {
            margin: -48px 0 0 0;
        }

        h3+.mdn-anno.after {
            margin: -46px 0 0 0;
        }

        h4+.mdn-anno.after {
            margin: -42px 0 0 0;
        }

        h5+.mdn-anno.after {
            margin: -40px 0 0 0;
        }

        h6+.mdn-anno.after {
            margin: -40px 0 0 0;
        }
    </style>
    <style>
        /* Boilerplate: style-ref-hints */
        :root {
            --ref-hint-bg: #ddd;
            --ref-hint-text: var(--text);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --ref-hint-bg: #222;
                --ref-hint-text: var(--text);
            }
        }

        .ref-hint {
            display: inline-block;
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.5em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--ref-hint-bg);
            color: var(--ref-hint-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .ref-hint * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .ref-hint ul {
            padding: 0 0 0 1em;
            list-style: none;
        }
    </style>

<body class="h-entry status-LS">
    <div class="head">

        <a class="logo" href="https://whatwg.org/">
            <img alt="WHATWG" class="darkmode-aware" crossorigin height="100"
                src="https://resources.whatwg.org/logo-encoding.svg">
        </a>

        <hgroup>
            <h1 class="p-name no-ref" id="title">编码</h1>
            <p id="subtitle">现行标准 — 最后更新 <time class="dt-updated" datetime="2025-12-03">2025年12月3日</time></p>
        </hgroup>
        <div data-fill-with="spec-metadata">
            <dl>
                <dt>参与：
                <dd><a href="https://github.com/whatwg/encoding">GitHub whatwg/encoding</a> (<a
                        href="https://github.com/whatwg/encoding/issues/new/choose">新问题</a>, <a
                        href="https://github.com/whatwg/encoding/issues">开放问题</a>)
                <dd><a href="https://whatwg.org/chat">在 Matrix 上聊天</a>
                <dt>提交：
                <dd><a href="https://github.com/whatwg/encoding/commits">GitHub whatwg/encoding/commits</a>
                <dd><a href="https://encoding.spec.whatwg.org/commit-snapshots/c319ffe8ff9ed1a480fa69400a8c6c40ce5ff424/"
                        id="commit-snapshot-link">此提交的快照</a>
                <dd><a href="https://twitter.com/encodings">@encodings</a>
                <dt>测试：
                <dd><a href="https://github.com/web-platform-tests/wpt/tree/master/encoding">web-platform-tests
                        encoding/</a> (<a href="https://github.com/web-platform-tests/wpt/labels/encoding">正在进行的工作</a>)
                <dt>翻译 <small>(非规范性)</small>：
                <dd><span title="Japanese"><a href="https://triple-underscore.github.io/Encoding-ja.html" hreflang="ja"
                            lang="ja" rel="alternate">日本語</a></span>
                <dd><span title="Simplified Chinese"><a href="https://htmlspecs.com/encoding/" hreflang="zh-hans"
                            lang="zh-hans" rel="alternate">简体中文</a></span>
                <dd><span title="Korean"><a href="https://ko.htmlspecs.com/encoding/" hreflang="ko" lang="ko"
                            rel="alternate">한국어</a></span>
            </dl>
        </div>
        <div data-fill-with="warning"></div>
    </div>
    <div class="p-summary" data-fill-with="abstract">
        <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">摘要</span></h2>
        <p>编码标准定义了编码及其 JavaScript API。</p>
    </div>
    <nav data-fill-with="table-of-contents" id="toc">
        <h2 class="no-num no-toc no-ref" id="contents">目录</h2>
        <ol class="toc">
            <li><a href="#preface"><span class="secno">1</span> <span class="content">前言</span></a></li>
            <li><a href="#security-background"><span class="secno">2</span> <span class="content">安全背景</span></a></li>
            <li><a href="#terminology"><span class="secno">3</span> <span class="content">术语</span></a></li>
            <li>
                <a href="#encodings"><span class="secno">4</span> <span class="content">编码</span></a>
                <ol class="toc">
                    <li><a href="#encoders-and-decoders"><span class="secno">4.1</span> <span
                                class="content">编码器和解码器</span></a></li>
                    <li><a href="#names-and-labels"><span class="secno">4.2</span> <span
                                class="content">名称和标签</span></a></li>
                    <li><a href="#output-encodings"><span class="secno">4.3</span> <span class="content">输出编码</span></a>
                    </li>
                </ol>
            </li>
            <li><a href="#indexes"><span class="secno">5</span> <span class="content">索引</span></a></li>
            <li>
                <a href="#specification-hooks"><span class="secno">6</span> <span class="content">为标准提供的挂钩</span></a>
                <ol class="toc">
                    <li><a href="#legacy-hooks"><span class="secno">6.1</span> <span
                                class="content">为标准提供的旧版挂钩</span></a>
                    </li>
                </ol>
            </li>
            <li>
                <a href="#api"><span class="secno">7</span> <span class="content">API</span></a>
                <ol class="toc">
                    <li><a href="#interface-mixin-textdecodercommon"><span class="secno">7.1</span> <span
                                class="content">接口混入 <code class="idl"><span>TextDecoderCommon</span></code></span></a>
                    </li>
                    <li><a href="#interface-textdecoder"><span class="secno">7.2</span> <span class="content">接口 <code
                                    class="idl"><span>TextDecoder</span></code></span></a></li>
                    <li><a href="#interface-mixin-textencodercommon"><span class="secno">7.3</span> <span
                                class="content">接口混入 <code class="idl"><span>TextEncoderCommon</span></code></span></a>
                    </li>
                    <li><a href="#interface-textencoder"><span class="secno">7.4</span> <span class="content">接口 <code
                                    class="idl"><span>TextEncoder</span></code></span></a></li>
                    <li><a href="#interface-textdecoderstream"><span class="secno">7.5</span> <span class="content">接口
                                <code class="idl"><span>TextDecoderStream</span></code></span></a></li>
                    <li><a href="#interface-textencoderstream"><span class="secno">7.6</span> <span class="content">接口
                                <code class="idl"><span>TextEncoderStream</span></code></span></a></li>
                </ol>
            </li>
            <li>
                <a href="#the-encoding"><span class="secno">8</span> <span class="content">编码</span></a>
                <ol class="toc">
                    <li>
                        <a href="#utf-8"><span class="secno">8.1</span> <span class="content">UTF-8</span></a>
                        <ol class="toc">
                            <li><a href="#utf-8-decoder"><span class="secno">8.1.1</span> <span class="content">UTF-8
                                        解码器</span></a></li>
                            <li><a href="#utf-8-encoder"><span class="secno">8.1.2</span> <span class="content">UTF-8
                                        编码器</span></a></li>
                        </ol>
                    </li>
                </ol>
            </li>
            <li>
                <a href="#legacy-single-byte-encodings"><span class="secno">9</span> <span
                        class="content">旧式单字节编码</span></a>
                <ol class="toc">
                    <li><a href="#single-byte-decoder"><span class="secno">9.1</span> <span
                                class="content">单字节解码器</span></a></li>
                    <li><a href="#single-byte-encoder"><span class="secno">9.2</span> <span
                                class="content">单字节编码器</span></a></li>
                </ol>
            </li>
            <li>
                <a href="#legacy-multi-byte-chinese-(simplified)-encodings"><span class="secno">10</span> <span
                        class="content">旧式多字节简体中文编码</span></a>
                <ol class="toc">
                    <li>
                        <a href="#gbk"><span class="secno">10.1</span> <span class="content">GBK</span></a>
                        <ol class="toc">
                            <li><a href="#gbk-decoder"><span class="secno">10.1.1</span> <span class="content">GBK
                                        解码器</span></a></li>
                            <li><a href="#gbk-encoder"><span class="secno">10.1.2</span> <span class="content">GBK
                                        编码器</span></a></li>
                        </ol>
                    </li>
                    <li>
                        <a href="#gb18030"><span class="secno">10.2</span> <span class="content">gb18030</span></a>
                        <ol class="toc">
                            <li><a href="#gb18030-decoder"><span class="secno">10.2.1</span> <span
                                        class="content">gb18030 解码器</span></a></li>
                            <li><a href="#gb18030-encoder"><span class="secno">10.2.2</span> <span
                                        class="content">gb18030 编码器</span></a></li>
                        </ol>
                    </li>
                </ol>
            </li>
            <li>
                <a href="#legacy-multi-byte-chinese-(traditional)-encodings"><span class="secno">11</span> <span
                        class="content">旧式多字节繁体中文编码</span></a>
                <ol class="toc">
                    <li>
                        <a href="#big5"><span class="secno">11.1</span> <span class="content">Big5</span></a>
                        <ol class="toc">
                            <li><a href="#big5-decoder"><span class="secno">11.1.1</span> <span class="content">Big5
                                        解码器</span></a></li>
                            <li><a href="#big5-encoder"><span class="secno">11.1.2</span> <span class="content">Big5
                                        编码器</span></a></li>
                        </ol>
                    </li>
                </ol>
            </li>
            <li>
                <a href="#legacy-multi-byte-japanese-encodings"><span class="secno">12</span> <span
                        class="content">旧式多字节日文编码</span></a>
                <ol class="toc">
                    <li>
                        <a href="#euc-jp"><span class="secno">12.1</span> <span class="content">EUC-JP</span></a>
                        <ol class="toc">
                            <li><a href="#euc-jp-decoder"><span class="secno">12.1.1</span> <span class="content">EUC-JP
                                        解码器</span></a></li>
                            <li><a href="#euc-jp-encoder"><span class="secno">12.1.2</span> <span class="content">EUC-JP
                                        编码器</span></a></li>
                        </ol>
                    </li>
                    <li>
                        <a href="#iso-2022-jp"><span class="secno">12.2</span> <span
                                class="content">ISO-2022-JP</span></a>
                        <ol class="toc">
                            <li><a href="#iso-2022-jp-decoder"><span class="secno">12.2.1</span> <span
                                        class="content">ISO-2022-JP 解码器</span></a></li>
                            <li><a href="#iso-2022-jp-encoder"><span class="secno">12.2.2</span> <span
                                        class="content">ISO-2022-JP 编码器</span></a></li>
                        </ol>
                    </li>
                    <li>
                        <a href="#shift_jis"><span class="secno">12.3</span> <span class="content">Shift_JIS</span></a>
                        <ol class="toc">
                            <li><a href="#shift_jis-decoder"><span class="secno">12.3.1</span> <span
                                        class="content">Shift_JIS 解码器</span></a></li>
                            <li><a href="#shift_jis-encoder"><span class="secno">12.3.2</span> <span
                                        class="content">Shift_JIS 编码器</span></a></li>
                        </ol>
                    </li>
                </ol>
            </li>
            <li>
                <a href="#legacy-multi-byte-korean-encodings"><span class="secno">13</span> <span
                        class="content">旧版多字节韩文编码</span></a>
                <ol class="toc">
                    <li>
                        <a href="#euc-kr"><span class="secno">13.1</span> <span class="content">EUC-KR</span></a>
                        <ol class="toc">
                            <li><a href="#euc-kr-decoder"><span class="secno">13.1.1</span> <span class="content">EUC-KR
                                        解码器</span></a></li>
                            <li><a href="#euc-kr-encoder"><span class="secno">13.1.2</span> <span class="content">EUC-KR
                                        编码器</span></a></li>
                        </ol>
                    </li>
                </ol>
            </li>
            <li>
                <a href="#legacy-miscellaneous-encodings"><span class="secno">14</span> <span
                        class="content">旧式杂项编码</span></a>
                <ol class="toc">
                    <li>
                        <a href="#replacement"><span class="secno">14.1</span> <span
                                class="content">replacement</span></a>
                        <ol class="toc">
                            <li><a href="#replacement-decoder"><span class="secno">14.1.1</span> <span
                                        class="content">replacement解码器</span></a></li>
                        </ol>
                    </li>
                    <li>
                        <a href="#common-infrastructure-for-utf-16be-and-utf-16le"><span class="secno">14.2</span> <span
                                class="content">UTF-16BE/LE 的通用基础设施</span></a>
                        <ol class="toc">
                            <li><a href="#shared-utf-16-decoder"><span class="secno">14.2.1</span> <span
                                        class="content">共享 UTF-16 解码器</span></a></li>
                        </ol>
                    </li>
                    <li>
                        <a href="#utf-16be"><span class="secno">14.3</span> <span class="content">UTF-16BE</span></a>
                        <ol class="toc">
                            <li><a href="#utf-16be-decoder"><span class="secno">14.3.1</span> <span
                                        class="content">UTF-16BE 解码器</span></a></li>
                        </ol>
                    </li>
                    <li>
                        <a href="#utf-16le"><span class="secno">14.4</span> <span class="content">UTF-16LE</span></a>
                        <ol class="toc">
                            <li><a href="#utf-16le-decoder"><span class="secno">14.4.1</span> <span
                                        class="content">UTF-16LE 解码器</span></a></li>
                        </ol>
                    </li>
                    <li>
                        <a href="#x-user-defined"><span class="secno">14.5</span> <span
                                class="content">x-user-defined</span></a>
                        <ol class="toc">
                            <li><a href="#x-user-defined-decoder"><span class="secno">14.5.1</span> <span
                                        class="content">x-user-defined 解码器</span></a></li>
                            <li><a href="#x-user-defined-encoder"><span class="secno">14.5.2</span> <span
                                        class="content">x-user-defined 编码器</span></a></li>
                        </ol>
                    </li>
                </ol>
            </li>
            <li><a href="#browser-ui"><span class="secno">15</span> <span class="content">浏览器 UI</span></a></li>
            <li><a href="#implementation-considerations"><span class="secno"></span> <span
                        class="content">实现注意事项</span></a></li>
            <li><a href="#acknowledgments"><span class="secno"></span> <span class="content">致谢</span></a></li>
            <li><a href="#ipr"><span class="secno"></span> <span class="content">知识产权声明</span></a></li>
            <li>
                <a href="#section-index"><span class="secno"></span> <span class="content">索引</span></a>
                <ol class="toc">
                    <li><a href="#index-defined-here"><span class="secno"></span> <span
                                class="content">本规范定义的术语</span></a></li>
                    <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span
                                class="content">引用定义的术语</span></a></li>
                </ol>
            </li>
            <li>
                <a href="#references"><span class="secno"></span> <span class="content">参考文献</span></a>
                <ol class="toc">
                    <li><a href="#normative"><span class="secno"></span> <span class="content">规范性引用</span></a></li>
                    <li><a href="#informative"><span class="secno"></span> <span class="content">参考性引用</span></a></li>
                </ol>
            </li>
            <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL 索引</span></a></li>
        </ol>
    </nav>
    <main>
        <h2 class="heading settled" data-level="1" id="preface"><span class="secno">1. </span><span
                class="content">前言</span><a class="self-link" href="#preface"></a></h2>
        <p>UTF-8 编码是交换 Unicode（通用编码字符集）最合适的编码。因此，对于新协议和格式，以及在新环境中部署的现有格式，本规范要求（并定义）使用 UTF-8 编码。</p>
        <p>其他（旧）编码在过去某种程度上已经被定义。然而，用户代理并未始终以相同的方式实现它们，也未始终使用相同的标签，并且在处理编码的未定义和以前的专有区域时经常有所不同。本规范解决了这些差距，使得新的用户代理无需逆向工程编码实现，而现有的用户代理可以趋于一致。
        </p>
        <p>特别是，本规范定义了所有这些编码、从字节到标量值及其返回的算法、它们的规范名称和识别标签。本规范还定义了一个 API，用于向 JavaScript 暴露部分编码算法。</p>
        <p>用户代理在标签方面也显著偏离了 <a href="https://www.iana.org/assignments/character-sets/character-sets.xhtml">IANA
                字符集注册表</a>中列出的内容。为了阻止进一步传播旧编码，本规范对上述细节进行了详尽的定义，因此不需要注册表。特别是，本规范不提供扩展编码任何方面的机制。</p>

        <h2 class="heading settled" data-level="2" id="security-background"><span class="secno">2. </span><span
                class="content">安全背景</span><a class="self-link" href="#security-background"></a></h2>
        <p>当生产者和消费者对使用的编码或对给定编码的实现方式未达成一致时，会出现一系列编码安全问题。例如，2011 年报告了一次攻击，其中 <a data-link-type="dfn" href="#shift_jis"
                id="ref-for-shift_jis">Shift_JIS</a> 的前导字节 0x82 被用来“掩盖” JSON 资源中某字段的尾随字节
            0x22，该字段由攻击者控制。生产者未发现问题，尽管这是一个非法字节组合。消费者将其解码为单个 U+FFFD（�），因此改变了整体解释，因为
            U+0022（"）是一个重要的分隔符。现在，使用多个字节表示标量值的编码的解码器要求，在非法字节组合的情况下，范围 U+0000 到 U+007F（含）的标量值不能被“掩盖”。对于上述序列，输出将是 U+FFFD
            U+0022。（作为一个不幸的例外，<a data-link-type="dfn" href="#gb18030-decoder" id="ref-for-gb18030-decoder">gb18030
                解码器</a>将在 <a data-link-type="dfn" href="#end-of-stream"
                id="ref-for-end-of-stream">队列末尾</a>最多“掩盖”一个这样的字节。）</p>
        <p>对于将任何 <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-byte" id="ref-for-ascii-byte">ASCII
                字节</a>映射到非 <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-code-point"
                id="ref-for-ascii-code-point">ASCII 代码点</a>的编码（当没有前导字节存在时），这是一个更大的问题。这些是“ASCII 不兼容”编码，除了由于已部署内容而必须支持的 <a
                data-link-type="dfn" href="#iso-2022-jp" id="ref-for-iso-2022-jp">ISO-2022-JP</a> 和 <a
                data-link-type="dfn" href="#utf-16be-le" id="ref-for-utf-16be-le">UTF-16BE/LE</a>，它们不被支持。（正在 <a
                href="https://github.com/whatwg/encoding/issues/8">调查</a>是否可以将更多此类编码的标签映射到 <a data-link-type="dfn"
                href="#replacement"
                id="ref-for-replacement">替代</a>编码，而不是未知编码回退。）一个示例攻击是向资源注入精心设计的内容，然后鼓励用户覆盖编码，从而导致例如脚本执行。</p>
        <p>HTML 和 HTML 表单功能中使用的 URL 编码器在使用无法表示所有标量值的编码时也可能导致轻微的信息丢失。例如，当资源使用 <a data-link-type="dfn"
                href="#windows-1252" id="ref-for-windows-1252">windows-1252</a>
            编码时，服务器将无法区分最终用户在表单中输入“💩”和“&amp;#128169;”。</p>
        <p>当仅使用 UTF-8 时，这里概述的问题将消失，这也是现在所有事物必须使用 UTF-8 编码的众多原因之一。</p>
        <p class="note" role="note">另请参阅 <a href="#browser-ui">浏览器 UI</a>章节。</p>
        <h2 class="heading settled" data-level="3" id="terminology"><span class="secno">3. </span><span
                class="content">术语</span><a class="self-link" href="#terminology"></a></h2>
        <p>本规范依赖于 Infra 标准。<a data-link-type="biblio" href="#biblio-infra" title="Infra 标准">[INFRA]</a></p>
        <p>十六进制数字以 "0x" 为前缀。</p>
        <p>在公式中，所有数字均为整数，加法用 "+" 表示，减法用 "−" 表示，乘法用 "×" 表示，整数除法用 "/" 表示（返回商），取模用 "%" 表示（返回整数除法的余数），逻辑左移用 "&lt;&lt;"
            表示，逻辑右移用 ">>" 表示，按位与用 "&amp;" 表示，按位或用 "|" 表示。</p>
        <p>对于逻辑右移，操作数必须至少具有 21 位精度。</p>
        <hr>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="concept-stream">I/O 队列</dfn> 是一种 <a
                data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list">列表</a>，其 <a
                data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-item"
                id="ref-for-list-item">项</a>具有特定类型（例如 <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte"
                id="ref-for-byte">字节</a>或 <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#scalar-value"
                id="ref-for-scalar-value">标量值</a>）。<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="end-of-stream">队列末尾</dfn> 是一种特殊的 <a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item①">项</a>，可以存在于任何类型的 <a
                data-link-type="dfn" href="#concept-stream" id="ref-for-concept-stream">I/O 队列</a>中，表示队列中没有更多的 <a
                data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item②">项</a>。</p>
        <div class="note" role="note">
            <p>使用 <a data-link-type="dfn" href="#concept-stream" id="ref-for-concept-stream①">I/O
                    队列</a>有两种方式：即时模式，用于表示存储在内存中的 I/O 数据；流模式，用于表示来自网络的数据。即时队列的最后一项是 <a data-link-type="dfn"
                    href="#end-of-stream" id="ref-for-end-of-stream①">队列末尾</a>，而流队列不需要有它，因此它们的 <a data-link-type="dfn"
                    href="#concept-stream-read" id="ref-for-concept-stream-read">读取</a>操作可能会阻塞。</p>
            <p>预计流式 <a data-link-type="dfn" href="#concept-stream" id="ref-for-concept-stream②">I/O
                    队列</a>将被创建为空，并且随着数据从网络进入，会将新的 <a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item③">项</a> <a
                    data-link-type="dfn" href="#concept-stream-push"
                    id="ref-for-concept-stream-push">推入</a>队列。当底层网络流关闭时，应将一个 <a data-link-type="dfn"
                    href="#end-of-stream" id="ref-for-end-of-stream②">队列末尾</a>项 <a data-link-type="dfn"
                    href="#concept-stream-push" id="ref-for-concept-stream-push①">推入</a>队列。</p>
            <p>由于从流式 <a data-link-type="dfn" href="#concept-stream" id="ref-for-concept-stream③">I/O 队列</a>读取可能会阻塞，因此流式
                <a data-link-type="dfn" href="#concept-stream" id="ref-for-concept-stream④">I/O 队列</a>不应从 <a
                    data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop"
                    id="ref-for-event-loop">事件循环</a>中使用，而应在 <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                    id="ref-for-in-parallel">并行</a>中使用。
            </p>
        </div>
        <div class="algorithm" data-algorithm="read" data-algorithm-for="I/O queue">
            <p>要从 <a data-link-type="dfn" href="#concept-stream" id="ref-for-concept-stream⑤">I/O 队列</a>
                <var>ioQueue</var> <dfn class="dfn-paneled" data-dfn-for="I/O queue" data-dfn-type="dfn" data-export
                    id="concept-stream-read">读取</dfn>一个 <a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item④">项</a>，按以下步骤执行：
            </p>
            <ol>
                <li>
                    <p>如果 <var>ioQueue</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty"
                            id="ref-for-list-is-empty">为空</a>，则等待直到其 <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size">长度</a> 至少为 1。</p>
                <li>
                    <p>如果 <var>ioQueue</var>[0] 是 <a data-link-type="dfn" href="#end-of-stream"
                            id="ref-for-end-of-stream③">队列结尾（end-of-queue）</a>，则返回 <a data-link-type="dfn"
                            href="#end-of-stream" id="ref-for-end-of-stream④">队列结尾</a>。</p>
                <li>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove"
                            id="ref-for-list-remove">移除</a> <var>ioQueue</var>[0] 并返回它。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="I/O queue/read items">
            <p>要从 <var>ioQueue</var> 中读取 <var>number</var> 个 <a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item⑤">项</a>，请执行以下步骤：</p>
            <ol>
                <li>
                    <p>令 <var>readItems</var> 为 « »。</p>
                </li>
                <li>
                    <p>执行以下步骤 <var>number</var> 次：</p>
                    <ol>
                        <li>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                                    id="ref-for-list-append">追加</a>到 <var>readItems</var>，结果为从 <var>ioQueue</var> <a
                                    data-link-type="dfn" href="#concept-stream-read"
                                    id="ref-for-concept-stream-read②">读取</a>的一个项。</p>
                        </li>
                    </ol>
                </li>
                <li>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove"
                            id="ref-for-list-remove①">移除</a> <a data-link-type="dfn" href="#end-of-stream"
                            id="ref-for-end-of-stream⑤">队列末尾</a> 从 <var>readItems</var>。</p>
                </li>
                <li>
                    <p>返回 <var>readItems</var>。</p>
                </li>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="peek" data-algorithm-for="I/O queue">
            <p>要从 <a data-link-type="dfn" href="#concept-stream" id="ref-for-concept-stream⑥">I/O 队列</a>
                <var>ioQueue</var> <dfn class="dfn-paneled" data-dfn-for="I/O queue" data-dfn-type="dfn" data-export
                    id="i-o-queue-peek">窥视（peek）</dfn> <var>number</var> 个 <a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item⑥">项</a>，按以下步骤执行：
            </p>
            <ol>
                <li>
                    <p>等待，直到 <var>ioQueue</var> 的 <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size①">长度</a>等于或大于
                        <var>number</var>，或 <var>ioQueue</var><a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain">包含</a> <a
                            data-link-type="dfn" href="#end-of-stream"
                            id="ref-for-end-of-stream⑥">队列结尾（end-of-queue）</a>，以先发生者为准。
                    </p>
                <li>
                    <p>令 <var>prefix</var> 为 « »。</p>
                <li>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                            id="ref-for-list-iterate">对于</a> <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#the-range" id="ref-for-the-range">区间</a> 1 到
                        <var>number</var>（含），中的每个 <var>n</var>：
                    </p>
                    <ol>
                        <li>
                            <p>如果 <var>ioQueue</var>[<var>n</var>] 是 <a data-link-type="dfn" href="#end-of-stream"
                                    id="ref-for-end-of-stream⑦">队列结尾</a>，则 <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#iteration-break"
                                    id="ref-for-iteration-break">跳出</a>循环。</p>
                        <li>
                            <p>否则，<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                                    id="ref-for-list-append①">将</a> <var>ioQueue</var>[<var>n</var>] 追加到
                                <var>prefix</var>。
                            </p>
                    </ol>
                <li>
                    <p>返回 <var>prefix</var>。</p>
            </ol>
        </div>

        <div class="algorithm" data-algorithm="push" data-algorithm-for="I/O queue">
            <p>要向 <a data-link-type="dfn" href="#concept-stream" id="ref-for-concept-stream⑦">I/O 队列</a>
                <var>ioQueue</var> <dfn class="dfn-paneled" data-dfn-for="I/O queue" data-dfn-type="dfn" data-export
                    id="concept-stream-push">推送</dfn>一个 <a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item⑦">项</a>
                <var>item</var>，按以下步骤执行：
            </p>
            <ol>
                <li>
                    <p>如果 <var>ioQueue</var> 的最后一个 <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item⑧">项</a>为 <a
                            data-link-type="dfn" href="#end-of-stream"
                            id="ref-for-end-of-stream⑧">队列结尾（end-of-queue）</a>：</p>
                    <ol>
                        <li>
                            <p>如果 <var>item</var> 也是 <a data-link-type="dfn" href="#end-of-stream"
                                    id="ref-for-end-of-stream⑨">队列结尾</a>，则不做任何操作。</p>
                        <li>
                            <p>否则，<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-insert"
                                    id="ref-for-list-insert">在</a> <var>ioQueue</var> 的最后一个 <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item⑨">项</a>之前插入
                                <var>item</var>。
                            </p>
                    </ol>
                <li>
                    <p>否则，<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                            id="ref-for-list-append②">将</a> <var>item</var> 追加到 <var>ioQueue</var>。</p>
            </ol>
        </div>

        <div class="algorithm" data-algorithm="I/O queue/push items">
            <p>向 <a data-link-type="dfn" href="#concept-stream-push" id="ref-for-concept-stream-push②">I/O 队列</a>
                <var>ioQueue</var> 推送一系列项，是指按照给定顺序，将序列中的每一项依次推送到 <var>ioQueue</var> 中。
            </p>
        </div>
        <div class="algorithm" data-algorithm="restore" data-algorithm-for="I/O queue">
            <p>将一个 <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-item"
                    id="ref-for-list-item①⓪">项</a>（非 <a data-link-type="dfn" href="#end-of-stream"
                    id="ref-for-end-of-stream①⓪">队列结尾（end-of-queue）</a>）<dfn class="dfn-paneled"
                    data-dfn-for="I/O queue" data-dfn-type="dfn" data-noexport id="concept-stream-prepend">恢复</dfn>到 <a
                    data-link-type="dfn" href="#concept-stream" id="ref-for-concept-stream⑨">I/O 队列</a>中，即执行 <a
                    data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①">列表</a>的 <a
                    data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-prepend"
                    id="ref-for-list-prepend">前插（prepend）</a>操作。将一个不含 <a data-link-type="dfn" href="#end-of-stream"
                    id="ref-for-end-of-stream①①">队列结尾</a> 的<a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#list" id="ref-for-list②">项列表</a>恢复到 <a data-link-type="dfn"
                    href="#concept-stream" id="ref-for-concept-stream①⓪">I/O 队列</a>中，则按给定顺序将这些项插入到队列的第一个项之前。
            </p>
        </div>
        <p class="example" id="example-tokens"><a class="self-link" href="#example-tokens"></a>如果向 I/O 队列
            « 0x92 0xA9, <a data-link-type="dfn" href="#end-of-stream" id="ref-for-end-of-stream①②">队列结尾</a> » 插入字节 «
            0xF0, 0x9F »，
            则结果为 I/O 队列 « 0xF0, 0x9F, 0x92 0xA9, <a data-link-type="dfn" href="#end-of-stream"
                id="ref-for-end-of-stream①③">队列结尾</a> »。下一个要读取的项是 0xF0。
        </p>
        <div class="algorithm" data-algorithm="convert" data-algorithm-for="from I/O queue">
            <p>要<dfn class="dfn-paneled" data-dfn-for="from I/O queue" data-dfn-type="dfn" data-noexport
                    id="from-i-o-queue-convert">转换</dfn>一个 <a data-link-type="dfn" href="#concept-stream"
                    id="ref-for-concept-stream①①">I/O 队列</a> <var>ioQueue</var> 为<a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#list" id="ref-for-list③">列表</a>、<a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#string" id="ref-for-string">字符串</a>或<a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence">字节序列</a>，返回从
                <var>ioQueue</var> <a data-link-type="dfn" href="#concept-stream-read"
                    id="ref-for-concept-stream-read③">读取</a>无限数量<a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item①②">项</a>的结果。
            </p>
        </div>
        <div class="algorithm" data-algorithm="convert" data-algorithm-for="to I/O queue">
            <p>要<dfn class="dfn-paneled" data-dfn-for="to I/O queue" data-dfn-type="dfn" data-noexport
                    id="to-i-o-queue-convert">转换</dfn>一个<a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#list" id="ref-for-list④">列表</a>、<a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#string" id="ref-for-string①">字符串</a>或<a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence①">字节序列</a>
                <var>input</var> 为 <a data-link-type="dfn" href="#concept-stream" id="ref-for-concept-stream①②">I/O
                    队列</a>，按照以下步骤操作：
            </p>
            <ol>
                <li>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert"
                            id="ref-for-assert">断言</a>：<var>input</var> 不是 <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑤">列表</a>，或者其中不<a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain"
                            id="ref-for-list-contain①">包含</a> <a data-link-type="dfn" href="#end-of-stream"
                            id="ref-for-end-of-stream①④">队列结尾</a>。
                    </p>
                <li>
                    <p>返回一个 <a data-link-type="dfn" href="#concept-stream" id="ref-for-concept-stream①③">I/O 队列</a>，其内容为
                        <var>input</var> 中的<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-item"
                            id="ref-for-list-item①③">项</a>（按顺序），并在末尾加上 <a data-link-type="dfn" href="#end-of-stream"
                            id="ref-for-end-of-stream①⑤">队列结尾</a>。
                    </p>
            </ol>
        </div>
        <p class="XXX">Infra 标准预计将定义一些关于类型转换的基础设施。详见 <a href="https://github.com/whatwg/infra/issues/319">whatwg/infra
                issue #319</a>。<a data-link-type="biblio" href="#biblio-infra" title="Infra Standard">[INFRA]</a>
        </p>
        <p class="note" role="note"><a data-link-type="dfn" href="#concept-stream" id="ref-for-concept-stream①④">I/O
                队列</a>被定义为<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list"
                id="ref-for-list⑥">列表</a>，而非<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#queue"
                id="ref-for-queue">队列</a>，因为它们包含 <a data-link-type="dfn" href="#concept-stream-prepend"
                id="ref-for-concept-stream-prepend①">恢复</a>操作。然而，这一恢复操作仅是本规范算法的内部细节，不应被其他标准使用。实现可以采用其他方式来实现此类算法，细节见<a
                href="#implementation-considerations">实现注意事项</a>。
        </p>
        <hr>

        <div class="algorithm" data-algorithm="scalar value from surrogates">
            <p>要从代理对中获取一个 <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                    id="scalar-value-from-surrogates">标量值</dfn>，给定一个 <a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#leading-surrogate" id="ref-for-leading-surrogate">前导代理</a>
                <var>leading</var> 和一个 <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#trailing-surrogate"
                    id="ref-for-trailing-surrogate">尾随代理</a> <var>trailing</var>，返回 0x10000 + ((<var>leading</var> −
                0xD800) &lt;&lt; 10) + (<var>trailing</var> − 0xDC00)。
            </p>
        </div>

        <hr>

        <div class="algorithm" data-algorithm="create a Uint8Array object">
            <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="create-a-uint8array-object">创建一个
                    <code>Uint8Array</code> 对象</dfn>，给定一个 <a data-link-type="dfn" href="#concept-stream"
                    id="ref-for-concept-stream①⑤">I/O 队列</a> <var>ioQueue</var> 和 <a data-link-type="dfn"
                    href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#realm"
                    id="ref-for-realm">realm</a> <var>realm</var>：</p>
            <ol>
                <li>
                    <p>令 <var>bytes</var> 为将 <var>ioQueue</var> <a data-link-type="dfn" href="#from-i-o-queue-convert"
                            id="ref-for-from-i-o-queue-convert">转换</a>为字节序列的结果。</p>
                <li>
                    <p>返回在 <var>realm</var> 中用 <var>bytes</var> <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#arraybufferview-create"
                            id="ref-for-arraybufferview-create">创建</a> <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-Uint8Array" id="ref-for-idl-Uint8Array">Uint8Array</a></code>
                        对象的结果。</p>
            </ol>
        </div>
        <h2 class="heading settled" data-level="4" id="encodings"><span class="secno">4. </span><span
                class="content">编码</span><a class="self-link" href="#encodings"></a></h2>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="encoding">编码</dfn>定义了从<a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#scalar-value" id="ref-for-scalar-value①">标量值</a>序列到<a
                data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte"
                id="ref-for-byte①">字节</a>序列（及其反向）的映射。每个<a data-link-type="dfn" href="#encoding"
                id="ref-for-encoding">编码</a>都有一个<dfn class="dfn-paneled" data-dfn-for="encoding" data-dfn-type="dfn"
                data-export id="name">名称</dfn>，以及一个或多个<dfn class="dfn-paneled" data-dfn-for="encoding"
                data-dfn-type="dfn" data-export data-lt="label" id="label">标签</dfn>。</p>
        <p class="note no-backref" role="note">本规范定义了三个与 Unicode 标准中定义的<i>编码方案</i>同名的<a data-link-type="dfn"
                href="#encoding" id="ref-for-encoding①">编码</a>：<a data-link-type="dfn" href="#utf-8"
                id="ref-for-utf-8">UTF-8</a>、<a data-link-type="dfn" href="#utf-16le"
                id="ref-for-utf-16le">UTF-16LE</a>和<a data-link-type="dfn" href="#utf-16be"
                id="ref-for-utf-16be">UTF-16BE</a>。这些<a data-link-type="dfn" href="#encoding"
                id="ref-for-encoding②">编码</a>与<i>编码方案</i>的不同之处在于字节顺序标记（也称为 BOM）的处理不是<a data-link-type="dfn"
                href="#encoding" id="ref-for-encoding③">编码</a>本身的一部分，而是本规范中包装算法的一部分，而字节顺序标记处理是 Unicode
            标准中<i>编码方案</i>定义的一部分。<a data-link-type="dfn" href="#utf-8" id="ref-for-utf-8①">UTF-8</a>与<a
                data-link-type="dfn" href="#utf-8-decode" id="ref-for-utf-8-decode">UTF-8
                解码</a>算法一起使用时，与同名的<i>编码方案</i>匹配。本规范不提供与<a data-link-type="dfn" href="#utf-16le"
                id="ref-for-utf-16le①">UTF-16LE</a>和<a data-link-type="dfn" href="#utf-16be"
                id="ref-for-utf-16be①">UTF-16BE</a>结合以匹配类似名称的<i>编码方案</i>的包装算法。<a data-link-type="biblio"
                href="#biblio-unicode" title="The Unicode Standard">[UNICODE]</a></p>
        <h3 class="heading settled" data-level="4.1" id="encoders-and-decoders"><span class="secno">4.1. </span><span
                class="content">编码器和解码器</span><a class="self-link" href="#encoders-and-decoders"></a></h3>
        <p>每个<a data-link-type="dfn" href="#encoding" id="ref-for-encoding④">编码</a>都有一个关联的<dfn class="dfn-paneled"
                data-dfn-type="dfn" data-noexport id="decoder">解码器</dfn>，并且大多数都有一个关联的<dfn class="dfn-paneled"
                data-dfn-type="dfn" data-noexport id="encoder">编码器</dfn>。<a data-link-type="dfn" href="#decoder"
                id="ref-for-decoder">解码器</a>和<a data-link-type="dfn" href="#encoder"
                id="ref-for-encoder">编码器</a>的实例具有一个<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="handler">处理器</dfn>算法，并可能具有状态。<a data-link-type="dfn" href="#handler"
                id="ref-for-handler">处理器</a>算法接受一个输入<a data-link-type="dfn" href="#concept-stream"
                id="ref-for-concept-stream①⑥">I/O 队列</a>和一个<a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item①④">项</a>，并返回<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-noexport id="finished">完成</dfn>、一个或多个<a
                data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item①⑤">项</a>、<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-noexport id="error">错误</dfn>（可选地带有一个<a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#code-point" id="ref-for-code-point">代码点</a>），或<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-noexport id="continue">继续</dfn>。</p>
        <p class="note no-backref" role="note"><a data-link-type="dfn" href="#replacement"
                id="ref-for-replacement①">替代</a>和<a data-link-type="dfn" href="#utf-16be-le"
                id="ref-for-utf-16be-le①">UTF-16BE/LE</a><a data-link-type="dfn" href="#encoding"
                id="ref-for-encoding⑤">编码</a>没有<a data-link-type="dfn" href="#encoder" id="ref-for-encoder①">编码器</a>。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="error-mode">错误模式</dfn>在以下使用中，对于<a
                data-link-type="dfn" href="#decoder"
                id="ref-for-decoder①">解码器</a>是"<code>replacement</code>"或"<code>fatal</code>"，对于<a data-link-type="dfn"
                href="#encoder" id="ref-for-encoder②">编码器</a>是"<code>fatal</code>"或"<code>html</code>"。</p>
        <p class="note" role="note">XML 处理器会将<a data-link-type="dfn" href="#error-mode"
                id="ref-for-error-mode">错误模式</a>设置为"<code>fatal</code>"。<a data-link-type="biblio" href="#biblio-xml"
                title="Extensible Markup Language (XML) 1.0 (Fifth Edition)">[XML]</a></p>
        <p class="note" role="note">由于 HTML 表单需要一个非终止的旧<a data-link-type="dfn" href="#encoder"
                id="ref-for-encoder③">编码器</a>，"<code>html</code>"作为<a data-link-type="dfn" href="#error-mode"
                id="ref-for-error-mode①">错误模式</a>存在。"<code>html</code>"<a data-link-type="dfn" href="#error-mode"
                id="ref-for-error-mode②">错误模式</a>会导致发出一个无法与合法输入区分的序列，因此可能导致静默的数据丢失。强烈建议开发人员使用<a data-link-type="dfn"
                href="#utf-8" id="ref-for-utf-8②">UTF-8</a><a data-link-type="dfn" href="#encoding"
                id="ref-for-encoding⑥">编码</a>以防止这种情况发生。<a data-link-type="biblio" href="#biblio-html"
                title="HTML Standard">[HTML]</a></p>
        <hr>
        <div class="algorithm" data-algorithm="process a queue">
            <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="process a queue|processing a queue" data-noexport
                    id="concept-encoding-run">处理队列</dfn>，给定一个<a data-link-type="dfn" href="#encoding"
                    id="ref-for-encoding⑦">编码</a>的<a data-link-type="dfn" href="#decoder"
                    id="ref-for-decoder②">解码器</a>或<a data-link-type="dfn" href="#encoder"
                    id="ref-for-encoder④">编码器</a>实例<var>encoderDecoder</var>、<a data-link-type="dfn"
                    href="#concept-stream" id="ref-for-concept-stream①⑦">I/O 队列</a><var>input</var>、<a
                    data-link-type="dfn" href="#concept-stream" id="ref-for-concept-stream①⑧">I/O
                    队列</a><var>output</var>和<a data-link-type="dfn" href="#error-mode"
                    id="ref-for-error-mode③">错误模式</a><var>mode</var>：</p>
            <ol>
                <li>
                    <p>当条件为真时：</p>
                    <ol>
                        <li>
                            <p>令<var>result</var>为通过以下步骤处理一个项的结果：从<var>input</var><a data-link-type="dfn"
                                    href="#concept-stream-read"
                                    id="ref-for-concept-stream-read④">读取</a>、<var>encoderDecoder</var>、<var>input</var>、<var>output</var>和<var>mode</var>。
                            </p>
                        </li>
                        <li>
                            <p>如果<var>result</var>不是<a data-link-type="dfn" href="#continue"
                                    id="ref-for-continue">继续</a>，则返回<var>result</var>。</p>
                        </li>
                    </ol>
                </li>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="process an item">
            <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="process an item|processing an item" data-noexport
                    id="concept-encoding-process">处理一个项</dfn>，给定一个<a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item①⑥">项</a><var>item</var>、一个<a
                    data-link-type="dfn" href="#encoding" id="ref-for-encoding⑧">编码</a>的<a data-link-type="dfn"
                    href="#encoder" id="ref-for-encoder⑤">编码器</a>或<a data-link-type="dfn" href="#decoder"
                    id="ref-for-decoder③">解码器</a>实例<var>encoderDecoder</var>、<a data-link-type="dfn"
                    href="#concept-stream" id="ref-for-concept-stream①⑨">I/O 队列</a><var>input</var>、<a
                    data-link-type="dfn" href="#concept-stream" id="ref-for-concept-stream②⓪">I/O
                    队列</a><var>output</var>和<a data-link-type="dfn" href="#error-mode"
                    id="ref-for-error-mode④">错误模式</a><var>mode</var>：</p>
            <ol>
                <li>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert"
                            id="ref-for-assert①">断言</a>：<var>encoderDecoder</var>不是一个<a data-link-type="dfn"
                            href="#encoder" id="ref-for-encoder⑥">编码器</a>实例或<var>mode</var>不是"<code>replacement</code>"。
                    </p>
                </li>
                <li>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert"
                            id="ref-for-assert②">断言</a>：<var>encoderDecoder</var>不是一个<a data-link-type="dfn"
                            href="#decoder" id="ref-for-decoder④">解码器</a>实例或<var>mode</var>不是"<code>html</code>"。</p>
                </li>
                <li>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert"
                            id="ref-for-assert③">断言</a>：<var>encoderDecoder</var>不是一个<a data-link-type="dfn"
                            href="#encoder" id="ref-for-encoder⑦">编码器</a>实例或<var>item</var>不是一个<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#surrogate" id="ref-for-surrogate">代理</a>。</p>
                </li>
                <li>
                    <p>令<var>result</var>为运行<var>encoderDecoder</var>的<a data-link-type="dfn" href="#handler"
                            id="ref-for-handler①">处理器</a>算法，输入为<var>input</var>和<var>item</var>的结果。</p>
                </li>
                <li>
                    <p>如果<var>result</var>是<a data-link-type="dfn" href="#finished" id="ref-for-finished">完成</a>：</p>
                    <ol>
                        <li>
                            <p><a data-link-type="dfn" href="#concept-stream-push"
                                    id="ref-for-concept-stream-push③">推入</a><a data-link-type="dfn"
                                    href="#end-of-stream" id="ref-for-end-of-stream①⑥">队列末尾</a>到<var>output</var>。</p>
                        </li>
                        <li>
                            <p>返回<var>result</var>。</p>
                        </li>
                    </ol>
                </li>
                <li>
                    <p>否则，如果<var>result</var>是一个或多个<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item①⑦">项</a>：</p>
                    <ol>
                        <li>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert"
                                    id="ref-for-assert④">断言</a>：<var>encoderDecoder</var>不是一个<a data-link-type="dfn"
                                    href="#decoder" id="ref-for-decoder⑤">解码器</a>实例或<var>result</var>不包含任何<a
                                    data-link-type="dfn" href="https://infra.spec.whatwg.org/#surrogate"
                                    id="ref-for-surrogate①">代理</a>。</p>
                        </li>
                        <li>
                            <p><a data-link-type="dfn" href="#concept-stream-push"
                                    id="ref-for-concept-stream-push④">推入</a><var>result</var>到<var>output</var>。</p>
                        </li>
                    </ol>
                </li>
                <li>
                    <p>否则，如果<var>result</var>是一个<a data-link-type="dfn" href="#error"
                            id="ref-for-error">错误</a>，根据<var>mode</var>运行相关步骤：</p>
                    <dl class="switch">
                        <dt>"<code>replacement</code>"
                        <dd><a data-link-type="dfn" href="#concept-stream-push"
                                id="ref-for-concept-stream-push⑤">推入</a>U+FFFD (�)到<var>output</var>。
                        <dt>"<code>html</code>"
                        <dd><a data-link-type="dfn" href="#concept-stream-push"
                                id="ref-for-concept-stream-push⑥">推入</a>0x26 (&amp;), 0x23 (#)，后跟表示<var>result</var>的<a
                                data-link-type="dfn" href="https://infra.spec.whatwg.org/#code-point"
                                id="ref-for-code-point①">代码点</a><a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#code-point-value"
                                id="ref-for-code-point-value">值</a>的最短十进制序列（范围为0x30 (0)到0x39 (9)，含），最后是0x3B
                            (;)到<var>output</var>。
                        <dt>"<code>fatal</code>"
                        <dd>返回<var>result</var>。
                    </dl>
                </li>
                <li>
                    <p>返回<a data-link-type="dfn" href="#continue" id="ref-for-continue①">继续</a>。</p>
                </li>
            </ol>
        </div>
        <h3 class="heading settled" data-level="4.2" id="names-and-labels"><span class="secno">4.2. </span><span
                class="content">名称和标签</span><a class="self-link" href="#names-and-labels"></a></h3>
        <p>下表列出了所有<a data-link-type="dfn" href="#encoding" id="ref-for-encoding⑨">编码</a>及其<a data-link-type="dfn"
                href="#label" id="ref-for-label">标签</a>，用户代理必须支持这些编码和标签。用户代理不得支持任何其他<a data-link-type="dfn"
                href="#encoding" id="ref-for-encoding①⓪">编码</a>或<a data-link-type="dfn" href="#label"
                id="ref-for-label①">标签</a>。</p>
        <p class="note" role="note">对于每个编码，对其<a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#ascii-lowercase" id="ref-for-ascii-lowercase">ASCII 小写化</a>的<a
                data-link-type="dfn" href="#name" id="ref-for-name">名称</a>会生成其一个<a data-link-type="dfn" href="#label"
                id="ref-for-label②">标签</a>。</p>
        <p>作者必须使用<a data-link-type="dfn" href="#utf-8" id="ref-for-utf-8③">UTF-8</a><a data-link-type="dfn"
                href="#encoding" id="ref-for-encoding①①">编码</a>，并且必须使用其（<a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#ascii-case-insensitive" id="ref-for-ascii-case-insensitive">ASCII
                大小写不敏感</a>）"<code>utf-8</code>"<a data-link-type="dfn" href="#label" id="ref-for-label③">标签</a>来标识它。</p>
        <p>新协议和格式，以及在新环境中部署的现有格式，必须仅使用<a data-link-type="dfn" href="#utf-8" id="ref-for-utf-8④">UTF-8</a><a
                data-link-type="dfn" href="#encoding" id="ref-for-encoding①②">编码</a>。如果这些协议和格式需要公开<a
                data-link-type="dfn" href="#encoding" id="ref-for-encoding①③">编码</a>的<a data-link-type="dfn"
                href="#name" id="ref-for-name①">名称</a>或<a data-link-type="dfn" href="#label"
                id="ref-for-label④">标签</a>，它们必须将其公开为"<code>utf-8</code>"。</p>
        <div class="algorithm" data-algorithm="get an encoding">
            <p>要从字符串<var>label</var><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                    data-lt="get an encoding|getting an encoding" id="concept-encoding-get">获取编码</dfn>，请执行以下步骤：</p>
            <ol>
                <li>
                    <p>移除<var>label</var>中的任何前导和尾随<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#ascii-whitespace" id="ref-for-ascii-whitespace">ASCII
                            空白</a>。</p>
                </li>
                <li>
                    <p>如果<var>label</var>与下表中列出的任何标签<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#ascii-case-insensitive"
                            id="ref-for-ascii-case-insensitive①">ASCII 大小写不敏感</a>匹配，则返回对应的<a data-link-type="dfn"
                            href="#encoding" id="ref-for-encoding①④">编码</a>；否则返回失败。</p>
                </li>
            </ol>
        </div>
        <p class="note" role="note">这是一个比<a
                href="https://www.unicode.org/reports/tr22/tr22-8.html#Charset_Alias_Matching">Unicode 技术标准第 22 号第 1.4
                节</a>规定的更基本和更严格的将标签映射到<a data-link-type="dfn" href="#encoding"
                id="ref-for-encoding①⑤">编码</a>的算法，因为这是与已部署内容兼容所必需的。</p>
        <table>
            <thead>
                <tr>
                    <th>名称</th>
                    <th>标签</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <th colspan="2"><a href="#the-encoding">编码</a></th>
                </tr>
                <tr>
                    <td rowspan="6"><a data-link-type="dfn" href="#utf-8" id="ref-for-utf-8⑤">UTF-8</a></td>
                    <td>"<code>unicode-1-1-utf-8</code>"</td>
                </tr>
                <tr>
                    <td>"<code>unicode11utf8</code>"</td>
                </tr>
                <tr>
                    <td>"<code>unicode20utf8</code>"</td>
                </tr>
                <tr>
                    <td>"<code>utf-8</code>"</td>
                </tr>
                <tr>
                    <td>"<code>utf8</code>"</td>
                </tr>
                <tr>
                    <td>"<code>x-unicode20utf8</code>"</td>
                </tr>
                <tr>
                    <th colspan="2"><a href="#legacy-single-byte-encodings">旧单字节编码</a></th>
                </tr>
                <tr>
                    <td rowspan="4"><a data-link-type="dfn" href="#ibm866" id="ref-for-ibm866">IBM866</a></td>
                    <td>"<code>866</code>"</td>
                </tr>
                <tr>
                    <td>"<code>cp866</code>"</td>
                </tr>
                <tr>
                    <td>"<code>csibm866</code>"</td>
                </tr>
                <tr>
                    <td>"<code>ibm866</code>"</td>
                </tr>
                <tr>
                    <td rowspan="9"><a data-link-type="dfn" href="#iso-8859-2" id="ref-for-iso-8859-2">ISO-8859-2</a>
                    </td>
                    <td>"<code>csisolatin2</code>"</td>
                </tr>
                <tr>
                    <td>"<code>iso-8859-2</code>"</td>
                </tr>
                <tr>
                    <td>"<code>iso-ir-101</code>"</td>
                </tr>
                <tr>
                    <td>"<code>iso8859-2</code>"</td>
                </tr>
                <tr>
                    <td>"<code>iso88592</code>"</td>
                </tr>
                <tr>
                    <td>"<code>iso_8859-2</code>"</td>
                </tr>
                <tr>
                    <td>"<code>iso_8859-2:1987</code>"</td>
                </tr>
                <tr>
                    <td>"<code>l2</code>"</td>

                <tr>
                    <td>"<code>latin2</code>"

                <tr>
                    <td rowspan="9"><a data-link-type="dfn" href="#iso-8859-3" id="ref-for-iso-8859-3">ISO-8859-3</a>

                    <td>"<code>csisolatin3</code>"

                <tr>
                    <td>"<code>iso-8859-3</code>"

                <tr>
                    <td>"<code>iso-ir-109</code>"

                <tr>
                    <td>"<code>iso8859-3</code>"

                <tr>
                    <td>"<code>iso88593</code>"

                <tr>
                    <td>"<code>iso_8859-3</code>"

                <tr>
                    <td>"<code>iso_8859-3:1988</code>"

                <tr>
                    <td>"<code>l3</code>"

                <tr>
                    <td>"<code>latin3</code>"

                <tr>
                    <td rowspan="9"><a data-link-type="dfn" href="#iso-8859-4" id="ref-for-iso-8859-4">ISO-8859-4</a>

                    <td>"<code>csisolatin4</code>"

                <tr>
                    <td>"<code>iso-8859-4</code>"

                <tr>
                    <td>"<code>iso-ir-110</code>"

                <tr>
                    <td>"<code>iso8859-4</code>"

                <tr>
                    <td>"<code>iso88594</code>"

                <tr>
                    <td>"<code>iso_8859-4</code>"

                <tr>
                    <td>"<code>iso_8859-4:1988</code>"

                <tr>
                    <td>"<code>l4</code>"

                <tr>
                    <td>"<code>latin4</code>"

                <tr>
                    <td rowspan="8"><a data-link-type="dfn" href="#iso-8859-5" id="ref-for-iso-8859-5">ISO-8859-5</a>

                    <td>"<code>csisolatincyrillic</code>"

                <tr>
                    <td>"<code>cyrillic</code>"

                <tr>
                    <td>"<code>iso-8859-5</code>"

                <tr>
                    <td>"<code>iso-ir-144</code>"

                <tr>
                    <td>"<code>iso8859-5</code>"

                <tr>
                    <td>"<code>iso88595</code>"

                <tr>
                    <td>"<code>iso_8859-5</code>"

                <tr>
                    <td>"<code>iso_8859-5:1988</code>"

                <tr>
                    <td rowspan="14"><a data-link-type="dfn" href="#iso-8859-6" id="ref-for-iso-8859-6">ISO-8859-6</a>

                    <td>"<code>arabic</code>"

                <tr>
                    <td>"<code>asmo-708</code>"

                <tr>
                    <td>"<code>csiso88596e</code>"

                <tr>
                    <td>"<code>csiso88596i</code>"

                <tr>
                    <td>"<code>csisolatinarabic</code>"

                <tr>
                    <td>"<code>ecma-114</code>"

                <tr>
                    <td>"<code>iso-8859-6</code>"

                <tr>
                    <td>"<code>iso-8859-6-e</code>"

                <tr>
                    <td>"<code>iso-8859-6-i</code>"

                <tr>
                    <td>"<code>iso-ir-127</code>"

                <tr>
                    <td>"<code>iso8859-6</code>"

                <tr>
                    <td>"<code>iso88596</code>"

                <tr>
                    <td>"<code>iso_8859-6</code>"

                <tr>
                    <td>"<code>iso_8859-6:1987</code>"

                <tr>
                    <td rowspan="12"><a data-link-type="dfn" href="#iso-8859-7" id="ref-for-iso-8859-7">ISO-8859-7</a>

                    <td>"<code>csisolatingreek</code>"

                <tr>
                    <td>"<code>ecma-118</code>"

                <tr>
                    <td>"<code>elot_928</code>"

                <tr>
                    <td>"<code>greek</code>"

                <tr>
                    <td>"<code>greek8</code>"

                <tr>
                    <td>"<code>iso-8859-7</code>"

                <tr>
                    <td>"<code>iso-ir-126</code>"

                <tr>
                    <td>"<code>iso8859-7</code>"

                <tr>
                    <td>"<code>iso88597</code>"

                <tr>
                    <td>"<code>iso_8859-7</code>"

                <tr>
                    <td>"<code>iso_8859-7:1987</code>"

                <tr>
                    <td>"<code>sun_eu_greek</code>"

                <tr>
                    <td rowspan="11"><a data-link-type="dfn" href="#iso-8859-8" id="ref-for-iso-8859-8">ISO-8859-8</a>

                    <td>"<code>csiso88598e</code>"

                <tr>
                    <td>"<code>csisolatinhebrew</code>"

                <tr>
                    <td>"<code>hebrew</code>"

                <tr>
                    <td>"<code>iso-8859-8</code>"

                <tr>
                    <td>"<code>iso-8859-8-e</code>"

                <tr>
                    <td>"<code>iso-ir-138</code>"

                <tr>
                    <td>"<code>iso8859-8</code>"

                <tr>
                    <td>"<code>iso88598</code>"

                <tr>
                    <td>"<code>iso_8859-8</code>"

                <tr>
                    <td>"<code>iso_8859-8:1988</code>"

                <tr>
                    <td>"<code>visual</code>"

                <tr>
                    <td rowspan="3"><a data-link-type="dfn" href="#iso-8859-8-i"
                            id="ref-for-iso-8859-8-i">ISO-8859-8-I</a>

                    <td>"<code>csiso88598i</code>"

                <tr>
                    <td>"<code>iso-8859-8-i</code>"

                <tr>
                    <td>"<code>logical</code>"

                <tr>
                    <td rowspan="7"><a data-link-type="dfn" href="#iso-8859-10" id="ref-for-iso-8859-10">ISO-8859-10</a>

                    <td>"<code>csisolatin6</code>"

                <tr>
                    <td>"<code>iso-8859-10</code>"

                <tr>
                    <td>"<code>iso-ir-157</code>"

                <tr>
                    <td>"<code>iso8859-10</code>"

                <tr>
                    <td>"<code>iso885910</code>"

                <tr>
                    <td>"<code>l6</code>"

                <tr>
                    <td>"<code>latin6</code>"

                <tr>
                    <td rowspan="3"><a data-link-type="dfn" href="#iso-8859-13" id="ref-for-iso-8859-13">ISO-8859-13</a>

                    <td>"<code>iso-8859-13</code>"

                <tr>
                    <td>"<code>iso8859-13</code>"

                <tr>
                    <td>"<code>iso885913</code>"

                <tr>
                    <td rowspan="3"><a data-link-type="dfn" href="#iso-8859-14" id="ref-for-iso-8859-14">ISO-8859-14</a>

                    <td>"<code>iso-8859-14</code>"

                <tr>
                    <td>"<code>iso8859-14</code>"

                <tr>
                    <td>"<code>iso885914</code>"

                <tr>
                    <td rowspan="6"><a data-link-type="dfn" href="#iso-8859-15" id="ref-for-iso-8859-15">ISO-8859-15</a>

                    <td>"<code>csisolatin9</code>"

                <tr>
                    <td>"<code>iso-8859-15</code>"

                <tr>
                    <td>"<code>iso8859-15</code>"

                <tr>
                    <td>"<code>iso885915</code>"

                <tr>
                    <td>"<code>iso_8859-15</code>"

                <tr>
                    <td>"<code>l9</code>"

                <tr>
                    <td><a data-link-type="dfn" href="#iso-8859-16" id="ref-for-iso-8859-16">ISO-8859-16</a>

                    <td>"<code>iso-8859-16</code>"

                <tr>
                    <td rowspan="5"><a data-link-type="dfn" href="#koi8-r" id="ref-for-koi8-r">KOI8-R</a>

                    <td>"<code>cskoi8r</code>"

                <tr>
                    <td>"<code>koi</code>"

                <tr>
                    <td>"<code>koi8</code>"

                <tr>
                    <td>"<code>koi8-r</code>"

                <tr>
                    <td>"<code>koi8_r</code>"

                <tr>
                    <td rowspan="2"><a data-link-type="dfn" href="#koi8-u" id="ref-for-koi8-u">KOI8-U</a>

                    <td>"<code>koi8-ru</code>"

                <tr>
                    <td>"<code>koi8-u</code>"

                <tr>
                    <td rowspan="4"><a data-link-type="dfn" href="#macintosh" id="ref-for-macintosh">macintosh</a>

                    <td>"<code>csmacintosh</code>"

                <tr>
                    <td>"<code>mac</code>"

                <tr>
                    <td>"<code>macintosh</code>"

                <tr>
                    <td>"<code>x-mac-roman</code>"

                <tr>
                    <td rowspan="6"><a data-link-type="dfn" href="#windows-874" id="ref-for-windows-874">windows-874</a>

                    <td>"<code>dos-874</code>"

                <tr>
                    <td>"<code>iso-8859-11</code>"

                <tr>
                    <td>"<code>iso8859-11</code>"

                <tr>
                    <td>"<code>iso885911</code>"

                <tr>
                    <td>"<code>tis-620</code>"

                <tr>
                    <td>"<code>windows-874</code>"

                <tr>
                    <td rowspan="3"><a data-link-type="dfn" href="#windows-1250"
                            id="ref-for-windows-1250">windows-1250</a>

                    <td>"<code>cp1250</code>"

                <tr>
                    <td>"<code>windows-1250</code>"

                <tr>
                    <td>"<code>x-cp1250</code>"

                <tr>
                    <td rowspan="3"><a data-link-type="dfn" href="#windows-1251"
                            id="ref-for-windows-1251">windows-1251</a>

                    <td>"<code>cp1251</code>"

                <tr>
                    <td>"<code>windows-1251</code>"

                <tr>
                    <td>"<code>x-cp1251</code>"

                <tr>
                    <td rowspan="17">

                        <a data-link-type="dfn" href="#windows-1252" id="ref-for-windows-1252①">windows-1252</a>

                        <p class="note" role="note">参见<a href="#note-latin1-ascii">下文</a>了解与历史上的“Latin1”和“ASCII”概念的关系。
                        </p>
                    <td>"<code>ansi_x3.4-1968</code>"

                <tr>
                    <td>"<code>ascii</code>"

                <tr>
                    <td>"<code>cp1252</code>"

                <tr>
                    <td>"<code>cp819</code>"

                <tr>
                    <td>"<code>csisolatin1</code>"

                <tr>
                    <td>"<code>ibm819</code>"

                <tr>
                    <td>"<code>iso-8859-1</code>"

                <tr>
                    <td>"<code>iso-ir-100</code>"

                <tr>
                    <td>"<code>iso8859-1</code>"

                <tr>
                    <td>"<code>iso88591</code>"

                <tr>
                    <td>"<code>iso_8859-1</code>"

                <tr>
                    <td>"<code>iso_8859-1:1987</code>"

                <tr>
                    <td>"<code>l1</code>"

                <tr>
                    <td>"<code>latin1</code>"

                <tr>
                    <td>"<code>us-ascii</code>"

                <tr>
                    <td>"<code>windows-1252</code>"

                <tr>
                    <td>"<code>x-cp1252</code>"

                <tr>
                    <td rowspan="3"><a data-link-type="dfn" href="#windows-1253"
                            id="ref-for-windows-1253">windows-1253</a>

                    <td>"<code>cp1253</code>"

                <tr>
                    <td>"<code>windows-1253</code>"

                <tr>
                    <td>"<code>x-cp1253</code>"

                <tr>
                    <td rowspan="12"><a data-link-type="dfn" href="#windows-1254"
                            id="ref-for-windows-1254">windows-1254</a>

                    <td>"<code>cp1254</code>"

                <tr>
                    <td>"<code>csisolatin5</code>"

                <tr>
                    <td>"<code>iso-8859-9</code>"

                <tr>
                    <td>"<code>iso-ir-148</code>"

                <tr>
                    <td>"<code>iso8859-9</code>"

                <tr>
                    <td>"<code>iso88599</code>"

                <tr>
                    <td>"<code>iso_8859-9</code>"

                <tr>
                    <td>"<code>iso_8859-9:1989</code>"

                <tr>
                    <td>"<code>l5</code>"

                <tr>
                    <td>"<code>latin5</code>"

                <tr>
                    <td>"<code>windows-1254</code>"

                <tr>
                    <td>"<code>x-cp1254</code>"

                <tr>
                    <td rowspan="3"><a data-link-type="dfn" href="#windows-1255"
                            id="ref-for-windows-1255">windows-1255</a>

                    <td>"<code>cp1255</code>"

                <tr>
                    <td>"<code>windows-1255</code>"

                <tr>
                    <td>"<code>x-cp1255</code>"

                <tr>
                    <td rowspan="3"><a data-link-type="dfn" href="#windows-1256"
                            id="ref-for-windows-1256">windows-1256</a>

                    <td>"<code>cp1256</code>"

                <tr>
                    <td>"<code>windows-1256</code>"

                <tr>
                    <td>"<code>x-cp1256</code>"

                <tr>
                    <td rowspan="3"><a data-link-type="dfn" href="#windows-1257"
                            id="ref-for-windows-1257">windows-1257</a>

                    <td>"<code>cp1257</code>"

                <tr>
                    <td>"<code>windows-1257</code>"

                <tr>
                    <td>"<code>x-cp1257</code>"

                <tr>
                    <td rowspan="3"><a data-link-type="dfn" href="#windows-1258"
                            id="ref-for-windows-1258">windows-1258</a>

                    <td>"<code>cp1258</code>"

                <tr>
                    <td>"<code>windows-1258</code>"

                <tr>
                    <td>"<code>x-cp1258</code>"

                <tr>
                    <td rowspan="2"><a data-link-type="dfn" href="#x-mac-cyrillic"
                            id="ref-for-x-mac-cyrillic">x-mac-cyrillic</a>

                    <td>"<code>x-mac-cyrillic</code>"

                <tr>
                    <td>"<code>x-mac-ukrainian</code>"

            <tbody>
                <tr>
                    <th colspan="2"><a href="#legacy-multi-byte-chinese-(simplified)-encodings">旧多字节中文（简体）编码</a>

                <tr>
                    <td rowspan="9"><a data-link-type="dfn" href="#gbk" id="ref-for-gbk">GBK</a>

                    <td>"<code>chinese</code>"

                <tr>
                    <td>"<code>csgb2312</code>"

                <tr>
                    <td>"<code>csiso58gb231280</code>"

                <tr>
                    <td>"<code>gb2312</code>"

                <tr>
                    <td>"<code>gb_2312</code>"

                <tr>
                    <td>"<code>gb_2312-80</code>"

                <tr>
                    <td>"<code>gbk</code>"

                <tr>
                    <td>"<code>iso-ir-58</code>"

                <tr>
                    <td>"<code>x-gbk</code>"

                <tr>
                    <td><a data-link-type="dfn" href="#gb18030" id="ref-for-gb18030">gb18030</a>

                    <td>"<code>gb18030</code>"

            <tbody>
                <tr>
                    <th colspan="2"><a href="#legacy-multi-byte-chinese-(traditional)-encodings">旧多字节中文（繁体）编码</a>

                <tr>
                    <td rowspan="5"><a data-link-type="dfn" href="#big5" id="ref-for-big5">Big5</a>

                    <td>"<code>big5</code>"

                <tr>
                    <td>"<code>big5-hkscs</code>"

                <tr>
                    <td>"<code>cn-big5</code>"

                <tr>
                    <td>"<code>csbig5</code>"

                <tr>
                    <td>"<code>x-x-big5</code>"

            <tbody>
                <tr>
                    <th colspan="2"><a href="#legacy-multi-byte-japanese-encodings">旧多字节日语编码</a>

                <tr>
                    <td rowspan="3"><a data-link-type="dfn" href="#euc-jp" id="ref-for-euc-jp">EUC-JP</a>

                    <td>"<code>cseucpkdfmtjapanese</code>"

                <tr>
                    <td>"<code>euc-jp</code>"

                <tr>
                    <td>"<code>x-euc-jp</code>"

                <tr>
                    <td rowspan="2"><a data-link-type="dfn" href="#iso-2022-jp"
                            id="ref-for-iso-2022-jp①">ISO-2022-JP</a>

                    <td>"<code>csiso2022jp</code>"

                <tr>
                    <td>"<code>iso-2022-jp</code>"

                <tr>
                    <td rowspan="8"><a data-link-type="dfn" href="#shift_jis" id="ref-for-shift_jis①">Shift_JIS</a>

                    <td>"<code>csshiftjis</code>"

                <tr>
                    <td>"<code>ms932</code>"

                <tr>
                    <td>"<code>ms_kanji</code>"

                <tr>
                    <td>"<code>shift-jis</code>"

                <tr>
                    <td>"<code>shift_jis</code>"

                <tr>
                    <td>"<code>sjis</code>"

                <tr>
                    <td>"<code>windows-31j</code>"

                <tr>
                    <td>"<code>x-sjis</code>"

            <tbody>
                <tr>
                    <th colspan="2"><a href="#legacy-multi-byte-korean-encodings">旧多字节韩语编码</a>
                <tr>
                    <td rowspan="10"><a data-link-type="dfn" href="#euc-kr" id="ref-for-euc-kr">EUC-KR</a>

                    <td>"<code>cseuckr</code>"

                <tr>
                    <td>"<code>csksc56011987</code>"

                <tr>
                    <td>"<code>euc-kr</code>"

                <tr>
                    <td>"<code>iso-ir-149</code>"

                <tr>
                    <td>"<code>korean</code>"

                <tr>
                    <td>"<code>ks_c_5601-1987</code>"

                <tr>
                    <td>"<code>ks_c_5601-1989</code>"

                <tr>
                    <td>"<code>ksc5601</code>"

                <tr>
                    <td>"<code>ksc_5601</code>"

                <tr>
                    <td>"<code>windows-949</code>"

            <tbody>
                <tr>
                    <th colspan="2"><a href="#legacy-miscellaneous-encodings">旧杂项编码</a>
                <tr>
                    <td rowspan="6"><a data-link-type="dfn" href="#replacement"
                            id="ref-for-replacement②">replacement</a>

                    <td>"<code>csiso2022kr</code>"

                <tr>
                    <td>"<code>hz-gb-2312</code>"

                <tr>
                    <td>"<code>iso-2022-cn</code>"

                <tr>
                    <td>"<code>iso-2022-cn-ext</code>"

                <tr>
                    <td>"<code>iso-2022-kr</code>"

                <tr>
                    <td>"<code>replacement</code>"

                <tr>
                    <td rowspan="2"><a data-link-type="dfn" href="#utf-16be" id="ref-for-utf-16be②">UTF-16BE</a>

                    <td>"<code>unicodefffe</code>"

                <tr>
                    <td>"<code>utf-16be</code>"

                <tr>
                    <td rowspan="7"><a data-link-type="dfn" href="#utf-16le" id="ref-for-utf-16le②">UTF-16LE</a>

                    <td>"<code>csunicode</code>"

                <tr>
                    <td>"<code>iso-10646-ucs-2</code>"

                <tr>
                    <td>"<code>ucs-2</code>"

                <tr>
                    <td>"<code>unicode</code>"

                <tr>
                    <td>"<code>unicodefeff</code>"

                <tr>
                    <td>"<code>utf-16</code>"

                <tr>
                    <td>"<code>utf-16le</code>"

                <tr>
                    <td><a data-link-type="dfn" href="#x-user-defined" id="ref-for-x-user-defined">x-user-defined</a>

                    <td>"<code>x-user-defined</code>"

        </table>
        <p class="note" role="note">所有<a data-link-type="dfn" href="#encoding" id="ref-for-encoding①⑥">编码</a>及其<a
                data-link-type="dfn" href="#label" id="ref-for-label⑤">标签</a>也可以作为非规范性的<a
                href="https://encoding.spec.whatwg.org/encodings.json">encodings.json</a>资源获取。</p>
        <p class="note" id="supported-encodings" role="note"><a class="self-link" href="#supported-encodings"></a>支持的<a
                data-link-type="dfn" href="#encoding"
                id="ref-for-encoding①⑦">编码</a>集主要基于本标准开发开始时主要浏览器引擎支持的编码集的交集，同时移除了那些很少被合法使用但可能被用于攻击的编码。从现有 Web
            内容的使用水平的零散证据来看，某些编码的包含是值得怀疑的。也就是说，虽然这些编码被浏览器广泛支持，但尚不清楚它们是否被 Web 内容广泛使用。然而，并未积极移除那些被浏览器广泛支持或属于 ISO 8859 系列的<a
                data-link-type="dfn" href="#single-byte-encoding" id="ref-for-single-byte-encoding">单字节编码</a>。特别是，<a
                data-link-type="dfn" href="#ibm866" id="ref-for-ibm866①">IBM866</a>、<a data-link-type="dfn"
                href="#macintosh" id="ref-for-macintosh①">macintosh</a>、<a data-link-type="dfn" href="#x-mac-cyrillic"
                id="ref-for-x-mac-cyrillic①">x-mac-cyrillic</a>、<a data-link-type="dfn" href="#iso-8859-3"
                id="ref-for-iso-8859-3①">ISO-8859-3</a>、<a data-link-type="dfn" href="#iso-8859-10"
                id="ref-for-iso-8859-10①">ISO-8859-10</a>、<a data-link-type="dfn" href="#iso-8859-14"
                id="ref-for-iso-8859-14①">ISO-8859-14</a>和<a data-link-type="dfn" href="#iso-8859-16"
                id="ref-for-iso-8859-16①">ISO-8859-16</a>的必要性对于支持现有内容来说是值得怀疑的，但目前没有移除这些编码的计划。</p>
        <div class="note" id="note-latin1-ascii" role="note">
            <a class="self-link" href="#note-latin1-ascii"></a>
            <p><a data-link-type="dfn" href="#windows-1252" id="ref-for-windows-1252②">windows-1252</a><a
                    data-link-type="dfn" href="#encoding" id="ref-for-encoding①⑧">编码</a>有多个<a data-link-type="dfn"
                    href="#label"
                    id="ref-for-label⑥">标签</a>，例如"<code>latin1</code>"、"<code>iso-8859-1</code>"和"<code>ascii</code>"，这些标签在历史上对开发人员来说一直很困惑。在
                Web 上以及任何希望通过实现本标准与 Web 兼容的软件中，这些标签是同义词："<code>latin1</code>"和"<code>ascii</code>"只是<a
                    data-link-type="dfn" href="#windows-1252"
                    id="ref-for-windows-1252③">windows-1252</a>的标签，任何遵循本标准的软件，例如，在请求“Latin1”或“ASCII”解码该字节时，会将 0x80 解码为
                U+20AC (€)。</p>
            <p>不遵循本标准的软件并不总是给出相同的答案。这一问题的根源在于最初指定 Latin1 的文档（ISO/IEC 8859-1）未为字节范围 0x00 到 0x1F 或 0x7F 到 0x9F
                提供任何映射。同样，最初指定 ASCII 的文档（ISO/IEC 646 等）未为字节范围 0x80 到 0xFF 提供任何映射。这意味着在请求使用 Latin1 或 ASCII
                编码时，不同的软件为这些字节选择了不同的代码点映射。Web 浏览器和与浏览器兼容的软件选择根据<a data-link-type="dfn" href="#windows-1252"
                    id="ref-for-windows-1252④">windows-1252</a>映射这些字节，windows-1252 是两者的超集，这一选择已在本标准中被规范化。其他软件会抛出错误，或使用<a
                    data-link-type="dfn" href="https://infra.spec.whatwg.org/#isomorphic-decode"
                    id="ref-for-isomorphic-decode">同构解码</a>或其他映射。<a data-link-type="biblio" href="#biblio-iso8859-1"
                    title="Information technology — 8-bit single-byte coded graphic character sets — Part 1: Latin alphabet No. 1">[ISO8859-1]</a><a
                    data-link-type="biblio" href="#biblio-iso646"
                    title="Information technology — ISO 7-bit coded character set for information interchange">[ISO646]</a>
            </p>
            <p>因此，实施者和开发人员在使用以“Latin1”或“ASCII”为术语的 API 的库时需要格外小心。如果这些库为原始规范中未定义的字节选择了其他行为，则它们很可能不会给出符合本标准的答案。</p>
        </div>
        <h3 class="heading settled" data-level="4.3" id="output-encodings"><span class="secno">4.3. </span><span
                class="content">输出编码</span><a class="self-link" href="#output-encodings"></a></h3>
        <p>要从<a data-link-type="dfn" href="#encoding" id="ref-for-encoding①⑨">编码</a><var>encoding</var><dfn
                class="dfn-paneled" data-dfn-type="dfn" data-export id="get-an-output-encoding">获取输出编码</dfn>，请执行以下步骤：
        </p>
        <ol>
            <li>
                <p>如果<var>encoding</var>是<a data-link-type="dfn" href="#replacement" id="ref-for-replacement③">替代</a>或<a
                        data-link-type="dfn" href="#utf-16be-le" id="ref-for-utf-16be-le②">UTF-16BE/LE</a>，则返回<a
                        data-link-type="dfn" href="#utf-8" id="ref-for-utf-8⑥">UTF-8</a>。</p>
            </li>
            <li>
                <p>返回<var>encoding</var>。</p>
            </li>
        </ol>
        <p class="note" role="note"><a data-link-type="dfn" href="#get-an-output-encoding"
                id="ref-for-get-an-output-encoding">获取输出编码</a>算法对于 URL 解析和 HTML 表单提交非常有用，因为两者都需要完全符合此算法。</p>
        <h2 class="heading settled" data-level="5" id="indexes"><span class="secno">5. </span><span
                class="content">索引</span><a class="self-link" href="#indexes"></a></h2>
        <p>大多数旧的<a data-link-type="dfn" href="#encoding" id="ref-for-encoding②⓪">编码</a>都使用<dfn class="dfn-paneled"
                data-dfn-type="dfn" data-noexport id="index">索引</dfn>。一个<a data-link-type="dfn" href="#index"
                id="ref-for-index">索引</a>是一个有序的条目列表，每个条目由一个指针和一个对应的代码点组成。在一个<a data-link-type="dfn" href="#index"
                id="ref-for-index①">索引</a>中，指针是唯一的，而代码点可以重复。</p>
        <p class="note no-backref" role="note">一个高效的实现可能为每个<a data-link-type="dfn" href="#encoding"
                id="ref-for-encoding②①">编码</a>提供两个<a data-link-type="dfn" href="#index"
                id="ref-for-index②">索引</a>。一个针对其<a data-link-type="dfn" href="#decoder"
                id="ref-for-decoder⑥">解码器</a>优化，另一个针对其<a data-link-type="dfn" href="#encoder"
                id="ref-for-encoder⑧">编码器</a>优化。</p>
        <p>要在一个<a data-link-type="dfn" href="#index"
                id="ref-for-index③">索引</a>中找到指针及其对应的代码点，请执行以下步骤：令<var>lines</var>为将资源内容按 U+000A LF
            分割的结果。然后移除<var>lines</var>中为空字符串或以 U+0023 (#) 开头的每一项。然后通过将<var>lines</var>中的每一项按 U+0009 TAB
            分割来找到指针及其对应的代码点。第一个子项是指针（作为十进制数），第二个是对应的代码点（作为十六进制数）。其他子项不相关。</p>
        <p class="note no-backref" role="note">为了表示变化，一个<a data-link-type="dfn" href="#index"
                id="ref-for-index④">索引</a>包括一个<i>标识符</i>和一个<i>日期</i>。如果<i>标识符</i>发生变化，则<a data-link-type="dfn"
                href="#index" id="ref-for-index⑤">索引</a>也发生变化。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="index-code-point">索引代码点</dfn>是<var>index</var>中<var>pointer</var>对应的代码点，如果<var>pointer</var>不在<var>index</var>中，则为
            null。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="index-pointer">索引指针</dfn>是<var>index</var>中<var>codePoint</var>对应的<em>第一个</em>指针，如果<var>codePoint</var>不在<var>index</var>中，则为
            null。</p>
        <div class="note" id="visualization" role="note">
            <a class="self-link" href="#visualization"></a>
            <p>除了<a data-link-type="dfn" href="#index-gb18030-ranges" id="ref-for-index-gb18030-ranges">GB18030
                    范围索引</a>和<a data-link-type="dfn" href="#index-iso-2022-jp-katakana"
                    id="ref-for-index-iso-2022-jp-katakana">ISO-2022-JP 片假名索引</a>外，每个<a data-link-type="dfn"
                    href="#index" id="ref-for-index⑥">索引</a>都有一个非规范性的可视化。<a data-link-type="dfn" href="#index-jis0208"
                    id="ref-for-index-jis0208">JIS0208 索引</a>也有一个替代的<a data-link-type="dfn" href="#shift_jis"
                    id="ref-for-shift_jis②">Shift_JIS</a>可视化。此外，除了<a data-link-type="dfn" href="#index-gb18030-ranges"
                    id="ref-for-index-gb18030-ranges①">GB18030 范围索引</a>和<a data-link-type="dfn"
                    href="#index-iso-2022-jp-katakana" id="ref-for-index-iso-2022-jp-katakana①">ISO-2022-JP
                    片假名索引</a>外，每个索引的基本多语言平面覆盖范围也有可视化。</p>
            <p>可视化的图例如下：</p>
            <ul class="visualizationlegend">
                <li class="unmapped">未映射</li>
                <li class="mid">UTF-8 中的两个字节</li>
                <li class="mid contiguous">UTF-8 中的两个字节，代码点紧接前一个指针的代码点</li>
                <li class="upper">UTF-8 中的三个字节（非 PUA）</li>
                <li class="upper contiguous">UTF-8 中的三个字节（非 PUA），代码点紧接前一个指针的代码点</li>
                <li class="pua">专用使用</li>
                <li class="pua contiguous">专用使用，代码点紧接前一个指针的代码点</li>
                <li class="astral">UTF-8 中的四个字节</li>
                <li class="astral contiguous">UTF-8 中的四个字节，代码点紧接前一个指针的代码点</li>
                <li class="duplicate">重复代码点已在较早的索引中映射</li>
                <li class="compatibility">CJK 兼容表意文字</li>
                <li class="ext">CJK 统一表意文字扩展 A</li>
            </ul>
        </div>
        <p>以下是本规范定义的<a data-link-type="dfn" href="#index" id="ref-for-index⑦">索引</a>，不包括<a data-link-type="dfn"
                href="#index-single-byte" id="ref-for-index-single-byte">单字节索引</a>，后者有自己的表格：</p>
        <table>
            <tbody>
                <tr>
                    <th colspan="4"><a data-link-type="dfn" href="#index" id="ref-for-index⑧">索引</a></th>
                    <th>备注</th>
                </tr>
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="index-big5">Big5 索引</dfn></td>
                    <td><a href="https://encoding.spec.whatwg.org/index-big5.txt">index-big5.txt</a></td>
                    <td><a href="https://encoding.spec.whatwg.org/big5.html">Big5 索引可视化</a></td>
                    <td><a href="https://encoding.spec.whatwg.org/big5-bmp.html">Big5 索引 BMP 覆盖范围</a></td>
                    <td>与 Big5 标准结合香港补充字符集及其他常见扩展相匹配。</td>
                </tr>
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="index-euc-kr">EUC-KR 索引</dfn></td>
                    <td><a href="https://encoding.spec.whatwg.org/index-euc-kr.txt">index-euc-kr.txt</a></td>
                    <td><a href="https://encoding.spec.whatwg.org/euc-kr.html">EUC-KR 索引可视化</a></td>
                    <td><a href="https://encoding.spec.whatwg.org/euc-kr-bmp.html">EUC-KR 索引 BMP 覆盖范围</a></td>
                    <td>与 KS X 1001 标准和统一韩文代码（通常称为 Windows 代码页 949）相匹配。完全覆盖 Unicode 的韩文音节块。可视化中左上角位于指针 9026 的韩文块按
                        Unicode 顺序排列。单独来看，此索引中的其余韩文音节也按 Unicode 顺序排列。</td>
                </tr>
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="index-gb18030">GB18030 索引</dfn>
                    </td>
                    <td><a href="https://encoding.spec.whatwg.org/index-gb18030.txt">index-gb18030.txt</a></td>
                    <td><a href="https://encoding.spec.whatwg.org/gb18030.html">GB18030 索引可视化</a></td>
                    <td><a href="https://encoding.spec.whatwg.org/gb18030-bmp.html">GB18030 索引 BMP 覆盖范围</a></td>
                    <td>与 GB18030-2022 标准中编码为两个字节的代码点相匹配，但 0xA3 0xA0 映射到 U+3000 IDEOGRAPHIC SPACE 以与已部署内容兼容。此索引完全覆盖
                        Unicode 的 CJK 统一表意文字块。可视化中位于（第一个）U+3000 上方或左侧的该块中的条目按 Unicode 顺序排列。</td>
                </tr>
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="index-gb18030-ranges">GB18030
                            范围索引</dfn></td>
                    <td colspan="3"><a
                            href="https://encoding.spec.whatwg.org/index-gb18030-ranges.txt">index-gb18030-ranges.txt</a>
                    </td>
                    <td>此<a data-link-type="dfn" href="#index"
                            id="ref-for-index⑨">索引</a>的工作方式与其他所有索引不同。列出所有代码点将导致超过一百万个条目，而它们可以整齐地表示为 207
                        个范围，并结合简单的限制检查。因此，它仅在表面上与 GB18030-2000 标准中编码为四个字节的代码点相匹配。GB18030-2005 修订版的更改由伴随此索引的下文<a
                            data-link-type="dfn" href="#index-gb18030-ranges-code-point"
                            id="ref-for-index-gb18030-ranges-code-point">GB18030 范围索引代码点</a>和<a data-link-type="dfn"
                            href="#index-gb18030-ranges-pointer" id="ref-for-index-gb18030-ranges-pointer">GB18030
                            范围索引指针</a>算法内联处理。而 GB18030-2022 修订版的更改则再次以不同方式处理，以避免进一步增加映射到专用使用代码点的字节序列数量。相关的专用使用代码点在<a
                            data-link-type="dfn" href="#gb18030-encoder" id="ref-for-gb18030-encoder">GB18030
                            编码器</a>中通过一个旁表直接映射，以保持与它们之前映射方式的兼容性。</td>
                </tr>
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="index-jis0208">JIS0208 索引</dfn>
                    </td>
                    <td><a href="https://encoding.spec.whatwg.org/index-jis0208.txt">index-jis0208.txt</a></td>
                    <td><a href="https://encoding.spec.whatwg.org/jis0208.html">JIS0208 索引可视化</a>, <a
                            href="shift_jis.html">Shift_JIS 可视化</a></td>
                    <td><a href="https://encoding.spec.whatwg.org/jis0208-bmp.html">JIS0208 索引 BMP 覆盖范围</a></td>
                    <td>这是 JIS X 0208 标准，包括以前来自 IBM 和 NEC 的专有扩展。</td>
                </tr>
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="index-jis0212">JIS0212 索引</dfn>
                    </td>
                    <td><a href="https://encoding.spec.whatwg.org/index-jis0212.txt">index-jis0212.txt</a></td>
                    <td><a href="https://encoding.spec.whatwg.org/jis0212.html">JIS0212 索引可视化</a></td>
                    <td><a href="https://encoding.spec.whatwg.org/jis0212-bmp.html">JIS0212 索引 BMP 覆盖范围</a></td>
                    <td>这是 JIS X 0212 标准。由于在其他地方缺乏广泛支持，它仅由<a data-link-type="dfn" href="#euc-jp-decoder"
                            id="ref-for-euc-jp-decoder">EUC-JP 解码器</a>使用。</td>
                </tr>
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                            id="index-iso-2022-jp-katakana">ISO-2022-JP 片假名索引</dfn></td>
                    <td colspan="3"><a
                            href="https://encoding.spec.whatwg.org/index-iso-2022-jp-katakana.txt">index-iso-2022-jp-katakana.txt</a>
                    </td>
                    <td>根据 Unicode 规范化形式 KC，这将半角片假名映射到全角片假名，但 U+FF9E (ﾞ) 和 U+FF9F (ﾟ) 映射到 U+309B (゛) 和 U+309C (゜)，而不是
                        U+3099 (◌゙) 和 U+309A (◌゚)。它仅由<a data-link-type="dfn" href="#iso-2022-jp-encoder"
                            id="ref-for-iso-2022-jp-encoder">ISO-2022-JP 编码器</a>使用。<a data-link-type="biblio"
                            href="#biblio-unicode" title="The Unicode Standard">[UNICODE]</a></td>
                </tr>
            </tbody>
        </table>
        <div class="algorithm" data-algorithm="index gb18030 ranges code point">
            <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="index-gb18030-ranges-code-point">GB18030
                    范围索引代码点</dfn>是针对<var>pointer</var>的以下步骤的返回值：</p>
            <ol>
                <li>
                    <p>如果<var>pointer</var>大于 39419 且小于 189000，或者<var>pointer</var>大于 1237575，则返回 null。</p>
                </li>
                <li>
                    <p>如果<var>pointer</var>是 7457，则返回代码点 U+E7C7。</p>
                </li>
                <li>
                    <p>令<var>offset</var>为<a data-link-type="dfn" href="#index-gb18030-ranges"
                            id="ref-for-index-gb18030-ranges②">GB18030
                            范围索引</a>中小于或等于<var>pointer</var>的最后一个指针，并令<var>codePointOffset</var>为其对应的代码点。</p>
                </li>
                <li>
                    <p>返回一个代码点，其值为<var>codePointOffset</var> + <var>pointer</var> − <var>offset</var>。</p>
                </li>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="index gb18030 ranges pointer">
            <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="index-gb18030-ranges-pointer">GB18030
                    范围索引指针</dfn>是针对<var>codePoint</var>的以下步骤的返回值：</p>
            <ol>
                <li>
                    <p>如果<var>codePoint</var>是 U+E7C7，则返回指针 7457。</p>
                </li>
                <li>
                    <p>令<var>offset</var>为<a data-link-type="dfn" href="#index-gb18030-ranges"
                            id="ref-for-index-gb18030-ranges③">GB18030
                            范围索引</a>中小于或等于<var>codePoint</var>的最后一个代码点，并令<var>pointerOffset</var>为其对应的指针。</p>
                </li>
                <li>
                    <p>返回一个指针，其值为<var>pointerOffset</var> + <var>codePoint</var> − <var>offset</var>。</p>
                </li>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="index Shift_JIS pointer">
            <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="index-shift_jis-pointer">Shift_JIS
                    索引指针</dfn>是针对<var>codePoint</var>的以下步骤的返回值：</p>
            <ol>
                <li>
                    <p>令<var>index</var>为<a data-link-type="dfn" href="#index-jis0208"
                            id="ref-for-index-jis0208①">JIS0208 索引</a>，排除所有指针在 8272 到 8835（含）范围内的条目。</p>
                    <p class="note" role="note"><a data-link-type="dfn" href="#index-jis0208"
                            id="ref-for-index-jis0208②">JIS0208 索引</a>包含重复的代码点，因此排除这些条目会导致使用后面的代码点。</p>
                </li>
                <li>
                    <p>返回<var>index</var>中<var>codePoint</var>的<a data-link-type="dfn" href="#index-pointer"
                            id="ref-for-index-pointer">索引指针</a>。</p>
                </li>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="index Big5 pointer">
            <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="index-big5-pointer">Big5
                    索引指针</dfn>是针对<var>codePoint</var>的以下步骤的返回值：</p>
            <ol>
                <li>
                    <p>令<var>index</var>为<a data-link-type="dfn" href="#index-big5" id="ref-for-index-big5">Big5
                            索引</a>，排除所有指针小于 (0xA1 - 0x81) × 157 的条目。</p>
                    <p class="note" role="note">避免直接返回香港增补字符集扩展。</p>
                </li>
                <li>
                    <p>如果<var>codePoint</var>是 U+2550 (═)、U+255E (╞)、U+2561 (╡)、U+256A (╪)、U+5341 (十) 或 U+5345
                        (卅)，则返回<var>index</var>中与<var>codePoint</var>对应的<em>最后一个</em>指针。</p>
                    <p class="note" role="note">还有其他重复的代码点，但对于那些代码点，应使用<em>第一个</em>指针。</p>
                </li>
                <li>
                    <p>返回<var>index</var>中<var>codePoint</var>的<a data-link-type="dfn" href="#index-pointer"
                            id="ref-for-index-pointer①">索引指针</a>。</p>
                </li>
            </ol>
        </div>
        <hr>
        <p class="note no-backref" role="note">所有<a data-link-type="dfn" href="#index"
                id="ref-for-index①⓪">索引</a>也可以作为非规范性的<a
                href="https://encoding.spec.whatwg.org/indexes.json">indexes.json</a>资源获取。（<a data-link-type="dfn"
                href="#index-gb18030-ranges" id="ref-for-index-gb18030-ranges④">GB18030
                范围索引</a>在此处采用稍有不同的格式，以便表示范围。）</p>
        <h2 class="heading settled" data-level="6" id="specification-hooks"><span class="secno">6. </span><span
                class="content">为标准提供的挂钩</span><a class="self-link" href="#specification-hooks"></a></h2>
        <div class="note" role="note">
            <p>下面定义的算法（<a data-link-type="dfn" href="#utf-8-decode" id="ref-for-utf-8-decode①">UTF-8 解码</a>、<a
                    data-link-type="dfn" href="#utf-8-decode-without-bom" id="ref-for-utf-8-decode-without-bom">不带 BOM 的
                    UTF-8 解码</a>、<a data-link-type="dfn" href="#utf-8-decode-without-bom-or-fail"
                    id="ref-for-utf-8-decode-without-bom-or-fail">不带 BOM 或失败的 UTF-8 解码</a>以及<a data-link-type="dfn"
                    href="#utf-8-encode" id="ref-for-utf-8-encode">UTF-8 编码</a>）旨在供其他标准使用。</p>
            <p>对于解码，新格式应使用<a data-link-type="dfn" href="#utf-8-decode" id="ref-for-utf-8-decode②">UTF-8
                    解码</a>。对于格式或协议中的标识符或字节序列，请使用<a data-link-type="dfn" href="#utf-8-decode-without-bom"
                    id="ref-for-utf-8-decode-without-bom①">不带 BOM 的 UTF-8 解码</a>或<a data-link-type="dfn"
                    href="#utf-8-decode-without-bom-or-fail" id="ref-for-utf-8-decode-without-bom-or-fail①">不带 BOM 或失败的
                    UTF-8 解码</a>。</p>
            <p>对于编码，应使用<a data-link-type="dfn" href="#utf-8-encode" id="ref-for-utf-8-encode①">UTF-8 编码</a>。</p>
            <p>标准应确保它们传递给<a data-link-type="dfn" href="#utf-8-encode" id="ref-for-utf-8-encode②">UTF-8 编码</a>（以及旧的<a
                    data-link-type="dfn" href="#encode" id="ref-for-encode">编码</a>）的输入 I/O 队列实际上是标量值的 I/O 队列，即它们不包含<a
                    data-link-type="dfn" href="https://infra.spec.whatwg.org/#surrogate"
                    id="ref-for-surrogate②">代理项</a>。</p>
            <p>这些挂钩（以及<a data-link-type="dfn" href="#decode" id="ref-for-decode">解码</a>和<a data-link-type="dfn"
                    href="#encode" id="ref-for-encode①">编码</a>）将阻塞，直到输入 I/O 队列被完全消耗。为了在使用输出令牌时将其推入流中，调用者应使用空的输出 I/O
                队列调用挂钩，并<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                    id="ref-for-in-parallel①">并行地</a>从中读取。请注意，在使用<a data-link-type="dfn"
                    href="#utf-8-decode-without-bom-or-fail" id="ref-for-utf-8-decode-without-bom-or-fail②">不带 BOM 或失败的
                    UTF-8 解码</a>时需要小心，因为在解码过程中发现的任何错误都将阻止<a data-link-type="dfn" href="#end-of-stream"
                    id="ref-for-end-of-stream①⑦">队列末尾</a>项被推入输出 I/O 队列。</p>
        </div>
        <div class="algorithm" data-algorithm="UTF-8 decode">
            <p>要对字节的 I/O 队列<var>ioQueue</var>进行<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                    id="utf-8-decode">UTF-8 解码</dfn>，给定一个可选的标量值 I/O 队列<var>output</var>（默认为 « »），请执行以下步骤：</p>
            <ol>
                <li>
                    <p>令<var>buffer</var>为从<var>ioQueue</var><a data-link-type="dfn" href="#i-o-queue-peek"
                            id="ref-for-i-o-queue-peek">窥视</a>三个字节并转换为字节序列的结果。</p>
                </li>
                <li>
                    <p>如果<var>buffer</var>是 0xEF 0xBB 0xBF，则从<var>ioQueue</var><a data-link-type="dfn"
                            href="#concept-stream-read" id="ref-for-concept-stream-read⑤">读取</a>三个字节。（不对这些字节执行任何操作。）</p>
                </li>
                <li>
                    <p>使用<a data-link-type="dfn" href="#utf-8" id="ref-for-utf-8⑦">UTF-8</a>的<a data-link-type="dfn"
                            href="#decoder"
                            id="ref-for-decoder⑦">解码器</a>实例、<var>ioQueue</var>、<var>output</var>和"<code>replacement</code>"<a
                            data-link-type="dfn" href="#concept-encoding-run"
                            id="ref-for-concept-encoding-run">处理队列</a>。</p>
                </li>
                <li>
                    <p>返回<var>output</var>。</p>
                </li>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="UTF-8 decode without BOM">
            <p>要对字节的 I/O 队列<var>ioQueue</var>进行<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                    id="utf-8-decode-without-bom">不带 BOM 的 UTF-8 解码</dfn>，给定一个可选的标量值 I/O 队列<var>output</var>（默认为 «
                »），请执行以下步骤：</p>
            <ol>
                <li>
                    <p>使用<a data-link-type="dfn" href="#utf-8" id="ref-for-utf-8⑧">UTF-8</a>的<a data-link-type="dfn"
                            href="#decoder"
                            id="ref-for-decoder⑧">解码器</a>实例、<var>ioQueue</var>、<var>output</var>和"<code>replacement</code>"<a
                            data-link-type="dfn" href="#concept-encoding-run"
                            id="ref-for-concept-encoding-run①">处理队列</a>。</p>
                </li>
                <li>
                    <p>返回<var>output</var>。</p>
                </li>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="UTF-8 decode without BOM or fail">
            <p>要对字节的 I/O 队列<var>ioQueue</var>进行<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                    id="utf-8-decode-without-bom-or-fail">不带 BOM 或失败的 UTF-8 解码</dfn>，给定一个可选的标量值 I/O
                队列<var>output</var>（默认为 « »），请执行以下步骤：</p>
            <ol>
                <li>
                    <p>令<var>potentialError</var>为使用<a data-link-type="dfn" href="#utf-8"
                            id="ref-for-utf-8⑨">UTF-8</a>的<a data-link-type="dfn" href="#decoder"
                            id="ref-for-decoder⑨">解码器</a>实例、<var>ioQueue</var>、<var>output</var>和"<code>fatal</code>"<a
                            data-link-type="dfn" href="#concept-encoding-run"
                            id="ref-for-concept-encoding-run②">处理队列</a>的结果。</p>
                </li>
                <li>
                    <p>如果<var>potentialError</var>是一个<a data-link-type="dfn" href="#error"
                            id="ref-for-error①">错误</a>，则返回失败。</p>
                </li>
                <li>
                    <p>返回<var>output</var>。</p>
                </li>
            </ol>
        </div>
        <hr>
        <div class="algorithm" data-algorithm="UTF-8 encode">
            <p>要对标量值的 I/O 队列<var>ioQueue</var>进行<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                    id="utf-8-encode">UTF-8 编码</dfn>，给定一个可选的字节 I/O 队列<var>output</var>（默认为 « »），返回使用<a
                    data-link-type="dfn" href="#utf-8" id="ref-for-utf-8①⓪">UTF-8</a>编码和<var>output</var><a
                    data-link-type="dfn" href="#encode" id="ref-for-encode②">编码</a><var>ioQueue</var>的结果。</p>
        </div>
        <h3 class="heading settled" data-level="6.1" id="legacy-hooks"><span class="secno">6.1. </span><span
                class="content">为标准提供的旧版挂钩</span><a class="self-link" href="#legacy-hooks"></a></h3>
        <div class="note" role="note">
            <p>强烈建议标准不要使用<a data-link-type="dfn" href="#decode" id="ref-for-decode①">解码</a>、<a data-link-type="dfn"
                    href="#bom-sniff" id="ref-for-bom-sniff">BOM 嗅探</a>和<a data-link-type="dfn" href="#encode"
                    id="ref-for-encode③">编码</a>，除非为了兼容性需要。需要这些旧版挂钩的标准很可能还需要使用<a data-link-type="dfn"
                    href="#concept-encoding-get" id="ref-for-concept-encoding-get">获取编码</a>（将标签转换为<a
                    data-link-type="dfn" href="#encoding" id="ref-for-encoding②②">编码</a>）和<a data-link-type="dfn"
                    href="#get-an-output-encoding" id="ref-for-get-an-output-encoding①">获取输出编码</a>（将一个<a
                    data-link-type="dfn" href="#encoding" id="ref-for-encoding②③">编码</a>转换为适合传递给<a data-link-type="dfn"
                    href="#encode" id="ref-for-encode④">编码</a>的另一个<a data-link-type="dfn" href="#encoding"
                    id="ref-for-encoding②④">编码</a>）。</p>
            <p>对于 URL 百分号编码这种极其特殊的情况，需要自定义编码器错误处理。应使用<a data-link-type="dfn" href="#get-an-encoder"
                    id="ref-for-get-an-encoder">获取编码器</a>和<a data-link-type="dfn" href="#encode-or-fail"
                    id="ref-for-encode-or-fail">编码或失败</a>算法。其他算法不应直接使用。</p>
        </div>
        <div class="algorithm" data-algorithm="decode">
            <p>要对字节的 I/O 队列<var>ioQueue</var>进行<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                    id="decode">解码</dfn>，给定一个备用编码<var>encoding</var>和一个可选的标量值 I/O 队列<var>output</var>（默认为 « »），请执行以下步骤：
            </p>
            <ol>
                <li>
                    <p>令<var>BOMEncoding</var>为对<var>ioQueue</var>进行<a data-link-type="dfn" href="#bom-sniff"
                            id="ref-for-bom-sniff①">BOM 嗅探</a>的结果。</p>
                </li>
                <li>
                    <p>如果<var>BOMEncoding</var>不为 null：</p>
                    <ol>
                        <li>
                            <p>将<var>encoding</var>设置为<var>BOMEncoding</var>。</p>
                        </li>
                        <li>
                            <p>如果<var>BOMEncoding</var>是<a data-link-type="dfn" href="#utf-8"
                                    id="ref-for-utf-8①①">UTF-8</a>，则从<var>ioQueue</var><a data-link-type="dfn"
                                    href="#concept-stream-read" id="ref-for-concept-stream-read⑥">读取</a>三个字节；否则<a
                                    data-link-type="dfn" href="#concept-stream-read"
                                    id="ref-for-concept-stream-read⑦">读取</a>两个字节。（不对这些字节执行任何操作。）</p>
                        </li>
                    </ol>
                    <p class="note" role="note">为了与已部署内容兼容，字节顺序标记比任何其他东西都更具权威性。在使用 HTTP 的上下文中，这违反了
                        `<code>Content-Type</code>` 标头的语义。</p>
                </li>
                <li>
                    <p>使用<var>encoding</var>的<a data-link-type="dfn" href="#decoder"
                            id="ref-for-decoder①⓪">解码器</a>实例、<var>ioQueue</var>、<var>output</var>和"<code>replacement</code>"<a
                            data-link-type="dfn" href="#concept-encoding-run"
                            id="ref-for-concept-encoding-run③">处理队列</a>。</p>
                </li>
                <li>
                    <p>返回<var>output</var>。</p>
                </li>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="BOM sniff">
            <p>要对字节的 I/O 队列<var>ioQueue</var>进行<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                    id="bom-sniff">BOM 嗅探</dfn>，请执行以下步骤：</p>
            <ol>
                <li>
                    <p>令<var>BOM</var>为从<var>ioQueue</var><a data-link-type="dfn" href="#i-o-queue-peek"
                            id="ref-for-i-o-queue-peek①">窥视</a> 3 个字节并转换为字节序列的结果。</p>
                </li>
                <li>
                    <p>对于下表中的每一行，从第一行开始向下，如果<var>BOM</var><a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#byte-sequence-starts-with"
                            id="ref-for-byte-sequence-starts-with">以</a>第一列中给出的字节开头，则返回该行第二列单元格中给出的<a
                            data-link-type="dfn" href="#encoding" id="ref-for-encoding②⑤">编码</a>。否则，返回 null。</p>
                    <table>
                        <tbody>
                            <tr>
                                <th>字节顺序标记</th>
                                <th>编码</th>
                            </tr>
                            <tr>
                                <td>0xEF 0xBB 0xBF</td>
                                <td><a data-link-type="dfn" href="#utf-8" id="ref-for-utf-8①②">UTF-8</a></td>
                            </tr>
                            <tr>
                                <td>0xFE 0xFF</td>
                                <td><a data-link-type="dfn" href="#utf-16be" id="ref-for-utf-16be③">UTF-16BE</a></td>
                            </tr>
                            <tr>
                                <td>0xFF 0xFE</td>
                                <td><a data-link-type="dfn" href="#utf-16le" id="ref-for-utf-16le③">UTF-16LE</a></td>
                            </tr>
                        </tbody>
                    </table>
                </li>
            </ol>
            <p class="note" role="note">此挂钩是一个变通方法，因为<a data-link-type="dfn" href="#decode"
                    id="ref-for-decode②">解码</a>无法向调用者传达它已找到字节顺序标记，因此未使用提供的编码。此挂钩应在<a data-link-type="dfn" href="#decode"
                    id="ref-for-decode③">解码</a>之前调用，它将返回与找到的字节顺序标记对应的编码，否则返回 null。</p>
        </div>
        <hr>
        <div class="algorithm" data-algorithm="encode">
            <p>要对标量值的 I/O 队列<var>ioQueue</var>进行<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                    id="encode">编码</dfn>，给定一个编码<var>encoding</var>和一个可选的字节 I/O 队列<var>output</var>（默认为 « »），请执行以下步骤：</p>
            <ol>
                <li>
                    <p>令<var>encoder</var>为从<var>encoding</var><a data-link-type="dfn" href="#get-an-encoder"
                            id="ref-for-get-an-encoder①">获取编码器</a>的结果。</p>
                </li>
                <li>
                    <p>使用<var>encoder</var>、<var>ioQueue</var>、<var>output</var>和"<code>html</code>"<a
                            data-link-type="dfn" href="#concept-encoding-run"
                            id="ref-for-concept-encoding-run④">处理队列</a>。</p>
                </li>
                <li>
                    <p>返回<var>output</var>。</p>
                </li>
            </ol>
            <p class="note no-backref" role="note">这是 HTML 表单的旧版挂钩。在其上层叠<a data-link-type="dfn" href="#utf-8-encode"
                    id="ref-for-utf-8-encode③">UTF-8 编码</a>是安全的，因为它从不触发<a data-link-type="dfn" href="#error"
                    id="ref-for-error②">错误</a>。<a data-link-type="biblio" href="#biblio-html"
                    title="HTML Standard">[HTML]</a></p>
        </div>
        <hr>
        <div class="algorithm" data-algorithm="get an encoder">
            <p>要从<a data-link-type="dfn" href="#encoding" id="ref-for-encoding②⑥">编码</a><var>encoding</var><dfn
                    class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="get an encoder|getting an encoder"
                    id="get-an-encoder">获取编码器</dfn>：</p>
            <ol>
                <li>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert"
                            id="ref-for-assert⑤">断言</a>：<var>encoding</var>不是<a data-link-type="dfn" href="#replacement"
                            id="ref-for-replacement④">替代</a>或<a data-link-type="dfn" href="#utf-16be-le"
                            id="ref-for-utf-16be-le③">UTF-16BE/LE</a>。</p>
                </li>
                <li>
                    <p>返回<var>encoding</var>的<a data-link-type="dfn" href="#encoder" id="ref-for-encoder⑨">编码器</a>实例。
                    </p>
                </li>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="encode or fail">
            <p>要对标量值的 I/O 队列<var>ioQueue</var>进行<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                    id="encode-or-fail">编码或失败</dfn>，给定一个<a data-link-type="dfn" href="#encoder"
                    id="ref-for-encoder①⓪">编码器</a>实例<var>encoder</var>和一个字节 I/O 队列<var>output</var>，请执行以下步骤：</p>
            <ol>
                <li>
                    <p>令<var>potentialError</var>为使用<var>encoder</var>、<var>ioQueue</var>、<var>output</var>和"<code>fatal</code>"<a
                            data-link-type="dfn" href="#concept-encoding-run"
                            id="ref-for-concept-encoding-run⑤">处理队列</a>的结果。</p>
                </li>
                <li>
                    <p>将<a data-link-type="dfn" href="#end-of-stream" id="ref-for-end-of-stream①⑧">队列末尾</a><a
                            data-link-type="dfn" href="#concept-stream-push"
                            id="ref-for-concept-stream-push⑦">推入</a><var>output</var>。</p>
                </li>
                <li>
                    <p>如果<var>potentialError</var>是一个<a data-link-type="dfn" href="#error"
                            id="ref-for-error③">错误</a>，则返回<a data-link-type="dfn" href="#error"
                            id="ref-for-error④">错误</a>的<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#code-point" id="ref-for-code-point②">代码点</a>的<a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#code-point-value"
                            id="ref-for-code-point-value①">值</a>。</p>
                </li>
                <li>
                    <p>返回 null。</p>
                </li>
            </ol>
            <div class="note" id="pit-of-iso-2022-jp" role="note">
                <a class="self-link" href="#pit-of-iso-2022-jp"></a>
                <p>这是 URL 百分号编码的旧版挂钩。调用者必须保持一个<a data-link-type="dfn" href="#encoder"
                        id="ref-for-encoder①①">编码器</a>实例的活动状态，因为<a data-link-type="dfn" href="#iso-2022-jp-encoder"
                        id="ref-for-iso-2022-jp-encoder①">ISO-2022-JP 编码器</a>在返回<a data-link-type="dfn" href="#error"
                        id="ref-for-error⑤">错误</a>时可能处于两种不同状态之一。这也意味着，如果调用者以某种方式发出字节来编码错误，这些字节必须在 0x00 到 0x7F（含）的范围内，不包括
                    0x0E、0x0F、0x1B、0x5C 和 0x7E。<a data-link-type="biblio" href="#biblio-url"
                        title="URL Standard">[URL]</a></p>
                <p>特别是，如果在返回<a data-link-type="dfn" href="#error" id="ref-for-error⑥">错误</a>时，<a data-link-type="dfn"
                        href="#iso-2022-jp-encoder" id="ref-for-iso-2022-jp-encoder②">ISO-2022-JP 编码器</a>处于<a
                        data-link-type="dfn" href="#iso-2022-jp-decoder-roman"
                        id="ref-for-iso-2022-jp-decoder-roman">罗马</a>状态，调用者不能输出 0x5C (\)，因为它不会被解码为 U+005C (\)。因此，将<a
                        data-link-type="dfn" href="#encode-or-fail"
                        id="ref-for-encode-or-fail①">编码或失败</a>用于非预期目的的应用程序应注意防止将<a data-link-type="dfn"
                        href="#iso-2022-jp-encoder" id="ref-for-iso-2022-jp-encoder③">ISO-2022-JP 编码器</a>与替换方案（例如
                    JavaScript 和 CSS 的替换方案）结合使用，这些方案使用 U+005C (\) 作为替换语法的一部分（例如，<code>\u2603</code>），或者确保将替换语法通过编码器传递（与
                    URL 百分号编码相反）。</p>
                <p>返回值要么是表示无法编码的<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#code-point"
                        id="ref-for-code-point③">代码点</a>的数字，要么是 null（如果没有<a data-link-type="dfn" href="#error"
                        id="ref-for-error⑦">错误</a>）。当它返回非 null 时，调用者将必须再次调用它，提供相同的<a data-link-type="dfn"
                        href="#encoder" id="ref-for-encoder①②">编码器</a>实例和一个新的输出 I/O 队列。</p>
            </div>
        </div>
        <h2 class="heading settled" data-level="7" id="api"><span class="secno">7. </span><span
                class="content">API</span><a class="self-link" href="#api"></a></h2>
        <p>本节使用 Web IDL 的术语。浏览器用户代理必须支持此 API。JavaScript 实现应支持此 API。鼓励其他用户代理或编程语言使用适合其需求的 API，可能不是这一个。<a
                data-link-type="biblio" href="#biblio-webidl" title="Web IDL Standard">[WEBIDL]</a></p>
        <div class="example" id="example-textencoder">
            <a class="self-link" href="#example-textencoder"></a>
            <p>以下示例使用 <code
                    class="idl"><a data-link-type="idl" href="#textencoder" id="ref-for-textencoder">TextEncoder</a></code>
                对象将字符串数组编码为 <code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer">ArrayBuffer</a></code>。结果是一个
                <code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-Uint8Array" id="ref-for-idl-Uint8Array①">Uint8Array</a></code>，其中包含字符串的数量（作为
                <code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-Uint32Array" id="ref-for-idl-Uint32Array">Uint32Array</a></code>），后跟第一个字符串的长度（作为
                <code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-Uint32Array" id="ref-for-idl-Uint32Array①">Uint32Array</a></code>）、<a
                    data-link-type="dfn" href="#utf-8" id="ref-for-utf-8①③">UTF-8</a> 编码的字符串数据、第二个字符串的长度（作为 <code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-Uint32Array" id="ref-for-idl-Uint32Array②">Uint32Array</a></code>）、字符串数据，依此类推。
            </p>
            <pre><code class="lang-javascript highlight"><c- a>function</c-> encodeArrayOfStrings<c- p>(</c->strings<c- p>)</c-> <c- p>{</c->
          <c- a>var</c-> encoder<c- p>,</c-> encoded<c- p>,</c-> len<c- p>,</c-> bytes<c- p>,</c-> view<c- p>,</c-> offset<c- p>;</c->
        
          encoder <c- o>=</c-> <c- ow>new</c-> TextEncoder<c- p>();</c->
          encoded <c- o>=</c-> <c- p>[];</c->
        
          len <c- o>=</c-> Uint32Array<c- p>.</c->BYTES_PER_ELEMENT<c- p>;</c->
          <c- k>for</c-> <c- p>(</c-><c- a>var</c-> i <c- o>=</c-> <c- mf>0</c-><c- p>;</c-> i <c- o>&lt;</c-> strings<c- p>.</c->length<c- p>;</c-> i<c- o>++</c-><c- p>)</c-> <c- p>{</c->
            len <c- o>+=</c-> Uint32Array<c- p>.</c->BYTES_PER_ELEMENT<c- p>;</c->
            encoded<c- p>[</c->i<c- p>]</c-> <c- o>=</c-> encoder<c- p>.</c->encode<c- p>(</c->strings<c- p>[</c->i<c- p>]);</c->
            len <c- o>+=</c-> encoded<c- p>[</c->i<c- p>].</c->byteLength<c- p>;</c->
          <c- p>}</c->
        
          bytes <c- o>=</c-> <c- ow>new</c-> Uint8Array<c- p>(</c->len<c- p>);</c->
          view <c- o>=</c-> <c- ow>new</c-> DataView<c- p>(</c->bytes<c- p>.</c->buffer<c- p>);</c->
          offset <c- o>=</c-> <c- mf>0</c-><c- p>;</c->
        
          view<c- p>.</c->setUint32<c- p>(</c->offset<c- p>,</c-> strings<c- p>.</c->length<c- p>);</c->
          offset <c- o>+=</c-> Uint32Array<c- p>.</c->BYTES_PER_ELEMENT<c- p>;</c->
          <c- k>for</c-> <c- p>(</c-><c- a>var</c-> i <c- o>=</c-> <c- mf>0</c-><c- p>;</c-> i <c- o>&lt;</c-> encoded<c- p>.</c->length<c- p>;</c-> i <c- o>+=</c-> <c- mf>1</c-><c- p>)</c-> <c- p>{</c->
            len <c- o>=</c-> encoded<c- p>[</c->i<c- p>].</c->byteLength<c- p>;</c->
            view<c- p>.</c->setUint32<c- p>(</c->offset<c- p>,</c-> len<c- p>);</c->
            offset <c- o>+=</c-> Uint32Array<c- p>.</c->BYTES_PER_ELEMENT<c- p>;</c->
            bytes<c- p>.</c->set<c- p>(</c->encoded<c- p>[</c->i<c- p>],</c-> offset<c- p>);</c->
            offset <c- o>+=</c-> len<c- p>;</c->
          <c- p>}</c->
          <c- k>return</c-> bytes<c- p>.</c->buffer<c- p>;</c->
        <c- p>}</c-></code></pre>
            <p>以下示例将包含由前一个示例生成的格式编码的数据的 <code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer①">ArrayBuffer</a></code>（或用于非
                <a data-link-type="dfn" href="#utf-8" id="ref-for-utf-8①④">UTF-8</a> 编码的等效算法）解码回字符串数组。
            </p>
            <pre><code class="lang-javascript highlight"><c- a>function</c-> decodeArrayOfStrings<c- p>(</c->buffer<c- p>,</c-> encoding<c- p>)</c-> <c- p>{</c->
          <c- a>var</c-> decoder<c- p>,</c-> view<c- p>,</c-> offset<c- p>,</c-> num_strings<c- p>,</c-> strings<c- p>,</c-> len<c- p>;</c->
        
          decoder <c- o>=</c-> <c- ow>new</c-> TextDecoder<c- p>(</c->encoding<c- p>);</c->
          view <c- o>=</c-> <c- ow>new</c-> DataView<c- p>(</c->buffer<c- p>);</c->
          offset <c- o>=</c-> <c- mf>0</c-><c- p>;</c->
          strings <c- o>=</c-> <c- p>[];</c->
        
          num_strings <c- o>=</c-> view<c- p>.</c->getUint32<c- p>(</c->offset<c- p>);</c->
          offset <c- o>+=</c-> Uint32Array<c- p>.</c->BYTES_PER_ELEMENT<c- p>;</c->
          <c- k>for</c-> <c- p>(</c-><c- a>var</c-> i <c- o>=</c-> <c- mf>0</c-><c- p>;</c-> i <c- o>&lt;</c-> num_strings<c- p>;</c-> i<c- o>++</c-><c- p>)</c-> <c- p>{</c->
            len <c- o>=</c-> view<c- p>.</c->getUint32<c- p>(</c->offset<c- p>);</c->
            offset <c- o>+=</c-> Uint32Array<c- p>.</c->BYTES_PER_ELEMENT<c- p>;</c->
            strings<c- p>[</c->i<c- p>]</c-> <c- o>=</c-> decoder<c- p>.</c->decode<c- p>(</c->
              <c- ow>new</c-> DataView<c- p>(</c->view<c- p>.</c->buffer<c- p>,</c-> offset<c- p>,</c-> len<c- p>));</c->
            offset <c- o>+=</c-> len<c- p>;</c->
          <c- p>}</c->
          <c- k>return</c-> strings<c- p>;</c->
        <c- p>}</c-></code></pre>
        </div>
        <h3 class="heading settled" data-level="7.1" id="interface-mixin-textdecodercommon"><span class="secno">7.1.
            </span><span class="content">接口混入 <code
                    class="idl"><a data-link-type="idl" href="#textdecodercommon" id="ref-for-textdecodercommon">TextDecoderCommon</a></code></span><a
                class="self-link" href="#interface-mixin-textdecodercommon"></a></h3>
        <pre class="idl highlight def"><c- b>interface</c-> <c- b>mixin</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="textdecodercommon"><code><c- g>TextDecoderCommon</c-></code></dfn> {
          <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString" href="#dom-textdecoder-encoding" id="ref-for-dom-textdecoder-encoding"><c- g>encoding</c-></a>;
          <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-textdecoder-fatal" id="ref-for-dom-textdecoder-fatal"><c- g>fatal</c-></a>;
          <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean①"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-textdecoder-ignorebom" id="ref-for-dom-textdecoder-ignorebom"><c- g>ignoreBOM</c-></a>;
        };
        </pre>
        <p><code
                class="idl"><a data-link-type="idl" href="#textdecodercommon" id="ref-for-textdecodercommon①">TextDecoderCommon</a></code>
            接口混入定义了 <code
                class="idl"><a data-link-type="idl" href="#textdecoder" id="ref-for-textdecoder">TextDecoder</a></code>
            和 <code
                class="idl"><a data-link-type="idl" href="#textdecoderstream" id="ref-for-textdecoderstream">TextDecoderStream</a></code>
            对象共享的通用 getter。这些对象有关联的：</p>
        <dl>
            <dt><dfn class="dfn-paneled" data-dfn-for="TextDecoderCommon" data-dfn-type="dfn" data-noexport
                    id="textdecoder-encoding">编码</dfn></dt>
            <dd>一个<a data-link-type="dfn" href="#encoding" id="ref-for-encoding②⑦">编码</a>。</dd>
            <dt><dfn class="dfn-paneled" data-dfn-for="TextDecoderCommon" data-dfn-type="dfn" data-noexport
                    id="textdecodercommon-decoder"><span class="bs-old-id" id="textdecoderstream-decoder"></span><span
                        class="bs-old-id" id="textdecoder-decoder"></span>解码器</dfn></dt>
            <dd>一个<a data-link-type="dfn" href="#decoder" id="ref-for-decoder①①">解码器</a>实例。</dd>
            <dt><dfn class="dfn-paneled" data-dfn-for="TextDecoderCommon" data-dfn-type="dfn" data-noexport
                    id="textdecodercommon-i-o-queue"><span class="bs-old-id" id="textdecodercommon-stream"></span><span
                        class="bs-old-id" id="textdecoderstream-stream"></span><span class="bs-old-id"
                        id="textdecoder-stream"></span>I/O 队列</dfn></dt>
            <dd>一个字节的<a data-link-type="dfn" href="#concept-stream" id="ref-for-concept-stream②①">I/O 队列</a>。</dd>
            <dt><dfn class="dfn-paneled" data-dfn-for="TextDecoderCommon" data-dfn-type="dfn" data-noexport
                    id="textdecoder-ignore-bom-flag">忽略 BOM</dfn></dt>
            <dd>一个布尔值，初始为 false。</dd>
            <dt><dfn class="dfn-paneled" data-dfn-for="TextDecoderCommon" data-dfn-type="dfn" data-noexport
                    id="textdecoder-bom-seen-flag">已见 BOM</dfn></dt>
            <dd>一个布尔值，初始为 false。</dd>
            <dt><dfn class="dfn-paneled" data-dfn-for="TextDecoderCommon" data-dfn-type="dfn" data-noexport
                    id="textdecoder-error-mode">错误模式</dfn></dt>
            <dd>一个<a data-link-type="dfn" href="#error-mode" id="ref-for-error-mode⑤">错误模式</a>，初始为
                "<code>replacement</code>"。</dd>
        </dl>
        <div class="algorithm" data-algorithm="serialize I/O queue">
            <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="concept-td-serialize">序列化 I/O
                    队列</dfn>算法，给定一个 <code
                    class="idl"><a data-link-type="idl" href="#textdecodercommon" id="ref-for-textdecodercommon②">TextDecoderCommon</a></code>
                <var>decoder</var> 和一个标量值的<a data-link-type="dfn" href="#concept-stream"
                    id="ref-for-concept-stream②②">I/O 队列</a> <var>ioQueue</var>，运行以下步骤：
            </p>
            <ol>
                <li>
                    <p>令 <var>output</var> 为空字符串。</p>
                </li>
                <li>
                    <p>当为真时：</p>
                    <ol>
                        <li>
                            <p>令 <var>item</var> 为从 <var>ioQueue</var> <a data-link-type="dfn"
                                    href="#concept-stream-read" id="ref-for-concept-stream-read⑧">读取</a>的结果。</p>
                        </li>
                        <li>
                            <p>如果 <var>item</var> 是<a data-link-type="dfn" href="#end-of-stream"
                                    id="ref-for-end-of-stream①⑨">队列末尾</a>，则返回 <var>output</var>。</p>
                        </li>
                        <li>
                            <p>如果 <var>decoder</var> 的<a data-link-type="dfn" href="#textdecoder-encoding"
                                    id="ref-for-textdecoder-encoding">编码</a>是<a data-link-type="dfn" href="#utf-8"
                                    id="ref-for-utf-8①⑤">UTF-8</a>或<a data-link-type="dfn" href="#utf-16be-le"
                                    id="ref-for-utf-16be-le④">UTF-16BE/LE</a>，并且 <var>decoder</var> 的<a
                                    data-link-type="dfn" href="#textdecoder-ignore-bom-flag"
                                    id="ref-for-textdecoder-ignore-bom-flag">忽略 BOM</a>和<a data-link-type="dfn"
                                    href="#textdecoder-bom-seen-flag" id="ref-for-textdecoder-bom-seen-flag">已见
                                    BOM</a>均为 false：</p>
                            <ol>
                                <li>
                                    <p>将 <var>decoder</var> 的<a data-link-type="dfn" href="#textdecoder-bom-seen-flag"
                                            id="ref-for-textdecoder-bom-seen-flag①">已见 BOM</a>设置为 true。</p>
                                </li>
                                <li>
                                    <p>如果 <var>item</var> 是 U+FEFF BOM，则<a data-link-type="dfn"
                                            href="https://infra.spec.whatwg.org/#iteration-continue"
                                            id="ref-for-iteration-continue">继续</a>。</p>
                                </li>
                            </ol>
                        </li>
                        <li>
                            <p>将 <var>item</var> 附加到 <var>output</var>。</p>
                        </li>
                    </ol>
                </li>
            </ol>
            <p class="note" role="note">该算法在 BOM 处理方面与平台其余部分使用的<a data-link-type="dfn" href="#decode"
                    id="ref-for-decode④">解码</a>算法故意不同，以便为 API 用户提供更多控制。</p>
        </div>
        <hr>
        <div class="algorithm" data-algorithm="encoding" data-algorithm-for="TextDecoderCommon">
            <p><dfn class="dfn-paneled idl-code" data-dfn-for="TextDecoderCommon" data-dfn-type="attribute" data-export
                    id="dom-textdecoder-encoding"><code>encoding</code></dfn> getter 的步骤是返回<a data-link-type="dfn"
                    href="https://webidl.spec.whatwg.org/#this" id="ref-for-this">this</a>的<a data-link-type="dfn"
                    href="#textdecoder-encoding" id="ref-for-textdecoder-encoding①">编码</a>的<a data-link-type="dfn"
                    href="#name" id="ref-for-name②">名称</a>，并<a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#ascii-lowercase" id="ref-for-ascii-lowercase①">ASCII 小写化</a>。
            </p>
        </div>
        <div class="algorithm" data-algorithm="fatal" data-algorithm-for="TextDecoderCommon">
            <p><dfn class="dfn-paneled idl-code" data-dfn-for="TextDecoderCommon" data-dfn-type="attribute" data-export
                    id="dom-textdecoder-fatal"><code>fatal</code></dfn> getter 的步骤是：如果<a data-link-type="dfn"
                    href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①">this</a>的<a data-link-type="dfn"
                    href="#textdecoder-error-mode" id="ref-for-textdecoder-error-mode">错误模式</a>是
                "<code>fatal</code>"，则返回 true；否则返回 false。</p>
        </div>
        <div class="algorithm" data-algorithm="ignoreBOM" data-algorithm-for="TextDecoderCommon">
            <p><dfn class="dfn-paneled idl-code" data-dfn-for="TextDecoderCommon" data-dfn-type="attribute" data-export
                    id="dom-textdecoder-ignorebom"><code>ignoreBOM</code></dfn> getter 的步骤是返回<a data-link-type="dfn"
                    href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②">this</a>的<a data-link-type="dfn"
                    href="#textdecoder-ignore-bom-flag" id="ref-for-textdecoder-ignore-bom-flag①">忽略 BOM</a>。</p>
        </div>
        <h3 class="heading settled" data-level="7.2" id="interface-textdecoder"><span class="secno">7.2. </span><span
                class="content">接口 <code
                    class="idl"><a data-link-type="idl" href="#textdecoder" id="ref-for-textdecoder①">TextDecoder</a></code></span><a
                class="self-link" href="#interface-textdecoder"></a></h3>
        <pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="textdecoderoptions"><code><c- g>TextDecoderOptions</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean②"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-default="false" data-dfn-for="TextDecoderOptions" data-dfn-type="dict-member" data-export data-type="boolean" id="dom-textdecoderoptions-fatal"><code><c- g>fatal</c-></code></dfn> = <c- b>false</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean③"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-default="false" data-dfn-for="TextDecoderOptions" data-dfn-type="dict-member" data-export data-type="boolean" id="dom-textdecoderoptions-ignorebom"><code><c- g>ignoreBOM</c-></code></dfn> = <c- b>false</c->;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="textdecodeoptions"><code><c- g>TextDecodeOptions</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean④"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-default="false" data-dfn-for="TextDecodeOptions" data-dfn-type="dict-member" data-export data-type="boolean" id="dom-textdecodeoptions-stream"><code><c- g>stream</c-></code></dfn> = <c- b>false</c->;
};

[Exposed=*]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="textdecoder"><code><c- g>TextDecoder</c-></code></dfn> {
  <a class="idl-code" data-link-type="constructor" href="#dom-textdecoder" id="ref-for-dom-textdecoder"><c- g>constructor</c-></a>(<c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="TextDecoder/TextDecoder(label, options), TextDecoder/constructor(label, options), TextDecoder/TextDecoder(label), TextDecoder/constructor(label), TextDecoder/TextDecoder(), TextDecoder/constructor()" data-dfn-type="argument" data-export id="dom-textdecoder-textdecoder-label-options-label"><code><c- g>label</c-></code></dfn> = "utf-8", <c- b>optional</c-> <a data-link-type="idl-name" href="#textdecoderoptions" id="ref-for-textdecoderoptions"><c- n>TextDecoderOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="TextDecoder/TextDecoder(label, options), TextDecoder/constructor(label, options), TextDecoder/TextDecoder(label), TextDecoder/constructor(label), TextDecoder/TextDecoder(), TextDecoder/constructor()" data-dfn-type="argument" data-export id="dom-textdecoder-textdecoder-label-options-options"><code><c- g>options</c-></code></dfn> = {});

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString"><c- b>USVString</c-></a> <a class="idl-code" data-link-type="method" href="#dom-textdecoder-decode" id="ref-for-dom-textdecoder-decode"><c- g>decode</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#AllowSharedBufferSource" id="ref-for-AllowSharedBufferSource"><c- n>AllowSharedBufferSource</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="TextDecoder/decode(input, options), TextDecoder/decode(input), TextDecoder/decode()" data-dfn-type="argument" data-export id="dom-textdecoder-decode-input-options-input"><code><c- g>input</c-></code></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#textdecodeoptions" id="ref-for-textdecodeoptions"><c- n>TextDecodeOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="TextDecoder/decode(input, options), TextDecoder/decode(input), TextDecoder/decode()" data-dfn-type="argument" data-export id="dom-textdecoder-decode-input-options-options"><code><c- g>options</c-></code></dfn> = {});
};
<a data-link-type="idl-name" href="#textdecoder" id="ref-for-textdecoder②"><c- n>TextDecoder</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#textdecodercommon" id="ref-for-textdecodercommon③"><c- n>TextDecoderCommon</c-></a>;
</pre>
        <p>一个 <code
                class="idl"><a data-link-type="idl" href="#textdecoder" id="ref-for-textdecoder③">TextDecoder</a></code>
            对象拥有一个关联的<dfn class="dfn-paneled" data-dfn-for="TextDecoder" data-dfn-type="dfn" data-noexport
                id="textdecoder-do-not-flush-flag">不刷新标志（do not flush flag）</dfn>，它是一个布尔值，
            初始为 false。
        </p>
        <dl class="domintro">
            <dt><code><var>decoder</var> = new <a class="idl-code" data-link-type="constructor" href="#dom-textdecoder" id="ref-for-dom-textdecoder①">TextDecoder([<var>label</var> = "utf-8" [, <var>options</var>]])</a></code>

            <dd>
                <p>返回一个新的 <code
                        class="idl"><a data-link-type="idl" href="#textdecoder" id="ref-for-textdecoder④">TextDecoder</a></code>
                    对象。
                </p>
                <p>如果 <var>label</var> 不是一个有效的标签，或者是<a data-link-type="dfn" href="#label" id="ref-for-label⑦">用于</a>
                    <a data-link-type="dfn" href="#replacement" id="ref-for-replacement⑤">replacement</a> 的标签，则<a
                        data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw"
                        id="ref-for-dfn-throw">抛出</a>一个 <code
                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-rangeerror" id="ref-for-exceptiondef-rangeerror">RangeError</a></code>。
                </p>
            <dt><code><var>decoder</var> . <a class="idl-code" data-link-type="attribute" href="#dom-textdecoder-encoding" id="ref-for-dom-textdecoder-encoding①">encoding</a></code>

            <dd>
                <p>返回<a data-link-type="dfn" href="#textdecoder-encoding" id="ref-for-textdecoder-encoding②">编码</a>的<a
                        data-link-type="dfn" href="#name" id="ref-for-name③">名称</a>，小写形式。
                </p>
            <dt><code><var>decoder</var> . <a class="idl-code" data-link-type="attribute" href="#dom-textdecoder-fatal" id="ref-for-dom-textdecoder-fatal①">fatal</a></code>

            <dd>
                <p>如果<a data-link-type="dfn" href="#textdecoder-error-mode"
                        id="ref-for-textdecoder-error-mode①">错误模式</a>是 "<code>fatal</code>"，则返回 true；否则返回 false。
                </p>
            <dt><code><var>decoder</var> . <a class="idl-code" data-link-type="attribute" href="#dom-textdecoder-ignorebom" id="ref-for-dom-textdecoder-ignorebom①">ignoreBOM</a></code>

            <dd>
                <p>返回<a data-link-type="dfn" href="#textdecoder-ignore-bom-flag"
                        id="ref-for-textdecoder-ignore-bom-flag②">忽略 BOM 标志</a>的值。
                </p>
            <dt><code><var>decoder</var> . <a class="idl-code" data-link-type="method" href="#dom-textdecoder-decode" id="ref-for-dom-textdecoder-decode①">decode([<var>input</var> [, <var>options</var>]])</a></code>

            <dd>
                <p>返回运行<a data-link-type="dfn" href="#textdecoder-encoding" id="ref-for-textdecoder-encoding③">编码</a>的<a
                        data-link-type="dfn" href="#decoder" id="ref-for-decoder①②">解码器</a>的结果。
                    该方法可以被多次调用，并将 <var>options</var> 的 <code>stream</code> 属性设置为 true，然后最后一次调用时不再设置 <var>options</var> 的
                    <code>stream</code>（或设为 false），以处理分段的输入。如果最后一次调用（`stream` 未设置或为 false）时没有
                    <var>input</var>，最清晰的做法是省略这两个参数。
                </p>
                <pre class="example" id="example-end-of-stream"><a class="self-link" href="#example-end-of-stream"></a><code class="lang-javascript highlight"><c- a>var</c-> string <c- o>=</c-> <c- u>""</c-><c- p>,</c-> decoder <c- o>=</c-> <c- ow>new</c-> TextDecoder<c- p>(</c->encoding<c- p>),</c-> buffer<c- p>;</c->
<c- k>while</c-><c- p>(</c->buffer <c- o>=</c-> next_chunk<c- p>())</c-> <c- p>{</c->
  string <c- o>+=</c-> decoder<c- p>.</c->decode<c- p>(</c->buffer<c- p>,</c-> <c- p>{</c->stream<c- o>:</c-><c- kc>true</c-><c- p>});</c->
<c- p>}</c->
string <c- o>+=</c-> decoder<c- p>.</c->decode<c- p>();</c-> <c- c1>// 队列末尾</c-></code></pre>
                <p>如果<a data-link-type="dfn" href="#textdecoder-error-mode"
                        id="ref-for-textdecoder-error-mode②">错误模式</a>是 "<code>fatal</code>" 且<a data-link-type="dfn"
                        href="#textdecoder-encoding" id="ref-for-textdecoder-encoding④">编码</a>的<a data-link-type="dfn"
                        href="#decoder" id="ref-for-decoder①③">解码器</a>返回<a data-link-type="dfn" href="#error"
                        id="ref-for-error⑧">错误</a>，
                    则<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw"
                        id="ref-for-dfn-throw①">抛出</a>一个 <code
                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror">TypeError</a></code>。
                </p>
        </dl>
        <div class="algorithm" data-algorithm="TextDecoder(label, options)" data-algorithm-for="TextDecoder">
            <p>
                <dfn class="dfn-paneled idl-code" data-dfn-for="TextDecoder" data-dfn-type="constructor" data-export
                    data-lt="TextDecoder(label, options)|constructor(label, options)|TextDecoder(label)|constructor(label)|TextDecoder()|constructor()"
                    id="dom-textdecoder"><code>new TextDecoder(<var>label</var>, <var>options</var>)</code></dfn>
                构造函数的步骤如下：
            </p>
            <ol>
                <li>
                    <p>令 <var>encoding</var> 为从 <var>label</var> <a data-link-type="dfn" href="#concept-encoding-get"
                            id="ref-for-concept-encoding-get①">获取编码</a>的结果。
                    </p>
                <li>
                    <p>如果 <var>encoding</var> 是 failure 或 <a data-link-type="dfn" href="#replacement"
                            id="ref-for-replacement⑥">replacement</a>，则<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw②">抛出</a>一个 <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-rangeerror" id="ref-for-exceptiondef-rangeerror①">RangeError</a></code>。
                    </p>
                <li>
                    <p>设置<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this③">当前对象</a>的<a data-link-type="dfn" href="#textdecoder-encoding"
                            id="ref-for-textdecoder-encoding⑤">编码</a>为 <var>encoding</var>。
                    </p>
                <li>
                    <p>如果 <var>options</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-textdecoderoptions-fatal" id="ref-for-dom-textdecoderoptions-fatal">fatal</a></code>"]
                        为 true，则设置<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this④">当前对象</a>的
                        <a data-link-type="dfn" href="#textdecoder-error-mode"
                            id="ref-for-textdecoder-error-mode③">错误模式</a>为 "<code>fatal</code>"。
                    </p>
                <li>
                    <p>设置<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑤">当前对象</a>的<a data-link-type="dfn" href="#textdecoder-ignore-bom-flag"
                            id="ref-for-textdecoder-ignore-bom-flag③">忽略 BOM 标志</a>为
                        <var>options</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-textdecoderoptions-ignorebom" id="ref-for-dom-textdecoderoptions-ignorebom">ignoreBOM</a></code>"]。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="decode(input, options)" data-algorithm-for="TextDecoder">
            <p>
                <dfn class="dfn-paneled idl-code" data-dfn-for="TextDecoder" data-dfn-type="method" data-export
                    data-lt="decode(input, options)|decode(input)|decode()"
                    id="dom-textdecoder-decode"><code>decode(<var>input</var>, <var>options</var>)</code></dfn>
                方法的步骤如下：
            </p>
            <ol>
                <li>
                    <p>如果<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑥">当前对象</a>的<a data-link-type="dfn" href="#textdecoder-do-not-flush-flag"
                            id="ref-for-textdecoder-do-not-flush-flag">不刷新标志</a>为 false，则设置<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑦">当前对象</a>的
                        <a data-link-type="dfn" href="#textdecodercommon-decoder"
                            id="ref-for-textdecodercommon-decoder">解码器</a>为一个新的<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑧">当前对象</a>的
                        <a data-link-type="dfn" href="#textdecoder-encoding"
                            id="ref-for-textdecoder-encoding⑥">编码</a>的<a data-link-type="dfn" href="#decoder"
                            id="ref-for-decoder①④">解码器</a>实例，<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑨">当前对象</a>的
                        <a data-link-type="dfn" href="#textdecodercommon-i-o-queue"
                            id="ref-for-textdecodercommon-i-o-queue">I/O 队列</a>为字节的<a data-link-type="dfn"
                            href="#concept-stream" id="ref-for-concept-stream②③">I/O 队列</a>
                        « <a data-link-type="dfn" href="#end-of-stream" id="ref-for-end-of-stream②⓪">队列末尾</a> »，
                        以及<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this①⓪">当前对象</a>的<a data-link-type="dfn" href="#textdecoder-bom-seen-flag"
                            id="ref-for-textdecoder-bom-seen-flag②">BOM 已见标志</a>为 false。
                    </p>
                <li>
                    <p>设置<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this①①">当前对象</a>的<a data-link-type="dfn" href="#textdecoder-do-not-flush-flag"
                            id="ref-for-textdecoder-do-not-flush-flag①">不刷新标志</a>为
                        <var>options</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-textdecodeoptions-stream" id="ref-for-dom-textdecodeoptions-stream">stream</a></code>"]。
                    </p>
                <li>
                    <p>如果给定了 <var>input</var>，则将 <var>input</var> 的<a data-link-type="dfn" href="#concept-stream-push"
                            id="ref-for-concept-stream-push⑧">一个副本</a>
                        <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-get-buffer-source-copy"
                            id="ref-for-dfn-get-buffer-source-copy">推入</a>到<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①②">当前对象</a>的
                        <a data-link-type="dfn" href="#textdecodercommon-i-o-queue"
                            id="ref-for-textdecodercommon-i-o-queue①">I/O 队列</a>中。
                    </p>
                    <p class="note" role="note">强烈建议实现者采用
                        避免此次复制的实现策略。这样做时，必须确保对 <var>input</var> 的更改
                        不会影响未来对 <a class="idl-code" data-link-type="method" href="#dom-textdecoder-decode"
                            id="ref-for-dom-textdecoder-decode②"><code>decode()</code></a> 的调用。
                    </p>
                    <p class="warning" id="sharedarraybuffer-warning">由
                        <code>SharedArrayBuffer</code>
                        对象暴露的内存不符合通常用于实现的编程语言内存模型所需的数据竞争自由属性。在实现时，访问由 <code>SharedArrayBuffer</code> 对象暴露的内存时务必使用适当的设施。
                    </p>
                <li>
                    <p>令 <var>output</var> 为标量值的<a data-link-type="dfn" href="#concept-stream"
                            id="ref-for-concept-stream②④">I/O 队列</a>
                        « <a data-link-type="dfn" href="#end-of-stream" id="ref-for-end-of-stream②①">队列末尾</a> »。
                    </p>
                <li>
                    <p>循环执行：
                    </p>
                    <ol>
                        <li>
                            <p>令 <var>item</var> 为从<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                    id="ref-for-this①③">当前对象</a>的
                                <a data-link-type="dfn" href="#textdecodercommon-i-o-queue"
                                    id="ref-for-textdecodercommon-i-o-queue②">I/O 队列</a><a data-link-type="dfn"
                                    href="#concept-stream-read" id="ref-for-concept-stream-read⑨">读取</a>的结果。
                            </p>
                        <li>
                            <p>如果 <var>item</var> 是<a data-link-type="dfn" href="#end-of-stream"
                                    id="ref-for-end-of-stream②②">队列末尾</a>且<a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①④">当前对象</a>的
                                <a data-link-type="dfn" href="#textdecoder-do-not-flush-flag"
                                    id="ref-for-textdecoder-do-not-flush-flag②">不刷新标志</a>为 true，则返回
                                <a data-link-type="dfn" href="#concept-td-serialize"
                                    id="ref-for-concept-td-serialize">序列化 I/O 队列</a>（以<a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑤">当前对象</a>和
                                <var>output</var> 为参数）的结果。
                            </p>
                            <p class="note" role="note">流式处理的工作方式是，当<a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑥">当前对象</a>的<a
                                    data-link-type="dfn" href="#textdecoder-do-not-flush-flag"
                                    id="ref-for-textdecoder-do-not-flush-flag③">不刷新标志</a>为 true 时，此处不处理<a
                                    data-link-type="dfn" href="#end-of-stream"
                                    id="ref-for-end-of-stream②③">队列末尾</a>，也不将其设为 false。这样一来，
                                在后续调用中，<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                    id="ref-for-this①⑦">当前对象</a>的<a data-link-type="dfn"
                                    href="#textdecodercommon-decoder"
                                    id="ref-for-textdecodercommon-decoder①">解码器</a>不会在算法的第一步被重新设置，其状态得以保留。
                            </p>
                        <li>
                            <p>否则：
                            </p>
                            <ol>
                                <li>
                                    <p>令 <var>result</var> 为<a data-link-type="dfn" href="#concept-encoding-process"
                                            id="ref-for-concept-encoding-process①">处理一个项目</a>（以 <var>item</var>、
                                        <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                            id="ref-for-this①⑧">当前对象</a>的<a data-link-type="dfn"
                                            href="#textdecodercommon-decoder"
                                            id="ref-for-textdecodercommon-decoder②">解码器</a>、<a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑨">当前对象</a>的
                                        <a data-link-type="dfn" href="#textdecodercommon-i-o-queue"
                                            id="ref-for-textdecodercommon-i-o-queue③">I/O 队列</a>、<var>output</var>
                                        和<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                            id="ref-for-this②⓪">当前对象</a>的
                                        <a data-link-type="dfn" href="#textdecoder-error-mode"
                                            id="ref-for-textdecoder-error-mode④">错误模式</a>为参数）的结果。
                                    </p>
                                <li>
                                    <p>如果 <var>result</var> 是<a data-link-type="dfn" href="#finished"
                                            id="ref-for-finished①">完成</a>，则返回
                                        <a data-link-type="dfn" href="#concept-td-serialize"
                                            id="ref-for-concept-td-serialize①">序列化 I/O 队列</a>（以<a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②①">当前对象</a>和
                                        <var>output</var> 为参数）的结果。
                                    </p>
                                <li>
                                    <p>否则，如果 <var>result</var> 是<a data-link-type="dfn" href="#error"
                                            id="ref-for-error⑨">错误</a>，则<a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#dfn-throw"
                                            id="ref-for-dfn-throw③">抛出</a>一个<code
                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①">TypeError</a></code>。
                                    </p>
                            </ol>
                    </ol>
            </ol>
        </div>
        <h3 class="heading settled" data-level="7.3" id="interface-mixin-textencodercommon"><span class="secno">7.3.
            </span><span class="content">接口混入 <code
                    class="idl"><a data-link-type="idl" href="#textencodercommon" id="ref-for-textencodercommon">TextEncoderCommon</a></code></span><a
                class="self-link" href="#interface-mixin-textencodercommon"></a></h3>
        <pre class="idl highlight def"><c- b>interface</c-> <c- b>mixin</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="textencodercommon"><code><c- g>TextEncoderCommon</c-></code></dfn> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString" href="#dom-textencoder-encoding" id="ref-for-dom-textencoder-encoding"><c- g>encoding</c-></a>;
};
</pre>
        <p><code
                class="idl"><a data-link-type="idl" href="#textencodercommon" id="ref-for-textencodercommon①">TextEncoderCommon</a></code>
            接口混入定义了
            <code
                class="idl"><a data-link-type="idl" href="#textencoder" id="ref-for-textencoder①">TextEncoder</a></code>
            和 <code
                class="idl"><a data-link-type="idl" href="#textencoderstream" id="ref-for-textencoderstream">TextEncoderStream</a></code>
            对象共享的通用 getter。
        </p>
        <div class="algorithm" data-algorithm="encoding" data-algorithm-for="TextEncoderCommon">
            <p><dfn class="dfn-paneled idl-code" data-dfn-for="TextEncoderCommon" data-dfn-type="attribute" data-export
                    id="dom-textencoder-encoding"><code>encoding</code></dfn>
                getter 的步骤是返回 "<code>utf-8</code>"。
            </p>
        </div>
        <h3 class="heading settled" data-level="7.4" id="interface-textencoder"><span class="secno">7.4. </span><span
                class="content">接口 <code
                    class="idl"><a data-link-type="idl" href="#textencoder" id="ref-for-textencoder②">TextEncoder</a></code></span><a
                class="self-link" href="#interface-textencoder"></a></h3>
        <pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-textencoderencodeintoresult"><code><c- g>TextEncoderEncodeIntoResult</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="TextEncoderEncodeIntoResult" data-dfn-type="dict-member" data-export data-type="unsigned long long" id="dom-textencoderencodeintoresult-read"><code><c- g>read</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long①"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="TextEncoderEncodeIntoResult" data-dfn-type="dict-member" data-export data-type="unsigned long long" id="dom-textencoderencodeintoresult-written"><code><c- g>written</c-></code></dfn>;
};

[Exposed=*]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="textencoder"><code><c- g>TextEncoder</c-></code></dfn> {
  <a class="idl-code" data-link-type="constructor" href="#dom-textencoder" id="ref-for-dom-textencoder"><c- g>constructor</c-></a>();

  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-Uint8Array" id="ref-for-idl-Uint8Array②"><c- b>Uint8Array</c-></a> <a class="idl-code" data-link-type="method" href="#dom-textencoder-encode" id="ref-for-dom-textencoder-encode"><c- g>encode</c-></a>(<c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="TextEncoder/encode(input), TextEncoder/encode()" data-dfn-type="argument" data-export id="dom-textencoder-encode-input-input"><code><c- g>input</c-></code></dfn> = "");
  <a data-link-type="idl-name" href="#dictdef-textencoderencodeintoresult" id="ref-for-dictdef-textencoderencodeintoresult"><c- n>TextEncoderEncodeIntoResult</c-></a> <a class="idl-code" data-link-type="method" href="#dom-textencoder-encodeinto" id="ref-for-dom-textencoder-encodeinto"><c- g>encodeInto</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString②"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="TextEncoder/encodeInto(source, destination)" data-dfn-type="argument" data-export id="dom-textencoder-encodeinto-source-destination-source"><code><c- g>source</c-></code></dfn>, [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#AllowShared" id="ref-for-AllowShared"><c- g>AllowShared</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-Uint8Array" id="ref-for-idl-Uint8Array③"><c- b>Uint8Array</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="TextEncoder/encodeInto(source, destination)" data-dfn-type="argument" data-export id="dom-textencoder-encodeinto-source-destination-destination"><code><c- g>destination</c-></code></dfn>);
};
<a data-link-type="idl-name" href="#textencoder" id="ref-for-textencoder③"><c- n>TextEncoder</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#textencodercommon" id="ref-for-textencodercommon②"><c- n>TextEncoderCommon</c-></a>;
</pre>
        <p class="note no-backref" role="note">一个 <code
                class="idl"><a data-link-type="idl" href="#textencoder" id="ref-for-textencoder④">TextEncoder</a></code>
            对象不提供 <var>label</var> 参数，因为它只支持 <a data-link-type="dfn" href="#utf-8" id="ref-for-utf-8①⑥">UTF-8</a>。它也不提供
            <code>stream</code> 选项，因为没有<a data-link-type="dfn" href="#encoder" id="ref-for-encoder①③">编码器</a>需要缓冲标量值。
        </p>
        <hr>
        <dl class="domintro">
            <dt><code><var>encoder</var> = new <a class="idl-code" data-link-type="constructor" href="#dom-textencoder" id="ref-for-dom-textencoder①">TextEncoder()</a></code>

            <dd>
                <p>返回一个新的 <code
                        class="idl"><a data-link-type="idl" href="#textencoder" id="ref-for-textencoder⑤">TextEncoder</a></code>
                    对象。
                </p>
            <dt><code><var>encoder</var> . <a class="idl-code" data-link-type="attribute" href="#dom-textencoder-encoding" id="ref-for-dom-textencoder-encoding①">encoding</a></code>

            <dd>
                <p>返回 "<code>utf-8</code>"。
                </p>
            <dt><code><var>encoder</var> . <a class="idl-code" data-link-type="method" href="#dom-textencoder-encode" id="ref-for-dom-textencoder-encode①">encode([<var>input</var> = ""])</a></code>

            <dd>
                <p>返回运行 <a data-link-type="dfn" href="#utf-8" id="ref-for-utf-8①⑦">UTF-8</a>
                    <a data-link-type="dfn" href="#encoder" id="ref-for-encoder①④">编码器</a>的结果。
                </p>
            <dt><code><var>encoder</var> . <a class="idl-code" data-link-type="method" href="#dom-textencoder-encodeinto" id="ref-for-dom-textencoder-encodeinto①">encodeInto(<var>source</var>, <var>destination</var>)</a></code>

            <dd>
                <p>在 <var>source</var> 上运行<a data-link-type="dfn" href="#utf-8-encoder" id="ref-for-utf-8-encoder">UTF-8
                        编码器</a>，将该操作的结果存入
                    <var>destination</var>，并以一个对象的形式返回进度，其中
                    <code
                        class="idl"><a data-link-type="idl" href="#dom-textencoderencodeintoresult-read" id="ref-for-dom-textencoderencodeintoresult-read">read</a></code>
                    是 <var>source</var> 中已转换的<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#code-unit"
                        id="ref-for-code-unit">代码单元</a>数，而 <code
                        class="idl"><a data-link-type="idl" href="#dom-textencoderencodeintoresult-written" id="ref-for-dom-textencoderencodeintoresult-written">written</a></code>
                    是 <var>destination</var> 中已修改的字节数。
                </p>
        </dl>
        <div class="algorithm" data-algorithm="TextEncoder()" data-algorithm-for="TextEncoder">
            <p>
                <dfn class="dfn-paneled idl-code" data-dfn-for="TextEncoder" data-dfn-type="constructor" data-export
                    data-lt="TextEncoder()|constructor()" id="dom-textencoder"><code>new TextEncoder()</code></dfn>
                构造函数的步骤是：不执行任何操作。
            </p>
        </div>
        <div class="algorithm" data-algorithm="encode(input)" data-algorithm-for="TextEncoder">
            <p><dfn class="dfn-paneled idl-code" data-dfn-for="TextEncoder" data-dfn-type="method" data-export
                    data-lt="encode(input)|encode()"
                    id="dom-textencoder-encode"><code>encode(<var>input</var>)</code></dfn> 方法的步骤如下：
            </p>
            <ol>
                <li>
                    <p><a data-link-type="dfn" href="#to-i-o-queue-convert" id="ref-for-to-i-o-queue-convert">将</a>
                        <var>input</var> 转换为标量值的<a data-link-type="dfn" href="#concept-stream"
                            id="ref-for-concept-stream②⑤">I/O 队列</a>。
                    </p>
                <li>
                    <p>令 <var>output</var> 为字节的<a data-link-type="dfn" href="#concept-stream"
                            id="ref-for-concept-stream②⑥">I/O 队列</a> « <a data-link-type="dfn" href="#end-of-stream"
                            id="ref-for-end-of-stream②④">队列末尾</a> »。
                    </p>
                <li>
                    <p>循环执行：
                    </p>
                    <ol>
                        <li>
                            <p>令 <var>item</var> 为从 <var>input</var>
                                <a data-link-type="dfn" href="#concept-stream-read"
                                    id="ref-for-concept-stream-read①⓪">读取</a>的结果。
                            </p>
                        <li>
                            <p>令 <var>result</var> 为使用 <var>item</var>、一个
                                <a data-link-type="dfn" href="#utf-8-encoder" id="ref-for-utf-8-encoder①">UTF-8
                                    编码器</a>实例、<var>input</var>、<var>output</var> 和
                                "<code>fatal</code>" <a data-link-type="dfn" href="#concept-encoding-process"
                                    id="ref-for-concept-encoding-process②">处理一个项目</a>的结果。
                            </p>
                        <li>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert"
                                    id="ref-for-assert⑥">断言</a>：<var>result</var> 不是一个<a data-link-type="dfn"
                                    href="#error" id="ref-for-error①⓪">错误</a>。
                            </p>
                            <p class="note" role="note"><a data-link-type="dfn" href="#utf-8-encoder"
                                    id="ref-for-utf-8-encoder②">UTF-8 编码器</a>不会返回<a data-link-type="dfn" href="#error"
                                    id="ref-for-error①①">错误</a>。
                            </p>
                        <li>
                            <p>如果 <var>result</var> 是<a data-link-type="dfn" href="#finished"
                                    id="ref-for-finished②">完成</a>，则返回根据 <var>output</var> 和<a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②②">当前对象</a>的
                                <a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                                    id="ref-for-concept-relevant-realm">相关领域</a><a data-link-type="dfn"
                                    href="#create-a-uint8array-object" id="ref-for-create-a-uint8array-object">创建一个
                                    <code>Uint8Array</code> 对象</a>的结果。
                            </p>
                    </ol>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="encodeInto(source, destination)" data-algorithm-for="TextEncoder">
            <p>
                <dfn class="dfn-paneled idl-code" data-dfn-for="TextEncoder" data-dfn-type="method" data-export
                    id="dom-textencoder-encodeinto"><code>encodeInto(<var>source</var>, <var>destination</var>)</code></dfn>
                方法的步骤如下：
            </p>
            <ol>
                <li>
                    <p>令 <var>read</var> 为 0。
                    </p>
                <li>
                    <p>令 <var>written</var> 为 0。
                    </p>
                <li>
                    <p>令 <var>encoder</var> 为一个<a data-link-type="dfn" href="#utf-8-encoder"
                            id="ref-for-utf-8-encoder③">UTF-8 编码器</a>的实例。
                    </p>
                <li>
                    <p>令 <var>unused</var> 为标量值的<a data-link-type="dfn" href="#concept-stream"
                            id="ref-for-concept-stream②⑦">I/O 队列</a> « <a data-link-type="dfn" href="#end-of-stream"
                            id="ref-for-end-of-stream②⑤">队列末尾</a> »。
                    </p>
                    <p class="note" role="note">下面调用的<a data-link-type="dfn" href="#handler"
                            id="ref-for-handler②">处理程序</a>算法需要此参数，但
                        <a data-link-type="dfn" href="#utf-8-encoder" id="ref-for-utf-8-encoder④">UTF-8 编码器</a>并未使用它。
                    </p>
                <li>
                    <p><a data-link-type="dfn" href="#to-i-o-queue-convert" id="ref-for-to-i-o-queue-convert①">将</a>
                        <var>source</var> 转换为标量值的<a data-link-type="dfn" href="#concept-stream"
                            id="ref-for-concept-stream②⑧">I/O 队列</a>。
                    </p>
                <li>
                    <p>循环执行：
                    </p>
                    <ol>
                        <li>
                            <p>令 <var>item</var> 为从 <var>source</var> <a data-link-type="dfn"
                                    href="#concept-stream-read" id="ref-for-concept-stream-read①①">读取</a>的结果。
                            </p>
                        <li>
                            <p>令 <var>result</var> 为在 <var>unused</var> 和 <var>item</var> 上运行 <var>encoder</var> 的<a
                                    data-link-type="dfn" href="#handler" id="ref-for-handler③">处理程序</a>的结果。
                            </p>
                        <li>
                            <p>如果 <var>result</var> 是<a data-link-type="dfn" href="#finished"
                                    id="ref-for-finished③">完成</a>，则<a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#iteration-break"
                                    id="ref-for-iteration-break①">跳出循环</a>。
                            </p>
                        <li>
                            <p>否则：
                            </p>
                            <ol>
                                <li>
                                    <p>如果 <var>destination</var> 的<a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#buffersource-byte-length"
                                            id="ref-for-buffersource-byte-length">字节长度</a>减去
                                        <var>written</var> 大于或等于 <var>result</var> 中的字节数：
                                    </p>
                                    <ol>
                                        <li>
                                            <p>如果 <var>item</var> 大于 U+FFFF，则将 <var>read</var> 增加 2。
                                            </p>
                                        <li>
                                            <p>否则，将 <var>read</var> 增加 1。
                                            </p>
                                        <li>
                                            <p>将 <var>result</var> 中的字节<a data-link-type="dfn"
                                                    href="https://webidl.spec.whatwg.org/#arraybufferview-write"
                                                    id="ref-for-arraybufferview-write">写入</a>
                                                <var>destination</var>，<a data-link-type="dfn"
                                                    href="https://webidl.spec.whatwg.org/#arraybufferview-write-startingoffset"
                                                    id="ref-for-arraybufferview-write-startingoffset"><i>起始偏移量</i></a>
                                                设为
                                                <var>written</var>。
                                            </p>
                                            <p class="warning">参见上方
                                                <a href="#sharedarraybuffer-warning">关于 <code>SharedArrayBuffer</code>
                                                    对象的警告</a>。
                                            </p>
                                        <li>
                                            <p>将 <var>written</var> 增加 <var>result</var> 中的字节数。
                                            </p>
                                    </ol>
                                <li>
                                    <p>否则，<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break"
                                            id="ref-for-iteration-break②">跳出循环</a>。
                                    </p>
                            </ol>
                    </ol>
                <li>
                    <p>返回 «[ "<code
                            class="idl"><a data-link-type="idl" href="#dom-textencoderencodeintoresult-read" id="ref-for-dom-textencoderencodeintoresult-read①">read</a></code>"
                        → <var>read</var>,
                        "<code
                            class="idl"><a data-link-type="idl" href="#dom-textencoderencodeintoresult-written" id="ref-for-dom-textencoderencodeintoresult-written①">written</a></code>"
                        → <var>written</var> ]»。
                    </p>
            </ol>
            <div class="example" id="example-textencoder-encodeinto">
                <a class="self-link" href="#example-textencoder-encodeinto"></a>

                <p><a class="idl-code" data-link-type="method" href="#dom-textencoder-encodeinto"
                        id="ref-for-dom-textencoder-encodeinto②">encodeInto()</a> 方法可用于将字符串编码到一个已存在的 <code
                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer②">ArrayBuffer</a></code>
                    对象中。以下示例中的一些细节留给读者作为练习，但它展示了使用此方法的一种可行方式：
                </p>
                <pre><code class="lang-javascript highlight"><c- a>function</c-> convertString<c- p>(</c->buffer<c- p>,</c-> input<c- p>,</c-> callback<c- p>)</c-> <c- p>{</c->
  <c- a>let</c-> bufferSize <c- o>=</c-> <c- mf>256</c-><c- p>,</c->
      bufferStart <c- o>=</c-> malloc<c- p>(</c->buffer<c- p>,</c-> bufferSize<c- p>),</c->
      writeOffset <c- o>=</c-> <c- mf>0</c-><c- p>,</c->
      readOffset <c- o>=</c-> <c- mf>0</c-><c- p>;</c->
  <c- k>while</c-> <c- p>(</c-><c- kc>true</c-><c- p>)</c-> <c- p>{</c->
    <c- a>const</c-> view <c- o>=</c-> <c- ow>new</c-> Uint8Array<c- p>(</c->buffer<c- p>,</c-> bufferStart <c- o>+</c-> writeOffset<c- p>,</c-> bufferSize <c- o>-</c-> writeOffset<c- p>),</c->
          <c- p>{</c->read<c- p>,</c-> written<c- p>}</c-> <c- o>=</c-> cachedEncoder<c- p>.</c->encodeInto<c- p>(</c->input<c- p>.</c->substring<c- p>(</c->readOffset<c- p>),</c-> view<c- p>);</c->
    readOffset <c- o>+=</c-> read<c- p>;</c->
    writeOffset <c- o>+=</c-> written<c- p>;</c->
    <c- k>if</c-> <c- p>(</c->readOffset <c- o>===</c-> input<c- p>.</c->length<c- p>)</c-> <c- p>{</c->
      callback<c- p>(</c->bufferStart<c- p>,</c-> writeOffset<c- p>);</c->
      free<c- p>(</c->buffer<c- p>,</c-> bufferStart<c- p>);</c->
      <c- k>return</c-><c- p>;</c->
    <c- p>}</c->
    bufferSize <c- o>*=</c-> <c- mf>2</c-><c- p>;</c->
    bufferStart <c- o>=</c-> realloc<c- p>(</c->buffer<c- p>,</c-> bufferStart<c- p>,</c-> bufferSize<c- p>);</c->
  <c- p>}</c->
<c- p>}</c->
</code></pre>
            </div>
        </div>
        <h3 class="heading settled" data-level="7.5" id="interface-textdecoderstream"><span class="secno">7.5.
            </span><span class="content">接口 <code
                    class="idl"><a data-link-type="idl" href="#textdecoderstream" id="ref-for-textdecoderstream①">TextDecoderStream</a></code></span><a
                class="self-link" href="#interface-textdecoderstream"></a></h3>
        <pre class="idl highlight def">[Exposed=*]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="textdecoderstream"><code><c- g>TextDecoderStream</c-></code></dfn> {
  <a class="idl-code" data-link-type="constructor" href="#dom-textdecoderstream" id="ref-for-dom-textdecoderstream"><c- g>constructor</c-></a>(<c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString③"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="TextDecoderStream/TextDecoderStream(label, options), TextDecoderStream/constructor(label, options), TextDecoderStream/TextDecoderStream(label), TextDecoderStream/constructor(label), TextDecoderStream/TextDecoderStream(), TextDecoderStream/constructor()" data-dfn-type="argument" data-export id="dom-textdecoderstream-textdecoderstream-label-options-label"><code><c- g>label</c-></code></dfn> = "utf-8", <c- b>optional</c-> <a data-link-type="idl-name" href="#textdecoderoptions" id="ref-for-textdecoderoptions①"><c- n>TextDecoderOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="TextDecoderStream/TextDecoderStream(label, options), TextDecoderStream/constructor(label, options), TextDecoderStream/TextDecoderStream(label), TextDecoderStream/constructor(label), TextDecoderStream/TextDecoderStream(), TextDecoderStream/constructor()" data-dfn-type="argument" data-export id="dom-textdecoderstream-textdecoderstream-label-options-options"><code><c- g>options</c-></code></dfn> = {});
};
<a data-link-type="idl-name" href="#textdecoderstream" id="ref-for-textdecoderstream②"><c- n>TextDecoderStream</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#textdecodercommon" id="ref-for-textdecodercommon④"><c- n>TextDecoderCommon</c-></a>;
<a data-link-type="idl-name" href="#textdecoderstream" id="ref-for-textdecoderstream③"><c- n>TextDecoderStream</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#generictransformstream" id="ref-for-generictransformstream"><c- n>GenericTransformStream</c-></a>;
</pre>
        <dl class="domintro">
            <dt><code><var>decoder</var> = new
 <a class="idl-code" data-link-type="constructor" href="#dom-textdecoderstream" id="ref-for-dom-textdecoderstream①">TextDecoderStream([<var>label</var> =
 "utf-8" [, <var>options</var>]])</a></code>

            <dd>
                <p>返回一个新的 <code
                        class="idl"><a data-link-type="idl" href="#textdecoderstream" id="ref-for-textdecoderstream④">TextDecoderStream</a></code>
                    对象。
                </p>
                <p>如果 <var>label</var> 不是一个有效的标签，或者是用于<a data-link-type="dfn" href="#label"
                        id="ref-for-label⑧">replacement</a>的标签，则<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw④">抛出</a>一个 <code
                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-rangeerror" id="ref-for-exceptiondef-rangeerror②">RangeError</a></code>。
                </p>
            <dt><code><var>decoder</var> . <a class="idl-code" data-link-type="attribute" href="#dom-textdecoder-encoding" id="ref-for-dom-textdecoder-encoding②">encoding</a></code>

            <dd>
                <p>返回<a data-link-type="dfn" href="#textdecoder-encoding" id="ref-for-textdecoder-encoding⑦">编码</a>的<a
                        data-link-type="dfn" href="#name" id="ref-for-name④">名称</a>，小写形式。
                </p>
            <dt><code><var>decoder</var> . <a class="idl-code" data-link-type="attribute" href="#dom-textdecoder-fatal" id="ref-for-dom-textdecoder-fatal②">fatal</a></code>

            <dd>
                <p>如果<a data-link-type="dfn" href="#textdecoder-error-mode"
                        id="ref-for-textdecoder-error-mode⑤">错误模式</a>是 "<code>fatal</code>"，则返回 true，否则返回 false。
                </p>
            <dt><code><var>decoder</var> . <a class="idl-code" data-link-type="attribute" href="#dom-textdecoder-ignorebom" id="ref-for-dom-textdecoder-ignorebom②">ignoreBOM</a></code>

            <dd>
                <p>返回<a data-link-type="dfn" href="#textdecoder-ignore-bom-flag"
                        id="ref-for-textdecoder-ignore-bom-flag④">忽略 BOM 标志</a>的值。
                </p>
            <dt><code><var>decoder</var> . <a class="idl-code" data-link-type="attribute" href="https://streams.spec.whatwg.org/#dom-generictransformstream-readable" id="ref-for-dom-generictransformstream-readable">readable</a></code>

            <dd>
                <p>返回一个<a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readable-stream"
                        id="ref-for-readable-stream">可读流</a>，其<a data-link-type="dfn"
                        href="https://streams.spec.whatwg.org/#chunk" id="ref-for-chunk">块</a>是通过在写入到
                    <code
                        class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#dom-generictransformstream-writable" id="ref-for-dom-generictransformstream-writable">writable</a></code>的块上运行<a
                        data-link-type="dfn" href="#textdecoder-encoding" id="ref-for-textdecoder-encoding⑧">编码</a>的<a
                        data-link-type="dfn" href="#decoder" id="ref-for-decoder①⑤">解码器</a>而产生的字符串。
                </p>
            <dt><code><var>decoder</var> . <a class="idl-code" data-link-type="attribute" href="https://streams.spec.whatwg.org/#dom-generictransformstream-writable" id="ref-for-dom-generictransformstream-writable①">writable</a></code>

            <dd>
                <p>返回一个<a data-link-type="dfn" href="https://streams.spec.whatwg.org/#writable-stream"
                        id="ref-for-writable-stream">可写流</a>，它接受
                    <code><a class="idl-code" data-link-type="typedef" href="https://webidl.spec.whatwg.org/#AllowSharedBufferSource" id="ref-for-AllowSharedBufferSource①">AllowSharedBufferSource</a></code>
                    块，并通过<a data-link-type="dfn" href="#textdecoder-encoding"
                        id="ref-for-textdecoder-encoding⑨">编码</a>的<a data-link-type="dfn" href="#decoder"
                        id="ref-for-decoder①⑥">解码器</a>运行它们，然后才使它们对<code
                        class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#dom-generictransformstream-readable" id="ref-for-dom-generictransformstream-readable①">readable</a></code>可用。
                </p>
                <p>通常这将通过在一个
                    <code
                        class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream">ReadableStream</a></code>
                    源上使用 <code
                        class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#rs-pipe-through" id="ref-for-rs-pipe-through">pipeThrough()</a></code>
                    方法来完成。
                </p>
                <pre class="example" id="example-textdecoderstream-writable"><a class="self-link" href="#example-textdecoderstream-writable"></a><code class="lang-javascript highlight"><c- a>var</c-> decoder <c- o>=</c-> <c- ow>new</c-> TextDecoderStream<c- p>(</c->encoding<c- p>);</c->
byteReadable
  <c- p>.</c->pipeThrough<c- p>(</c->decoder<c- p>)</c->
  <c- p>.</c->pipeTo<c- p>(</c->textWritable<c- p>);</c-></code></pre>
                <p>如果<a data-link-type="dfn" href="#textdecoder-error-mode"
                        id="ref-for-textdecoder-error-mode⑥">错误模式</a>是 "<code>fatal</code>" 并且<a data-link-type="dfn"
                        href="#textdecoder-encoding" id="ref-for-textdecoder-encoding①⓪">编码</a>的<a data-link-type="dfn"
                        href="#decoder" id="ref-for-decoder①⑦">解码器</a>返回<a data-link-type="dfn" href="#error"
                        id="ref-for-error①②">错误</a>，那么
                    <code
                        class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#dom-generictransformstream-readable" id="ref-for-dom-generictransformstream-readable②">readable</a></code>
                    和 <code
                        class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#dom-generictransformstream-writable" id="ref-for-dom-generictransformstream-writable②">writable</a></code>
                    都将因一个
                    <code
                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror②">TypeError</a></code>
                    而出错。
                </p>
        </dl>
        <div class="algorithm" data-algorithm="TextDecoderStream(label, options)"
            data-algorithm-for="TextDecoderStream">
            <p>
                <dfn class="dfn-paneled idl-code" data-dfn-for="TextDecoderStream" data-dfn-type="constructor"
                    data-export
                    data-lt="TextDecoderStream(label, options)|constructor(label, options)|TextDecoderStream(label)|constructor(label)|TextDecoderStream()|constructor()"
                    id="dom-textdecoderstream"><code>new TextDecoderStream(<var>label</var>, <var>options</var>)</code></dfn>
                构造函数的步骤如下：
            </p>
            <ol>
                <li>
                    <p>令 <var>encoding</var> 为从 <var>label</var> <a data-link-type="dfn" href="#concept-encoding-get"
                            id="ref-for-concept-encoding-get②">获取编码</a>的结果。
                    </p>
                <li>
                    <p>如果 <var>encoding</var> 是 failure 或 <a data-link-type="dfn" href="#replacement"
                            id="ref-for-replacement⑧">replacement</a>，则<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw⑤">抛出</a>一个 <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-rangeerror" id="ref-for-exceptiondef-rangeerror③">RangeError</a></code>。
                    </p>
                <li>
                    <p>设置<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this②③">当前对象</a>的<a data-link-type="dfn" href="#textdecoder-encoding"
                            id="ref-for-textdecoder-encoding①①">编码</a>为 <var>encoding</var>。
                    </p>
                <li>
                    <p>如果 <var>options</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-textdecoderoptions-fatal" id="ref-for-dom-textdecoderoptions-fatal①">fatal</a></code>"]
                        为 true，则设置<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this②④">当前对象</a>的
                        <a data-link-type="dfn" href="#textdecoder-error-mode"
                            id="ref-for-textdecoder-error-mode⑦">错误模式</a>为 "<code>fatal</code>"。
                    </p>
                <li>
                    <p>设置<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this②⑤">当前对象</a>的<a data-link-type="dfn" href="#textdecoder-ignore-bom-flag"
                            id="ref-for-textdecoder-ignore-bom-flag⑤">忽略 BOM 标志</a>为
                        <var>options</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-textdecoderoptions-ignorebom" id="ref-for-dom-textdecoderoptions-ignorebom①">ignoreBOM</a></code>"]。
                    </p>
                <li>
                    <p>设置<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this②⑥">当前对象</a>的<a data-link-type="dfn" href="#textdecodercommon-decoder"
                            id="ref-for-textdecodercommon-decoder③">解码器</a>为一个<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②⑦">当前对象</a>的
                        <a data-link-type="dfn" href="#textdecoder-encoding"
                            id="ref-for-textdecoder-encoding①②">编码</a>的<a data-link-type="dfn" href="#decoder"
                            id="ref-for-decoder①⑧">解码器</a>的新实例，并设置<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②⑧">当前对象</a>的
                        <a data-link-type="dfn" href="#textdecodercommon-i-o-queue"
                            id="ref-for-textdecodercommon-i-o-queue④">I/O 队列</a>为一个新的<a data-link-type="dfn"
                            href="#concept-stream" id="ref-for-concept-stream②⑨">I/O 队列</a>。
                    </p>
                <li>
                    <p>令 <var>transformAlgorithm</var> 为一个接受 <var>chunk</var> 参数的算法，并使用<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②⑨">当前对象</a>和 <var>chunk</var>
                        运行<a data-link-type="dfn" href="#decode-and-enqueue-a-chunk"
                            id="ref-for-decode-and-enqueue-a-chunk">解码并入队一个块</a>算法。
                    </p>
                <li>
                    <p>令 <var>flushAlgorithm</var> 为一个不接受参数的算法，并使用<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③⓪">当前对象</a>运行<a
                            data-link-type="dfn" href="#flush-and-enqueue" id="ref-for-flush-and-enqueue">刷新并入队</a>算法。
                    </p>
                <li>
                    <p>令 <var>transformStream</var> 为一个<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#new" id="ref-for-new">新的</a> <code
                            class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#transformstream" id="ref-for-transformstream">TransformStream</a></code>。
                    </p>
                <li>
                    <p><a data-link-type="dfn" href="https://streams.spec.whatwg.org/#transformstream-set-up"
                            id="ref-for-transformstream-set-up">设置</a> <var>transformStream</var>，
                        <a data-link-type="dfn"
                            href="https://streams.spec.whatwg.org/#transformstream-set-up-transformalgorithm"
                            id="ref-for-transformstream-set-up-transformalgorithm"><var>transformAlgorithm</var></a> 设为
                        <var>transformAlgorithm</var>，
                        <a data-link-type="dfn"
                            href="https://streams.spec.whatwg.org/#transformstream-set-up-flushalgorithm"
                            id="ref-for-transformstream-set-up-flushalgorithm"><var>flushAlgorithm</var></a> 设为
                        <var>flushAlgorithm</var>。
                    </p>
                <li>
                    <p>设置<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this③①">当前对象</a>的<a data-link-type="dfn"
                            href="https://streams.spec.whatwg.org/#generictransformstream-transform"
                            id="ref-for-generictransformstream-transform">transform</a>为 <var>transformStream</var>。
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="decode and enqueue a chunk">
            <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                    id="decode-and-enqueue-a-chunk">解码并入队一个块</dfn>算法，给定一个 <code
                    class="idl"><a data-link-type="idl" href="#textdecoderstream" id="ref-for-textdecoderstream⑤">TextDecoderStream</a></code>
                对象
                <var>decoder</var> 和一个 <var>chunk</var>，运行以下步骤：
            </p>
            <ol>
                <li>
                    <p>令 <var>bufferSource</var> 为将 <var>chunk</var>
                        <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value"
                            id="ref-for-dfn-convert-ecmascript-to-idl-value">转换为</a>
                        <code><a class="idl-code" data-link-type="typedef" href="https://webidl.spec.whatwg.org/#AllowSharedBufferSource" id="ref-for-AllowSharedBufferSource②">AllowSharedBufferSource</a></code>
                        的结果。
                    </p>
                <li>
                    <p>将 <var>bufferSource</var> 的<a data-link-type="dfn" href="#concept-stream-push"
                            id="ref-for-concept-stream-push⑨">一个副本</a>
                        <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-get-buffer-source-copy"
                            id="ref-for-dfn-get-buffer-source-copy①">推入</a>
                        <var>decoder</var> 的<a data-link-type="dfn" href="#textdecodercommon-i-o-queue"
                            id="ref-for-textdecodercommon-i-o-queue⑤">I/O 队列</a>。
                    </p>
                    <p class="warning">参见上方
                        <a href="#sharedarraybuffer-warning">关于 <code>SharedArrayBuffer</code> 对象的警告</a>。
                    </p>
                <li>
                    <p>令 <var>output</var> 为标量值的<a data-link-type="dfn" href="#concept-stream"
                            id="ref-for-concept-stream③⓪">I/O 队列</a>
                        « <a data-link-type="dfn" href="#end-of-stream" id="ref-for-end-of-stream②⑥">队列末尾</a> »。
                    </p>
                <li>
                    <p>循环执行：
                    </p>
                    <ol>
                        <li>
                            <p>令 <var>item</var> 为从 <var>decoder</var> 的
                                <a data-link-type="dfn" href="#textdecodercommon-i-o-queue"
                                    id="ref-for-textdecodercommon-i-o-queue⑥">I/O 队列</a><a data-link-type="dfn"
                                    href="#concept-stream-read" id="ref-for-concept-stream-read①②">读取</a>的结果。
                            </p>
                        <li>
                            <p>如果 <var>item</var> 是<a data-link-type="dfn" href="#end-of-stream"
                                    id="ref-for-end-of-stream②⑦">队列末尾</a>：
                            </p>
                            <ol>
                                <li>
                                    <p>令 <var>outputChunk</var> 为使用
                                        <var>decoder</var> 和 <var>output</var> 运行<a data-link-type="dfn"
                                            href="#concept-td-serialize" id="ref-for-concept-td-serialize②">序列化 I/O
                                            队列</a>的结果。
                                    </p>
                                <li>
                                    <p>如果 <var>outputChunk</var> 不是空字符串，则
                                        在 <var>decoder</var> 的
                                        <a data-link-type="dfn"
                                            href="https://streams.spec.whatwg.org/#generictransformstream-transform"
                                            id="ref-for-generictransformstream-transform①">transform</a> 中<a
                                            data-link-type="dfn"
                                            href="https://streams.spec.whatwg.org/#transformstream-enqueue"
                                            id="ref-for-transformstream-enqueue">入队</a> <var>outputChunk</var>。
                                    </p>
                                <li>
                                    <p>返回。
                                    </p>
                            </ol>
                        <li>
                            <p>令 <var>result</var> 为使用 <var>item</var>、
                                <var>decoder</var> 的<a data-link-type="dfn" href="#textdecodercommon-decoder"
                                    id="ref-for-textdecodercommon-decoder④">解码器</a>、<var>decoder</var> 的
                                <a data-link-type="dfn" href="#textdecodercommon-i-o-queue"
                                    id="ref-for-textdecodercommon-i-o-queue⑦">I/O 队列</a>、<var>output</var> 和
                                <var>decoder</var> 的
                                <a data-link-type="dfn" href="#textdecoder-error-mode"
                                    id="ref-for-textdecoder-error-mode⑧">错误模式</a><a data-link-type="dfn"
                                    href="#concept-encoding-process"
                                    id="ref-for-concept-encoding-process③">处理一个项目</a>的结果。
                            </p>
                        <li>
                            <p>如果 <var>result</var> 是<a data-link-type="dfn" href="#error"
                                    id="ref-for-error①③">错误</a>，则<a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw⑥">抛出</a>一个
                                <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror③">TypeError</a></code>。
                            </p>
                    </ol>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="flush and enqueue">
            <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="flush-and-enqueue">刷新并入队</dfn>算法，用于处理来自输入
                <code
                    class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream①">ReadableStream</a></code>
                对象的数据结束，给定一个 <code
                    class="idl"><a data-link-type="idl" href="#textdecoderstream" id="ref-for-textdecoderstream⑥">TextDecoderStream</a></code>
                对象 <var>decoder</var>，运行以下步骤：
            </p>
            <ol>
                <li>
                    <p>令 <var>output</var> 为标量值的<a data-link-type="dfn" href="#concept-stream"
                            id="ref-for-concept-stream③①">I/O 队列</a>
                        « <a data-link-type="dfn" href="#end-of-stream" id="ref-for-end-of-stream②⑧">队列末尾</a> »。
                    </p>
                <li>
                    <p>循环执行：
                    </p>
                    <ol>
                        <li>
                            <p>令 <var>item</var> 为从 <var>decoder</var> 的
                                <a data-link-type="dfn" href="#textdecodercommon-i-o-queue"
                                    id="ref-for-textdecodercommon-i-o-queue⑧">I/O 队列</a><a data-link-type="dfn"
                                    href="#concept-stream-read" id="ref-for-concept-stream-read①③">读取</a>的结果。
                            </p>
                        <li>
                            <p>令 <var>result</var> 为使用 <var>item</var>、
                                <var>decoder</var> 的<a data-link-type="dfn" href="#textdecodercommon-decoder"
                                    id="ref-for-textdecodercommon-decoder⑤">解码器</a>、<var>decoder</var> 的
                                <a data-link-type="dfn" href="#textdecodercommon-i-o-queue"
                                    id="ref-for-textdecodercommon-i-o-queue⑨">I/O 队列</a>、<var>output</var> 和
                                <var>decoder</var> 的
                                <a data-link-type="dfn" href="#textdecoder-error-mode"
                                    id="ref-for-textdecoder-error-mode⑨">错误模式</a><a data-link-type="dfn"
                                    href="#concept-encoding-process"
                                    id="ref-for-concept-encoding-process④">处理一个项目</a>的结果。
                            </p>
                        <li>
                            <p>如果 <var>result</var> 是<a data-link-type="dfn" href="#finished"
                                    id="ref-for-finished④">完成</a>：
                            </p>
                            <ol>
                                <li>
                                    <p>令 <var>outputChunk</var> 为使用
                                        <var>decoder</var> 和 <var>output</var> 运行<a data-link-type="dfn"
                                            href="#concept-td-serialize" id="ref-for-concept-td-serialize③">序列化 I/O
                                            队列</a>的结果。
                                    </p>
                                <li>
                                    <p>如果 <var>outputChunk</var> 不是空字符串，则
                                        在 <var>decoder</var> 的
                                        <a data-link-type="dfn"
                                            href="https://streams.spec.whatwg.org/#generictransformstream-transform"
                                            id="ref-for-generictransformstream-transform②">transform</a> 中<a
                                            data-link-type="dfn"
                                            href="https://streams.spec.whatwg.org/#transformstream-enqueue"
                                            id="ref-for-transformstream-enqueue①">入队</a> <var>outputChunk</var>。
                                    </p>
                                <li>
                                    <p>返回。
                                    </p>
                            </ol>
                        <li>
                            <p>否则，如果 <var>result</var> 是<a data-link-type="dfn" href="#error"
                                    id="ref-for-error①④">错误</a>，则<a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw⑦">抛出</a>一个
                                <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror④">TypeError</a></code>。
                            </p>
                    </ol>
            </ol>
        </div>
        <h3 class="heading settled" data-level="7.6" id="interface-textencoderstream"><span class="secno">7.6.
            </span><span class="content">接口 <code
                    class="idl"><a data-link-type="idl" href="#textencoderstream" id="ref-for-textencoderstream①">TextEncoderStream</a></code></span><a
                class="self-link" href="#interface-textencoderstream"></a></h3>
        <pre class="idl highlight def">[Exposed=*]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="textencoderstream"><code><c- g>TextEncoderStream</c-></code></dfn> {
  <a class="idl-code" data-link-type="constructor" href="#dom-textencoderstream" id="ref-for-dom-textencoderstream"><c- g>constructor</c-></a>();
};
<a data-link-type="idl-name" href="#textencoderstream" id="ref-for-textencoderstream②"><c- n>TextEncoderStream</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#textencodercommon" id="ref-for-textencodercommon③"><c- n>TextEncoderCommon</c-></a>;
<a data-link-type="idl-name" href="#textencoderstream" id="ref-for-textencoderstream③"><c- n>TextEncoderStream</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#generictransformstream" id="ref-for-generictransformstream①"><c- n>GenericTransformStream</c-></a>;
</pre>
        <p>一个 <code
                class="idl"><a data-link-type="idl" href="#textencoderstream" id="ref-for-textencoderstream④">TextEncoderStream</a></code>
            对象拥有一个关联的：
        </p>
        <dl>
            <dt><dfn class="dfn-paneled" data-dfn-for="TextEncoderStream" data-dfn-type="dfn" data-noexport
                    id="textencoderstream-encoder">编码器（encoder）</dfn>

            <dd>一个<a data-link-type="dfn" href="#encoder" id="ref-for-encoder①⑤">编码器</a>实例。
            <dt><dfn class="dfn-paneled" data-dfn-for="TextEncoderStream" data-dfn-type="dfn" data-noexport
                    id="textencoderstream-pending-high-surrogate">前导代理项（leading surrogate）</dfn>

            <dd>null 或一个<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#leading-surrogate"
                    id="ref-for-leading-surrogate①">前导代理项</a>，初始为 null。
        </dl>
        <p class="note no-backref" role="note">一个 <code
                class="idl"><a data-link-type="idl" href="#textencoderstream" id="ref-for-textencoderstream⑤">TextEncoderStream</a></code>
            对象不提供 <var>label</var> 参数，因为它只支持 <a data-link-type="dfn" href="#utf-8" id="ref-for-utf-8①⑧">UTF-8</a>。
        </p>
        <dl class="domintro">
            <dt><code><var>encoder</var> = new <a class="idl-code" data-link-type="constructor" href="#dom-textencoderstream" id="ref-for-dom-textencoderstream①">TextEncoderStream()</a></code>

            <dd>
                <p>返回一个新的 <code
                        class="idl"><a data-link-type="idl" href="#textencoderstream" id="ref-for-textencoderstream⑥">TextEncoderStream</a></code>
                    对象。
                </p>
            <dt><code><var>encoder</var> . <a class="idl-code" data-link-type="attribute" href="#dom-textencoder-encoding" id="ref-for-dom-textencoder-encoding②">encoding</a></code>

            <dd>
                <p>返回 "<code>utf-8</code>"。
                </p>
            <dt><code><var>encoder</var> . <a class="idl-code" data-link-type="attribute" href="https://streams.spec.whatwg.org/#dom-generictransformstream-readable" id="ref-for-dom-generictransformstream-readable③">readable</a></code>

            <dd>
                <p>返回一个<a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readable-stream"
                        id="ref-for-readable-stream①">可读流</a>，其<a data-link-type="dfn"
                        href="https://streams.spec.whatwg.org/#chunk" id="ref-for-chunk①">块</a>是通过在写入到 <code
                        class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#dom-generictransformstream-writable" id="ref-for-dom-generictransformstream-writable③">writable</a></code>
                    的块上运行
                    <a data-link-type="dfn" href="#utf-8" id="ref-for-utf-8①⑨">UTF-8</a> 的<a data-link-type="dfn"
                        href="#encoder" id="ref-for-encoder①⑥">编码器</a>而产生的 <code
                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-Uint8Array" id="ref-for-idl-Uint8Array④">Uint8Array</a></code>。
                </p>
            <dt><code><var>encoder</var> . <a class="idl-code" data-link-type="attribute" href="https://streams.spec.whatwg.org/#dom-generictransformstream-writable" id="ref-for-dom-generictransformstream-writable④">writable</a></code>

            <dd>
                <p>返回一个<a data-link-type="dfn" href="https://streams.spec.whatwg.org/#writable-stream"
                        id="ref-for-writable-stream①">可写流</a>，它接受字符串块，并通过
                    <a data-link-type="dfn" href="#utf-8" id="ref-for-utf-8②⓪">UTF-8</a> 的<a data-link-type="dfn"
                        href="#encoder" id="ref-for-encoder①⑦">编码器</a>运行它们，然后才使它们对
                    <code
                        class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#dom-generictransformstream-readable" id="ref-for-dom-generictransformstream-readable④">readable</a></code>
                    可用。
                </p>
                <p>通常这将通过在一个
                    <code
                        class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream②">ReadableStream</a></code>
                    源上使用 <code
                        class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#rs-pipe-through" id="ref-for-rs-pipe-through①">pipeThrough()</a></code>
                    方法来完成。
                </p>
                <pre class="example" id="example-textencoderstream-writable"><a class="self-link" href="#example-textencoderstream-writable"></a><code class="lang-javascript highlight">textReadable
  <c- p>.</c->pipeThrough<c- p>(</c-><c- ow>new</c-> TextEncoderStream<c- p>())</c->
  <c- p>.</c->pipeTo<c- p>(</c->byteWritable<c- p>);</c-></code></pre>
        </dl>
        <div class="algorithm" data-algorithm="TextEncoderStream()" data-algorithm-for="TextEncoderStream">
            <p>
                <dfn class="dfn-paneled idl-code" data-dfn-for="TextEncoderStream" data-dfn-type="constructor"
                    data-export data-lt="TextEncoderStream()|constructor()"
                    id="dom-textencoderstream"><code>new TextEncoderStream()</code></dfn>
                构造函数的步骤如下：
            </p>
            <ol>
                <li>
                    <p>设置<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this③②">当前对象</a>的<a data-link-type="dfn" href="#textencoderstream-encoder"
                            id="ref-for-textencoderstream-encoder">编码器</a>为一个
                        <a data-link-type="dfn" href="#utf-8-encoder" id="ref-for-utf-8-encoder⑤">UTF-8 编码器</a>的实例。
                    </p>
                <li>
                    <p>令 <var>transformAlgorithm</var> 为一个接受 <var>chunk</var> 参数的算法，并使用<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③③">当前对象</a>和 <var>chunk</var>
                        运行<a data-link-type="dfn" href="#encode-and-enqueue-a-chunk"
                            id="ref-for-encode-and-enqueue-a-chunk">编码并入队一个块</a>算法。
                    </p>
                <li>
                    <p>令 <var>flushAlgorithm</var> 为一个使用<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③④">当前对象</a>运行<a
                            data-link-type="dfn" href="#encode-and-flush" id="ref-for-encode-and-flush">编码并刷新</a>算法的算法。
                    </p>
                <li>
                    <p>令 <var>transformStream</var> 为一个<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#new" id="ref-for-new①">新的</a> <code
                            class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#transformstream" id="ref-for-transformstream①">TransformStream</a></code>。
                    </p>
                <li>
                    <p><a data-link-type="dfn" href="https://streams.spec.whatwg.org/#transformstream-set-up"
                            id="ref-for-transformstream-set-up①">设置</a> <var>transformStream</var>，
                        <a data-link-type="dfn"
                            href="https://streams.spec.whatwg.org/#transformstream-set-up-transformalgorithm"
                            id="ref-for-transformstream-set-up-transformalgorithm①"><var>transformAlgorithm</var></a>
                        设为
                        <var>transformAlgorithm</var>，
                        <a data-link-type="dfn"
                            href="https://streams.spec.whatwg.org/#transformstream-set-up-flushalgorithm"
                            id="ref-for-transformstream-set-up-flushalgorithm①"><var>flushAlgorithm</var></a> 设为
                        <var>flushAlgorithm</var>。
                    </p>
                <li>
                    <p>设置<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this③⑤">当前对象</a>的<a data-link-type="dfn"
                            href="https://streams.spec.whatwg.org/#generictransformstream-transform"
                            id="ref-for-generictransformstream-transform③">transform</a>为 <var>transformStream</var>。
                    </p>
            </ol>
        </div>
        <hr>
        <div class="algorithm" data-algorithm="encode and enqueue a chunk">
            <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                    id="encode-and-enqueue-a-chunk">编码并入队一个块</dfn>算法，给定一个 <code
                    class="idl"><a data-link-type="idl" href="#textencoderstream" id="ref-for-textencoderstream⑦">TextEncoderStream</a></code>
                对象
                <var>encoder</var> 和 <var>chunk</var>，运行以下步骤：
            </p>
            <ol>
                <li>
                    <p>令 <var>input</var> 为将
                        <var>chunk</var> <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value"
                            id="ref-for-dfn-convert-ecmascript-to-idl-value①">转换为</a>
                        <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString④">DOMString</a></code>
                        的结果。
                    </p>
                <li>
                    <p><a data-link-type="dfn" href="#to-i-o-queue-convert" id="ref-for-to-i-o-queue-convert②">将</a>
                        <var>input</var> 转换为<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#code-unit"
                            id="ref-for-code-unit①">代码单元</a>的<a data-link-type="dfn" href="#concept-stream"
                            id="ref-for-concept-stream③②">I/O 队列</a>。
                    </p>
                    <p class="note" role="note"><code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑤">DOMString</a></code>
                        以及代码单元而非标量值的<a data-link-type="dfn" href="#concept-stream" id="ref-for-concept-stream③③">I/O
                            队列</a>在此处被使用，以便在块之间分割的代理对可以被重新组装成
                        适当的标量值。除此以外，其行为与 <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString③">USVString</a></code>
                        相同。特别地，
                        孤立的代理项将被替换为 U+FFFD ()。
                    </p>
                <li>
                    <p>令 <var>output</var> 为字节的<a data-link-type="dfn" href="#concept-stream"
                            id="ref-for-concept-stream③④">I/O 队列</a> « <a data-link-type="dfn" href="#end-of-stream"
                            id="ref-for-end-of-stream②⑨">队列末尾</a> »。
                    </p>
                <li>
                    <p>循环执行：
                    </p>
                    <ol>
                        <li>
                            <p>令 <var>item</var> 为从 <var>input</var> <a data-link-type="dfn" href="#concept-stream-read"
                                    id="ref-for-concept-stream-read①④">读取</a>的结果。
                            </p>
                        <li>
                            <p>如果 <var>item</var> 是<a data-link-type="dfn" href="#end-of-stream"
                                    id="ref-for-end-of-stream③⓪">队列末尾</a>：
                            </p>
                            <ol>
                                <li>
                                    <p><a data-link-type="dfn" href="#from-i-o-queue-convert"
                                            id="ref-for-from-i-o-queue-convert①">将</a> <var>output</var> 转换为一个
                                        字节序列。
                                    </p>
                                <li>
                                    <p>如果 <var>output</var> <a data-link-type="dfn"
                                            href="https://infra.spec.whatwg.org/#list-is-empty"
                                            id="ref-for-list-is-empty①">不为空</a>：
                                    </p>
                                    <ol>
                                        <li>
                                            <p>令 <var>chunk</var> 为根据 <var>output</var> 和 <var>encoder</var> 的<a
                                                    data-link-type="dfn"
                                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                                                    id="ref-for-concept-relevant-realm①">相关领域</a><a data-link-type="dfn"
                                                    href="#create-a-uint8array-object"
                                                    id="ref-for-create-a-uint8array-object①">创建一个
                                                    <code>Uint8Array</code> 对象</a>的结果。
                                            </p>
                                        <li>
                                            <p>将 <var>chunk</var>
                                                <a data-link-type="dfn"
                                                    href="https://streams.spec.whatwg.org/#transformstream-enqueue"
                                                    id="ref-for-transformstream-enqueue②">入队</a>到 <var>encoder</var> 的
                                                <a data-link-type="dfn"
                                                    href="https://streams.spec.whatwg.org/#generictransformstream-transform"
                                                    id="ref-for-generictransformstream-transform④">transform</a> 中。
                                            </p>
                                    </ol>
                                <li>
                                    <p>返回。
                                    </p>
                            </ol>
                        <li>
                            <p>令 <var>result</var> 为使用 <var>encoder</var>、<var>item</var> 和 <var>input</var> 执行<a
                                    data-link-type="dfn" href="#convert-code-unit-to-scalar-value"
                                    id="ref-for-convert-code-unit-to-scalar-value">将代码单元转换为标量值</a>算法的结果。
                            </p>
                        <li>
                            <p>如果 <var>result</var> 不是<a data-link-type="dfn" href="#continue"
                                    id="ref-for-continue②">继续</a>，则使用
                                <var>result</var>、<var>encoder</var> 的<a data-link-type="dfn"
                                    href="#textencoderstream-encoder"
                                    id="ref-for-textencoderstream-encoder①">编码器</a>、<var>input</var>、
                                <var>output</var> 和 "<code>fatal</code>" <a data-link-type="dfn"
                                    href="#concept-encoding-process" id="ref-for-concept-encoding-process⑤">处理一个项目</a>。
                            </p>
                    </ol>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="convert code unit to scalar value">
            <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                    id="convert-code-unit-to-scalar-value">将代码单元转换为标量值</dfn>算法，给定一个
                <code
                    class="idl"><a data-link-type="idl" href="#textencoderstream" id="ref-for-textencoderstream⑧">TextEncoderStream</a></code>
                对象
                <var>encoder</var>、一个<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#code-unit"
                    id="ref-for-code-unit②">代码单元</a> <var>item</var> 和一个代码单元的<a data-link-type="dfn"
                    href="#concept-stream" id="ref-for-concept-stream③⑤">I/O 队列</a>
                <var>input</var>，运行以下步骤：
            </p>
            <ol>
                <li>
                    <p>如果 <var>encoder</var> 的<a data-link-type="dfn" href="#textencoderstream-pending-high-surrogate"
                            id="ref-for-textencoderstream-pending-high-surrogate">前导代理项</a>非空：
                    </p>
                    <ol>
                        <li>
                            <p>令 <var>leadingSurrogate</var> 为 <var>encoder</var> 的
                                <a data-link-type="dfn" href="#textencoderstream-pending-high-surrogate"
                                    id="ref-for-textencoderstream-pending-high-surrogate①">前导代理项</a>。
                            </p>
                        <li>
                            <p>设置 <var>encoder</var> 的<a data-link-type="dfn"
                                    href="#textencoderstream-pending-high-surrogate"
                                    id="ref-for-textencoderstream-pending-high-surrogate②">前导代理项</a>为
                                null。
                            </p>
                        <li>
                            <p>如果 <var>item</var> 是一个<a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#trailing-surrogate"
                                    id="ref-for-trailing-surrogate①">后尾代理项</a>，则返回一个根据
                                <var>leadingSurrogate</var> 和 <var>item</var> <a data-link-type="dfn"
                                    href="#scalar-value-from-surrogates"
                                    id="ref-for-scalar-value-from-surrogates">从代理对得到的标量值</a>。
                            </p>
                        <li>
                            <p>将 <var>item</var>
                                <a data-link-type="dfn" href="#concept-stream-prepend"
                                    id="ref-for-concept-stream-prepend②">恢复</a>到
                                <var>input</var>。
                            </p>
                        <li>
                            <p>返回 U+FFFD ()。
                            </p>
                    </ol>
                <li>
                    <p>如果 <var>item</var> 是一个<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#leading-surrogate"
                            id="ref-for-leading-surrogate②">前导代理项</a>，则设置 <var>encoder</var> 的
                        <a data-link-type="dfn" href="#textencoderstream-pending-high-surrogate"
                            id="ref-for-textencoderstream-pending-high-surrogate③">前导代理项</a>为
                        <var>item</var> 并返回<a data-link-type="dfn" href="#continue" id="ref-for-continue③">继续</a>。
                    </p>
                <li>
                    <p>如果 <var>item</var> 是一个<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#trailing-surrogate"
                            id="ref-for-trailing-surrogate②">后尾代理项</a>，则返回 U+FFFD ()。
                    </p>
                <li>
                    <p>返回 <var>item</var>。
                    </p>
            </ol>
            <p class="note" role="note">这相当于 Infra 标准中的“<a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#javascript-string-convert"
                    id="ref-for-javascript-string-convert">将</a>一个<a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#string" id="ref-for-string②">字符串</a>转换为一个
                <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#scalar-value-string"
                    id="ref-for-scalar-value-string">标量值字符串</a>”算法，但允许
                代理对在字符串之间被分割。 <a data-link-type="biblio" href="#biblio-infra" title="Infra Standard">[INFRA]</a>
            </p>
        </div>
        <div class="algorithm" data-algorithm="encode and flush">
            <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="encode-and-flush">编码并刷新</dfn>算法，给定一个 <code
                    class="idl"><a data-link-type="idl" href="#textencoderstream" id="ref-for-textencoderstream⑨">TextEncoderStream</a></code>
                对象
                <var>encoder</var>，运行以下步骤：
            </p>
            <ol>
                <li>
                    <p>如果 <var>encoder</var> 的<a data-link-type="dfn" href="#textencoderstream-pending-high-surrogate"
                            id="ref-for-textencoderstream-pending-high-surrogate④">前导代理项</a>非空：
                    </p>
                    <ol>
                        <li>
                            <p>令 <var>chunk</var> 为根据
                                « 0xEF, 0xBF, 0xBD » 和 <var>encoder</var> 的<a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                                    id="ref-for-concept-relevant-realm②">相关领域</a><a data-link-type="dfn"
                                    href="#create-a-uint8array-object" id="ref-for-create-a-uint8array-object②">创建一个
                                    <code>Uint8Array</code> 对象</a>的结果。
                            </p>
                            <p class="note" role="note">这是 U+FFFD () 在<a data-link-type="dfn" href="#utf-8"
                                    id="ref-for-utf-8②①">UTF-8</a>中的字节表示。
                            </p>
                        <li>
                            <p>将 <var>chunk</var>
                                <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#transformstream-enqueue"
                                    id="ref-for-transformstream-enqueue③">入队</a>到
                                <var>encoder</var> 的
                                <a data-link-type="dfn"
                                    href="https://streams.spec.whatwg.org/#generictransformstream-transform"
                                    id="ref-for-generictransformstream-transform⑤">transform</a> 中。
                            </p>
                    </ol>
            </ol>
        </div>
        <h2 class="heading settled" data-level="8" id="the-encoding"><span class="secno">8. </span><span
                class="content">编码</span><a class="self-link" href="#the-encoding"></a></h2>
        <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="8.1" data-lt="UTF-8"
            id="utf-8"><span class="secno">8.1. </span><span class="content">UTF-8</span><a class="self-link"
                href="#utf-8" id="ref-for-utf-8②⑤"></a></h3>
        <h4 class="heading settled dfn-paneled algorithm" data-algorithm="UTF-8 decoder" data-dfn-type="dfn" data-export
            data-level="8.1.1" data-lt="UTF-8 decoder" id="utf-8-decoder"><span class="secno">8.1.1. </span><span
                class="content">UTF-8 解码器</span><a class="self-link" href="#utf-8-decoder"
                id="ref-for-utf-8-decoder"></a></h4>
        <p class="note" role="note">字节顺序标记（BOM）的优先级高于标签，因为在已部署的内容中发现它更为准确。因此，它不属于 <a data-link-type="dfn"
                href="#utf-8-decoder" id="ref-for-utf-8-decoder②">UTF-8 解码器</a>算法的一部分，而是属于
            <a data-link-type="dfn" href="#decode" id="ref-for-decode⑤">decode</a> 和 <a data-link-type="dfn"
                href="#utf-8-decode" id="ref-for-utf-8-decode③">UTF-8 decode</a> 算法。
        </p>
        <p><a data-link-type="dfn" href="#utf-8" id="ref-for-utf-8②②">UTF-8</a> 的<a data-link-type="dfn" href="#decoder"
                id="ref-for-decoder①⑨">解码器</a>拥有一个关联的：
        </p>
        <dl>
            <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="utf-8-code-point">UTF-8 码点</dfn>

            <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="utf-8-bytes-seen">已见 UTF-8 字节数</dfn>

            <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="utf-8-bytes-needed">所需 UTF-8 字节数</dfn>

            <dd>均为数字，初始为 0。
            <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="utf-8-lower-boundary">UTF-8 下界</dfn>

            <dd>一个字节，初始为 0x80。
            <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="utf-8-upper-boundary">UTF-8 上界</dfn>

            <dd>一个字节，初始为 0xBF。
        </dl>
        <p><a data-link-type="dfn" href="#utf-8" id="ref-for-utf-8②③">UTF-8</a> <a data-link-type="dfn" href="#decoder"
                id="ref-for-decoder②⓪">解码器</a>的<a data-link-type="dfn" href="#handler" id="ref-for-handler④">处理程序</a>，给定
            <var>ioQueue</var> 和 <var>byte</var>，运行以下步骤：
        </p>
        <ol>
            <li>
                <p>如果 <var>byte</var> 是<a data-link-type="dfn" href="#end-of-stream"
                        id="ref-for-end-of-stream③①">队列末尾</a>且<a data-link-type="dfn" href="#utf-8-bytes-needed"
                        id="ref-for-utf-8-bytes-needed">所需 UTF-8 字节数</a>不为 0，则将
                    <a data-link-type="dfn" href="#utf-8-bytes-needed" id="ref-for-utf-8-bytes-needed①">所需 UTF-8
                        字节数</a>设为 0 并返回<a data-link-type="dfn" href="#error" id="ref-for-error①⑤">错误</a>。
                </p>
            <li>
                <p>如果 <var>byte</var> 是<a data-link-type="dfn" href="#end-of-stream"
                        id="ref-for-end-of-stream③②">队列末尾</a>，则返回<a data-link-type="dfn" href="#finished"
                        id="ref-for-finished⑤">完成</a>。
                </p>
            <li>
                <p>如果<a data-link-type="dfn" href="#utf-8-bytes-needed" id="ref-for-utf-8-bytes-needed②">所需 UTF-8
                        字节数</a>为 0，则根据 <var>byte</var>：
                </p>
                <dl class="switch">
                    <dt>0x00 到 0x7F

                    <dd>
                        <p>返回一个码点，其值为 <var>byte</var>。
                        </p>
                    <dt>0xC2 到 0xDF

                    <dd>
                        <ol>
                            <li>
                                <p>将<a data-link-type="dfn" href="#utf-8-bytes-needed"
                                        id="ref-for-utf-8-bytes-needed③">所需 UTF-8 字节数</a>设为 1。
                                </p>
                            <li>
                                <p>将<a data-link-type="dfn" href="#utf-8-code-point" id="ref-for-utf-8-code-point">UTF-8
                                        码点</a>设为 <var>byte</var> &amp;
                                    0x1F。
                                </p>
                                <p class="note" role="note"><var>byte</var> 的最低五位。
                                </p>
                        </ol>
                    <dt>0xE0 到 0xEF

                    <dd>
                        <ol>
                            <li>
                                <p>如果 <var>byte</var> 是 0xE0，则将<a data-link-type="dfn" href="#utf-8-lower-boundary"
                                        id="ref-for-utf-8-lower-boundary">UTF-8 下界</a>设为 0xA0。
                                </p>
                            <li>
                                <p>如果 <var>byte</var> 是 0xED，则将<a data-link-type="dfn" href="#utf-8-upper-boundary"
                                        id="ref-for-utf-8-upper-boundary">UTF-8 上界</a>设为 0x9F。
                                </p>
                            <li>
                                <p>将<a data-link-type="dfn" href="#utf-8-bytes-needed"
                                        id="ref-for-utf-8-bytes-needed④">所需 UTF-8 字节数</a>设为 2。
                                </p>
                            <li>
                                <p>将<a data-link-type="dfn" href="#utf-8-code-point"
                                        id="ref-for-utf-8-code-point①">UTF-8 码点</a>设为 <var>byte</var> &amp;
                                    0xF。
                                </p>
                                <p class="note" role="note"><var>byte</var> 的最低四位。
                                </p>
                        </ol>
                    <dt>0xF0 到 0xF4

                    <dd>
                        <ol>
                            <li>
                                <p>如果 <var>byte</var> 是 0xF0，则将<a data-link-type="dfn" href="#utf-8-lower-boundary"
                                        id="ref-for-utf-8-lower-boundary①">UTF-8 下界</a>设为 0x90。
                                </p>
                            <li>
                                <p>如果 <var>byte</var> 是 0xF4，则将<a data-link-type="dfn" href="#utf-8-upper-boundary"
                                        id="ref-for-utf-8-upper-boundary①">UTF-8 上界</a>设为 0x8F。
                                </p>
                            <li>
                                <p>将<a data-link-type="dfn" href="#utf-8-bytes-needed"
                                        id="ref-for-utf-8-bytes-needed⑤">所需 UTF-8 字节数</a>设为 3。
                                </p>
                            <li>
                                <p>将<a data-link-type="dfn" href="#utf-8-code-point"
                                        id="ref-for-utf-8-code-point②">UTF-8 码点</a>设为 <var>byte</var> &amp;
                                    0x7。
                                </p>
                                <p class="note" role="note"><var>byte</var> 的最低三位。
                                </p>
                        </ol>
                    <dt>其他情况

                    <dd>
                        <p>返回<a data-link-type="dfn" href="#error" id="ref-for-error①⑥">错误</a>。
                        </p>
                </dl>
                <p>返回<a data-link-type="dfn" href="#continue" id="ref-for-continue④">继续</a>。
                </p>
            <li>
                <p>如果 <var>byte</var> 不在<a data-link-type="dfn" href="#utf-8-lower-boundary"
                        id="ref-for-utf-8-lower-boundary②">UTF-8 下界</a>到
                    <a data-link-type="dfn" href="#utf-8-upper-boundary" id="ref-for-utf-8-upper-boundary②">UTF-8
                        上界</a>（含）的范围内：
                </p>
                <ol>
                    <li>
                        <p>将<a data-link-type="dfn" href="#utf-8-code-point" id="ref-for-utf-8-code-point③">UTF-8
                                码点</a>、
                            <a data-link-type="dfn" href="#utf-8-bytes-needed" id="ref-for-utf-8-bytes-needed⑥">所需 UTF-8
                                字节数</a>和<a data-link-type="dfn" href="#utf-8-bytes-seen"
                                id="ref-for-utf-8-bytes-seen">已见 UTF-8 字节数</a>设为 0，
                            将<a data-link-type="dfn" href="#utf-8-lower-boundary"
                                id="ref-for-utf-8-lower-boundary③">UTF-8 下界</a>设为 0x80，并将
                            <a data-link-type="dfn" href="#utf-8-upper-boundary"
                                id="ref-for-utf-8-upper-boundary③">UTF-8 上界</a>设为 0xBF。
                        </p>
                    <li>
                        <p>将 <var>byte</var> <a data-link-type="dfn" href="#concept-stream-prepend"
                                id="ref-for-concept-stream-prepend③">恢复</a>到 <var>ioQueue</var>。
                        </p>
                    <li>
                        <p>返回<a data-link-type="dfn" href="#error" id="ref-for-error①⑦">错误</a>。
                        </p>
                </ol>
            <li>
                <p>将<a data-link-type="dfn" href="#utf-8-lower-boundary" id="ref-for-utf-8-lower-boundary④">UTF-8
                        下界</a>设为 0x80，并将
                    <a data-link-type="dfn" href="#utf-8-upper-boundary" id="ref-for-utf-8-upper-boundary④">UTF-8
                        上界</a>设为 0xBF。
                </p>
            <li>
                <p>将<a data-link-type="dfn" href="#utf-8-code-point" id="ref-for-utf-8-code-point④">UTF-8 码点</a>设为 (<a
                        data-link-type="dfn" href="#utf-8-code-point" id="ref-for-utf-8-code-point⑤">UTF-8 码点</a>
                    &lt;&lt; 6) |
                    (<var>byte</var> &amp; 0x3F)
                </p>
                <p class="note no-backref" role="note">将<a data-link-type="dfn" href="#utf-8-code-point"
                        id="ref-for-utf-8-code-point⑥">UTF-8 码点</a>的现有位左移六位，并将新空出的最低六位设置为
                    <var>byte</var> 的最低六位。
                </p>
            <li>
                <p>将<a data-link-type="dfn" href="#utf-8-bytes-seen" id="ref-for-utf-8-bytes-seen①">已见 UTF-8 字节数</a>增加一。
                </p>
            <li>
                <p>如果<a data-link-type="dfn" href="#utf-8-bytes-seen" id="ref-for-utf-8-bytes-seen②">已见 UTF-8
                        字节数</a>不等于<a data-link-type="dfn" href="#utf-8-bytes-needed" id="ref-for-utf-8-bytes-needed⑦">所需
                        UTF-8 字节数</a>，则返回
                    <a data-link-type="dfn" href="#continue" id="ref-for-continue⑤">继续</a>。
                </p>
            <li>
                <p>令 <var>codePoint</var> 为<a data-link-type="dfn" href="#utf-8-code-point"
                        id="ref-for-utf-8-code-point⑦">UTF-8 码点</a>。
                </p>
            <li>
                <p>将<a data-link-type="dfn" href="#utf-8-code-point" id="ref-for-utf-8-code-point⑧">UTF-8 码点</a>、
                    <a data-link-type="dfn" href="#utf-8-bytes-needed" id="ref-for-utf-8-bytes-needed⑧">所需 UTF-8
                        字节数</a>和<a data-link-type="dfn" href="#utf-8-bytes-seen" id="ref-for-utf-8-bytes-seen③">已见 UTF-8
                        字节数</a>设为 0。
                </p>
            <li>
                <p>返回一个码点，其值为 <var>codePoint</var>。
                </p>
        </ol>
        <p class="note" role="note">上述<a data-link-type="dfn" href="#utf-8-decoder" id="ref-for-utf-8-decoder①">UTF-8
                解码器</a>中的约束与 Unicode 标准中的“使用 U+FFFD 的最佳实践”相匹配。根据编码标准，不允许有其他行为（实现相同结果的其他算法是允许的，甚至是被鼓励的）。
            <a data-link-type="biblio" href="#biblio-unicode" title="The Unicode Standard">[UNICODE]</a>
        </p>
        <h4 class="heading settled dfn-paneled algorithm" data-algorithm="UTF-8 encoder" data-dfn-type="dfn" data-export
            data-level="8.1.2" data-lt="UTF-8 encoder" id="utf-8-encoder"><span class="secno">8.1.2. </span><span
                class="content">UTF-8 编码器</span><a class="self-link" href="#utf-8-encoder"
                id="ref-for-utf-8-encoder⑥"></a></h4>
        <p><a data-link-type="dfn" href="#utf-8" id="ref-for-utf-8②④">UTF-8</a> 的<a data-link-type="dfn" href="#encoder"
                id="ref-for-encoder①⑧">编码器</a>的<a data-link-type="dfn" href="#handler" id="ref-for-handler⑤">处理程序</a>，给定
            <var>unused</var> 和
            <var>codePoint</var>，执行以下步骤：
        </p>
        <ol>
            <li>
                <p>如果 <var>codePoint</var> 是<a data-link-type="dfn" href="#end-of-stream"
                        id="ref-for-end-of-stream③③">队列末尾</a>，则返回<a data-link-type="dfn" href="#finished"
                        id="ref-for-finished⑥">完成</a>。
                </p>
            <li>
                <p>如果 <var>codePoint</var> 是一个<a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#ascii-code-point" id="ref-for-ascii-code-point①">ASCII
                        码点</a>，则返回一个值为
                    <var>codePoint</var> 的字节。
                </p>
            <li>
                <p>根据 <var>codePoint</var> 所在的范围设置 <var>count</var> 和 <var>offset</var>：
                </p>
                <dl class="switch">
                    <dt>U+0080 到 U+07FF（含）

                    <dd>1 和 0xC0

                    <dt>U+0800 到 U+FFFF（含）

                    <dd>2 和 0xE0

                    <dt>U+10000 到 U+10FFFF（含）

                    <dd>3 和 0xF0

                </dl>
            <li>
                <p>令 <var>bytes</var> 为一个字节序列，其第一个字节是
                    (<var>codePoint</var> >> (6 × <var>count</var>)) + <var>offset</var>。
                </p>
            <li>
                <p>当 <var>count</var> 大于 0 时：
                </p>
                <ol>
                    <li>
                        <p>将 <var>temp</var> 设置为
                            <var>codePoint</var> >> (6 × (<var>count</var> − 1))。
                        </p>
                    <li>
                        <p>向 <var>bytes</var> 追加 0x80 | (<var>temp</var> &amp; 0x3F)。
                        </p>
                    <li>
                        <p>将 <var>count</var> 减一。
                        </p>
                </ol>
            <li>
                <p>按顺序返回字节序列 <var>bytes</var>。
                </p>
        </ol>
        <p class="note" role="note">该算法的结果与 Unicode 标准中描述的算法相同。
            此处包含它是为了完整性。<a data-link-type="biblio" href="#biblio-unicode" title="The Unicode Standard">[UNICODE]</a>
        </p>
        <h2 class="heading settled" data-level="9" id="legacy-single-byte-encodings"><span class="secno">9. </span><span
                class="content">旧式单字节编码</span><a class="self-link" href="#legacy-single-byte-encodings"></a></h2>
        <p>一个<a data-link-type="dfn" href="#encoding" id="ref-for-encoding②⑧">编码</a>，其中每个字节要么是一个单独的码点，要么什么都不是，这就是<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-noexport id="single-byte-encoding">单字节编码</dfn>。
            <a data-link-type="dfn" href="#single-byte-encoding" id="ref-for-single-byte-encoding①">单字节编码</a>共享
            <a data-link-type="dfn" href="#decoder" id="ref-for-decoder②①">解码器</a>和<a data-link-type="dfn"
                href="#encoder" id="ref-for-encoder①⑨">编码器</a>。<dfn class="dfn-paneled" data-dfn-type="dfn"
                data-noexport id="index-single-byte">单字节索引</dfn>，由<a data-link-type="dfn" href="#single-byte-decoder"
                id="ref-for-single-byte-decoder">单字节解码器</a>和
            <a data-link-type="dfn" href="#single-byte-encoder"
                id="ref-for-single-byte-encoder">单字节编码器</a>引用，由下表定义，并取决于所使用的<a data-link-type="dfn"
                href="#single-byte-encoding" id="ref-for-single-byte-encoding②">单字节编码</a>。除了两种
            <a data-link-type="dfn" href="#single-byte-encoding"
                id="ref-for-single-byte-encoding③">单字节编码</a>外，所有单字节编码都有一个唯一的<a data-link-type="dfn" href="#index"
                id="ref-for-index①①">索引</a>。
        </p>
        <table>
            <tbody>
                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="ibm866">IBM866</dfn>
                    <td><a href="https://encoding.spec.whatwg.org/index-ibm866.txt">index-ibm866.txt</a>
                    <td><a href="https://encoding.spec.whatwg.org/ibm866.html">IBM866 索引可视化</a>
                    <td><a href="https://encoding.spec.whatwg.org/ibm866-bmp.html">IBM866 索引 BMP 覆盖范围</a>

                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="iso-8859-2">ISO-8859-2</dfn>
                    <td><a href="https://encoding.spec.whatwg.org/index-iso-8859-2.txt">index-iso-8859-2.txt</a>
                    <td><a href="https://encoding.spec.whatwg.org/iso-8859-2.html">ISO-8859-2 索引可视化</a>
                    <td><a href="https://encoding.spec.whatwg.org/iso-8859-2-bmp.html">ISO-8859-2 索引 BMP 覆盖范围</a>

                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="iso-8859-3">ISO-8859-3</dfn>
                    <td><a href="https://encoding.spec.whatwg.org/index-iso-8859-3.txt">index-iso-8859-3.txt</a>
                    <td><a href="https://encoding.spec.whatwg.org/iso-8859-3.html">ISO-8859-3 索引可视化</a>
                    <td><a href="https://encoding.spec.whatwg.org/iso-8859-3-bmp.html">ISO-8859-3 索引 BMP 覆盖范围</a>

                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="iso-8859-4">ISO-8859-4</dfn>
                    <td><a href="https://encoding.spec.whatwg.org/index-iso-8859-4.txt">index-iso-8859-4.txt</a>
                    <td><a href="https://encoding.spec.whatwg.org/iso-8859-4.html">ISO-8859-4 索引可视化</a>
                    <td><a href="https://encoding.spec.whatwg.org/iso-8859-4-bmp.html">ISO-8859-4 索引 BMP 覆盖范围</a>

                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="iso-8859-5">ISO-8859-5</dfn>
                    <td><a href="https://encoding.spec.whatwg.org/index-iso-8859-5.txt">index-iso-8859-5.txt</a>
                    <td><a href="https://encoding.spec.whatwg.org/iso-8859-5.html">ISO-8859-5 索引可视化</a>
                    <td><a href="https://encoding.spec.whatwg.org/iso-8859-5-bmp.html">ISO-8859-5 索引 BMP 覆盖范围</a>

                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="iso-8859-6">ISO-8859-6</dfn>
                    <td><a href="https://encoding.spec.whatwg.org/index-iso-8859-6.txt">index-iso-8859-6.txt</a>
                    <td><a href="https://encoding.spec.whatwg.org/iso-8859-6.html">ISO-8859-6 索引可视化</a>
                    <td><a href="https://encoding.spec.whatwg.org/iso-8859-6-bmp.html">ISO-8859-6 索引 BMP 覆盖范围</a>

                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="iso-8859-7">ISO-8859-7</dfn>
                    <td><a href="https://encoding.spec.whatwg.org/index-iso-8859-7.txt">index-iso-8859-7.txt</a>
                    <td><a href="https://encoding.spec.whatwg.org/iso-8859-7.html">ISO-8859-7 索引可视化</a>
                    <td><a href="https://encoding.spec.whatwg.org/iso-8859-7-bmp.html">ISO-8859-7 索引 BMP 覆盖范围</a>

                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="iso-8859-8">ISO-8859-8</dfn>
                    <td rowspan="2"><a
                            href="https://encoding.spec.whatwg.org/index-iso-8859-8.txt">index-iso-8859-8.txt</a>
                    <td rowspan="2"><a href="https://encoding.spec.whatwg.org/iso-8859-8.html">ISO-8859-8 索引可视化</a>
                    <td rowspan="2"><a href="https://encoding.spec.whatwg.org/iso-8859-8-bmp.html">ISO-8859-8 索引 BMP
                            覆盖范围</a>

                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="iso-8859-8-i">ISO-8859-8-I</dfn>

                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="iso-8859-10">ISO-8859-10</dfn>
                    <td><a href="https://encoding.spec.whatwg.org/index-iso-8859-10.txt">index-iso-8859-10.txt</a>
                    <td><a href="https://encoding.spec.whatwg.org/iso-8859-10.html">ISO-8859-10 索引可视化</a>
                    <td><a href="https://encoding.spec.whatwg.org/iso-8859-10-bmp.html">ISO-8859-10 索引 BMP 覆盖范围</a>

                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="iso-8859-13">ISO-8859-13</dfn>
                    <td><a href="https://encoding.spec.whatwg.org/index-iso-8859-13.txt">index-iso-8859-13.txt</a>
                    <td><a href="https://encoding.spec.whatwg.org/iso-8859-13.html">ISO-8859-13 索引可视化</a>
                    <td><a href="https://encoding.spec.whatwg.org/iso-8859-13-bmp.html">ISO-8859-13 索引 BMP 覆盖范围</a>

                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="iso-8859-14">ISO-8859-14</dfn>
                    <td><a href="https://encoding.spec.whatwg.org/index-iso-8859-14.txt">index-iso-8859-14.txt</a>
                    <td><a href="https://encoding.spec.whatwg.org/iso-8859-14.html">ISO-8859-14 索引可视化</a>
                    <td><a href="https://encoding.spec.whatwg.org/iso-8859-14-bmp.html">ISO-8859-14 索引 BMP 覆盖范围</a>

                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="iso-8859-15">ISO-8859-15</dfn>
                    <td><a href="https://encoding.spec.whatwg.org/index-iso-8859-15.txt">index-iso-8859-15.txt</a>
                    <td><a href="https://encoding.spec.whatwg.org/iso-8859-15.html">ISO-8859-15 索引可视化</a>
                    <td><a href="https://encoding.spec.whatwg.org/iso-8859-15-bmp.html">ISO-8859-15 索引 BMP 覆盖范围</a>

                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="iso-8859-16">ISO-8859-16</dfn>
                    <td><a href="https://encoding.spec.whatwg.org/index-iso-8859-16.txt">index-iso-8859-16.txt</a>
                    <td><a href="https://encoding.spec.whatwg.org/iso-8859-16.html">ISO-8859-16 索引可视化</a>
                    <td><a href="https://encoding.spec.whatwg.org/iso-8859-16-bmp.html">ISO-8859-16 索引 BMP 覆盖范围</a>

                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="koi8-r">KOI8-R</dfn>
                    <td><a href="https://encoding.spec.whatwg.org/index-koi8-r.txt">index-koi8-r.txt</a>
                    <td><a href="https://encoding.spec.whatwg.org/koi8-r.html">KOI8-R 索引可视化</a>
                    <td><a href="https://encoding.spec.whatwg.org/koi8-r-bmp.html">KOI8-R 索引 BMP 覆盖范围</a>

                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="koi8-u">KOI8-U</dfn>
                    <td><a href="https://encoding.spec.whatwg.org/index-koi8-u.txt">index-koi8-u.txt</a>
                    <td><a href="https://encoding.spec.whatwg.org/koi8-u.html">KOI8-U 索引可视化</a>
                    <td><a href="https://encoding.spec.whatwg.org/koi8-u-bmp.html">KOI8-U 索引 BMP 覆盖范围</a>

                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="macintosh">macintosh</dfn>
                    <td><a href="https://encoding.spec.whatwg.org/index-macintosh.txt">index-macintosh.txt</a>
                    <td><a href="https://encoding.spec.whatwg.org/macintosh.html">macintosh 索引可视化</a>
                    <td><a href="https://encoding.spec.whatwg.org/macintosh-bmp.html">macintosh 索引 BMP 覆盖范围</a>

                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="windows-874">windows-874</dfn>
                    <td><a href="https://encoding.spec.whatwg.org/index-windows-874.txt">index-windows-874.txt</a>
                    <td><a href="https://encoding.spec.whatwg.org/windows-874.html">windows-874 索引可视化</a>
                    <td><a href="https://encoding.spec.whatwg.org/windows-874-bmp.html">windows-874 索引 BMP 覆盖范围</a>

                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="windows-1250">windows-1250</dfn>
                    <td><a href="https://encoding.spec.whatwg.org/index-windows-1250.txt">index-windows-1250.txt</a>
                    <td><a href="https://encoding.spec.whatwg.org/windows-1250.html">windows-1250 索引可视化</a>
                    <td><a href="https://encoding.spec.whatwg.org/windows-1250-bmp.html">windows-1250 索引 BMP 覆盖范围</a>

                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="windows-1251">windows-1251</dfn>
                    <td><a href="https://encoding.spec.whatwg.org/index-windows-1251.txt">index-windows-1251.txt</a>
                    <td><a href="https://encoding.spec.whatwg.org/windows-1251.html">windows-1251 索引可视化</a>
                    <td><a href="https://encoding.spec.whatwg.org/windows-1251-bmp.html">windows-1251 索引 BMP 覆盖范围</a>

                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="windows-1252">windows-1252</dfn>
                    <td><a href="https://encoding.spec.whatwg.org/index-windows-1252.txt">index-windows-1252.txt</a>
                    <td><a href="https://encoding.spec.whatwg.org/windows-1252.html">windows-1252 索引可视化</a>
                    <td><a href="https://encoding.spec.whatwg.org/windows-1252-bmp.html">windows-1252 索引 BMP 覆盖范围</a>

                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="windows-1253">windows-1253</dfn>
                    <td><a href="https://encoding.spec.whatwg.org/index-windows-1253.txt">index-windows-1253.txt</a>
                    <td><a href="https://encoding.spec.whatwg.org/windows-1253.html">windows-1253 索引可视化</a>
                    <td><a href="https://encoding.spec.whatwg.org/windows-1253-bmp.html">windows-1253 索引 BMP 覆盖范围</a>

                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="windows-1254">windows-1254</dfn>
                    <td><a href="https://encoding.spec.whatwg.org/index-windows-1254.txt">index-windows-1254.txt</a>
                    <td><a href="https://encoding.spec.whatwg.org/windows-1254.html">windows-1254 索引可视化</a>
                    <td><a href="https://encoding.spec.whatwg.org/windows-1254-bmp.html">windows-1254 索引 BMP 覆盖范围</a>

                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="windows-1255">windows-1255</dfn>
                    <td><a href="https://encoding.spec.whatwg.org/index-windows-1255.txt">index-windows-1255.txt</a>
                    <td><a href="https://encoding.spec.whatwg.org/windows-1255.html">windows-1255 索引可视化</a>
                    <td><a href="https://encoding.spec.whatwg.org/windows-1255-bmp.html">windows-1255 索引 BMP 覆盖范围</a>

                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="windows-1256">windows-1256</dfn>
                    <td><a href="https://encoding.spec.whatwg.org/index-windows-1256.txt">index-windows-1256.txt</a>
                    <td><a href="https://encoding.spec.whatwg.org/windows-1256.html">windows-1256 索引可视化</a>
                    <td><a href="https://encoding.spec.whatwg.org/windows-1256-bmp.html">windows-1256 索引 BMP 覆盖范围</a>

                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="windows-1257">windows-1257</dfn>
                    <td><a href="https://encoding.spec.whatwg.org/index-windows-1257.txt">index-windows-1257.txt</a>
                    <td><a href="https://encoding.spec.whatwg.org/windows-1257.html">windows-1257 索引可视化</a>
                    <td><a href="https://encoding.spec.whatwg.org/windows-1257-bmp.html">windows-1257 索引 BMP 覆盖范围</a>

                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="windows-1258">windows-1258</dfn>
                    <td><a href="https://encoding.spec.whatwg.org/index-windows-1258.txt">index-windows-1258.txt</a>
                    <td><a href="https://encoding.spec.whatwg.org/windows-1258.html">windows-1258 索引可视化</a>
                    <td><a href="https://encoding.spec.whatwg.org/windows-1258-bmp.html">windows-1258 索引 BMP 覆盖范围</a>

                <tr>
                    <td><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                            id="x-mac-cyrillic">x-mac-cyrillic</dfn>
                    <td><a href="https://encoding.spec.whatwg.org/index-x-mac-cyrillic.txt">index-x-mac-cyrillic.txt</a>
                    <td><a href="https://encoding.spec.whatwg.org/x-mac-cyrillic.html">x-mac-cyrillic 索引可视化</a>
                    <td><a href="https://encoding.spec.whatwg.org/x-mac-cyrillic-bmp.html">x-mac-cyrillic 索引 BMP
                            覆盖范围</a>

        </table>
        <p class="note" role="note"><a data-link-type="dfn" href="#iso-8859-8" id="ref-for-iso-8859-8①">ISO-8859-8</a>
            和<a data-link-type="dfn" href="#iso-8859-8-i" id="ref-for-iso-8859-8-i①">ISO-8859-8-I</a>是
            不同的<a data-link-type="dfn" href="#encoding" id="ref-for-encoding②⑨">编码</a><a data-link-type="dfn"
                href="#name" id="ref-for-name⑤">名称</a>，因为
            <a data-link-type="dfn" href="#iso-8859-8" id="ref-for-iso-8859-8②">ISO-8859-8</a> 会影响布局方向。尽管
            历史上<a data-link-type="dfn" href="#iso-8859-6" id="ref-for-iso-8859-6①">ISO-8859-6</a>和
            “ISO-8859-6-I”也可能存在这种情况，但现在已不再如此。
        </p>
        <h3 class="heading settled dfn-paneled algorithm" data-algorithm="single-byte decoder" data-dfn-type="dfn"
            data-export data-level="9.1" data-lt="single-byte decoder" id="single-byte-decoder"><span class="secno">9.1.
            </span><span class="content">单字节解码器</span><a class="self-link" href="#single-byte-decoder"
                id="ref-for-single-byte-decoder①"></a></h3>
        <p><a data-link-type="dfn" href="#single-byte-encoding" id="ref-for-single-byte-encoding④">单字节编码</a>的<a
                data-link-type="dfn" href="#decoder" id="ref-for-decoder②②">解码器</a>的<a data-link-type="dfn"
                href="#handler" id="ref-for-handler⑥">处理程序</a>，给定
            <var>unused</var> 和 <var>byte</var>，执行以下步骤：
        </p>
        <ol>
            <li>
                <p>如果 <var>byte</var> 是<a data-link-type="dfn" href="#end-of-stream"
                        id="ref-for-end-of-stream③④">队列末尾</a>，则返回<a data-link-type="dfn" href="#finished"
                        id="ref-for-finished⑦">完成</a>。
                </p>
            <li>
                <p>如果 <var>byte</var> 是一个<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-byte"
                        id="ref-for-ascii-byte①">ASCII 字节</a>，则返回一个值为
                    <var>byte</var> 的码点。
                </p>
            <li>
                <p>令 <var>codePoint</var> 为<a data-link-type="dfn" href="#index-single-byte"
                        id="ref-for-index-single-byte①">单字节索引</a>中 <var>byte</var> − 0x80 对应的<a data-link-type="dfn"
                        href="#index-code-point" id="ref-for-index-code-point">索引码点</a>。
                </p>
            <li>
                <p>如果 <var>codePoint</var> 为 null，则返回<a data-link-type="dfn" href="#error" id="ref-for-error①⑧">错误</a>。
                </p>
            <li>
                <p>返回一个值为 <var>codePoint</var> 的码点。
                </p>
        </ol>
        <h3 class="heading settled dfn-paneled algorithm" data-algorithm="single-byte encoder" data-dfn-type="dfn"
            data-export data-level="9.2" data-lt="single-byte encoder" id="single-byte-encoder"><span class="secno">9.2.
            </span><span class="content">单字节编码器</span><a class="self-link" href="#single-byte-encoder"
                id="ref-for-single-byte-encoder①"></a></h3>
        <p><a data-link-type="dfn" href="#single-byte-encoding" id="ref-for-single-byte-encoding⑤">单字节编码</a>的<a
                data-link-type="dfn" href="#encoder" id="ref-for-encoder②⓪">编码器</a>的<a data-link-type="dfn"
                href="#handler" id="ref-for-handler⑦">处理程序</a>，给定
            <var>unused</var> 和 <var>codePoint</var>，执行以下步骤：
        </p>
        <ol>
            <li>
                <p>如果 <var>codePoint</var> 是<a data-link-type="dfn" href="#end-of-stream"
                        id="ref-for-end-of-stream③⑤">队列末尾</a>，则返回<a data-link-type="dfn" href="#finished"
                        id="ref-for-finished⑧">完成</a>。
                </p>
            <li>
                <p>如果 <var>codePoint</var> 是一个<a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#ascii-code-point" id="ref-for-ascii-code-point②">ASCII
                        码点</a>，则返回一个值为
                    <var>codePoint</var> 的字节。
                </p>
            <li>
                <p>令 <var>pointer</var> 为<a data-link-type="dfn" href="#index-single-byte"
                        id="ref-for-index-single-byte②">单字节索引</a>中 <var>codePoint</var> 对应的<a data-link-type="dfn"
                        href="#index-pointer" id="ref-for-index-pointer②">索引指针</a>。
                </p>
            <li>
                <p>如果 <var>pointer</var> 为 null，则返回带 <var>codePoint</var> 的<a data-link-type="dfn" href="#error"
                        id="ref-for-error①⑨">错误</a>。
                </p>
            <li>
                <p>返回一个值为 <var>pointer</var> + 0x80 的字节。
                </p>
        </ol>
        <h2 class="heading settled" data-level="10" id="legacy-multi-byte-chinese-(simplified)-encodings"><span
                class="secno">10. </span><span class="content">旧式多字节简体中文编码</span><a class="self-link"
                href="#legacy-multi-byte-chinese-(simplified)-encodings"></a></h2>
        <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="10.1" data-lt="GBK"
            id="gbk"><span class="secno">10.1. </span><span class="content">GBK</span><a class="self-link" href="#gbk"
                id="ref-for-gbk⑤"></a></h3>
        <h4 class="heading settled dfn-paneled algorithm" data-algorithm="GBK decoder" data-dfn-type="dfn" data-export
            data-level="10.1.1" data-lt="GBK decoder" id="gbk-decoder"><span class="secno">10.1.1. </span><span
                class="content">GBK 解码器</span><a class="self-link" href="#gbk-decoder" id="ref-for-gbk-decoder"></a>
        </h4>
        <p><a data-link-type="dfn" href="#gbk" id="ref-for-gbk①">GBK</a> 的<a data-link-type="dfn" href="#decoder"
                id="ref-for-decoder②③">解码器</a>是 <a data-link-type="dfn" href="#gb18030"
                id="ref-for-gb18030①">gb18030</a> 的<a data-link-type="dfn" href="#decoder"
                id="ref-for-decoder②④">解码器</a>。
        </p>
        <h4 class="heading settled dfn-paneled algorithm" data-algorithm="GBK encoder" data-dfn-type="dfn" data-export
            data-level="10.1.2" data-lt="GBK encoder" id="gbk-encoder"><span class="secno">10.1.2. </span><span
                class="content">GBK 编码器</span><a class="self-link" href="#gbk-encoder" id="ref-for-gbk-encoder"></a>
        </h4>
        <p><a data-link-type="dfn" href="#gbk" id="ref-for-gbk②">GBK</a> 的<a data-link-type="dfn" href="#encoder"
                id="ref-for-encoder②①">编码器</a>是 <a data-link-type="dfn" href="#gb18030"
                id="ref-for-gb18030②">gb18030</a> 的<a data-link-type="dfn" href="#encoder"
                id="ref-for-encoder②②">编码器</a>，并将其 <a data-link-type="dfn" href="#gbk-flag" id="ref-for-gbk-flag">is
                GBK</a> 标志设置为 true。
        </p>
        <p class="note no-backref" role="note">不将 <a data-link-type="dfn" href="#gbk" id="ref-for-gbk③">GBK</a> 与 <a
                data-link-type="dfn" href="#gb18030" id="ref-for-gb18030③">gb18030</a> 完全别名化是一种保守的做法，旨在减少破坏使用 <a
                data-link-type="dfn" href="#gbk" id="ref-for-gbk④">GBK</a> <a data-link-type="dfn" href="#encoder"
                id="ref-for-encoder②③">编码器</a>生成的旧式服务器和其他内容消费者的可能性。
        </p>
        <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="10.2" data-lt="gb18030"
            id="gb18030"><span class="secno">10.2. </span><span class="content">gb18030</span><a class="self-link"
                href="#gb18030" id="ref-for-gb18030①①"></a></h3>
        <h4 class="heading settled dfn-paneled algorithm" data-algorithm="gb18030 decoder" data-dfn-type="dfn"
            data-export data-level="10.2.1" data-lt="gb18030 decoder" id="gb18030-decoder"><span class="secno">10.2.1.
            </span><span class="content">gb18030 解码器</span><a class="self-link" href="#gb18030-decoder"
                id="ref-for-gb18030-decoder①"></a></h4>
        <p><a data-link-type="dfn" href="#gb18030" id="ref-for-gb18030④">gb18030</a> 的<a data-link-type="dfn"
                href="#decoder" id="ref-for-decoder②⑤">解码器</a>拥有一个关联的：
        </p>
        <dl>
            <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="gb18030-first">gb18030 第一个字节</dfn>

            <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="gb18030-second">gb18030 第二个字节</dfn>

            <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="gb18030-third">gb18030 第三个字节</dfn>

            <dd>均为字节，初始值为 0x00。
        </dl>
        <p><a data-link-type="dfn" href="#gb18030" id="ref-for-gb18030⑤">gb18030</a> 的<a data-link-type="dfn"
                href="#decoder" id="ref-for-decoder②⑥">解码器</a>的<a data-link-type="dfn" href="#handler"
                id="ref-for-handler⑧">处理程序</a>，给定
            <var>ioQueue</var> 和 <var>byte</var>，执行以下步骤：
        </p>
        <ol>
            <li>
                <p>如果 <var>byte</var> 是<a data-link-type="dfn" href="#end-of-stream"
                        id="ref-for-end-of-stream③⑥">队列末尾</a>，并且<a data-link-type="dfn" href="#gb18030-first"
                        id="ref-for-gb18030-first">gb18030 第一个字节</a>、<a data-link-type="dfn" href="#gb18030-second"
                        id="ref-for-gb18030-second">gb18030 第二个字节</a>和
                    <a data-link-type="dfn" href="#gb18030-third" id="ref-for-gb18030-third">gb18030 第三个字节</a>均为
                    0x00，则返回<a data-link-type="dfn" href="#finished" id="ref-for-finished⑨">完成</a>。
                </p>
            <li>
                <p>如果 <var>byte</var> 是<a data-link-type="dfn" href="#end-of-stream"
                        id="ref-for-end-of-stream③⑦">队列末尾</a>，并且<a data-link-type="dfn" href="#gb18030-first"
                        id="ref-for-gb18030-first①">gb18030 第一个字节</a>、<a data-link-type="dfn" href="#gb18030-second"
                        id="ref-for-gb18030-second①">gb18030 第二个字节</a>或
                    <a data-link-type="dfn" href="#gb18030-third" id="ref-for-gb18030-third①">gb18030 第三个字节</a>不为
                    0x00，则将<a data-link-type="dfn" href="#gb18030-first" id="ref-for-gb18030-first②">gb18030
                        第一个字节</a>、<a data-link-type="dfn" href="#gb18030-second" id="ref-for-gb18030-second②">gb18030
                        第二个字节</a>和
                    <a data-link-type="dfn" href="#gb18030-third" id="ref-for-gb18030-third②">gb18030 第三个字节</a>设为
                    0x00，并返回<a data-link-type="dfn" href="#error" id="ref-for-error②⓪">错误</a>。
                </p>
            <li>
                <p>如果<a data-link-type="dfn" href="#gb18030-third" id="ref-for-gb18030-third③">gb18030 第三个字节</a>不为 0x00：
                </p>
                <ol>
                    <li>
                        <p>如果 <var>byte</var> 不在 0x30 到 0x39（含）的范围内：
                        </p>
                        <ol>
                            <li>
                                <p>将 « <a data-link-type="dfn" href="#gb18030-second"
                                        id="ref-for-gb18030-second③">gb18030 第二个字节</a>, <a data-link-type="dfn"
                                        href="#gb18030-third" id="ref-for-gb18030-third④">gb18030
                                        第三个字节</a>, <var>byte</var> » <a data-link-type="dfn"
                                        href="#concept-stream-prepend" id="ref-for-concept-stream-prepend④">恢复</a>到
                                    <var>ioQueue</var>。
                                </p>
                            <li>
                                <p>将<a data-link-type="dfn" href="#gb18030-first" id="ref-for-gb18030-first③">gb18030
                                        第一个字节</a>、<a data-link-type="dfn" href="#gb18030-second"
                                        id="ref-for-gb18030-second④">gb18030 第二个字节</a>和<a data-link-type="dfn"
                                        href="#gb18030-third" id="ref-for-gb18030-third⑤">gb18030 第三个字节</a>设为 0x00。
                                </p>
                            <li>
                                <p>返回<a data-link-type="dfn" href="#error" id="ref-for-error②①">错误</a>。
                                </p>
                        </ol>
                    <li>
                        <p>令 <var>codePoint</var> 为
                            ((<a data-link-type="dfn" href="#gb18030-first" id="ref-for-gb18030-first④">gb18030
                                第一个字节</a> − 0x81) × (10 × 126 × 10)) +
                            ((<a data-link-type="dfn" href="#gb18030-second" id="ref-for-gb18030-second⑤">gb18030
                                第二个字节</a> − 0x30) × (10 × 126)) +
                            ((<a data-link-type="dfn" href="#gb18030-third" id="ref-for-gb18030-third⑥">gb18030
                                第三个字节</a> − 0x81) × 10) + <var>byte</var> − 0x30 对应的<a data-link-type="dfn"
                                href="#index-gb18030-ranges-code-point"
                                id="ref-for-index-gb18030-ranges-code-point①">gb18030 范围索引码点</a>。
                        </p>
                    <li>
                        <p>将<a data-link-type="dfn" href="#gb18030-first" id="ref-for-gb18030-first⑤">gb18030
                                第一个字节</a>、<a data-link-type="dfn" href="#gb18030-second"
                                id="ref-for-gb18030-second⑥">gb18030 第二个字节</a>和<a data-link-type="dfn"
                                href="#gb18030-third" id="ref-for-gb18030-third⑦">gb18030 第三个字节</a>设为 0x00。
                        </p>
                    <li>
                        <p>如果 <var>codePoint</var> 为 null，则返回<a data-link-type="dfn" href="#error"
                                id="ref-for-error②②">错误</a>。
                        </p>
                    <li>
                        <p>返回一个值为 <var>codePoint</var> 的码点。
                        </p>
                </ol>
            <li>
                <p>如果<a data-link-type="dfn" href="#gb18030-second" id="ref-for-gb18030-second⑦">gb18030 第二个字节</a>不为
                    0x00：
                </p>
                <ol>
                    <li>
                        <p>如果 <var>byte</var> 在 0x81 到 0xFE（含）的范围内，则将<a data-link-type="dfn" href="#gb18030-third"
                                id="ref-for-gb18030-third⑧">gb18030 第三个字节</a>设为 <var>byte</var> 并返回<a
                                data-link-type="dfn" href="#continue" id="ref-for-continue⑥">继续</a>。
                        </p>
                    <li>
                        <p>将 « <a data-link-type="dfn" href="#gb18030-second" id="ref-for-gb18030-second⑧">gb18030
                                第二个字节</a>, <var>byte</var>
                            » <a data-link-type="dfn" href="#concept-stream-prepend"
                                id="ref-for-concept-stream-prepend⑤">恢复</a>到 <var>ioQueue</var>，将
                            <a data-link-type="dfn" href="#gb18030-first" id="ref-for-gb18030-first⑥">gb18030
                                第一个字节</a>和<a data-link-type="dfn" href="#gb18030-second"
                                id="ref-for-gb18030-second⑨">gb18030
                                第二个字节</a>设为 0x00，并返回<a data-link-type="dfn" href="#error" id="ref-for-error②③">错误</a>。
                        </p>
                </ol>
            <li>
                <p>如果<a data-link-type="dfn" href="#gb18030-first" id="ref-for-gb18030-first⑦">gb18030 第一个字节</a>不为 0x00：
                </p>
                <ol>
                    <li>
                        <p>如果 <var>byte</var> 在 0x30 到 0x39（含）的范围内，则将<a data-link-type="dfn" href="#gb18030-second"
                                id="ref-for-gb18030-second①⓪">gb18030 第二个字节</a>设为 <var>byte</var> 并返回<a
                                data-link-type="dfn" href="#continue" id="ref-for-continue⑦">继续</a>。
                        </p>
                    <li>
                        <p>令 <var>leading</var> 为<a data-link-type="dfn" href="#gb18030-first"
                                id="ref-for-gb18030-first⑧">gb18030 第一个字节</a>。
                        </p>
                    <li>
                        <p>将<a data-link-type="dfn" href="#gb18030-first" id="ref-for-gb18030-first⑨">gb18030
                                第一个字节</a>设为 0x00。
                        </p>
                    <li>
                        <p>令 <var>pointer</var> 为 null。
                        </p>
                    <li>
                        <p>如果 <var>byte</var> 小于 0x7F，则令 <var>offset</var> 为 0x40；否则为 0x41。
                        </p>
                    <li>
                        <p>如果 <var>byte</var> 在 0x40 到 0x7E（含）或 0x80 到 0xFE（含）的范围内，
                            则将 <var>pointer</var> 设为
                            (<var>leading</var> − 0x81) × 190 + (<var>byte</var> − <var>offset</var>)。
                        </p>
                    <li>
                        <p>如果 <var>pointer</var> 为 null，则令 <var>codePoint</var> 为 null；否则为<a data-link-type="dfn"
                                href="#index-gb18030" id="ref-for-index-gb18030">gb18030 索引</a>中 <var>pointer</var> 对应的
                            <a data-link-type="dfn" href="#index-code-point" id="ref-for-index-code-point①">索引码点</a>。
                        </p>
                    <li>
                        <p>如果 <var>codePoint</var> 不为 null，则返回一个值为
                            <var>codePoint</var> 的码点。
                        </p>
                    <li>
                        <p>如果 <var>byte</var> 是一个<a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#ascii-byte" id="ref-for-ascii-byte②">ASCII
                                字节</a>，则将 <var>byte</var> <a data-link-type="dfn" href="#concept-stream-prepend"
                                id="ref-for-concept-stream-prepend⑥">恢复</a>到
                            <var>ioQueue</var>。
                        </p>
                    <li>
                        <p>返回<a data-link-type="dfn" href="#error" id="ref-for-error②④">错误</a>。
                        </p>
                </ol>
            <li>
                <p>如果 <var>byte</var> 是一个<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-byte"
                        id="ref-for-ascii-byte③">ASCII 字节</a>，则返回一个值为
                    <var>byte</var> 的码点。
                </p>
            <li>
                <p>如果 <var>byte</var> 是 0x80，则返回码点 U+20AC (€)。
                </p>
            <li>
                <p>如果 <var>byte</var> 在 0x81 到 0xFE（含）的范围内，则将<a data-link-type="dfn" href="#gb18030-first"
                        id="ref-for-gb18030-first①⓪">gb18030 第一个字节</a>设为
                    <var>byte</var> 并返回<a data-link-type="dfn" href="#continue" id="ref-for-continue⑧">继续</a>。
                </p>
            <li>
                <p>返回<a data-link-type="dfn" href="#error" id="ref-for-error②⑤">错误</a>。
                </p>
        </ol>
        <h4 class="heading settled dfn-paneled algorithm" data-algorithm="gb18030 encoder" data-dfn-type="dfn"
            data-export data-level="10.2.2" data-lt="gb18030 encoder" id="gb18030-encoder"><span class="secno">10.2.2.
            </span><span class="content">gb18030 编码器</span><a class="self-link" href="#gb18030-encoder"
                id="ref-for-gb18030-encoder①"></a></h4>
        <p><a data-link-type="dfn" href="#gb18030" id="ref-for-gb18030⑥">gb18030</a> 的<a data-link-type="dfn"
                href="#encoder" id="ref-for-encoder②④">编码器</a>有一个关联的 <dfn class="dfn-paneled" data-dfn-type="dfn"
                data-noexport id="gbk-flag">is GBK</dfn> 标志，它是一个布尔值，
            初始为 false。
        </p>
        <p><a data-link-type="dfn" href="#gb18030" id="ref-for-gb18030⑦">gb18030</a> 的<a data-link-type="dfn"
                href="#encoder" id="ref-for-encoder②⑤">编码器</a>的<a data-link-type="dfn" href="#handler"
                id="ref-for-handler⑨">处理程序</a>，给定 <var>unused</var> 和
            <var>codePoint</var>，执行以下步骤：
        </p>
        <ol>
            <li>
                <p>如果 <var>codePoint</var> 是<a data-link-type="dfn" href="#end-of-stream"
                        id="ref-for-end-of-stream③⑧">队列末尾</a>，则返回<a data-link-type="dfn" href="#finished"
                        id="ref-for-finished①⓪">完成</a>。
                </p>
            <li>
                <p>如果 <var>codePoint</var> 是一个<a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#ascii-code-point" id="ref-for-ascii-code-point③">ASCII
                        码点</a>，则返回一个值为
                    <var>codePoint</var> 的字节。
                </p>
            <li>
                <p>如果 <var>codePoint</var> 是 U+E5E5，则返回带 <var>codePoint</var> 的<a data-link-type="dfn" href="#error"
                        id="ref-for-error②⑥">错误</a>。
                </p>
                <p class="note" role="note"><a data-link-type="dfn" href="#index-gb18030"
                        id="ref-for-index-gb18030①">gb18030 索引</a>将 0xA3 0xA0 映射到 U+3000 表意空格，而不是 U+E5E5，
                    以兼容已部署的内容。因此它不能往返。
                </p>
            <li>
                <p>如果<a data-link-type="dfn" href="#gbk-flag" id="ref-for-gbk-flag①">is GBK</a>为 true 且
                    <var>codePoint</var> 是 U+20AC (€)，则返回字节 0x80。
                </p>
            <li>
                <p>如果下表中有某行的第一列是 <var>codePoint</var>，则返回该行第二列中列出的两个字节：
                </p>
                <table>
                    <tbody>
                        <tr>
                            <th>码点

                            <th>字节

                        <tr>
                            <td>U+E78D

                            <td>0xA6 0xD9

                        <tr>
                            <td>U+E78E

                            <td>0xA6 0xDA

                        <tr>
                            <td>U+E78F

                            <td>0xA6 0xDB

                        <tr>
                            <td>U+E790

                            <td>0xA6 0xDC

                        <tr>
                            <td>U+E791

                            <td>0xA6 0xDD

                        <tr>
                            <td>U+E792

                            <td>0xA6 0xDE

                        <tr>
                            <td>U+E793

                            <td>0xA6 0xDF

                        <tr>
                            <td>U+E794

                            <td>0xA6 0xEC

                        <tr>
                            <td>U+E795

                            <td>0xA6 0xED

                        <tr>
                            <td>U+E796

                            <td>0xA6 0xF3

                        <tr>
                            <td>U+E81E

                            <td>0xFE 0x59

                        <tr>
                            <td>U+E826

                            <td>0xFE 0x61

                        <tr>
                            <td>U+E82B

                            <td>0xFE 0x66

                        <tr>
                            <td>U+E82C

                            <td>0xFE 0x67

                        <tr>
                            <td>U+E832

                            <td>0xFE 0x6D

                        <tr>
                            <td>U+E843

                            <td>0xFE 0x7E

                        <tr>
                            <td>U+E854

                            <td>0xFE 0x90

                        <tr>
                            <td>U+E864

                            <td>0xFE 0xA0

                </table>
                <p class="note" role="note">这个不对称的编码器表保留了与 GB18030-2005 标准的兼容性。另请参见<a data-link-type="dfn"
                        href="#index-gb18030-ranges" id="ref-for-index-gb18030-ranges⑤">gb18030 范围索引</a>处的解释。
                </p>
            <li>
                <p>令 <var>pointer</var> 为<a data-link-type="dfn" href="#index-gb18030"
                        id="ref-for-index-gb18030②">gb18030 索引</a>中 <var>codePoint</var> 对应的<a data-link-type="dfn"
                        href="#index-pointer" id="ref-for-index-pointer③">索引指针</a>。
                </p>
            <li>
                <p>如果 <var>pointer</var> 不为 null：
                </p>
                <ol>
                    <li>
                        <p>令 <var>leading</var> 为 <var>pointer</var> / 190 + 0x81。
                        </p>
                    <li>
                        <p>令 <var>trailing</var> 为 <var>pointer</var> % 190。
                        </p>
                    <li>
                        <p>如果 <var>trailing</var> 小于 0x3F，则令 <var>offset</var> 为 0x40，
                            否则为 0x41。
                        </p>
                    <li>
                        <p>返回两个字节，其值分别为 <var>leading</var> 和
                            <var>trailing</var> + <var>offset</var>。
                        </p>
                </ol>
            <li>
                <p>如果<a data-link-type="dfn" href="#gbk-flag" id="ref-for-gbk-flag②">is GBK</a>为 true，则返回带
                    <var>codePoint</var> 的<a data-link-type="dfn" href="#error" id="ref-for-error②⑦">错误</a>。
                </p>
            <li>
                <p>将 <var>pointer</var> 设为
                    <var>codePoint</var> 对应的<a data-link-type="dfn" href="#index-gb18030-ranges-pointer"
                        id="ref-for-index-gb18030-ranges-pointer①">gb18030 范围索引指针</a>。
                </p>
            <li>
                <p>令 <var>byte1</var> 为 <var>pointer</var> / (10 × 126 × 10)。
                </p>
            <li>
                <p>将 <var>pointer</var> 设为 <var>pointer</var> % (10 × 126 × 10)。
                </p>
            <li>
                <p>令 <var>byte2</var> 为 <var>pointer</var> / (10 × 126)。
                </p>
            <li>
                <p>将 <var>pointer</var> 设为 <var>pointer</var> % (10 × 126)。
                </p>
            <li>
                <p>令 <var>byte3</var> 为 <var>pointer</var> / 10。
                </p>
            <li>
                <p>令 <var>byte4</var> 为 <var>pointer</var> % 10。
                </p>
            <li>
                <p>返回四个字节，其值分别为 <var>byte1</var> + 0x81、
                    <var>byte2</var> + 0x30、<var>byte3</var> + 0x81、
                    <var>byte4</var> + 0x30。
                </p>
        </ol>
        <h2 class="heading settled" data-level="11" id="legacy-multi-byte-chinese-(traditional)-encodings"><span
                class="secno">11. </span><span class="content">旧式多字节繁体中文编码</span><a class="self-link"
                href="#legacy-multi-byte-chinese-(traditional)-encodings"></a></h2>
        <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="11.1" data-lt="Big5"
            id="big5"><span class="secno">11.1. </span><span class="content">Big5</span><a class="self-link"
                href="#big5" id="ref-for-big5④"></a></h3>
        <h4 class="heading settled dfn-paneled algorithm" data-algorithm="Big5 decoder" data-dfn-type="dfn" data-export
            data-level="11.1.1" data-lt="Big5 decoder" id="big5-decoder"><span class="secno">11.1.1. </span><span
                class="content">Big5 解码器</span><a class="self-link" href="#big5-decoder" id="ref-for-big5-decoder"></a>
        </h4>
        <p><a data-link-type="dfn" href="#big5" id="ref-for-big5①">Big5</a> 的<a data-link-type="dfn" href="#decoder"
                id="ref-for-decoder②⑦">解码器</a>有一个关联的 <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="big5-lead">Big5 前导字节</dfn>，它是一个字节，初始值为 0x00。
        </p>
        <p><a data-link-type="dfn" href="#big5" id="ref-for-big5②">Big5</a> 的<a data-link-type="dfn" href="#decoder"
                id="ref-for-decoder②⑧">解码器</a>的<a data-link-type="dfn" href="#handler"
                id="ref-for-handler①⓪">处理程序</a>，给定 <var>ioQueue</var> 和
            <var>byte</var>，执行以下步骤：
        </p>
        <ol>
            <li>
                <p>如果 <var>byte</var> 是<a data-link-type="dfn" href="#end-of-stream"
                        id="ref-for-end-of-stream③⑨">队列末尾</a>且<a data-link-type="dfn" href="#big5-lead"
                        id="ref-for-big5-lead">Big5 前导字节</a>不为 0x00，则将
                    <a data-link-type="dfn" href="#big5-lead" id="ref-for-big5-lead①">Big5 前导字节</a>设为 0x00 并返回<a
                        data-link-type="dfn" href="#error" id="ref-for-error②⑧">错误</a>。
                </p>
            <li>
                <p>如果 <var>byte</var> 是<a data-link-type="dfn" href="#end-of-stream"
                        id="ref-for-end-of-stream④⓪">队列末尾</a>且<a data-link-type="dfn" href="#big5-lead"
                        id="ref-for-big5-lead②">Big5 前导字节</a>为 0x00，则返回
                    <a data-link-type="dfn" href="#finished" id="ref-for-finished①①">完成</a>。
                </p>
            <li>
                <p>如果<a data-link-type="dfn" href="#big5-lead" id="ref-for-big5-lead③">Big5 前导字节</a>不为 0x00：
                </p>
                <ol>
                    <li>
                        <p>令 <var>leading</var> 为<a data-link-type="dfn" href="#big5-lead" id="ref-for-big5-lead④">Big5
                                前导字节</a>。
                        </p>
                    <li>
                        <p>将<a data-link-type="dfn" href="#big5-lead" id="ref-for-big5-lead⑤">Big5 前导字节</a>设为
                            0x00。
                        </p>
                    <li>
                        <p>令 <var>pointer</var> 为 null。
                        </p>
                    <li>
                        <p>如果 <var>byte</var> 小于 0x7F，则令 <var>offset</var> 为 0x40；否则为 0x62。
                        </p>
                    <li>
                        <p>如果 <var>byte</var> 在 0x40 到 0x7E（含）或 0xA1 到 0xFE（含）的范围内，
                            则将 <var>pointer</var> 设为
                            (<var>leading</var> − 0x81) × 157 + (<var>byte</var> − <var>offset</var>)。
                        </p>
                    <li>
                        <p>如果下表中存在第一列为 <var>pointer</var> 的行，则返回其第二列中列出的<em>两个</em>码点（第三列无关）：
                        </p>
                        <table>
                            <tbody>
                                <tr>
                                    <th>指针
                                    <th>码点
                                    <th>备注

                                <tr>
                                    <td>1133
                                    <td>U+00CA U+0304
                                    <td>Ê̄ (带扬抑符和长音符的拉丁大写字母 E)

                                <tr>
                                    <td>1135
                                    <td>U+00CA U+030C
                                    <td>Ê̌ (带扬抑符和抑扬符的拉丁大写字母 E)

                                <tr>
                                    <td>1164
                                    <td>U+00EA U+0304
                                    <td>ê̄ (带扬抑符和长音符的拉丁小写字母 e)

                                <tr>
                                    <td>1166
                                    <td>U+00EA U+030C
                                    <td>ê̌ (带扬抑符和抑扬符的拉丁小写字母 e)

                        </table>
                        <p class="note" role="note">由于<a data-link-type="dfn" href="#index"
                                id="ref-for-index①②">索引</a>仅限于
                            单个码点，因此对这些指针使用此表。
                        </p>
                    <li>
                        <p>如果 <var>pointer</var> 为 null，则令 <var>codePoint</var> 为 null；否则为<a data-link-type="dfn"
                                href="#index-big5" id="ref-for-index-big5①">Big5 索引</a>中 <var>pointer</var> 对应的
                            <a data-link-type="dfn" href="#index-code-point" id="ref-for-index-code-point②">索引码点</a>。
                        </p>
                    <li>
                        <p>如果 <var>codePoint</var> 不为 null，则返回一个值为
                            <var>codePoint</var> 的码点。
                        </p>
                    <li>
                        <p>如果 <var>byte</var> 是一个<a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#ascii-byte" id="ref-for-ascii-byte④">ASCII
                                字节</a>，则将 <var>byte</var> <a data-link-type="dfn" href="#concept-stream-prepend"
                                id="ref-for-concept-stream-prepend⑦">恢复</a>到
                            <var>ioQueue</var>。
                        </p>
                    <li>
                        <p>返回<a data-link-type="dfn" href="#error" id="ref-for-error②⑨">错误</a>。
                        </p>
                </ol>
            <li>
                <p>如果 <var>byte</var> 是一个<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-byte"
                        id="ref-for-ascii-byte⑤">ASCII 字节</a>，则返回一个值为
                    <var>byte</var> 的码点。
                </p>
            <li>
                <p>如果 <var>byte</var> 在 0x81 到 0xFE（含）的范围内，则将
                    <a data-link-type="dfn" href="#big5-lead" id="ref-for-big5-lead⑥">Big5 前导字节</a>设为
                    <var>byte</var> 并返回<a data-link-type="dfn" href="#continue" id="ref-for-continue⑨">继续</a>。
                </p>
            <li>
                <p>返回<a data-link-type="dfn" href="#error" id="ref-for-error③⓪">错误</a>。
                </p>
        </ol>
        <h4 class="heading settled dfn-paneled algorithm" data-algorithm="Big5 encoder" data-dfn-type="dfn" data-export
            data-level="11.1.2" data-lt="Big5 encoder" id="big5-encoder"><span class="secno">11.1.2. </span><span
                class="content">Big5 编码器</span><a class="self-link" href="#big5-encoder" id="ref-for-big5-encoder"></a>
        </h4>
        <p><a data-link-type="dfn" href="#big5" id="ref-for-big5③">Big5</a> 的<a data-link-type="dfn" href="#encoder"
                id="ref-for-encoder②⑥">编码器</a>的<a data-link-type="dfn" href="#handler"
                id="ref-for-handler①①">处理程序</a>，给定 <var>unused</var> 和
            <var>codePoint</var>，执行以下步骤：
        </p>
        <ol>
            <li>
                <p>如果 <var>codePoint</var> 是<a data-link-type="dfn" href="#end-of-stream"
                        id="ref-for-end-of-stream④①">队列末尾</a>，则返回<a data-link-type="dfn" href="#finished"
                        id="ref-for-finished①②">完成</a>。
                </p>
            <li>
                <p>如果 <var>codePoint</var> 是一个<a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#ascii-code-point" id="ref-for-ascii-code-point④">ASCII
                        码点</a>，则返回一个值为
                    <var>codePoint</var> 的字节。
                </p>
            <li>
                <p>令 <var>pointer</var> 为 <var>codePoint</var> 对应的<a data-link-type="dfn" href="#index-big5-pointer"
                        id="ref-for-index-big5-pointer">Big5 索引指针</a>。
                </p>
            <li>
                <p>如果 <var>pointer</var> 为 null，则返回带 <var>codePoint</var> 的<a data-link-type="dfn" href="#error"
                        id="ref-for-error③①">错误</a>。
                </p>
            <li>
                <p>令 <var>leading</var> 为 <var>pointer</var> / 157 + 0x81。
                </p>
            <li>
                <p>令 <var>trailing</var> 为 <var>pointer</var> % 157。
                </p>
            <li>
                <p>如果 <var>trailing</var> 小于 0x3F，则令 <var>offset</var> 为 0x40，
                    否则为 0x62。
                </p>
            <li>
                <p>返回两个字节，其值分别为 <var>leading</var> 和
                    <var>trailing</var> + <var>offset</var>。
                </p>
        </ol>
        <h2 class="heading settled" data-level="12" id="legacy-multi-byte-japanese-encodings"><span class="secno">12.
            </span><span class="content">旧式多字节日文编码</span><a class="self-link"
                href="#legacy-multi-byte-japanese-encodings"></a></h2>
        <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="12.1" data-lt="EUC-JP"
            id="euc-jp"><span class="secno">12.1. </span><span class="content">EUC-JP</span><a class="self-link"
                href="#euc-jp" id="ref-for-euc-jp④"></a></h3>
        <h4 class="heading settled dfn-paneled algorithm" data-algorithm="EUC-JP decoder" data-dfn-type="dfn"
            data-export data-level="12.1.1" data-lt="EUC-JP decoder" id="euc-jp-decoder"><span class="secno">12.1.1.
            </span><span class="content">EUC-JP 解码器</span><a class="self-link" href="#euc-jp-decoder"
                id="ref-for-euc-jp-decoder①"></a></h4>
        <p><a data-link-type="dfn" href="#euc-jp" id="ref-for-euc-jp①">EUC-JP</a> 的<a data-link-type="dfn"
                href="#decoder" id="ref-for-decoder②⑨">解码器</a>有一个关联的：
        </p>
        <dl>
            <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="euc-jp-jis0212-flag">EUC-JP jis0212</dfn>

            <dd>一个布尔值，初始为 false。
            <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="euc-jp-lead">EUC-JP 前导字节</dfn>

            <dd>一个字节，初始为 0x00。
        </dl>
        <p><a data-link-type="dfn" href="#euc-jp" id="ref-for-euc-jp②">EUC-JP</a> 的<a data-link-type="dfn"
                href="#decoder" id="ref-for-decoder③⓪">解码器</a>的<a data-link-type="dfn" href="#handler"
                id="ref-for-handler①②">处理程序</a>，给定
            <var>ioQueue</var> 和 <var>byte</var>，执行以下步骤：
        </p>
        <ol>
            <li>
                <p>如果 <var>byte</var> 是<a data-link-type="dfn" href="#end-of-stream"
                        id="ref-for-end-of-stream④②">队列末尾</a>且<a data-link-type="dfn" href="#euc-jp-lead"
                        id="ref-for-euc-jp-lead">EUC-JP 前导字节</a>不为 0x00，则将
                    <a data-link-type="dfn" href="#euc-jp-lead" id="ref-for-euc-jp-lead①">EUC-JP 前导字节</a>设为 0x00 并返回<a
                        data-link-type="dfn" href="#error" id="ref-for-error③②">错误</a>。
                </p>
            <li>
                <p>如果 <var>byte</var> 是<a data-link-type="dfn" href="#end-of-stream"
                        id="ref-for-end-of-stream④③">队列末尾</a>且<a data-link-type="dfn" href="#euc-jp-lead"
                        id="ref-for-euc-jp-lead②">EUC-JP 前导字节</a>为 0x00，则返回
                    <a data-link-type="dfn" href="#finished" id="ref-for-finished①③">完成</a>。
                </p>
            <li>
                <p>如果<a data-link-type="dfn" href="#euc-jp-lead" id="ref-for-euc-jp-lead③">EUC-JP 前导字节</a>为 0x8E
                    且 <var>byte</var> 在 0xA1 到 0xDF（含）的范围内，则将<a data-link-type="dfn" href="#euc-jp-lead"
                        id="ref-for-euc-jp-lead④">EUC-JP
                        前导字节</a>设为 0x00 并返回一个值为
                    0xFF61 − 0xA1 + <var>byte</var> 的码点。
                </p>
            <li>
                <p>如果<a data-link-type="dfn" href="#euc-jp-lead" id="ref-for-euc-jp-lead⑤">EUC-JP 前导字节</a>为 0x8F
                    且 <var>byte</var> 在 0xA1 到 0xFE（含）的范围内，则将<a data-link-type="dfn" href="#euc-jp-jis0212-flag"
                        id="ref-for-euc-jp-jis0212-flag">EUC-JP jis0212</a> 设为 true，将<a data-link-type="dfn"
                        href="#euc-jp-lead" id="ref-for-euc-jp-lead⑥">EUC-JP 前导字节</a>设为 <var>byte</var>，
                    并返回<a data-link-type="dfn" href="#continue" id="ref-for-continue①⓪">继续</a>。
                </p>
            <li>
                <p>如果<a data-link-type="dfn" href="#euc-jp-lead" id="ref-for-euc-jp-lead⑦">EUC-JP 前导字节</a>不为
                    0x00：
                </p>
                <ol>
                    <li>
                        <p>令 <var>leading</var> 为<a data-link-type="dfn" href="#euc-jp-lead"
                                id="ref-for-euc-jp-lead⑧">EUC-JP 前导字节</a>。
                        </p>
                    <li>
                        <p>将<a data-link-type="dfn" href="#euc-jp-lead" id="ref-for-euc-jp-lead⑨">EUC-JP 前导字节</a>设为
                            0x00。
                        </p>
                    <li>
                        <p>令 <var>codePoint</var> 为 null。
                        </p>
                    <li>
                        <p>如果 <var>leading</var> 和 <var>byte</var> 都在 0xA1 到 0xFE（含）的范围内，则
                            如果<a data-link-type="dfn" href="#euc-jp-jis0212-flag"
                                id="ref-for-euc-jp-jis0212-flag①">EUC-JP jis0212</a>为 false，则将 <var>codePoint</var> 设为<a
                                data-link-type="dfn" href="#index-jis0208" id="ref-for-index-jis0208③">jis0208 索引</a>中
                            (<var>leading</var> − 0xA1) × 94 + <var>byte</var> − 0xA1
                            对应的<a data-link-type="dfn" href="#index-code-point"
                                id="ref-for-index-code-point③">索引码点</a>；否则设为<a data-link-type="dfn"
                                href="#index-jis0212" id="ref-for-index-jis0212">jis0212 索引</a>中对应的码点。
                        </p>
                    <li>
                        <p>将<a data-link-type="dfn" href="#euc-jp-jis0212-flag" id="ref-for-euc-jp-jis0212-flag②">EUC-JP
                                jis0212</a> 设为 false。
                        </p>
                    <li>
                        <p>如果 <var>codePoint</var> 不为 null，则返回一个值为
                            <var>codePoint</var> 的码点。
                        </p>
                    <li>
                        <p>如果 <var>byte</var> 是一个<a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#ascii-byte" id="ref-for-ascii-byte⑥">ASCII
                                字节</a>，则将 <var>byte</var> <a data-link-type="dfn" href="#concept-stream-prepend"
                                id="ref-for-concept-stream-prepend⑧">恢复</a>到
                            <var>ioQueue</var>。
                        </p>
                    <li>
                        <p>返回<a data-link-type="dfn" href="#error" id="ref-for-error③③">错误</a>。
                        </p>
                </ol>
            <li>
                <p>如果 <var>byte</var> 是一个<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-byte"
                        id="ref-for-ascii-byte⑦">ASCII 字节</a>，则返回一个值为
                    <var>byte</var> 的码点。
                </p>
            <li>
                <p>如果 <var>byte</var> 是 0x8E、0x8F 或在 0xA1 到 0xFE（含）的范围内，则将
                    <a data-link-type="dfn" href="#euc-jp-lead" id="ref-for-euc-jp-lead①⓪">EUC-JP 前导字节</a>设为
                    <var>byte</var> 并返回<a data-link-type="dfn" href="#continue" id="ref-for-continue①①">继续</a>。
                </p>
            <li>
                <p>返回<a data-link-type="dfn" href="#error" id="ref-for-error③④">错误</a>。
                </p>
        </ol>
        <h4 class="heading settled dfn-paneled algorithm" data-algorithm="EUC-JP encoder" data-dfn-type="dfn"
            data-export data-level="12.1.2" data-lt="EUC-JP encoder" id="euc-jp-encoder"><span class="secno">12.1.2.
            </span><span class="content">EUC-JP 编码器</span><a class="self-link" href="#euc-jp-encoder"
                id="ref-for-euc-jp-encoder"></a></h4>
        <p><a data-link-type="dfn" href="#euc-jp" id="ref-for-euc-jp③">EUC-JP</a> 的<a data-link-type="dfn"
                href="#encoder" id="ref-for-encoder②⑦">编码器</a>的<a data-link-type="dfn" href="#handler"
                id="ref-for-handler①③">处理程序</a>，给定 <var>unused</var> 和
            <var>codePoint</var>，执行以下步骤：
        </p>
        <ol>
            <li>
                <p>如果 <var>codePoint</var> 是<a data-link-type="dfn" href="#end-of-stream"
                        id="ref-for-end-of-stream④④">队列末尾</a>，则返回<a data-link-type="dfn" href="#finished"
                        id="ref-for-finished①④">完成</a>。
                </p>
            <li>
                <p>如果 <var>codePoint</var> 是一个<a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#ascii-code-point" id="ref-for-ascii-code-point⑤">ASCII
                        码点</a>，则返回一个值为
                    <var>codePoint</var> 的字节。
                </p>
            <li>
                <p>如果 <var>codePoint</var> 是 U+00A5 (¥)，则返回字节 0x5C。
                </p>
            <li>
                <p>如果 <var>codePoint</var> 是 U+203E (‾)，则返回字节 0x7E。
                </p>
            <li>
                <p>如果 <var>codePoint</var> 在 U+FF61 (｡) 到 U+FF9F (ﾟ)（含）的范围内，则返回两个
                    字节，其值分别为 0x8E 和 <var>codePoint</var> − 0xFF61 + 0xA1。
                </p>
            <li>
                <p>如果 <var>codePoint</var> 是 U+2212 (−)，则将其设为 U+FF0D (－)。
                </p>
            <li>
                <p>令 <var>pointer</var> 为<a data-link-type="dfn" href="#index-jis0208"
                        id="ref-for-index-jis0208④">jis0208 索引</a>中 <var>codePoint</var> 对应的<a data-link-type="dfn"
                        href="#index-pointer" id="ref-for-index-pointer④">索引指针</a>。
                </p>
                <p class="note" role="note">如果 <var>pointer</var> 不为 null，则由于
                    <a data-link-type="dfn" href="#index-jis0208" id="ref-for-index-jis0208⑤">jis0208 索引</a>和
                    <a data-link-type="dfn" href="#index-pointer" id="ref-for-index-pointer⑤">索引指针</a>
                    操作的性质，它将小于 8836。
                </p>
            <li>
                <p>如果 <var>pointer</var> 为 null，则返回带 <var>codePoint</var> 的<a data-link-type="dfn" href="#error"
                        id="ref-for-error③⑤">错误</a>。
                </p>
            <li>
                <p>令 <var>leading</var> 为 <var>pointer</var> / 94 + 0xA1。
                </p>
            <li>
                <p>令 <var>trailing</var> 为 <var>pointer</var> % 94 + 0xA1。
                </p>
            <li>
                <p>返回两个字节，其值分别为 <var>leading</var> 和 <var>trailing</var>。
                </p>
        </ol>
        <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="12.2" data-lt="ISO-2022-JP"
            id="iso-2022-jp"><span class="secno">12.2. </span><span class="content">ISO-2022-JP</span><a
                class="self-link" href="#iso-2022-jp" id="ref-for-iso-2022-jp⑦"></a></h3>
        <h4 class="heading settled dfn-paneled algorithm" data-algorithm="ISO-2022-JP decoder" data-dfn-type="dfn"
            data-export data-level="12.2.1" data-lt="ISO-2022-JP decoder" id="iso-2022-jp-decoder"><span
                class="secno">12.2.1. </span><span class="content">ISO-2022-JP 解码器</span><a class="self-link"
                href="#iso-2022-jp-decoder" id="ref-for-iso-2022-jp-decoder"></a></h4>
        <p><a data-link-type="dfn" href="#iso-2022-jp" id="ref-for-iso-2022-jp②">ISO-2022-JP</a> 的<a
                data-link-type="dfn" href="#decoder" id="ref-for-decoder③①">解码器</a>有一个关联的：
        </p>
        <dl>
            <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="iso-2022-jp-decoder-state">ISO-2022-JP
                    解码器状态</dfn>

            <dd>一个状态，初始为<a data-link-type="dfn" href="#iso-2022-jp-decoder-ascii"
                    id="ref-for-iso-2022-jp-decoder-ascii">ASCII</a>。
            <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                    id="iso-2022-jp-decoder-output-state">ISO-2022-JP 解码器输出状态</dfn>

            <dd>一个状态，初始为<a data-link-type="dfn" href="#iso-2022-jp-decoder-ascii"
                    id="ref-for-iso-2022-jp-decoder-ascii①">ASCII</a>。
            <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="iso-2022-jp-lead">ISO-2022-JP 前导字节</dfn>

            <dd>一个字节，初始为 0x00。
            <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="iso-2022-jp-output-flag">ISO-2022-JP
                    输出标志</dfn>

            <dd>一个布尔值，初始为 false。
        </dl>
        <p><a data-link-type="dfn" href="#iso-2022-jp" id="ref-for-iso-2022-jp③">ISO-2022-JP</a> 的<a
                data-link-type="dfn" href="#decoder" id="ref-for-decoder③②">解码器</a>的<a data-link-type="dfn"
                href="#handler" id="ref-for-handler①④">处理程序</a>，给定
            <var>ioQueue</var> 和 <var>byte</var>，根据
            <a data-link-type="dfn" href="#iso-2022-jp-decoder-state" id="ref-for-iso-2022-jp-decoder-state">ISO-2022-JP
                解码器状态</a>执行以下步骤：
        </p>
        <dl class="switch">
            <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="ISO-2022-JP decoder ASCII" data-noexport
                    id="iso-2022-jp-decoder-ascii">ASCII</dfn>

            <dd>
                <p>根据 <var>byte</var>：
                </p>
                <dl class="switch">
                    <dt>0x1B

                    <dd>
                        <p>将<a data-link-type="dfn" href="#iso-2022-jp-decoder-state"
                                id="ref-for-iso-2022-jp-decoder-state①">ISO-2022-JP 解码器状态</a>设为
                            <a data-link-type="dfn" href="#iso-2022-jp-decoder-escape-start"
                                id="ref-for-iso-2022-jp-decoder-escape-start">转义开始</a>并返回
                            <a data-link-type="dfn" href="#continue" id="ref-for-continue①②">继续</a>。
                        </p>
                    <dt>0x00 到 0x7F，不包括 0x0E、0x0F 和 0x1B

                    <dd>
                        <p>将<a data-link-type="dfn" href="#iso-2022-jp-output-flag"
                                id="ref-for-iso-2022-jp-output-flag">ISO-2022-JP 输出标志</a>设为 false 并返回一个值为
                            <var>byte</var> 的码点。
                        </p>
                    <dt><a data-link-type="dfn" href="#end-of-stream" id="ref-for-end-of-stream④⑤">队列末尾</a>

                    <dd>
                        <p>返回<a data-link-type="dfn" href="#finished" id="ref-for-finished①⑤">完成</a>。
                        </p>
                    <dt>其他情况

                    <dd>
                        <p>将<a data-link-type="dfn" href="#iso-2022-jp-output-flag"
                                id="ref-for-iso-2022-jp-output-flag①">ISO-2022-JP 输出标志</a>设为 false 并返回<a
                                data-link-type="dfn" href="#error" id="ref-for-error③⑥">错误</a>。
                        </p>
                </dl>
            <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="ISO-2022-JP decoder Roman" data-noexport
                    id="iso-2022-jp-decoder-roman">罗马字</dfn>

            <dd>
                <p>根据 <var>byte</var>：
                </p>
                <dl class="switch">
                    <dt>0x1B

                    <dd>
                        <p>将<a data-link-type="dfn" href="#iso-2022-jp-decoder-state"
                                id="ref-for-iso-2022-jp-decoder-state②">ISO-2022-JP 解码器状态</a>设为
                            <a data-link-type="dfn" href="#iso-2022-jp-decoder-escape-start"
                                id="ref-for-iso-2022-jp-decoder-escape-start①">转义开始</a>并返回
                            <a data-link-type="dfn" href="#continue" id="ref-for-continue①③">继续</a>。
                        </p>
                    <dt>0x5C

                    <dd>
                        <p>将<a data-link-type="dfn" href="#iso-2022-jp-output-flag"
                                id="ref-for-iso-2022-jp-output-flag②">ISO-2022-JP 输出标志</a>设为 false 并返回码点 U+00A5 (¥)。
                        </p>
                    <dt>0x7E

                    <dd>
                        <p>将<a data-link-type="dfn" href="#iso-2022-jp-output-flag"
                                id="ref-for-iso-2022-jp-output-flag③">ISO-2022-JP 输出标志</a>设为 false 并返回码点 U+203E (‾)。
                        </p>
                    <dt>0x00 到 0x7F，不包括 0x0E、0x0F、0x1B、0x5C 和 0x7E

                    <dd>
                        <p>将<a data-link-type="dfn" href="#iso-2022-jp-output-flag"
                                id="ref-for-iso-2022-jp-output-flag④">ISO-2022-JP 输出标志</a>设为 false 并返回一个值为
                            <var>byte</var> 的码点。
                        </p>
                    <dt><a data-link-type="dfn" href="#end-of-stream" id="ref-for-end-of-stream④⑥">队列末尾</a>

                    <dd>
                        <p>返回<a data-link-type="dfn" href="#finished" id="ref-for-finished①⑥">完成</a>。
                        </p>
                    <dt>其他情况

                    <dd>
                        <p>将<a data-link-type="dfn" href="#iso-2022-jp-output-flag"
                                id="ref-for-iso-2022-jp-output-flag⑤">ISO-2022-JP 输出标志</a>设为 false 并返回<a
                                data-link-type="dfn" href="#error" id="ref-for-error③⑦">错误</a>。
                        </p>
                </dl>
            <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="ISO-2022-JP decoder katakana" data-noexport
                    id="iso-2022-jp-decoder-katakana">片假名</dfn>

            <dd>
                <p>根据 <var>byte</var>：
                </p>
                <dl class="switch">
                    <dt>0x1B

                    <dd>
                        <p>将<a data-link-type="dfn" href="#iso-2022-jp-decoder-state"
                                id="ref-for-iso-2022-jp-decoder-state③">ISO-2022-JP 解码器状态</a>设为
                            <a data-link-type="dfn" href="#iso-2022-jp-decoder-escape-start"
                                id="ref-for-iso-2022-jp-decoder-escape-start②">转义开始</a>并返回
                            <a data-link-type="dfn" href="#continue" id="ref-for-continue①④">继续</a>。
                        </p>
                    <dt>0x21 到 0x5F

                    <dd>
                        <p>将<a data-link-type="dfn" href="#iso-2022-jp-output-flag"
                                id="ref-for-iso-2022-jp-output-flag⑥">ISO-2022-JP 输出标志</a>设为 false 并返回一个值为
                            0xFF61 − 0x21 + <var>byte</var> 的码点。
                        </p>
                    <dt><a data-link-type="dfn" href="#end-of-stream" id="ref-for-end-of-stream④⑦">队列末尾</a>

                    <dd>
                        <p>返回<a data-link-type="dfn" href="#finished" id="ref-for-finished①⑦">完成</a>。
                        </p>
                    <dt>其他情况

                    <dd>
                        <p>将<a data-link-type="dfn" href="#iso-2022-jp-output-flag"
                                id="ref-for-iso-2022-jp-output-flag⑦">ISO-2022-JP 输出标志</a>设为 false 并返回<a
                                data-link-type="dfn" href="#error" id="ref-for-error③⑧">错误</a>。
                        </p>
                </dl>
            <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="ISO-2022-JP decoder leading byte" data-noexport
                    id="iso-2022-jp-decoder-lead-byte">前导字节</dfn>

            <dd>
                <p>根据 <var>byte</var>：
                </p>
                <dl class="switch">
                    <dt>0x1B

                    <dd>
                        <p>将<a data-link-type="dfn" href="#iso-2022-jp-decoder-state"
                                id="ref-for-iso-2022-jp-decoder-state④">ISO-2022-JP 解码器状态</a>设为
                            <a data-link-type="dfn" href="#iso-2022-jp-decoder-escape-start"
                                id="ref-for-iso-2022-jp-decoder-escape-start③">转义开始</a>并返回
                            <a data-link-type="dfn" href="#continue" id="ref-for-continue①⑤">继续</a>。
                        </p>
                    <dt>0x21 到 0x7E

                    <dd>
                        <p>将<a data-link-type="dfn" href="#iso-2022-jp-output-flag"
                                id="ref-for-iso-2022-jp-output-flag⑧">ISO-2022-JP 输出标志</a>设为 false，将<a
                                data-link-type="dfn" href="#iso-2022-jp-lead" id="ref-for-iso-2022-jp-lead">ISO-2022-JP
                                前导字节</a>设为 <var>byte</var>，
                            将<a data-link-type="dfn" href="#iso-2022-jp-decoder-state"
                                id="ref-for-iso-2022-jp-decoder-state⑤">ISO-2022-JP 解码器状态</a>设为<a data-link-type="dfn"
                                href="#iso-2022-jp-decoder-trail-byte"
                                id="ref-for-iso-2022-jp-decoder-trail-byte">尾随字节</a>，
                            并返回<a data-link-type="dfn" href="#continue" id="ref-for-continue①⑥">继续</a>。
                        </p>
                    <dt><a data-link-type="dfn" href="#end-of-stream" id="ref-for-end-of-stream④⑧">队列末尾</a>

                    <dd>
                        <p>返回<a data-link-type="dfn" href="#finished" id="ref-for-finished①⑧">完成</a>。
                        </p>
                    <dt>其他情况

                    <dd>
                        <p>将<a data-link-type="dfn" href="#iso-2022-jp-output-flag"
                                id="ref-for-iso-2022-jp-output-flag⑨">ISO-2022-JP 输出标志</a>设为 false 并返回<a
                                data-link-type="dfn" href="#error" id="ref-for-error③⑨">错误</a>。
                        </p>
                </dl>
            <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="ISO-2022-JP decoder trailing byte" data-noexport
                    id="iso-2022-jp-decoder-trail-byte">尾随字节</dfn>

            <dd>
                <p>根据 <var>byte</var>：
                </p>
                <dl class="switch">
                    <dt>0x1B

                    <dd>
                        <p>将<a data-link-type="dfn" href="#iso-2022-jp-decoder-state"
                                id="ref-for-iso-2022-jp-decoder-state⑥">ISO-2022-JP 解码器状态</a>设为
                            <a data-link-type="dfn" href="#iso-2022-jp-decoder-escape-start"
                                id="ref-for-iso-2022-jp-decoder-escape-start④">转义开始</a>并返回<a data-link-type="dfn"
                                href="#error" id="ref-for-error④⓪">错误</a>。
                        </p>
                    <dt>0x21 到 0x7E

                    <dd>
                        <ol>
                            <li>
                                <p>将<a data-link-type="dfn" href="#iso-2022-jp-decoder-state"
                                        id="ref-for-iso-2022-jp-decoder-state⑦">ISO-2022-JP 解码器状态</a>设为
                                    <a data-link-type="dfn" href="#iso-2022-jp-decoder-lead-byte"
                                        id="ref-for-iso-2022-jp-decoder-lead-byte">前导字节</a>。
                                </p>
                            <li>
                                <p>令 <var>pointer</var> 为
                                    (<a data-link-type="dfn" href="#iso-2022-jp-lead"
                                        id="ref-for-iso-2022-jp-lead①">ISO-2022-JP 前导字节</a> − 0x21) × 94 +
                                    <var>byte</var> − 0x21。
                                </p>
                            <li>
                                <p>令 <var>codePoint</var> 为<a data-link-type="dfn" href="#index-jis0208"
                                        id="ref-for-index-jis0208⑥">jis0208 索引</a>中 <var>pointer</var> 对应的
                                    <a data-link-type="dfn" href="#index-code-point"
                                        id="ref-for-index-code-point④">索引码点</a>。
                                </p>
                            <li>
                                <p>如果 <var>codePoint</var> 为 null，则返回<a data-link-type="dfn" href="#error"
                                        id="ref-for-error④①">错误</a>。
                                </p>
                            <li>
                                <p>返回一个值为 <var>codePoint</var> 的码点。
                                </p>
                        </ol>
                    <dt><a data-link-type="dfn" href="#end-of-stream" id="ref-for-end-of-stream④⑨">队列末尾</a>

                    <dd>
                        <p>将<a data-link-type="dfn" href="#iso-2022-jp-decoder-state"
                                id="ref-for-iso-2022-jp-decoder-state⑧">ISO-2022-JP 解码器状态</a>设为
                            <a data-link-type="dfn" href="#iso-2022-jp-decoder-lead-byte"
                                id="ref-for-iso-2022-jp-decoder-lead-byte①">前导字节</a>并返回<a data-link-type="dfn"
                                href="#error" id="ref-for-error④②">错误</a>。
                        </p>
                    <dt>其他情况

                    <dd>
                        <p>将<a data-link-type="dfn" href="#iso-2022-jp-decoder-state"
                                id="ref-for-iso-2022-jp-decoder-state⑨">ISO-2022-JP 解码器状态</a>设为
                            <a data-link-type="dfn" href="#iso-2022-jp-decoder-lead-byte"
                                id="ref-for-iso-2022-jp-decoder-lead-byte②">前导字节</a>并返回
                            <a data-link-type="dfn" href="#error" id="ref-for-error④③">错误</a>。
                        </p>
                </dl>
            <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="ISO-2022-JP decoder escape start" data-noexport
                    id="iso-2022-jp-decoder-escape-start">转义开始</dfn>

            <dd>
                <ol>
                    <li>
                        <p>如果 <var>byte</var> 是 0x24 或 0x28，则将
                            <a data-link-type="dfn" href="#iso-2022-jp-lead" id="ref-for-iso-2022-jp-lead②">ISO-2022-JP
                                前导字节</a>设为 <var>byte</var>，将<a data-link-type="dfn" href="#iso-2022-jp-decoder-state"
                                id="ref-for-iso-2022-jp-decoder-state①⓪">ISO-2022-JP
                                解码器状态</a>设为
                            <a data-link-type="dfn" href="#iso-2022-jp-decoder-escape"
                                id="ref-for-iso-2022-jp-decoder-escape">转义</a>，并返回<a data-link-type="dfn"
                                href="#continue" id="ref-for-continue①⑦">继续</a>。
                        </p>
                    <li>
                        <p>如果 <var>byte</var> 不是<a data-link-type="dfn" href="#end-of-stream"
                                id="ref-for-end-of-stream⑤⓪">队列末尾</a>，则将
                            <var>byte</var> <a data-link-type="dfn" href="#concept-stream-prepend"
                                id="ref-for-concept-stream-prepend⑨">恢复</a>到 <var>ioQueue</var>。
                        </p>
                    <li>
                        <p>将<a data-link-type="dfn" href="#iso-2022-jp-output-flag"
                                id="ref-for-iso-2022-jp-output-flag①⓪">ISO-2022-JP 输出标志</a>设为 false，将<a
                                data-link-type="dfn" href="#iso-2022-jp-decoder-state"
                                id="ref-for-iso-2022-jp-decoder-state①①">ISO-2022-JP 解码器状态</a>设为
                            <a data-link-type="dfn" href="#iso-2022-jp-decoder-output-state"
                                id="ref-for-iso-2022-jp-decoder-output-state">ISO-2022-JP 解码器输出状态</a>，并返回<a
                                data-link-type="dfn" href="#error" id="ref-for-error④④">错误</a>。
                        </p>
                </ol>
            <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="ISO-2022-JP decoder escape" data-noexport
                    id="iso-2022-jp-decoder-escape">转义</dfn>

            <dd>
                <ol>
                    <li>
                        <p>令 <var>leading</var> 为<a data-link-type="dfn" href="#iso-2022-jp-lead"
                                id="ref-for-iso-2022-jp-lead③">ISO-2022-JP 前导字节</a>并设
                            <a data-link-type="dfn" href="#iso-2022-jp-lead" id="ref-for-iso-2022-jp-lead④">ISO-2022-JP
                                前导字节</a>为 0x00。
                        </p>
                    <li>
                        <p>令 <var>state</var> 为 null。
                        </p>
                    <li>
                        <p>如果 <var>leading</var> 是 0x28 且 <var>byte</var> 是 0x42，则将
                            <var>state</var> 设为<a data-link-type="dfn" href="#iso-2022-jp-decoder-ascii"
                                id="ref-for-iso-2022-jp-decoder-ascii②">ASCII</a>。
                        </p>
                    <li>
                        <p>如果 <var>leading</var> 是 0x28 且 <var>byte</var> 是 0x4A，则将
                            <var>state</var> 设为<a data-link-type="dfn" href="#iso-2022-jp-decoder-roman"
                                id="ref-for-iso-2022-jp-decoder-roman①">罗马字</a>。
                        </p>
                    <li>
                        <p>如果 <var>leading</var> 是 0x28 且 <var>byte</var> 是 0x49，则将
                            <var>state</var> 设为<a data-link-type="dfn" href="#iso-2022-jp-decoder-katakana"
                                id="ref-for-iso-2022-jp-decoder-katakana">片假名</a>。
                        </p>
                    <li>
                        <p>如果 <var>leading</var> 是 0x24 且 <var>byte</var> 是 0x40 或 0x42，
                            则将 <var>state</var> 设为<a data-link-type="dfn" href="#iso-2022-jp-decoder-lead-byte"
                                id="ref-for-iso-2022-jp-decoder-lead-byte③">前导字节</a>。
                        </p>
                    <li>
                        <p>如果 <var>state</var> 不为 null：
                        </p>
                        <ol>
                            <li>
                                <p>将<a data-link-type="dfn" href="#iso-2022-jp-decoder-state"
                                        id="ref-for-iso-2022-jp-decoder-state①②">ISO-2022-JP 解码器状态</a>和
                                    <a data-link-type="dfn" href="#iso-2022-jp-decoder-output-state"
                                        id="ref-for-iso-2022-jp-decoder-output-state①">ISO-2022-JP 解码器输出状态</a>设为
                                    <var>state</var>。
                                </p>
                            <li>
                                <p>令 <var>output</var> 为<a data-link-type="dfn" href="#iso-2022-jp-output-flag"
                                        id="ref-for-iso-2022-jp-output-flag①①">ISO-2022-JP 输出标志</a>的值。
                                </p>
                            <li>
                                <p>将<a data-link-type="dfn" href="#iso-2022-jp-output-flag"
                                        id="ref-for-iso-2022-jp-output-flag①②">ISO-2022-JP 输出标志</a>设为 true。
                                </p>
                            <li>
                                <p>如果 <var>output</var> 为 false，则返回<a data-link-type="dfn" href="#continue"
                                        id="ref-for-continue①⑧">继续</a>；
                                    否则返回<a data-link-type="dfn" href="#error" id="ref-for-error④⑤">错误</a>。
                                </p>
                        </ol>
                    <li>
                        <p>如果 <var>byte</var> 是<a data-link-type="dfn" href="#end-of-stream"
                                id="ref-for-end-of-stream⑤①">队列末尾</a>，则将
                            <var>leading</var> <a data-link-type="dfn" href="#concept-stream-prepend"
                                id="ref-for-concept-stream-prepend①⓪">恢复</a>到
                            <var>ioQueue</var>；否则，将 « <var>leading</var>, <var>byte</var>
                            » <a data-link-type="dfn" href="#concept-stream-prepend"
                                id="ref-for-concept-stream-prepend①①">恢复</a>到
                            <var>ioQueue</var>。
                        </p>
                    <li>
                        <p>将<a data-link-type="dfn" href="#iso-2022-jp-output-flag"
                                id="ref-for-iso-2022-jp-output-flag①③">ISO-2022-JP 输出标志</a>设为 false，
                            将<a data-link-type="dfn" href="#iso-2022-jp-decoder-state"
                                id="ref-for-iso-2022-jp-decoder-state①③">ISO-2022-JP 解码器状态</a>设为<a data-link-type="dfn"
                                href="#iso-2022-jp-decoder-output-state"
                                id="ref-for-iso-2022-jp-decoder-output-state②">ISO-2022-JP 解码器输出状态</a>
                            并返回<a data-link-type="dfn" href="#error" id="ref-for-error④⑥">错误</a>。
                        </p>
                </ol>
        </dl>
        <h4 class="heading settled dfn-paneled algorithm" data-algorithm="ISO-2022-JP encoder" data-dfn-type="dfn"
            data-export data-level="12.2.2" data-lt="ISO-2022-JP encoder" id="iso-2022-jp-encoder"><span
                class="secno">12.2.2. </span><span class="content">ISO-2022-JP 编码器</span><a class="self-link"
                href="#iso-2022-jp-encoder" id="ref-for-iso-2022-jp-encoder⑥"></a></h4>
        <div class="note no-backref" role="note">
            <p><a data-link-type="dfn" href="#iso-2022-jp-encoder" id="ref-for-iso-2022-jp-encoder④">ISO-2022-JP
                    编码器</a>是唯一一个当多个输出连接起来并通过相应的<a data-link-type="dfn" href="#decoder"
                    id="ref-for-decoder③③">解码器</a>运行时可能导致<a data-link-type="dfn" href="#error"
                    id="ref-for-error④⑦">错误</a>的<a data-link-type="dfn" href="#encoder" id="ref-for-encoder②⑧">编码器</a>。
            </p>
            <p class="example" id="example-iso-2022-jp-encoder-oddity"><a class="self-link"
                    href="#example-iso-2022-jp-encoder-oddity"></a>编码 U+00A5 (¥) 会得到 0x1B 0x28 0x4A
                0x5C 0x1B 0x28 0x42。执行两次，连接结果，然后解码会得到 U+00A5
                U+FFFD U+00A5。
            </p>
        </div>
        <p><a data-link-type="dfn" href="#iso-2022-jp" id="ref-for-iso-2022-jp④">ISO-2022-JP</a> 的<a
                data-link-type="dfn" href="#encoder" id="ref-for-encoder②⑨">编码器</a>有一个关联的
            <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="iso-2022-jp-encoder-state">ISO-2022-JP
                编码器状态</dfn>，可以是<dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="ISO-2022-JP encoder ASCII"
                data-noexport id="iso-2022-jp-encoder-ascii">ASCII</dfn>、
            <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="ISO-2022-JP encoder Roman" data-noexport
                id="iso-2022-jp-encoder-roman">罗马字</dfn>或
            <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="ISO-2022-JP encoder jis0208" data-noexport
                id="iso-2022-jp-encoder-jis0208">jis0208</dfn>，初始为
            <a data-link-type="dfn" href="#iso-2022-jp-encoder-ascii" id="ref-for-iso-2022-jp-encoder-ascii">ASCII</a>。
        </p>
        <p><a data-link-type="dfn" href="#iso-2022-jp" id="ref-for-iso-2022-jp⑤">ISO-2022-JP</a> 的<a
                data-link-type="dfn" href="#encoder" id="ref-for-encoder③⓪">编码器</a>的<a data-link-type="dfn"
                href="#handler" id="ref-for-handler①⑤">处理程序</a>，给定
            <var>ioQueue</var> 和 <var>codePoint</var>，执行以下步骤：
        </p>
        <ol>
            <li>
                <p>如果 <var>codePoint</var> 是<a data-link-type="dfn" href="#end-of-stream"
                        id="ref-for-end-of-stream⑤②">队列末尾</a>且<a data-link-type="dfn" href="#iso-2022-jp-encoder-state"
                        id="ref-for-iso-2022-jp-encoder-state">ISO-2022-JP 编码器状态</a>不为
                    <a data-link-type="dfn" href="#iso-2022-jp-encoder-ascii"
                        id="ref-for-iso-2022-jp-encoder-ascii①">ASCII</a>，则将<a data-link-type="dfn"
                        href="#iso-2022-jp-encoder-state" id="ref-for-iso-2022-jp-encoder-state①">ISO-2022-JP
                        编码器状态</a>设为
                    <a data-link-type="dfn" href="#iso-2022-jp-encoder-ascii"
                        id="ref-for-iso-2022-jp-encoder-ascii②">ASCII</a> 并返回三个字节 0x1B 0x28 0x42。
                </p>
            <li>
                <p>如果 <var>codePoint</var> 是<a data-link-type="dfn" href="#end-of-stream"
                        id="ref-for-end-of-stream⑤③">队列末尾</a>且<a data-link-type="dfn" href="#iso-2022-jp-encoder-state"
                        id="ref-for-iso-2022-jp-encoder-state②">ISO-2022-JP 编码器状态</a>为
                    <a data-link-type="dfn" href="#iso-2022-jp-encoder-ascii"
                        id="ref-for-iso-2022-jp-encoder-ascii③">ASCII</a>，则返回<a data-link-type="dfn" href="#finished"
                        id="ref-for-finished①⑨">完成</a>。
                </p>
            <li>
                <p>如果<a data-link-type="dfn" href="#iso-2022-jp-encoder-state"
                        id="ref-for-iso-2022-jp-encoder-state③">ISO-2022-JP 编码器状态</a>为<a data-link-type="dfn"
                        href="#iso-2022-jp-encoder-ascii" id="ref-for-iso-2022-jp-encoder-ascii④">ASCII</a>或
                    <a data-link-type="dfn" href="#iso-2022-jp-encoder-roman"
                        id="ref-for-iso-2022-jp-encoder-roman">罗马字</a>，且 <var>codePoint</var> 为 U+000E、U+000F 或
                    U+001B，则返回带 U+FFFD () 的<a data-link-type="dfn" href="#error" id="ref-for-error④⑧">错误</a>。
                </p>
                <p class="note" role="note">这里返回 U+FFFD () 而不是 <var>codePoint</var> 是为了防止攻击。
                </p>
            <li>
                <p>如果<a data-link-type="dfn" href="#iso-2022-jp-encoder-state"
                        id="ref-for-iso-2022-jp-encoder-state④">ISO-2022-JP 编码器状态</a>为<a data-link-type="dfn"
                        href="#iso-2022-jp-encoder-ascii" id="ref-for-iso-2022-jp-encoder-ascii⑤">ASCII</a>且
                    <var>codePoint</var> 是一个<a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#ascii-code-point" id="ref-for-ascii-code-point⑥">ASCII
                        码点</a>，则返回一个值为
                    <var>codePoint</var> 的字节。
                </p>
            <li>
                <p>如果<a data-link-type="dfn" href="#iso-2022-jp-encoder-state"
                        id="ref-for-iso-2022-jp-encoder-state⑤">ISO-2022-JP 编码器状态</a>为<a data-link-type="dfn"
                        href="#iso-2022-jp-encoder-roman" id="ref-for-iso-2022-jp-encoder-roman①">罗马字</a>且
                    <var>codePoint</var> 是一个<a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#ascii-code-point" id="ref-for-ascii-code-point⑦">ASCII
                        码点</a>（不包括 U+005C (\) 和 U+007E (~)），或者是
                    U+00A5 (¥) 或 U+203E (‾)：
                </p>
                <ol>
                    <li>
                        <p>如果 <var>codePoint</var> 是一个<a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#ascii-code-point"
                                id="ref-for-ascii-code-point⑧">ASCII 码点</a>，则返回一个值为
                            <var>codePoint</var> 的字节。
                        </p>
                    <li>
                        <p>如果 <var>codePoint</var> 是 U+00A5 (¥)，则返回字节 0x5C。
                        </p>
                    <li>
                        <p>如果 <var>codePoint</var> 是 U+203E (‾)，则返回字节 0x7E。
                        </p>
                </ol>
            <li>
                <p>如果 <var>codePoint</var> 是一个<a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#ascii-code-point" id="ref-for-ascii-code-point⑨">ASCII
                        码点</a>，且<a data-link-type="dfn" href="#iso-2022-jp-encoder-state"
                        id="ref-for-iso-2022-jp-encoder-state⑥">ISO-2022-JP 编码器状态</a>不为<a data-link-type="dfn"
                        href="#iso-2022-jp-encoder-ascii" id="ref-for-iso-2022-jp-encoder-ascii⑥">ASCII</a>，则将
                    <var>codePoint</var> <a data-link-type="dfn" href="#concept-stream-prepend"
                        id="ref-for-concept-stream-prepend①②">恢复</a>到
                    <var>ioQueue</var>，将<a data-link-type="dfn" href="#iso-2022-jp-encoder-state"
                        id="ref-for-iso-2022-jp-encoder-state⑦">ISO-2022-JP 编码器状态</a>设为
                    <a data-link-type="dfn" href="#iso-2022-jp-encoder-ascii"
                        id="ref-for-iso-2022-jp-encoder-ascii⑦">ASCII</a>，并返回三个字节 0x1B 0x28 0x42。
                </p>
            <li>
                <p>如果 <var>codePoint</var> 是 U+00A5 (¥) 或 U+203E (‾)，且
                    <a data-link-type="dfn" href="#iso-2022-jp-encoder-state"
                        id="ref-for-iso-2022-jp-encoder-state⑧">ISO-2022-JP 编码器状态</a>不为<a data-link-type="dfn"
                        href="#iso-2022-jp-encoder-roman" id="ref-for-iso-2022-jp-encoder-roman②">罗马字</a>，则将
                    <var>codePoint</var> <a data-link-type="dfn" href="#concept-stream-prepend"
                        id="ref-for-concept-stream-prepend①③">恢复</a>到 <var>ioQueue</var>，
                    将<a data-link-type="dfn" href="#iso-2022-jp-encoder-state"
                        id="ref-for-iso-2022-jp-encoder-state⑨">ISO-2022-JP 编码器状态</a>设为
                    <a data-link-type="dfn" href="#iso-2022-jp-encoder-roman"
                        id="ref-for-iso-2022-jp-encoder-roman③">罗马字</a>，并返回三个字节 0x1B 0x28 0x4A。
                </p>
            <li>
                <p>如果 <var>codePoint</var> 是 U+2212 (−)，则将其设为 U+FF0D (－)。
                </p>
            <li>
                <p>如果 <var>codePoint</var> 在 U+FF61 (｡) 到 U+FF9F (ﾟ)（含）的范围内，则将其设为
                    <a data-link-type="dfn" href="#index-iso-2022-jp-katakana"
                        id="ref-for-index-iso-2022-jp-katakana②">ISO-2022-JP 片假名索引</a>中 <var>codePoint</var> − 0xFF61
                    对应的<a data-link-type="dfn" href="#index-code-point" id="ref-for-index-code-point⑤">索引码点</a>。
                </p>
            <li>
                <p>令 <var>pointer</var> 为<a data-link-type="dfn" href="#index-jis0208"
                        id="ref-for-index-jis0208⑦">jis0208 索引</a>中 <var>codePoint</var> 对应的<a data-link-type="dfn"
                        href="#index-pointer" id="ref-for-index-pointer⑥">索引指针</a>。
                </p>
                <p class="note" role="note">如果 <var>pointer</var> 不为 null，则由于
                    <a data-link-type="dfn" href="#index-jis0208" id="ref-for-index-jis0208⑧">jis0208 索引</a>和
                    <a data-link-type="dfn" href="#index-pointer" id="ref-for-index-pointer⑦">索引指针</a>
                    操作的性质，它将小于 8836。
                </p>
            <li>
                <p>如果 <var>pointer</var> 为 null：
                </p>
                <ol>
                    <li>
                        <p>如果<a data-link-type="dfn" href="#iso-2022-jp-encoder-state"
                                id="ref-for-iso-2022-jp-encoder-state①⓪">ISO-2022-JP 编码器状态</a>为<a data-link-type="dfn"
                                href="#iso-2022-jp-encoder-jis0208"
                                id="ref-for-iso-2022-jp-encoder-jis0208">jis0208</a>，
                            则将 <var>codePoint</var> <a data-link-type="dfn" href="#concept-stream-prepend"
                                id="ref-for-concept-stream-prepend①④">恢复</a>到
                            <var>ioQueue</var>，将
                            <a data-link-type="dfn" href="#iso-2022-jp-encoder-state"
                                id="ref-for-iso-2022-jp-encoder-state①①">ISO-2022-JP 编码器状态</a>设为<a data-link-type="dfn"
                                href="#iso-2022-jp-encoder-ascii"
                                id="ref-for-iso-2022-jp-encoder-ascii⑧">ASCII</a>，并返回三个
                            字节 0x1B 0x28 0x42。
                        </p>
                    <li>
                        <p>返回带 <var>codePoint</var> 的<a data-link-type="dfn" href="#error" id="ref-for-error④⑨">错误</a>。
                        </p>
                </ol>
            <li>
                <p>如果<a data-link-type="dfn" href="#iso-2022-jp-encoder-state"
                        id="ref-for-iso-2022-jp-encoder-state①②">ISO-2022-JP 编码器状态</a>不为<a data-link-type="dfn"
                        href="#iso-2022-jp-encoder-jis0208" id="ref-for-iso-2022-jp-encoder-jis0208①">jis0208</a>，
                    则将 <var>codePoint</var> <a data-link-type="dfn" href="#concept-stream-prepend"
                        id="ref-for-concept-stream-prepend①⑤">恢复</a>到 <var>ioQueue</var>，
                    将
                    <a data-link-type="dfn" href="#iso-2022-jp-encoder-state"
                        id="ref-for-iso-2022-jp-encoder-state①③">ISO-2022-JP 编码器状态</a>设为<a data-link-type="dfn"
                        href="#iso-2022-jp-encoder-jis0208" id="ref-for-iso-2022-jp-encoder-jis0208②">jis0208</a>，并返回
                    三个字节 0x1B 0x24 0x42。
                </p>
            <li>
                <p>令 <var>leading</var> 为 <var>pointer</var> / 94 + 0x21。
                </p>
            <li>
                <p>令 <var>trailing</var> 为 <var>pointer</var> % 94 + 0x21。
                </p>
            <li>
                <p>返回两个字节，其值分别为 <var>leading</var> 和 <var>trailing</var>。
                </p>
        </ol>
        <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="12.3" data-lt="Shift_JIS"
            id="shift_jis"><span class="secno">12.3. </span><span class="content">Shift_JIS</span><a class="self-link"
                href="#shift_jis" id="ref-for-shift_jis⑥"></a></h3>
        <h4 class="heading settled dfn-paneled algorithm" data-algorithm="Shift_JIS decoder" data-dfn-type="dfn"
            data-export data-level="12.3.1" data-lt="Shift_JIS decoder" id="shift_jis-decoder"><span
                class="secno">12.3.1. </span><span class="content">Shift_JIS 解码器</span><a class="self-link"
                href="#shift_jis-decoder" id="ref-for-shift_jis-decoder"></a></h4>
        <p><a data-link-type="dfn" href="#shift_jis" id="ref-for-shift_jis③">Shift_JIS</a> 的<a data-link-type="dfn"
                href="#decoder" id="ref-for-decoder③④">解码器</a>有一个关联的
            <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="shift_jis-lead">Shift_JIS
                前导字节</dfn>，它是一个字节，初始值为 0x00。
        </p>
        <p><a data-link-type="dfn" href="#shift_jis" id="ref-for-shift_jis④">Shift_JIS</a> 的<a data-link-type="dfn"
                href="#decoder" id="ref-for-decoder③⑤">解码器</a>的<a data-link-type="dfn" href="#handler"
                id="ref-for-handler①⑥">处理程序</a>，给定 <var>ioQueue</var> 和
            <var>byte</var>，执行以下步骤：
        </p>
        <ol>
            <li>
                <p>如果 <var>byte</var> 是<a data-link-type="dfn" href="#end-of-stream"
                        id="ref-for-end-of-stream⑤④">队列末尾</a>且<a data-link-type="dfn" href="#shift_jis-lead"
                        id="ref-for-shift_jis-lead">Shift_JIS 前导字节</a>不为 0x00，则将
                    <a data-link-type="dfn" href="#shift_jis-lead" id="ref-for-shift_jis-lead①">Shift_JIS 前导字节</a>设为
                    0x00 并返回<a data-link-type="dfn" href="#error" id="ref-for-error⑤⓪">错误</a>。
                </p>
            <li>
                <p>如果 <var>byte</var> 是<a data-link-type="dfn" href="#end-of-stream"
                        id="ref-for-end-of-stream⑤⑤">队列末尾</a>且<a data-link-type="dfn" href="#shift_jis-lead"
                        id="ref-for-shift_jis-lead②">Shift_JIS 前导字节</a>为 0x00，则返回
                    <a data-link-type="dfn" href="#finished" id="ref-for-finished②⓪">完成</a>。
                </p>
            <li>
                <p>如果<a data-link-type="dfn" href="#shift_jis-lead" id="ref-for-shift_jis-lead③">Shift_JIS 前导字节</a>不为
                    0x00：
                </p>
                <ol>
                    <li>
                        <p>令 <var>leading</var> 为<a data-link-type="dfn" href="#shift_jis-lead"
                                id="ref-for-shift_jis-lead④">Shift_JIS 前导字节</a>。
                        </p>
                    <li>
                        <p>将<a data-link-type="dfn" href="#shift_jis-lead" id="ref-for-shift_jis-lead⑤">Shift_JIS
                                前导字节</a>设为 0x00。
                        </p>
                    <li>
                        <p>令 <var>pointer</var> 为 null。
                        </p>
                    <li>
                        <p>如果 <var>byte</var> 小于 0x7F，则令 <var>offset</var> 为 0x40；否则为 0x41。
                        </p>
                    <li>
                        <p>如果 <var>leading</var> 小于 0xA0，则令 <var>leadingOffset</var> 为 0x81；否则为 0xC1。
                        </p>
                    <li>
                        <p>如果 <var>byte</var> 在 0x40 到 0x7E（含）或 0x80 到 0xFC（含）的范围内，
                            则将 <var>pointer</var> 设为
                            (<var>leading</var> − <var>leadingOffset</var>) × 188 + <var>byte</var> − <var>offset</var>。
                        </p>
                    <li>
                        <p>如果 <var>pointer</var> 在 8836 到 10715（含）的范围内，则返回一个值为 0xE000 − 8836 + <var>pointer</var> 的码点。
                        </p>
                        <p class="note" role="note">这是来自 Windows 的可互操作的旧式传统，称为 EUDC。
                        </p>
                    <li>
                        <p>如果 <var>pointer</var> 为 null，则令 <var>codePoint</var> 为 null；否则为<a data-link-type="dfn"
                                href="#index-jis0208" id="ref-for-index-jis0208⑨">jis0208 索引</a>中 <var>pointer</var> 对应的
                            <a data-link-type="dfn" href="#index-code-point" id="ref-for-index-code-point⑥">索引码点</a>。
                        </p>
                    <li>
                        <p>如果 <var>codePoint</var> 不为 null，则返回一个值为
                            <var>codePoint</var> 的码点。
                        </p>
                    <li>
                        <p>如果 <var>byte</var> 是一个<a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#ascii-byte" id="ref-for-ascii-byte⑧">ASCII
                                字节</a>，则将 <var>byte</var> <a data-link-type="dfn" href="#concept-stream-prepend"
                                id="ref-for-concept-stream-prepend①⑥">恢复</a>到
                            <var>ioQueue</var>。
                        </p>
                    <li>
                        <p>返回<a data-link-type="dfn" href="#error" id="ref-for-error⑤①">错误</a>。
                        </p>
                </ol>
            <li>
                <p>如果 <var>byte</var> 是一个<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-byte"
                        id="ref-for-ascii-byte⑨">ASCII 字节</a>或 0x80，则返回一个值为
                    <var>byte</var> 的码点。
                </p>
            <li>
                <p>如果 <var>byte</var> 在 0xA1 到 0xDF（含）的范围内，则返回一个值为 0xFF61 − 0xA1 + <var>byte</var> 的码点。
                </p>
            <li>
                <p>如果 <var>byte</var> 在 0x81 到 0x9F（含）或 0xE0 到 0xFC（含）的范围内，则
                    将<a data-link-type="dfn" href="#shift_jis-lead" id="ref-for-shift_jis-lead⑥">Shift_JIS
                        前导字节</a>设为 <var>byte</var> 并返回<a data-link-type="dfn" href="#continue"
                        id="ref-for-continue①⑨">继续</a>。
                </p>
            <li>
                <p>返回<a data-link-type="dfn" href="#error" id="ref-for-error⑤②">错误</a>。
                </p>
        </ol>
        <h4 class="heading settled dfn-paneled algorithm" data-algorithm="Shift_JIS encoder" data-dfn-type="dfn"
            data-export data-level="12.3.2" data-lt="Shift_JIS encoder" id="shift_jis-encoder"><span
                class="secno">12.3.2. </span><span class="content">Shift_JIS 编码器</span><a class="self-link"
                href="#shift_jis-encoder" id="ref-for-shift_jis-encoder"></a></h4>
        <p><a data-link-type="dfn" href="#shift_jis" id="ref-for-shift_jis⑤">Shift_JIS</a> 的<a data-link-type="dfn"
                href="#encoder" id="ref-for-encoder③①">编码器</a>的<a data-link-type="dfn" href="#handler"
                id="ref-for-handler①⑦">处理程序</a>，给定 <var>unused</var> 和
            <var>codePoint</var>，执行以下步骤：
        </p>
        <ol>
            <li>
                <p>如果 <var>codePoint</var> 是<a data-link-type="dfn" href="#end-of-stream"
                        id="ref-for-end-of-stream⑤⑥">队列末尾</a>，则返回<a data-link-type="dfn" href="#finished"
                        id="ref-for-finished②①">完成</a>。
                </p>
            <li>
                <p>如果 <var>codePoint</var> 是一个<a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#ascii-code-point" id="ref-for-ascii-code-point①⓪">ASCII
                        码点</a>或 U+0080，则返回一个值为 <var>codePoint</var> 的字节。
                </p>
            <li>
                <p>如果 <var>codePoint</var> 是 U+00A5 (¥)，则返回字节 0x5C。
                </p>
            <li>
                <p>如果 <var>codePoint</var> 是 U+203E (‾)，则返回字节 0x7E。
                </p>
            <li>
                <p>如果 <var>codePoint</var> 在 U+FF61 (｡) 到 U+FF9F (ﾟ)（含）的范围内，则返回一个
                    值为 <var>codePoint</var> − 0xFF61 + 0xA1 的字节。
                </p>
            <li>
                <p>如果 <var>codePoint</var> 是 U+2212 (−)，则将其设为 U+FF0D (－)。
                </p>
            <li>
                <p>令 <var>pointer</var> 为 <var>codePoint</var> 对应的<a data-link-type="dfn"
                        href="#index-shift_jis-pointer" id="ref-for-index-shift_jis-pointer">Shift_JIS 索引指针</a>。
                </p>
            <li>
                <p>如果 <var>pointer</var> 为 null，则返回带 <var>codePoint</var> 的<a data-link-type="dfn" href="#error"
                        id="ref-for-error⑤③">错误</a>。
                </p>
            <li>
                <p>令 <var>leading</var> 为 <var>pointer</var> / 188。
                </p>
            <li>
                <p>如果 <var>leading</var> 小于 0x1F，则令 <var>leadingOffset</var> 为 0x81；否则为 0xC1。
                </p>
            <li>
                <p>令 <var>trailing</var> 为 <var>pointer</var> % 188。
                </p>
            <li>
                <p>如果 <var>trailing</var> 小于 0x3F，则令 <var>offset</var> 为 0x40；否则为 0x41。
                </p>
            <li>
                <p>返回两个字节，其值分别为 <var>leading</var> + <var>leadingOffset</var> 和
                    <var>trailing</var> + <var>offset</var>。
                </p>
        </ol>
        <h2 class="heading settled" data-level="13" id="legacy-multi-byte-korean-encodings"><span class="secno">13.
            </span><span class="content">旧版多字节韩文编码</span><a class="self-link"
                href="#legacy-multi-byte-korean-encodings"></a></h2>
        <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="13.1" data-lt="EUC-KR"
            id="euc-kr"><span class="secno">13.1. </span><span class="content">EUC-KR</span><a class="self-link"
                href="#euc-kr" id="ref-for-euc-kr④"></a></h3>
        <h4 class="heading settled dfn-paneled algorithm" data-algorithm="EUC-KR decoder" data-dfn-type="dfn"
            data-export data-level="13.1.1" data-lt="EUC-KR decoder" id="euc-kr-decoder"><span class="secno">13.1.1.
            </span><span class="content">EUC-KR 解码器</span><a class="self-link" href="#euc-kr-decoder"
                id="ref-for-euc-kr-decoder"></a></h4>
        <p><a data-link-type="dfn" href="#euc-kr" id="ref-for-euc-kr①">EUC-KR</a> 的<a data-link-type="dfn"
                href="#decoder" id="ref-for-decoder③⑥">解码器</a>有一个关联的 <dfn class="dfn-paneled" data-dfn-type="dfn"
                data-noexport id="euc-kr-lead">EUC-KR 前导字节</dfn>，它是一个字节，初始值为 0x00。
        </p>
        <p><a data-link-type="dfn" href="#euc-kr" id="ref-for-euc-kr②">EUC-KR</a> 的<a data-link-type="dfn"
                href="#decoder" id="ref-for-decoder③⑦">解码器</a>的<a data-link-type="dfn" href="#handler"
                id="ref-for-handler①⑧">处理程序</a>，给定 <var>ioQueue</var> 和
            <var>byte</var>，执行以下步骤：
        </p>
        <ol>
            <li>
                <p>如果 <var>byte</var> 是<a data-link-type="dfn" href="#end-of-stream"
                        id="ref-for-end-of-stream⑤⑦">队列末尾</a>且<a data-link-type="dfn" href="#euc-kr-lead"
                        id="ref-for-euc-kr-lead">EUC-KR 前导字节</a>不为 0x00，则将
                    <a data-link-type="dfn" href="#euc-kr-lead" id="ref-for-euc-kr-lead①">EUC-KR 前导字节</a>设为 0x00 并返回<a
                        data-link-type="dfn" href="#error" id="ref-for-error⑤④">错误</a>。
                </p>
            <li>
                <p>如果 <var>byte</var> 是<a data-link-type="dfn" href="#end-of-stream"
                        id="ref-for-end-of-stream⑤⑧">队列末尾</a>且<a data-link-type="dfn" href="#euc-kr-lead"
                        id="ref-for-euc-kr-lead②">EUC-KR 前导字节</a>为 0x00，则返回
                    <a data-link-type="dfn" href="#finished" id="ref-for-finished②②">完成</a>。
                </p>
            <li>
                <p>如果<a data-link-type="dfn" href="#euc-kr-lead" id="ref-for-euc-kr-lead③">EUC-KR 前导字节</a>不为
                    0x00：
                </p>
                <ol>
                    <li>
                        <p>令 <var>leading</var> 为<a data-link-type="dfn" href="#euc-kr-lead"
                                id="ref-for-euc-kr-lead④">EUC-KR 前导字节</a>。
                        </p>
                    <li>
                        <p>将<a data-link-type="dfn" href="#euc-kr-lead" id="ref-for-euc-kr-lead⑤">EUC-KR 前导字节</a>设为
                            0x00。
                        </p>
                    <li>
                        <p>令 <var>pointer</var> 为 null。
                        </p>
                    <li>
                        <p>如果 <var>byte</var> 在 0x41 到 0xFE（含）的范围内，则将 <var>pointer</var>
                            设为 (<var>leading</var> − 0x81) × 190 + (<var>byte</var> − 0x41)。
                        </p>
                    <li>
                        <p>如果 <var>pointer</var> 为 null，则令 <var>codePoint</var> 为 null；否则为<a data-link-type="dfn"
                                href="#index-euc-kr" id="ref-for-index-euc-kr">EUC-KR 索引</a>中 <var>pointer</var> 对应的
                            <a data-link-type="dfn" href="#index-code-point" id="ref-for-index-code-point⑦">索引码点</a>。
                        </p>
                    <li>
                        <p>如果 <var>codePoint</var> 不为 null，则返回一个值为
                            <var>codePoint</var> 的码点。
                        </p>
                    <li>
                        <p>如果 <var>byte</var> 是一个<a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#ascii-byte" id="ref-for-ascii-byte①⓪">ASCII
                                字节</a>，则将 <var>byte</var> <a data-link-type="dfn" href="#concept-stream-prepend"
                                id="ref-for-concept-stream-prepend①⑦">恢复</a>到
                            <var>ioQueue</var>。
                        </p>
                    <li>
                        <p>返回<a data-link-type="dfn" href="#error" id="ref-for-error⑤⑤">错误</a>。
                        </p>
                </ol>
            <li>
                <p>如果 <var>byte</var> 是一个<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-byte"
                        id="ref-for-ascii-byte①①">ASCII 字节</a>，则返回一个值为
                    <var>byte</var> 的码点。
                </p>
            <li>
                <p>如果 <var>byte</var> 在 0x81 到 0xFE（含）的范围内，则将<a data-link-type="dfn" href="#euc-kr-lead"
                        id="ref-for-euc-kr-lead⑥">EUC-KR 前导字节</a>设为
                    <var>byte</var> 并返回<a data-link-type="dfn" href="#continue" id="ref-for-continue②⓪">继续</a>。
                </p>
            <li>
                <p>返回<a data-link-type="dfn" href="#error" id="ref-for-error⑤⑥">错误</a>。
                </p>
        </ol>
        <h4 class="heading settled dfn-paneled algorithm" data-algorithm="EUC-KR encoder" data-dfn-type="dfn"
            data-export data-level="13.1.2" data-lt="EUC-KR encoder" id="euc-kr-encoder"><span class="secno">13.1.2.
            </span><span class="content">EUC-KR 编码器</span><a class="self-link" href="#euc-kr-encoder"
                id="ref-for-euc-kr-encoder"></a></h4>
        <p><a data-link-type="dfn" href="#euc-kr" id="ref-for-euc-kr③">EUC-KR</a> 的<a data-link-type="dfn"
                href="#encoder" id="ref-for-encoder③②">编码器</a>的<a data-link-type="dfn" href="#handler"
                id="ref-for-handler①⑨">处理程序</a>，给定 <var>unused</var> 和
            <var>codePoint</var>，执行以下步骤：
        </p>
        <ol>
            <li>
                <p>如果 <var>codePoint</var> 是<a data-link-type="dfn" href="#end-of-stream"
                        id="ref-for-end-of-stream⑤⑨">队列末尾</a>，则返回<a data-link-type="dfn" href="#finished"
                        id="ref-for-finished②③">完成</a>。
                </p>
            <li>
                <p>如果 <var>codePoint</var> 是一个<a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#ascii-code-point" id="ref-for-ascii-code-point①①">ASCII
                        码点</a>，则返回一个值为
                    <var>codePoint</var> 的字节。
                </p>
            <li>
                <p>令 <var>pointer</var> 为<a data-link-type="dfn" href="#index-euc-kr" id="ref-for-index-euc-kr①">EUC-KR
                        索引</a>中 <var>codePoint</var> 对应的<a data-link-type="dfn" href="#index-pointer"
                        id="ref-for-index-pointer⑧">索引指针</a>。
                </p>
            <li>
                <p>如果 <var>pointer</var> 为 null，则返回带 <var>codePoint</var> 的<a data-link-type="dfn" href="#error"
                        id="ref-for-error⑤⑦">错误</a>。
                </p>
            <li>
                <p>令 <var>leading</var> 为 <var>pointer</var> / 190 + 0x81。
                </p>
            <li>
                <p>令 <var>trailing</var> 为 <var>pointer</var> % 190 + 0x41。
                </p>
            <li>
                <p>返回两个字节，其值分别为 <var>leading</var> 和 <var>trailing</var>。
                </p>
        </ol>
        <h2 class="heading settled" data-level="14" id="legacy-miscellaneous-encodings"><span class="secno">14.
            </span><span class="content">旧式杂项编码</span><a class="self-link" href="#legacy-miscellaneous-encodings"></a>
        </h2>
        <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="14.1" data-lt="replacement"
            id="replacement"><span class="secno">14.1. </span><span class="content">replacement</span><a
                class="self-link" href="#replacement" id="ref-for-replacement①②"></a></h3>
        <p class="note" role="note"><a data-link-type="dfn" href="#replacement"
                id="ref-for-replacement⑨">replacement</a> <a data-link-type="dfn" href="#encoding"
                id="ref-for-encoding③⓪">编码</a>的存在是为了防止滥用服务器与客户端支持的
            <a data-link-type="dfn" href="#encoding" id="ref-for-encoding③①">编码</a>不一致造成的某些攻击。
        </p>
        <h4 class="heading settled dfn-paneled algorithm" data-algorithm="replacement decoder" data-dfn-type="dfn"
            data-export data-level="14.1.1" data-lt="replacement decoder" id="replacement-decoder"><span
                class="secno">14.1.1. </span><span class="content">replacement 解码器</span><a class="self-link"
                href="#replacement-decoder" id="ref-for-replacement-decoder"></a></h4>
        <p><a data-link-type="dfn" href="#replacement" id="ref-for-replacement①⓪">replacement</a> 的<a
                data-link-type="dfn" href="#decoder" id="ref-for-decoder③⑧">解码器</a>有一个关联的
            <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="replacement-error-returned-flag">replacement
                error returned</dfn>，它是一个布尔值，初始为 false。
        </p>
        <p><a data-link-type="dfn" href="#replacement" id="ref-for-replacement①①">replacement</a> 的<a
                data-link-type="dfn" href="#decoder" id="ref-for-decoder③⑨">解码器</a>的<a data-link-type="dfn"
                href="#handler" id="ref-for-handler②⓪">处理程序</a>，给定 <var>unused</var> 和
            <var>byte</var>，执行以下步骤：
        </p>
        <ol>
            <li>
                <p>如果 <var>byte</var> 是<a data-link-type="dfn" href="#end-of-stream"
                        id="ref-for-end-of-stream⑥⓪">队列末尾</a>，则返回<a data-link-type="dfn" href="#finished"
                        id="ref-for-finished②④">完成</a>。
                </p>
            <li>
                <p>如果 <a data-link-type="dfn" href="#replacement-error-returned-flag"
                        id="ref-for-replacement-error-returned-flag">replacement error returned</a> 为 false，则将
                    <a data-link-type="dfn" href="#replacement-error-returned-flag"
                        id="ref-for-replacement-error-returned-flag①">replacement error returned</a>
                    设为 true，并返回<a data-link-type="dfn" href="#error" id="ref-for-error⑤⑧">错误</a>。
                </p>
            <li>
                <p>返回<a data-link-type="dfn" href="#finished" id="ref-for-finished②⑤">完成</a>。
                </p>
        </ol>
        <h3 class="heading settled" data-level="14.2" id="common-infrastructure-for-utf-16be-and-utf-16le"><span
                class="secno">14.2. </span><span class="content">UTF-16BE/LE 的通用基础设施</span><a class="self-link"
                href="#common-infrastructure-for-utf-16be-and-utf-16le"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="utf-16be-le">UTF-16BE/LE</dfn> 是 <a
                data-link-type="dfn" href="#utf-16be" id="ref-for-utf-16be④">UTF-16BE</a> 或 <a data-link-type="dfn"
                href="#utf-16le" id="ref-for-utf-16le④">UTF-16LE</a>。
        </p>
        <h4 class="heading settled dfn-paneled algorithm" data-algorithm="shared UTF-16 decoder" data-dfn-type="dfn"
            data-export data-level="14.2.1" data-lt="shared UTF-16 decoder" id="shared-utf-16-decoder"><span
                class="secno">14.2.1. </span><span class="content">共享 UTF-16 解码器</span><a class="self-link"
                href="#shared-utf-16-decoder" id="ref-for-shared-utf-16-decoder"></a></h4>
        <p class="note" role="note">字节顺序标记优先于标签，因为在实际内容中它被发现更为准确。因此它不是<a data-link-type="dfn"
                href="#shared-utf-16-decoder" id="ref-for-shared-utf-16-decoder⑤">共享 UTF-16 解码器</a>算法的一部分，而属于<a
                data-link-type="dfn" href="#decode" id="ref-for-decode⑥">解码</a>算法。
        </p>
        <p><a data-link-type="dfn" href="#shared-utf-16-decoder" id="ref-for-shared-utf-16-decoder①">共享 UTF-16
                解码器</a>有一个关联的：
        </p>
        <dl>
            <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="utf-16-lead-byte">UTF-16 前导字节</dfn>
            <dd>为空或一个字节，初始为 null。
            <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="utf-16-lead-surrogate">UTF-16 前导代理项</dfn>
            <dd>为空或<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#leading-surrogate"
                    id="ref-for-leading-surrogate③">前导代理项</a>，初始为 null。
            <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="utf-16be-decoder-flag">是否 UTF-16BE
                    解码器</dfn>
            <dd>布尔值，初始为 false。
        </dl>
        <p><a data-link-type="dfn" href="#shared-utf-16-decoder" id="ref-for-shared-utf-16-decoder②">共享 UTF-16
                解码器</a>的<a data-link-type="dfn" href="#handler" id="ref-for-handler②①">处理程序</a>，给定
            <var>ioQueue</var> 和
            <var>byte</var>，执行以下步骤：
        </p>
        <ol>
            <li>
                <p>如果 <var>byte</var> 是<a data-link-type="dfn" href="#end-of-stream"
                        id="ref-for-end-of-stream⑥①">队列末尾</a>，且 <a data-link-type="dfn" href="#utf-16-lead-byte"
                        id="ref-for-utf-16-lead-byte">UTF-16 前导字节</a> 或
                    <a data-link-type="dfn" href="#utf-16-lead-surrogate" id="ref-for-utf-16-lead-surrogate">UTF-16
                        前导代理项</a>非空，则将 <a data-link-type="dfn" href="#utf-16-lead-byte"
                        id="ref-for-utf-16-lead-byte①">UTF-16 前导字节</a>和
                    <a data-link-type="dfn" href="#utf-16-lead-surrogate" id="ref-for-utf-16-lead-surrogate①">UTF-16
                        前导代理项</a>设为 null，并返回<a data-link-type="dfn" href="#error" id="ref-for-error⑤⑨">错误</a>。
                </p>
            <li>
                <p>如果 <var>byte</var> 是<a data-link-type="dfn" href="#end-of-stream"
                        id="ref-for-end-of-stream⑥②">队列末尾</a>，且<a data-link-type="dfn" href="#utf-16-lead-byte"
                        id="ref-for-utf-16-lead-byte②">UTF-16 前导字节</a>和
                    <a data-link-type="dfn" href="#utf-16-lead-surrogate" id="ref-for-utf-16-lead-surrogate②">UTF-16
                        前导代理项</a>均为空，则返回<a data-link-type="dfn" href="#finished" id="ref-for-finished②⑥">完成</a>。
                </p>
            <li>
                <p>如果<a data-link-type="dfn" href="#utf-16-lead-byte" id="ref-for-utf-16-lead-byte③">UTF-16
                        前导字节</a>为空，则将<a data-link-type="dfn" href="#utf-16-lead-byte"
                        id="ref-for-utf-16-lead-byte④">UTF-16 前导字节</a>设为
                    <var>byte</var>，并返回<a data-link-type="dfn" href="#continue" id="ref-for-continue②①">继续</a>。
                </p>
            <li>
                <p>令 <var>codeUnit</var> 为以下结果之一：
                </p>
                <dl class="switch">
                    <dt><a data-link-type="dfn" href="#utf-16be-decoder-flag" id="ref-for-utf-16be-decoder-flag">是否
                            UTF-16BE 解码器</a>为 true
                    <dd>
                        <p>(<a data-link-type="dfn" href="#utf-16-lead-byte" id="ref-for-utf-16-lead-byte⑤">UTF-16
                                前导字节</a> &lt;&lt; 8) + <var>byte</var>。
                        </p>
                    <dt><a data-link-type="dfn" href="#utf-16be-decoder-flag" id="ref-for-utf-16be-decoder-flag①">是否
                            UTF-16BE 解码器</a>为 false
                    <dd>
                        <p>(<var>byte</var> &lt;&lt; 8) + <a data-link-type="dfn" href="#utf-16-lead-byte"
                                id="ref-for-utf-16-lead-byte⑥">UTF-16 前导字节</a>。
                        </p>
                </dl>
            <li>
                <p>将<a data-link-type="dfn" href="#utf-16-lead-byte" id="ref-for-utf-16-lead-byte⑦">UTF-16 前导字节</a>设为
                    null。
                </p>
            <li>
                <p>如果<a data-link-type="dfn" href="#utf-16-lead-surrogate" id="ref-for-utf-16-lead-surrogate③">UTF-16
                        前导代理项</a>非空：
                </p>
                <ol>
                    <li>
                        <p>令 <var>leadingSurrogate</var> 为<a data-link-type="dfn" href="#utf-16-lead-surrogate"
                                id="ref-for-utf-16-lead-surrogate④">UTF-16 前导代理项</a>。
                        </p>
                    <li>
                        <p>将<a data-link-type="dfn" href="#utf-16-lead-surrogate"
                                id="ref-for-utf-16-lead-surrogate⑤">UTF-16 前导代理项</a>设为 null。
                        </p>
                    <li>
                        <p>如果 <var>codeUnit</var> 是<a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#trailing-surrogate"
                                id="ref-for-trailing-surrogate③">尾随代理项</a>，则返回<a data-link-type="dfn"
                                href="#scalar-value-from-surrogates"
                                id="ref-for-scalar-value-from-surrogates①">由代理项组成的标量值</a>，参数为
                            <var>leadingSurrogate</var> 和 <var>codeUnit</var>。
                        </p>
                    <li>
                        <p>令 <var>byte1</var> 为 <var>codeUnit</var> >> 8。
                        </p>
                    <li>
                        <p>令 <var>byte2</var> 为 <var>codeUnit</var> &amp; 0x00FF。
                        </p>
                    <li>
                        <p>若<a data-link-type="dfn" href="#utf-16be-decoder-flag" id="ref-for-utf-16be-decoder-flag②">是否
                                UTF-16BE 解码器</a>为 true，则 <var>bytes</var> 为 [<var>byte1</var>, <var>byte2</var>]，否则为
                            [<var>byte2</var>, <var>byte1</var>]。
                        </p>
                    <li>
                        <p><a data-link-type="dfn" href="#concept-stream-prepend"
                                id="ref-for-concept-stream-prepend①⑧">恢复</a> <var>bytes</var> 到 <var>ioQueue</var> 并返回<a
                                data-link-type="dfn" href="#error" id="ref-for-error⑥⓪">错误</a>。
                        </p>
                </ol>
            <li>
                <p>如果 <var>codeUnit</var> 是<a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#leading-surrogate"
                        id="ref-for-leading-surrogate④">前导代理项</a>，则将<a data-link-type="dfn"
                        href="#utf-16-lead-surrogate" id="ref-for-utf-16-lead-surrogate⑥">UTF-16 前导代理项</a>设为
                    <var>codeUnit</var> 并返回<a data-link-type="dfn" href="#continue" id="ref-for-continue②②">继续</a>。
                </p>
            <li>
                <p>如果 <var>codeUnit</var> 是<a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#trailing-surrogate"
                        id="ref-for-trailing-surrogate④">尾随代理项</a>，则返回<a data-link-type="dfn" href="#error"
                        id="ref-for-error⑥①">错误</a>。
                </p>
            <li>
                <p>返回码点 <var>codeUnit</var>。
                </p>
        </ol>
        <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="14.3" data-lt="UTF-16BE"
            id="utf-16be"><span class="secno">14.3. </span><span class="content">UTF-16BE</span><a class="self-link"
                href="#utf-16be" id="ref-for-utf-16be⑥"></a></h3>
        <h4 class="heading settled dfn-paneled algorithm" data-algorithm="UTF-16BE decoder" data-dfn-type="dfn"
            data-export data-level="14.3.1" data-lt="UTF-16BE decoder" id="utf-16be-decoder"><span class="secno">14.3.1.
            </span><span class="content">UTF-16BE 解码器</span><a class="self-link" href="#utf-16be-decoder"
                id="ref-for-utf-16be-decoder"></a></h4>
        <p><a data-link-type="dfn" href="#utf-16be" id="ref-for-utf-16be⑤">UTF-16BE</a> 的<a data-link-type="dfn"
                href="#decoder" id="ref-for-decoder④⓪">解码器</a>是<a data-link-type="dfn" href="#shared-utf-16-decoder"
                id="ref-for-shared-utf-16-decoder③">共享 UTF-16 解码器</a>，其
            <a data-link-type="dfn" href="#utf-16be-decoder-flag" id="ref-for-utf-16be-decoder-flag③">是否 UTF-16BE
                解码器</a> 设为 true。
        </p>
        <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="14.4" data-lt="UTF-16LE"
            id="utf-16le"><span class="secno">14.4. </span><span class="content">UTF-16LE</span><a class="self-link"
                href="#utf-16le" id="ref-for-utf-16le⑦"></a></h3>
        <p class="note" role="note">"<code>utf-16</code>" 是 <a data-link-type="dfn" href="#utf-16le"
                id="ref-for-utf-16le⑤">UTF-16LE</a> 的<a data-link-type="dfn" href="#label"
                id="ref-for-label⑨">标签</a>，用于兼容已部署的内容。
        </p>
        <h4 class="heading settled dfn-paneled algorithm" data-algorithm="UTF-16LE decoder" data-dfn-type="dfn"
            data-export data-level="14.4.1" data-lt="UTF-16LE decoder" id="utf-16le-decoder"><span class="secno">14.4.1.
            </span><span class="content">UTF-16LE 解码器</span><a class="self-link" href="#utf-16le-decoder"
                id="ref-for-utf-16le-decoder"></a></h4>
        <p><a data-link-type="dfn" href="#utf-16le" id="ref-for-utf-16le⑥">UTF-16LE</a> 的<a data-link-type="dfn"
                href="#decoder" id="ref-for-decoder④①">解码器</a>是<a data-link-type="dfn" href="#shared-utf-16-decoder"
                id="ref-for-shared-utf-16-decoder④">共享 UTF-16 解码器</a>。
        </p>
        <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="14.5"
            data-lt="x-user-defined" id="x-user-defined"><span class="secno">14.5. </span><span
                class="content">x-user-defined</span><a class="self-link" href="#x-user-defined"
                id="ref-for-x-user-defined③"></a></h3>
        <p class="note" role="note">虽然技术上这是<a data-link-type="dfn" href="#single-byte-encoding"
                id="ref-for-single-byte-encoding⑥">单字节编码</a>，但它被单独定义，因为它可以算法化实现。
        </p>
        <h4 class="heading settled dfn-paneled algorithm" data-algorithm="x-user-defined decoder" data-dfn-type="dfn"
            data-export data-level="14.5.1" data-lt="x-user-defined decoder" id="x-user-defined-decoder"><span
                class="secno">14.5.1. </span><span class="content">x-user-defined 解码器</span><a class="self-link"
                href="#x-user-defined-decoder" id="ref-for-x-user-defined-decoder"></a></h4>
        <p><a data-link-type="dfn" href="#x-user-defined" id="ref-for-x-user-defined①">x-user-defined</a> 的<a
                data-link-type="dfn" href="#decoder" id="ref-for-decoder④②">解码器</a>的<a data-link-type="dfn"
                href="#handler" id="ref-for-handler②②">处理程序</a>，给定 <var>unused</var> 和
            <var>byte</var>，执行以下步骤：
        </p>
        <ol>
            <li>
                <p>如果 <var>byte</var> 是<a data-link-type="dfn" href="#end-of-stream"
                        id="ref-for-end-of-stream⑥③">队列末尾</a>，则返回<a data-link-type="dfn" href="#finished"
                        id="ref-for-finished②⑦">完成</a>。
                </p>
            <li>
                <p>如果 <var>byte</var> 是一个<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-byte"
                        id="ref-for-ascii-byte①②">ASCII 字节</a>，则返回一个值为 <var>byte</var> 的码点。
                </p>
            <li>
                <p>返回一个值为 0xF780 + <var>byte</var> − 0x80 的码点。
                </p>
        </ol>
        <h4 class="heading settled dfn-paneled algorithm" data-algorithm="x-user-defined encoder" data-dfn-type="dfn"
            data-export data-level="14.5.2" data-lt="x-user-defined encoder" id="x-user-defined-encoder"><span
                class="secno">14.5.2. </span><span class="content">x-user-defined 编码器</span><a class="self-link"
                href="#x-user-defined-encoder" id="ref-for-x-user-defined-encoder"></a></h4>
        <p><a data-link-type="dfn" href="#x-user-defined" id="ref-for-x-user-defined②">x-user-defined</a> 的<a
                data-link-type="dfn" href="#encoder" id="ref-for-encoder③③">编码器</a>的<a data-link-type="dfn"
                href="#handler" id="ref-for-handler②③">处理程序</a>，给定 <var>unused</var> 和
            <var>codePoint</var>，执行以下步骤：
        </p>
        <ol>
            <li>
                <p>如果 <var>codePoint</var> 是<a data-link-type="dfn" href="#end-of-stream"
                        id="ref-for-end-of-stream⑥④">队列末尾</a>，则返回<a data-link-type="dfn" href="#finished"
                        id="ref-for-finished②⑧">完成</a>。
                </p>
            <li>
                <p>如果 <var>codePoint</var> 是一个<a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#ascii-code-point" id="ref-for-ascii-code-point①②">ASCII
                        码点</a>，则返回一个值为 <var>codePoint</var> 的字节。
                </p>
            <li>
                <p>如果 <var>codePoint</var> 在 U+F780 到 U+F7FF（含）的范围内，则返回一个值为 <var>codePoint</var> − 0xF780 + 0x80 的字节。
                </p>
            <li>
                <p>返回带 <var>codePoint</var> 的<a data-link-type="dfn" href="#error" id="ref-for-error⑥②">错误</a>。
                </p>
        </ol>
        <h2 class="heading settled" data-level="15" id="browser-ui"><span class="secno">15. </span><span
                class="content">浏览器 UI</span><a class="self-link" href="#browser-ui"></a></h2>
        <p>建议浏览器不要启用覆盖资源编码的选项。如果此功能仍然存在，浏览器不应将 <a data-link-type="dfn" href="#utf-16be-le"
                id="ref-for-utf-16be-le⑥">UTF-16BE/LE</a> 作为选项提供，因为上述安全问题。若资源已用 <a data-link-type="dfn"
                href="#utf-16be-le" id="ref-for-utf-16be-le⑦">UTF-16BE/LE</a> 解码，浏览器也应该禁用该功能。
        </p>
        <h2 class="no-num heading settled" id="implementation-considerations"><span class="content">实现注意事项</span><a
                class="self-link" href="#implementation-considerations"></a></h2>
        <p>对于本标准中的<a data-link-type="dfn" href="#encoding" id="ref-for-encoding③②">编码</a>，其<a data-link-type="dfn"
                href="#decoder" id="ref-for-decoder④③">解码器</a>可以用如下方式实现，无需支持具有任意<a data-link-type="dfn"
                href="#concept-stream" id="ref-for-concept-stream③⑥">I/O 队列</a>和任意<a data-link-type="dfn"
                href="#concept-stream-prepend" id="ref-for-concept-stream-prepend①⑨">恢复</a>：
        </p>
        <ol>
            <li>
                <p>能够反读当前字节。
                </p>
            <li>
                <p>为 <a data-link-type="dfn" href="#gb18030" id="ref-for-gb18030⑧">gb18030</a>（一个 <a
                        data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-byte"
                        id="ref-for-ascii-byte①③">ASCII 字节</a>）和 <a data-link-type="dfn" href="#iso-2022-jp"
                        id="ref-for-iso-2022-jp⑥">ISO-2022-JP</a>（0x24 或 0x28）提供单字节缓冲区。
                </p>
                <p class="example" id="example-gb18030-implementation-strategy"><a class="self-link"
                        href="#example-gb18030-implementation-strategy"></a>对于 <a data-link-type="dfn" href="#gb18030"
                        id="ref-for-gb18030⑨">gb18030</a>，当 <a data-link-type="dfn" href="#gb18030-third"
                        id="ref-for-gb18030-third⑨">gb18030 third</a> 不为 0x00 时遇到非法字节，可以将 <a data-link-type="dfn"
                        href="#gb18030-second" id="ref-for-gb18030-second①①">gb18030 second</a> 移入单字节缓冲区，作为下一个字节返回，并将 <a
                        data-link-type="dfn" href="#gb18030-third" id="ref-for-gb18030-third①⓪">gb18030 third</a> 作为新的
                    <a data-link-type="dfn" href="#gb18030-first" id="ref-for-gb18030-first①①">gb18030
                        first</a>，在单字节缓冲区被返回并清空后检查其是否不为 0x00。因为 <a data-link-type="dfn" href="#gb18030"
                        id="ref-for-gb18030①⓪">gb18030</a> 的第一个字节和第三个字节的取值范围是相同的，所以这是可行的。
                </p>
        </ol>
        <p><a data-link-type="dfn" href="#iso-2022-jp-encoder" id="ref-for-iso-2022-jp-encoder⑤">ISO-2022-JP 编码器</a>需要
            <a data-link-type="dfn" href="#iso-2022-jp-encoder-state"
                id="ref-for-iso-2022-jp-encoder-state①④">ISO-2022-JP 编码器状态</a> 作为额外状态，但除此之外，本标准中其他<a
                data-link-type="dfn" href="#encoding" id="ref-for-encoding③③">编码</a>的<a data-link-type="dfn"
                href="#encoder" id="ref-for-encoder③④">编码器</a>不需要额外状态或缓冲区。
        </p>
        <h2 class="no-num heading settled" id="acknowledgments"><span class="content">致谢</span><a class="self-link"
                href="#acknowledgments"></a></h2>
        <p>多年来，许多人帮助提升了编码的互操作性，从而推动了本标准的目标。同样，许多人也帮助本标准成为今天的样子。
        </p>
        <p>在此，衷心感谢
            Adam Rice，
            Alan Chaney，
            Alexander Shtuchkin，
            Allen Wirfs-Brock，
            Andreu Botella，
            Aneesh Agrawal，
            Arkadiusz Michalski，
            Asmus Freytag，
            Ben Noordhuis，
            Bnaya Peretz，
            Boris Zbarsky，
            Bruno Haible，
            Cameron McCormack，
            Charles McCathieNeville，
            Christopher Foo，
            CodifierNL，
            David Carlisle，
            Domenic Denicola，
            Dominique Hazaël-Massieux，
            Doug Ewell，
            Erik van der Poel，
            譚永鋒 (Frank Yung-Fong Tang)，
            Glenn Maynard，
            Gordon P. Hemsley，
            Henri Sivonen，
            Ian Hickson，
            J. King，
            James Graham，
            Jeffrey Yasskin，
            John Tamplin，
            Joshua Bell，
            村井純 (Jun Murai)，
            신정식 (Jungshik Shin)，
            Jxck，
            강 성훈 (Kang Seonghoon)，
            川幡太一 (Kawabata Taichi)，
            Ken Lunde，
            Ken Whistler，
            Kenneth Russell，
            田村健人 (Kent Tamura)，
            Leif Halvard Silli，
            Luke Wagner，
            Maciej Hirsz，
            Makoto Kato，
            Mark Callow，
            Mark Crispin，
            Mark Davis，
            Martin Dürst，
            Masatoshi Kimura，
            Mattias Buelens，
            Ms2ger，
            Nigel Megitt，
            Nigel Tao，
            Norbert Lindenberg，
            Øistein E. Andersen，
            Peter Krefting，
            Philip Jägenstedt，
            Philip Taylor，
            Richard Ishida，
            Robbert Broersma，
            Robert Mustacchi，
            Ryan Dahl，
            Sam Sneddon，
            Shawn Steele，
            Simon Montagu，
            Simon Pieters，
            Simon Sapin，
            Stephen Checkoway，
            寺田健 (Takeshi Terada)，
            Vyacheslav Matva，
            Wolf Lammen，以及
            成瀬ゆい (Yui Naruse)
            的卓越贡献。
        </p>
        <p>本标准由 <a href="https://annevankesteren.nl/" lang="nl">Anne van Kesteren</a>
            (<a href="https://www.apple.com/">Apple</a>, <a href="mailto:annevk@annevk.nl">annevk@annevk.nl</a>) 编写。
            <a href="#api">API</a> 章节最初由 Joshua Bell
            (<a href="https://www.google.com/">Google</a>) 编写。
        </p>
        <h2 class="no-num heading settled" id="ipr"><span class="content">知识产权声明</span><a class="self-link"
                href="#ipr"></a></h2>
        <p>Copyright © WHATWG (Apple, Google, Mozilla, Microsoft)。本作品采用 <a
                href="https://creativecommons.org/licenses/by/4.0/" rel="license">知识共享署名 4.0 国际许可协议 (CC BY 4.0)</a>
            许可。若其中部分内容被纳入源代码，则该部分在源代码中改为采用 <a href="https://opensource.org/licenses/BSD-3-Clause" rel="license">BSD
                3-Clause License</a> 许可。</p>
        <p>这是 Living Standard 版本。如需专利审查版本，请参见
            <a href="https://encoding.spec.whatwg.org/review-drafts/2025-06/">Living Standard Review Draft</a>。
        </p>
    </main>
    <script>
        // "use strict";
        // if ("serviceWorker" in navigator) {
        //     navigator.serviceWorker.register("/service-worker.js");
        // }
    </script>
    <h2 class="no-num no-ref heading settled" id="section-index"><span class="content">索引</span><a class="self-link"
            href="#section-index"></a></h2>
    <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">本规范定义的术语</span><a
            class="self-link" href="#index-defined-here"></a></h3>
    <ul class="index">
        <li><a href="#big5">Big5</a><span>，见 § 11</span>
        <li><a href="#big5-decoder">Big5 解码器</a><span>，见 § 11.1</span>
        <li><a href="#big5-encoder">Big5 编码器</a><span>，见 § 11.1.1</span>
        <li><a href="#big5-lead">Big5 前导字节</a><span>，见 § 11.1.1</span>
        <li><a href="#textdecoder-bom-seen-flag">已见 BOM</a><span>，见 § 7.1</span>
        <li><a href="#bom-sniff">BOM 检测</a><span>，见 § 6.1</span>
        <li>
            constructor()
            <ul>
                <li><a href="#dom-textdecoder">TextDecoder 构造函数</a><span>，见 § 7.2</span>
                <li><a href="#dom-textdecoderstream">TextDecoderStream 构造函数</a><span>，见 § 7.5</span>
                <li><a href="#dom-textencoder">TextEncoder 构造函数</a><span>，见 § 7.4</span>
                <li><a href="#dom-textencoderstream">TextEncoderStream 构造函数</a><span>，见 § 7.6</span>
            </ul>
        <li>
            constructor(label)
            <ul>
                <li><a href="#dom-textdecoder">TextDecoder 构造函数</a><span>，见 § 7.2</span>
                <li><a href="#dom-textdecoderstream">TextDecoderStream 构造函数</a><span>，见 § 7.5</span>
            </ul>
        <li>
            constructor(label, options)
            <ul>
                <li><a href="#dom-textdecoder">TextDecoder 构造函数</a><span>，见 § 7.2</span>
                <li><a href="#dom-textdecoderstream">TextDecoderStream 构造函数</a><span>，见 § 7.5</span>
            </ul>
        <li><a href="#continue">继续 (continue)</a><span>，见 § 4.1</span>
        <li>
            convert
            <ul>
                <li><a href="#from-i-o-queue-convert">I/O 队列转码</a><span>，见 § 3</span>
                <li><a href="#to-i-o-queue-convert">转为 I/O 队列</a><span>，见 § 3</span>
            </ul>
        <li><a href="#convert-code-unit-to-scalar-value">码元转标量值</a><span>，见 § 7.6</span>
        <li><a href="#create-a-uint8array-object">创建 Uint8Array 对象</a><span>，见 § 3</span>
        <li><a href="#decode">解码 (decode)</a><span>，见 § 6.1</span>
        <li><a href="#dom-textdecoder-decode">decode()</a><span>，见 § 7.2</span>
        <li><a href="#decode-and-enqueue-a-chunk">解码并入队数据块</a><span>，见 § 7.5</span>
        <li><a href="#dom-textdecoder-decode">decode(input)</a><span>，见 § 7.2</span>
        <li><a href="#dom-textdecoder-decode">decode(input, options)</a><span>，见 § 7.2</span>
        <li>
            decoder
            <ul>
                <li><a href="#decoder">定义</a><span>，见 § 4.1</span>
                <li><a href="#textdecodercommon-decoder">TextDecoderCommon 的定义</a><span>，见 § 7.1</span>
            </ul>
        <li><a href="#textdecoder-do-not-flush-flag">不 flush 标志</a><span>，见 § 7.2</span>
        <li><a href="#encode">编码 (encode)</a><span>，见 § 6.1</span>
        <li><a href="#dom-textencoder-encode">encode()</a><span>，见 § 7.4</span>
        <li><a href="#encode-and-enqueue-a-chunk">编码并入队数据块</a><span>，见 § 7.6</span>
        <li><a href="#encode-and-flush">编码并 flush</a><span>，见 § 7.6</span>
        <li><a href="#dom-textencoder-encode">encode(input)</a><span>，见 § 7.4</span>
        <li><a href="#dom-textencoder-encodeinto">encodeInto(source, destination)</a><span>，见 § 7.4</span>
        <li><a href="#encode-or-fail">编码或失败</a><span>，见 § 6.1</span>
        <li>
            encoder
            <ul>
                <li><a href="#encoder">定义</a><span>，见 § 4.1</span>
                <li><a href="#textencoderstream-encoder">TextEncoderStream 的定义</a><span>，见 § 7.6</span>
            </ul>
        <li>
            encoding
            <ul>
                <li><a href="#dom-textdecoder-encoding">TextDecoderCommon 的 encoding 属性</a><span>，见 § 7.1</span>
                <li><a href="#dom-textencoder-encoding">TextEncoderCommon 的 encoding 属性</a><span>，见 § 7.3</span>
                <li><a href="#encoding">定义</a><span>，见 § 4</span>
                <li><a href="#textdecoder-encoding">TextDecoderCommon 的定义</a><span>，见 § 7.1</span>
            </ul>
        <li><a href="#end-of-stream">队列末尾 (End-of-queue)</a><span>，见 § 3</span>
        <li><a href="#error">错误 (error)</a><span>，见 § 4.1</span>
        <li>
            error mode
            <ul>
                <li><a href="#error-mode">定义</a><span>，见 § 4.1</span>
                <li><a href="#textdecoder-error-mode">TextDecoderCommon 的定义</a><span>，见 § 7.1</span>
            </ul>
        <li><a href="#euc-jp">EUC-JP</a><span>，见 § 12</span>
        <li><a href="#euc-jp-decoder">EUC-JP 解码器</a><span>，见 § 12.1</span>
        <li><a href="#euc-jp-encoder">EUC-JP 编码器</a><span>，见 § 12.1.1</span>
        <li><a href="#euc-jp-jis0212-flag">EUC-JP jis0212</a><span>，见 § 12.1.1</span>
        <li><a href="#euc-jp-lead">EUC-JP 前导字节</a><span>，见 § 12.1.1</span>
        <li><a href="#euc-kr">EUC-KR</a><span>，见 § 13</span>
        <li><a href="#euc-kr-decoder">EUC-KR 解码器</a><span>，见 § 13.1</span>
        <li><a href="#euc-kr-encoder">EUC-KR 编码器</a><span>，见 § 13.1.1</span>
        <li><a href="#euc-kr-lead">EUC-KR 前导字节</a><span>，见 § 13.1.1</span>
        <li>
            fatal
            <ul>
                <li><a href="#dom-textdecoder-fatal">TextDecoderCommon 的 fatal 属性</a><span>，见 § 7.1</span>
                <li><a href="#dom-textdecoderoptions-fatal">TextDecoderOptions 的成员</a><span>，见 § 7.2</span>
            </ul>
        <li><a href="#finished">完成 (finished)</a><span>，见 § 4.1</span>
        <li><a href="#flush-and-enqueue">flush 并入队</a><span>，见 § 7.5</span>
        <li><a href="#gb18030">gb18030</a><span>，见 § 10.1.2</span>
        <li><a href="#gb18030-decoder">gb18030 解码器</a><span>，见 § 10.2</span>
        <li><a href="#gb18030-encoder">gb18030 编码器</a><span>，见 § 10.2.1</span>
        <li><a href="#gb18030-first">gb18030 first</a><span>，见 § 10.2.1</span>
        <li><a href="#gb18030-second">gb18030 second</a><span>，见 § 10.2.1</span>
        <li><a href="#gb18030-third">gb18030 third</a><span>，见 § 10.2.1</span>
        <li><a href="#gbk">GBK</a><span>，见 § 10</span>
        <li><a href="#gbk-decoder">GBK 解码器</a><span>，见 § 10.1</span>
        <li><a href="#gbk-encoder">GBK 编码器</a><span>，见 § 10.1.1</span>
        <li><a href="#get-an-encoder">获取编码器</a><span>，见 § 6.1</span>
        <li><a href="#concept-encoding-get">获取编码</a><span>，见 § 4.2</span>
        <li><a href="#get-an-output-encoding">获取输出编码</a><span>，见 § 4.3</span>
        <li><a href="#get-an-encoder">获取编码器</a><span>，见 § 6.1</span>
        <li><a href="#concept-encoding-get">获取编码</a><span>，见 § 4.2</span>
        <li><a href="#handler">处理程序 (handler)</a><span>，见 § 4.1</span>
        <li><a href="#ibm866">IBM866</a><span>，见 § 9</span>
        <li><a href="#textdecoder-ignore-bom-flag">忽略 BOM</a><span>，见 § 7.1</span>
        <li>
            ignoreBOM
            <ul>
                <li><a href="#dom-textdecoder-ignorebom">TextDecoderCommon 的 ignoreBOM 属性</a><span>，见 § 7.1</span>
                <li><a href="#dom-textdecoderoptions-ignorebom">TextDecoderOptions 的成员</a><span>，见 § 7.2</span>
            </ul>
        <li><a href="#index">索引 (index)</a><span>，见 § 5</span>
        <li><a href="#index-big5">Big5 索引</a><span>，见 § 5</span>
        <li><a href="#index-big5-pointer">Big5 索引指针</a><span>，见 § 5</span>
        <li><a href="#index-code-point">索引码点</a><span>，见 § 5</span>
        <li><a href="#index-euc-kr">EUC-KR 索引</a><span>，见 § 5</span>
        <li><a href="#index-gb18030">gb18030 索引</a><span>，见 § 5</span>
        <li><a href="#index-gb18030-ranges">gb18030 范围索引</a><span>，见 § 5</span>
        <li><a href="#index-gb18030-ranges-code-point">gb18030 范围索引码点</a><span>，见 § 5</span>
        <li><a href="#index-gb18030-ranges-pointer">gb18030 范围索引指针</a><span>，见 § 5</span>
        <li><a href="#index-iso-2022-jp-katakana">ISO-2022-JP 片假名索引</a><span>，见 § 5</span>
        <li><a href="#index-jis0208">jis0208 索引</a><span>，见 § 5</span>
        <li><a href="#index-jis0212">jis0212 索引</a><span>，见 § 5</span>
        <li><a href="#index-pointer">索引指针</a><span>，见 § 5</span>
        <li><a href="#index-shift_jis-pointer">Shift_JIS 索引指针</a><span>，见 § 5</span>
        <li><a href="#index-single-byte">单字节索引</a><span>，见 § 9</span>
        <li>
            I/O queue
            <ul>
                <li><a href="#concept-stream">定义</a><span>，见 § 3</span>
                <li><a href="#textdecodercommon-i-o-queue">TextDecoderCommon 的定义</a><span>，见 § 7.1</span>
            </ul>
        <li><a href="#gbk-flag">is GBK</a><span>，见 § 10.2.2</span>
        <li><a href="#iso-2022-jp">ISO-2022-JP</a><span>，见 § 12.1.2</span>
        <li><a href="#iso-2022-jp-decoder">ISO-2022-JP 解码器</a><span>，见 § 12.2</span>
        <li><a href="#iso-2022-jp-decoder-ascii">ISO-2022-JP 解码器 ASCII</a><span>，见 § 12.2.1</span>
        <li><a href="#iso-2022-jp-decoder-escape">ISO-2022-JP 解码器转义</a><span>，见 § 12.2.1</span>
        <li><a href="#iso-2022-jp-decoder-escape-start">ISO-2022-JP 解码器转义开始</a><span>，见 § 12.2.1</span>
        <li><a href="#iso-2022-jp-decoder-katakana">ISO-2022-JP 解码器片假名</a><span>，见 § 12.2.1</span>
        <li><a href="#iso-2022-jp-decoder-lead-byte">ISO-2022-JP 解码器前导字节</a><span>，见 § 12.2.1</span>
        <li><a href="#iso-2022-jp-decoder-output-state">ISO-2022-JP 解码器输出状态</a><span>，见 § 12.2.1</span>
        <li><a href="#iso-2022-jp-decoder-roman">ISO-2022-JP 解码器罗马字</a><span>，见 § 12.2.1</span>
        <li><a href="#iso-2022-jp-decoder-state">ISO-2022-JP 解码器状态</a><span>，见 § 12.2.1</span>
        <li><a href="#iso-2022-jp-decoder-trail-byte">ISO-2022-JP 解码器尾随字节</a><span>，见 § 12.2.1</span>
        <li><a href="#iso-2022-jp-encoder">ISO-2022-JP 编码器</a><span>，见 § 12.2.1</span>
        <li><a href="#iso-2022-jp-encoder-ascii">ISO-2022-JP 编码器 ASCII</a><span>，见 § 12.2.2</span>
        <li><a href="#iso-2022-jp-encoder-jis0208">ISO-2022-JP 编码器 jis0208</a><span>，见 § 12.2.2</span>
        <li><a href="#iso-2022-jp-encoder-roman">ISO-2022-JP 编码器罗马字</a><span>，见 § 12.2.2</span>
        <li><a href="#iso-2022-jp-encoder-state">ISO-2022-JP 编码器状态</a><span>，见 § 12.2.2</span>
        <li><a href="#iso-2022-jp-lead">ISO-2022-JP 前导字节</a><span>，见 § 12.2.1</span>
        <li><a href="#iso-2022-jp-output-flag">ISO-2022-JP 输出标志</a><span>，见 § 12.2.1</span>
        <li><a href="#iso-8859-10">ISO-8859-10</a><span>，见 § 9</span>
        <li><a href="#iso-8859-13">ISO-8859-13</a><span>，见 § 9</span>
        <li><a href="#iso-8859-14">ISO-8859-14</a><span>，见 § 9</span>
        <li><a href="#iso-8859-15">ISO-8859-15</a><span>，见 § 9</span>
        <li><a href="#iso-8859-16">ISO-8859-16</a><span>，见 § 9</span>
        <li><a href="#iso-8859-2">ISO-8859-2</a><span>，见 § 9</span>
        <li><a href="#iso-8859-3">ISO-8859-3</a><span>，见 § 9</span>
        <li><a href="#iso-8859-4">ISO-8859-4</a><span>，见 § 9</span>
        <li><a href="#iso-8859-5">ISO-8859-5</a><span>，见 § 9</span>
        <li><a href="#iso-8859-6">ISO-8859-6</a><span>，见 § 9</span>
        <li><a href="#iso-8859-7">ISO-8859-7</a><span>，见 § 9</span>
        <li><a href="#iso-8859-8">ISO-8859-8</a><span>，见 § 9</span>
        <li><a href="#iso-8859-8-i">ISO-8859-8-I</a><span>，见 § 9</span>
        <li><a href="#utf-16be-decoder-flag">是否 UTF-16BE 解码器</a><span>，见 § 14.2.1</span>
        <li><a href="#koi8-r">KOI8-R</a><span>，见 § 9</span>
        <li><a href="#koi8-u">KOI8-U</a><span>，见 § 9</span>
        <li><a href="#label">标签 (label)</a><span>，见 § 4</span>
        <li><a href="#textencoderstream-pending-high-surrogate">前导代理项</a><span>，见 § 7.6</span>
        <li><a href="#macintosh">macintosh</a><span>，见 § 9</span>
        <li><a href="#name">名称 (name)</a><span>，见 § 4</span>
        <li><a href="#i-o-queue-peek">peek</a><span>，见 § 3</span>
        <li><a href="#concept-encoding-process">处理单项</a><span>，见 § 4.1</span>
        <li><a href="#concept-encoding-run">处理队列</a><span>，见 § 4.1</span>
        <li><a href="#concept-encoding-process">处理单项</a><span>，见 § 4.1</span>
        <li><a href="#concept-encoding-run">处理队列</a><span>，见 § 4.1</span>
        <li><a href="#concept-stream-push">push</a><span>，见 § 3</span>
        <li>
            read
            <ul>
                <li><a href="#concept-stream-read">I/O 队列定义</a><span>，见 § 3</span>
                <li><a href="#dom-textencoderencodeintoresult-read">TextEncoderEncodeIntoResult 的成员</a><span>，见
                        § 7.4</span>
            </ul>
        <li><a href="#replacement">replacement</a><span>，见 § 14</span>
        <li><a href="#replacement-decoder">replacement 解码器</a><span>，见 § 14.1</span>
        <li><a href="#replacement-error-returned-flag">replacement error returned</a><span>，见 § 14.1.1</span>
        <li><a href="#concept-stream-prepend">恢复 (restore)</a><span>，见 § 3</span>
        <li><a href="#scalar-value-from-surrogates">由代理项组成的标量值</a><span>，见 § 3</span>
        <li><a href="#concept-td-serialize">序列化 I/O 队列</a><span>，见 § 7.1</span>
        <li><a href="#shared-utf-16-decoder">共享 UTF-16 解码器</a><span>，见 § 14.2</span>
        <li><a href="#shift_jis">Shift_JIS</a><span>，见 § 12.2.2</span>
        <li><a href="#shift_jis-decoder">Shift_JIS 解码器</a><span>，见 § 12.3</span>
        <li><a href="#shift_jis-encoder">Shift_JIS 编码器</a><span>，见 § 12.3.1</span>
        <li><a href="#shift_jis-lead">Shift_JIS 前导字节</a><span>，见 § 12.3.1</span>
        <li><a href="#single-byte-decoder">单字节解码器</a><span>，见 § 9</span>
        <li><a href="#single-byte-encoder">单字节编码器</a><span>，见 § 9.1</span>
        <li><a href="#single-byte-encoding">单字节编码</a><span>，见 § 9</span>
        <li><a href="#dom-textdecodeoptions-stream">stream</a><span>，见 § 7.2</span>
        <li><a href="#textdecodeoptions">TextDecodeOptions</a><span>，见 § 7.2</span>
        <li><a href="#textdecoder">TextDecoder</a><span>，见 § 7.2</span>
        <li><a href="#dom-textdecoder">TextDecoder()</a><span>，见 § 7.2</span>
        <li><a href="#textdecodercommon">TextDecoderCommon</a><span>，见 § 7.1</span>
        <li><a href="#dom-textdecoder">TextDecoder(label)</a><span>，见 § 7.2</span>
        <li><a href="#dom-textdecoder">TextDecoder(label, options)</a><span>，见 § 7.2</span>
        <li><a href="#textdecoderoptions">TextDecoderOptions</a><span>，见 § 7.2</span>
        <li><a href="#textdecoderstream">TextDecoderStream</a><span>，见 § 7.5</span>
        <li><a href="#dom-textdecoderstream">TextDecoderStream()</a><span>，见 § 7.5</span>
        <li><a href="#dom-textdecoderstream">TextDecoderStream(label)</a><span>，见 § 7.5</span>
        <li><a href="#dom-textdecoderstream">TextDecoderStream(label, options)</a><span>，见 § 7.5</span>
        <li><a href="#textencoder">TextEncoder</a><span>，见 § 7.4</span>
        <li><a href="#dom-textencoder">TextEncoder()</a><span>，见 § 7.4</span>
        <li><a href="#textencodercommon">TextEncoderCommon</a><span>，见 § 7.3</span>
        <li><a href="#dictdef-textencoderencodeintoresult">TextEncoderEncodeIntoResult</a><span>，见 § 7.4</span>
        <li><a href="#textencoderstream">TextEncoderStream</a><span>，见 § 7.6</span>
        <li><a href="#dom-textencoderstream">TextEncoderStream()</a><span>，见 § 7.6</span>
        <li><a href="#utf-16be">UTF-16BE</a><span>，见 § 14.2.1</span>
        <li><a href="#utf-16be-decoder">UTF-16BE 解码器</a><span>，见 § 14.3</span>
        <li><a href="#utf-16be-le">UTF-16BE/LE</a><span>，见 § 14.2</span>
        <li><a href="#utf-16le">UTF-16LE</a><span>，见 § 14.3.1</span>
        <li><a href="#utf-16-lead-byte">UTF-16 前导字节</a><span>，见 § 14.2.1</span>
        <li><a href="#utf-16-lead-surrogate">UTF-16 前导代理项</a><span>，见 § 14.2.1</span>
        <li><a href="#utf-16le-decoder">UTF-16LE 解码器</a><span>，见 § 14.4</span>
        <li><a href="#utf-8">UTF-8</a><span>，见 § 8</span>
        <li><a href="#utf-8-bytes-needed">UTF-8 所需字节数</a><span>，见 § 8.1.1</span>
        <li><a href="#utf-8-bytes-seen">UTF-8 已见字节数</a><span>，见 § 8.1.1</span>
        <li><a href="#utf-8-code-point">UTF-8 码点</a><span>，见 § 8.1.1</span>
        <li><a href="#utf-8-decode">UTF-8 解码</a><span>，见 § 6</span>
        <li><a href="#utf-8-decoder">UTF-8 解码器</a><span>，见 § 8.1</span>
        <li><a href="#utf-8-decode-without-bom">UTF-8 无 BOM 解码</a><span>，见 § 6</span>
        <li><a href="#utf-8-decode-without-bom-or-fail">UTF-8 无 BOM 强制解码</a><span>，见 § 6</span>
        <li><a href="#utf-8-encode">UTF-8 编码</a><span>，见 § 6</span>
        <li><a href="#utf-8-encoder">UTF-8 编码器</a><span>，见 § 8.1.1</span>
        <li><a href="#utf-8-lower-boundary">UTF-8 下边界</a><span>，见 § 8.1.1</span>
        <li><a href="#utf-8-upper-boundary">UTF-8 上边界</a><span>，见 § 8.1.1</span>
        <li><a href="#windows-1250">windows-1250</a><span>，见 § 9</span>
        <li><a href="#windows-1251">windows-1251</a><span>，见 § 9</span>
        <li><a href="#windows-1252">windows-1252</a><span>，见 § 9</span>
        <li><a href="#windows-1253">windows-1253</a><span>，见 § 9</span>
        <li><a href="#windows-1254">windows-1254</a><span>，见 § 9</span>
        <li><a href="#windows-1255">windows-1255</a><span>，见 § 9</span>
        <li><a href="#windows-1256">windows-1256</a><span>，见 § 9</span>
        <li><a href="#windows-1257">windows-1257</a><span>，见 § 9</span>
        <li><a href="#windows-1258">windows-1258</a><span>，见 § 9</span>
        <li><a href="#windows-874">windows-874</a><span>，见 § 9</span>
        <li><a href="#dom-textencoderencodeintoresult-written">written</a><span>，见 § 7.4</span>
        <li><a href="#x-mac-cyrillic">x-mac-cyrillic</a><span>，见 § 9</span>
        <li><a href="#x-user-defined">x-user-defined</a><span>，见 § 14.4.1</span>
        <li><a href="#x-user-defined-decoder">x-user-defined 解码器</a><span>，见 § 14.5</span>
        <li><a href="#x-user-defined-encoder">x-user-defined 编码器</a><span>，见 § 14.5.1</span>
    </ul>
    <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">引用定义的术语</span><a
            class="self-link" href="#index-defined-elsewhere"></a></h3>
    <ul class="index">
        <li>
            <a data-link-type="biblio">[ECMASCRIPT]</a> 定义了下列术语：
            <ul>
                <li><span class="dfn-paneled" id="a5f015e3">realm</span>
            </ul>
        <li>
            <a data-link-type="biblio">[HTML]</a> 定义了下列术语：
            <ul>
                <li><span class="dfn-paneled" id="c6d19e56">event loop</span>
                <li><span class="dfn-paneled" id="a72449dd">in parallel</span>
                <li><span class="dfn-paneled" id="5991ccfb">relevant realm</span>
            </ul>
        <li>
            <a data-link-type="biblio">[INFRA]</a> 定义了下列术语：
            <ul>
                <li><span class="dfn-paneled" id="53275e46">append</span>
                <li><span class="dfn-paneled" id="617d690e">ASCII 字节</span>
                <li><span class="dfn-paneled" id="7f9469b5">ASCII 不区分大小写</span>
                <li><span class="dfn-paneled" id="ddc587b1">ASCII 码点</span>
                <li><span class="dfn-paneled" id="6f2dfa22">ASCII 小写</span>
                <li><span class="dfn-paneled" id="5fb1ed8a">ASCII 空白字符</span>
                <li><span class="dfn-paneled" id="77b4c09a">assert</span>
                <li><span class="dfn-paneled" id="7b0d918d">break</span>
                <li><span class="dfn-paneled" id="f5354b9d">字节</span>
                <li><span class="dfn-paneled" id="3de9e659">字节序列</span>
                <li><span class="dfn-paneled" id="915aff5e">码点</span>
                <li><span class="dfn-paneled" id="59912c93">码元</span>
                <li><span class="dfn-paneled" id="ae8def21">包含 (contain)</span>
                <li><span class="dfn-paneled" id="f937b7b6">继续 (continue)</span>
                <li><span class="dfn-paneled" id="a088e610">转换 (convert)</span>
                <li><span class="dfn-paneled" id="16d07e10">for each</span>
                <li><span class="dfn-paneled" id="56ad2aed">insert</span>
                <li><span class="dfn-paneled" id="6b815fdd">为空 (is empty)</span>
                <li><span class="dfn-paneled" id="dd460c8e">非空 (is not empty)</span>
                <li><span class="dfn-paneled" id="d8b963e8">同构解码 (isomorphic decode)</span>
                <li><span class="dfn-paneled" id="5afbefcd">项 (item)</span>
                <li><span class="dfn-paneled" id="ae200f87">前导代理项 (leading surrogate)</span>
                <li><span class="dfn-paneled" id="649608b9">列表 (list)</span>
                <li><span class="dfn-paneled" id="e2fc6023">前置 (prepend)</span>
                <li><span class="dfn-paneled" id="47dfca75">队列 (queue)</span>
                <li><span class="dfn-paneled" id="99c988d6">移除 (remove)</span>
                <li><span class="dfn-paneled" id="ecf251b4">标量值</span>
                <li><span class="dfn-paneled" id="762869d3">标量值字符串</span>
                <li><span class="dfn-paneled" id="0204d188">大小 (size)</span>
                <li><span class="dfn-paneled" id="904cdc91">以...开头 (starts with)</span>
                <li><span class="dfn-paneled" id="0698d556">字符串 (string)</span>
                <li><span class="dfn-paneled" id="a3fb968a">代理项 (surrogate)</span>
                <li><span class="dfn-paneled" id="febebe0e">范围 (the range)</span>
                <li><span class="dfn-paneled" id="453993b2">尾随代理项 (trailing surrogate)</span>
                <li><span class="dfn-paneled" id="bb049306">值 (value)</span>
            </ul>
        <li>
            <a data-link-type="biblio">[STREAMS]</a> 定义了下列术语：
            <ul>
                <li><span class="dfn-paneled" id="d61c5cab">GenericTransformStream</span>
                <li><span class="dfn-paneled" id="59ed4e57">ReadableStream</span>
                <li><span class="dfn-paneled" id="47e93e3e">TransformStream</span>
                <li><span class="dfn-paneled" id="2d10bf58">数据块 (chunk)</span>
                <li><span class="dfn-paneled" id="593deb55">入队 (enqueue)</span>
                <li><span class="dfn-paneled" id="3af29886">flushAlgorithm</span>
                <li><span class="dfn-paneled" id="c1bd634e">pipeThrough(transform)</span>
                <li><span class="dfn-paneled" id="2fb3c1e9">readable</span>
                <li><span class="dfn-paneled" id="4e9534f3">可读流 (readable stream)</span>
                <li><span class="dfn-paneled" id="2a7798d8">set up</span>
                <li><span class="dfn-paneled" id="eade7401">transform</span>
                <li><span class="dfn-paneled" id="c7574ff1">transformAlgorithm</span>
                <li><span class="dfn-paneled" id="97ba5569">writable</span>
                <li><span class="dfn-paneled" id="14fa5a95">可写流 (writable stream)</span>
            </ul>
        <li>
            <a data-link-type="biblio">[WEBIDL]</a> 定义了下列术语：
            <ul>
                <li><span class="dfn-paneled" id="b1e3ba8e">AllowShared</span>
                <li><span class="dfn-paneled" id="5e4b6157">AllowSharedBufferSource</span>
                <li><span class="dfn-paneled" id="2f8afbfe">ArrayBuffer</span>
                <li><span class="dfn-paneled" id="8855a9aa">DOMString</span>
                <li><span class="dfn-paneled" id="c807e273">NewObject</span>
                <li><span class="dfn-paneled" id="ec878a66">RangeError</span>
                <li><span class="dfn-paneled" id="82ca3efc">TypeError</span>
                <li><span class="dfn-paneled" id="b0d7f3c3">USVString</span>
                <li><span class="dfn-paneled" id="13d0450b">Uint32Array</span>
                <li><span class="dfn-paneled" id="95d7775a">Uint8Array</span>
                <li><span class="dfn-paneled" id="5372cca8">boolean</span>
                <li><span class="dfn-paneled" id="495737df">字节长度 (byte length)</span>
                <li><span class="dfn-paneled" id="cadf5fe9">转为 IDL 值 (converted to an IDL value)</span>
                <li><span class="dfn-paneled" id="88a9cf19">创建 (create)</span>
                <li><span class="dfn-paneled" id="92d13070">获取缓冲区副本 (get a copy of the buffer source)</span>
                <li><span class="dfn-paneled" id="56f81a8e">new</span>
                <li><span class="dfn-paneled" id="df3c9a3c">startingOffset</span>
                <li><span class="dfn-paneled" id="4013a022">this</span>
                <li><span class="dfn-paneled" id="b4cfa5ce">throw</span>
                <li><span class="dfn-paneled" id="f14b47b8">unsigned long long</span>
                <li><span class="dfn-paneled" id="f3fd9d04">write</span>
            </ul>
    </ul>
    <h2 class="no-num no-ref heading settled" id="references"><span class="content">参考文献</span><a class="self-link"
            href="#references"></a></h2>
    <h3 class="no-num no-ref heading settled" id="normative"><span class="content">规范性引用</span><a class="self-link"
            href="#normative"></a></h3>
    <dl>
        <dt id="biblio-ecmascript">[ECMASCRIPT]
        <dd><a href="https://tc39.es/ecma262/multipage/"><cite>ECMAScript 语言规范</cite></a>。URL：<a
                href="https://tc39.es/ecma262/multipage/">https://tc39.es/ecma262/multipage/</a>
        <dt id="biblio-html">[HTML]
        <dd>Anne van Kesteren 等。<a href="https://html.spec.whatwg.org/multipage/"><cite>HTML 标准</cite></a>。
            Living Standard。URL：<a
                href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
        <dt id="biblio-infra">[INFRA]
        <dd>Anne van Kesteren；Domenic Denicola。<a href="https://infra.spec.whatwg.org/"><cite>Infra
                    标准</cite></a>。Living Standard。URL：<a
                href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
        <dt id="biblio-streams">[STREAMS]
        <dd>Adam Rice 等。<a href="https://streams.spec.whatwg.org/"><cite>Streams 标准</cite></a>。Living
            Standard。URL：<a href="https://streams.spec.whatwg.org/">https://streams.spec.whatwg.org/</a>
        <dt id="biblio-unicode">[UNICODE]
        <dd><a href="https://www.unicode.org/versions/latest/"><cite>Unicode 标准</cite></a>。URL：<a
                href="https://www.unicode.org/versions/latest/">https://www.unicode.org/versions/latest/</a>
        <dt id="biblio-webidl">[WEBIDL]
        <dd>Edgar Chen；Timothy Gu。<a href="https://webidl.spec.whatwg.org/"><cite>Web IDL 标准</cite></a>。Living
            Standard。URL：<a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
    </dl>
    <h3 class="no-num no-ref heading settled" id="informative"><span class="content">参考性引用</span><a class="self-link"
            href="#informative"></a></h3>
    <dl>
        <dt id="biblio-iso646">[ISO646]
        <dd><a href="https://www.iso.org/standard/4777.html"><cite>信息技术 — 信息交换用 ISO 7
                    位编码字符集</cite></a>。1991年12月。已发布。URL：<a
                href="https://www.iso.org/standard/4777.html">https://www.iso.org/standard/4777.html</a>
        <dt id="biblio-iso8859-1">[ISO8859-1]
        <dd><a href="https://www.iso.org/standard/28245.html"><cite>信息技术 — 8位单字节编码图形字符集 —
                    第1部分：拉丁字母1号</cite></a>。1998年4月。已发布。URL：<a
                href="https://www.iso.org/standard/28245.html">https://www.iso.org/standard/28245.html</a>
        <dt id="biblio-url">[URL]
        <dd>Anne van Kesteren。<a href="https://url.spec.whatwg.org/"><cite>URL 标准</cite></a>。Living Standard。
            URL：<a href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
        <dt id="biblio-xml">[XML]
        <dd>Tim Bray 等。<a href="https://www.w3.org/TR/xml/"><cite>可扩展标记语言 (XML)
                    1.0（第五版）</cite></a>。2008年11月26日。REC。URL：<a
                href="https://www.w3.org/TR/xml/">https://www.w3.org/TR/xml/</a>
    </dl>
    <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL 索引</span><a class="self-link"
            href="#idl-index"></a></h2>
    <pre class="idl highlight def"><c- b>interface</c-> <c- b>mixin</c-> <a href="#textdecodercommon"><code><c- g>TextDecoderCommon</c-></code></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString" href="#dom-textdecoder-encoding"><c- g>encoding</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-textdecoder-fatal"><c- g>fatal</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-textdecoder-ignorebom"><c- g>ignoreBOM</c-></a>;
};

<c- b>dictionary</c-> <a href="#textdecoderoptions"><code><c- g>TextDecoderOptions</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean" href="#dom-textdecoderoptions-fatal"><code><c- g>fatal</c-></code></a> = <c- b>false</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean" href="#dom-textdecoderoptions-ignorebom"><code><c- g>ignoreBOM</c-></code></a> = <c- b>false</c->;
};

<c- b>dictionary</c-> <a href="#textdecodeoptions"><code><c- g>TextDecodeOptions</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean" href="#dom-textdecodeoptions-stream"><code><c- g>stream</c-></code></a> = <c- b>false</c->;
};

[Exposed=*]
<c- b>interface</c-> <a href="#textdecoder"><code><c- g>TextDecoder</c-></code></a> {
  <a class="idl-code" data-link-type="constructor" href="#dom-textdecoder"><c- g>constructor</c-></a>(<c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-textdecoder-textdecoder-label-options-label"><code><c- g>label</c-></code></a> = "utf-8", <c- b>optional</c-> <a data-link-type="idl-name" href="#textdecoderoptions"><c- n>TextDecoderOptions</c-></a> <a href="#dom-textdecoder-textdecoder-label-options-options"><code><c- g>options</c-></code></a> = {});

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a class="idl-code" data-link-type="method" href="#dom-textdecoder-decode"><c- g>decode</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#AllowSharedBufferSource"><c- n>AllowSharedBufferSource</c-></a> <a href="#dom-textdecoder-decode-input-options-input"><code><c- g>input</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#textdecodeoptions"><c- n>TextDecodeOptions</c-></a> <a href="#dom-textdecoder-decode-input-options-options"><code><c- g>options</c-></code></a> = {});
};
<a data-link-type="idl-name" href="#textdecoder"><c- n>TextDecoder</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#textdecodercommon"><c- n>TextDecoderCommon</c-></a>;

<c- b>interface</c-> <c- b>mixin</c-> <a href="#textencodercommon"><code><c- g>TextEncoderCommon</c-></code></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString" href="#dom-textencoder-encoding"><c- g>encoding</c-></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-textencoderencodeintoresult"><code><c- g>TextEncoderEncodeIntoResult</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a data-type="unsigned long long" href="#dom-textencoderencodeintoresult-read"><code><c- g>read</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a data-type="unsigned long long" href="#dom-textencoderencodeintoresult-written"><code><c- g>written</c-></code></a>;
};

[Exposed=*]
<c- b>interface</c-> <a href="#textencoder"><code><c- g>TextEncoder</c-></code></a> {
  <a class="idl-code" data-link-type="constructor" href="#dom-textencoder"><c- g>constructor</c-></a>();

  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-Uint8Array"><c- b>Uint8Array</c-></a> <a class="idl-code" data-link-type="method" href="#dom-textencoder-encode"><c- g>encode</c-></a>(<c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a href="#dom-textencoder-encode-input-input"><code><c- g>input</c-></code></a> = "");
  <a data-link-type="idl-name" href="#dictdef-textencoderencodeintoresult"><c- n>TextEncoderEncodeIntoResult</c-></a> <a class="idl-code" data-link-type="method" href="#dom-textencoder-encodeinto"><c- g>encodeInto</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a href="#dom-textencoder-encodeinto-source-destination-source"><code><c- g>source</c-></code></a>, [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#AllowShared"><c- g>AllowShared</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-Uint8Array"><c- b>Uint8Array</c-></a> <a href="#dom-textencoder-encodeinto-source-destination-destination"><code><c- g>destination</c-></code></a>);
};
<a data-link-type="idl-name" href="#textencoder"><c- n>TextEncoder</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#textencodercommon"><c- n>TextEncoderCommon</c-></a>;

[Exposed=*]
<c- b>interface</c-> <a href="#textdecoderstream"><code><c- g>TextDecoderStream</c-></code></a> {
  <a class="idl-code" data-link-type="constructor" href="#dom-textdecoderstream"><c- g>constructor</c-></a>(<c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-textdecoderstream-textdecoderstream-label-options-label"><code><c- g>label</c-></code></a> = "utf-8", <c- b>optional</c-> <a data-link-type="idl-name" href="#textdecoderoptions"><c- n>TextDecoderOptions</c-></a> <a href="#dom-textdecoderstream-textdecoderstream-label-options-options"><code><c- g>options</c-></code></a> = {});
};
<a data-link-type="idl-name" href="#textdecoderstream"><c- n>TextDecoderStream</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#textdecodercommon"><c- n>TextDecoderCommon</c-></a>;
<a data-link-type="idl-name" href="#textdecoderstream"><c- n>TextDecoderStream</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#generictransformstream"><c- n>GenericTransformStream</c-></a>;

[Exposed=*]
<c- b>interface</c-> <a href="#textencoderstream"><code><c- g>TextEncoderStream</c-></code></a> {
  <a class="idl-code" data-link-type="constructor" href="#dom-textencoderstream"><c- g>constructor</c-></a>();
};
<a data-link-type="idl-name" href="#textencoderstream"><c- n>TextEncoderStream</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#textencodercommon"><c- n>TextEncoderCommon</c-></a>;
<a data-link-type="idl-name" href="#textencoderstream"><c- n>TextEncoderStream</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#generictransformstream"><c- n>GenericTransformStream</c-></a>;

</pre>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-dom-textdecoder①">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TextDecoder/TextDecoder"
                    title="The TextDecoder() constructor returns a newly created TextDecoder object for the encoding specified in parameter.">TextDecoder/TextDecoder</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>19+</span></span><span
                    class="safari yes"><span>Safari</span><span>10.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>38+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>11.0.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-dom-textdecoder-decode①">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TextDecoder/decode"
                    title="The TextDecoder.decode() method returns a string containing text decoded from the buffer passed as a parameter.">TextDecoder/decode</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>19+</span></span><span
                    class="safari yes"><span>Safari</span><span>10.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>38+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>11.0.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-dom-textdecoder-encoding①">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TextDecoder/encoding"
                    title="The TextDecoder.encoding read-only property returns a string containing the name of the decoding algorithm used by the specific decoder object.">TextDecoder/encoding</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>19+</span></span><span
                    class="safari yes"><span>Safari</span><span>10.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>38+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>8.3.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-dom-textdecoder-fatal①">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TextDecoder/fatal"
                    title="The fatal read-only property of the TextDecoder interface is a Boolean indicating whether the error mode is fatal.">TextDecoder/fatal</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>36+</span></span><span
                    class="safari yes"><span>Safari</span><span>10.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>38+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>8.3.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-dom-textdecoder-ignorebom①">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TextDecoder/ignoreBOM"
                    title="The ignoreBOM read-only property of the TextDecoder interface is a Boolean indicating whether the byte order mark is ignored.">TextDecoder/ignoreBOM</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>63+</span></span><span
                    class="safari yes"><span>Safari</span><span>10.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>38+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>8.3.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="interface-textdecoder">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TextDecoder"
                    title="The TextDecoder interface represents a decoder for a specific text encoding, such as UTF-8, ISO-8859-2, KOI8-R, GBK, etc. A decoder takes a stream of bytes as input and emits a stream of code points.">TextDecoder</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>19+</span></span><span
                    class="safari yes"><span>Safari</span><span>10.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>38+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>11.0.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-dom-textdecoderstream①">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TextDecoderStream/TextDecoderStream"
                    title="The TextDecoderStream() constructor creates a new TextDecoderStream object which is used to convert a stream of text in a binary encoding into strings.">TextDecoderStream/TextDecoderStream</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>105+</span></span><span
                    class="safari yes"><span>Safari</span><span>14.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>71+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.6.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-textdecoder-encoding">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TextDecoderStream/encoding"
                    title="The encoding read-only property of the TextDecoderStream interface returns a string containing the name of the encoding algorithm used by the specific decoder.">TextDecoderStream/encoding</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>105+</span></span><span
                    class="safari yes"><span>Safari</span><span>14.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>71+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.6.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-textdecoder-fatal">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TextDecoderStream/fatal"
                    title="The fatal read-only property of the TextDecoderStream interface is a boolean indicating if the error mode of the TextDecoderStream object is set to fatal.">TextDecoderStream/fatal</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>105+</span></span><span
                    class="safari yes"><span>Safari</span><span>14.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>71+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.6.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="textdecoder-ignore-bom-flag">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TextDecoderStream/ignoreBOM"
                    title="The ignoreBOM read-only property of the TextDecoderStream interface returns a boolean indicating if the byte order mark (BOM) is to be ignored.">TextDecoderStream/ignoreBOM</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>105+</span></span><span
                    class="safari yes"><span>Safari</span><span>14.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>71+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.6.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="interface-textdecoderstream">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TextDecoderStream"
                    title="The TextDecoderStream interface of the Encoding API converts a stream of text in a binary encoding, such as UTF-8 etc., to a stream of strings. It is the streaming equivalent of TextDecoder.">TextDecoderStream</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>105+</span></span><span
                    class="safari yes"><span>Safari</span><span>14.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>71+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>18.0.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-dom-textencoder①">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TextEncoder/TextEncoder"
                    title="The TextEncoder() constructor returns a newly created TextEncoder object that will generate a byte stream with UTF-8 encoding.">TextEncoder/TextEncoder</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>18+</span></span><span
                    class="safari yes"><span>Safari</span><span>10.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>38+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>11.0.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-dom-textencoder-encode①">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TextEncoder/encode"
                    title="The TextEncoder.encode() method takes a string as input, and returns a Uint8Array containing the text given in parameters encoded with the specific method for that TextEncoder object.">TextEncoder/encode</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>18+</span></span><span
                    class="safari yes"><span>Safari</span><span>10.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>38+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>8.3.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-dom-textencoder-encodeinto①">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TextEncoder/encodeInto"
                    title="The TextEncoder.encodeInto() method takes a string to encode and a destination Uint8Array to put resulting UTF-8 encoded text into, and returns a dictionary object indicating the progress of the encoding. This is potentially more performant than the older encode() method — especially when the target buffer is a view into a Wasm heap.">TextEncoder/encodeInto</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>66+</span></span><span
                    class="safari yes"><span>Safari</span><span>14.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>74+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android yes"><span>Opera Mobile</span><span>50+</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>12.11.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-textencoder-encoding">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TextEncoder/encoding"
                    title="The TextEncoder.encoding read-only property returns a string containing the name of the encoding algorithm used by the specific encoder.">TextEncoder/encoding</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>18+</span></span><span
                    class="safari yes"><span>Safari</span><span>10.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>38+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>8.3.0+</span></span>
            </div>
        </div>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TextEncoderStream/encoding"
                    title="The encoding read-only property of the TextEncoderStream interface returns a string containing the name of the encoding algorithm used by the current TextEncoderStream object.">TextEncoderStream/encoding</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>105+</span></span><span
                    class="safari yes"><span>Safari</span><span>14.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>71+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.6.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="interface-textencoder">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TextEncoder"
                    title="The TextEncoder interface takes a stream of code points as input and emits a stream of UTF-8 bytes.">TextEncoder</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>18+</span></span><span
                    class="safari yes"><span>Safari</span><span>10.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>38+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>11.0.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="ref-for-dom-textencoderstream①">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TextEncoderStream/TextEncoderStream"
                    title="The TextEncoderStream() constructor creates a new TextEncoderStream object which is used to convert a stream of strings into bytes using UTF-8 encoding.">TextEncoderStream/TextEncoderStream</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>105+</span></span><span
                    class="safari yes"><span>Safari</span><span>14.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>71+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>16.6.0+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="interface-textencoderstream">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TextEncoderStream"
                    title="The TextEncoderStream interface of the Encoding API converts a stream of strings into bytes in the UTF-8 encoding. It is the streaming equivalent of TextEncoder.">TextEncoderStream</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>105+</span></span><span
                    class="safari yes"><span>Safari</span><span>14.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>71+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
                <hr>
                <span class="nodejs yes"><span>Node.js</span><span>18.0.0+</span></span>
            </div>
        </div>
    </details>
    <script>/* Boilerplate: script-dom-helper */
        "use strict";
        function query(sel) { return document.querySelector(sel); }

        function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

        function iter(obj) {
            if (!obj) return [];
            var it = obj[Symbol.iterator];
            if (it) return it;
            return Object.entries(obj);
        }

        function mk(tagname, attrs, ...children) {
            const el = document.createElement(tagname);
            for (const [k, v] of iter(attrs)) {
                if (k.slice(0, 3) == "_on") {
                    const eventName = k.slice(3);
                    el.addEventListener(eventName, v);
                } else if (k[0] == "_") {
                    // property, not attribute
                    el[k.slice(1)] = v;
                } else {
                    if (v === false || v == null) {
                        continue;
                    } else if (v === true) {
                        el.setAttribute(k, "");
                        continue;
                    } else {
                        el.setAttribute(k, v);
                    }
                }
            }
            append(el, children);
            return el;
        }

        /* Create shortcuts for every known HTML element */
        [
            "a",
            "abbr",
            "acronym",
            "address",
            "applet",
            "area",
            "article",
            "aside",
            "audio",
            "b",
            "base",
            "basefont",
            "bdo",
            "big",
            "blockquote",
            "body",
            "br",
            "button",
            "canvas",
            "caption",
            "center",
            "cite",
            "code",
            "col",
            "colgroup",
            "datalist",
            "dd",
            "del",
            "details",
            "dfn",
            "dialog",
            "div",
            "dl",
            "dt",
            "em",
            "embed",
            "fieldset",
            "figcaption",
            "figure",
            "font",
            "footer",
            "form",
            "frame",
            "frameset",
            "head",
            "header",
            "h1",
            "h2",
            "h3",
            "h4",
            "h5",
            "h6",
            "hr",
            "html",
            "i",
            "iframe",
            "img",
            "input",
            "ins",
            "kbd",
            "label",
            "legend",
            "li",
            "link",
            "main",
            "map",
            "mark",
            "meta",
            "meter",
            "nav",
            "nobr",
            "noscript",
            "object",
            "ol",
            "optgroup",
            "option",
            "output",
            "p",
            "param",
            "pre",
            "progress",
            "q",
            "s",
            "samp",
            "script",
            "section",
            "select",
            "small",
            "source",
            "span",
            "strike",
            "strong",
            "style",
            "sub",
            "summary",
            "sup",
            "table",
            "tbody",
            "td",
            "template",
            "textarea",
            "tfoot",
            "th",
            "thead",
            "time",
            "title",
            "tr",
            "u",
            "ul",
            "var",
            "video",
            "wbr",
            "xmp",
        ].forEach(tagname => {
            mk[tagname] = (...args) => mk(tagname, ...args);
        });

        function* nodesFromChildList(children) {
            for (const child of children.flat(Infinity)) {
                if (child instanceof Node) {
                    yield child;
                } else {
                    yield new Text(child);
                }
            }
        }
        function append(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                if (el instanceof Node) el.appendChild(child);
                else el.push(child);
            }
            return el;
        }

        function insertAfter(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                el.parentNode.insertBefore(child, el.nextSibling);
            }
            return el;
        }

        function clearContents(el) {
            el.innerHTML = "";
            return el;
        }

        function parseHTML(markup) {
            if (markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
                const doc = document.implementation.createHTMLDocument("");
                doc.documentElement.innerHTML = markup;
                return doc;
            } else {
                const el = mk.template({});
                el.innerHTML = markup;
                return el.content;
            }
        }</script>
    <script>/* Boilerplate: script-dfn-panel */
        "use strict";
        {
            let dfnPanelData = {
                "0204d188": { "dfnID": "0204d188", "dfnText": "size", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-size" }, { "id": "ref-for-list-size\u2460" }], "title": "3. Terminology" }], "url": "https://infra.spec.whatwg.org/#list-size" },
                "0698d556": { "dfnID": "0698d556", "dfnText": "string", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-string" }, { "id": "ref-for-string\u2460" }], "title": "3. Terminology" }, { "refs": [{ "id": "ref-for-string\u2461" }], "title": "7.6. Interface TextEncoderStream" }], "url": "https://infra.spec.whatwg.org/#string" },
                "13d0450b": { "dfnID": "13d0450b", "dfnText": "Uint32Array", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-Uint32Array" }, { "id": "ref-for-idl-Uint32Array\u2460" }, { "id": "ref-for-idl-Uint32Array\u2461" }], "title": "7. API" }], "url": "https://webidl.spec.whatwg.org/#idl-Uint32Array" },
                "14fa5a95": { "dfnID": "14fa5a95", "dfnText": "writable stream", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-writable-stream" }], "title": "7.5. Interface TextDecoderStream" }, { "refs": [{ "id": "ref-for-writable-stream\u2460" }], "title": "7.6. Interface TextEncoderStream" }], "url": "https://streams.spec.whatwg.org/#writable-stream" },
                "16d07e10": { "dfnID": "16d07e10", "dfnText": "for each", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-iterate" }], "title": "3. Terminology" }], "url": "https://infra.spec.whatwg.org/#list-iterate" },
                "2a7798d8": { "dfnID": "2a7798d8", "dfnText": "set up", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-transformstream-set-up" }], "title": "7.5. Interface TextDecoderStream" }, { "refs": [{ "id": "ref-for-transformstream-set-up\u2460" }], "title": "7.6. Interface TextEncoderStream" }], "url": "https://streams.spec.whatwg.org/#transformstream-set-up" },
                "2d10bf58": { "dfnID": "2d10bf58", "dfnText": "chunk", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-chunk" }], "title": "7.5. Interface TextDecoderStream" }, { "refs": [{ "id": "ref-for-chunk\u2460" }], "title": "7.6. Interface TextEncoderStream" }], "url": "https://streams.spec.whatwg.org/#chunk" },
                "2f8afbfe": { "dfnID": "2f8afbfe", "dfnText": "ArrayBuffer", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-ArrayBuffer" }, { "id": "ref-for-idl-ArrayBuffer\u2460" }], "title": "7. API" }, { "refs": [{ "id": "ref-for-idl-ArrayBuffer\u2461" }], "title": "7.4. Interface TextEncoder" }], "url": "https://webidl.spec.whatwg.org/#idl-ArrayBuffer" },
                "2fb3c1e9": { "dfnID": "2fb3c1e9", "dfnText": "readable", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-generictransformstream-readable" }, { "id": "ref-for-dom-generictransformstream-readable\u2460" }, { "id": "ref-for-dom-generictransformstream-readable\u2461" }], "title": "7.5. Interface TextDecoderStream" }, { "refs": [{ "id": "ref-for-dom-generictransformstream-readable\u2462" }, { "id": "ref-for-dom-generictransformstream-readable\u2463" }], "title": "7.6. Interface TextEncoderStream" }], "url": "https://streams.spec.whatwg.org/#dom-generictransformstream-readable" },
                "3af29886": { "dfnID": "3af29886", "dfnText": "flushAlgorithm", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-transformstream-set-up-flushalgorithm" }], "title": "7.5. Interface TextDecoderStream" }, { "refs": [{ "id": "ref-for-transformstream-set-up-flushalgorithm\u2460" }], "title": "7.6. Interface TextEncoderStream" }], "url": "https://streams.spec.whatwg.org/#transformstream-set-up-flushalgorithm" },
                "3de9e659": { "dfnID": "3de9e659", "dfnText": "byte sequence", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-byte-sequence" }, { "id": "ref-for-byte-sequence\u2460" }], "title": "3. Terminology" }], "url": "https://infra.spec.whatwg.org/#byte-sequence" },
                "4013a022": { "dfnID": "4013a022", "dfnText": "this", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-this" }, { "id": "ref-for-this\u2460" }, { "id": "ref-for-this\u2461" }], "title": "7.1. Interface mixin TextDecoderCommon" }, { "refs": [{ "id": "ref-for-this\u2462" }, { "id": "ref-for-this\u2463" }, { "id": "ref-for-this\u2464" }, { "id": "ref-for-this\u2465" }, { "id": "ref-for-this\u2466" }, { "id": "ref-for-this\u2467" }, { "id": "ref-for-this\u2468" }, { "id": "ref-for-this\u2460\u24ea" }, { "id": "ref-for-this\u2460\u2460" }, { "id": "ref-for-this\u2460\u2461" }, { "id": "ref-for-this\u2460\u2462" }, { "id": "ref-for-this\u2460\u2463" }, { "id": "ref-for-this\u2460\u2464" }, { "id": "ref-for-this\u2460\u2465" }, { "id": "ref-for-this\u2460\u2466" }, { "id": "ref-for-this\u2460\u2467" }, { "id": "ref-for-this\u2460\u2468" }, { "id": "ref-for-this\u2461\u24ea" }, { "id": "ref-for-this\u2461\u2460" }], "title": "7.2. Interface TextDecoder" }, { "refs": [{ "id": "ref-for-this\u2461\u2461" }], "title": "7.4. Interface TextEncoder" }, { "refs": [{ "id": "ref-for-this\u2461\u2462" }, { "id": "ref-for-this\u2461\u2463" }, { "id": "ref-for-this\u2461\u2464" }, { "id": "ref-for-this\u2461\u2465" }, { "id": "ref-for-this\u2461\u2466" }, { "id": "ref-for-this\u2461\u2467" }, { "id": "ref-for-this\u2461\u2468" }, { "id": "ref-for-this\u2462\u24ea" }, { "id": "ref-for-this\u2462\u2460" }], "title": "7.5. Interface TextDecoderStream" }, { "refs": [{ "id": "ref-for-this\u2462\u2461" }, { "id": "ref-for-this\u2462\u2462" }, { "id": "ref-for-this\u2462\u2463" }, { "id": "ref-for-this\u2462\u2464" }], "title": "7.6. Interface TextEncoderStream" }], "url": "https://webidl.spec.whatwg.org/#this" },
                "453993b2": { "dfnID": "453993b2", "dfnText": "trailing surrogate", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-trailing-surrogate" }], "title": "3. Terminology" }, { "refs": [{ "id": "ref-for-trailing-surrogate\u2460" }, { "id": "ref-for-trailing-surrogate\u2461" }], "title": "7.6. Interface TextEncoderStream" }, { "refs": [{ "id": "ref-for-trailing-surrogate\u2462" }, { "id": "ref-for-trailing-surrogate\u2463" }], "title": "14.2.1. shared UTF-16 decoder" }], "url": "https://infra.spec.whatwg.org/#trailing-surrogate" },
                "47dfca75": { "dfnID": "47dfca75", "dfnText": "queue", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-queue" }], "title": "3. Terminology" }], "url": "https://infra.spec.whatwg.org/#queue" },
                "47e93e3e": { "dfnID": "47e93e3e", "dfnText": "TransformStream", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-transformstream" }], "title": "7.5. Interface TextDecoderStream" }, { "refs": [{ "id": "ref-for-transformstream\u2460" }], "title": "7.6. Interface TextEncoderStream" }], "url": "https://streams.spec.whatwg.org/#transformstream" },
                "495737df": { "dfnID": "495737df", "dfnText": "byte length", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-buffersource-byte-length" }], "title": "7.4. Interface TextEncoder" }], "url": "https://webidl.spec.whatwg.org/#buffersource-byte-length" },
                "4e9534f3": { "dfnID": "4e9534f3", "dfnText": "readable stream", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-readable-stream" }], "title": "7.5. Interface TextDecoderStream" }, { "refs": [{ "id": "ref-for-readable-stream\u2460" }], "title": "7.6. Interface TextEncoderStream" }], "url": "https://streams.spec.whatwg.org/#readable-stream" },
                "53275e46": { "dfnID": "53275e46", "dfnText": "append", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-append" }, { "id": "ref-for-list-append\u2460" }, { "id": "ref-for-list-append\u2461" }], "title": "3. Terminology" }], "url": "https://infra.spec.whatwg.org/#list-append" },
                "5372cca8": { "dfnID": "5372cca8", "dfnText": "boolean", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-boolean" }, { "id": "ref-for-idl-boolean\u2460" }], "title": "7.1. Interface mixin TextDecoderCommon" }, { "refs": [{ "id": "ref-for-idl-boolean\u2461" }, { "id": "ref-for-idl-boolean\u2462" }, { "id": "ref-for-idl-boolean\u2463" }], "title": "7.2. Interface TextDecoder" }], "url": "https://webidl.spec.whatwg.org/#idl-boolean" },
                "56ad2aed": { "dfnID": "56ad2aed", "dfnText": "insert", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-insert" }], "title": "3. Terminology" }], "url": "https://infra.spec.whatwg.org/#list-insert" },
                "56f81a8e": { "dfnID": "56f81a8e", "dfnText": "new", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-new" }], "title": "7.5. Interface TextDecoderStream" }, { "refs": [{ "id": "ref-for-new\u2460" }], "title": "7.6. Interface TextEncoderStream" }], "url": "https://webidl.spec.whatwg.org/#new" },
                "593deb55": { "dfnID": "593deb55", "dfnText": "enqueue", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-transformstream-enqueue" }, { "id": "ref-for-transformstream-enqueue\u2460" }], "title": "7.5. Interface TextDecoderStream" }, { "refs": [{ "id": "ref-for-transformstream-enqueue\u2461" }, { "id": "ref-for-transformstream-enqueue\u2462" }], "title": "7.6. Interface TextEncoderStream" }], "url": "https://streams.spec.whatwg.org/#transformstream-enqueue" },
                "59912c93": { "dfnID": "59912c93", "dfnText": "code unit", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-code-unit" }], "title": "7.4. Interface TextEncoder" }, { "refs": [{ "id": "ref-for-code-unit\u2460" }, { "id": "ref-for-code-unit\u2461" }], "title": "7.6. Interface TextEncoderStream" }], "url": "https://infra.spec.whatwg.org/#code-unit" },
                "5991ccfb": { "dfnID": "5991ccfb", "dfnText": "relevant realm", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-relevant-realm" }], "title": "7.4. Interface TextEncoder" }, { "refs": [{ "id": "ref-for-concept-relevant-realm\u2460" }, { "id": "ref-for-concept-relevant-realm\u2461" }], "title": "7.6. Interface TextEncoderStream" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" },
                "59ed4e57": { "dfnID": "59ed4e57", "dfnText": "ReadableStream", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-readablestream" }, { "id": "ref-for-readablestream\u2460" }], "title": "7.5. Interface TextDecoderStream" }, { "refs": [{ "id": "ref-for-readablestream\u2461" }], "title": "7.6. Interface TextEncoderStream" }], "url": "https://streams.spec.whatwg.org/#readablestream" },
                "5afbefcd": { "dfnID": "5afbefcd", "dfnText": "item", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-item" }, { "id": "ref-for-list-item\u2460" }, { "id": "ref-for-list-item\u2461" }, { "id": "ref-for-list-item\u2462" }, { "id": "ref-for-list-item\u2463" }, { "id": "ref-for-list-item\u2464" }, { "id": "ref-for-list-item\u2465" }, { "id": "ref-for-list-item\u2466" }, { "id": "ref-for-list-item\u2467" }, { "id": "ref-for-list-item\u2468" }, { "id": "ref-for-list-item\u2460\u24ea" }, { "id": "ref-for-list-item\u2460\u2460" }, { "id": "ref-for-list-item\u2460\u2461" }, { "id": "ref-for-list-item\u2460\u2462" }], "title": "3. Terminology" }, { "refs": [{ "id": "ref-for-list-item\u2460\u2463" }, { "id": "ref-for-list-item\u2460\u2464" }, { "id": "ref-for-list-item\u2460\u2465" }, { "id": "ref-for-list-item\u2460\u2466" }], "title": "4.1. Encoders and decoders" }], "url": "https://infra.spec.whatwg.org/#list-item" },
                "5e4b6157": { "dfnID": "5e4b6157", "dfnText": "AllowSharedBufferSource", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-AllowSharedBufferSource" }], "title": "7.2. Interface TextDecoder" }, { "refs": [{ "id": "ref-for-AllowSharedBufferSource\u2460" }, { "id": "ref-for-AllowSharedBufferSource\u2461" }], "title": "7.5. Interface TextDecoderStream" }], "url": "https://webidl.spec.whatwg.org/#AllowSharedBufferSource" },
                "5fb1ed8a": { "dfnID": "5fb1ed8a", "dfnText": "ASCII whitespace", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-ascii-whitespace" }], "title": "4.2. Names and labels" }], "url": "https://infra.spec.whatwg.org/#ascii-whitespace" },
                "617d690e": { "dfnID": "617d690e", "dfnText": "ASCII byte", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-ascii-byte" }], "title": "2. Security background" }, { "refs": [{ "id": "ref-for-ascii-byte\u2460" }], "title": "9.1. single-byte decoder" }, { "refs": [{ "id": "ref-for-ascii-byte\u2461" }, { "id": "ref-for-ascii-byte\u2462" }], "title": "10.2.1. gb18030 decoder" }, { "refs": [{ "id": "ref-for-ascii-byte\u2463" }, { "id": "ref-for-ascii-byte\u2464" }], "title": "11.1.1. Big5 decoder" }, { "refs": [{ "id": "ref-for-ascii-byte\u2465" }, { "id": "ref-for-ascii-byte\u2466" }], "title": "12.1.1. EUC-JP decoder" }, { "refs": [{ "id": "ref-for-ascii-byte\u2467" }, { "id": "ref-for-ascii-byte\u2468" }], "title": "12.3.1. Shift_JIS decoder" }, { "refs": [{ "id": "ref-for-ascii-byte\u2460\u24ea" }, { "id": "ref-for-ascii-byte\u2460\u2460" }], "title": "13.1.1. EUC-KR decoder" }, { "refs": [{ "id": "ref-for-ascii-byte\u2460\u2461" }], "title": "14.5.1. x-user-defined decoder" }, { "refs": [{ "id": "ref-for-ascii-byte\u2460\u2462" }], "title": "Implementation considerations" }], "url": "https://infra.spec.whatwg.org/#ascii-byte" },
                "649608b9": { "dfnID": "649608b9", "dfnText": "list", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list" }, { "id": "ref-for-list\u2460" }, { "id": "ref-for-list\u2461" }, { "id": "ref-for-list\u2462" }, { "id": "ref-for-list\u2463" }, { "id": "ref-for-list\u2464" }, { "id": "ref-for-list\u2465" }], "title": "3. Terminology" }, { "refs": [{ "id": "ref-for-list\u2466" }], "title": "14.2.1. shared UTF-16 decoder" }], "url": "https://infra.spec.whatwg.org/#list" },
                "6b815fdd": { "dfnID": "6b815fdd", "dfnText": "is empty", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-is-empty" }], "title": "3. Terminology" }, { "refs": [{ "id": "ref-for-list-is-empty\u2460" }], "title": "7.6. Interface TextEncoderStream" }], "url": "https://infra.spec.whatwg.org/#list-is-empty" },
                "6f2dfa22": { "dfnID": "6f2dfa22", "dfnText": "ASCII lowercase", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-ascii-lowercase" }], "title": "4.2. Names and labels" }, { "refs": [{ "id": "ref-for-ascii-lowercase\u2460" }], "title": "7.1. Interface mixin TextDecoderCommon" }], "url": "https://infra.spec.whatwg.org/#ascii-lowercase" },
                "762869d3": { "dfnID": "762869d3", "dfnText": "scalar value string", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-scalar-value-string" }], "title": "7.6. Interface TextEncoderStream" }], "url": "https://infra.spec.whatwg.org/#scalar-value-string" },
                "77b4c09a": { "dfnID": "77b4c09a", "dfnText": "assert", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-assert" }], "title": "3. Terminology" }, { "refs": [{ "id": "ref-for-assert\u2460" }, { "id": "ref-for-assert\u2461" }, { "id": "ref-for-assert\u2462" }, { "id": "ref-for-assert\u2463" }], "title": "4.1. Encoders and decoders" }, { "refs": [{ "id": "ref-for-assert\u2464" }], "title": "6.1. Legacy hooks for standards" }, { "refs": [{ "id": "ref-for-assert\u2465" }], "title": "7.4. Interface TextEncoder" }], "url": "https://infra.spec.whatwg.org/#assert" },
                "7b0d918d": { "dfnID": "7b0d918d", "dfnText": "break", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-iteration-break" }], "title": "3. Terminology" }, { "refs": [{ "id": "ref-for-iteration-break\u2460" }, { "id": "ref-for-iteration-break\u2461" }], "title": "7.4. Interface TextEncoder" }], "url": "https://infra.spec.whatwg.org/#iteration-break" },
                "7f9469b5": { "dfnID": "7f9469b5", "dfnText": "ASCII case-insensitive", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-ascii-case-insensitive" }, { "id": "ref-for-ascii-case-insensitive\u2460" }], "title": "4.2. Names and labels" }], "url": "https://infra.spec.whatwg.org/#ascii-case-insensitive" },
                "82ca3efc": { "dfnID": "82ca3efc", "dfnText": "TypeError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-exceptiondef-typeerror" }, { "id": "ref-for-exceptiondef-typeerror\u2460" }], "title": "7.2. Interface TextDecoder" }, { "refs": [{ "id": "ref-for-exceptiondef-typeerror\u2461" }, { "id": "ref-for-exceptiondef-typeerror\u2462" }, { "id": "ref-for-exceptiondef-typeerror\u2463" }], "title": "7.5. Interface TextDecoderStream" }], "url": "https://webidl.spec.whatwg.org/#exceptiondef-typeerror" },
                "8855a9aa": { "dfnID": "8855a9aa", "dfnText": "DOMString", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-DOMString" }], "title": "7.1. Interface mixin TextDecoderCommon" }, { "refs": [{ "id": "ref-for-idl-DOMString\u2460" }], "title": "7.2. Interface TextDecoder" }, { "refs": [{ "id": "ref-for-idl-DOMString\u2461" }], "title": "7.3. Interface mixin TextEncoderCommon" }, { "refs": [{ "id": "ref-for-idl-DOMString\u2462" }], "title": "7.5. Interface TextDecoderStream" }, { "refs": [{ "id": "ref-for-idl-DOMString\u2463" }, { "id": "ref-for-idl-DOMString\u2464" }], "title": "7.6. Interface TextEncoderStream" }], "url": "https://webidl.spec.whatwg.org/#idl-DOMString" },
                "88a9cf19": { "dfnID": "88a9cf19", "dfnText": "create", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-arraybufferview-create" }], "title": "3. Terminology" }], "url": "https://webidl.spec.whatwg.org/#arraybufferview-create" },
                "904cdc91": { "dfnID": "904cdc91", "dfnText": "starts with", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-byte-sequence-starts-with" }], "title": "6.1. Legacy hooks for standards" }], "url": "https://infra.spec.whatwg.org/#byte-sequence-starts-with" },
                "915aff5e": { "dfnID": "915aff5e", "dfnText": "code point", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-code-point" }, { "id": "ref-for-code-point\u2460" }], "title": "4.1. Encoders and decoders" }, { "refs": [{ "id": "ref-for-code-point\u2461" }, { "id": "ref-for-code-point\u2462" }], "title": "6.1. Legacy hooks for standards" }], "url": "https://infra.spec.whatwg.org/#code-point" },
                "92d13070": { "dfnID": "92d13070", "dfnText": "get a copy of the buffer source", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-get-buffer-source-copy" }], "title": "7.2. Interface TextDecoder" }, { "refs": [{ "id": "ref-for-dfn-get-buffer-source-copy\u2460" }], "title": "7.5. Interface TextDecoderStream" }], "url": "https://webidl.spec.whatwg.org/#dfn-get-buffer-source-copy" },
                "95d7775a": { "dfnID": "95d7775a", "dfnText": "Uint8Array", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-Uint8Array" }], "title": "3. Terminology" }, { "refs": [{ "id": "ref-for-idl-Uint8Array\u2460" }], "title": "7. API" }, { "refs": [{ "id": "ref-for-idl-Uint8Array\u2461" }, { "id": "ref-for-idl-Uint8Array\u2462" }], "title": "7.4. Interface TextEncoder" }, { "refs": [{ "id": "ref-for-idl-Uint8Array\u2463" }], "title": "7.6. Interface TextEncoderStream" }], "url": "https://webidl.spec.whatwg.org/#idl-Uint8Array" },
                "97ba5569": { "dfnID": "97ba5569", "dfnText": "writable", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-generictransformstream-writable" }, { "id": "ref-for-dom-generictransformstream-writable\u2460" }, { "id": "ref-for-dom-generictransformstream-writable\u2461" }], "title": "7.5. Interface TextDecoderStream" }, { "refs": [{ "id": "ref-for-dom-generictransformstream-writable\u2462" }, { "id": "ref-for-dom-generictransformstream-writable\u2463" }], "title": "7.6. Interface TextEncoderStream" }], "url": "https://streams.spec.whatwg.org/#dom-generictransformstream-writable" },
                "99c988d6": { "dfnID": "99c988d6", "dfnText": "remove", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-remove" }, { "id": "ref-for-list-remove\u2460" }], "title": "3. Terminology" }], "url": "https://infra.spec.whatwg.org/#list-remove" },
                "a088e610": { "dfnID": "a088e610", "dfnText": "convert", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-javascript-string-convert" }], "title": "7.6. Interface TextEncoderStream" }], "url": "https://infra.spec.whatwg.org/#javascript-string-convert" },
                "a3fb968a": { "dfnID": "a3fb968a", "dfnText": "surrogate", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-surrogate" }, { "id": "ref-for-surrogate\u2460" }], "title": "4.1. Encoders and decoders" }, { "refs": [{ "id": "ref-for-surrogate\u2461" }], "title": "6. Hooks for standards" }], "url": "https://infra.spec.whatwg.org/#surrogate" },
                "a5f015e3": { "dfnID": "a5f015e3", "dfnText": "realm", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-realm" }], "title": "3. Terminology" }], "url": "https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#realm" },
                "a72449dd": { "dfnID": "a72449dd", "dfnText": "in parallel", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-in-parallel" }], "title": "3. Terminology" }, { "refs": [{ "id": "ref-for-in-parallel\u2460" }], "title": "6. Hooks for standards" }], "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" },
                "ae200f87": { "dfnID": "ae200f87", "dfnText": "leading surrogate", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-leading-surrogate" }], "title": "3. Terminology" }, { "refs": [{ "id": "ref-for-leading-surrogate\u2460" }, { "id": "ref-for-leading-surrogate\u2461" }], "title": "7.6. Interface TextEncoderStream" }, { "refs": [{ "id": "ref-for-leading-surrogate\u2462" }, { "id": "ref-for-leading-surrogate\u2463" }], "title": "14.2.1. shared UTF-16 decoder" }], "url": "https://infra.spec.whatwg.org/#leading-surrogate" },
                "ae8def21": { "dfnID": "ae8def21", "dfnText": "contain", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-contain" }, { "id": "ref-for-list-contain\u2460" }], "title": "3. Terminology" }], "url": "https://infra.spec.whatwg.org/#list-contain" },
                "b0d7f3c3": { "dfnID": "b0d7f3c3", "dfnText": "USVString", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-USVString" }], "title": "7.2. Interface TextDecoder" }, { "refs": [{ "id": "ref-for-idl-USVString\u2460" }, { "id": "ref-for-idl-USVString\u2461" }], "title": "7.4. Interface TextEncoder" }, { "refs": [{ "id": "ref-for-idl-USVString\u2462" }], "title": "7.6. Interface TextEncoderStream" }], "url": "https://webidl.spec.whatwg.org/#idl-USVString" },
                "b1e3ba8e": { "dfnID": "b1e3ba8e", "dfnText": "AllowShared", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-AllowShared" }], "title": "7.4. Interface TextEncoder" }], "url": "https://webidl.spec.whatwg.org/#AllowShared" },
                "b4cfa5ce": { "dfnID": "b4cfa5ce", "dfnText": "throw", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-throw" }, { "id": "ref-for-dfn-throw\u2460" }, { "id": "ref-for-dfn-throw\u2461" }, { "id": "ref-for-dfn-throw\u2462" }], "title": "7.2. Interface TextDecoder" }, { "refs": [{ "id": "ref-for-dfn-throw\u2463" }, { "id": "ref-for-dfn-throw\u2464" }, { "id": "ref-for-dfn-throw\u2465" }, { "id": "ref-for-dfn-throw\u2466" }], "title": "7.5. Interface TextDecoderStream" }], "url": "https://webidl.spec.whatwg.org/#dfn-throw" },
                "bb049306": { "dfnID": "bb049306", "dfnText": "value", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-code-point-value" }], "title": "4.1. Encoders and decoders" }, { "refs": [{ "id": "ref-for-code-point-value\u2460" }], "title": "6.1. Legacy hooks for standards" }], "url": "https://infra.spec.whatwg.org/#code-point-value" },
                "big5": { "dfnID": "big5", "dfnText": "11.1. Big5", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-big5" }], "title": "4.2. Names and labels" }, { "refs": [{ "id": "ref-for-big5" }], "title": "11.1. Big5" }, { "refs": [{ "id": "ref-for-big5\u2460" }, { "id": "ref-for-big5\u2461" }], "title": "11.1.1. Big5 decoder" }, { "refs": [{ "id": "ref-for-big5\u2462" }], "title": "11.1.2. Big5 encoder" }], "url": "#big5" },
                "big5-decoder": { "dfnID": "big5-decoder", "dfnText": "11.1.1. Big5 decoder", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-big5-decoder" }], "title": "11.1.1. Big5 decoder" }], "url": "#big5-decoder" },
                "big5-encoder": { "dfnID": "big5-encoder", "dfnText": "11.1.2. Big5 encoder", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-big5-encoder" }], "title": "11.1.2. Big5 encoder" }], "url": "#big5-encoder" },
                "big5-lead": { "dfnID": "big5-lead", "dfnText": "Big5 leading", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-big5-lead" }, { "id": "ref-for-big5-lead\u2460" }, { "id": "ref-for-big5-lead\u2461" }, { "id": "ref-for-big5-lead\u2462" }, { "id": "ref-for-big5-lead\u2463" }, { "id": "ref-for-big5-lead\u2464" }, { "id": "ref-for-big5-lead\u2465" }], "title": "11.1.1. Big5 decoder" }], "url": "#big5-lead" },
                "bom-sniff": { "dfnID": "bom-sniff", "dfnText": "BOM sniff", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-bom-sniff" }, { "id": "ref-for-bom-sniff\u2460" }], "title": "6.1. Legacy hooks for standards" }], "url": "#bom-sniff" },
                "c1bd634e": { "dfnID": "c1bd634e", "dfnText": "pipeThrough(transform)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-rs-pipe-through" }], "title": "7.5. Interface TextDecoderStream" }, { "refs": [{ "id": "ref-for-rs-pipe-through\u2460" }], "title": "7.6. Interface TextEncoderStream" }], "url": "https://streams.spec.whatwg.org/#rs-pipe-through" },
                "c6d19e56": { "dfnID": "c6d19e56", "dfnText": "event loop", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-event-loop" }], "title": "3. Terminology" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#event-loop" },
                "c7574ff1": { "dfnID": "c7574ff1", "dfnText": "transformAlgorithm", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-transformstream-set-up-transformalgorithm" }], "title": "7.5. Interface TextDecoderStream" }, { "refs": [{ "id": "ref-for-transformstream-set-up-transformalgorithm\u2460" }], "title": "7.6. Interface TextEncoderStream" }], "url": "https://streams.spec.whatwg.org/#transformstream-set-up-transformalgorithm" },
                "c807e273": { "dfnID": "c807e273", "dfnText": "NewObject", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-NewObject" }], "title": "7.4. Interface TextEncoder" }], "url": "https://webidl.spec.whatwg.org/#NewObject" },
                "cadf5fe9": { "dfnID": "cadf5fe9", "dfnText": "converted to an IDL value", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-convert-ecmascript-to-idl-value" }], "title": "7.5. Interface TextDecoderStream" }, { "refs": [{ "id": "ref-for-dfn-convert-ecmascript-to-idl-value\u2460" }], "title": "7.6. Interface TextEncoderStream" }], "url": "https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value" },
                "concept-encoding-get": { "dfnID": "concept-encoding-get", "dfnText": "get an encoding", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-concept-encoding-get" }], "title": "6.1. Legacy hooks for standards" }, { "refs": [{ "id": "ref-for-concept-encoding-get\u2460" }], "title": "7.2. Interface TextDecoder" }, { "refs": [{ "id": "ref-for-concept-encoding-get\u2461" }], "title": "7.5. Interface TextDecoderStream" }], "url": "#concept-encoding-get" },
                "concept-encoding-process": { "dfnID": "concept-encoding-process", "dfnText": "process an item", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-concept-encoding-process" }], "title": "4.1. Encoders and decoders" }, { "refs": [{ "id": "ref-for-concept-encoding-process\u2460" }], "title": "7.2. Interface TextDecoder" }, { "refs": [{ "id": "ref-for-concept-encoding-process\u2461" }], "title": "7.4. Interface TextEncoder" }, { "refs": [{ "id": "ref-for-concept-encoding-process\u2462" }, { "id": "ref-for-concept-encoding-process\u2463" }], "title": "7.5. Interface TextDecoderStream" }, { "refs": [{ "id": "ref-for-concept-encoding-process\u2464" }], "title": "7.6. Interface TextEncoderStream" }], "url": "#concept-encoding-process" },
                "concept-encoding-run": { "dfnID": "concept-encoding-run", "dfnText": "process a queue", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-concept-encoding-run" }, { "id": "ref-for-concept-encoding-run\u2460" }, { "id": "ref-for-concept-encoding-run\u2461" }], "title": "6. Hooks for standards" }, { "refs": [{ "id": "ref-for-concept-encoding-run\u2462" }, { "id": "ref-for-concept-encoding-run\u2463" }, { "id": "ref-for-concept-encoding-run\u2464" }], "title": "6.1. Legacy hooks for standards" }], "url": "#concept-encoding-run" },
                "concept-stream": { "dfnID": "concept-stream", "dfnText": "I/O queue", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-concept-stream" }, { "id": "ref-for-concept-stream\u2460" }, { "id": "ref-for-concept-stream\u2461" }, { "id": "ref-for-concept-stream\u2462" }, { "id": "ref-for-concept-stream\u2463" }, { "id": "ref-for-concept-stream\u2464" }, { "id": "ref-for-concept-stream\u2465" }, { "id": "ref-for-concept-stream\u2466" }, { "id": "ref-for-concept-stream\u2467" }, { "id": "ref-for-concept-stream\u2468" }, { "id": "ref-for-concept-stream\u2460\u24ea" }, { "id": "ref-for-concept-stream\u2460\u2460" }, { "id": "ref-for-concept-stream\u2460\u2461" }, { "id": "ref-for-concept-stream\u2460\u2462" }, { "id": "ref-for-concept-stream\u2460\u2463" }, { "id": "ref-for-concept-stream\u2460\u2464" }], "title": "3. Terminology" }, { "refs": [{ "id": "ref-for-concept-stream\u2460\u2465" }, { "id": "ref-for-concept-stream\u2460\u2466" }, { "id": "ref-for-concept-stream\u2460\u2467" }, { "id": "ref-for-concept-stream\u2460\u2468" }, { "id": "ref-for-concept-stream\u2461\u24ea" }], "title": "4.1. Encoders and decoders" }, { "refs": [{ "id": "ref-for-concept-stream\u2461\u2460" }, { "id": "ref-for-concept-stream\u2461\u2461" }], "title": "7.1. Interface mixin TextDecoderCommon" }, { "refs": [{ "id": "ref-for-concept-stream\u2461\u2462" }, { "id": "ref-for-concept-stream\u2461\u2463" }], "title": "7.2. Interface TextDecoder" }, { "refs": [{ "id": "ref-for-concept-stream\u2461\u2464" }, { "id": "ref-for-concept-stream\u2461\u2465" }, { "id": "ref-for-concept-stream\u2461\u2466" }, { "id": "ref-for-concept-stream\u2461\u2467" }], "title": "7.4. Interface TextEncoder" }, { "refs": [{ "id": "ref-for-concept-stream\u2461\u2468" }, { "id": "ref-for-concept-stream\u2462\u24ea" }, { "id": "ref-for-concept-stream\u2462\u2460" }], "title": "7.5. Interface TextDecoderStream" }, { "refs": [{ "id": "ref-for-concept-stream\u2462\u2461" }, { "id": "ref-for-concept-stream\u2462\u2462" }, { "id": "ref-for-concept-stream\u2462\u2463" }, { "id": "ref-for-concept-stream\u2462\u2464" }], "title": "7.6. Interface TextEncoderStream" }, { "refs": [{ "id": "ref-for-concept-stream\u2462\u2465" }], "title": "Implementation considerations" }], "url": "#concept-stream" },
                "concept-stream-prepend": { "dfnID": "concept-stream-prepend", "dfnText": "restore", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-concept-stream-prepend" }, { "id": "ref-for-concept-stream-prepend\u2460" }], "title": "3. Terminology" }, { "refs": [{ "id": "ref-for-concept-stream-prepend\u2461" }], "title": "7.6. Interface TextEncoderStream" }, { "refs": [{ "id": "ref-for-concept-stream-prepend\u2462" }], "title": "8.1.1. UTF-8 decoder" }, { "refs": [{ "id": "ref-for-concept-stream-prepend\u2463" }, { "id": "ref-for-concept-stream-prepend\u2464" }, { "id": "ref-for-concept-stream-prepend\u2465" }], "title": "10.2.1. gb18030 decoder" }, { "refs": [{ "id": "ref-for-concept-stream-prepend\u2466" }], "title": "11.1.1. Big5 decoder" }, { "refs": [{ "id": "ref-for-concept-stream-prepend\u2467" }], "title": "12.1.1. EUC-JP decoder" }, { "refs": [{ "id": "ref-for-concept-stream-prepend\u2468" }, { "id": "ref-for-concept-stream-prepend\u2460\u24ea" }, { "id": "ref-for-concept-stream-prepend\u2460\u2460" }], "title": "12.2.1. ISO-2022-JP decoder" }, { "refs": [{ "id": "ref-for-concept-stream-prepend\u2460\u2461" }, { "id": "ref-for-concept-stream-prepend\u2460\u2462" }, { "id": "ref-for-concept-stream-prepend\u2460\u2463" }, { "id": "ref-for-concept-stream-prepend\u2460\u2464" }], "title": "12.2.2. ISO-2022-JP encoder" }, { "refs": [{ "id": "ref-for-concept-stream-prepend\u2460\u2465" }], "title": "12.3.1. Shift_JIS decoder" }, { "refs": [{ "id": "ref-for-concept-stream-prepend\u2460\u2466" }], "title": "13.1.1. EUC-KR decoder" }, { "refs": [{ "id": "ref-for-concept-stream-prepend\u2460\u2467" }], "title": "14.2.1. shared UTF-16 decoder" }, { "refs": [{ "id": "ref-for-concept-stream-prepend\u2460\u2468" }], "title": "Implementation considerations" }], "url": "#concept-stream-prepend" },
                "concept-stream-push": { "dfnID": "concept-stream-push", "dfnText": "push", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-concept-stream-push" }, { "id": "ref-for-concept-stream-push\u2460" }, { "id": "ref-for-concept-stream-push\u2461" }], "title": "3. Terminology" }, { "refs": [{ "id": "ref-for-concept-stream-push\u2462" }, { "id": "ref-for-concept-stream-push\u2463" }, { "id": "ref-for-concept-stream-push\u2464" }, { "id": "ref-for-concept-stream-push\u2465" }], "title": "4.1. Encoders and decoders" }, { "refs": [{ "id": "ref-for-concept-stream-push\u2466" }], "title": "6.1. Legacy hooks for standards" }, { "refs": [{ "id": "ref-for-concept-stream-push\u2467" }], "title": "7.2. Interface TextDecoder" }, { "refs": [{ "id": "ref-for-concept-stream-push\u2468" }], "title": "7.5. Interface TextDecoderStream" }], "url": "#concept-stream-push" },
                "concept-stream-read": { "dfnID": "concept-stream-read", "dfnText": "read", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-concept-stream-read" }, { "id": "ref-for-concept-stream-read\u2460" }, { "id": "ref-for-concept-stream-read\u2461" }, { "id": "ref-for-concept-stream-read\u2462" }], "title": "3. Terminology" }, { "refs": [{ "id": "ref-for-concept-stream-read\u2463" }], "title": "4.1. Encoders and decoders" }, { "refs": [{ "id": "ref-for-concept-stream-read\u2464" }], "title": "6. Hooks for standards" }, { "refs": [{ "id": "ref-for-concept-stream-read\u2465" }, { "id": "ref-for-concept-stream-read\u2466" }], "title": "6.1. Legacy hooks for standards" }, { "refs": [{ "id": "ref-for-concept-stream-read\u2467" }], "title": "7.1. Interface mixin TextDecoderCommon" }, { "refs": [{ "id": "ref-for-concept-stream-read\u2468" }], "title": "7.2. Interface TextDecoder" }, { "refs": [{ "id": "ref-for-concept-stream-read\u2460\u24ea" }, { "id": "ref-for-concept-stream-read\u2460\u2460" }], "title": "7.4. Interface TextEncoder" }, { "refs": [{ "id": "ref-for-concept-stream-read\u2460\u2461" }, { "id": "ref-for-concept-stream-read\u2460\u2462" }], "title": "7.5. Interface TextDecoderStream" }, { "refs": [{ "id": "ref-for-concept-stream-read\u2460\u2463" }], "title": "7.6. Interface TextEncoderStream" }], "url": "#concept-stream-read" },
                "concept-td-serialize": { "dfnID": "concept-td-serialize", "dfnText": "serialize I/O queue", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-concept-td-serialize" }, { "id": "ref-for-concept-td-serialize\u2460" }], "title": "7.2. Interface TextDecoder" }, { "refs": [{ "id": "ref-for-concept-td-serialize\u2461" }, { "id": "ref-for-concept-td-serialize\u2462" }], "title": "7.5. Interface TextDecoderStream" }], "url": "#concept-td-serialize" },
                "continue": { "dfnID": "continue", "dfnText": "continue", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-continue" }, { "id": "ref-for-continue\u2460" }], "title": "4.1. Encoders and decoders" }, { "refs": [{ "id": "ref-for-continue\u2461" }, { "id": "ref-for-continue\u2462" }], "title": "7.6. Interface TextEncoderStream" }, { "refs": [{ "id": "ref-for-continue\u2463" }, { "id": "ref-for-continue\u2464" }], "title": "8.1.1. UTF-8 decoder" }, { "refs": [{ "id": "ref-for-continue\u2465" }, { "id": "ref-for-continue\u2466" }, { "id": "ref-for-continue\u2467" }], "title": "10.2.1. gb18030 decoder" }, { "refs": [{ "id": "ref-for-continue\u2468" }], "title": "11.1.1. Big5 decoder" }, { "refs": [{ "id": "ref-for-continue\u2460\u24ea" }, { "id": "ref-for-continue\u2460\u2460" }], "title": "12.1.1. EUC-JP decoder" }, { "refs": [{ "id": "ref-for-continue\u2460\u2461" }, { "id": "ref-for-continue\u2460\u2462" }, { "id": "ref-for-continue\u2460\u2463" }, { "id": "ref-for-continue\u2460\u2464" }, { "id": "ref-for-continue\u2460\u2465" }, { "id": "ref-for-continue\u2460\u2466" }, { "id": "ref-for-continue\u2460\u2467" }], "title": "12.2.1. ISO-2022-JP decoder" }, { "refs": [{ "id": "ref-for-continue\u2460\u2468" }], "title": "12.3.1. Shift_JIS decoder" }, { "refs": [{ "id": "ref-for-continue\u2461\u24ea" }], "title": "13.1.1. EUC-KR decoder" }, { "refs": [{ "id": "ref-for-continue\u2461\u2460" }, { "id": "ref-for-continue\u2461\u2461" }], "title": "14.2.1. shared UTF-16 decoder" }], "url": "#continue" },
                "convert-code-unit-to-scalar-value": { "dfnID": "convert-code-unit-to-scalar-value", "dfnText": "convert code unit to scalar value", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-convert-code-unit-to-scalar-value" }], "title": "7.6. Interface TextEncoderStream" }], "url": "#convert-code-unit-to-scalar-value" },
                "create-a-uint8array-object": { "dfnID": "create-a-uint8array-object", "dfnText": "create a Uint8Array object", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-create-a-uint8array-object" }], "title": "7.4. Interface TextEncoder" }, { "refs": [{ "id": "ref-for-create-a-uint8array-object\u2460" }, { "id": "ref-for-create-a-uint8array-object\u2461" }], "title": "7.6. Interface TextEncoderStream" }], "url": "#create-a-uint8array-object" },
                "d61c5cab": { "dfnID": "d61c5cab", "dfnText": "GenericTransformStream", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-generictransformstream" }], "title": "7.5. Interface TextDecoderStream" }, { "refs": [{ "id": "ref-for-generictransformstream\u2460" }], "title": "7.6. Interface TextEncoderStream" }], "url": "https://streams.spec.whatwg.org/#generictransformstream" },
                "d8b963e8": { "dfnID": "d8b963e8", "dfnText": "isomorphic decode", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-isomorphic-decode" }], "title": "4.2. Names and labels" }], "url": "https://infra.spec.whatwg.org/#isomorphic-decode" },
                "dd460c8e": { "dfnID": "dd460c8e", "dfnText": "is not empty", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-is-empty" }], "title": "3. Terminology" }, { "refs": [{ "id": "ref-for-list-is-empty\u2460" }], "title": "7.6. Interface TextEncoderStream" }], "url": "https://infra.spec.whatwg.org/#list-is-empty" },
                "ddc587b1": { "dfnID": "ddc587b1", "dfnText": "ASCII code point", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-ascii-code-point" }], "title": "2. Security background" }, { "refs": [{ "id": "ref-for-ascii-code-point\u2460" }], "title": "8.1.2. UTF-8 encoder" }, { "refs": [{ "id": "ref-for-ascii-code-point\u2461" }], "title": "9.2. single-byte encoder" }, { "refs": [{ "id": "ref-for-ascii-code-point\u2462" }], "title": "10.2.2. gb18030 encoder" }, { "refs": [{ "id": "ref-for-ascii-code-point\u2463" }], "title": "11.1.2. Big5 encoder" }, { "refs": [{ "id": "ref-for-ascii-code-point\u2464" }], "title": "12.1.2. EUC-JP encoder" }, { "refs": [{ "id": "ref-for-ascii-code-point\u2465" }, { "id": "ref-for-ascii-code-point\u2466" }, { "id": "ref-for-ascii-code-point\u2467" }, { "id": "ref-for-ascii-code-point\u2468" }], "title": "12.2.2. ISO-2022-JP encoder" }, { "refs": [{ "id": "ref-for-ascii-code-point\u2460\u24ea" }], "title": "12.3.2. Shift_JIS encoder" }, { "refs": [{ "id": "ref-for-ascii-code-point\u2460\u2460" }], "title": "13.1.2. EUC-KR encoder" }, { "refs": [{ "id": "ref-for-ascii-code-point\u2460\u2461" }], "title": "14.5.2. x-user-defined encoder" }], "url": "https://infra.spec.whatwg.org/#ascii-code-point" },
                "decode": { "dfnID": "decode", "dfnText": "decode", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-decode" }], "title": "6. Hooks for standards" }, { "refs": [{ "id": "ref-for-decode\u2460" }, { "id": "ref-for-decode\u2461" }, { "id": "ref-for-decode\u2462" }], "title": "6.1. Legacy hooks for standards" }, { "refs": [{ "id": "ref-for-decode\u2463" }], "title": "7.1. Interface mixin TextDecoderCommon" }, { "refs": [{ "id": "ref-for-decode\u2464" }], "title": "8.1.1. UTF-8 decoder" }, { "refs": [{ "id": "ref-for-decode\u2465" }], "title": "14.2.1. shared UTF-16 decoder" }], "url": "#decode" },
                "decode-and-enqueue-a-chunk": { "dfnID": "decode-and-enqueue-a-chunk", "dfnText": "decode and enqueue a chunk", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-decode-and-enqueue-a-chunk" }], "title": "7.5. Interface TextDecoderStream" }], "url": "#decode-and-enqueue-a-chunk" },
                "decoder": { "dfnID": "decoder", "dfnText": "decoder", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-decoder" }, { "id": "ref-for-decoder\u2460" }, { "id": "ref-for-decoder\u2461" }, { "id": "ref-for-decoder\u2462" }, { "id": "ref-for-decoder\u2463" }, { "id": "ref-for-decoder\u2464" }], "title": "4.1. Encoders and decoders" }, { "refs": [{ "id": "ref-for-decoder\u2465" }], "title": "5. Indexes" }, { "refs": [{ "id": "ref-for-decoder\u2466" }, { "id": "ref-for-decoder\u2467" }, { "id": "ref-for-decoder\u2468" }], "title": "6. Hooks for standards" }, { "refs": [{ "id": "ref-for-decoder\u2460\u24ea" }], "title": "6.1. Legacy hooks for standards" }, { "refs": [{ "id": "ref-for-decoder\u2460\u2460" }], "title": "7.1. Interface mixin TextDecoderCommon" }, { "refs": [{ "id": "ref-for-decoder\u2460\u2461" }, { "id": "ref-for-decoder\u2460\u2462" }, { "id": "ref-for-decoder\u2460\u2463" }], "title": "7.2. Interface TextDecoder" }, { "refs": [{ "id": "ref-for-decoder\u2460\u2464" }, { "id": "ref-for-decoder\u2460\u2465" }, { "id": "ref-for-decoder\u2460\u2466" }, { "id": "ref-for-decoder\u2460\u2467" }], "title": "7.5. Interface TextDecoderStream" }, { "refs": [{ "id": "ref-for-decoder\u2460\u2468" }, { "id": "ref-for-decoder\u2461\u24ea" }], "title": "8.1.1. UTF-8 decoder" }, { "refs": [{ "id": "ref-for-decoder\u2461\u2460" }], "title": "9. Legacy single-byte encodings" }, { "refs": [{ "id": "ref-for-decoder\u2461\u2461" }], "title": "9.1. single-byte decoder" }, { "refs": [{ "id": "ref-for-decoder\u2461\u2462" }, { "id": "ref-for-decoder\u2461\u2463" }], "title": "10.1.1. GBK decoder" }, { "refs": [{ "id": "ref-for-decoder\u2461\u2464" }, { "id": "ref-for-decoder\u2461\u2465" }], "title": "10.2.1. gb18030 decoder" }, { "refs": [{ "id": "ref-for-decoder\u2461\u2466" }, { "id": "ref-for-decoder\u2461\u2467" }], "title": "11.1.1. Big5 decoder" }, { "refs": [{ "id": "ref-for-decoder\u2461\u2468" }, { "id": "ref-for-decoder\u2462\u24ea" }], "title": "12.1.1. EUC-JP decoder" }, { "refs": [{ "id": "ref-for-decoder\u2462\u2460" }, { "id": "ref-for-decoder\u2462\u2461" }], "title": "12.2.1. ISO-2022-JP decoder" }, { "refs": [{ "id": "ref-for-decoder\u2462\u2462" }], "title": "12.2.2. ISO-2022-JP encoder" }, { "refs": [{ "id": "ref-for-decoder\u2462\u2463" }, { "id": "ref-for-decoder\u2462\u2464" }], "title": "12.3.1. Shift_JIS decoder" }, { "refs": [{ "id": "ref-for-decoder\u2462\u2465" }, { "id": "ref-for-decoder\u2462\u2466" }], "title": "13.1.1. EUC-KR decoder" }, { "refs": [{ "id": "ref-for-decoder\u2462\u2467" }, { "id": "ref-for-decoder\u2462\u2468" }], "title": "14.1.1. replacement decoder" }, { "refs": [{ "id": "ref-for-decoder\u2463\u24ea" }], "title": "14.3.1. UTF-16BE decoder" }, { "refs": [{ "id": "ref-for-decoder\u2463\u2460" }], "title": "14.4.1. UTF-16LE decoder" }, { "refs": [{ "id": "ref-for-decoder\u2463\u2461" }], "title": "14.5.1. x-user-defined decoder" }, { "refs": [{ "id": "ref-for-decoder\u2463\u2462" }], "title": "Implementation considerations" }], "url": "#decoder" },
                "df3c9a3c": { "dfnID": "df3c9a3c", "dfnText": "startingOffset", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-arraybufferview-write-startingoffset" }], "title": "7.4. Interface TextEncoder" }], "url": "https://webidl.spec.whatwg.org/#arraybufferview-write-startingoffset" },
                "dictdef-textencoderencodeintoresult": { "dfnID": "dictdef-textencoderencodeintoresult", "dfnText": "TextEncoderEncodeIntoResult", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-textencoderencodeintoresult" }], "title": "7.4. Interface TextEncoder" }], "url": "#dictdef-textencoderencodeintoresult" },
                "dom-textdecodeoptions-stream": { "dfnID": "dom-textdecodeoptions-stream", "dfnText": "stream", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-textdecodeoptions-stream" }], "title": "7.2. Interface TextDecoder" }], "url": "#dom-textdecodeoptions-stream" },
                "dom-textdecoder": { "dfnID": "dom-textdecoder", "dfnText": "new TextDecoder(label, options)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-textdecoder" }, { "id": "ref-for-dom-textdecoder\u2460" }], "title": "7.2. Interface TextDecoder" }], "url": "#dom-textdecoder" },
                "dom-textdecoder-decode": { "dfnID": "dom-textdecoder-decode", "dfnText": "decode(input, options)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-textdecoder-decode" }, { "id": "ref-for-dom-textdecoder-decode\u2460" }, { "id": "ref-for-dom-textdecoder-decode\u2461" }], "title": "7.2. Interface TextDecoder" }], "url": "#dom-textdecoder-decode" },
                "dom-textdecoder-decode-input-options-input": { "dfnID": "dom-textdecoder-decode-input-options-input", "dfnText": "input", "external": false, "refSections": [], "url": "#dom-textdecoder-decode-input-options-input" },
                "dom-textdecoder-decode-input-options-options": { "dfnID": "dom-textdecoder-decode-input-options-options", "dfnText": "options", "external": false, "refSections": [], "url": "#dom-textdecoder-decode-input-options-options" },
                "dom-textdecoder-encoding": { "dfnID": "dom-textdecoder-encoding", "dfnText": "encoding", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-textdecoder-encoding" }], "title": "7.1. Interface mixin TextDecoderCommon" }, { "refs": [{ "id": "ref-for-dom-textdecoder-encoding\u2460" }], "title": "7.2. Interface TextDecoder" }, { "refs": [{ "id": "ref-for-dom-textdecoder-encoding\u2461" }], "title": "7.5. Interface TextDecoderStream" }], "url": "#dom-textdecoder-encoding" },
                "dom-textdecoder-fatal": { "dfnID": "dom-textdecoder-fatal", "dfnText": "fatal", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-textdecoder-fatal" }], "title": "7.1. Interface mixin TextDecoderCommon" }, { "refs": [{ "id": "ref-for-dom-textdecoder-fatal\u2460" }], "title": "7.2. Interface TextDecoder" }, { "refs": [{ "id": "ref-for-dom-textdecoder-fatal\u2461" }], "title": "7.5. Interface TextDecoderStream" }], "url": "#dom-textdecoder-fatal" },
                "dom-textdecoder-ignorebom": { "dfnID": "dom-textdecoder-ignorebom", "dfnText": "ignoreBOM", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-textdecoder-ignorebom" }], "title": "7.1. Interface mixin TextDecoderCommon" }, { "refs": [{ "id": "ref-for-dom-textdecoder-ignorebom\u2460" }], "title": "7.2. Interface TextDecoder" }, { "refs": [{ "id": "ref-for-dom-textdecoder-ignorebom\u2461" }], "title": "7.5. Interface TextDecoderStream" }], "url": "#dom-textdecoder-ignorebom" },
                "dom-textdecoder-textdecoder-label-options-label": { "dfnID": "dom-textdecoder-textdecoder-label-options-label", "dfnText": "label", "external": false, "refSections": [], "url": "#dom-textdecoder-textdecoder-label-options-label" },
                "dom-textdecoder-textdecoder-label-options-options": { "dfnID": "dom-textdecoder-textdecoder-label-options-options", "dfnText": "options", "external": false, "refSections": [], "url": "#dom-textdecoder-textdecoder-label-options-options" },
                "dom-textdecoderoptions-fatal": { "dfnID": "dom-textdecoderoptions-fatal", "dfnText": "fatal", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-textdecoderoptions-fatal" }], "title": "7.2. Interface TextDecoder" }, { "refs": [{ "id": "ref-for-dom-textdecoderoptions-fatal\u2460" }], "title": "7.5. Interface TextDecoderStream" }], "url": "#dom-textdecoderoptions-fatal" },
                "dom-textdecoderoptions-ignorebom": { "dfnID": "dom-textdecoderoptions-ignorebom", "dfnText": "ignoreBOM", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-textdecoderoptions-ignorebom" }], "title": "7.2. Interface TextDecoder" }, { "refs": [{ "id": "ref-for-dom-textdecoderoptions-ignorebom\u2460" }], "title": "7.5. Interface TextDecoderStream" }], "url": "#dom-textdecoderoptions-ignorebom" },
                "dom-textdecoderstream": { "dfnID": "dom-textdecoderstream", "dfnText": "new TextDecoderStream(label, options)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-textdecoderstream" }, { "id": "ref-for-dom-textdecoderstream\u2460" }], "title": "7.5. Interface TextDecoderStream" }], "url": "#dom-textdecoderstream" },
                "dom-textdecoderstream-textdecoderstream-label-options-label": { "dfnID": "dom-textdecoderstream-textdecoderstream-label-options-label", "dfnText": "label", "external": false, "refSections": [], "url": "#dom-textdecoderstream-textdecoderstream-label-options-label" },
                "dom-textdecoderstream-textdecoderstream-label-options-options": { "dfnID": "dom-textdecoderstream-textdecoderstream-label-options-options", "dfnText": "options", "external": false, "refSections": [], "url": "#dom-textdecoderstream-textdecoderstream-label-options-options" },
                "dom-textencoder": { "dfnID": "dom-textencoder", "dfnText": "new TextEncoder()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-textencoder" }, { "id": "ref-for-dom-textencoder\u2460" }], "title": "7.4. Interface TextEncoder" }], "url": "#dom-textencoder" },
                "dom-textencoder-encode": { "dfnID": "dom-textencoder-encode", "dfnText": "encode(input)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-textencoder-encode" }, { "id": "ref-for-dom-textencoder-encode\u2460" }], "title": "7.4. Interface TextEncoder" }], "url": "#dom-textencoder-encode" },
                "dom-textencoder-encode-input-input": { "dfnID": "dom-textencoder-encode-input-input", "dfnText": "input", "external": false, "refSections": [], "url": "#dom-textencoder-encode-input-input" },
                "dom-textencoder-encodeinto": { "dfnID": "dom-textencoder-encodeinto", "dfnText": "encodeInto(source, destination)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-textencoder-encodeinto" }, { "id": "ref-for-dom-textencoder-encodeinto\u2460" }, { "id": "ref-for-dom-textencoder-encodeinto\u2461" }], "title": "7.4. Interface TextEncoder" }], "url": "#dom-textencoder-encodeinto" },
                "dom-textencoder-encodeinto-source-destination-destination": { "dfnID": "dom-textencoder-encodeinto-source-destination-destination", "dfnText": "destination", "external": false, "refSections": [], "url": "#dom-textencoder-encodeinto-source-destination-destination" },
                "dom-textencoder-encodeinto-source-destination-source": { "dfnID": "dom-textencoder-encodeinto-source-destination-source", "dfnText": "source", "external": false, "refSections": [], "url": "#dom-textencoder-encodeinto-source-destination-source" },
                "dom-textencoder-encoding": { "dfnID": "dom-textencoder-encoding", "dfnText": "encoding", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-textencoder-encoding" }], "title": "7.3. Interface mixin TextEncoderCommon" }, { "refs": [{ "id": "ref-for-dom-textencoder-encoding\u2460" }], "title": "7.4. Interface TextEncoder" }, { "refs": [{ "id": "ref-for-dom-textencoder-encoding\u2461" }], "title": "7.6. Interface TextEncoderStream" }], "url": "#dom-textencoder-encoding" },
                "dom-textencoderencodeintoresult-read": { "dfnID": "dom-textencoderencodeintoresult-read", "dfnText": "read", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-textencoderencodeintoresult-read" }, { "id": "ref-for-dom-textencoderencodeintoresult-read\u2460" }], "title": "7.4. Interface TextEncoder" }], "url": "#dom-textencoderencodeintoresult-read" },
                "dom-textencoderencodeintoresult-written": { "dfnID": "dom-textencoderencodeintoresult-written", "dfnText": "written", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-textencoderencodeintoresult-written" }, { "id": "ref-for-dom-textencoderencodeintoresult-written\u2460" }], "title": "7.4. Interface TextEncoder" }], "url": "#dom-textencoderencodeintoresult-written" },
                "dom-textencoderstream": { "dfnID": "dom-textencoderstream", "dfnText": "new TextEncoderStream()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-textencoderstream" }, { "id": "ref-for-dom-textencoderstream\u2460" }], "title": "7.6. Interface TextEncoderStream" }], "url": "#dom-textencoderstream" },
                "e2fc6023": { "dfnID": "e2fc6023", "dfnText": "prepend", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-prepend" }], "title": "3. Terminology" }], "url": "https://infra.spec.whatwg.org/#list-prepend" },
                "eade7401": { "dfnID": "eade7401", "dfnText": "transform", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-generictransformstream-transform" }, { "id": "ref-for-generictransformstream-transform\u2460" }, { "id": "ref-for-generictransformstream-transform\u2461" }], "title": "7.5. Interface TextDecoderStream" }, { "refs": [{ "id": "ref-for-generictransformstream-transform\u2462" }, { "id": "ref-for-generictransformstream-transform\u2463" }, { "id": "ref-for-generictransformstream-transform\u2464" }], "title": "7.6. Interface TextEncoderStream" }], "url": "https://streams.spec.whatwg.org/#generictransformstream-transform" },
                "ec878a66": { "dfnID": "ec878a66", "dfnText": "RangeError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-exceptiondef-rangeerror" }, { "id": "ref-for-exceptiondef-rangeerror\u2460" }], "title": "7.2. Interface TextDecoder" }, { "refs": [{ "id": "ref-for-exceptiondef-rangeerror\u2461" }, { "id": "ref-for-exceptiondef-rangeerror\u2462" }], "title": "7.5. Interface TextDecoderStream" }], "url": "https://webidl.spec.whatwg.org/#exceptiondef-rangeerror" },
                "ecf251b4": { "dfnID": "ecf251b4", "dfnText": "scalar value", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-scalar-value" }], "title": "3. Terminology" }, { "refs": [{ "id": "ref-for-scalar-value\u2460" }], "title": "4. Encodings" }], "url": "https://infra.spec.whatwg.org/#scalar-value" },
                "encode": { "dfnID": "encode", "dfnText": "encode", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-encode" }, { "id": "ref-for-encode\u2460" }, { "id": "ref-for-encode\u2461" }], "title": "6. Hooks for standards" }, { "refs": [{ "id": "ref-for-encode\u2462" }, { "id": "ref-for-encode\u2463" }], "title": "6.1. Legacy hooks for standards" }], "url": "#encode" },
                "encode-and-enqueue-a-chunk": { "dfnID": "encode-and-enqueue-a-chunk", "dfnText": "encode and enqueue a chunk", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-encode-and-enqueue-a-chunk" }], "title": "7.6. Interface TextEncoderStream" }], "url": "#encode-and-enqueue-a-chunk" },
                "encode-and-flush": { "dfnID": "encode-and-flush", "dfnText": "encode and flush", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-encode-and-flush" }], "title": "7.6. Interface TextEncoderStream" }], "url": "#encode-and-flush" },
                "encode-or-fail": { "dfnID": "encode-or-fail", "dfnText": "encode or fail", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-encode-or-fail" }, { "id": "ref-for-encode-or-fail\u2460" }], "title": "6.1. Legacy hooks for standards" }], "url": "#encode-or-fail" },
                "encoder": { "dfnID": "encoder", "dfnText": "encoder", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-encoder" }, { "id": "ref-for-encoder\u2460" }, { "id": "ref-for-encoder\u2461" }, { "id": "ref-for-encoder\u2462" }, { "id": "ref-for-encoder\u2463" }, { "id": "ref-for-encoder\u2464" }, { "id": "ref-for-encoder\u2465" }, { "id": "ref-for-encoder\u2466" }], "title": "4.1. Encoders and decoders" }, { "refs": [{ "id": "ref-for-encoder\u2467" }], "title": "5. Indexes" }, { "refs": [{ "id": "ref-for-encoder\u2468" }, { "id": "ref-for-encoder\u2460\u24ea" }, { "id": "ref-for-encoder\u2460\u2460" }, { "id": "ref-for-encoder\u2460\u2461" }], "title": "6.1. Legacy hooks for standards" }, { "refs": [{ "id": "ref-for-encoder\u2460\u2462" }, { "id": "ref-for-encoder\u2460\u2463" }], "title": "7.4. Interface TextEncoder" }, { "refs": [{ "id": "ref-for-encoder\u2460\u2464" }, { "id": "ref-for-encoder\u2460\u2465" }, { "id": "ref-for-encoder\u2460\u2466" }], "title": "7.6. Interface TextEncoderStream" }, { "refs": [{ "id": "ref-for-encoder\u2460\u2467" }], "title": "8.1.2. UTF-8 encoder" }, { "refs": [{ "id": "ref-for-encoder\u2460\u2468" }], "title": "9. Legacy single-byte encodings" }, { "refs": [{ "id": "ref-for-encoder\u2461\u24ea" }], "title": "9.2. single-byte encoder" }, { "refs": [{ "id": "ref-for-encoder\u2461\u2460" }, { "id": "ref-for-encoder\u2461\u2461" }, { "id": "ref-for-encoder\u2461\u2462" }], "title": "10.1.2. GBK encoder" }, { "refs": [{ "id": "ref-for-encoder\u2461\u2463" }, { "id": "ref-for-encoder\u2461\u2464" }], "title": "10.2.2. gb18030 encoder" }, { "refs": [{ "id": "ref-for-encoder\u2461\u2465" }], "title": "11.1.2. Big5 encoder" }, { "refs": [{ "id": "ref-for-encoder\u2461\u2466" }], "title": "12.1.2. EUC-JP encoder" }, { "refs": [{ "id": "ref-for-encoder\u2461\u2467" }, { "id": "ref-for-encoder\u2461\u2468" }, { "id": "ref-for-encoder\u2462\u24ea" }], "title": "12.2.2. ISO-2022-JP encoder" }, { "refs": [{ "id": "ref-for-encoder\u2462\u2460" }], "title": "12.3.2. Shift_JIS encoder" }, { "refs": [{ "id": "ref-for-encoder\u2462\u2461" }], "title": "13.1.2. EUC-KR encoder" }, { "refs": [{ "id": "ref-for-encoder\u2462\u2462" }], "title": "14.5.2. x-user-defined encoder" }, { "refs": [{ "id": "ref-for-encoder\u2462\u2463" }], "title": "Implementation considerations" }], "url": "#encoder" },
                "encoding": { "dfnID": "encoding", "dfnText": "encoding", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-encoding" }, { "id": "ref-for-encoding\u2460" }, { "id": "ref-for-encoding\u2461" }, { "id": "ref-for-encoding\u2462" }], "title": "4. Encodings" }, { "refs": [{ "id": "ref-for-encoding\u2463" }, { "id": "ref-for-encoding\u2464" }, { "id": "ref-for-encoding\u2465" }, { "id": "ref-for-encoding\u2466" }, { "id": "ref-for-encoding\u2467" }], "title": "4.1. Encoders and decoders" }, { "refs": [{ "id": "ref-for-encoding\u2468" }, { "id": "ref-for-encoding\u2460\u24ea" }, { "id": "ref-for-encoding\u2460\u2460" }, { "id": "ref-for-encoding\u2460\u2461" }, { "id": "ref-for-encoding\u2460\u2462" }, { "id": "ref-for-encoding\u2460\u2463" }, { "id": "ref-for-encoding\u2460\u2464" }, { "id": "ref-for-encoding\u2460\u2465" }, { "id": "ref-for-encoding\u2460\u2466" }, { "id": "ref-for-encoding\u2460\u2467" }], "title": "4.2. Names and labels" }, { "refs": [{ "id": "ref-for-encoding\u2460\u2468" }], "title": "4.3. Output encodings" }, { "refs": [{ "id": "ref-for-encoding\u2461\u24ea" }, { "id": "ref-for-encoding\u2461\u2460" }], "title": "5. Indexes" }, { "refs": [{ "id": "ref-for-encoding\u2461\u2461" }, { "id": "ref-for-encoding\u2461\u2462" }, { "id": "ref-for-encoding\u2461\u2463" }, { "id": "ref-for-encoding\u2461\u2464" }, { "id": "ref-for-encoding\u2461\u2465" }], "title": "6.1. Legacy hooks for standards" }, { "refs": [{ "id": "ref-for-encoding\u2461\u2466" }], "title": "7.1. Interface mixin TextDecoderCommon" }, { "refs": [{ "id": "ref-for-encoding\u2461\u2467" }, { "id": "ref-for-encoding\u2461\u2468" }], "title": "9. Legacy single-byte encodings" }, { "refs": [{ "id": "ref-for-encoding\u2462\u24ea" }, { "id": "ref-for-encoding\u2462\u2460" }], "title": "14.1. replacement" }, { "refs": [{ "id": "ref-for-encoding\u2462\u2461" }, { "id": "ref-for-encoding\u2462\u2462" }], "title": "Implementation considerations" }], "url": "#encoding" },
                "end-of-stream": { "dfnID": "end-of-stream", "dfnText": "End-of-queue", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-end-of-stream" }], "title": "2. Security background" }, { "refs": [{ "id": "ref-for-end-of-stream\u2460" }, { "id": "ref-for-end-of-stream\u2461" }, { "id": "ref-for-end-of-stream\u2462" }, { "id": "ref-for-end-of-stream\u2463" }, { "id": "ref-for-end-of-stream\u2464" }, { "id": "ref-for-end-of-stream\u2465" }, { "id": "ref-for-end-of-stream\u2466" }, { "id": "ref-for-end-of-stream\u2467" }, { "id": "ref-for-end-of-stream\u2468" }, { "id": "ref-for-end-of-stream\u2460\u24ea" }, { "id": "ref-for-end-of-stream\u2460\u2460" }, { "id": "ref-for-end-of-stream\u2460\u2461" }, { "id": "ref-for-end-of-stream\u2460\u2462" }, { "id": "ref-for-end-of-stream\u2460\u2463" }, { "id": "ref-for-end-of-stream\u2460\u2464" }], "title": "3. Terminology" }, { "refs": [{ "id": "ref-for-end-of-stream\u2460\u2465" }], "title": "4.1. Encoders and decoders" }, { "refs": [{ "id": "ref-for-end-of-stream\u2460\u2466" }], "title": "6. Hooks for standards" }, { "refs": [{ "id": "ref-for-end-of-stream\u2460\u2467" }], "title": "6.1. Legacy hooks for standards" }, { "refs": [{ "id": "ref-for-end-of-stream\u2460\u2468" }], "title": "7.1. Interface mixin TextDecoderCommon" }, { "refs": [{ "id": "ref-for-end-of-stream\u2461\u24ea" }, { "id": "ref-for-end-of-stream\u2461\u2460" }, { "id": "ref-for-end-of-stream\u2461\u2461" }, { "id": "ref-for-end-of-stream\u2461\u2462" }], "title": "7.2. Interface TextDecoder" }, { "refs": [{ "id": "ref-for-end-of-stream\u2461\u2463" }, { "id": "ref-for-end-of-stream\u2461\u2464" }], "title": "7.4. Interface TextEncoder" }, { "refs": [{ "id": "ref-for-end-of-stream\u2461\u2465" }, { "id": "ref-for-end-of-stream\u2461\u2466" }, { "id": "ref-for-end-of-stream\u2461\u2467" }], "title": "7.5. Interface TextDecoderStream" }, { "refs": [{ "id": "ref-for-end-of-stream\u2461\u2468" }, { "id": "ref-for-end-of-stream\u2462\u24ea" }], "title": "7.6. Interface TextEncoderStream" }, { "refs": [{ "id": "ref-for-end-of-stream\u2462\u2460" }, { "id": "ref-for-end-of-stream\u2462\u2461" }], "title": "8.1.1. UTF-8 decoder" }, { "refs": [{ "id": "ref-for-end-of-stream\u2462\u2462" }], "title": "8.1.2. UTF-8 encoder" }, { "refs": [{ "id": "ref-for-end-of-stream\u2462\u2463" }], "title": "9.1. single-byte decoder" }, { "refs": [{ "id": "ref-for-end-of-stream\u2462\u2464" }], "title": "9.2. single-byte encoder" }, { "refs": [{ "id": "ref-for-end-of-stream\u2462\u2465" }, { "id": "ref-for-end-of-stream\u2462\u2466" }], "title": "10.2.1. gb18030 decoder" }, { "refs": [{ "id": "ref-for-end-of-stream\u2462\u2467" }], "title": "10.2.2. gb18030 encoder" }, { "refs": [{ "id": "ref-for-end-of-stream\u2462\u2468" }, { "id": "ref-for-end-of-stream\u2463\u24ea" }], "title": "11.1.1. Big5 decoder" }, { "refs": [{ "id": "ref-for-end-of-stream\u2463\u2460" }], "title": "11.1.2. Big5 encoder" }, { "refs": [{ "id": "ref-for-end-of-stream\u2463\u2461" }, { "id": "ref-for-end-of-stream\u2463\u2462" }], "title": "12.1.1. EUC-JP decoder" }, { "refs": [{ "id": "ref-for-end-of-stream\u2463\u2463" }], "title": "12.1.2. EUC-JP encoder" }, { "refs": [{ "id": "ref-for-end-of-stream\u2463\u2464" }, { "id": "ref-for-end-of-stream\u2463\u2465" }, { "id": "ref-for-end-of-stream\u2463\u2466" }, { "id": "ref-for-end-of-stream\u2463\u2467" }, { "id": "ref-for-end-of-stream\u2463\u2468" }, { "id": "ref-for-end-of-stream\u2464\u24ea" }, { "id": "ref-for-end-of-stream\u2464\u2460" }], "title": "12.2.1. ISO-2022-JP decoder" }, { "refs": [{ "id": "ref-for-end-of-stream\u2464\u2461" }, { "id": "ref-for-end-of-stream\u2464\u2462" }], "title": "12.2.2. ISO-2022-JP encoder" }, { "refs": [{ "id": "ref-for-end-of-stream\u2464\u2463" }, { "id": "ref-for-end-of-stream\u2464\u2464" }], "title": "12.3.1. Shift_JIS decoder" }, { "refs": [{ "id": "ref-for-end-of-stream\u2464\u2465" }], "title": "12.3.2. Shift_JIS encoder" }, { "refs": [{ "id": "ref-for-end-of-stream\u2464\u2466" }, { "id": "ref-for-end-of-stream\u2464\u2467" }], "title": "13.1.1. EUC-KR decoder" }, { "refs": [{ "id": "ref-for-end-of-stream\u2464\u2468" }], "title": "13.1.2. EUC-KR encoder" }, { "refs": [{ "id": "ref-for-end-of-stream\u2465\u24ea" }], "title": "14.1.1. replacement decoder" }, { "refs": [{ "id": "ref-for-end-of-stream\u2465\u2460" }, { "id": "ref-for-end-of-stream\u2465\u2461" }], "title": "14.2.1. shared UTF-16 decoder" }, { "refs": [{ "id": "ref-for-end-of-stream\u2465\u2462" }], "title": "14.5.1. x-user-defined decoder" }, { "refs": [{ "id": "ref-for-end-of-stream\u2465\u2463" }], "title": "14.5.2. x-user-defined encoder" }], "url": "#end-of-stream" },
                "error": { "dfnID": "error", "dfnText": "error", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-error" }], "title": "4.1. Encoders and decoders" }, { "refs": [{ "id": "ref-for-error\u2460" }], "title": "6. Hooks for standards" }, { "refs": [{ "id": "ref-for-error\u2461" }, { "id": "ref-for-error\u2462" }, { "id": "ref-for-error\u2463" }, { "id": "ref-for-error\u2464" }, { "id": "ref-for-error\u2465" }, { "id": "ref-for-error\u2466" }], "title": "6.1. Legacy hooks for standards" }, { "refs": [{ "id": "ref-for-error\u2467" }, { "id": "ref-for-error\u2468" }], "title": "7.2. Interface TextDecoder" }, { "refs": [{ "id": "ref-for-error\u2460\u24ea" }, { "id": "ref-for-error\u2460\u2460" }], "title": "7.4. Interface TextEncoder" }, { "refs": [{ "id": "ref-for-error\u2460\u2461" }, { "id": "ref-for-error\u2460\u2462" }, { "id": "ref-for-error\u2460\u2463" }], "title": "7.5. Interface TextDecoderStream" }, { "refs": [{ "id": "ref-for-error\u2460\u2464" }, { "id": "ref-for-error\u2460\u2465" }, { "id": "ref-for-error\u2460\u2466" }], "title": "8.1.1. UTF-8 decoder" }, { "refs": [{ "id": "ref-for-error\u2460\u2467" }], "title": "9.1. single-byte decoder" }, { "refs": [{ "id": "ref-for-error\u2460\u2468" }], "title": "9.2. single-byte encoder" }, { "refs": [{ "id": "ref-for-error\u2461\u24ea" }, { "id": "ref-for-error\u2461\u2460" }, { "id": "ref-for-error\u2461\u2461" }, { "id": "ref-for-error\u2461\u2462" }, { "id": "ref-for-error\u2461\u2463" }, { "id": "ref-for-error\u2461\u2464" }], "title": "10.2.1. gb18030 decoder" }, { "refs": [{ "id": "ref-for-error\u2461\u2465" }, { "id": "ref-for-error\u2461\u2466" }], "title": "10.2.2. gb18030 encoder" }, { "refs": [{ "id": "ref-for-error\u2461\u2467" }, { "id": "ref-for-error\u2461\u2468" }, { "id": "ref-for-error\u2462\u24ea" }], "title": "11.1.1. Big5 decoder" }, { "refs": [{ "id": "ref-for-error\u2462\u2460" }], "title": "11.1.2. Big5 encoder" }, { "refs": [{ "id": "ref-for-error\u2462\u2461" }, { "id": "ref-for-error\u2462\u2462" }, { "id": "ref-for-error\u2462\u2463" }], "title": "12.1.1. EUC-JP decoder" }, { "refs": [{ "id": "ref-for-error\u2462\u2464" }], "title": "12.1.2. EUC-JP encoder" }, { "refs": [{ "id": "ref-for-error\u2462\u2465" }, { "id": "ref-for-error\u2462\u2466" }, { "id": "ref-for-error\u2462\u2467" }, { "id": "ref-for-error\u2462\u2468" }, { "id": "ref-for-error\u2463\u24ea" }, { "id": "ref-for-error\u2463\u2460" }, { "id": "ref-for-error\u2463\u2461" }, { "id": "ref-for-error\u2463\u2462" }, { "id": "ref-for-error\u2463\u2463" }, { "id": "ref-for-error\u2463\u2464" }, { "id": "ref-for-error\u2463\u2465" }], "title": "12.2.1. ISO-2022-JP decoder" }, { "refs": [{ "id": "ref-for-error\u2463\u2466" }, { "id": "ref-for-error\u2463\u2467" }, { "id": "ref-for-error\u2463\u2468" }], "title": "12.2.2. ISO-2022-JP encoder" }, { "refs": [{ "id": "ref-for-error\u2464\u24ea" }, { "id": "ref-for-error\u2464\u2460" }, { "id": "ref-for-error\u2464\u2461" }], "title": "12.3.1. Shift_JIS decoder" }, { "refs": [{ "id": "ref-for-error\u2464\u2462" }], "title": "12.3.2. Shift_JIS encoder" }, { "refs": [{ "id": "ref-for-error\u2464\u2463" }, { "id": "ref-for-error\u2464\u2464" }, { "id": "ref-for-error\u2464\u2465" }], "title": "13.1.1. EUC-KR decoder" }, { "refs": [{ "id": "ref-for-error\u2464\u2466" }], "title": "13.1.2. EUC-KR encoder" }, { "refs": [{ "id": "ref-for-error\u2464\u2467" }], "title": "14.1.1. replacement decoder" }, { "refs": [{ "id": "ref-for-error\u2464\u2468" }, { "id": "ref-for-error\u2465\u24ea" }, { "id": "ref-for-error\u2465\u2460" }], "title": "14.2.1. shared UTF-16 decoder" }, { "refs": [{ "id": "ref-for-error\u2465\u2461" }], "title": "14.5.2. x-user-defined encoder" }], "url": "#error" },
                "error-mode": { "dfnID": "error-mode", "dfnText": "error mode", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-error-mode" }, { "id": "ref-for-error-mode\u2460" }, { "id": "ref-for-error-mode\u2461" }, { "id": "ref-for-error-mode\u2462" }, { "id": "ref-for-error-mode\u2463" }], "title": "4.1. Encoders and decoders" }, { "refs": [{ "id": "ref-for-error-mode\u2464" }], "title": "7.1. Interface mixin TextDecoderCommon" }], "url": "#error-mode" },
                "euc-jp": { "dfnID": "euc-jp", "dfnText": "12.1. EUC-JP", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-euc-jp" }], "title": "4.2. Names and labels" }, { "refs": [{ "id": "ref-for-euc-jp" }], "title": "12.1. EUC-JP" }, { "refs": [{ "id": "ref-for-euc-jp\u2460" }, { "id": "ref-for-euc-jp\u2461" }], "title": "12.1.1. EUC-JP decoder" }, { "refs": [{ "id": "ref-for-euc-jp\u2462" }], "title": "12.1.2. EUC-JP encoder" }], "url": "#euc-jp" },
                "euc-jp-decoder": { "dfnID": "euc-jp-decoder", "dfnText": "12.1.1. EUC-JP decoder", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-euc-jp-decoder" }], "title": "5. Indexes" }, { "refs": [{ "id": "ref-for-euc-jp-decoder" }], "title": "12.1.1. EUC-JP decoder" }], "url": "#euc-jp-decoder" },
                "euc-jp-encoder": { "dfnID": "euc-jp-encoder", "dfnText": "12.1.2. EUC-JP encoder", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-euc-jp-encoder" }], "title": "12.1.2. EUC-JP encoder" }], "url": "#euc-jp-encoder" },
                "euc-jp-jis0212-flag": { "dfnID": "euc-jp-jis0212-flag", "dfnText": "EUC-JP jis0212", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-euc-jp-jis0212-flag" }, { "id": "ref-for-euc-jp-jis0212-flag\u2460" }, { "id": "ref-for-euc-jp-jis0212-flag\u2461" }], "title": "12.1.1. EUC-JP decoder" }], "url": "#euc-jp-jis0212-flag" },
                "euc-jp-lead": { "dfnID": "euc-jp-lead", "dfnText": "EUC-JP leading", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-euc-jp-lead" }, { "id": "ref-for-euc-jp-lead\u2460" }, { "id": "ref-for-euc-jp-lead\u2461" }, { "id": "ref-for-euc-jp-lead\u2462" }, { "id": "ref-for-euc-jp-lead\u2463" }, { "id": "ref-for-euc-jp-lead\u2464" }, { "id": "ref-for-euc-jp-lead\u2465" }, { "id": "ref-for-euc-jp-lead\u2466" }, { "id": "ref-for-euc-jp-lead\u2467" }, { "id": "ref-for-euc-jp-lead\u2468" }, { "id": "ref-for-euc-jp-lead\u2460\u24ea" }], "title": "12.1.1. EUC-JP decoder" }], "url": "#euc-jp-lead" },
                "euc-kr": { "dfnID": "euc-kr", "dfnText": "13.1. EUC-KR", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-euc-kr" }], "title": "4.2. Names and labels" }, { "refs": [{ "id": "ref-for-euc-kr" }], "title": "13.1. EUC-KR" }, { "refs": [{ "id": "ref-for-euc-kr\u2460" }, { "id": "ref-for-euc-kr\u2461" }], "title": "13.1.1. EUC-KR decoder" }, { "refs": [{ "id": "ref-for-euc-kr\u2462" }], "title": "13.1.2. EUC-KR encoder" }], "url": "#euc-kr" },
                "euc-kr-decoder": { "dfnID": "euc-kr-decoder", "dfnText": "13.1.1. EUC-KR decoder", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-euc-kr-decoder" }], "title": "13.1.1. EUC-KR decoder" }], "url": "#euc-kr-decoder" },
                "euc-kr-encoder": { "dfnID": "euc-kr-encoder", "dfnText": "13.1.2. EUC-KR encoder", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-euc-kr-encoder" }], "title": "13.1.2. EUC-KR encoder" }], "url": "#euc-kr-encoder" },
                "euc-kr-lead": { "dfnID": "euc-kr-lead", "dfnText": "EUC-KR leading", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-euc-kr-lead" }, { "id": "ref-for-euc-kr-lead\u2460" }, { "id": "ref-for-euc-kr-lead\u2461" }, { "id": "ref-for-euc-kr-lead\u2462" }, { "id": "ref-for-euc-kr-lead\u2463" }, { "id": "ref-for-euc-kr-lead\u2464" }, { "id": "ref-for-euc-kr-lead\u2465" }], "title": "13.1.1. EUC-KR decoder" }], "url": "#euc-kr-lead" },
                "f14b47b8": { "dfnID": "f14b47b8", "dfnText": "unsigned long long", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-unsigned-long-long" }, { "id": "ref-for-idl-unsigned-long-long\u2460" }], "title": "7.4. Interface TextEncoder" }], "url": "https://webidl.spec.whatwg.org/#idl-unsigned-long-long" },
                "f3fd9d04": { "dfnID": "f3fd9d04", "dfnText": "write", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-arraybufferview-write" }], "title": "7.4. Interface TextEncoder" }], "url": "https://webidl.spec.whatwg.org/#arraybufferview-write" },
                "f5354b9d": { "dfnID": "f5354b9d", "dfnText": "byte", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-byte" }], "title": "3. Terminology" }, { "refs": [{ "id": "ref-for-byte\u2460" }], "title": "4. Encodings" }], "url": "https://infra.spec.whatwg.org/#byte" },
                "f937b7b6": { "dfnID": "f937b7b6", "dfnText": "continue", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-iteration-continue" }], "title": "7.1. Interface mixin TextDecoderCommon" }], "url": "https://infra.spec.whatwg.org/#iteration-continue" },
                "febebe0e": { "dfnID": "febebe0e", "dfnText": "the range", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-the-range" }], "title": "3. Terminology" }], "url": "https://infra.spec.whatwg.org/#the-range" },
                "finished": { "dfnID": "finished", "dfnText": "finished", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-finished" }], "title": "4.1. Encoders and decoders" }, { "refs": [{ "id": "ref-for-finished\u2460" }], "title": "7.2. Interface TextDecoder" }, { "refs": [{ "id": "ref-for-finished\u2461" }, { "id": "ref-for-finished\u2462" }], "title": "7.4. Interface TextEncoder" }, { "refs": [{ "id": "ref-for-finished\u2463" }], "title": "7.5. Interface TextDecoderStream" }, { "refs": [{ "id": "ref-for-finished\u2464" }], "title": "8.1.1. UTF-8 decoder" }, { "refs": [{ "id": "ref-for-finished\u2465" }], "title": "8.1.2. UTF-8 encoder" }, { "refs": [{ "id": "ref-for-finished\u2466" }], "title": "9.1. single-byte decoder" }, { "refs": [{ "id": "ref-for-finished\u2467" }], "title": "9.2. single-byte encoder" }, { "refs": [{ "id": "ref-for-finished\u2468" }], "title": "10.2.1. gb18030 decoder" }, { "refs": [{ "id": "ref-for-finished\u2460\u24ea" }], "title": "10.2.2. gb18030 encoder" }, { "refs": [{ "id": "ref-for-finished\u2460\u2460" }], "title": "11.1.1. Big5 decoder" }, { "refs": [{ "id": "ref-for-finished\u2460\u2461" }], "title": "11.1.2. Big5 encoder" }, { "refs": [{ "id": "ref-for-finished\u2460\u2462" }], "title": "12.1.1. EUC-JP decoder" }, { "refs": [{ "id": "ref-for-finished\u2460\u2463" }], "title": "12.1.2. EUC-JP encoder" }, { "refs": [{ "id": "ref-for-finished\u2460\u2464" }, { "id": "ref-for-finished\u2460\u2465" }, { "id": "ref-for-finished\u2460\u2466" }, { "id": "ref-for-finished\u2460\u2467" }], "title": "12.2.1. ISO-2022-JP decoder" }, { "refs": [{ "id": "ref-for-finished\u2460\u2468" }], "title": "12.2.2. ISO-2022-JP encoder" }, { "refs": [{ "id": "ref-for-finished\u2461\u24ea" }], "title": "12.3.1. Shift_JIS decoder" }, { "refs": [{ "id": "ref-for-finished\u2461\u2460" }], "title": "12.3.2. Shift_JIS encoder" }, { "refs": [{ "id": "ref-for-finished\u2461\u2461" }], "title": "13.1.1. EUC-KR decoder" }, { "refs": [{ "id": "ref-for-finished\u2461\u2462" }], "title": "13.1.2. EUC-KR encoder" }, { "refs": [{ "id": "ref-for-finished\u2461\u2463" }, { "id": "ref-for-finished\u2461\u2464" }], "title": "14.1.1. replacement decoder" }, { "refs": [{ "id": "ref-for-finished\u2461\u2465" }], "title": "14.2.1. shared UTF-16 decoder" }, { "refs": [{ "id": "ref-for-finished\u2461\u2466" }], "title": "14.5.1. x-user-defined decoder" }, { "refs": [{ "id": "ref-for-finished\u2461\u2467" }], "title": "14.5.2. x-user-defined encoder" }], "url": "#finished" },
                "flush-and-enqueue": { "dfnID": "flush-and-enqueue", "dfnText": "flush and enqueue", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-flush-and-enqueue" }], "title": "7.5. Interface TextDecoderStream" }], "url": "#flush-and-enqueue" },
                "from-i-o-queue-convert": { "dfnID": "from-i-o-queue-convert", "dfnText": "convert", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-from-i-o-queue-convert" }], "title": "3. Terminology" }, { "refs": [{ "id": "ref-for-from-i-o-queue-convert\u2460" }], "title": "7.6. Interface TextEncoderStream" }], "url": "#from-i-o-queue-convert" },
                "gb18030": { "dfnID": "gb18030", "dfnText": "10.2. gb18030", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-gb18030" }], "title": "4.2. Names and labels" }, { "refs": [{ "id": "ref-for-gb18030\u2460" }], "title": "10.1.1. GBK decoder" }, { "refs": [{ "id": "ref-for-gb18030\u2461" }, { "id": "ref-for-gb18030\u2462" }], "title": "10.1.2. GBK encoder" }, { "refs": [{ "id": "ref-for-gb18030" }], "title": "10.2. gb18030" }, { "refs": [{ "id": "ref-for-gb18030\u2463" }, { "id": "ref-for-gb18030\u2464" }], "title": "10.2.1. gb18030 decoder" }, { "refs": [{ "id": "ref-for-gb18030\u2465" }, { "id": "ref-for-gb18030\u2466" }], "title": "10.2.2. gb18030 encoder" }, { "refs": [{ "id": "ref-for-gb18030\u2467" }, { "id": "ref-for-gb18030\u2468" }, { "id": "ref-for-gb18030\u2460\u24ea" }], "title": "Implementation considerations" }], "url": "#gb18030" },
                "gb18030-decoder": { "dfnID": "gb18030-decoder", "dfnText": "10.2.1. gb18030 decoder", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-gb18030-decoder" }], "title": "2. Security background" }, { "refs": [{ "id": "ref-for-gb18030-decoder" }], "title": "10.2.1. gb18030 decoder" }], "url": "#gb18030-decoder" },
                "gb18030-encoder": { "dfnID": "gb18030-encoder", "dfnText": "10.2.2. gb18030 encoder", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-gb18030-encoder" }], "title": "5. Indexes" }, { "refs": [{ "id": "ref-for-gb18030-encoder" }], "title": "10.2.2. gb18030 encoder" }], "url": "#gb18030-encoder" },
                "gb18030-first": { "dfnID": "gb18030-first", "dfnText": "gb18030 first", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-gb18030-first" }, { "id": "ref-for-gb18030-first\u2460" }, { "id": "ref-for-gb18030-first\u2461" }, { "id": "ref-for-gb18030-first\u2462" }, { "id": "ref-for-gb18030-first\u2463" }, { "id": "ref-for-gb18030-first\u2464" }, { "id": "ref-for-gb18030-first\u2465" }, { "id": "ref-for-gb18030-first\u2466" }, { "id": "ref-for-gb18030-first\u2467" }, { "id": "ref-for-gb18030-first\u2468" }, { "id": "ref-for-gb18030-first\u2460\u24ea" }], "title": "10.2.1. gb18030 decoder" }, { "refs": [{ "id": "ref-for-gb18030-first\u2460\u2460" }], "title": "Implementation considerations" }], "url": "#gb18030-first" },
                "gb18030-second": { "dfnID": "gb18030-second", "dfnText": "gb18030 second", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-gb18030-second" }, { "id": "ref-for-gb18030-second\u2460" }, { "id": "ref-for-gb18030-second\u2461" }, { "id": "ref-for-gb18030-second\u2462" }, { "id": "ref-for-gb18030-second\u2463" }, { "id": "ref-for-gb18030-second\u2464" }, { "id": "ref-for-gb18030-second\u2465" }, { "id": "ref-for-gb18030-second\u2466" }, { "id": "ref-for-gb18030-second\u2467" }, { "id": "ref-for-gb18030-second\u2468" }, { "id": "ref-for-gb18030-second\u2460\u24ea" }], "title": "10.2.1. gb18030 decoder" }, { "refs": [{ "id": "ref-for-gb18030-second\u2460\u2460" }], "title": "Implementation considerations" }], "url": "#gb18030-second" },
                "gb18030-third": { "dfnID": "gb18030-third", "dfnText": "gb18030 third", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-gb18030-third" }, { "id": "ref-for-gb18030-third\u2460" }, { "id": "ref-for-gb18030-third\u2461" }, { "id": "ref-for-gb18030-third\u2462" }, { "id": "ref-for-gb18030-third\u2463" }, { "id": "ref-for-gb18030-third\u2464" }, { "id": "ref-for-gb18030-third\u2465" }, { "id": "ref-for-gb18030-third\u2466" }, { "id": "ref-for-gb18030-third\u2467" }], "title": "10.2.1. gb18030 decoder" }, { "refs": [{ "id": "ref-for-gb18030-third\u2468" }, { "id": "ref-for-gb18030-third\u2460\u24ea" }], "title": "Implementation considerations" }], "url": "#gb18030-third" },
                "gbk": { "dfnID": "gbk", "dfnText": "10.1. GBK", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-gbk" }], "title": "4.2. Names and labels" }, { "refs": [{ "id": "ref-for-gbk" }], "title": "10.1. GBK" }, { "refs": [{ "id": "ref-for-gbk\u2460" }], "title": "10.1.1. GBK decoder" }, { "refs": [{ "id": "ref-for-gbk\u2461" }, { "id": "ref-for-gbk\u2462" }, { "id": "ref-for-gbk\u2463" }], "title": "10.1.2. GBK encoder" }], "url": "#gbk" },
                "gbk-decoder": { "dfnID": "gbk-decoder", "dfnText": "10.1.1. GBK decoder", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-gbk-decoder" }], "title": "10.1.1. GBK decoder" }], "url": "#gbk-decoder" },
                "gbk-encoder": { "dfnID": "gbk-encoder", "dfnText": "10.1.2. GBK encoder", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-gbk-encoder" }], "title": "10.1.2. GBK encoder" }], "url": "#gbk-encoder" },
                "gbk-flag": { "dfnID": "gbk-flag", "dfnText": "is GBK", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-gbk-flag" }], "title": "10.1.2. GBK encoder" }, { "refs": [{ "id": "ref-for-gbk-flag\u2460" }, { "id": "ref-for-gbk-flag\u2461" }], "title": "10.2.2. gb18030 encoder" }], "url": "#gbk-flag" },
                "get-an-encoder": { "dfnID": "get-an-encoder", "dfnText": "get an encoder", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-get-an-encoder" }, { "id": "ref-for-get-an-encoder\u2460" }], "title": "6.1. Legacy hooks for standards" }], "url": "#get-an-encoder" },
                "get-an-output-encoding": { "dfnID": "get-an-output-encoding", "dfnText": "get an output encoding", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-get-an-output-encoding" }], "title": "4.3. Output encodings" }, { "refs": [{ "id": "ref-for-get-an-output-encoding\u2460" }], "title": "6.1. Legacy hooks for standards" }], "url": "#get-an-output-encoding" },
                "handler": { "dfnID": "handler", "dfnText": "handler", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-handler" }, { "id": "ref-for-handler\u2460" }], "title": "4.1. Encoders and decoders" }, { "refs": [{ "id": "ref-for-handler\u2461" }, { "id": "ref-for-handler\u2462" }], "title": "7.4. Interface TextEncoder" }, { "refs": [{ "id": "ref-for-handler\u2463" }], "title": "8.1.1. UTF-8 decoder" }, { "refs": [{ "id": "ref-for-handler\u2464" }], "title": "8.1.2. UTF-8 encoder" }, { "refs": [{ "id": "ref-for-handler\u2465" }], "title": "9.1. single-byte decoder" }, { "refs": [{ "id": "ref-for-handler\u2466" }], "title": "9.2. single-byte encoder" }, { "refs": [{ "id": "ref-for-handler\u2467" }], "title": "10.2.1. gb18030 decoder" }, { "refs": [{ "id": "ref-for-handler\u2468" }], "title": "10.2.2. gb18030 encoder" }, { "refs": [{ "id": "ref-for-handler\u2460\u24ea" }], "title": "11.1.1. Big5 decoder" }, { "refs": [{ "id": "ref-for-handler\u2460\u2460" }], "title": "11.1.2. Big5 encoder" }, { "refs": [{ "id": "ref-for-handler\u2460\u2461" }], "title": "12.1.1. EUC-JP decoder" }, { "refs": [{ "id": "ref-for-handler\u2460\u2462" }], "title": "12.1.2. EUC-JP encoder" }, { "refs": [{ "id": "ref-for-handler\u2460\u2463" }], "title": "12.2.1. ISO-2022-JP decoder" }, { "refs": [{ "id": "ref-for-handler\u2460\u2464" }], "title": "12.2.2. ISO-2022-JP encoder" }, { "refs": [{ "id": "ref-for-handler\u2460\u2465" }], "title": "12.3.1. Shift_JIS decoder" }, { "refs": [{ "id": "ref-for-handler\u2460\u2466" }], "title": "12.3.2. Shift_JIS encoder" }, { "refs": [{ "id": "ref-for-handler\u2460\u2467" }], "title": "13.1.1. EUC-KR decoder" }, { "refs": [{ "id": "ref-for-handler\u2460\u2468" }], "title": "13.1.2. EUC-KR encoder" }, { "refs": [{ "id": "ref-for-handler\u2461\u24ea" }], "title": "14.1.1. replacement decoder" }, { "refs": [{ "id": "ref-for-handler\u2461\u2460" }], "title": "14.2.1. shared UTF-16 decoder" }, { "refs": [{ "id": "ref-for-handler\u2461\u2461" }], "title": "14.5.1. x-user-defined decoder" }, { "refs": [{ "id": "ref-for-handler\u2461\u2462" }], "title": "14.5.2. x-user-defined encoder" }], "url": "#handler" },
                "i-o-queue-peek": { "dfnID": "i-o-queue-peek", "dfnText": "peek", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-i-o-queue-peek" }], "title": "6. Hooks for standards" }, { "refs": [{ "id": "ref-for-i-o-queue-peek\u2460" }], "title": "6.1. Legacy hooks for standards" }], "url": "#i-o-queue-peek" },
                "ibm866": { "dfnID": "ibm866", "dfnText": "IBM866", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-ibm866" }, { "id": "ref-for-ibm866\u2460" }], "title": "4.2. Names and labels" }], "url": "#ibm866" },
                "index": { "dfnID": "index", "dfnText": "index", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-index" }, { "id": "ref-for-index\u2460" }, { "id": "ref-for-index\u2461" }, { "id": "ref-for-index\u2462" }, { "id": "ref-for-index\u2463" }, { "id": "ref-for-index\u2464" }, { "id": "ref-for-index\u2465" }, { "id": "ref-for-index\u2466" }, { "id": "ref-for-index\u2467" }, { "id": "ref-for-index\u2468" }, { "id": "ref-for-index\u2460\u24ea" }], "title": "5. Indexes" }, { "refs": [{ "id": "ref-for-index\u2460\u2460" }], "title": "9. Legacy single-byte encodings" }, { "refs": [{ "id": "ref-for-index\u2460\u2461" }], "title": "11.1.1. Big5 decoder" }], "url": "#index" },
                "index-big5": { "dfnID": "index-big5", "dfnText": "index Big5", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-index-big5" }], "title": "5. Indexes" }, { "refs": [{ "id": "ref-for-index-big5\u2460" }], "title": "11.1.1. Big5 decoder" }], "url": "#index-big5" },
                "index-big5-pointer": { "dfnID": "index-big5-pointer", "dfnText": "index Big5 pointer", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-index-big5-pointer" }], "title": "11.1.2. Big5 encoder" }], "url": "#index-big5-pointer" },
                "index-code-point": { "dfnID": "index-code-point", "dfnText": "index code point", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-index-code-point" }], "title": "9.1. single-byte decoder" }, { "refs": [{ "id": "ref-for-index-code-point\u2460" }], "title": "10.2.1. gb18030 decoder" }, { "refs": [{ "id": "ref-for-index-code-point\u2461" }], "title": "11.1.1. Big5 decoder" }, { "refs": [{ "id": "ref-for-index-code-point\u2462" }], "title": "12.1.1. EUC-JP decoder" }, { "refs": [{ "id": "ref-for-index-code-point\u2463" }], "title": "12.2.1. ISO-2022-JP decoder" }, { "refs": [{ "id": "ref-for-index-code-point\u2464" }], "title": "12.2.2. ISO-2022-JP encoder" }, { "refs": [{ "id": "ref-for-index-code-point\u2465" }], "title": "12.3.1. Shift_JIS decoder" }, { "refs": [{ "id": "ref-for-index-code-point\u2466" }], "title": "13.1.1. EUC-KR decoder" }], "url": "#index-code-point" },
                "index-euc-kr": { "dfnID": "index-euc-kr", "dfnText": "index EUC-KR", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-index-euc-kr" }], "title": "13.1.1. EUC-KR decoder" }, { "refs": [{ "id": "ref-for-index-euc-kr\u2460" }], "title": "13.1.2. EUC-KR encoder" }], "url": "#index-euc-kr" },
                "index-gb18030": { "dfnID": "index-gb18030", "dfnText": "index gb18030", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-index-gb18030" }], "title": "10.2.1. gb18030 decoder" }, { "refs": [{ "id": "ref-for-index-gb18030\u2460" }, { "id": "ref-for-index-gb18030\u2461" }], "title": "10.2.2. gb18030 encoder" }], "url": "#index-gb18030" },
                "index-gb18030-ranges": { "dfnID": "index-gb18030-ranges", "dfnText": "index gb18030 ranges", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-index-gb18030-ranges" }, { "id": "ref-for-index-gb18030-ranges\u2460" }, { "id": "ref-for-index-gb18030-ranges\u2461" }, { "id": "ref-for-index-gb18030-ranges\u2462" }, { "id": "ref-for-index-gb18030-ranges\u2463" }], "title": "5. Indexes" }, { "refs": [{ "id": "ref-for-index-gb18030-ranges\u2464" }], "title": "10.2.2. gb18030 encoder" }], "url": "#index-gb18030-ranges" },
                "index-gb18030-ranges-code-point": { "dfnID": "index-gb18030-ranges-code-point", "dfnText": "index gb18030 ranges code point", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-index-gb18030-ranges-code-point" }], "title": "5. Indexes" }, { "refs": [{ "id": "ref-for-index-gb18030-ranges-code-point\u2460" }], "title": "10.2.1. gb18030 decoder" }], "url": "#index-gb18030-ranges-code-point" },
                "index-gb18030-ranges-pointer": { "dfnID": "index-gb18030-ranges-pointer", "dfnText": "index gb18030 ranges pointer", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-index-gb18030-ranges-pointer" }], "title": "5. Indexes" }, { "refs": [{ "id": "ref-for-index-gb18030-ranges-pointer\u2460" }], "title": "10.2.2. gb18030 encoder" }], "url": "#index-gb18030-ranges-pointer" },
                "index-iso-2022-jp-katakana": { "dfnID": "index-iso-2022-jp-katakana", "dfnText": "index ISO-2022-JP katakana", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-index-iso-2022-jp-katakana" }, { "id": "ref-for-index-iso-2022-jp-katakana\u2460" }], "title": "5. Indexes" }, { "refs": [{ "id": "ref-for-index-iso-2022-jp-katakana\u2461" }], "title": "12.2.2. ISO-2022-JP encoder" }], "url": "#index-iso-2022-jp-katakana" },
                "index-jis0208": { "dfnID": "index-jis0208", "dfnText": "index jis0208", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-index-jis0208" }, { "id": "ref-for-index-jis0208\u2460" }, { "id": "ref-for-index-jis0208\u2461" }], "title": "5. Indexes" }, { "refs": [{ "id": "ref-for-index-jis0208\u2462" }], "title": "12.1.1. EUC-JP decoder" }, { "refs": [{ "id": "ref-for-index-jis0208\u2463" }, { "id": "ref-for-index-jis0208\u2464" }], "title": "12.1.2. EUC-JP encoder" }, { "refs": [{ "id": "ref-for-index-jis0208\u2465" }], "title": "12.2.1. ISO-2022-JP decoder" }, { "refs": [{ "id": "ref-for-index-jis0208\u2466" }, { "id": "ref-for-index-jis0208\u2467" }], "title": "12.2.2. ISO-2022-JP encoder" }, { "refs": [{ "id": "ref-for-index-jis0208\u2468" }], "title": "12.3.1. Shift_JIS decoder" }], "url": "#index-jis0208" },
                "index-jis0212": { "dfnID": "index-jis0212", "dfnText": "index jis0212", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-index-jis0212" }], "title": "12.1.1. EUC-JP decoder" }], "url": "#index-jis0212" },
                "index-pointer": { "dfnID": "index-pointer", "dfnText": "index pointer", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-index-pointer" }, { "id": "ref-for-index-pointer\u2460" }], "title": "5. Indexes" }, { "refs": [{ "id": "ref-for-index-pointer\u2461" }], "title": "9.2. single-byte encoder" }, { "refs": [{ "id": "ref-for-index-pointer\u2462" }], "title": "10.2.2. gb18030 encoder" }, { "refs": [{ "id": "ref-for-index-pointer\u2463" }, { "id": "ref-for-index-pointer\u2464" }], "title": "12.1.2. EUC-JP encoder" }, { "refs": [{ "id": "ref-for-index-pointer\u2465" }, { "id": "ref-for-index-pointer\u2466" }], "title": "12.2.2. ISO-2022-JP encoder" }, { "refs": [{ "id": "ref-for-index-pointer\u2467" }], "title": "13.1.2. EUC-KR encoder" }], "url": "#index-pointer" },
                "index-shift_jis-pointer": { "dfnID": "index-shift_jis-pointer", "dfnText": "index Shift_JIS pointer", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-index-shift_jis-pointer" }], "title": "12.3.2. Shift_JIS encoder" }], "url": "#index-shift_jis-pointer" },
                "index-single-byte": { "dfnID": "index-single-byte", "dfnText": "Index single-byte", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-index-single-byte" }], "title": "5. Indexes" }, { "refs": [{ "id": "ref-for-index-single-byte\u2460" }], "title": "9.1. single-byte decoder" }, { "refs": [{ "id": "ref-for-index-single-byte\u2461" }], "title": "9.2. single-byte encoder" }], "url": "#index-single-byte" },
                "iso-2022-jp": { "dfnID": "iso-2022-jp", "dfnText": "12.2. ISO-2022-JP", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-iso-2022-jp" }], "title": "2. Security background" }, { "refs": [{ "id": "ref-for-iso-2022-jp\u2460" }], "title": "4.2. Names and labels" }, { "refs": [{ "id": "ref-for-iso-2022-jp" }], "title": "12.2. ISO-2022-JP" }, { "refs": [{ "id": "ref-for-iso-2022-jp\u2461" }, { "id": "ref-for-iso-2022-jp\u2462" }], "title": "12.2.1. ISO-2022-JP decoder" }, { "refs": [{ "id": "ref-for-iso-2022-jp\u2463" }, { "id": "ref-for-iso-2022-jp\u2464" }], "title": "12.2.2. ISO-2022-JP encoder" }, { "refs": [{ "id": "ref-for-iso-2022-jp\u2465" }], "title": "Implementation considerations" }], "url": "#iso-2022-jp" },
                "iso-2022-jp-decoder": { "dfnID": "iso-2022-jp-decoder", "dfnText": "12.2.1. ISO-2022-JP decoder", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-iso-2022-jp-decoder" }], "title": "12.2.1. ISO-2022-JP decoder" }], "url": "#iso-2022-jp-decoder" },
                "iso-2022-jp-decoder-ascii": { "dfnID": "iso-2022-jp-decoder-ascii", "dfnText": "ASCII", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-iso-2022-jp-decoder-ascii" }, { "id": "ref-for-iso-2022-jp-decoder-ascii\u2460" }, { "id": "ref-for-iso-2022-jp-decoder-ascii\u2461" }], "title": "12.2.1. ISO-2022-JP decoder" }], "url": "#iso-2022-jp-decoder-ascii" },
                "iso-2022-jp-decoder-escape": { "dfnID": "iso-2022-jp-decoder-escape", "dfnText": "Escape", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-iso-2022-jp-decoder-escape" }], "title": "12.2.1. ISO-2022-JP decoder" }], "url": "#iso-2022-jp-decoder-escape" },
                "iso-2022-jp-decoder-escape-start": { "dfnID": "iso-2022-jp-decoder-escape-start", "dfnText": "Escape start", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-iso-2022-jp-decoder-escape-start" }, { "id": "ref-for-iso-2022-jp-decoder-escape-start\u2460" }, { "id": "ref-for-iso-2022-jp-decoder-escape-start\u2461" }, { "id": "ref-for-iso-2022-jp-decoder-escape-start\u2462" }, { "id": "ref-for-iso-2022-jp-decoder-escape-start\u2463" }], "title": "12.2.1. ISO-2022-JP decoder" }], "url": "#iso-2022-jp-decoder-escape-start" },
                "iso-2022-jp-decoder-katakana": { "dfnID": "iso-2022-jp-decoder-katakana", "dfnText": "katakana", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-iso-2022-jp-decoder-katakana" }], "title": "12.2.1. ISO-2022-JP decoder" }], "url": "#iso-2022-jp-decoder-katakana" },
                "iso-2022-jp-decoder-lead-byte": { "dfnID": "iso-2022-jp-decoder-lead-byte", "dfnText": "Leading byte", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-iso-2022-jp-decoder-lead-byte" }, { "id": "ref-for-iso-2022-jp-decoder-lead-byte\u2460" }, { "id": "ref-for-iso-2022-jp-decoder-lead-byte\u2461" }, { "id": "ref-for-iso-2022-jp-decoder-lead-byte\u2462" }], "title": "12.2.1. ISO-2022-JP decoder" }], "url": "#iso-2022-jp-decoder-lead-byte" },
                "iso-2022-jp-decoder-output-state": { "dfnID": "iso-2022-jp-decoder-output-state", "dfnText": "ISO-2022-JP decoder output state", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-iso-2022-jp-decoder-output-state" }, { "id": "ref-for-iso-2022-jp-decoder-output-state\u2460" }, { "id": "ref-for-iso-2022-jp-decoder-output-state\u2461" }], "title": "12.2.1. ISO-2022-JP decoder" }], "url": "#iso-2022-jp-decoder-output-state" },
                "iso-2022-jp-decoder-roman": { "dfnID": "iso-2022-jp-decoder-roman", "dfnText": "Roman", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-iso-2022-jp-decoder-roman" }], "title": "6.1. Legacy hooks for standards" }, { "refs": [{ "id": "ref-for-iso-2022-jp-decoder-roman\u2460" }], "title": "12.2.1. ISO-2022-JP decoder" }], "url": "#iso-2022-jp-decoder-roman" },
                "iso-2022-jp-decoder-state": { "dfnID": "iso-2022-jp-decoder-state", "dfnText": "ISO-2022-JP decoder state", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-iso-2022-jp-decoder-state" }, { "id": "ref-for-iso-2022-jp-decoder-state\u2460" }, { "id": "ref-for-iso-2022-jp-decoder-state\u2461" }, { "id": "ref-for-iso-2022-jp-decoder-state\u2462" }, { "id": "ref-for-iso-2022-jp-decoder-state\u2463" }, { "id": "ref-for-iso-2022-jp-decoder-state\u2464" }, { "id": "ref-for-iso-2022-jp-decoder-state\u2465" }, { "id": "ref-for-iso-2022-jp-decoder-state\u2466" }, { "id": "ref-for-iso-2022-jp-decoder-state\u2467" }, { "id": "ref-for-iso-2022-jp-decoder-state\u2468" }, { "id": "ref-for-iso-2022-jp-decoder-state\u2460\u24ea" }, { "id": "ref-for-iso-2022-jp-decoder-state\u2460\u2460" }, { "id": "ref-for-iso-2022-jp-decoder-state\u2460\u2461" }, { "id": "ref-for-iso-2022-jp-decoder-state\u2460\u2462" }], "title": "12.2.1. ISO-2022-JP decoder" }], "url": "#iso-2022-jp-decoder-state" },
                "iso-2022-jp-decoder-trail-byte": { "dfnID": "iso-2022-jp-decoder-trail-byte", "dfnText": "Trailing byte", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-iso-2022-jp-decoder-trail-byte" }], "title": "12.2.1. ISO-2022-JP decoder" }], "url": "#iso-2022-jp-decoder-trail-byte" },
                "iso-2022-jp-encoder": { "dfnID": "iso-2022-jp-encoder", "dfnText": "12.2.2. ISO-2022-JP encoder", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-iso-2022-jp-encoder" }], "title": "5. Indexes" }, { "refs": [{ "id": "ref-for-iso-2022-jp-encoder\u2460" }, { "id": "ref-for-iso-2022-jp-encoder\u2461" }, { "id": "ref-for-iso-2022-jp-encoder\u2462" }], "title": "6.1. Legacy hooks for standards" }, { "refs": [{ "id": "ref-for-iso-2022-jp-encoder" }, { "id": "ref-for-iso-2022-jp-encoder\u2463" }], "title": "12.2.2. ISO-2022-JP encoder" }, { "refs": [{ "id": "ref-for-iso-2022-jp-encoder\u2464" }], "title": "Implementation considerations" }], "url": "#iso-2022-jp-encoder" },
                "iso-2022-jp-encoder-ascii": { "dfnID": "iso-2022-jp-encoder-ascii", "dfnText": "ASCII", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-iso-2022-jp-encoder-ascii" }, { "id": "ref-for-iso-2022-jp-encoder-ascii\u2460" }, { "id": "ref-for-iso-2022-jp-encoder-ascii\u2461" }, { "id": "ref-for-iso-2022-jp-encoder-ascii\u2462" }, { "id": "ref-for-iso-2022-jp-encoder-ascii\u2463" }, { "id": "ref-for-iso-2022-jp-encoder-ascii\u2464" }, { "id": "ref-for-iso-2022-jp-encoder-ascii\u2465" }, { "id": "ref-for-iso-2022-jp-encoder-ascii\u2466" }, { "id": "ref-for-iso-2022-jp-encoder-ascii\u2467" }], "title": "12.2.2. ISO-2022-JP encoder" }], "url": "#iso-2022-jp-encoder-ascii" },
                "iso-2022-jp-encoder-jis0208": { "dfnID": "iso-2022-jp-encoder-jis0208", "dfnText": "jis0208", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-iso-2022-jp-encoder-jis0208" }, { "id": "ref-for-iso-2022-jp-encoder-jis0208\u2460" }, { "id": "ref-for-iso-2022-jp-encoder-jis0208\u2461" }], "title": "12.2.2. ISO-2022-JP encoder" }], "url": "#iso-2022-jp-encoder-jis0208" },
                "iso-2022-jp-encoder-roman": { "dfnID": "iso-2022-jp-encoder-roman", "dfnText": "Roman", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-iso-2022-jp-encoder-roman" }, { "id": "ref-for-iso-2022-jp-encoder-roman\u2460" }, { "id": "ref-for-iso-2022-jp-encoder-roman\u2461" }, { "id": "ref-for-iso-2022-jp-encoder-roman\u2462" }], "title": "12.2.2. ISO-2022-JP encoder" }], "url": "#iso-2022-jp-encoder-roman" },
                "iso-2022-jp-encoder-state": { "dfnID": "iso-2022-jp-encoder-state", "dfnText": "ISO-2022-JP encoder state", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-iso-2022-jp-encoder-state" }, { "id": "ref-for-iso-2022-jp-encoder-state\u2460" }, { "id": "ref-for-iso-2022-jp-encoder-state\u2461" }, { "id": "ref-for-iso-2022-jp-encoder-state\u2462" }, { "id": "ref-for-iso-2022-jp-encoder-state\u2463" }, { "id": "ref-for-iso-2022-jp-encoder-state\u2464" }, { "id": "ref-for-iso-2022-jp-encoder-state\u2465" }, { "id": "ref-for-iso-2022-jp-encoder-state\u2466" }, { "id": "ref-for-iso-2022-jp-encoder-state\u2467" }, { "id": "ref-for-iso-2022-jp-encoder-state\u2468" }, { "id": "ref-for-iso-2022-jp-encoder-state\u2460\u24ea" }, { "id": "ref-for-iso-2022-jp-encoder-state\u2460\u2460" }, { "id": "ref-for-iso-2022-jp-encoder-state\u2460\u2461" }, { "id": "ref-for-iso-2022-jp-encoder-state\u2460\u2462" }], "title": "12.2.2. ISO-2022-JP encoder" }, { "refs": [{ "id": "ref-for-iso-2022-jp-encoder-state\u2460\u2463" }], "title": "Implementation considerations" }], "url": "#iso-2022-jp-encoder-state" },
                "iso-2022-jp-lead": { "dfnID": "iso-2022-jp-lead", "dfnText": "ISO-2022-JP leading", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-iso-2022-jp-lead" }, { "id": "ref-for-iso-2022-jp-lead\u2460" }, { "id": "ref-for-iso-2022-jp-lead\u2461" }, { "id": "ref-for-iso-2022-jp-lead\u2462" }, { "id": "ref-for-iso-2022-jp-lead\u2463" }], "title": "12.2.1. ISO-2022-JP decoder" }], "url": "#iso-2022-jp-lead" },
                "iso-2022-jp-output-flag": { "dfnID": "iso-2022-jp-output-flag", "dfnText": "ISO-2022-JP output", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-iso-2022-jp-output-flag" }, { "id": "ref-for-iso-2022-jp-output-flag\u2460" }, { "id": "ref-for-iso-2022-jp-output-flag\u2461" }, { "id": "ref-for-iso-2022-jp-output-flag\u2462" }, { "id": "ref-for-iso-2022-jp-output-flag\u2463" }, { "id": "ref-for-iso-2022-jp-output-flag\u2464" }, { "id": "ref-for-iso-2022-jp-output-flag\u2465" }, { "id": "ref-for-iso-2022-jp-output-flag\u2466" }, { "id": "ref-for-iso-2022-jp-output-flag\u2467" }, { "id": "ref-for-iso-2022-jp-output-flag\u2468" }, { "id": "ref-for-iso-2022-jp-output-flag\u2460\u24ea" }, { "id": "ref-for-iso-2022-jp-output-flag\u2460\u2460" }, { "id": "ref-for-iso-2022-jp-output-flag\u2460\u2461" }, { "id": "ref-for-iso-2022-jp-output-flag\u2460\u2462" }], "title": "12.2.1. ISO-2022-JP decoder" }], "url": "#iso-2022-jp-output-flag" },
                "iso-8859-10": { "dfnID": "iso-8859-10", "dfnText": "ISO-8859-10", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-iso-8859-10" }, { "id": "ref-for-iso-8859-10\u2460" }], "title": "4.2. Names and labels" }], "url": "#iso-8859-10" },
                "iso-8859-13": { "dfnID": "iso-8859-13", "dfnText": "ISO-8859-13", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-iso-8859-13" }], "title": "4.2. Names and labels" }], "url": "#iso-8859-13" },
                "iso-8859-14": { "dfnID": "iso-8859-14", "dfnText": "ISO-8859-14", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-iso-8859-14" }, { "id": "ref-for-iso-8859-14\u2460" }], "title": "4.2. Names and labels" }], "url": "#iso-8859-14" },
                "iso-8859-15": { "dfnID": "iso-8859-15", "dfnText": "ISO-8859-15", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-iso-8859-15" }], "title": "4.2. Names and labels" }], "url": "#iso-8859-15" },
                "iso-8859-16": { "dfnID": "iso-8859-16", "dfnText": "ISO-8859-16", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-iso-8859-16" }, { "id": "ref-for-iso-8859-16\u2460" }], "title": "4.2. Names and labels" }], "url": "#iso-8859-16" },
                "iso-8859-2": { "dfnID": "iso-8859-2", "dfnText": "ISO-8859-2", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-iso-8859-2" }], "title": "4.2. Names and labels" }], "url": "#iso-8859-2" },
                "iso-8859-3": { "dfnID": "iso-8859-3", "dfnText": "ISO-8859-3", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-iso-8859-3" }, { "id": "ref-for-iso-8859-3\u2460" }], "title": "4.2. Names and labels" }], "url": "#iso-8859-3" },
                "iso-8859-4": { "dfnID": "iso-8859-4", "dfnText": "ISO-8859-4", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-iso-8859-4" }], "title": "4.2. Names and labels" }], "url": "#iso-8859-4" },
                "iso-8859-5": { "dfnID": "iso-8859-5", "dfnText": "ISO-8859-5", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-iso-8859-5" }], "title": "4.2. Names and labels" }], "url": "#iso-8859-5" },
                "iso-8859-6": { "dfnID": "iso-8859-6", "dfnText": "ISO-8859-6", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-iso-8859-6" }], "title": "4.2. Names and labels" }, { "refs": [{ "id": "ref-for-iso-8859-6\u2460" }], "title": "9. Legacy single-byte encodings" }], "url": "#iso-8859-6" },
                "iso-8859-7": { "dfnID": "iso-8859-7", "dfnText": "ISO-8859-7", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-iso-8859-7" }], "title": "4.2. Names and labels" }], "url": "#iso-8859-7" },
                "iso-8859-8": { "dfnID": "iso-8859-8", "dfnText": "ISO-8859-8", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-iso-8859-8" }], "title": "4.2. Names and labels" }, { "refs": [{ "id": "ref-for-iso-8859-8\u2460" }, { "id": "ref-for-iso-8859-8\u2461" }], "title": "9. Legacy single-byte encodings" }], "url": "#iso-8859-8" },
                "iso-8859-8-i": { "dfnID": "iso-8859-8-i", "dfnText": "ISO-8859-8-I", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-iso-8859-8-i" }], "title": "4.2. Names and labels" }, { "refs": [{ "id": "ref-for-iso-8859-8-i\u2460" }], "title": "9. Legacy single-byte encodings" }], "url": "#iso-8859-8-i" },
                "koi8-r": { "dfnID": "koi8-r", "dfnText": "KOI8-R", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-koi8-r" }], "title": "4.2. Names and labels" }], "url": "#koi8-r" },
                "koi8-u": { "dfnID": "koi8-u", "dfnText": "KOI8-U", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-koi8-u" }], "title": "4.2. Names and labels" }], "url": "#koi8-u" },
                "label": { "dfnID": "label", "dfnText": "labels", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-label" }, { "id": "ref-for-label\u2460" }, { "id": "ref-for-label\u2461" }, { "id": "ref-for-label\u2462" }, { "id": "ref-for-label\u2463" }, { "id": "ref-for-label\u2464" }, { "id": "ref-for-label\u2465" }], "title": "4.2. Names and labels" }, { "refs": [{ "id": "ref-for-label\u2466" }], "title": "7.2. Interface TextDecoder" }, { "refs": [{ "id": "ref-for-label\u2467" }], "title": "7.5. Interface TextDecoderStream" }, { "refs": [{ "id": "ref-for-label\u2468" }], "title": "14.4. UTF-16LE" }], "url": "#label" },
                "macintosh": { "dfnID": "macintosh", "dfnText": "macintosh", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-macintosh" }, { "id": "ref-for-macintosh\u2460" }], "title": "4.2. Names and labels" }], "url": "#macintosh" },
                "name": { "dfnID": "name", "dfnText": "name", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-name" }, { "id": "ref-for-name\u2460" }], "title": "4.2. Names and labels" }, { "refs": [{ "id": "ref-for-name\u2461" }], "title": "7.1. Interface mixin TextDecoderCommon" }, { "refs": [{ "id": "ref-for-name\u2462" }], "title": "7.2. Interface TextDecoder" }, { "refs": [{ "id": "ref-for-name\u2463" }], "title": "7.5. Interface TextDecoderStream" }, { "refs": [{ "id": "ref-for-name\u2464" }], "title": "9. Legacy single-byte encodings" }], "url": "#name" },
                "replacement": { "dfnID": "replacement", "dfnText": "14.1. replacement", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-replacement" }], "title": "2. Security background" }, { "refs": [{ "id": "ref-for-replacement\u2460" }], "title": "4.1. Encoders and decoders" }, { "refs": [{ "id": "ref-for-replacement\u2461" }], "title": "4.2. Names and labels" }, { "refs": [{ "id": "ref-for-replacement\u2462" }], "title": "4.3. Output encodings" }, { "refs": [{ "id": "ref-for-replacement\u2463" }], "title": "6.1. Legacy hooks for standards" }, { "refs": [{ "id": "ref-for-replacement\u2464" }, { "id": "ref-for-replacement\u2465" }], "title": "7.2. Interface TextDecoder" }, { "refs": [{ "id": "ref-for-replacement\u2466" }, { "id": "ref-for-replacement\u2467" }], "title": "7.5. Interface TextDecoderStream" }, { "refs": [{ "id": "ref-for-replacement" }, { "id": "ref-for-replacement\u2468" }], "title": "14.1. replacement" }, { "refs": [{ "id": "ref-for-replacement\u2460\u24ea" }, { "id": "ref-for-replacement\u2460\u2460" }], "title": "14.1.1. replacement decoder" }], "url": "#replacement" },
                "replacement-decoder": { "dfnID": "replacement-decoder", "dfnText": "14.1.1. replacement decoder", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-replacement-decoder" }], "title": "14.1.1. replacement decoder" }], "url": "#replacement-decoder" },
                "replacement-error-returned-flag": { "dfnID": "replacement-error-returned-flag", "dfnText": "replacement error returned", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-replacement-error-returned-flag" }, { "id": "ref-for-replacement-error-returned-flag\u2460" }], "title": "14.1.1. replacement decoder" }], "url": "#replacement-error-returned-flag" },
                "scalar-value-from-surrogates": { "dfnID": "scalar-value-from-surrogates", "dfnText": "scalar value from surrogates", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-scalar-value-from-surrogates" }], "title": "7.6. Interface TextEncoderStream" }, { "refs": [{ "id": "ref-for-scalar-value-from-surrogates\u2460" }], "title": "14.2.1. shared UTF-16 decoder" }], "url": "#scalar-value-from-surrogates" },
                "shared-utf-16-decoder": { "dfnID": "shared-utf-16-decoder", "dfnText": "14.2.1. shared UTF-16 decoder", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-shared-utf-16-decoder" }, { "id": "ref-for-shared-utf-16-decoder" }, { "id": "ref-for-shared-utf-16-decoder\u2460" }, { "id": "ref-for-shared-utf-16-decoder\u2461" }], "title": "14.2.1. shared UTF-16 decoder" }, { "refs": [{ "id": "ref-for-shared-utf-16-decoder\u2462" }], "title": "14.3.1. UTF-16BE decoder" }, { "refs": [{ "id": "ref-for-shared-utf-16-decoder\u2463" }], "title": "14.4.1. UTF-16LE decoder" }], "url": "#shared-utf-16-decoder" },
                "shift_jis": { "dfnID": "shift_jis", "dfnText": "12.3. Shift_JIS", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-shift_jis" }], "title": "2. Security background" }, { "refs": [{ "id": "ref-for-shift_jis\u2460" }], "title": "4.2. Names and labels" }, { "refs": [{ "id": "ref-for-shift_jis\u2461" }], "title": "5. Indexes" }, { "refs": [{ "id": "ref-for-shift_jis" }], "title": "12.3. Shift_JIS" }, { "refs": [{ "id": "ref-for-shift_jis\u2462" }, { "id": "ref-for-shift_jis\u2463" }], "title": "12.3.1. Shift_JIS decoder" }, { "refs": [{ "id": "ref-for-shift_jis\u2464" }], "title": "12.3.2. Shift_JIS encoder" }], "url": "#shift_jis" },
                "shift_jis-decoder": { "dfnID": "shift_jis-decoder", "dfnText": "12.3.1. Shift_JIS decoder", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-shift_jis-decoder" }], "title": "12.3.1. Shift_JIS decoder" }], "url": "#shift_jis-decoder" },
                "shift_jis-encoder": { "dfnID": "shift_jis-encoder", "dfnText": "12.3.2. Shift_JIS encoder", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-shift_jis-encoder" }], "title": "12.3.2. Shift_JIS encoder" }], "url": "#shift_jis-encoder" },
                "shift_jis-lead": { "dfnID": "shift_jis-lead", "dfnText": "Shift_JIS leading", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-shift_jis-lead" }, { "id": "ref-for-shift_jis-lead\u2460" }, { "id": "ref-for-shift_jis-lead\u2461" }, { "id": "ref-for-shift_jis-lead\u2462" }, { "id": "ref-for-shift_jis-lead\u2463" }, { "id": "ref-for-shift_jis-lead\u2464" }, { "id": "ref-for-shift_jis-lead\u2465" }], "title": "12.3.1. Shift_JIS decoder" }], "url": "#shift_jis-lead" },
                "single-byte-decoder": { "dfnID": "single-byte-decoder", "dfnText": "9.1. single-byte decoder", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-single-byte-decoder" }], "title": "9. Legacy single-byte encodings" }, { "refs": [{ "id": "ref-for-single-byte-decoder" }], "title": "9.1. single-byte decoder" }], "url": "#single-byte-decoder" },
                "single-byte-encoder": { "dfnID": "single-byte-encoder", "dfnText": "9.2. single-byte encoder", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-single-byte-encoder" }], "title": "9. Legacy single-byte encodings" }, { "refs": [{ "id": "ref-for-single-byte-encoder" }], "title": "9.2. single-byte encoder" }], "url": "#single-byte-encoder" },
                "single-byte-encoding": { "dfnID": "single-byte-encoding", "dfnText": "single-byte encoding", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-single-byte-encoding" }], "title": "4.2. Names and labels" }, { "refs": [{ "id": "ref-for-single-byte-encoding\u2460" }, { "id": "ref-for-single-byte-encoding\u2461" }, { "id": "ref-for-single-byte-encoding\u2462" }], "title": "9. Legacy single-byte encodings" }, { "refs": [{ "id": "ref-for-single-byte-encoding\u2463" }], "title": "9.1. single-byte decoder" }, { "refs": [{ "id": "ref-for-single-byte-encoding\u2464" }], "title": "9.2. single-byte encoder" }, { "refs": [{ "id": "ref-for-single-byte-encoding\u2465" }], "title": "14.5. x-user-defined" }], "url": "#single-byte-encoding" },
                "textdecodeoptions": { "dfnID": "textdecodeoptions", "dfnText": "TextDecodeOptions", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-textdecodeoptions" }], "title": "7.2. Interface TextDecoder" }], "url": "#textdecodeoptions" },
                "textdecoder": { "dfnID": "textdecoder", "dfnText": "TextDecoder", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-textdecoder" }], "title": "7.1. Interface mixin TextDecoderCommon" }, { "refs": [{ "id": "ref-for-textdecoder\u2460" }, { "id": "ref-for-textdecoder\u2461" }, { "id": "ref-for-textdecoder\u2462" }, { "id": "ref-for-textdecoder\u2463" }], "title": "7.2. Interface TextDecoder" }], "url": "#textdecoder" },
                "textdecoder-bom-seen-flag": { "dfnID": "textdecoder-bom-seen-flag", "dfnText": "BOM seen", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-textdecoder-bom-seen-flag" }, { "id": "ref-for-textdecoder-bom-seen-flag\u2460" }], "title": "7.1. Interface mixin TextDecoderCommon" }, { "refs": [{ "id": "ref-for-textdecoder-bom-seen-flag\u2461" }], "title": "7.2. Interface TextDecoder" }], "url": "#textdecoder-bom-seen-flag" },
                "textdecoder-do-not-flush-flag": { "dfnID": "textdecoder-do-not-flush-flag", "dfnText": "do not flush", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-textdecoder-do-not-flush-flag" }, { "id": "ref-for-textdecoder-do-not-flush-flag\u2460" }, { "id": "ref-for-textdecoder-do-not-flush-flag\u2461" }, { "id": "ref-for-textdecoder-do-not-flush-flag\u2462" }], "title": "7.2. Interface TextDecoder" }], "url": "#textdecoder-do-not-flush-flag" },
                "textdecoder-encoding": { "dfnID": "textdecoder-encoding", "dfnText": "encoding", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-textdecoder-encoding" }, { "id": "ref-for-textdecoder-encoding\u2460" }], "title": "7.1. Interface mixin TextDecoderCommon" }, { "refs": [{ "id": "ref-for-textdecoder-encoding\u2461" }, { "id": "ref-for-textdecoder-encoding\u2462" }, { "id": "ref-for-textdecoder-encoding\u2463" }, { "id": "ref-for-textdecoder-encoding\u2464" }, { "id": "ref-for-textdecoder-encoding\u2465" }], "title": "7.2. Interface TextDecoder" }, { "refs": [{ "id": "ref-for-textdecoder-encoding\u2466" }, { "id": "ref-for-textdecoder-encoding\u2467" }, { "id": "ref-for-textdecoder-encoding\u2468" }, { "id": "ref-for-textdecoder-encoding\u2460\u24ea" }, { "id": "ref-for-textdecoder-encoding\u2460\u2460" }, { "id": "ref-for-textdecoder-encoding\u2460\u2461" }], "title": "7.5. Interface TextDecoderStream" }], "url": "#textdecoder-encoding" },
                "textdecoder-error-mode": { "dfnID": "textdecoder-error-mode", "dfnText": "error mode", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-textdecoder-error-mode" }], "title": "7.1. Interface mixin TextDecoderCommon" }, { "refs": [{ "id": "ref-for-textdecoder-error-mode\u2460" }, { "id": "ref-for-textdecoder-error-mode\u2461" }, { "id": "ref-for-textdecoder-error-mode\u2462" }, { "id": "ref-for-textdecoder-error-mode\u2463" }], "title": "7.2. Interface TextDecoder" }, { "refs": [{ "id": "ref-for-textdecoder-error-mode\u2464" }, { "id": "ref-for-textdecoder-error-mode\u2465" }, { "id": "ref-for-textdecoder-error-mode\u2466" }, { "id": "ref-for-textdecoder-error-mode\u2467" }, { "id": "ref-for-textdecoder-error-mode\u2468" }], "title": "7.5. Interface TextDecoderStream" }], "url": "#textdecoder-error-mode" },
                "textdecoder-ignore-bom-flag": { "dfnID": "textdecoder-ignore-bom-flag", "dfnText": "ignore BOM", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-textdecoder-ignore-bom-flag" }, { "id": "ref-for-textdecoder-ignore-bom-flag\u2460" }], "title": "7.1. Interface mixin TextDecoderCommon" }, { "refs": [{ "id": "ref-for-textdecoder-ignore-bom-flag\u2461" }, { "id": "ref-for-textdecoder-ignore-bom-flag\u2462" }], "title": "7.2. Interface TextDecoder" }, { "refs": [{ "id": "ref-for-textdecoder-ignore-bom-flag\u2463" }, { "id": "ref-for-textdecoder-ignore-bom-flag\u2464" }], "title": "7.5. Interface TextDecoderStream" }], "url": "#textdecoder-ignore-bom-flag" },
                "textdecodercommon": { "dfnID": "textdecodercommon", "dfnText": "TextDecoderCommon", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-textdecodercommon" }, { "id": "ref-for-textdecodercommon\u2460" }, { "id": "ref-for-textdecodercommon\u2461" }], "title": "7.1. Interface mixin TextDecoderCommon" }, { "refs": [{ "id": "ref-for-textdecodercommon\u2462" }], "title": "7.2. Interface TextDecoder" }, { "refs": [{ "id": "ref-for-textdecodercommon\u2463" }], "title": "7.5. Interface TextDecoderStream" }], "url": "#textdecodercommon" },
                "textdecodercommon-decoder": { "dfnID": "textdecodercommon-decoder", "dfnText": "decoder", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-textdecodercommon-decoder" }, { "id": "ref-for-textdecodercommon-decoder\u2460" }, { "id": "ref-for-textdecodercommon-decoder\u2461" }], "title": "7.2. Interface TextDecoder" }, { "refs": [{ "id": "ref-for-textdecodercommon-decoder\u2462" }, { "id": "ref-for-textdecodercommon-decoder\u2463" }, { "id": "ref-for-textdecodercommon-decoder\u2464" }], "title": "7.5. Interface TextDecoderStream" }], "url": "#textdecodercommon-decoder" },
                "textdecodercommon-i-o-queue": { "dfnID": "textdecodercommon-i-o-queue", "dfnText": "I/O queue", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-textdecodercommon-i-o-queue" }, { "id": "ref-for-textdecodercommon-i-o-queue\u2460" }, { "id": "ref-for-textdecodercommon-i-o-queue\u2461" }, { "id": "ref-for-textdecodercommon-i-o-queue\u2462" }], "title": "7.2. Interface TextDecoder" }, { "refs": [{ "id": "ref-for-textdecodercommon-i-o-queue\u2463" }, { "id": "ref-for-textdecodercommon-i-o-queue\u2464" }, { "id": "ref-for-textdecodercommon-i-o-queue\u2465" }, { "id": "ref-for-textdecodercommon-i-o-queue\u2466" }, { "id": "ref-for-textdecodercommon-i-o-queue\u2467" }, { "id": "ref-for-textdecodercommon-i-o-queue\u2468" }], "title": "7.5. Interface TextDecoderStream" }], "url": "#textdecodercommon-i-o-queue" },
                "textdecoderoptions": { "dfnID": "textdecoderoptions", "dfnText": "TextDecoderOptions", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-textdecoderoptions" }], "title": "7.2. Interface TextDecoder" }, { "refs": [{ "id": "ref-for-textdecoderoptions\u2460" }], "title": "7.5. Interface TextDecoderStream" }], "url": "#textdecoderoptions" },
                "textdecoderstream": { "dfnID": "textdecoderstream", "dfnText": "TextDecoderStream", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-textdecoderstream" }], "title": "7.1. Interface mixin TextDecoderCommon" }, { "refs": [{ "id": "ref-for-textdecoderstream\u2460" }, { "id": "ref-for-textdecoderstream\u2461" }, { "id": "ref-for-textdecoderstream\u2462" }, { "id": "ref-for-textdecoderstream\u2463" }, { "id": "ref-for-textdecoderstream\u2464" }, { "id": "ref-for-textdecoderstream\u2465" }], "title": "7.5. Interface TextDecoderStream" }], "url": "#textdecoderstream" },
                "textencoder": { "dfnID": "textencoder", "dfnText": "TextEncoder", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-textencoder" }], "title": "7. API" }, { "refs": [{ "id": "ref-for-textencoder\u2460" }], "title": "7.3. Interface mixin TextEncoderCommon" }, { "refs": [{ "id": "ref-for-textencoder\u2461" }, { "id": "ref-for-textencoder\u2462" }, { "id": "ref-for-textencoder\u2463" }, { "id": "ref-for-textencoder\u2464" }], "title": "7.4. Interface TextEncoder" }], "url": "#textencoder" },
                "textencodercommon": { "dfnID": "textencodercommon", "dfnText": "TextEncoderCommon", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-textencodercommon" }, { "id": "ref-for-textencodercommon\u2460" }], "title": "7.3. Interface mixin TextEncoderCommon" }, { "refs": [{ "id": "ref-for-textencodercommon\u2461" }], "title": "7.4. Interface TextEncoder" }, { "refs": [{ "id": "ref-for-textencodercommon\u2462" }], "title": "7.6. Interface TextEncoderStream" }], "url": "#textencodercommon" },
                "textencoderstream": { "dfnID": "textencoderstream", "dfnText": "TextEncoderStream", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-textencoderstream" }], "title": "7.3. Interface mixin TextEncoderCommon" }, { "refs": [{ "id": "ref-for-textencoderstream\u2460" }, { "id": "ref-for-textencoderstream\u2461" }, { "id": "ref-for-textencoderstream\u2462" }, { "id": "ref-for-textencoderstream\u2463" }, { "id": "ref-for-textencoderstream\u2464" }, { "id": "ref-for-textencoderstream\u2465" }, { "id": "ref-for-textencoderstream\u2466" }, { "id": "ref-for-textencoderstream\u2467" }, { "id": "ref-for-textencoderstream\u2468" }], "title": "7.6. Interface TextEncoderStream" }], "url": "#textencoderstream" },
                "textencoderstream-encoder": { "dfnID": "textencoderstream-encoder", "dfnText": "encoder", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-textencoderstream-encoder" }, { "id": "ref-for-textencoderstream-encoder\u2460" }], "title": "7.6. Interface TextEncoderStream" }], "url": "#textencoderstream-encoder" },
                "textencoderstream-pending-high-surrogate": { "dfnID": "textencoderstream-pending-high-surrogate", "dfnText": "leading surrogate", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-textencoderstream-pending-high-surrogate" }, { "id": "ref-for-textencoderstream-pending-high-surrogate\u2460" }, { "id": "ref-for-textencoderstream-pending-high-surrogate\u2461" }, { "id": "ref-for-textencoderstream-pending-high-surrogate\u2462" }, { "id": "ref-for-textencoderstream-pending-high-surrogate\u2463" }], "title": "7.6. Interface TextEncoderStream" }], "url": "#textencoderstream-pending-high-surrogate" },
                "to-i-o-queue-convert": { "dfnID": "to-i-o-queue-convert", "dfnText": "convert", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-to-i-o-queue-convert" }, { "id": "ref-for-to-i-o-queue-convert\u2460" }], "title": "7.4. Interface TextEncoder" }, { "refs": [{ "id": "ref-for-to-i-o-queue-convert\u2461" }], "title": "7.6. Interface TextEncoderStream" }], "url": "#to-i-o-queue-convert" },
                "utf-16-lead-byte": { "dfnID": "utf-16-lead-byte", "dfnText": "UTF-16 leading byte", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-utf-16-lead-byte" }, { "id": "ref-for-utf-16-lead-byte\u2460" }, { "id": "ref-for-utf-16-lead-byte\u2461" }, { "id": "ref-for-utf-16-lead-byte\u2462" }, { "id": "ref-for-utf-16-lead-byte\u2463" }, { "id": "ref-for-utf-16-lead-byte\u2464" }, { "id": "ref-for-utf-16-lead-byte\u2465" }, { "id": "ref-for-utf-16-lead-byte\u2466" }], "title": "14.2.1. shared UTF-16 decoder" }], "url": "#utf-16-lead-byte" },
                "utf-16-lead-surrogate": { "dfnID": "utf-16-lead-surrogate", "dfnText": "UTF-16 leading surrogate", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-utf-16-lead-surrogate" }, { "id": "ref-for-utf-16-lead-surrogate\u2460" }, { "id": "ref-for-utf-16-lead-surrogate\u2461" }, { "id": "ref-for-utf-16-lead-surrogate\u2462" }, { "id": "ref-for-utf-16-lead-surrogate\u2463" }, { "id": "ref-for-utf-16-lead-surrogate\u2464" }, { "id": "ref-for-utf-16-lead-surrogate\u2465" }], "title": "14.2.1. shared UTF-16 decoder" }], "url": "#utf-16-lead-surrogate" },
                "utf-16be": { "dfnID": "utf-16be", "dfnText": "14.3. UTF-16BE", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-utf-16be" }, { "id": "ref-for-utf-16be\u2460" }], "title": "4. Encodings" }, { "refs": [{ "id": "ref-for-utf-16be\u2461" }], "title": "4.2. Names and labels" }, { "refs": [{ "id": "ref-for-utf-16be\u2462" }], "title": "6.1. Legacy hooks for standards" }, { "refs": [{ "id": "ref-for-utf-16be\u2463" }], "title": "14.2. Common infrastructure for UTF-16BE/LE" }, { "refs": [{ "id": "ref-for-utf-16be" }], "title": "14.3. UTF-16BE" }, { "refs": [{ "id": "ref-for-utf-16be\u2464" }], "title": "14.3.1. UTF-16BE decoder" }], "url": "#utf-16be" },
                "utf-16be-decoder": { "dfnID": "utf-16be-decoder", "dfnText": "14.3.1. UTF-16BE decoder", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-utf-16be-decoder" }], "title": "14.3.1. UTF-16BE decoder" }], "url": "#utf-16be-decoder" },
                "utf-16be-decoder-flag": { "dfnID": "utf-16be-decoder-flag", "dfnText": "is UTF-16BE decoder", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-utf-16be-decoder-flag" }, { "id": "ref-for-utf-16be-decoder-flag\u2460" }, { "id": "ref-for-utf-16be-decoder-flag\u2461" }], "title": "14.2.1. shared UTF-16 decoder" }, { "refs": [{ "id": "ref-for-utf-16be-decoder-flag\u2462" }], "title": "14.3.1. UTF-16BE decoder" }], "url": "#utf-16be-decoder-flag" },
                "utf-16be-le": { "dfnID": "utf-16be-le", "dfnText": "UTF-16BE/LE", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-utf-16be-le" }], "title": "2. Security background" }, { "refs": [{ "id": "ref-for-utf-16be-le\u2460" }], "title": "4.1. Encoders and decoders" }, { "refs": [{ "id": "ref-for-utf-16be-le\u2461" }], "title": "4.3. Output encodings" }, { "refs": [{ "id": "ref-for-utf-16be-le\u2462" }], "title": "6.1. Legacy hooks for standards" }, { "refs": [{ "id": "ref-for-utf-16be-le\u2463" }], "title": "7.1. Interface mixin TextDecoderCommon" }, { "refs": [{ "id": "ref-for-utf-16be-le\u2464" }], "title": "14.2. Common infrastructure for UTF-16BE/LE" }, { "refs": [{ "id": "ref-for-utf-16be-le\u2465" }, { "id": "ref-for-utf-16be-le\u2466" }], "title": "15. Browser UI" }], "url": "#utf-16be-le" },
                "utf-16le": { "dfnID": "utf-16le", "dfnText": "14.4. UTF-16LE", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-utf-16le" }, { "id": "ref-for-utf-16le\u2460" }], "title": "4. Encodings" }, { "refs": [{ "id": "ref-for-utf-16le\u2461" }], "title": "4.2. Names and labels" }, { "refs": [{ "id": "ref-for-utf-16le\u2462" }], "title": "6.1. Legacy hooks for standards" }, { "refs": [{ "id": "ref-for-utf-16le\u2463" }], "title": "14.2. Common infrastructure for UTF-16BE/LE" }, { "refs": [{ "id": "ref-for-utf-16le" }, { "id": "ref-for-utf-16le\u2464" }], "title": "14.4. UTF-16LE" }, { "refs": [{ "id": "ref-for-utf-16le\u2465" }], "title": "14.4.1. UTF-16LE decoder" }], "url": "#utf-16le" },
                "utf-16le-decoder": { "dfnID": "utf-16le-decoder", "dfnText": "14.4.1. UTF-16LE decoder", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-utf-16le-decoder" }], "title": "14.4.1. UTF-16LE decoder" }], "url": "#utf-16le-decoder" },
                "utf-8": { "dfnID": "utf-8", "dfnText": "8.1. UTF-8", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-utf-8" }, { "id": "ref-for-utf-8\u2460" }], "title": "4. Encodings" }, { "refs": [{ "id": "ref-for-utf-8\u2461" }], "title": "4.1. Encoders and decoders" }, { "refs": [{ "id": "ref-for-utf-8\u2462" }, { "id": "ref-for-utf-8\u2463" }, { "id": "ref-for-utf-8\u2464" }], "title": "4.2. Names and labels" }, { "refs": [{ "id": "ref-for-utf-8\u2465" }], "title": "4.3. Output encodings" }, { "refs": [{ "id": "ref-for-utf-8\u2466" }, { "id": "ref-for-utf-8\u2467" }, { "id": "ref-for-utf-8\u2468" }, { "id": "ref-for-utf-8\u2460\u24ea" }], "title": "6. Hooks for standards" }, { "refs": [{ "id": "ref-for-utf-8\u2460\u2460" }, { "id": "ref-for-utf-8\u2460\u2461" }], "title": "6.1. Legacy hooks for standards" }, { "refs": [{ "id": "ref-for-utf-8\u2460\u2462" }, { "id": "ref-for-utf-8\u2460\u2463" }], "title": "7. API" }, { "refs": [{ "id": "ref-for-utf-8\u2460\u2464" }], "title": "7.1. Interface mixin TextDecoderCommon" }, { "refs": [{ "id": "ref-for-utf-8\u2460\u2465" }, { "id": "ref-for-utf-8\u2460\u2466" }], "title": "7.4. Interface TextEncoder" }, { "refs": [{ "id": "ref-for-utf-8\u2460\u2467" }, { "id": "ref-for-utf-8\u2460\u2468" }, { "id": "ref-for-utf-8\u2461\u24ea" }, { "id": "ref-for-utf-8\u2461\u2460" }], "title": "7.6. Interface TextEncoderStream" }, { "refs": [{ "id": "ref-for-utf-8" }], "title": "8.1. UTF-8" }, { "refs": [{ "id": "ref-for-utf-8\u2461\u2461" }, { "id": "ref-for-utf-8\u2461\u2462" }], "title": "8.1.1. UTF-8 decoder" }, { "refs": [{ "id": "ref-for-utf-8\u2461\u2463" }], "title": "8.1.2. UTF-8 encoder" }], "url": "#utf-8" },
                "utf-8-bytes-needed": { "dfnID": "utf-8-bytes-needed", "dfnText": "UTF-8 bytes needed", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-utf-8-bytes-needed" }, { "id": "ref-for-utf-8-bytes-needed\u2460" }, { "id": "ref-for-utf-8-bytes-needed\u2461" }, { "id": "ref-for-utf-8-bytes-needed\u2462" }, { "id": "ref-for-utf-8-bytes-needed\u2463" }, { "id": "ref-for-utf-8-bytes-needed\u2464" }, { "id": "ref-for-utf-8-bytes-needed\u2465" }, { "id": "ref-for-utf-8-bytes-needed\u2466" }, { "id": "ref-for-utf-8-bytes-needed\u2467" }], "title": "8.1.1. UTF-8 decoder" }], "url": "#utf-8-bytes-needed" },
                "utf-8-bytes-seen": { "dfnID": "utf-8-bytes-seen", "dfnText": "UTF-8 bytes seen", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-utf-8-bytes-seen" }, { "id": "ref-for-utf-8-bytes-seen\u2460" }, { "id": "ref-for-utf-8-bytes-seen\u2461" }, { "id": "ref-for-utf-8-bytes-seen\u2462" }], "title": "8.1.1. UTF-8 decoder" }], "url": "#utf-8-bytes-seen" },
                "utf-8-code-point": { "dfnID": "utf-8-code-point", "dfnText": "UTF-8 code point", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-utf-8-code-point" }, { "id": "ref-for-utf-8-code-point\u2460" }, { "id": "ref-for-utf-8-code-point\u2461" }, { "id": "ref-for-utf-8-code-point\u2462" }, { "id": "ref-for-utf-8-code-point\u2463" }, { "id": "ref-for-utf-8-code-point\u2464" }, { "id": "ref-for-utf-8-code-point\u2465" }, { "id": "ref-for-utf-8-code-point\u2466" }, { "id": "ref-for-utf-8-code-point\u2467" }], "title": "8.1.1. UTF-8 decoder" }], "url": "#utf-8-code-point" },
                "utf-8-decode": { "dfnID": "utf-8-decode", "dfnText": "UTF-8 decode", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-utf-8-decode" }], "title": "4. Encodings" }, { "refs": [{ "id": "ref-for-utf-8-decode\u2460" }, { "id": "ref-for-utf-8-decode\u2461" }], "title": "6. Hooks for standards" }, { "refs": [{ "id": "ref-for-utf-8-decode\u2462" }], "title": "8.1.1. UTF-8 decoder" }], "url": "#utf-8-decode" },
                "utf-8-decode-without-bom": { "dfnID": "utf-8-decode-without-bom", "dfnText": "UTF-8 decode without BOM", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-utf-8-decode-without-bom" }, { "id": "ref-for-utf-8-decode-without-bom\u2460" }], "title": "6. Hooks for standards" }], "url": "#utf-8-decode-without-bom" },
                "utf-8-decode-without-bom-or-fail": { "dfnID": "utf-8-decode-without-bom-or-fail", "dfnText": "UTF-8 decode without BOM or fail", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-utf-8-decode-without-bom-or-fail" }, { "id": "ref-for-utf-8-decode-without-bom-or-fail\u2460" }, { "id": "ref-for-utf-8-decode-without-bom-or-fail\u2461" }], "title": "6. Hooks for standards" }], "url": "#utf-8-decode-without-bom-or-fail" },
                "utf-8-decoder": { "dfnID": "utf-8-decoder", "dfnText": "8.1.1. UTF-8 decoder", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-utf-8-decoder" }, { "id": "ref-for-utf-8-decoder" }, { "id": "ref-for-utf-8-decoder\u2460" }], "title": "8.1.1. UTF-8 decoder" }], "url": "#utf-8-decoder" },
                "utf-8-encode": { "dfnID": "utf-8-encode", "dfnText": "UTF-8 encode", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-utf-8-encode" }, { "id": "ref-for-utf-8-encode\u2460" }, { "id": "ref-for-utf-8-encode\u2461" }], "title": "6. Hooks for standards" }, { "refs": [{ "id": "ref-for-utf-8-encode\u2462" }], "title": "6.1. Legacy hooks for standards" }], "url": "#utf-8-encode" },
                "utf-8-encoder": { "dfnID": "utf-8-encoder", "dfnText": "8.1.2. UTF-8 encoder", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-utf-8-encoder" }, { "id": "ref-for-utf-8-encoder\u2460" }, { "id": "ref-for-utf-8-encoder\u2461" }, { "id": "ref-for-utf-8-encoder\u2462" }, { "id": "ref-for-utf-8-encoder\u2463" }], "title": "7.4. Interface TextEncoder" }, { "refs": [{ "id": "ref-for-utf-8-encoder\u2464" }], "title": "7.6. Interface TextEncoderStream" }, { "refs": [{ "id": "ref-for-utf-8-encoder" }], "title": "8.1.2. UTF-8 encoder" }], "url": "#utf-8-encoder" },
                "utf-8-lower-boundary": { "dfnID": "utf-8-lower-boundary", "dfnText": "UTF-8 lower boundary", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-utf-8-lower-boundary" }, { "id": "ref-for-utf-8-lower-boundary\u2460" }, { "id": "ref-for-utf-8-lower-boundary\u2461" }, { "id": "ref-for-utf-8-lower-boundary\u2462" }, { "id": "ref-for-utf-8-lower-boundary\u2463" }], "title": "8.1.1. UTF-8 decoder" }], "url": "#utf-8-lower-boundary" },
                "utf-8-upper-boundary": { "dfnID": "utf-8-upper-boundary", "dfnText": "UTF-8 upper boundary", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-utf-8-upper-boundary" }, { "id": "ref-for-utf-8-upper-boundary\u2460" }, { "id": "ref-for-utf-8-upper-boundary\u2461" }, { "id": "ref-for-utf-8-upper-boundary\u2462" }, { "id": "ref-for-utf-8-upper-boundary\u2463" }], "title": "8.1.1. UTF-8 decoder" }], "url": "#utf-8-upper-boundary" },
                "windows-1250": { "dfnID": "windows-1250", "dfnText": "windows-1250", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-windows-1250" }], "title": "4.2. Names and labels" }], "url": "#windows-1250" },
                "windows-1251": { "dfnID": "windows-1251", "dfnText": "windows-1251", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-windows-1251" }], "title": "4.2. Names and labels" }], "url": "#windows-1251" },
                "windows-1252": { "dfnID": "windows-1252", "dfnText": "windows-1252", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-windows-1252" }], "title": "2. Security background" }, { "refs": [{ "id": "ref-for-windows-1252\u2460" }, { "id": "ref-for-windows-1252\u2461" }, { "id": "ref-for-windows-1252\u2462" }, { "id": "ref-for-windows-1252\u2463" }], "title": "4.2. Names and labels" }], "url": "#windows-1252" },
                "windows-1253": { "dfnID": "windows-1253", "dfnText": "windows-1253", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-windows-1253" }], "title": "4.2. Names and labels" }], "url": "#windows-1253" },
                "windows-1254": { "dfnID": "windows-1254", "dfnText": "windows-1254", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-windows-1254" }], "title": "4.2. Names and labels" }], "url": "#windows-1254" },
                "windows-1255": { "dfnID": "windows-1255", "dfnText": "windows-1255", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-windows-1255" }], "title": "4.2. Names and labels" }], "url": "#windows-1255" },
                "windows-1256": { "dfnID": "windows-1256", "dfnText": "windows-1256", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-windows-1256" }], "title": "4.2. Names and labels" }], "url": "#windows-1256" },
                "windows-1257": { "dfnID": "windows-1257", "dfnText": "windows-1257", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-windows-1257" }], "title": "4.2. Names and labels" }], "url": "#windows-1257" },
                "windows-1258": { "dfnID": "windows-1258", "dfnText": "windows-1258", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-windows-1258" }], "title": "4.2. Names and labels" }], "url": "#windows-1258" },
                "windows-874": { "dfnID": "windows-874", "dfnText": "windows-874", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-windows-874" }], "title": "4.2. Names and labels" }], "url": "#windows-874" },
                "x-mac-cyrillic": { "dfnID": "x-mac-cyrillic", "dfnText": "x-mac-cyrillic", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-x-mac-cyrillic" }, { "id": "ref-for-x-mac-cyrillic\u2460" }], "title": "4.2. Names and labels" }], "url": "#x-mac-cyrillic" },
                "x-user-defined": { "dfnID": "x-user-defined", "dfnText": "14.5. x-user-defined", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-x-user-defined" }], "title": "4.2. Names and labels" }, { "refs": [{ "id": "ref-for-x-user-defined" }], "title": "14.5. x-user-defined" }, { "refs": [{ "id": "ref-for-x-user-defined\u2460" }], "title": "14.5.1. x-user-defined decoder" }, { "refs": [{ "id": "ref-for-x-user-defined\u2461" }], "title": "14.5.2. x-user-defined encoder" }], "url": "#x-user-defined" },
                "x-user-defined-decoder": { "dfnID": "x-user-defined-decoder", "dfnText": "14.5.1. x-user-defined decoder", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-x-user-defined-decoder" }], "title": "14.5.1. x-user-defined decoder" }], "url": "#x-user-defined-decoder" },
                "x-user-defined-encoder": { "dfnID": "x-user-defined-encoder", "dfnText": "14.5.2. x-user-defined encoder", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-x-user-defined-encoder" }], "title": "14.5.2. x-user-defined encoder" }], "url": "#x-user-defined-encoder" },
            };

            document.addEventListener("DOMContentLoaded", () => {
                genAllDfnPanels();

                document.body.addEventListener("click", (e) => {
                    // If not handled already, just hide all dfn panels.
                    hideAllDfnPanels();
                });
            });

            window.addEventListener("resize", () => {
                // Pin any visible dfn panel
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el => positionDfnPanel(el));
            });

            function genAllDfnPanels() {
                for (const panelData of Object.values(dfnPanelData)) {
                    const dfnID = panelData.dfnID;
                    const dfn = document.getElementById(dfnID);
                    if (!dfn) {
                        console.log(`Can't find dfn#${dfnID}.`, panelData);
                        continue;
                    }
                    dfn.panelData = panelData;
                    insertDfnPopupAction(dfn);
                }
            }

            function genDfnPanel(dfn, { dfnID, url, dfnText, refSections, external }) {
                const dfnPanel = mk.aside({
                    class: "dfn-panel on",
                    id: `infopanel-for-${dfnID}`,
                    "data-for": dfnID,
                    "aria-labelled-by": `infopaneltitle-for-${dfnID}`,
                },
                    mk.span({ id: `infopaneltitle-for-${dfnID}`, style: "display:none" },
                        `Info about the '${dfnText}' ${external ? "external" : ""} reference.`),
                    mk.a({ href: url, class: "dfn-link" }, url),
                    refSections.length == 0 ? [] :
                        mk.b({}, "Referenced in:"),
                    mk.ul({},
                        ...refSections.map(section =>
                            mk.li({},
                                ...section.refs.map((ref, refI) =>
                                    [
                                        mk.a({ href: `#${ref.id}` },
                                            (refI == 0) ? section.title : `(${refI + 1})`
                                        ),
                                        " ",
                                    ]
                                ),
                            ),
                        ),
                    ),
                    genLinkingSyntaxes(dfn),
                );

                dfnPanel.addEventListener('click', (event) => {
                    if (event.target.nodeName == 'A') {
                        scrollToTargetAndHighlight(event);
                        pinDfnPanel(dfnPanel);
                    }
                    event.stopPropagation();
                    refocusOnTarget(event);
                });
                dfnPanel.addEventListener('keydown', (event) => {
                    if (event.keyCode == 27) { // Escape key
                        hideDfnPanel({ dfnPanel });
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });

                dfnPanel.dfn = dfn;
                dfn.dfnPanel = dfnPanel;
                return dfnPanel;
            }



            function hideAllDfnPanels() {
                // Delete the currently-active dfn panel.
                queryAll(".dfn-panel").forEach(dfnPanel => hideDfnPanel({ dfnPanel }));
            }

            function showDfnPanel(dfn) {
                hideAllDfnPanels(); // Only display one at a time.

                dfn.setAttribute("aria-expanded", "true");

                const dfnPanel = genDfnPanel(dfn, dfn.panelData);

                // Give the dfn a unique tabindex, and then
                // give all the tabbable panel bits successive indexes.
                let tabIndex = 100;
                dfn.tabIndex = tabIndex++;
                const tabbable = dfnPanel.querySelectorAll(":is(a, button)");
                for (const el of tabbable) {
                    el.tabIndex = tabIndex++;
                }

                append(document.body, dfnPanel);
                positionDfnPanel(dfnPanel);
            }

            function positionDfnPanel(dfnPanel) {
                const dfn = dfnPanel.dfn;
                const dfnPos = getBounds(dfn);
                dfnPanel.style.top = dfnPos.bottom + "px";
                dfnPanel.style.left = dfnPos.left + "px";

                const panelPos = dfnPanel.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);
                    dfnPanel.style.left = newLeft + "px";
                }
            }

            function pinDfnPanel(dfnPanel) {
                // Switch it to "activated" state, which pins it.
                dfnPanel.classList.add("activated");
                dfnPanel.style.position = "fixed";
                dfnPanel.style.left = null;
                dfnPanel.style.top = null;
            }

            function hideDfnPanel({ dfn, dfnPanel }) {
                if (!dfnPanel) dfnPanel = dfn.dfnPanel;
                if (!dfn) dfn = dfnPanel.dfn;
                dfn.dfnPanel = undefined;
                dfnPanel.dfn = undefined;
                dfn.setAttribute("aria-expanded", "false");
                dfn.tabIndex = undefined;
                dfnPanel.remove()
            }

            function toggleDfnPanel(dfn) {
                if (dfn.dfnPanel) {
                    hideDfnPanel(dfn);
                } else {
                    showDfnPanel(dfn);
                }
            }

            function insertDfnPopupAction(dfn) {
                dfn.setAttribute('role', 'button');
                dfn.setAttribute('aria-expanded', 'false')
                dfn.tabIndex = 0;
                dfn.classList.add('has-dfn-panel');
                dfn.addEventListener('click', (event) => {
                    toggleDfnPanel(dfn);
                    event.stopPropagation();
                });
                dfn.addEventListener('keypress', (event) => {
                    const kc = event.keyCode;
                    // 32->Space, 13->Enter
                    if (kc == 32 || kc == 13) {
                        toggleDfnPanel(dfn);
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });
            }

            function refocusOnTarget(event) {
                const target = event.target;
                setTimeout(() => {
                    // Refocus on the event.target element.
                    // This is needed after browser scrolls to the destination.
                    target.focus();
                });
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function scrollToTargetAndHighlight(event) {
                let hash = event.target.hash;
                if (hash) {
                    hash = decodeURIComponent(hash.substring(1));
                    const dest = document.getElementById(hash);
                    if (dest) {
                        dest.classList.add('highlighted');
                        setTimeout(() => dest.classList.remove('highlighted'), 1000);
                    }
                }
            }

            // Functions, divided by link type, that wrap an autolink's
            // contents with the appropriate outer syntax.
            // Alternately, a string naming another type they format
            // the same as.
            function needsFor(type) {
                switch (type) {
                    case "descriptor":
                    case "value":
                    case "element-attr":
                    case "attr-value":
                    case "element-state":
                    case "method":
                    case "constructor":
                    case "argument":
                    case "attribute":
                    case "const":
                    case "dict-member":
                    case "event":
                    case "enum-value":
                    case "stringifier":
                    case "serializer":
                    case "iterator":
                    case "maplike":
                    case "setlike":
                    case "state":
                    case "mode":
                    case "context":
                    case "facet": return true;

                    default: return false;
                }
            }
            function refusesFor(type) {
                switch (type) {
                    case "property":
                    case "element":
                    case "interface":
                    case "namespace":
                    case "callback":
                    case "dictionary":
                    case "enum":
                    case "exception":
                    case "typedef":
                    case "http-header":
                    case "permission": return true;

                    default: return false;
                }
            }
            function linkFormatterFromType(type) {
                switch (type) {
                    case 'scheme':
                    case 'permission':
                    case 'dfn': return (text) => `[=${text}=]`;

                    case 'abstract-op': return (text) => `[\$${text}\$]`;

                    case 'function':
                    case 'at-rule':
                    case 'selector':
                    case 'value': return (text) => `''${text}''`;

                    case 'http-header': return (text) => `[:${text}:]`;

                    case 'interface':
                    case 'constructor':
                    case 'method':
                    case 'argument':
                    case 'attribute':
                    case 'callback':
                    case 'dictionary':
                    case 'dict-member':
                    case 'enum':
                    case 'enum-value':
                    case 'exception':
                    case 'const':
                    case 'typedef':
                    case 'stringifier':
                    case 'serializer':
                    case 'iterator':
                    case 'maplike':
                    case 'setlike':
                    case 'extended-attribute':
                    case 'event':
                    case 'idl': return (text) => `{{${text}}}`;

                    case 'element-state':
                    case 'element-attr':
                    case 'attr-value':
                    case 'element': return (element) => `<{${element}}>`;

                    case 'grammar': return (text) => `${text} (within a <pre class=prod>)`;

                    case 'type': return (text) => `<<${text}>>`;

                    case 'descriptor':
                    case 'property': return (text) => `'${text}'`;

                    default: return;
                };
            };

            function genLinkingSyntaxes(dfn) {
                if (dfn.tagName != "DFN") return;

                const type = dfn.getAttribute('data-dfn-type');
                if (!type) {
                    console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
                    return [];
                }

                // Return a function that wraps link text based on the type
                const linkFormatter = linkFormatterFromType(type);
                if (!linkFormatter) {
                    console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
                    return [];
                }

                let ltAlts;
                if (dfn.hasAttribute('data-lt')) {
                    ltAlts = dfn.getAttribute('data-lt')
                        .split("|")
                        .map(x => x.trim());
                } else {
                    ltAlts = [dfn.textContent.trim()];
                }
                if (type == "type") {
                    // lt of "<foo>", but "foo" is the interior;
                    // <<foo/bar>> is how you write it with a for,
                    // not <foo/<bar>> or whatever.
                    for (var i = 0; i < ltAlts.length; i++) {
                        const lt = ltAlts[i];
                        const match = /<(.*)>/.exec(lt);
                        if (match) { ltAlts[i] = match[1]; }
                    }
                }

                let forAlts;
                if (dfn.hasAttribute('data-dfn-for')) {
                    forAlts = dfn.getAttribute('data-dfn-for')
                        .split(",")
                        .map(x => x.trim());
                } else {
                    forAlts = [''];
                }

                let linkingSyntaxes = [];
                if (!needsFor(type)) {
                    for (const lt of ltAlts) {
                        linkingSyntaxes.push(linkFormatter(lt));
                    }
                }
                if (!refusesFor(type)) {
                    for (const f of forAlts) {
                        linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
                    }
                }
                return [
                    mk.b({}, 'Possible linking syntaxes:'),
                    mk.ul({},
                        ...linkingSyntaxes.map(link => {
                            const copyLink = async () =>
                                await navigator.clipboard.writeText(link);
                            return mk.li({},
                                mk.div({ class: 'link-item' },
                                    mk.button({
                                        class: 'copy-icon', title: 'Copy',
                                        type: 'button',
                                        _onclick: copyLink,
                                        tabindex: 0,
                                    }, mk.span({ class: 'icon' })),
                                    mk.span({}, link)
                                )
                            );
                        })
                    )
                ];
            }
        }
    </script>
    <script>/* Boilerplate: script-position-annos */
        "use strict";
        {
            function repositionAnnoPanels() {
                const panels = [...document.querySelectorAll("[data-anno-for]")];
                hydratePanels(panels);
                let vSoFar = 0;
                for (const panel of panels.sort(cmpTops)) {
                    if (panel.top < vSoFar) {
                        panel.top = vSoFar;
                        panel.style.top = vSoFar + "px";
                    }
                    vSoFar = panel.top + panel.height + 15;
                }
            }
            function hydratePanels(panels) {
                const main = document.querySelector("main");
                let mainRect;
                if (main) mainRect = main.getBoundingClientRect();
                // First display them all, if they're not already visible.
                for (const panel of panels) {
                    panel.classList.remove("unpositioned");
                }
                // Measure them all
                for (const panel of panels) {
                    const dfn = document.getElementById(panel.getAttribute("data-anno-for"));
                    if (!dfn) {
                        console.log("Can't find the annotation panel target:", panel);
                        continue;
                    }
                    panel.dfn = dfn;
                    panel.top = window.scrollY + dfn.getBoundingClientRect().top;
                    let panelRect = panel.getBoundingClientRect();
                    panel.height = panelRect.height;
                    if (main) {
                        panel.overlappingMain = panelRect.left < mainRect.right;
                    } else {
                        panel.overlappingMain = false;
                    }
                }
                // And finally position them
                for (const panel of panels) {
                    const dfn = panel.dfn;
                    if (!dfn) continue;
                    panel.style.top = panel.top + "px";
                    panel.classList.toggle("overlapping-main", panel.overlappingMain);
                }
            }

            function cmpTops(a, b) {
                return a.top - b.top;
            }

            window.addEventListener("load", repositionAnnoPanels);
            window.addEventListener("resize", repositionAnnoPanels);
        }
    </script>
    <script>/* Boilerplate: script-ref-hints */
        "use strict";
        {
            let refsData = {
                "#big5": { "displayText": "big5", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "big5", "type": "dfn", "url": "#big5" },
                "#big5-lead": { "displayText": "big5 leading", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "big5 leading", "type": "dfn", "url": "#big5-lead" },
                "#bom-sniff": { "displayText": "bom sniff", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "bom sniff", "type": "dfn", "url": "#bom-sniff" },
                "#concept-encoding-get": { "displayText": "get an encoding", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "get an encoding", "type": "dfn", "url": "#concept-encoding-get" },
                "#concept-encoding-process": { "displayText": "processing an item", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "processing an item", "type": "dfn", "url": "#concept-encoding-process" },
                "#concept-encoding-run": { "displayText": "process a queue", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "process a queue", "type": "dfn", "url": "#concept-encoding-run" },
                "#concept-stream": { "displayText": "i/o queue", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "i/o queue", "type": "dfn", "url": "#concept-stream" },
                "#concept-stream-prepend": { "displayText": "restore", "export": true, "for_": ["I/O queue"], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "restore", "type": "dfn", "url": "#concept-stream-prepend" },
                "#concept-stream-push": { "displayText": "push", "export": true, "for_": ["I/O queue"], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "push", "type": "dfn", "url": "#concept-stream-push" },
                "#concept-stream-read": { "displayText": "read", "export": true, "for_": ["I/O queue"], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "read", "type": "dfn", "url": "#concept-stream-read" },
                "#concept-td-serialize": { "displayText": "serialize i/o queue", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "serialize i/o queue", "type": "dfn", "url": "#concept-td-serialize" },
                "#continue": { "displayText": "continue", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "continue", "type": "dfn", "url": "#continue" },
                "#convert-code-unit-to-scalar-value": { "displayText": "convert code unit to scalar value", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "convert code unit to scalar value", "type": "dfn", "url": "#convert-code-unit-to-scalar-value" },
                "#create-a-uint8array-object": { "displayText": "create a uint8array object", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "create a uint8array object", "type": "dfn", "url": "#create-a-uint8array-object" },
                "#decode": { "displayText": "decode", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "decode", "type": "dfn", "url": "#decode" },
                "#decode-and-enqueue-a-chunk": { "displayText": "decode and enqueue a chunk", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "decode and enqueue a chunk", "type": "dfn", "url": "#decode-and-enqueue-a-chunk" },
                "#decoder": { "displayText": "decoder", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "decoder", "type": "dfn", "url": "#decoder" },
                "#dictdef-textencoderencodeintoresult": { "displayText": "TextEncoderEncodeIntoResult", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "TextEncoderEncodeIntoResult", "type": "dictionary", "url": "#dictdef-textencoderencodeintoresult" },
                "#dom-textdecodeoptions-stream": { "displayText": "stream", "export": true, "for_": ["TextDecodeOptions"], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "stream", "type": "dict-member", "url": "#dom-textdecodeoptions-stream" },
                "#dom-textdecoder": { "displayText": "TextDecoder(label, options)", "export": true, "for_": ["TextDecoder"], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "TextDecoder(label, options)", "type": "constructor", "url": "#dom-textdecoder" },
                "#dom-textdecoder-decode": { "displayText": "decode(input, options)", "export": true, "for_": ["TextDecoder"], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "decode(input, options)", "type": "method", "url": "#dom-textdecoder-decode" },
                "#dom-textdecoder-encoding": { "displayText": "encoding", "export": true, "for_": ["TextDecoderCommon"], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "encoding", "type": "attribute", "url": "#dom-textdecoder-encoding" },
                "#dom-textdecoder-fatal": { "displayText": "fatal", "export": true, "for_": ["TextDecoderCommon"], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "fatal", "type": "attribute", "url": "#dom-textdecoder-fatal" },
                "#dom-textdecoder-ignorebom": { "displayText": "ignoreBOM", "export": true, "for_": ["TextDecoderCommon"], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "ignoreBOM", "type": "attribute", "url": "#dom-textdecoder-ignorebom" },
                "#dom-textdecoderoptions-fatal": { "displayText": "fatal", "export": true, "for_": ["TextDecoderOptions"], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "fatal", "type": "dict-member", "url": "#dom-textdecoderoptions-fatal" },
                "#dom-textdecoderoptions-ignorebom": { "displayText": "ignoreBOM", "export": true, "for_": ["TextDecoderOptions"], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "ignoreBOM", "type": "dict-member", "url": "#dom-textdecoderoptions-ignorebom" },
                "#dom-textdecoderstream": { "displayText": "TextDecoderStream(label, options)", "export": true, "for_": ["TextDecoderStream"], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "TextDecoderStream(label, options)", "type": "constructor", "url": "#dom-textdecoderstream" },
                "#dom-textencoder": { "displayText": "TextEncoder()", "export": true, "for_": ["TextEncoder"], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "TextEncoder()", "type": "constructor", "url": "#dom-textencoder" },
                "#dom-textencoder-encode": { "displayText": "encode(input)", "export": true, "for_": ["TextEncoder"], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "encode(input)", "type": "method", "url": "#dom-textencoder-encode" },
                "#dom-textencoder-encodeinto": { "displayText": "encodeInto(source, destination)", "export": true, "for_": ["TextEncoder"], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "encodeInto(source, destination)", "type": "method", "url": "#dom-textencoder-encodeinto" },
                "#dom-textencoder-encoding": { "displayText": "encoding", "export": true, "for_": ["TextEncoderCommon"], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "encoding", "type": "attribute", "url": "#dom-textencoder-encoding" },
                "#dom-textencoderencodeintoresult-read": { "displayText": "read", "export": true, "for_": ["TextEncoderEncodeIntoResult"], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "read", "type": "dict-member", "url": "#dom-textencoderencodeintoresult-read" },
                "#dom-textencoderencodeintoresult-written": { "displayText": "written", "export": true, "for_": ["TextEncoderEncodeIntoResult"], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "written", "type": "dict-member", "url": "#dom-textencoderencodeintoresult-written" },
                "#dom-textencoderstream": { "displayText": "TextEncoderStream()", "export": true, "for_": ["TextEncoderStream"], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "TextEncoderStream()", "type": "constructor", "url": "#dom-textencoderstream" },
                "#encode": { "displayText": "encode", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "encode", "type": "dfn", "url": "#encode" },
                "#encode-and-enqueue-a-chunk": { "displayText": "encode and enqueue a chunk", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "encode and enqueue a chunk", "type": "dfn", "url": "#encode-and-enqueue-a-chunk" },
                "#encode-and-flush": { "displayText": "encode and flush", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "encode and flush", "type": "dfn", "url": "#encode-and-flush" },
                "#encode-or-fail": { "displayText": "encode or fail", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "encode or fail", "type": "dfn", "url": "#encode-or-fail" },
                "#encoder": { "displayText": "encoder", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "encoder", "type": "dfn", "url": "#encoder" },
                "#encoding": { "displayText": "encoding", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "encoding", "type": "dfn", "url": "#encoding" },
                "#end-of-stream": { "displayText": "end-of-queue", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "end-of-queue", "type": "dfn", "url": "#end-of-stream" },
                "#error": { "displayText": "error", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "error", "type": "dfn", "url": "#error" },
                "#error-mode": { "displayText": "error mode", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "error mode", "type": "dfn", "url": "#error-mode" },
                "#euc-jp": { "displayText": "euc-jp", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "euc-jp", "type": "dfn", "url": "#euc-jp" },
                "#euc-jp-decoder": { "displayText": "euc-jp decoder", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "euc-jp decoder", "type": "dfn", "url": "#euc-jp-decoder" },
                "#euc-jp-jis0212-flag": { "displayText": "euc-jp jis0212", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "euc-jp jis0212", "type": "dfn", "url": "#euc-jp-jis0212-flag" },
                "#euc-jp-lead": { "displayText": "euc-jp leading", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "euc-jp leading", "type": "dfn", "url": "#euc-jp-lead" },
                "#euc-kr": { "displayText": "euc-kr", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "euc-kr", "type": "dfn", "url": "#euc-kr" },
                "#euc-kr-lead": { "displayText": "euc-kr leading", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "euc-kr leading", "type": "dfn", "url": "#euc-kr-lead" },
                "#finished": { "displayText": "finished", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "finished", "type": "dfn", "url": "#finished" },
                "#flush-and-enqueue": { "displayText": "flush and enqueue", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "flush and enqueue", "type": "dfn", "url": "#flush-and-enqueue" },
                "#from-i-o-queue-convert": { "displayText": "convert", "export": true, "for_": ["from I/O queue"], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "convert", "type": "dfn", "url": "#from-i-o-queue-convert" },
                "#gb18030": { "displayText": "gb18030", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "gb18030", "type": "dfn", "url": "#gb18030" },
                "#gb18030-decoder": { "displayText": "gb18030 decoder", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "gb18030 decoder", "type": "dfn", "url": "#gb18030-decoder" },
                "#gb18030-encoder": { "displayText": "gb18030 encoder", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "gb18030 encoder", "type": "dfn", "url": "#gb18030-encoder" },
                "#gb18030-first": { "displayText": "gb18030 first", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "gb18030 first", "type": "dfn", "url": "#gb18030-first" },
                "#gb18030-second": { "displayText": "gb18030 second", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "gb18030 second", "type": "dfn", "url": "#gb18030-second" },
                "#gb18030-third": { "displayText": "gb18030 third", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "gb18030 third", "type": "dfn", "url": "#gb18030-third" },
                "#gbk": { "displayText": "gbk", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "gbk", "type": "dfn", "url": "#gbk" },
                "#gbk-flag": { "displayText": "is gbk", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "is gbk", "type": "dfn", "url": "#gbk-flag" },
                "#get-an-encoder": { "displayText": "get an encoder", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "get an encoder", "type": "dfn", "url": "#get-an-encoder" },
                "#get-an-output-encoding": { "displayText": "get an output encoding", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "get an output encoding", "type": "dfn", "url": "#get-an-output-encoding" },
                "#handler": { "displayText": "handler", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "handler", "type": "dfn", "url": "#handler" },
                "#i-o-queue-peek": { "displayText": "peek", "export": true, "for_": ["I/O queue"], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "peek", "type": "dfn", "url": "#i-o-queue-peek" },
                "#ibm866": { "displayText": "ibm866", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "ibm866", "type": "dfn", "url": "#ibm866" },
                "#index": { "displayText": "index", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "index", "type": "dfn", "url": "#index" },
                "#index-big5": { "displayText": "index big5", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "index big5", "type": "dfn", "url": "#index-big5" },
                "#index-big5-pointer": { "displayText": "index big5 pointer", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "index big5 pointer", "type": "dfn", "url": "#index-big5-pointer" },
                "#index-code-point": { "displayText": "index code point", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "index code point", "type": "dfn", "url": "#index-code-point" },
                "#index-euc-kr": { "displayText": "index euc-kr", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "index euc-kr", "type": "dfn", "url": "#index-euc-kr" },
                "#index-gb18030": { "displayText": "index gb18030", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "index gb18030", "type": "dfn", "url": "#index-gb18030" },
                "#index-gb18030-ranges": { "displayText": "index gb18030 ranges", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "index gb18030 ranges", "type": "dfn", "url": "#index-gb18030-ranges" },
                "#index-gb18030-ranges-code-point": { "displayText": "index gb18030 ranges code point", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "index gb18030 ranges code point", "type": "dfn", "url": "#index-gb18030-ranges-code-point" },
                "#index-gb18030-ranges-pointer": { "displayText": "index gb18030 ranges pointer", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "index gb18030 ranges pointer", "type": "dfn", "url": "#index-gb18030-ranges-pointer" },
                "#index-iso-2022-jp-katakana": { "displayText": "index iso-2022-jp katakana", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "index iso-2022-jp katakana", "type": "dfn", "url": "#index-iso-2022-jp-katakana" },
                "#index-jis0208": { "displayText": "index jis0208", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "index jis0208", "type": "dfn", "url": "#index-jis0208" },
                "#index-jis0212": { "displayText": "index jis0212", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "index jis0212", "type": "dfn", "url": "#index-jis0212" },
                "#index-pointer": { "displayText": "index pointer", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "index pointer", "type": "dfn", "url": "#index-pointer" },
                "#index-shift_jis-pointer": { "displayText": "index shift_jis pointer", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "index shift_jis pointer", "type": "dfn", "url": "#index-shift_jis-pointer" },
                "#index-single-byte": { "displayText": "index single-byte", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "index single-byte", "type": "dfn", "url": "#index-single-byte" },
                "#iso-2022-jp": { "displayText": "iso-2022-jp", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "iso-2022-jp", "type": "dfn", "url": "#iso-2022-jp" },
                "#iso-2022-jp-decoder-ascii": { "displayText": "iso-2022-jp decoder ascii", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "iso-2022-jp decoder ascii", "type": "dfn", "url": "#iso-2022-jp-decoder-ascii" },
                "#iso-2022-jp-decoder-escape": { "displayText": "iso-2022-jp decoder escape", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "iso-2022-jp decoder escape", "type": "dfn", "url": "#iso-2022-jp-decoder-escape" },
                "#iso-2022-jp-decoder-escape-start": { "displayText": "iso-2022-jp decoder escape start", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "iso-2022-jp decoder escape start", "type": "dfn", "url": "#iso-2022-jp-decoder-escape-start" },
                "#iso-2022-jp-decoder-katakana": { "displayText": "iso-2022-jp decoder katakana", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "iso-2022-jp decoder katakana", "type": "dfn", "url": "#iso-2022-jp-decoder-katakana" },
                "#iso-2022-jp-decoder-lead-byte": { "displayText": "iso-2022-jp decoder leading byte", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "iso-2022-jp decoder leading byte", "type": "dfn", "url": "#iso-2022-jp-decoder-lead-byte" },
                "#iso-2022-jp-decoder-output-state": { "displayText": "iso-2022-jp decoder output state", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "iso-2022-jp decoder output state", "type": "dfn", "url": "#iso-2022-jp-decoder-output-state" },
                "#iso-2022-jp-decoder-roman": { "displayText": "iso-2022-jp decoder roman", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "iso-2022-jp decoder roman", "type": "dfn", "url": "#iso-2022-jp-decoder-roman" },
                "#iso-2022-jp-decoder-state": { "displayText": "iso-2022-jp decoder state", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "iso-2022-jp decoder state", "type": "dfn", "url": "#iso-2022-jp-decoder-state" },
                "#iso-2022-jp-decoder-trail-byte": { "displayText": "iso-2022-jp decoder trailing byte", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "iso-2022-jp decoder trailing byte", "type": "dfn", "url": "#iso-2022-jp-decoder-trail-byte" },
                "#iso-2022-jp-encoder": { "displayText": "iso-2022-jp encoder", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "iso-2022-jp encoder", "type": "dfn", "url": "#iso-2022-jp-encoder" },
                "#iso-2022-jp-encoder-ascii": { "displayText": "iso-2022-jp encoder ascii", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "iso-2022-jp encoder ascii", "type": "dfn", "url": "#iso-2022-jp-encoder-ascii" },
                "#iso-2022-jp-encoder-jis0208": { "displayText": "iso-2022-jp encoder jis0208", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "iso-2022-jp encoder jis0208", "type": "dfn", "url": "#iso-2022-jp-encoder-jis0208" },
                "#iso-2022-jp-encoder-roman": { "displayText": "iso-2022-jp encoder roman", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "iso-2022-jp encoder roman", "type": "dfn", "url": "#iso-2022-jp-encoder-roman" },
                "#iso-2022-jp-encoder-state": { "displayText": "iso-2022-jp encoder state", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "iso-2022-jp encoder state", "type": "dfn", "url": "#iso-2022-jp-encoder-state" },
                "#iso-2022-jp-lead": { "displayText": "iso-2022-jp leading", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "iso-2022-jp leading", "type": "dfn", "url": "#iso-2022-jp-lead" },
                "#iso-2022-jp-output-flag": { "displayText": "iso-2022-jp output", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "iso-2022-jp output", "type": "dfn", "url": "#iso-2022-jp-output-flag" },
                "#iso-8859-10": { "displayText": "iso-8859-10", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "iso-8859-10", "type": "dfn", "url": "#iso-8859-10" },
                "#iso-8859-13": { "displayText": "iso-8859-13", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "iso-8859-13", "type": "dfn", "url": "#iso-8859-13" },
                "#iso-8859-14": { "displayText": "iso-8859-14", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "iso-8859-14", "type": "dfn", "url": "#iso-8859-14" },
                "#iso-8859-15": { "displayText": "iso-8859-15", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "iso-8859-15", "type": "dfn", "url": "#iso-8859-15" },
                "#iso-8859-16": { "displayText": "iso-8859-16", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "iso-8859-16", "type": "dfn", "url": "#iso-8859-16" },
                "#iso-8859-2": { "displayText": "iso-8859-2", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "iso-8859-2", "type": "dfn", "url": "#iso-8859-2" },
                "#iso-8859-3": { "displayText": "iso-8859-3", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "iso-8859-3", "type": "dfn", "url": "#iso-8859-3" },
                "#iso-8859-4": { "displayText": "iso-8859-4", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "iso-8859-4", "type": "dfn", "url": "#iso-8859-4" },
                "#iso-8859-5": { "displayText": "iso-8859-5", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "iso-8859-5", "type": "dfn", "url": "#iso-8859-5" },
                "#iso-8859-6": { "displayText": "iso-8859-6", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "iso-8859-6", "type": "dfn", "url": "#iso-8859-6" },
                "#iso-8859-7": { "displayText": "iso-8859-7", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "iso-8859-7", "type": "dfn", "url": "#iso-8859-7" },
                "#iso-8859-8": { "displayText": "iso-8859-8", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "iso-8859-8", "type": "dfn", "url": "#iso-8859-8" },
                "#iso-8859-8-i": { "displayText": "iso-8859-8-i", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "iso-8859-8-i", "type": "dfn", "url": "#iso-8859-8-i" },
                "#koi8-r": { "displayText": "koi8-r", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "koi8-r", "type": "dfn", "url": "#koi8-r" },
                "#koi8-u": { "displayText": "koi8-u", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "koi8-u", "type": "dfn", "url": "#koi8-u" },
                "#label": { "displayText": "label", "export": true, "for_": ["encoding"], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "label", "type": "dfn", "url": "#label" },
                "#macintosh": { "displayText": "macintosh", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "macintosh", "type": "dfn", "url": "#macintosh" },
                "#name": { "displayText": "name", "export": true, "for_": ["encoding"], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "name", "type": "dfn", "url": "#name" },
                "#replacement": { "displayText": "replacement", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "replacement", "type": "dfn", "url": "#replacement" },
                "#replacement-error-returned-flag": { "displayText": "replacement error returned", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "replacement error returned", "type": "dfn", "url": "#replacement-error-returned-flag" },
                "#scalar-value-from-surrogates": { "displayText": "scalar value from surrogates", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "scalar value from surrogates", "type": "dfn", "url": "#scalar-value-from-surrogates" },
                "#shared-utf-16-decoder": { "displayText": "shared utf-16 decoder", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "shared utf-16 decoder", "type": "dfn", "url": "#shared-utf-16-decoder" },
                "#shift_jis": { "displayText": "shift_jis", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "shift_jis", "type": "dfn", "url": "#shift_jis" },
                "#shift_jis-lead": { "displayText": "shift_jis leading", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "shift_jis leading", "type": "dfn", "url": "#shift_jis-lead" },
                "#single-byte-decoder": { "displayText": "single-byte decoder", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "single-byte decoder", "type": "dfn", "url": "#single-byte-decoder" },
                "#single-byte-encoder": { "displayText": "single-byte encoder", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "single-byte encoder", "type": "dfn", "url": "#single-byte-encoder" },
                "#single-byte-encoding": { "displayText": "single-byte encoding", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "single-byte encoding", "type": "dfn", "url": "#single-byte-encoding" },
                "#textdecodeoptions": { "displayText": "TextDecodeOptions", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "TextDecodeOptions", "type": "dictionary", "url": "#textdecodeoptions" },
                "#textdecoder": { "displayText": "TextDecoder", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "TextDecoder", "type": "interface", "url": "#textdecoder" },
                "#textdecoder-bom-seen-flag": { "displayText": "bom seen", "export": true, "for_": ["TextDecoderCommon"], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "bom seen", "type": "dfn", "url": "#textdecoder-bom-seen-flag" },
                "#textdecoder-do-not-flush-flag": { "displayText": "do not flush", "export": true, "for_": ["TextDecoder"], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "do not flush", "type": "dfn", "url": "#textdecoder-do-not-flush-flag" },
                "#textdecoder-encoding": { "displayText": "encoding", "export": true, "for_": ["TextDecoderCommon"], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "encoding", "type": "dfn", "url": "#textdecoder-encoding" },
                "#textdecoder-error-mode": { "displayText": "error mode", "export": true, "for_": ["TextDecoderCommon"], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "error mode", "type": "dfn", "url": "#textdecoder-error-mode" },
                "#textdecoder-ignore-bom-flag": { "displayText": "ignore bom", "export": true, "for_": ["TextDecoderCommon"], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "ignore bom", "type": "dfn", "url": "#textdecoder-ignore-bom-flag" },
                "#textdecodercommon": { "displayText": "TextDecoderCommon", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "TextDecoderCommon", "type": "interface", "url": "#textdecodercommon" },
                "#textdecodercommon-decoder": { "displayText": "decoder", "export": true, "for_": ["TextDecoderCommon"], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "decoder", "type": "dfn", "url": "#textdecodercommon-decoder" },
                "#textdecodercommon-i-o-queue": { "displayText": "i/o queue", "export": true, "for_": ["TextDecoderCommon"], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "i/o queue", "type": "dfn", "url": "#textdecodercommon-i-o-queue" },
                "#textdecoderoptions": { "displayText": "TextDecoderOptions", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "TextDecoderOptions", "type": "dictionary", "url": "#textdecoderoptions" },
                "#textdecoderstream": { "displayText": "TextDecoderStream", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "TextDecoderStream", "type": "interface", "url": "#textdecoderstream" },
                "#textencoder": { "displayText": "TextEncoder", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "TextEncoder", "type": "interface", "url": "#textencoder" },
                "#textencodercommon": { "displayText": "TextEncoderCommon", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "TextEncoderCommon", "type": "interface", "url": "#textencodercommon" },
                "#textencoderstream": { "displayText": "TextEncoderStream", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "TextEncoderStream", "type": "interface", "url": "#textencoderstream" },
                "#textencoderstream-encoder": { "displayText": "encoder", "export": true, "for_": ["TextEncoderStream"], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "encoder", "type": "dfn", "url": "#textencoderstream-encoder" },
                "#textencoderstream-pending-high-surrogate": { "displayText": "leading surrogate", "export": true, "for_": ["TextEncoderStream"], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "leading surrogate", "type": "dfn", "url": "#textencoderstream-pending-high-surrogate" },
                "#to-i-o-queue-convert": { "displayText": "convert", "export": true, "for_": ["to I/O queue"], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "convert", "type": "dfn", "url": "#to-i-o-queue-convert" },
                "#utf-16-lead-byte": { "displayText": "utf-16 leading byte", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "utf-16 leading byte", "type": "dfn", "url": "#utf-16-lead-byte" },
                "#utf-16-lead-surrogate": { "displayText": "utf-16 leading surrogate", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "utf-16 leading surrogate", "type": "dfn", "url": "#utf-16-lead-surrogate" },
                "#utf-16be": { "displayText": "utf-16be", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "utf-16be", "type": "dfn", "url": "#utf-16be" },
                "#utf-16be-decoder-flag": { "displayText": "is utf-16be decoder", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "is utf-16be decoder", "type": "dfn", "url": "#utf-16be-decoder-flag" },
                "#utf-16be-le": { "displayText": "utf-16be/le", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "utf-16be/le", "type": "dfn", "url": "#utf-16be-le" },
                "#utf-16le": { "displayText": "utf-16le", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "utf-16le", "type": "dfn", "url": "#utf-16le" },
                "#utf-8": { "displayText": "utf-8", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "utf-8", "type": "dfn", "url": "#utf-8" },
                "#utf-8-bytes-needed": { "displayText": "utf-8 bytes needed", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "utf-8 bytes needed", "type": "dfn", "url": "#utf-8-bytes-needed" },
                "#utf-8-bytes-seen": { "displayText": "utf-8 bytes seen", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "utf-8 bytes seen", "type": "dfn", "url": "#utf-8-bytes-seen" },
                "#utf-8-code-point": { "displayText": "utf-8 code point", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "utf-8 code point", "type": "dfn", "url": "#utf-8-code-point" },
                "#utf-8-decode": { "displayText": "utf-8 decode", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "utf-8 decode", "type": "dfn", "url": "#utf-8-decode" },
                "#utf-8-decode-without-bom": { "displayText": "utf-8 decode without bom", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "utf-8 decode without bom", "type": "dfn", "url": "#utf-8-decode-without-bom" },
                "#utf-8-decode-without-bom-or-fail": { "displayText": "utf-8 decode without bom or fail", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "utf-8 decode without bom or fail", "type": "dfn", "url": "#utf-8-decode-without-bom-or-fail" },
                "#utf-8-decoder": { "displayText": "utf-8 decoder", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "utf-8 decoder", "type": "dfn", "url": "#utf-8-decoder" },
                "#utf-8-encode": { "displayText": "utf-8 encode", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "utf-8 encode", "type": "dfn", "url": "#utf-8-encode" },
                "#utf-8-encoder": { "displayText": "utf-8 encoder", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "utf-8 encoder", "type": "dfn", "url": "#utf-8-encoder" },
                "#utf-8-lower-boundary": { "displayText": "utf-8 lower boundary", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "utf-8 lower boundary", "type": "dfn", "url": "#utf-8-lower-boundary" },
                "#utf-8-upper-boundary": { "displayText": "utf-8 upper boundary", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "utf-8 upper boundary", "type": "dfn", "url": "#utf-8-upper-boundary" },
                "#windows-1250": { "displayText": "windows-1250", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "windows-1250", "type": "dfn", "url": "#windows-1250" },
                "#windows-1251": { "displayText": "windows-1251", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "windows-1251", "type": "dfn", "url": "#windows-1251" },
                "#windows-1252": { "displayText": "windows-1252", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "windows-1252", "type": "dfn", "url": "#windows-1252" },
                "#windows-1253": { "displayText": "windows-1253", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "windows-1253", "type": "dfn", "url": "#windows-1253" },
                "#windows-1254": { "displayText": "windows-1254", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "windows-1254", "type": "dfn", "url": "#windows-1254" },
                "#windows-1255": { "displayText": "windows-1255", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "windows-1255", "type": "dfn", "url": "#windows-1255" },
                "#windows-1256": { "displayText": "windows-1256", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "windows-1256", "type": "dfn", "url": "#windows-1256" },
                "#windows-1257": { "displayText": "windows-1257", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "windows-1257", "type": "dfn", "url": "#windows-1257" },
                "#windows-1258": { "displayText": "windows-1258", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "windows-1258", "type": "dfn", "url": "#windows-1258" },
                "#windows-874": { "displayText": "windows-874", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "windows-874", "type": "dfn", "url": "#windows-874" },
                "#x-mac-cyrillic": { "displayText": "x-mac-cyrillic", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "x-mac-cyrillic", "type": "dfn", "url": "#x-mac-cyrillic" },
                "#x-user-defined": { "displayText": "x-user-defined", "export": true, "for_": [], "level": "", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "local", "text": "x-user-defined", "type": "dfn", "url": "#x-user-defined" },
                "https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel": { "displayText": "in parallel", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "in parallel", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm": { "displayText": "relevant realm", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "relevant realm", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#event-loop": { "displayText": "event loop", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "event loop", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#event-loop" },
                "https://infra.spec.whatwg.org/#ascii-byte": { "displayText": "ASCII byte", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "ascii byte", "type": "dfn", "url": "https://infra.spec.whatwg.org/#ascii-byte" },
                "https://infra.spec.whatwg.org/#ascii-case-insensitive": { "displayText": "ASCII case-insensitive", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "ascii case-insensitive", "type": "dfn", "url": "https://infra.spec.whatwg.org/#ascii-case-insensitive" },
                "https://infra.spec.whatwg.org/#ascii-code-point": { "displayText": "ASCII code point", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "ascii code point", "type": "dfn", "url": "https://infra.spec.whatwg.org/#ascii-code-point" },
                "https://infra.spec.whatwg.org/#ascii-lowercase": { "displayText": "ASCII lowercase", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "ascii lowercase", "type": "dfn", "url": "https://infra.spec.whatwg.org/#ascii-lowercase" },
                "https://infra.spec.whatwg.org/#ascii-whitespace": { "displayText": "ASCII whitespace", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "ascii whitespace", "type": "dfn", "url": "https://infra.spec.whatwg.org/#ascii-whitespace" },
                "https://infra.spec.whatwg.org/#assert": { "displayText": "assert", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "assert", "type": "dfn", "url": "https://infra.spec.whatwg.org/#assert" },
                "https://infra.spec.whatwg.org/#byte": { "displayText": "byte", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "byte", "type": "dfn", "url": "https://infra.spec.whatwg.org/#byte" },
                "https://infra.spec.whatwg.org/#byte-sequence": { "displayText": "byte sequence", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "byte sequence", "type": "dfn", "url": "https://infra.spec.whatwg.org/#byte-sequence" },
                "https://infra.spec.whatwg.org/#byte-sequence-starts-with": { "displayText": "starts with", "export": true, "for_": ["byte sequence"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "starts with", "type": "dfn", "url": "https://infra.spec.whatwg.org/#byte-sequence-starts-with" },
                "https://infra.spec.whatwg.org/#code-point": { "displayText": "code point", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "code point", "type": "dfn", "url": "https://infra.spec.whatwg.org/#code-point" },
                "https://infra.spec.whatwg.org/#code-point-value": { "displayText": "value", "export": true, "for_": ["code point"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "value", "type": "dfn", "url": "https://infra.spec.whatwg.org/#code-point-value" },
                "https://infra.spec.whatwg.org/#code-unit": { "displayText": "code unit", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "code unit", "type": "dfn", "url": "https://infra.spec.whatwg.org/#code-unit" },
                "https://infra.spec.whatwg.org/#isomorphic-decode": { "displayText": "isomorphic decode", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "isomorphic decode", "type": "dfn", "url": "https://infra.spec.whatwg.org/#isomorphic-decode" },
                "https://infra.spec.whatwg.org/#iteration-break": { "displayText": "break", "export": true, "for_": ["iteration"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "break", "type": "dfn", "url": "https://infra.spec.whatwg.org/#iteration-break" },
                "https://infra.spec.whatwg.org/#iteration-continue": { "displayText": "continue", "export": true, "for_": ["iteration"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "continue", "type": "dfn", "url": "https://infra.spec.whatwg.org/#iteration-continue" },
                "https://infra.spec.whatwg.org/#javascript-string-convert": { "displayText": "convert", "export": true, "for_": ["string", "JavaScript string"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "convert", "type": "dfn", "url": "https://infra.spec.whatwg.org/#javascript-string-convert" },
                "https://infra.spec.whatwg.org/#leading-surrogate": { "displayText": "leading surrogate", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "leading surrogate", "type": "dfn", "url": "https://infra.spec.whatwg.org/#leading-surrogate" },
                "https://infra.spec.whatwg.org/#list": { "displayText": "list", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "list", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list" },
                "https://infra.spec.whatwg.org/#list-append": { "displayText": "append", "export": true, "for_": ["list"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "append", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-append" },
                "https://infra.spec.whatwg.org/#list-contain": { "displayText": "contain", "export": true, "for_": ["list", "stack", "queue", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "contain", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-contain" },
                "https://infra.spec.whatwg.org/#list-insert": { "displayText": "insert", "export": true, "for_": ["list", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "insert", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-insert" },
                "https://infra.spec.whatwg.org/#list-is-empty": { "displayText": "is empty", "export": true, "for_": ["list", "stack", "queue", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "is empty", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-is-empty" },
                "https://infra.spec.whatwg.org/#list-item": { "displayText": "item", "export": true, "for_": ["list", "stack", "queue", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "item", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-item" },
                "https://infra.spec.whatwg.org/#list-iterate": { "displayText": "for each", "export": true, "for_": ["list", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "for each", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-iterate" },
                "https://infra.spec.whatwg.org/#list-prepend": { "displayText": "prepend", "export": true, "for_": ["list"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "prepend", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-prepend" },
                "https://infra.spec.whatwg.org/#list-remove": { "displayText": "remove", "export": true, "for_": ["list", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "remove", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-remove" },
                "https://infra.spec.whatwg.org/#list-size": { "displayText": "size", "export": true, "for_": ["list", "stack", "queue", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "size", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-size" },
                "https://infra.spec.whatwg.org/#queue": { "displayText": "queue", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "queue", "type": "dfn", "url": "https://infra.spec.whatwg.org/#queue" },
                "https://infra.spec.whatwg.org/#scalar-value": { "displayText": "scalar value", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "scalar value", "type": "dfn", "url": "https://infra.spec.whatwg.org/#scalar-value" },
                "https://infra.spec.whatwg.org/#scalar-value-string": { "displayText": "scalar value string", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "scalar value string", "type": "dfn", "url": "https://infra.spec.whatwg.org/#scalar-value-string" },
                "https://infra.spec.whatwg.org/#string": { "displayText": "string", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "string", "type": "dfn", "url": "https://infra.spec.whatwg.org/#string" },
                "https://infra.spec.whatwg.org/#surrogate": { "displayText": "surrogate", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "surrogate", "type": "dfn", "url": "https://infra.spec.whatwg.org/#surrogate" },
                "https://infra.spec.whatwg.org/#the-range": { "displayText": "the range", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "the range", "type": "dfn", "url": "https://infra.spec.whatwg.org/#the-range" },
                "https://infra.spec.whatwg.org/#trailing-surrogate": { "displayText": "trailing surrogate", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "trailing surrogate", "type": "dfn", "url": "https://infra.spec.whatwg.org/#trailing-surrogate" },
                "https://streams.spec.whatwg.org/#chunk": { "displayText": "chunk", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "chunk", "type": "dfn", "url": "https://streams.spec.whatwg.org/#chunk" },
                "https://streams.spec.whatwg.org/#dom-generictransformstream-readable": { "displayText": "readable", "export": true, "for_": ["GenericTransformStream"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "readable", "type": "attribute", "url": "https://streams.spec.whatwg.org/#dom-generictransformstream-readable" },
                "https://streams.spec.whatwg.org/#dom-generictransformstream-writable": { "displayText": "writable", "export": true, "for_": ["GenericTransformStream"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "writable", "type": "attribute", "url": "https://streams.spec.whatwg.org/#dom-generictransformstream-writable" },
                "https://streams.spec.whatwg.org/#generictransformstream": { "displayText": "GenericTransformStream", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "GenericTransformStream", "type": "interface", "url": "https://streams.spec.whatwg.org/#generictransformstream" },
                "https://streams.spec.whatwg.org/#generictransformstream-transform": { "displayText": "transform", "export": true, "for_": ["GenericTransformStream"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "transform", "type": "dfn", "url": "https://streams.spec.whatwg.org/#generictransformstream-transform" },
                "https://streams.spec.whatwg.org/#readable-stream": { "displayText": "readable stream", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "readable stream", "type": "dfn", "url": "https://streams.spec.whatwg.org/#readable-stream" },
                "https://streams.spec.whatwg.org/#readablestream": { "displayText": "ReadableStream", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "ReadableStream", "type": "interface", "url": "https://streams.spec.whatwg.org/#readablestream" },
                "https://streams.spec.whatwg.org/#rs-pipe-through": { "displayText": "pipeThrough(transform)", "export": true, "for_": ["ReadableStream"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "pipeThrough(transform)", "type": "method", "url": "https://streams.spec.whatwg.org/#rs-pipe-through" },
                "https://streams.spec.whatwg.org/#transformstream": { "displayText": "TransformStream", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "TransformStream", "type": "interface", "url": "https://streams.spec.whatwg.org/#transformstream" },
                "https://streams.spec.whatwg.org/#transformstream-enqueue": { "displayText": "enqueue", "export": true, "for_": ["TransformStream"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "enqueue", "type": "dfn", "url": "https://streams.spec.whatwg.org/#transformstream-enqueue" },
                "https://streams.spec.whatwg.org/#transformstream-set-up": { "displayText": "set up", "export": true, "for_": ["TransformStream"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "set up", "type": "dfn", "url": "https://streams.spec.whatwg.org/#transformstream-set-up" },
                "https://streams.spec.whatwg.org/#transformstream-set-up-flushalgorithm": { "displayText": "flushAlgorithm", "export": true, "for_": ["TransformStream/set up"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "flushalgorithm", "type": "dfn", "url": "https://streams.spec.whatwg.org/#transformstream-set-up-flushalgorithm" },
                "https://streams.spec.whatwg.org/#transformstream-set-up-transformalgorithm": { "displayText": "transformAlgorithm", "export": true, "for_": ["TransformStream/set up"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "transformalgorithm", "type": "dfn", "url": "https://streams.spec.whatwg.org/#transformstream-set-up-transformalgorithm" },
                "https://streams.spec.whatwg.org/#writable-stream": { "displayText": "writable stream", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "writable stream", "type": "dfn", "url": "https://streams.spec.whatwg.org/#writable-stream" },
                "https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#realm": { "displayText": "realm", "export": true, "for_": ["ECMAScript"], "level": "1", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "current", "text": "realm", "type": "dfn", "url": "https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#realm" },
                "https://webidl.spec.whatwg.org/#AllowShared": { "displayText": "AllowShared", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "AllowShared", "type": "extended-attribute", "url": "https://webidl.spec.whatwg.org/#AllowShared" },
                "https://webidl.spec.whatwg.org/#AllowSharedBufferSource": { "displayText": "AllowSharedBufferSource", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "AllowSharedBufferSource", "type": "typedef", "url": "https://webidl.spec.whatwg.org/#AllowSharedBufferSource" },
                "https://webidl.spec.whatwg.org/#NewObject": { "displayText": "NewObject", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "NewObject", "type": "extended-attribute", "url": "https://webidl.spec.whatwg.org/#NewObject" },
                "https://webidl.spec.whatwg.org/#arraybufferview-create": { "displayText": "create", "export": true, "for_": ["ArrayBufferView"], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "create", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#arraybufferview-create" },
                "https://webidl.spec.whatwg.org/#arraybufferview-write": { "displayText": "write", "export": true, "for_": ["ArrayBufferView"], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "write", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#arraybufferview-write" },
                "https://webidl.spec.whatwg.org/#arraybufferview-write-startingoffset": { "displayText": "startingOffset", "export": true, "for_": ["ArrayBufferView/write"], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "startingoffset", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#arraybufferview-write-startingoffset" },
                "https://webidl.spec.whatwg.org/#buffersource-byte-length": { "displayText": "byte length", "export": true, "for_": ["BufferSource"], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "byte length", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#buffersource-byte-length" },
                "https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value": { "displayText": "converted to an IDL value", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "converted to an idl value", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value" },
                "https://webidl.spec.whatwg.org/#dfn-get-buffer-source-copy": { "displayText": "get a copy of the buffer source", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "get a copy of the buffer source", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-get-buffer-source-copy" },
                "https://webidl.spec.whatwg.org/#dfn-throw": { "displayText": "throw", "export": true, "for_": ["exception"], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "throw", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-throw" },
                "https://webidl.spec.whatwg.org/#exceptiondef-rangeerror": { "displayText": "RangeError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "RangeError", "type": "exception", "url": "https://webidl.spec.whatwg.org/#exceptiondef-rangeerror" },
                "https://webidl.spec.whatwg.org/#exceptiondef-typeerror": { "displayText": "TypeError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "TypeError", "type": "exception", "url": "https://webidl.spec.whatwg.org/#exceptiondef-typeerror" },
                "https://webidl.spec.whatwg.org/#idl-ArrayBuffer": { "displayText": "ArrayBuffer", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "ArrayBuffer", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-ArrayBuffer" },
                "https://webidl.spec.whatwg.org/#idl-DOMString": { "displayText": "DOMString", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "DOMString", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-DOMString" },
                "https://webidl.spec.whatwg.org/#idl-USVString": { "displayText": "USVString", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "USVString", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-USVString" },
                "https://webidl.spec.whatwg.org/#idl-Uint32Array": { "displayText": "Uint32Array", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "Uint32Array", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-Uint32Array" },
                "https://webidl.spec.whatwg.org/#idl-Uint8Array": { "displayText": "Uint8Array", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "Uint8Array", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-Uint8Array" },
                "https://webidl.spec.whatwg.org/#idl-boolean": { "displayText": "boolean", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "boolean", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-boolean" },
                "https://webidl.spec.whatwg.org/#idl-unsigned-long-long": { "displayText": "unsigned long long", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "unsigned long long", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-unsigned-long-long" },
                "https://webidl.spec.whatwg.org/#new": { "displayText": "new", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "new", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#new" },
                "https://webidl.spec.whatwg.org/#this": { "displayText": "this", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "this", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#this" },
            };

            function mkRefHint(link, ref) {
                const linkText = link.textContent;
                let dfnTextElements = '';
                if (ref.displayText.toLowerCase() != linkText.toLowerCase()) {
                    // Give the original term if it's being displayed in a different way.
                    // But allow casing differences, they're insignificant.
                    dfnTextElements =
                        mk.li({},
                            mk.b({}, "Term: "),
                            mk.span({}, ref.displayText)
                        );
                }
                const forList = ref.for_;
                let forListElements;
                if (forList.length == 0) {
                    forListElements = [];
                } else if (forList.length == 1) {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.span({}, forList[0]),
                    );
                } else {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.ul({},
                            ...forList.map(forItem =>
                                mk.li({},
                                    mk.span({}, forItem)
                                ),
                            ),
                        ),
                    );
                }
                const url = ref.url;
                const safeUrl = encodeURIComponent(url);
                const hintPanel = mk.aside({
                    class: "ref-hint",
                    id: `ref-hint-for-${safeUrl}`,
                    "data-for": url,
                    "aria-labelled-by": `ref-hint-for-${safeUrl}`,
                },
                    mk.ul({},
                        dfnTextElements,
                        mk.li({},
                            mk.b({}, "URL: "),
                            mk.a({ href: url, class: "ref" }, url),
                        ),
                        mk.li({},
                            mk.b({}, "Type: "),
                            mk.span({}, `${ref.type}`),
                        ),
                        mk.li({},
                            mk.b({}, "Spec: "),
                            mk.span({}, `${ref.spec ? ref.spec : ''}`),
                        ),
                        forListElements
                    ),
                );
                hintPanel.forLink = link;
                setupRefHintEventListeners(link, hintPanel);
                return hintPanel;
            }

            function hideAllRefHints() {
                queryAll(".ref-hint").forEach(el => hideRefHint(el));
            }

            function hideRefHint(refHint) {
                const link = refHint.forLink;
                link.setAttribute("aria-expanded", "false");
                if (refHint.teardownEventListeners) {
                    refHint.teardownEventListeners();
                }
                refHint.remove();
            }

            function showRefHint(link) {
                if (link.classList.contains("dfn-link")) return;
                const url = link.getAttribute("href");
                const refHintKey = link.getAttribute("data-refhint-key");
                let key = url;
                if (refHintKey) {
                    key = refHintKey + "_" + url;
                }
                const ref = refsData[key];
                if (!ref) return;

                hideAllRefHints(); // Only display one at this time.

                const refHint = mkRefHint(link, ref);
                append(document.body, refHint);
                link.setAttribute("aria-expanded", "true");
                positionRefHint(refHint);
            }

            function setupRefHintEventListeners(link, refHint) {
                if (refHint.teardownEventListeners) return;
                // Add event handlers to hide the refHint after the user moves away
                // from both the link and refHint, if not hovering either within one second.
                let timeout = null;
                const startHidingRefHint = (event) => {
                    if (timeout) {
                        clearTimeout(timeout);
                    }
                    timeout = setTimeout(() => {
                        hideRefHint(refHint);
                    }, 1000);
                }
                const resetHidingRefHint = (event) => {
                    if (timeout) clearTimeout(timeout);
                    timeout = null;
                };
                link.addEventListener("mouseleave", startHidingRefHint);
                link.addEventListener("mouseenter", resetHidingRefHint);
                link.addEventListener("blur", startHidingRefHint);
                link.addEventListener("focus", resetHidingRefHint);
                refHint.addEventListener("mouseleave", startHidingRefHint);
                refHint.addEventListener("mouseenter", resetHidingRefHint);
                refHint.addEventListener("blur", startHidingRefHint);
                refHint.addEventListener("focus", resetHidingRefHint);

                refHint.teardownEventListeners = () => {
                    // remove event listeners
                    resetHidingRefHint();
                    link.removeEventListener("mouseleave", startHidingRefHint);
                    link.removeEventListener("mouseenter", resetHidingRefHint);
                    link.removeEventListener("blur", startHidingRefHint);
                    link.removeEventListener("focus", resetHidingRefHint);
                    refHint.removeEventListener("mouseleave", startHidingRefHint);
                    refHint.removeEventListener("mouseenter", resetHidingRefHint);
                    refHint.removeEventListener("blur", startHidingRefHint);
                    refHint.removeEventListener("focus", resetHidingRefHint);
                };
            }

            function positionRefHint(refHint) {
                const link = refHint.forLink;
                const linkPos = getBounds(link);
                refHint.style.top = linkPos.bottom + "px";
                refHint.style.left = linkPos.left + "px";

                const panelPos = refHint.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);
                    refHint.style.left = newLeft + "px";
                }
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function showRefHintListener(e) {
                // If the target isn't in a link (or is a link),
                // just ignore it.
                let link = e.target.closest("a");
                if (!link) return;

                // If the target is in a ref-hint panel
                // (aka a link in the already-open one),
                // also just ignore it.
                if (link.closest(".ref-hint")) return;

                // Otherwise, show the panel for the link.
                showRefHint(link);
            }

            function hideAllHintsListener(e) {
                // If the click is inside a ref-hint panel, ignore it.
                if (e.target.closest(".ref-hint")) return;
                // Otherwise, close all the current panels.
                hideAllRefHints();
            }

            document.addEventListener("DOMContentLoaded", () => {
                document.body.addEventListener("mousedown", showRefHintListener);
                document.body.addEventListener("focus", showRefHintListener);

                document.body.addEventListener("click", hideAllHintsListener);
            });

            window.addEventListener("resize", () => {
                // Hide any open ref hint.
                hideAllRefHints();
            });
        }
    </script>
    <script>/* Boilerplate: script-var-click-highlighting */
        "use strict";
        {
            /*
            Color-choosing design:
            
            * Colors are ordered by goodness.
            * On clicking a var, give it the earliest color
                with the lowest usage in the algorithm.
            * On re-clicking, re-use the var's most recent color
                if that's not currently being used elsewhere.
            */

            const COLOR_COUNT = 7;

            document.addEventListener("click", e => {
                if (e.target.nodeName == "VAR") {
                    highlightSameAlgoVars(e.target);
                }
            });

            function highlightSameAlgoVars(v) {
                // Find the algorithm container.
                let algoContainer = findAlgoContainer(v);

                // Not highlighting document-global vars,
                // too likely to be unrelated.
                if (algoContainer == null) return;

                const varName = nameFromVar(v);
                if (!v.hasAttribute("data-var-color")) {
                    const newColor = chooseHighlightColor(algoContainer, v);
                    for (const el of algoContainer.querySelectorAll("var")) {
                        if (nameFromVar(el) == varName) {
                            el.setAttribute("data-var-color", newColor);
                            el.setAttribute("data-var-last-color", newColor);
                        }
                    }
                } else {
                    for (const el of algoContainer.querySelectorAll("var")) {
                        if (nameFromVar(el) == varName) {
                            el.removeAttribute("data-var-color");
                        }
                    }
                }
            }
            function findAlgoContainer(el) {
                while (el != document.body) {
                    if (el.hasAttribute("data-algorithm")) return el;
                    el = el.parentNode;
                }
                return null;
            }
            function nameFromVar(el) {
                return el.textContent.replace(/(\s|\xa0)+/g, " ").trim();
            }
            function colorCountsFromContainer(container) {
                const namesFromColor = Array.from({ length: COLOR_COUNT }, x => new Set());
                for (let v of container.querySelectorAll("var[data-var-color]")) {
                    let color = +v.getAttribute("data-var-color");
                    namesFromColor[color].add(nameFromVar(v));
                }

                return namesFromColor.map(x => x.size);
            }
            function leastUsedColor(colors) {
                // Find the earliest color with the lowest count.
                let minCount = Infinity;
                let minColor = null;
                for (var i = 0; i < colors.length; i++) {
                    if (colors[i] < minCount) {
                        minColor = i;
                        minCount = colors[i];
                    }
                }
                return minColor;
            }
            function chooseHighlightColor(container, v) {
                const colorCounts = colorCountsFromContainer(container);
                if (v.hasAttribute("data-var-last-color")) {
                    let color = +v.getAttribute("data-var-last-color");
                    if (colorCounts[color] == 0) return color;
                }
                return leastUsedColor(colorCounts);
            }
        }
    </script>
    <script src="/dropdown.js"></script>