<!DOCTYPE html>
<html lang="zh-hans" dir="ltr" typeof="bibo:Document w3p:REC"
    prefix="bibo: http://purl.org/ontology/bibo/ w3p: http://www.w3.org/2001/02pd/rec54#">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- <meta lang="" property="dc:language" content="en"> -->
    <style>
        /*

github.com style (c) Vasily Polovnyov <vast@whiteants.net>

*/

        .hljs {
            display: block;
            overflow-x: auto;
            padding: 0.5em;
            color: #333;
            background: #f8f8f8;
        }

        .hljs-comment,
        .hljs-quote {
            color: #998;
            font-style: italic;
        }

        .hljs-keyword,
        .hljs-selector-tag,
        .hljs-subst {
            color: #333;
            font-weight: bold;
        }

        .hljs-number,
        .hljs-literal,
        .hljs-variable,
        .hljs-template-variable,
        .hljs-tag .hljs-attr {
            color: #008080;
        }

        .hljs-string,
        .hljs-doctag {
            color: #d14;
        }

        .hljs-title,
        .hljs-section,
        .hljs-selector-id {
            color: #900;
            font-weight: bold;
        }

        .hljs-subst {
            font-weight: normal;
        }

        .hljs-type,
        .hljs-class .hljs-title {
            color: #458;
            font-weight: bold;
        }

        .hljs-tag,
        .hljs-name,
        .hljs-attribute {
            color: #000080;
            font-weight: normal;
        }

        .hljs-regexp,
        .hljs-link {
            color: #009926;
        }

        .hljs-symbol,
        .hljs-bullet {
            color: #990073;
        }

        .hljs-built_in,
        .hljs-builtin-name {
            color: #0086b3;
        }

        .hljs-meta {
            color: #999;
            font-weight: bold;
        }

        .hljs-deletion {
            background: #fdd;
        }

        .hljs-addition {
            background: #dfd;
        }

        .hljs-emphasis {
            font-style: italic;
        }

        .hljs-strong {
            font-weight: bold;
        }
    </style>
    <style>
        /* --- EXAMPLES --- */

        div.example-title {
            min-width: 7.5em;
            color: #b9ab2d;
        }

        div.example-title span {
            text-transform: uppercase;
        }

        aside.example,
        div.example,
        div.illegal-example {
            padding: 0.5em;
            margin: 1em 0;
            position: relative;
            clear: both;
        }

        div.illegal-example {
            color: red
        }

        div.illegal-example p {
            color: black
        }

        aside.example,
        div.example {
            padding: .5em;
            border-left-width: .5em;
            border-left-style: solid;
            border-color: #e0cb52;
            background: #fcfaee;
        }

        aside.example div.example {
            border-left-width: .1em;
            border-color: #999;
            background: #fff;
        }

        aside.example div.example div.example-title {
            color: #999;
        }
    </style>
    <style>
        /* --- ISSUES/NOTES --- */

        div.issue-title,
        div.note-title,
        div.ednote-title,
        div.warning-title {
            padding-right: 1em;
            min-width: 7.5em;
            color: #b9ab2d;
        }

        div.issue-title {
            color: #e05252;
        }

        div.note-title,
        div.ednote-title {
            color: #2b2;
        }

        div.warning-title {
            color: #f22;
        }

        div.issue-title span,
        div.note-title span,
        div.ednote-title span,
        div.warning-title span {
            text-transform: uppercase;
        }

        div.note,
        div.issue,
        div.ednote,
        div.warning {
            margin-top: 1em;
            margin-bottom: 1em;
        }

        .note>p:first-child,
        .ednote>p:first-child,
        .issue>p:first-child,
        .warning>p:first-child {
            margin-top: 0
        }

        .issue,
        .note,
        .ednote,
        .warning {
            padding: .5em;
            border-left-width: .5em;
            border-left-style: solid;
        }

        div.issue,
        div.note,
        div.ednote,
        div.warning {
            padding: 1em 1.2em 0.5em;
            margin: 1em 0;
            position: relative;
            clear: both;
        }

        span.note,
        span.ednote,
        span.issue,
        span.warning {
            padding: .1em .5em .15em;
        }

        .issue {
            border-color: #e05252;
            background: #fbe9e9;
        }

        .note,
        .ednote {
            border-color: #52e052;
            background: #e9fbe9;
        }

        .warning {
            border-color: #f11;
            border-width: .2em;
            border-style: solid;
            background: #fbe9e9;
        }

        .warning-title:before {
            content: "⚠";
            /*U+26A0 WARNING SIGN*/
            font-size: 3em;
            float: left;
            height: 100%;
            padding-right: .3em;
            vertical-align: top;
            margin-top: -0.5em;
        }

        li.task-list-item {
            list-style: none;
        }

        input.task-list-item-checkbox {
            margin: 0 0.35em 0.25em -1.6em;
            vertical-align: middle;
        }
    </style>
    <style id="respec-mainstyle">
        /*****************************************************************
 * ReSpec 3 CSS
 * Robin Berjon - http://berjon.com/
 *****************************************************************/
        /* Override code highlighter background */

        .hljs {
            background: transparent !important;
        }

        /* --- INLINES --- */

        em.rfc2119 {
            text-transform: lowercase;
            font-variant: small-caps;
            font-style: normal;
            color: #900;
        }

        h1 acronym,
        h2 acronym,
        h3 acronym,
        h4 acronym,
        h5 acronym,
        h6 acronym,
        a acronym,
        h1 abbr,
        h2 abbr,
        h3 abbr,
        h4 abbr,
        h5 abbr,
        h6 abbr,
        a abbr {
            border: none;
        }

        dfn {
            font-weight: bold;
        }

        a.internalDFN {
            color: inherit;
            border-bottom: 1px solid #99c;
            text-decoration: none;
        }

        a.externalDFN {
            color: inherit;
            border-bottom: 1px dotted #ccc;
            text-decoration: none;
        }

        a.bibref {
            text-decoration: none;
        }

        cite .bibref {
            font-style: normal;
        }

        code {
            color: #C83500;
        }

        th code {
            color: inherit;
        }

        /* --- TOC --- */

        .toc a,
        .tof a {
            text-decoration: none;
        }

        a .secno,
        a .figno {
            color: #000;
        }

        ul.tof,
        ol.tof {
            list-style: none outside none;
        }

        .caption {
            margin-top: 0.5em;
            font-style: italic;
        }

        /* --- TABLE --- */

        table.simple {
            border-spacing: 0;
            border-collapse: collapse;
            border-bottom: 3px solid #005a9c;
        }

        .simple th {
            background: #005a9c;
            color: #fff;
            padding: 3px 5px;
            text-align: left;
        }

        .simple th[scope="row"] {
            background: inherit;
            color: inherit;
            border-top: 1px solid #ddd;
        }

        .simple td {
            padding: 3px 10px;
            border-top: 1px solid #ddd;
        }

        .simple tr:nth-child(even) {
            background: #f0f6ff;
        }

        /* --- DL --- */

        .section dd>p:first-child {
            margin-top: 0;
        }

        .section dd>p:last-child {
            margin-bottom: 0;
        }

        .section dd {
            margin-bottom: 1em;
        }

        .section dl.attrs dd,
        .section dl.eldef dd {
            margin-bottom: 0;
        }

        .respec-hidden {
            display: none;
        }

        #respec-ui {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 202px;
            text-align: right;
        }

        #respec-pill,
        .respec-info-button {
            background: #fff;
            height: 2.5em;
            color: rgb(120, 120, 120);
            border: 1px solid #ccc;
            box-shadow: 1px 1px 8px 0 rgba(100, 100, 100, .5);
        }

        .respec-info-button {
            border: none;
            border-radius: 2em;
            margin-right: 1em;
            min-width: 3.5em;
        }

        #respec-pill:disabled {
            margin: 10px auto;
            font-size: 2.8px;
            position: relative;
            text-indent: -9999em;
            border-top: 1.1em solid rgba(40, 40, 40, 0.2);
            border-right: 1.1em solid rgba(40, 40, 40, 0.2);
            border-bottom: 1.1em solid rgba(40, 40, 40, 0.2);
            border-left: 1.1em solid #ffffff;
            transform: translateZ(0);
            animation: respec-spin 1.1s infinite linear;
            box-shadow: none;
        }

        #respec-pill:disabled,
        #respec-pill:disabled:after {
            border-radius: 50%;
            width: 10em;
            height: 10em;
        }

        @keyframes respec-spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        #respec-pill:hover,
        #respec-pill:focus {
            color: rgb(0, 0, 0);
            transition: color .2s
        }

        #respec-menu {
            font-family: sans-serif;
            background: #fff;
            box-shadow: 1px 1px 8px 0 rgba(100, 100, 100, .5);
            width: 200px;
            display: none;
            text-align: left;
            margin-top: 5px;
            font-size: .8em;
        }

        .respec-save-button {
            background: #fff;
            border: 1px solid #000;
            border-radius: 5px;
            padding: 5px;
            margin: 5px;
            display: block;
            width: 100%;
            color: #000;
            text-decoration: none;
            text-align: center;
            font-size: inherit;
        }

        #respec-ui button:focus,
        #respec-pill:focus,
        .respec-option:focus {
            outline: 0;
            outline-style: none;
        }

        #respec-ui button.respec-pill-error {
            background-color: red;
            color: white;
        }

        #respec-ui button.respec-pill-warning {
            background-color: orange;
            color: white;
        }

        #respec-menu button.respec-option {
            background: white;
            border: none;
            width: 100%;
            text-align: left;
            font-size: inherit;
            padding: 1.2em 1.2em;
        }

        #respec-menu button.respec-option:hover {
            background-color: #eeeeee;
        }

        .respec-cmd-icon {
            padding-right: .5em;
        }

        #respec-ui button.respec-option:last-child {
            border: none;
            border-radius: inherit;
        }

        .respec-offending-element {
            display: inline-block;
            position: relative;
            background: url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x;
        }

        @media print {
            .removeOnSave {
                display: none;
            }
        }
    </style>
    <title>Webmention</title>




    <link rel="pingback" href="https://webmention.net/pingback.php">
    <link rel="webmention" href="https://webmention.net/endpoint.php">
    <!--[if lt IE 9]><script src='https://www.w3.org/2008/site/js/html5shiv.js'></script><![endif]-->
    <script id="initialUserConfig" type="application/json">
    {
      "useExperimentalStyles": true,
      "publishDate": "2017-01-12",
      "specStatus": "REC",
      "previousMaturity": "PR",
      "previousPublishDate": "2016-11-01",
      "shortName": "webmention",
      "edDraftURI": "https://webmention.net/draft/",
      "testSuiteURI": "https://webmention.rocks/",
      "implementationReportURI": "https://webmention.net/implementation-reports/",
      "editors": [
      {
        "name": "Aaron Parecki",
        "url": "https://aaronparecki.com/",
        "w3cid": "59996"
      }],
      "wg": "Social Web Working Group",
      "wgURI": "http://www.w3.org/Social/WG",
      "wgPublicList": "public-socialweb",
      "wgPatentURI": "https://www.w3.org/2004/01/pp-impl/72531/status",
      "errata": "https://webmention.net/errata/",
      "license": "w3c-software-doc",
      "postProcess": [
        null
      ],
      "otherLinks": [
      {
        "key": "Repository",
        "data": [
        {
          "value": "Github",
          "href": "https://github.com/w3c/webmention"
        },
        {
          "value": "Issues",
          "href": "https://github.com/w3c/webmention/issues"
        },
        {
          "value": "Commits",
          "href": "https://github.com/w3c/webmention/commits/master"
        }]
      }],
      "localBiblio":
      {
        "Vouch":
        {
          "title": "Vouch",
          "href": "https://indieweb.org/Vouch",
          "authors": [
            "Aaron Parecki",
            "Tantek Çelik"
          ],
          "status": "Living Specification",
          "publisher": "IndieWeb"
        },
        "Salmention":
        {
          "title": "Salmention",
          "href": "https://indieweb.org/Salmention",
          "authors": [
            "Ben Roberts",
            "Tantek Çelik"
          ],
          "status": "Living Specification",
          "publisher": "IndieWeb"
        },
        "Private-Webmention":
        {
          "title": "Private Webmention",
          "href": "https://indieweb.org/Private-Webmention",
          "authors": [
            "Aaron Parecki"
          ],
          "status": "Living Specification",
          "publisher": "IndieWeb"
        },
        "microformats2-parsing":
        {
          "title": "Microformats2 Parsing",
          "href": "http://microformats.org/wiki/microformats2-parsing",
          "authors": [
            "Tantek Çelik"
          ],
          "status": "Living Specification",
          "publisher": "microformats.org"
        },
        "h-entry":
        {
          "title": "h-entry",
          "href": "http://microformats.org/wiki/h-entry",
          "authors": [
            "Tantek Çelik"
          ],
          "status": "Living Specification",
          "publisher": "microformats.org"
        },
        "Pingback":
        {
          "title": "Pingback 1.0",
          "href": "http://www.hixie.ch/specs/pingback/pingback",
          "authors": [
            "Stuart Langridge",
            "Ian Hickson"
          ],
          "status": "Stable Specification",
          "publisher": "hixie.ch"
        },
        "URL":
        {
          "title": "URL Standard",
          "href": "https://url.spec.whatwg.org/",
          "authors": [
            "<div class=\"note\"><p><b>Note:</b> URLs can be used in numerous different manners, in many differing contexts. For the purpose of producing strict URLs one may wish to consider [<a href=\"https://www.ietf.org/rfc/rfc3986\">RFC3986</a>] and [<a href=\"https://www.ietf.org/rfc/rfc3987\">RFC3987</a>]. The URL specification defines the term URL, various algorithms for dealing with URLs, and an API for constructing, parsing, and resolving URLs. Developers are advised to keep abreast of the latest URL developments by tracking the progress of <a href=\"https://url.spec.whatwg.org/\">https://url.spec.whatwg.org/</a>.</p> <p>As a word of caution, there are notable differences in the manner in which Web browsers and other software stacks outside the HTML context handle URLs. While no changes would be accepted to URL processing that would break existing Web content, some important parts of URL processing should therefore be considered as implementation-defined (e.g. parsing <code>file:</code> URLs or operating on URLs that would be syntax errors under the [<a href=\"https://www.ietf.org/rfc/rfc3986\">RFC3986</a>] [<a href=\"https://www.ietf.org/rfc/rfc3987\">RFC3987</a>] syntax).</p></div> Anne van Kesteren"
          ],
          "status": "Continually Updated Specification",
          "publisher": "WHATWG"
        },
        "CSRF":
        {
          "title": "Cross-Site Request Forgery",
          "href": "https://www.owasp.org/index.php/Cross-Site_Request_Forgery_(CSRF)",
          "authors": [],
          "status": "Living Document",
          "publisher": "OWASP"
        },
        "XSS":
        {
          "title": "Cross-Site Scripting",
          "href": "https://www.owasp.org/index.php/Cross-site_Scripting_(XSS)",
          "authors": [],
          "status": "Living Document",
          "publisher": "OWASP"
        }
      }
    }
  </script>
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/W3C-REC">
    <meta name="generator" content="ReSpec 8.4.1">
    <link rel="canonical" href="https://www.w3.org/TR/webmention/">
</head>

<body class="h-entry toc-inline" role="document" id="respecDocument">
    <div class="head" role="contentinfo" id="respecHeader">
        <p>
            <a class="logo" href="https://www.w3.org/"><img width="72" height="48"
                    src="https://www.w3.org/StyleSheets/TR/2016/logos/W3C" alt="W3C"></a>
        </p>
        <h1 class="title p-name" id="title" property="dcterms:title">Webmention</h1>
        <h2 id="w3c-recommendation-12-january-2017"><abbr title="World Wide Web Consortium">W3C</abbr> 推荐
            <time property="dcterms:issued" class="dt-published" datetime="2017-01-12">2017年1月12日</time>
        </h2>
        <dl>
            <dt>本版本：</dt>
            <dd><a class="u-url"
                    href="https://www.w3.org/TR/2017/REC-webmention-20170112/">https://www.w3.org/TR/2017/REC-webmention-20170112/</a>
            </dd>
            <dt>最新发布版本：</dt>
            <dd><a href="https://www.w3.org/TR/webmention/">https://www.w3.org/TR/webmention/</a></dd>
            <dt>最新编辑草稿：</dt>
            <dd><a href="https://webmention.net/draft/">https://webmention.net/draft/</a></dd>
            <dt>测试套件：</dt>
            <dd><a href="https://webmention.rocks/">https://webmention.rocks/</a></dd>
            <dt>实现报告：</dt>
            <dd><a
                    href="https://webmention.net/implementation-reports/">https://webmention.net/implementation-reports/</a>
            </dd>
            <dt>先前版本：</dt>
            <dd><a rel="dcterms:replaces"
                    href="https://www.w3.org/TR/2016/PR-webmention-20161101/">https://www.w3.org/TR/2016/PR-webmention-20161101/</a>
            </dd>
            <dt>编辑：</dt>
            <dd class="p-author h-card vcard" property="bibo:editor" resource="_:editor0" data-editor-id="59996"><span
                    property="rdf:first" typeof="foaf:Person">
                    <meta property="foaf:name" content="Aaron Parecki"><a class="u-url url p-name fn"
                        property="foaf:homepage" href="https://aaronparecki.com/">Aaron Parecki</a>
                </span>
                <span property="rdf:rest" resource="rdf:nil"></span>
            </dd>

            <dt>代码库：</dt>
            <dd>
                <a href="https://github.com/w3c/webmention">
                    Github
                </a>
            </dd>
            <dd>
                <a href="https://github.com/w3c/webmention/issues">
                    问题
                </a>
            </dd>
            <dd>
                <a href="https://github.com/w3c/webmention/commits/master">
                    提交记录
                </a>
            </dd>
        </dl>
        <p>
            请查阅 <a href="https://webmention.net/errata/"><strong>勘误表</strong></a>，了解自本规范发布以来报告的所有错误或问题。
        </p>
        <p>
            本规范的英文版本为唯一具有规范效力的版本。也可能会有非规范性的
            <a
                href="https://www.w3.org/2003/03/Translations/byTechnology?technology=https://www.w3.org/TR/webmention/">翻译</a>
            可供参考。
        </p>
        <p class="copyright">
            <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2017

            <a href="https://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a
                href="https://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>,
            <a href="https://www.ercim.eu/"><abbr
                    title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>,
            <a href="https://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>).
            <abbr title="World Wide Web Consortium">W3C</abbr> <a
                href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
            <a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and
            <a rel="license" href="https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document">permissive
                document license</a> rules apply.
        </p>
        <hr title="Separator for header">
    </div>

    <section id="abstract" class="introductory" property="dc:abstract">
        <h2 id="h-abstract" resource="#h-abstract"><span property="xhv:role" resource="xhv:heading">摘要</span></h2>
        <p id="abstract-p-1">
            Webmention 是一种简单的方式，当你在你的网站上提到某个 URL 时，可以通知该 URL。从接收方的角度来看，它是一种请求当其他网站提及它时收到通知的方式。
        </p>

        <section id="authorsnote" class="informative" typeof="bibo:Chapter" resource="#authorsnote"
            property="bibo:hasPart">
            <h3 id="h-authorsnote" resource="#h-authorsnote"><span property="xhv:role"
                    resource="xhv:heading">作者说明</span></h3>
            <p id="authorsnote-p-1"><em>本节为非规范性内容。</em></p>
            <p id="authorsnote-p-2">本规范由<a href="https://indieweb.org/">IndieWeb</a> 社区贡献给 <abbr
                    title="World Wide Web Consortium">W3C</abbr>。关于 Webmention 的更多历史和演变，可以在 <a
                    href="https://indieweb.org/webmention">IndieWeb wiki</a> 上查阅。
            </p>
        </section>
    </section>

    <section id="sotd" class="introductory">
        <h2 id="h-sotd" resource="#h-sotd"><span property="xhv:role" resource="xhv:heading">本文件状态</span></h2>
        <p id="sotd-p-1">
            <em>本节描述了本文件在发布时的状态。其他文件可能会取代本文件。当前 <abbr title="World Wide Web Consortium">W3C</abbr> 发布的规范列表和本技术报告的最新修订版可在
                <a href="https://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> 技术报告索引</a>
                https://www.w3.org/TR/ 查阅。</em>
        </p>

        <p id="sotd-p-2">
            本文件由 <a href="https://www.w3.org/Social/WG">社交网络工作组</a> 作为推荐标准发布。如果你希望对本文件提出意见，请发送至
            <a href="mailto:public-socialweb@w3.org">public-socialweb@w3.org</a>（<a
                href="mailto:public-socialweb-request@w3.org?subject=subscribe">订阅</a>，
            <a href="https://lists.w3.org/Archives/Public/public-socialweb/">存档</a>）。欢迎所有意见。
        </p>
        <p id="sotd-p-3">
            请参阅工作组的 <a href="https://webmention.net/implementation-reports/">实现报告</a>。
        </p>
        <p id="sotd-p-4">
            本文件已由 <abbr title="World Wide Web Consortium">W3C</abbr> 成员、软件开发者及其它 <abbr
                title="World Wide Web Consortium">W3C</abbr> 组织和相关方评审，并作为 <abbr
                title="World Wide Web Consortium">W3C</abbr> 推荐获得主任认可。该文件为稳定文档，可以作为参考资料或被其他文档引用。<abbr
                title="World Wide Web Consortium">W3C</abbr> 的角色是提升规范关注度，促进它的广泛部署，从而增强 Web 的功能与互操作性。
        </p>
        <p id="sotd-p-5">
            本文件由一支遵循
            <a id="sotd_patent" property="w3p:patentRules"
                href="https://www.w3.org/Consortium/Patent-Policy-20040205/">2004年2月5日 <abbr
                    title="World Wide Web Consortium">W3C</abbr> 专利政策</a>
            运作的团队制作。<abbr title="World Wide Web Consortium">W3C</abbr> 维护了一份<a
                href="https://www.w3.org/2004/01/pp-impl/72531/status"
                rel="disclosure">与小组成果相关的专利披露公开列表</a>；该页面还包括披露专利的说明。任何人如果实际知晓某项专利且认为其包含
            <a href="https://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">必要权利要求</a>
            ，则必须根据
            <a href="https://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">《W3C 专利政策》第6节</a>
            披露相关信息。
        </p>
        <p id="sotd-p-6"><abbr title="World Wide Web Consortium">W3C</abbr> 预计本推荐规范中的功能不会受 Fetch 变动影响。</p>
        <p id="sotd-p-7">本文件依据 <a id="w3c_process_revision" href="https://www.w3.org/2015/Process-20150901/">2015年9月1日
                <abbr title="World Wide Web Consortium">W3C</abbr> 流程文件</a> 管理。
        </p>

    </section>
    <nav id="toc">
        <h2 class="introductory" id="table-of-contents" resource="#table-of-contents"><span property="xhv:role"
                resource="xhv:heading">目录</span></h2>
        <ol class="toc" role="directory">
            <li class="tocline"><a href="#introduction" class="tocxref"><span class="secno">1. </span>简介</a>
                <ol class="toc">
                    <li class="tocline"><a href="#social-web-working-group" class="tocxref"><span class="secno">1.1
                            </span>社交网络工作组</a></li>
                    <li class="tocline"><a href="#background" class="tocxref"><span class="secno">1.2
                            </span>背景</a></li>
                    <li class="tocline"><a href="#overview" class="tocxref"><span class="secno">1.3 </span>概览</a>
                    </li>
                    <li class="tocline"><a href="#protocol-summary" class="tocxref"><span class="secno">1.4
                            </span>协议摘要</a></li>
                </ol>
            </li>
            <li class="tocline"><a href="#conformance" class="tocxref"><span class="secno">2. </span>一致性</a>
                <ol class="toc">
                    <li class="tocline"><a href="#conformance-classes" class="tocxref"><span class="secno">2.1
                            </span>一致性类别</a></li>
                    <li class="tocline"><a href="#test-suite-and-reporting" class="tocxref"><span class="secno">2.2
                            </span>测试套件与报告</a></li>
                </ol>
            </li>
            <li class="tocline"><a href="#webmention-protocol" class="tocxref"><span class="secno">3. </span>Webmention
                    协议</a>
                <ol class="toc">
                    <li class="tocline"><a href="#sending-webmentions" class="tocxref"><span class="secno">3.1
                            </span>发送 Webmention</a>
                        <ol class="toc">
                            <li class="tocline"><a href="#create-a-source-document-that-mentions-the-target"
                                    class="tocxref"><span class="secno">3.1.1 </span>创建提到目标的源文档</a></li>
                            <li class="tocline"><a href="#sender-discovers-receiver-webmention-endpoint"
                                    class="tocxref"><span class="secno">3.1.2 </span>发送方发现接收方 Webmention 端点</a></li>
                            <li class="tocline"><a href="#sender-notifies-receiver" class="tocxref"><span
                                        class="secno">3.1.3 </span>发送方通知接收方</a></li>
                            <li class="tocline"><a href="#sending-webmentions-for-updated-posts" class="tocxref"><span
                                        class="secno">3.1.4 </span>已更新文章的 Webmention 发送</a></li>
                            <li class="tocline"><a href="#sending-webmentions-for-deleted-posts" class="tocxref"><span
                                        class="secno">3.1.5 </span>为已删除文章的 Webmention 发送</a></li>
                        </ol>
                    </li>
                    <li class="tocline"><a href="#receiving-webmentions" class="tocxref"><span class="secno">3.2
                            </span>接收 Webmention</a>
                        <ol class="toc">
                            <li class="tocline"><a href="#request-verification" class="tocxref"><span
                                        class="secno">3.2.1 </span>请求校验</a></li>
                            <li class="tocline"><a href="#webmention-verification" class="tocxref"><span
                                        class="secno">3.2.2 </span>Webmention 验证</a></li>
                            <li class="tocline"><a href="#error-responses" class="tocxref"><span class="secno">3.2.3
                                    </span>错误响应</a></li>
                            <li class="tocline"><a href="#updating-existing-webmentions" class="tocxref"><span
                                        class="secno">3.2.4 </span>更新已存在的 Webmention</a></li>
                        </ol>
                    </li>
                </ol>
            </li>
            <li class="tocline"><a href="#security-considerations" class="tocxref"><span class="secno">4.
                    </span>安全性注意事项</a>
                <ol class="toc">
                    <li class="tocline"><a href="#preventing-abuse" class="tocxref"><span class="secno">4.1
                            </span>防止滥用</a></li>
                    <li class="tocline"><a href="#limits-on-get-requests" class="tocxref"><span class="secno">4.2
                            </span>限制 GET 请求</a></li>
                    <li class="tocline"><a href="#avoid-sending-webmentions-to-localhost" class="tocxref"><span
                                class="secno">4.3 </span>避免发送 Webmention 到本地地址</a></li>
                    <li class="tocline"><a href="#cross-site-request-forgery" class="tocxref"><span class="secno">4.4
                            </span>跨站请求伪造</a></li>
                    <li class="tocline"><a href="#limit-access-to-protected-resources" class="tocxref"><span
                                class="secno">4.5 </span>限制对受保护资源的访问</a></li>
                    <li class="tocline"><a href="#security-and-privacy-review" class="tocxref"><span class="secno">4.6
                            </span>安全与隐私评估</a></li>
                </ol>
            </li>
            <li class="tocline"><a href="#other-considerations" class="tocxref"><span class="secno">5. </span>其它注意事项</a>
                <ol class="toc">
                    <li class="tocline"><a href="#sending-webmentions-from-non-html-content" class="tocxref"><span
                                class="secno">5.1 </span>从非 HTML 内容发送 Webmention</a></li>
                    <li class="tocline"><a href="#sending-webmentions-for-large-datasets" class="tocxref"><span
                                class="secno">5.2 </span>为大数据集发送 Webmention</a></li>
                    <li class="tocline"><a href="#respecting-cache-headers-on-discovery" class="tocxref"><span
                                class="secno">5.3 </span>发现时遵守缓存头</a></li>
                </ol>
            </li>
            <li class="tocline"><a href="#iana-considerations" class="tocxref"><span class="secno">6. </span>IANA
                    相关事项</a></li>
            <li class="tocline"><a href="#uris-for-form-encoded-properties" class="tocxref"><span class="secno">A.
                    </span>表单编码属性的 URI</a></li>
            <li class="tocline"><a href="#extensions" class="tocxref"><span class="secno">B. </span>扩展</a>
                <ol class="toc">
                    <li class="tocline"><a href="#vouch" class="tocxref"><span class="secno">B.1 </span><span
                                class="formerLink">Vouch</span></a></li>
                    <li class="tocline"><a href="#salmention" class="tocxref"><span class="secno">B.2 </span><span
                                class="formerLink">Salmention</span></a></li>
                    <li class="tocline"><a href="#private-webmention" class="tocxref"><span class="secno">B.3
                            </span><span class="formerLink">私有 Webmention</span></a></li>
                </ol>
            </li>
            <li class="tocline"><a href="#resources" class="tocxref"><span class="secno">C. </span>资源</a>
                <ol class="toc">
                    <li class="tocline"><a href="#articles" class="tocxref"><span class="secno">C.1 </span>文章</a>
                    </li>
                    <li class="tocline"><a href="#implementations" class="tocxref"><span class="secno">C.2
                            </span>实现</a></li>
                </ol>
            </li>
            <li class="tocline"><a href="#acknowledgements" class="tocxref"><span class="secno">D.
                    </span>致谢</a></li>
            <li class="tocline"><a href="#change-log" class="tocxref"><span class="secno">E. </span>变更日志</a>
                <ol class="toc">
                    <li class="tocline"><a href="#changes-from-01-november-pr-to-rec" class="tocxref"><span
                                class="secno">E.1 </span><span class="formerLink">2016年11月1日 PR</span> 到 REC 的变动</a>
                    </li>
                </ol>
            </li>
            <li class="tocline"><a href="#references" class="tocxref"><span class="secno">F. </span>参考文献</a>
                <ol class="toc">
                    <li class="tocline"><a href="#normative-references" class="tocxref"><span class="secno">F.1
                            </span>规范性引用</a></li>
                    <li class="tocline"><a href="#informative-references" class="tocxref"><span class="secno">F.2
                            </span>补充性引用</a></li>
                </ol>
            </li>
        </ol>
    </nav>



    <section id="introduction" typeof="bibo:Chapter" resource="#introduction" property="bibo:hasPart">
        <!--OddPage-->
        <h2 id="h-introduction" resource="#h-introduction"><span property="xhv:role" resource="xhv:heading"><span
                    class="secno">1. </span>简介</span>
        </h2>

        <p id="introduction-p-1">Webmention 是一种用于通知另一个 URL 被某个 URL 链接所引用的机制。例如，Alice 在她的博客上写了一篇有趣的文章，Bob
            随后在他自己的网站上写了一篇回应，并链接回 Alice 的原始帖子。Bob 的发布系统发送一个 Webmention 给 Alice，通知 Alice 她的文章得到了回应，Alice
            的系统可将该回应显示为原始文章下的评论。</p>

        <p id="introduction-p-2">发送 Webmention 并不局限于博客文章，也可以用于其它类型的内容和回复。例如，回复可以是某个事件的
            RSVP、对他人文章的“点赞”、对他人文章的“收藏”等等。Webmention 支持在不同网站之间进行此类互动，实现分布式的社交网络。</p>

        <section class="informative" id="social-web-working-group" typeof="bibo:Chapter"
            resource="#social-web-working-group" property="bibo:hasPart">
            <h3 id="h-social-web-working-group" resource="#h-social-web-working-group"><span property="xhv:role"
                    resource="xhv:heading"><span class="secno">1.1 </span>社交网络工作组</span>
            </h3>
            <p id="social-web-working-group-p-1"><em>本节为非规范性内容。</em></p>

            <p id="social-web-working-group-p-2"><a href="https://www.w3.org/TR/webmention">Webmention</a>
                是社交网络工作组开发的多个相关规范之一。对替代方案或补充协议感兴趣的实现者应首先阅读概览文档 [<cite><a class="bibref"
                        href="#bib-social-web-protocols">social-web-protocols</a></cite>]。</p>
        </section>

        <section class="informative" id="background" typeof="bibo:Chapter" resource="#background"
            property="bibo:hasPart">
            <h3 id="h-background" resource="#h-background"><span property="xhv:role" resource="xhv:heading"><span
                        class="secno">1.2 </span>背景</span>
            </h3>
            <p id="background-p-1"><em>本节为非规范性内容。</em></p>

            <p id="background-p-2">Webmention 规范最初是 [<cite><a class="bibref" href="#bib-Pingback">Pingback</a></cite>]
                规范的简化版本。Pingback 需要用 XML-RPC 方式发送源 URL 和目标 URL，而 Webmention 将之简化为表单编码，这样可以更容易地在 HTML
                表单中使用，也便于利用现有工具处理表单编码数据，同时避免了 XML-RPC 可能带来的系统代码泄露问题。</p>
            <p id="background-p-3">Webmention 随后进一步规范了发送和验证请求的细节，并扩展支持当源文档被更新或删除时发送通知。更多信息可参阅 IndieWeb wiki 上的 <a
                    href="https://indieweb.org/Webmention-faq">Webmention 常见问题</a>。</p>
        </section>

        <section class="informative" id="overview" typeof="bibo:Chapter" resource="#overview" property="bibo:hasPart">
            <h3 id="h-overview" resource="#h-overview"><span property="xhv:role" resource="xhv:heading"><span
                        class="secno">1.3 </span>概览</span>
            </h3>
            <p id="overview-p-1"><em>本节为非规范性内容。</em></p>

            <p id="overview-p-2">典型的 Webmention 流程如下：
            </p>
            <ol>
                <li id="overview-li-1">Alice 在她的网站发布了一些有趣的内容（该站点支持接收 Webmention）。</li>
                <li id="overview-li-2">Bob 看到该内容后，在自己的网站上发表评论，并链接回 Alice 的原始文章。</li>
                <li id="overview-li-3">通过 Webmention，Bob 的发布系统自动通知 Alice 的服务器有一篇 Bob 的文章链接了她的帖子。</li>
                <li id="overview-li-4">Alice 的发布系统验证 Bob 的文章确实提及了她的文章，然后将在自己站点上显示该消息。</li>
            </ol>
            <p id="overview-p-3"></p>
        </section>

        <section class="informative" id="protocol-summary" typeof="bibo:Chapter" resource="#protocol-summary"
            property="bibo:hasPart">
            <h3 id="h-protocol-summary" resource="#h-protocol-summary"><span property="xhv:role"
                    resource="xhv:heading"><span class="secno">1.4 </span>协议摘要</span>
            </h3>
            <p id="protocol-summary-p-1"><em>本节为非规范性内容。</em></p>

            <p id="protocol-summary-p-2">Webmention 消息从源 URL 发送到目标 URL，以通知目标其被源 URL 提及。</p>

            <ol>
                <li id="protocol-summary-li-1">用户 Aaron 在博客上发文。</li>
                <li id="protocol-summary-li-2">用户 Barnaby 在自己的博客发表一篇文，链接到 Aaron 的文章。</li>
                <li id="protocol-summary-li-3">发布后（即已拥有 URL），Barnaby 的服务器在发布流程中发现了对 Aaron 帖子的引用。</li>
                <li id="protocol-summary-li-4">Barnaby 的服务器在 Aaron 的文章上执行 Webmention 端点发现（如未找到端点，流程停止）。</li>
                <li id="protocol-summary-li-5">Barnaby 的服务器向 Aaron 文章的 Webmention 端点发送通知，请求体内容为：
                    <ul>
                        <li id="protocol-summary-li-6"><code>source</code> 设置为 Barnaby 文章的永久链接</li>
                        <li id="protocol-summary-li-7"><code>target</code> 设置为 Aaron 文章的永久链接</li>
                    </ul>
                </li>
                <li id="protocol-summary-li-8">Aaron 的服务器接收 Webmention 消息。</li>
                <li id="protocol-summary-li-9">Aaron 的服务器校验该 Webmention 内 <code>target</code> 是否为其博客的有效永久链接（否则终止）。</li>
                <li id="protocol-summary-li-10">Aaron 的服务器检索 Webmention 的 <code>source</code>，跟随重定向 [<cite><a
                            class="bibref" href="#bib-FETCH">FETCH</a></cite>]，校验该页面是否实际包含对 <code>target</code>
                    的超链接，不存在则终止。</li>
            </ol>

        </section>
    </section>

    <section id="conformance" typeof="bibo:Chapter" resource="#conformance" property="bibo:hasPart">
        <!--OddPage-->
        <h2 id="h-conformance" resource="#h-conformance"><span property="xhv:role" resource="xhv:heading"><span
                    class="secno">2. </span>一致性</span>
        </h2>

        <p id="conformance-p-1">本文件中的 "<em class="rfc2119" title="MUST">必须</em>"、"<em class="rfc2119"
                title="MUST NOT">禁止</em>"、"<em class="rfc2119" title="REQUIRED">要求</em>"、"<em class="rfc2119"
                title="SHALL">应当</em>"、"<em class="rfc2119" title="SHALL NOT">不应</em>"、"<em class="rfc2119"
                title="SHOULD">推荐</em>"、"<em class="rfc2119" title="SHOULD NOT">不推荐</em>"、"<em class="rfc2119"
                title="RECOMMENDED">建议</em>"、"<em class="rfc2119" title="MAY">可以</em>" 以及
            "<em class="rfc2119" title="OPTIONAL">可选</em>"，需按照 [<cite><a class="bibref"
                    href="#bib-RFC2119">RFC2119</a></cite>] 的定义进行解释。
        </p>

        <section id="conformance-classes" typeof="bibo:Chapter" resource="#conformance-classes" property="bibo:hasPart">
            <h3 id="h-conformance-classes" resource="#h-conformance-classes"><span property="xhv:role"
                    resource="xhv:heading"><span class="secno">2.1 </span>一致性类别</span>
            </h3>

            <p id="conformance-classes-p-1">Webmention 实现可分为发送端或接收端。本节描述这两类的符合性标准。</p>

            <p id="conformance-classes-p-2">以下是已知的 Webmention 实现类型。</p>

            <h3 id="senders">发送端</h3>
            <p id="conformance-classes-p-3">Webmention 发送端指能够发送 Webmention 信息的实现。发送端要发送 Webmention，首先必须有一个可以被接收端访问的源
                URL。</p>
            <p id="conformance-classes-p-4">Webmention 发送端的符合性标准在<a href="#sending-webmentions">发送 Webmention</a>部分描述。
            </p>
            <p id="conformance-classes-p-5">如下为部分常见的 Webmention 发送端类型：</p>
            <ul>
                <li id="conformance-classes-li-1">博客或微博系统</li>
                <li id="conformance-classes-li-2">现有 CMS 的插件</li>
                <li id="conformance-classes-li-3">浏览器插件，可代表正在浏览的页面通过右键菜单发送 Webmention</li>
                <li id="conformance-classes-li-4">Web API 用于实现 Webmention 端点发现和消息发送</li>
                <li id="conformance-classes-li-5">把现有社交媒体帖子转为 HTML 并发送 Webmention 的代理服务</li>
            </ul>

            <h3 id="receivers">接收端</h3>
            <p id="conformance-classes-p-6">Webmention 接收端指能够为一个或多个目标 URL 接收 Webmention，并用相关的 Webmention 端点进行公告的实现。为能收到
                Webmention，需有一个已声明 Webmention 端点的 URL，但该 URL 不一定属于接收端实现本身，也可能来自另一个系统或域名。</p>
            <p id="conformance-classes-p-7">Webmention 接收端的符合性标准在<a href="#receiving-webmentions">接收 Webmention</a>部分描述。
            </p>
            <p id="conformance-classes-p-8">如下为部分常见的 Webmention 接收端类型：</p>
            <ul>
                <li id="conformance-classes-li-6">博客或微博系统</li>
                <li id="conformance-classes-li-7">现有 CMS 的插件</li>
                <li id="conformance-classes-li-8">Web 服务和 API，可接收 Webmention 并通过 Javascript 嵌入作为评论显示</li>
            </ul>
        </section>

        <section id="test-suite-and-reporting" typeof="bibo:Chapter" resource="#test-suite-and-reporting"
            property="bibo:hasPart">
            <h3 id="h-test-suite-and-reporting" resource="#h-test-suite-and-reporting"><span property="xhv:role"
                    resource="xhv:heading"><span class="secno">2.2 </span>测试套件与报告</span>
            </h3>

            <p id="test-suite-and-reporting-p-1">请在 <a
                    href="https://webmention.net/implementation-reports/">http://webmention.net/implementation-reports/</a>
                提交你的实现报告，具体说明见页面内容。实现报告模板参考 <a href="https://webmention.rocks/">webmention.rocks</a> 提供的测试。</p>

            <p id="test-suite-and-reporting-p-2"><a href="https://webmention.rocks/">webmention.rocks</a>
                提供了许多可用于现场测试实现的测试用例，也是开发 Webmention 实现时非常实用的工具，因为该站点会在遇到错误时详细反馈响应内容。</p>
        </section>
    </section>

    <section id="webmention-protocol" typeof="bibo:Chapter" resource="#webmention-protocol" property="bibo:hasPart">
        <!--OddPage-->
        <h2 id="h-webmention-protocol" resource="#h-webmention-protocol"><span property="xhv:role"
                resource="xhv:heading"><span class="secno">3. </span>Webmention 协议</span>
        </h2>

        <p id="webmention-protocol-p-1">本规范中的 HTML 和 HTTP 链接关系均采用 [<cite><a class="bibref"
                    href="#bib-HTML5">HTML5</a></cite>] 定义的 link rel 注册表。</p>

        <section id="sending-webmentions" typeof="bibo:Chapter" resource="#sending-webmentions" property="bibo:hasPart">
            <h3 id="h-sending-webmentions" resource="#h-sending-webmentions"><span property="xhv:role"
                    resource="xhv:heading"><span class="secno">3.1 </span>发送 Webmention</span>
            </h3>

            <section id="create-a-source-document-that-mentions-the-target" typeof="bibo:Chapter"
                resource="#create-a-source-document-that-mentions-the-target" property="bibo:hasPart">
                <h4 id="h-create-a-source-document-that-mentions-the-target"
                    resource="#h-create-a-source-document-that-mentions-the-target"><span property="xhv:role"
                        resource="xhv:heading"><span class="secno">3.1.1 </span>创建提到目标的源文档</span>
                </h4>

                <p id="create-a-source-document-that-mentions-the-target-p-1">Webmention 消息从源 URL 发送到目标 URL，通知目标其被源 URL
                    所提及。在 Webmention 发送前，必须存在一个“源” URL，通常是博客文章，也可以是其它类型的内容。</p>

                <p id="create-a-source-document-that-mentions-the-target-p-2">
                    例如，https://waterpigs.example/post-by-barnaby 的页面 HTML 可包含如下链接到 Aaron 帖子的内容：</p>
                <p id="create-a-source-document-that-mentions-the-target-p-3"></p>
                <div class="example">
                    <div class="example-title marker"><span>Example 1</span></div>
                    <pre class="hljs xml"><span class="hljs-meta">&lt;!doctype html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://aaronpk.example/post-by-aaron"</span>&gt;</span>This is a great post<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></pre>
                </div>
                <p id="create-a-source-document-that-mentions-the-target-p-4"></p>
            </section>

            <section id="sender-discovers-receiver-webmention-endpoint" typeof="bibo:Chapter"
                resource="#sender-discovers-receiver-webmention-endpoint" property="bibo:hasPart">
                <h4 id="h-sender-discovers-receiver-webmention-endpoint"
                    resource="#h-sender-discovers-receiver-webmention-endpoint"><span property="xhv:role"
                        resource="xhv:heading"><span class="secno">3.1.2 </span>发送方发现接收方 Webmention 端点</span>
                </h4>

                <p id="sender-discovers-receiver-webmention-endpoint-p-1">发送方<em class="rfc2119"
                        title="MUST">必须</em>获取目标 URL（并跟随所有重定向 [<cite><a class="bibref"
                            href="#bib-FETCH">FETCH</a></cite>]），并检查 HTTP Link 头 [<cite><a class="bibref"
                            href="#bib-RFC5988">RFC5988</a></cite>] 是否包含 rel="webmention"。如果文档内容类型为 HTML，则发送方<em
                        class="rfc2119" title="MUST">必须</em>查找 rel="webmention" 的 HTML <code>&lt;link&gt;</code> 和
                    <code>&lt;a&gt;</code> 元素。如三种方式均出现，则优先顺序为第一个 HTTP Link，其次是文档顺序中的第一个 <code>&lt;link&gt;</code> 或
                    <code>&lt;a&gt;</code>。发送方<em class="rfc2119" title="MUST">必须</em>支持所有三种方式并按上述顺序回退。
                </p>

                <p id="sender-discovers-receiver-webmention-endpoint-p-2">端点<em class="rfc2119" title="MAY">可以</em>是相对
                    URL，此时发送方<em class="rfc2119" title="MUST">必须</em>用 [<cite><a class="bibref"
                            href="#bib-URL">URL</a></cite>] 规范把该端点补全为相对于目标 URL 的绝对路径。
                </p>

                <p id="sender-discovers-receiver-webmention-endpoint-p-3">端点<em class="rfc2119"
                        title="MAY">可以</em>含查询参数，这些参数<em class="rfc2119" title="MUST">必须</em>保留为查询参数，<em class="rfc2119"
                        title="MUST NOT">禁止</em>发送到 POST 请求体内。</p>

                <p id="sender-discovers-receiver-webmention-endpoint-p-4">发送方<em class="rfc2119" title="MAY">可以</em>先发
                    HTTP HEAD 请求 [<cite><a class="bibref" href="#bib-RFC7231">RFC7231</a></cite>] 检查 Link 头，再发 GET 请求。
                </p>

                <p id="sender-discovers-receiver-webmention-endpoint-p-5"></p>
                <div class="example">
                    <div class="example-title marker"><span>Example 2</span></div>
                    <pre class="hljs http"><span class="hljs-keyword">GET</span> <span class="hljs-string">/post-by-aaron</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: aaronpk.example
HTTP/1.1 <span class="hljs-number">200</span> OK
<span class="hljs-attribute">Link</span>: &lt;http://aaronpk.example/webmention-endpoint&gt;; rel="webmention"

<span class="javascript">&lt;html&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
...
<span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"http://aaronpk.example/webmention-endpoint"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"webmention"</span> /&gt;</span>
...
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
....
<span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"http://aaronpk.example/webmention-endpoint"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"webmention"</span>&gt;</span>webmention<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
...
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span></span></pre>
                </div>
                <p id="sender-discovers-receiver-webmention-endpoint-p-6"></p>

                <p id="sender-discovers-receiver-webmention-endpoint-p-7">发送方<em class="rfc2119" title="MAY">可以</em>自定义
                    HTTP User Agent [<cite><a class="bibref" href="#bib-RFC7231">RFC7231</a></cite>]，在获取目标 URL 时指明此次请求为
                    Webmention 发现的一部分，推荐在 User Agent 字符串中包含 "Webmention" ，方便对方了解请求来源。</p>

            </section>

            <section id="sender-notifies-receiver" typeof="bibo:Chapter" resource="#sender-notifies-receiver"
                property="bibo:hasPart">
                <h4 id="h-sender-notifies-receiver" resource="#h-sender-notifies-receiver"><span property="xhv:role"
                        resource="xhv:heading"><span class="secno">3.1.3 </span>发送方通知接收方</span>
                </h4>

                <p id="sender-notifies-receiver-p-1">发送方<em class="rfc2119" title="MUST">必须</em>向 Webmention 端点发送
                    x-www-form-urlencoded [<cite><a class="bibref" href="#bib-HTML5">HTML5</a></cite>] 表单数据，包含
                    <code>source</code> 和
                    <code>target</code> 两个参数。其中 <code>source</code> 为包含链接的发送方页面 URL，<code>target</code> 为被链接的目标页面 URL。
                </p>

                <p id="sender-notifies-receiver-p-2">如 Webmention 端点 URL 自身含有查询参数，则这些参数<em class="rfc2119"
                        title="MUST">必须</em>保留，并<em class="rfc2119" title="MUST NOT">禁止</em>随 POST 请求体发送。
                </p>

                <p id="sender-notifies-receiver-p-3">Webmention 端点将校验并处理请求，并返回 HTTP 状态码 [<cite><a class="bibref"
                            href="#bib-RFC7231">RFC7231</a></cite>]。通常返回 <code>202 Accepted</code> 或
                    <code>201 Created</code>，表示请求已入队，异步处理，防止 DoS 攻击。如果响应码为 201，<code>Location</code> 头会指明可用于查询请求状态的 URL。
                </p>

                <p id="sender-notifies-receiver-p-4">任何 <code>2xx</code> 响应码<em class="rfc2119"
                        title="MUST">必须</em>视为请求成功。</p>

                <p id="sender-notifies-receiver-p-5"></p>
                <div class="example">
                    <div class="example-title marker"><span>Example 3</span></div>
                    <pre class="hljs http"><span class="hljs-keyword">POST</span> <span class="hljs-string">/webmention-endpoint</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: aaronpk.example
<span class="hljs-attribute">Content-Type</span>: application/x-www-form-urlencoded

<span class="javascript">source=https:<span class="hljs-comment">//waterpigs.example/post-by-barnaby&amp;</span>
target=https:<span class="hljs-comment">//aaronpk.example/post-by-aaron</span>


HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">202</span> Accepted</span></pre>
                </div>
                <p id="sender-notifies-receiver-p-6"></p>

            </section>

            <section id="sending-webmentions-for-updated-posts" typeof="bibo:Chapter"
                resource="#sending-webmentions-for-updated-posts" property="bibo:hasPart">
                <h4 id="h-sending-webmentions-for-updated-posts" resource="#h-sending-webmentions-for-updated-posts">
                    <span property="xhv:role" resource="xhv:heading"><span class="secno">3.1.4 </span>已更新文章的 Webmention
                        发送</span>
                </h4>

                <p id="sending-webmentions-for-updated-posts-p-1">若源 URL 已被修改，发送方<em class="rfc2119"
                        title="SHOULD">推荐</em>重新发送所有已发 Webmention（包括对已移除的链接也重新发送），并对新增链接也<em class="rfc2119"
                        title="SHOULD">推荐</em>发送 Webmention。</p>

                <p id="sending-webmentions-for-updated-posts-p-2">这样，Webmention 接收方可更新对源文档的显示，或通知收件人其被提及内容已变动。</p>

                <p id="sending-webmentions-for-updated-posts-p-3">当文章更新时重发 Webmention，发送方<em class="rfc2119"
                        title="MUST">必须</em>为每个目标 URL 重新发现 Webmention 端点，以防对方已更新端点。</p>

                <p id="sending-webmentions-for-updated-posts-p-4">如果源页面上显示了对目标的回复（如作为评论显示），则发送方也应视为源页面变动并<em
                        class="rfc2119" title="SHOULD">推荐</em>重新发送所有已发 Webmention。</p>
            </section>

            <section id="sending-webmentions-for-deleted-posts" typeof="bibo:Chapter"
                resource="#sending-webmentions-for-deleted-posts" property="bibo:hasPart">
                <h4 id="h-sending-webmentions-for-deleted-posts" resource="#h-sending-webmentions-for-deleted-posts">
                    <span property="xhv:role" resource="xhv:heading"><span class="secno">3.1.5 </span>已删除文章的 Webmention
                        发送</span>
                </h4>

                <p id="sending-webmentions-for-deleted-posts-p-1">若源 URL 被删除，发送方<em class="rfc2119"
                        title="SHOULD">推荐</em>为该 URL 返回 HTTP <code>410 Gone</code> 状态码，并<em class="rfc2119"
                        title="SHOULD">推荐</em>以“墓碑”方式显示（即所有属性内容清空、或主内容如名称/正文字段改为“Deleted”）。随后，发送方<em class="rfc2119"
                        title="SHOULD">推荐</em>重新发送所有曾为该文档发出的 Webmention。</p>

                <p id="sending-webmentions-for-deleted-posts-p-2">如此 Webmention 接收端支持删除，则可自动移除已显示过的
                    Webmention；不支持删除的仍能通过内容变动适当回退。</p>
            </section>
        </section>

        <section id="receiving-webmentions" typeof="bibo:Chapter" resource="#receiving-webmentions"
            property="bibo:hasPart">
            <h3 id="h-receiving-webmentions" resource="#h-receiving-webmentions"><span property="xhv:role"
                    resource="xhv:heading"><span class="secno">3.2 </span>接收 Webmention</span>
            </h3>

            <p id="receiving-webmentions-p-1">接收到带 <code>source</code> 和 <code>target</code> 参数的 POST 请求时，接收方<em
                    class="rfc2119" title="SHOULD">推荐</em>校验参数（见下文<a href="#request-verification">请求校验</a>），然后<em
                    class="rfc2119" title="SHOULD">推荐</em>将请求异步队列处理，以防止 DoS 攻击。根据处理方式，请求响应有三种可能结果：</p>

            <p id="receiving-webmentions-p-2">接收方若为请求分配了状态页，可供发送方查询，则必须返回 <code>HTTP 201 Created</code> 状态，并在
                <code>Location</code> 头中附上该状态 URL。响应体<em class="rfc2119" title="MAY">可以</em>带内容。
            </p>

            <p id="receiving-webmentions-p-3"></p>
            <div class="example">
                <div class="example-title marker"><span>Example 4</span></div>
                <pre class="hljs http">HTTP/1.1 <span class="hljs-number">201</span> Created
<span class="hljs-attribute">Location</span>: http://aaronpk.example/webmention/DEhB9Jme</pre>
            </div>
            <p id="receiving-webmentions-p-4"></p>

            <p id="receiving-webmentions-p-5">如果接收方异步处理请求但未返回状态 URL，则<em class="rfc2119" title="MUST">必须</em>返回
                <code>HTTP 202 Accepted</code>，响应体<em class="rfc2119" title="MAY">可以</em>含文本，推荐为人类可读内容。
            </p>

            <p id="receiving-webmentions-p-6"></p>
            <div class="example">
                <div class="example-title marker"><span>Example 5</span></div>
                <pre class="hljs http">HTTP/1.1 <span class="hljs-number">202</span> Accepted</pre>
            </div>
            <p id="receiving-webmentions-p-7"></p>

            <p id="receiving-webmentions-p-8">若接收方选择同步处理并同步校验（不推荐），则请求成功时<em class="rfc2119" title="MUST">必须</em>返回
                <code>200 OK</code> 状态。
            </p>

            <section id="request-verification" typeof="bibo:Chapter" resource="#request-verification"
                property="bibo:hasPart">
                <h4 id="h-request-verification" resource="#h-request-verification"><span property="xhv:role"
                        resource="xhv:heading"><span class="secno">3.2.1 </span>请求校验</span>
                </h4>

                <p id="request-verification-p-1">接收方<em class="rfc2119" title="MUST">必须</em>检查
                    <code>source</code>、<code>target</code> 是否为有效 URL [<cite><a class="bibref"
                            href="#bib-URL">URL</a></cite>]，并且协议方案为接收方支持的类型（通常为 http 或 https）。
                </p>

                <p id="request-verification-p-2">若 <code>source</code> 和 <code>target</code> 相同，接收方<em class="rfc2119"
                        title="MUST">必须</em>拒绝请求。</p>

                <p id="request-verification-p-3">接收方<em class="rfc2119" title="SHOULD">推荐</em>校验 <code>target</code>
                    是否为自身可接收 Webmention 的有效资源。此校验<em class="rfc2119"
                        title="SHOULD">推荐</em>同步执行，以便在深入验证前快速拒绝无效请求。“有效资源”含义由实现决定，比如某些可接收多域 Webmention，某些仅限本域。</p>

                <p id="request-verification-p-4">注意 <code>target</code> URL 可带片段标识符，若接收方限制可接收的 URL，应在校验时忽略片段部分。</p>
            </section>

            <section id="webmention-verification" typeof="bibo:Chapter" resource="#webmention-verification"
                property="bibo:hasPart">
                <h4 id="h-webmention-verification" resource="#h-webmention-verification"><span property="xhv:role"
                        resource="xhv:heading"><span class="secno">3.2.2 </span>Webmention 验证</span>
                </h4>

                <p id="webmention-verification-p-1">Webmention 验证<em class="rfc2119" title="SHOULD">推荐</em>异步处理，以防止 DoS
                    攻击。</p>

                <p id="webmention-verification-p-2">如果接收方准备对 Webmention 进一步处理（如将其显示为评论、增加“点赞”计数、通知作者等），其<em
                        class="rfc2119" title="MUST">必须</em>对 source 执行 HTTP GET（跟随重定向，建议限制重定向次数），确认页面是否实际包含对 target
                    的引用。接收方<em class="rfc2119" title="SHOULD">推荐</em>带 Accept 头声明可接受内容类型。</p>

                <p id="webmention-verification-p-3">接收方<em class="rfc2119" title="SHOULD">推荐</em>按媒体类型规则判断 source 是否提及
                    target。例如在 [<cite><a class="bibref" href="#bib-HTML5">HTML5</a></cite>] 文档中查找
                    <code>&lt;a href="*"&gt;</code>、<code>&lt;img href="*"&gt;</code>、<code>&lt;video src="*"&gt;</code>
                    等链接。JSON ([<cite><a class="bibref" href="#bib-RFC7159">RFC7159</a></cite>]) 文档则查找属性值全等于 target
                    的项。纯文本情况下查找字符串匹配。其它类型由实现自定。只有 source 文档内容和 <code>target</code> URL 完全一致时，才视为有效 Webmention。
                </p>

                <p id="webmention-verification-p-4">至此，接收方<em class="rfc2119" title="MAY">可以</em>将 source
                    页内容连同其它采集到的数据发布到目标页或其它页面，例如将 source 内容作为评论显示，或在“点赞者”列表显示作者头像等。</p>

                <div class="note">
                    <div class="note-title marker" aria-level="5" role="heading" id="h-note1"><span>注</span></div>
                    <p class="" id="webmention-verification-p-5">二次发布 source
                        页内容时应注意不要无意间扩大其可见性。例如，若源文档仅向部分用户可见，在转载时应确保不向公众开放。源文档可通过认证或仅允许局域网访问来受限，如果接收方也在同一网络或有权限也需遵守此规则。
                    </p>
                </div>
            </section>

            <section id="error-responses" typeof="bibo:Chapter" resource="#error-responses" property="bibo:hasPart">
                <h4 id="h-error-responses" resource="#h-error-responses"><span property="xhv:role"
                        resource="xhv:heading"><span class="secno">3.2.3 </span>错误响应</span>
                </h4>

                <p id="error-responses-p-1">若 Webmention 请求因发送方自身原因失败，<em class="rfc2119" title="MUST">必须</em>返回
                    <code>400 Bad Request</code> 状态，可<em class="rfc2119" title="MAY">可以</em>在响应体内提供错误描述。
                </p>

                <p id="error-responses-p-2">同步校验 source 前可返回这些发送方相关错误：
                </p>
                <ul>
                    <li id="error-responses-li-1">指定 <code>target</code> URL 未找到。</li>
                    <li id="error-responses-li-2">指定 <code>target</code> URL 不接受 Webmention。</li>
                    <li id="error-responses-li-3"><code>source</code> URL 语法非法或协议不支持（如 mailto:）。</li>
                </ul>
                <p id="error-responses-p-3"></p>

                <p id="error-responses-p-4">获取 source 内容后可能出现的错误：
                </p>
                <ul>
                    <li id="error-responses-li-4"><code>source</code> URL 未找到。</li>
                    <li id="error-responses-li-5"><code>source</code> URL 未包含对 <code>target</code> 的链接。</li>
                </ul>
                <p id="error-responses-p-5"></p>

                <p id="error-responses-p-6">如因接收方服务器问题 Webmention 失败，<em class="rfc2119" title="SHOULD">推荐</em>返回
                    <code>500 Internal Server Error</code>，并<em class="rfc2119" title="MAY">可以</em>在响应体内附错误描述。
                </p>

            </section>

            <section id="updating-existing-webmentions" typeof="bibo:Chapter" resource="#updating-existing-webmentions"
                property="bibo:hasPart">
                <h4 id="h-updating-existing-webmentions" resource="#h-updating-existing-webmentions"><span
                        property="xhv:role" resource="xhv:heading"><span class="secno">3.2.4 </span>更新已存在的
                        Webmention</span>
                </h4>

                <p id="updating-existing-webmentions-p-1">如果接收方之前收到过相同 <code>source</code> 和 <code>target</code> 的
                    Webmention，</p>
                <ul>
                    <li id="updating-existing-webmentions-li-1">
                        若两步校验都成功，<em class="rfc2119" title="SHOULD">推荐</em>更新当前 Webmention 的 source 数据。
                        <ul>
                            <li id="updating-existing-webmentions-li-2">
                                若实现支持 Webmention 更新（即“Webmention 更新实现”），则<em class="rfc2119" title="MUST">必须</em>支持以
                                source 主体对象属性为单位的数据更新（如页面的 [<cite><a class="bibref"
                                        href="#bib-h-entry">h-entry</a></cite>] 属性）。
                                <ul>
                                    <li id="updating-existing-webmentions-li-3">
                                        Webmention 更新实现<em class="rfc2119" title="MAY">可以</em>支持对子属性（如嵌套 h-entry
                                        评论）的数据更新。建议实现时参考 [<cite><a class="bibref"
                                                href="#bib-Salmention">Salmention</a></cite>] 扩展。
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li id="updating-existing-webmentions-li-4">如在第2步（GET source）返回 <code>410 Gone</code>，或为
                        <code>200 OK</code> 但未找到 target，则<em class="rfc2119" title="SHOULD">推荐</em>删除已有 Webmention
                        或标记为删除。
                    </li>
                    <li id="updating-existing-webmentions-li-5">Webmention 处理<em class="rfc2119"
                            title="SHOULD">推荐</em>幂等：即多次收到相同 <code>source</code> 和 <code>target</code> 的
                        Webmention、内容不变时只算一次回复。</li>
                </ul>
                <p id="updating-existing-webmentions-p-2"></p>
            </section>

        </section>
    </section>

    <section id="security-considerations" typeof="bibo:Chapter" resource="#security-considerations"
        property="bibo:hasPart">
        <!--OddPage-->
        <h2 id="h-security-considerations" resource="#h-security-considerations"><span property="xhv:role"
                resource="xhv:heading"><span class="secno">4. </span>安全性注意事项</span>
        </h2>

        <section id="preventing-abuse" typeof="bibo:Chapter" resource="#preventing-abuse" property="bibo:hasPart">
            <h3 id="h-preventing-abuse" resource="#h-preventing-abuse"><span property="xhv:role"
                    resource="xhv:heading"><span class="secno">4.1 </span>防止滥用</span>
            </h3>

            <ul>
                <li id="preventing-abuse-li-1">为防止 DoS 攻击，验证过程<em class="rfc2119" title="SHOULD">推荐</em>采用排队并异步处理，详见<a
                        href="#receiving-webmentions">第3.2节</a>。</li>
                <li id="preventing-abuse-li-2">接收端<em class="rfc2119" title="MUST">必须</em>按照<a
                        href="#webmention-verification">第3.2.2节</a>校验 Webmention。</li>
                <li id="preventing-abuse-li-3">如果接收端选择展示从 source 获取的数据，<em class="rfc2119"
                        title="MUST">必须</em>对数据进行编码和/或过滤，以防止 [<cite><a class="bibref" href="#bib-XSS">XSS</a></cite>] 和
                    [<cite><a class="bibref" href="#bib-CSRF">CSRF</a></cite>] 攻击。</li>
                <li id="preventing-abuse-li-4">接收端<em class="rfc2119" title="MAY">可以</em>对 Webmention 进行人工审核后再公开。</li>
                <li id="preventing-abuse-li-5">接收端<em class="rfc2119" title="MAY">可以</em>定期复查和更新 Webmention。</li>
            </ul>
        </section>

        <section id="limits-on-get-requests" typeof="bibo:Chapter" resource="#limits-on-get-requests"
            property="bibo:hasPart">
            <h3 id="h-limits-on-get-requests" resource="#h-limits-on-get-requests"><span property="xhv:role"
                    resource="xhv:heading"><span class="secno">4.2 </span>限制 GET 请求</span>
            </h3>

            <p id="limits-on-get-requests-p-1">Webmention 协议依赖发送端发起 GET（或 HEAD）请求来发现接收端的 Endpoint，然后接收端又会对发送端的网页发起 GET
                请求用于校验链接。这意味着发送端可以导致接收端对任意 URL 发起 GET 请求，存在潜在 DoS 风险。</p>
            <p id="limits-on-get-requests-p-2">接收端<em class="rfc2119" title="MAY">可以</em>在校验链接时首先发 HTTP HEAD
                请求，初步检查内容类型、长度或相关 Header，再决定是否进行完整 GET 请求。</p>
            <p id="limits-on-get-requests-p-3">接收端<em class="rfc2119"
                    title="SHOULD">推荐</em>限制HTTP重定向次数，例如最多跟踪20次，以防因发送端连续重定向导致陷入循环。</p>
            <p id="limits-on-get-requests-p-4">接收端<em class="rfc2119" title="SHOULD">推荐</em>限制抓取未经验证 source URL
                时的数据量和时长。例如 source URL 超过5秒无响应可视为失败，同样可只抓取页面的前1MB内容，一般合理的 HTML 或 JSON 页面不会超过此大小。</p>
        </section>

        <section id="avoid-sending-webmentions-to-localhost" typeof="bibo:Chapter"
            resource="#avoid-sending-webmentions-to-localhost" property="bibo:hasPart">
            <h3 id="h-avoid-sending-webmentions-to-localhost" resource="#h-avoid-sending-webmentions-to-localhost"><span
                    property="xhv:role" resource="xhv:heading"><span class="secno">4.3 </span>避免发送 Webmention
                    到本地地址</span>
            </h3>

            <p id="avoid-sending-webmentions-to-localhost-p-1">在发送方发现接收方 Webmention endpoint 时，几乎没有理由将 endpoint 设置为
                localhost 或其它 loopback 地址。如果发送方有监听本地服务且未设鉴权，恶意 Webmention 接收端可能构造一个 endpoint 导致发送方对自身本地接口发起任意 POST 请求。
            </p>
            <p id="avoid-sending-webmentions-to-localhost-p-2">在发现步骤中，如果 endpoint 是 localhost 或回环IP（127.0.0.0/8），发送方<em
                    class="rfc2119" title="SHOULD NOT">不应</em>向其发送 Webmention。</p>
        </section>

        <section id="cross-site-request-forgery" typeof="bibo:Chapter" resource="#cross-site-request-forgery"
            property="bibo:hasPart">
            <h3 id="h-cross-site-request-forgery" resource="#h-cross-site-request-forgery"><span property="xhv:role"
                    resource="xhv:heading"><span class="secno">4.4 </span>跨站请求伪造</span>
            </h3>

            <p id="cross-site-request-forgery-p-1">本规范未对包含额外 Header 或参数（如认证 Header、会话 Cookie）的 Webmention 请求做特殊处理。但如
                Webmention endpoint 接受含额外 Header 的请求，应<em class="rfc2119" title="SHOULD">推荐</em>防范 CSRF 攻击。其中一种方式是在
                endpoint 的查询参数里加入 CSRF token，使得 Webmention 发送方在发现 endpoint 时一并得到该 token。</p>

            <p id="cross-site-request-forgery-p-2">例如，目标 URL 可声明一个带 CSRF token 的 Webmention endpoint：</p>

            <p id="cross-site-request-forgery-p-3"></p>
            <div class="example">
                <div class="example-title marker"><span>Example 6</span></div>
                <pre
                    class="hljs http"><span class="hljs-keyword">GET</span> <span class="hljs-string">/post-by-aaron</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: aaronpk.example
HTTP/1.1 <span class="hljs-number">200</span> OK
<span class="hljs-attribute">Link</span>: &lt;http://aaronpk.example/webmention?csrf=Q0NTVhYjI0NTVkNDA3M&gt;; rel="webmention"</pre>
            </div>
            <p id="cross-site-request-forgery-p-4"></p>

            <p id="cross-site-request-forgery-p-5">Webmention endpoint 处理请求时，可先校验 CSRF token 再继续处理其它逻辑。</p>
        </section>

        <section id="limit-access-to-protected-resources" typeof="bibo:Chapter"
            resource="#limit-access-to-protected-resources" property="bibo:hasPart">
            <h3 id="h-limit-access-to-protected-resources" resource="#h-limit-access-to-protected-resources"><span
                    property="xhv:role" resource="xhv:heading"><span class="secno">4.5 </span>限制对受保护资源的访问</span>
            </h3>

            <p id="limit-access-to-protected-resources-p-1">攻击者可以声明一个指向任意 URL 的 Webmention
                endpoint。所以如果你在防火墙内服务器或有权限访问内部资源的环境中安装 Webmention 发送端软件，需要注意，攻击者可能导致服务器对内网服务器发POST请求。<em class="rfc2119"
                    title="SHOULD">推荐</em>采取措施防止访问受保护资源，可以：</p>

            <ul>
                <li id="limit-access-to-protected-resources-li-1">让发送端运行在无法访问相关内部资源的环境</li>
                <li id="limit-access-to-protected-resources-li-2">通过代理转发所有 HTTP 请求，并阻断对内网资源的访问</li>
            </ul>
        </section>

        <section id="security-and-privacy-review" typeof="bibo:Chapter" resource="#security-and-privacy-review"
            property="bibo:hasPart">
            <h3 id="h-security-and-privacy-review" resource="#h-security-and-privacy-review"><span property="xhv:role"
                    resource="xhv:heading"><span class="secno">4.6 </span>安全与隐私评估</span>
            </h3>

            <p id="security-and-privacy-review-p-1">下列问题基于自我评估问卷：安全与隐私（[<cite><a class="bibref"
                        href="#bib-security-privacy-questionnaire">security-privacy-questionnaire</a></cite>]），简要总结本规范涉及的安全与隐私注意事项。
            </p>

            <dl>
                <dt>本规范是否涉及个人身份信息？</dt>
                <dd>Webmention 唯一可能涉及个人信息的是源 URL 和目标 URL。</dd>
                <dt>本规范是否涉及高价值数据？</dt>
                <dd>否，本规范不涉及认证或其它凭据。</dd>
                <dt>本规范是否为 origin 引入了可跨会话持久化的新状态？</dt>
                <dd>否</dd>
                <dt>本规范是否在 web 上暴露了持久性跨域状态？</dt>
                <dd>Webmention 接收端可能会创建一个临时资源，存储有关 Webmention 请求的信息。</dd>
                <dt>本规范是否向某 origin 暴露了其当前不可访问的其它数据？</dt>
                <dd>否</dd>
                <dt>本规范是否允许新的脚本执行/加载机制？</dt>
                <dd>否</dd>
                <dt>本规范是否允许 origin 访问用户位置信息？</dt>
                <dd>否</dd>
                <dt>本规范是否允许 origin 访问用户设备上的传感器？</dt>
                <dd>否</dd>
                <dt>本规范是否允许 origin 访问用户本地计算环境相关信息？</dt>
                <dd>否</dd>
                <dt>本规范是否允许 origin 访问其它设备？</dt>
                <dd>否</dd>
                <dt>本规范是否允许 origin 对用户代理原生 UI 有一定控制？</dt>
                <dd>否</dd>
                <dt>本规范是否向 web 暴露临时标识符？</dt>
                <dd>否</dd>
                <dt>本规范是否区分一方/三方场景行为？</dt>
                <dd>否</dd>
                <dt>本规范在用户代理隐私模式下应如何工作？</dt>
                <dd>Webmention 不维护任何状态，隐身模式下无特殊考虑。</dd>
                <dt>本规范是否将数据写入用户本地设备？</dt>
                <dd>否</dd>
                <dt>本规范是否允许降低默认安全属性？</dt>
                <dd>否</dd>
            </dl>
        </section>

    </section>

    <section id="other-considerations" typeof="bibo:Chapter" resource="#other-considerations" property="bibo:hasPart">
        <!--OddPage-->
        <h2 id="h-other-considerations" resource="#h-other-considerations"><span property="xhv:role"
                resource="xhv:heading"><span class="secno">5. </span>其它注意事项</span>
        </h2>

        <section id="sending-webmentions-from-non-html-content" typeof="bibo:Chapter"
            resource="#sending-webmentions-from-non-html-content" property="bibo:hasPart">
            <h3 id="h-sending-webmentions-from-non-html-content"
                resource="#h-sending-webmentions-from-non-html-content"><span property="xhv:role"
                    resource="xhv:heading"><span class="secno">5.1 </span>从非 HTML 内容发送 Webmention</span>
            </h3>

            <p id="sending-webmentions-from-non-html-content-p-1">如果你的源文档不是 HTML（如 PDF），或因受限无法直接用 HTTP GET
                请求获取原文（如需付费墙或点击协议），你需建立一个 HTML “落地页”，其中列出所有目标链接。创建好 HTML 落地页后即可用其 URL 作为 Webmention 的 source。这能让接收端有个可抓取
                URL 校验对目标的链接，同时避免将完整源文档公开。</p>

            <p id="sending-webmentions-from-non-html-content-p-2">制作 HTML
                落地页还能提升你的内容被外部引用的频率，为受限内容（如论文）提供一个适合引用的页面。论文类内容建议 HTML 页直接展示参考文献列表，以便用作 Webmention 的 target URL。</p>
        </section>

        <section id="sending-webmentions-for-large-datasets" typeof="bibo:Chapter"
            resource="#sending-webmentions-for-large-datasets" property="bibo:hasPart">
            <h3 id="h-sending-webmentions-for-large-datasets" resource="#h-sending-webmentions-for-large-datasets"><span
                    property="xhv:role" resource="xhv:heading"><span class="secno">5.2 </span>为大数据集发送 Webmention</span>
            </h3>

            <p id="sending-webmentions-for-large-datasets-p-1">如果你的源文档规模非常大（如包含上千条记录的大表HTML页，或超大JSON文件），不建议直接用其作为 source
                发送 Webmention。这样可能导致接收端下载整个数据集，消耗大量带宽，或者接收端只下载一部分内容而引发校验失败。如果接收端对外转发你的 source 链接，其他访客也可能意外下载完整大数据集。</p>
            <p id="sending-webmentions-for-large-datasets-p-2">如网页分页显示数据集是最佳实践，发送 Webmention 时，大数据应仅从较小数据页发起；HTML
                可直接用分页后的页面作 source，JSON 则推荐为每页单独设一个较小的 json 文档并用其做 source。</p>
        </section>

        <section id="respecting-cache-headers-on-discovery" typeof="bibo:Chapter"
            resource="#respecting-cache-headers-on-discovery" property="bibo:hasPart">
            <h3 id="h-respecting-cache-headers-on-discovery" resource="#h-respecting-cache-headers-on-discovery"><span
                    property="xhv:role" resource="xhv:heading"><span class="secno">5.3 </span>发现时遵守缓存头</span>
            </h3>

            <p id="respecting-cache-headers-on-discovery-p-1">执行 <a
                    href="#sender-discovers-receiver-webmention-endpoint">Webmention 发现</a> 时，发送端<em class="rfc2119"
                    title="SHOULD">推荐</em>遵守目标 URL 返回的 HTTP 缓存头 [<cite><a class="bibref"
                        href="#bib-RFC7234">RFC7234</a></cite>]，避免高于Header指定频率地抓取同一目标 URL。</p>
        </section>
    </section>

    <section id="iana-considerations" typeof="bibo:Chapter" resource="#iana-considerations" property="bibo:hasPart">
        <!--OddPage-->
        <h2 id="h-iana-considerations" resource="#h-iana-considerations"><span property="xhv:role"
                resource="xhv:heading"><span class="secno">6. </span>IANA 相关事项</span>
        </h2>

        <p id="iana-considerations-p-1">IANA 已根据 [<cite><a class="bibref" href="#bib-RFC5988">RFC5988</a></cite>]
            第6.2.1节，登记了如下链接关系类型：</p>

        <dl>

            <dt>关系名称：</dt>
            <dd>webmention</dd>

            <dt>描述：</dt>
            <dd>用于标识支持 Webmention 协议的目标 URI，使发表内容时可通过该端点通知目标资源被提及。</dd>

            <dt>参考：</dt>
            <dd><a href="https://www.w3.org/TR/webmention/"><abbr title="World Wide Web Consortium">W3C</abbr>
                    Webmention
                    规范 (http://www.w3.org/TR/webmention/)</a></dd>

            <dt>备注：</dt>
            <dd>这是一种类似 Refback、Trackback、Pingback 的“Linkback”机制，但其协议不同，因此应以独立的 link relation 方式声明可发现性。</dd>

        </dl>
    </section>

    <section class="appendix" id="uris-for-form-encoded-properties" typeof="bibo:Chapter"
        resource="#uris-for-form-encoded-properties" property="bibo:hasPart">
        <!--OddPage-->
        <h2 id="h-uris-for-form-encoded-properties" resource="#h-uris-for-form-encoded-properties"><span
                property="xhv:role" resource="xhv:heading"><span class="secno">A. </span>表单编码属性的 URI</span>
        </h2>

        <p id="uris-for-form-encoded-properties-p-1">如你实现中希望将 <code>source</code> 和
            <code>target</code> 参数视为 URI，可在参数前添加 <code>http://www.w3.org/ns/webmention#</code> 前缀。
        </p>
    </section>

    <section class="appendix informative" id="extensions" typeof="bibo:Chapter" resource="#extensions"
        property="bibo:hasPart">
        <!--OddPage-->
        <h2 id="h-extensions" resource="#h-extensions"><span property="xhv:role" resource="xhv:heading"><span
                    class="secno">B. </span>扩展</span>
        </h2>
        <p id="extensions-p-1"><em>本节为非规范性内容。</em></p>

        <p id="extensions-p-2">下列 Webmention 扩展规范已在互联网上有2个及以上互操作实现，特此列出：</p>

        <section id="vouch" typeof="bibo:Chapter" resource="#vouch" property="bibo:hasPart">
            <h3 id="h-vouch" resource="#h-vouch"><span property="xhv:role" resource="xhv:heading"><span
                        class="secno">B.1 </span><a href="https://indieweb.org/Vouch">Vouch（担保）</a></span>
            </h3>
            <p id="vouch-p-1">[<cite><a class="bibref" href="#bib-Vouch">Vouch</a></cite>] 协议是 Webmention 的一个反垃圾邮件扩展。
            </p>
        </section>

        <section id="salmention" typeof="bibo:Chapter" resource="#salmention" property="bibo:hasPart">
            <h3 id="h-salmention" resource="#h-salmention"><span property="xhv:role" resource="xhv:heading"><span
                        class="secno">B.2 </span><a href="https://indieweb.org/Salmention">Salmention</a></span>
            </h3>
            <p id="salmention-p-1">[<cite><a class="bibref" href="#bib-Salmention">Salmention</a></cite>] 协议是 Webmention
                的一个扩展，用于上游分发评论与其它交互行为。</p>
        </section>

        <section id="private-webmention" typeof="bibo:Chapter" resource="#private-webmention" property="bibo:hasPart">
            <h3 id="h-private-webmention" resource="#h-private-webmention"><span property="xhv:role"
                    resource="xhv:heading"><span class="secno">B.3 </span><a
                        href="https://indieweb.org/Private-Webmention">Private Webmention</a></span>
            </h3>
            <p id="private-webmention-p-1">[<cite><a class="bibref"
                        href="#bib-Private-Webmention">Private-Webmention</a></cite>] 协议是支持受权限控制的文章发送和验证 Webmention 的扩展。
            </p>
        </section>

    </section>

    <section class="appendix informative" id="resources" typeof="bibo:Chapter" resource="#resources"
        property="bibo:hasPart">
        <!--OddPage-->
        <h2 id="h-resources" resource="#h-resources"><span property="xhv:role" resource="xhv:heading"><span
                    class="secno">C. </span>资源</span>
        </h2>
        <p id="resources-p-1"><em>本节为非规范性内容。</em></p>

        <p id="resources-p-2">
        </p>
        <ul>
            <li id="resources-li-1"><a href="https://webmention.rocks">测试套件与调试工具</a></li>
            <li id="resources-li-2"><a href="https://indieweb.org/Webmention-faq">常见问题</a></li>
            <li id="resources-li-3"><a href="https://indieweb.org/webmention-implementation-guide">实现指南</a></li>
            <li id="resources-li-4"><a href="https://indieweb.org/webmention-implementation-details">实现细节</a></li>
            <li id="resources-li-5"><a href="https://indieweb.org/Webmention-brainstorming">头脑风暴</a></li>
        </ul>
        <p id="resources-p-3"></p>

        <section class="appendix informative" id="articles" typeof="bibo:Chapter" resource="#articles"
            property="bibo:hasPart">
            <h3 id="h-articles" resource="#h-articles"><span property="xhv:role" resource="xhv:heading"><span
                        class="secno">C.1 </span>文章</span>
            </h3>
            <p id="articles-p-1"><em>本节为非规范性内容。</em></p>

            <p id="articles-p-2">你可以在 IndieWeb wiki 上查阅 <a href="https://indieweb.org/webmention#Articles">Webmention
                    相关文章</a>。</p>
        </section>

        <section class="appendix informative" id="implementations" typeof="bibo:Chapter" resource="#implementations"
            property="bibo:hasPart">
            <h3 id="h-implementations" resource="#h-implementations"><span property="xhv:role"
                    resource="xhv:heading"><span class="secno">C.2 </span>实现</span>
            </h3>
            <p id="implementations-p-1"><em>本节为非规范性内容。</em></p>

            <p id="implementations-p-2">你可以在 webmention.net 查阅 <a
                    href="http://webmention.net/implementations/">Webmention 实现列表</a></p>
        </section>

    </section>

    <section class="appendix" id="acknowledgements" typeof="bibo:Chapter" resource="#acknowledgements"
        property="bibo:hasPart">
        <!--OddPage-->
        <h2 id="h-acknowledgements" resource="#h-acknowledgements"><span property="xhv:role"
                resource="xhv:heading"><span class="secno">D. </span>致谢</span>
        </h2>

        <p id="acknowledgements-p-1">编辑特别感谢 <a href="http://sandeep.io/">Sandeep Shetty</a> 对 Webmention 规范原始草案的贡献。</p>
        <p id="acknowledgements-p-2">此外，编辑还要感谢 <a href="https://indieweb.org/">IndieWeb</a> 社区和其他实现者的支持、鼓励和热情，包括但不限于：Amy
            Guy、Benjamin Roberts、Ben Werdmüller、Dave
            Wilkinson、Rob Sanderson 和 Tantek Çelik。</p>
    </section>

    <section class="appendix informative" id="change-log" typeof="bibo:Chapter" resource="#change-log"
        property="bibo:hasPart">
        <!--OddPage-->
        <h2 id="h-change-log" resource="#h-change-log"><span property="xhv:role" resource="xhv:heading"><span
                    class="secno">E. </span>变更日志</span>
        </h2>
        <p id="change-log-p-1"><em>本节为非规范性内容。</em></p>

        <section id="changes-from-01-november-pr-to-rec" typeof="bibo:Chapter"
            resource="#changes-from-01-november-pr-to-rec" property="bibo:hasPart">
            <h3 id="h-changes-from-01-november-pr-to-rec" resource="#h-changes-from-01-november-pr-to-rec"><span
                    property="xhv:role" resource="xhv:heading"><span class="secno">E.1 </span>从 <a
                        href="https://www.w3.org/TR/2016/PR-webmention-20161101/">2016年11月1日 PR</a> 到 REC 的变动</span>
            </h3>

            <ul>
                <li id="changes-from-01-november-pr-to-rec-li-1">围绕 loopback 地址发送的情况做了编辑澄清</li>
                <li id="changes-from-01-november-pr-to-rec-li-2">将 JSON 的引用由已废弃的 RFC4627 更新为 RFC7159</li>
                <li id="changes-from-01-november-pr-to-rec-li-3">增加了关于从大数据集派生大文档时分页发送 Webmention 的说明</li>
                <li id="changes-from-01-november-pr-to-rec-li-4">新增一条关于重复发布可能受限可见性的内容的说明</li>
                <li id="changes-from-01-november-pr-to-rec-li-5">对有关 XSS 与 CSRF 的 OWASP 文档增加了补充参考</li>
                <li id="changes-from-01-november-pr-to-rec-li-6">澄清安全性注意事项中“发布”与“展示”的差异</li>
                <li id="changes-from-01-november-pr-to-rec-li-7">在4.1安全性注意事项补充重申 Webmention 验证</li>
                <li id="changes-from-01-november-pr-to-rec-li-8">4.1安全性注意事项按时序顺序重新排序</li>
                <li id="changes-from-01-november-pr-to-rec-li-9">其它文字细节完善</li>
            </ul>
        </section>
    </section>

    <script>
        // After text is selected (mouseup), find the closest element that has an ID
        // attribute, and update the browser location bar to include that as the fragment
        document.body.onmouseup = function () {
            var selection;
            if (selection = window.getSelection()) {
                var range = selection.getRangeAt(0);
                var el = range.startContainer;
                while ((el = el.parentElement) && !el.attributes["id"]);
                var hash = el.attributes["id"].value;
                if (history.replaceState) {
                    history.replaceState(null, null, "#" + hash);
                }
            }
        };
    </script>


    <section id="references" class="appendix" typeof="bibo:Chapter" resource="#references" property="bibo:hasPart">
        <!--OddPage-->
        <h2 id="h-references" resource="#h-references"><span property="xhv:role" resource="xhv:heading"><span
                    class="secno">F. </span>参考文献</span>
        </h2>

        <section id="normative-references" typeof="bibo:Chapter" resource="#normative-references"
            property="bibo:hasPart">
            <h3 id="h-normative-references" resource="#h-normative-references"><span property="xhv:role"
                    resource="xhv:heading"><span class="secno">F.1 </span>规范性引用</span>
            </h3>
            <dl class="bibliography" resource="">
                <dt id="bib-FETCH">[FETCH]</dt>
                <dd>Anne van Kesteren. WHATWG. <a href="https://fetch.spec.whatwg.org/"
                        property="dc:requires"><cite>Fetch 标准</cite></a>。实时规范。URL: <a
                        href="https://fetch.spec.whatwg.org/" property="dc:requires">https://fetch.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-HTML5">[HTML5]</dt>
                <dd>Ian Hickson；Robin Berjon；Steve Faulkner；Travis Leithead；Erika Doyle Navara；Theresa O'Connor；
                    Silvia Pfeiffer。W3C。<a href="https://www.w3.org/TR/html5/"
                        property="dc:requires"><cite>HTML5</cite></a>。2014年10月28日。W3C 推荐。URL: <a
                        href="https://www.w3.org/TR/html5/" property="dc:requires">https://www.w3.org/TR/html5/</a>
                </dd>
                <dt id="bib-RFC2119">[RFC2119]</dt>
                <dd>S. Bradner。IETF。<a href="https://tools.ietf.org/html/rfc2119" property="dc:requires"><cite>在 RFC
                            中用作需求级别指示的关键词</cite></a>。1997年3月。最佳当前实践。URL: <a href="https://tools.ietf.org/html/rfc2119"
                        property="dc:requires">https://tools.ietf.org/html/rfc2119</a>
                </dd>
                <dt id="bib-RFC5988">[RFC5988]</dt>
                <dd>M. Nottingham。IETF。<a href="https://tools.ietf.org/html/rfc5988" property="dc:requires"><cite>Web
                            链接</cite></a>。2010年10月。建议标准。URL: <a href="https://tools.ietf.org/html/rfc5988"
                        property="dc:requires">https://tools.ietf.org/html/rfc5988</a>
                </dd>
                <dt id="bib-RFC7231">[RFC7231]</dt>
                <dd>R. Fielding（编辑）；J. Reschke（编辑）。IETF。<a href="https://tools.ietf.org/html/rfc7231"
                        property="dc:requires"><cite>超文本传输协议（HTTP/1.1）：语义与内容</cite></a>。2014年6月。建议标准。URL: <a
                        href="https://tools.ietf.org/html/rfc7231"
                        property="dc:requires">https://tools.ietf.org/html/rfc7231</a>
                </dd>
                <dt id="bib-URL">[URL]</dt>
                <dd>
                    <div class="note">
                        <p id="normative-references-p-1"><b>注：</b>URL 可在不同上下文中以多种方式使用。为生成严格的 URL，建议参考 [<a
                                href="https://www.ietf.org/rfc/rfc3986">RFC3986</a>] 和 [<a
                                href="https://www.ietf.org/rfc/rfc3987">RFC3987</a>]。URL 规范定义了 URL
                            一词、相关算法以及用于构造、解析和解析（resolve）URL 的 API。开发者建议关注 <a
                                href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a> 追踪最新进展。</p>
                        <p id="normative-references-p-2">需要注意的是，Web 浏览器与 HTML 外的软件栈在处理 URL 时方式不尽相同。虽然不会采纳破坏现有 Web 内容的
                            URL 处理变更，但部分 URL 行为因此为实现自定义（如 <code>file:</code> 解析或不符 RFC3986/3987 的语法操作）。</p>
                    </div> Anne van Kesteren. WHATWG。<a href="https://url.spec.whatwg.org/"
                        property="dc:requires"><cite>URL 标准</cite></a>。持续更新规范。URL: <a
                        href="https://url.spec.whatwg.org/" property="dc:requires">https://url.spec.whatwg.org/</a>
                </dd>
            </dl>
        </section>

        <section id="informative-references" typeof="bibo:Chapter" resource="#informative-references"
            property="bibo:hasPart">
            <h3 id="h-informative-references" resource="#h-informative-references"><span property="xhv:role"
                    resource="xhv:heading"><span class="secno">F.2 </span>补充性引用</span>
            </h3>
            <dl class="bibliography" resource="">
                <dt id="bib-CSRF">[CSRF]</dt>
                <dd>OWASP。<a href="https://www.owasp.org/index.php/Cross-Site_Request_Forgery_(CSRF)"
                        property="dc:references"><cite>跨站请求伪造</cite></a>。实时文档。URL: <a
                        href="https://www.owasp.org/index.php/Cross-Site_Request_Forgery_(CSRF)"
                        property="dc:references">https://www.owasp.org/index.php/Cross-Site_Request_Forgery_(CSRF)</a>
                </dd>
                <dt id="bib-Pingback">[Pingback]</dt>
                <dd>Stuart Langridge；Ian Hickson。hixie.ch。<a href="http://www.hixie.ch/specs/pingback/pingback"
                        property="dc:references"><cite>Pingback 1.0</cite></a>。稳定规范。URL: <a
                        href="http://www.hixie.ch/specs/pingback/pingback"
                        property="dc:references">http://www.hixie.ch/specs/pingback/pingback</a>
                </dd>
                <dt id="bib-Private-Webmention">[Private-Webmention]</dt>
                <dd>Aaron Parecki。IndieWeb。<a href="https://indieweb.org/Private-Webmention"
                        property="dc:references"><cite>Private Webmention</cite></a>。实时规范。URL: <a
                        href="https://indieweb.org/Private-Webmention"
                        property="dc:references">https://indieweb.org/Private-Webmention</a>
                </dd>
                <dt id="bib-RFC7159">[RFC7159]</dt>
                <dd>T. Bray（编辑）。IETF。<a href="https://tools.ietf.org/html/rfc7159"
                        property="dc:references"><cite>JavaScript 对象表示法（JSON）数据交换格式</cite></a>。2014年3月。建议标准。URL: <a
                        href="https://tools.ietf.org/html/rfc7159"
                        property="dc:references">https://tools.ietf.org/html/rfc7159</a>
                </dd>
                <dt id="bib-RFC7234">[RFC7234]</dt>
                <dd>R. Fielding（编辑）；M. Nottingham（编辑）；J. Reschke（编辑）。IETF。<a href="https://tools.ietf.org/html/rfc7234"
                        property="dc:references"><cite>超文本传输协议（HTTP/1.1）：缓存</cite></a>。2014年6月。建议标准。URL: <a
                        href="https://tools.ietf.org/html/rfc7234"
                        property="dc:references">https://tools.ietf.org/html/rfc7234</a>
                </dd>
                <dt id="bib-Salmention">[Salmention]</dt>
                <dd>Ben Roberts；Tantek Çelik。IndieWeb。<a href="https://indieweb.org/Salmention"
                        property="dc:references"><cite>Salmention</cite></a>。实时规范。URL: <a
                        href="https://indieweb.org/Salmention"
                        property="dc:references">https://indieweb.org/Salmention</a>
                </dd>
                <dt id="bib-Vouch">[Vouch]</dt>
                <dd>Aaron Parecki；Tantek Çelik。IndieWeb。<a href="https://indieweb.org/Vouch"
                        property="dc:references"><cite>Vouch</cite></a>。实时规范。URL: <a href="https://indieweb.org/Vouch"
                        property="dc:references">https://indieweb.org/Vouch</a>
                </dd>
                <dt id="bib-XSS">[XSS]</dt>
                <dd>OWASP。<a href="https://www.owasp.org/index.php/Cross-site_Scripting_(XSS)"
                        property="dc:references"><cite>跨站脚本攻击</cite></a>。实时文档。URL: <a
                        href="https://www.owasp.org/index.php/Cross-site_Scripting_(XSS)"
                        property="dc:references">https://www.owasp.org/index.php/Cross-site_Scripting_(XSS)</a>
                </dd>
                <dt id="bib-h-entry">[h-entry]</dt>
                <dd>Tantek Çelik。microformats.org。<a href="http://microformats.org/wiki/h-entry"
                        property="dc:references"><cite>h-entry</cite></a>。实时规范。URL: <a
                        href="http://microformats.org/wiki/h-entry"
                        property="dc:references">http://microformats.org/wiki/h-entry</a>
                </dd>
                <dt id="bib-security-privacy-questionnaire">[security-privacy-questionnaire]</dt>
                <dd>Mike West。W3C。<a href="https://www.w3.org/TR/security-privacy-questionnaire/"
                        property="dc:references"><cite>自我评估问卷：安全与隐私</cite></a>。2015年12月10日。W3C 注记。URL: <a
                        href="https://www.w3.org/TR/security-privacy-questionnaire/"
                        property="dc:references">https://www.w3.org/TR/security-privacy-questionnaire/</a>
                </dd>
                <dt id="bib-social-web-protocols">[social-web-protocols]</dt>
                <dd>Amy Guy。W3C。<a href="https://www.w3.org/TR/social-web-protocols/"
                        property="dc:references"><cite>社交网络协议</cite></a>。2016年11月2日。W3C 工作草案。URL: <a
                        href="https://www.w3.org/TR/social-web-protocols/"
                        property="dc:references">https://www.w3.org/TR/social-web-protocols/</a>
                </dd>
            </dl>
        </section>
    </section>
    <p role="navigation" id="back-to-top"><a href="#toc"><abbr title="返回顶部">↑</abbr></a></p>
    <script src="https://www.w3.org/scripts/TR/2016/fixup.js"></script>
    <script src="https://htmlspecs.com/dropdown.js"></script>
</body>

</html>