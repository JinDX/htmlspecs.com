<!DOCTYPE html>
<html lang="zh-hans" dir="ltr">

<head>
    <meta charset="utf-8">
    <meta name="generator" content="ReSpec 35.1.2">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <style>
        span.example-title {
            text-transform: none
        }

        :is(aside, div).example,
        div.illegal-example {
            padding: .5em;
            margin: 1em 0;
            position: relative;
            clear: both
        }

        div.illegal-example {
            color: red
        }

        div.illegal-example p {
            color: #000
        }

        aside.example div.example {
            border-left-width: .1em;
            border-color: #999;
            background: #fff
        }
    </style>
    <style>
        .issue-label {
            text-transform: initial
        }

        .warning>p:first-child {
            margin-top: 0
        }

        .warning {
            padding: .5em;
            border-left-width: .5em;
            border-left-style: solid
        }

        span.warning {
            padding: .1em .5em .15em
        }

        .issue.closed span.issue-number {
            text-decoration: line-through
        }

        .issue.closed span.issue-number::after {
            content: " (Closed)";
            font-size: smaller
        }

        .warning {
            border-color: #f11;
            border-color: var(--warning-border, #f11);
            border-width: .2em;
            border-style: solid;
            background: #fbe9e9;
            background: var(--warning-bg, #fbe9e9);
            color: #000;
            color: var(--text, #000)
        }

        .warning-title:before {
            content: "⚠";
            font-size: 1.3em;
            float: left;
            padding-right: .3em;
            margin-top: -.3em
        }

        li.task-list-item {
            list-style: none
        }

        input.task-list-item-checkbox {
            margin: 0 .35em .25em -1.6em;
            vertical-align: middle
        }

        .issue a.respec-gh-label {
            padding: 5px;
            margin: 0 2px 0 2px;
            font-size: 10px;
            text-transform: none;
            text-decoration: none;
            font-weight: 700;
            border-radius: 4px;
            position: relative;
            bottom: 2px;
            border: none;
            display: inline-block
        }
    </style>
    <style>
        pre.idl {
            padding: 1em;
            position: relative
        }

        pre.idl>code {
            color: #000;
            color: var(--text, #000)
        }

        @media print {
            pre.idl {
                white-space: pre-wrap
            }
        }

        .idlHeader {
            display: block;
            width: 150px;
            background: #8ccbf2;
            background: var(--def-border, #8ccbf2);
            color: #fff;
            color: var(--defrow-border, #fff);
            font-family: sans-serif;
            font-weight: 700;
            margin: -1em 0 1em -1em;
            height: 28px;
            line-height: 28px
        }

        .idlHeader a.self-link {
            margin-left: .3cm;
            text-decoration: none;
            border-bottom: none;
            color: inherit
        }

        .idlID {
            font-weight: 700;
            color: #005a9c
        }

        .idlType {
            color: #005a9c
        }

        .idlName {
            color: #ff4500
        }

        .idlName a {
            color: #ff4500;
            border-bottom: 1px dotted #ff4500;
            text-decoration: none
        }

        a.idlEnumItem {
            color: #000;
            border-bottom: 1px dotted #ccc;
            text-decoration: none
        }

        .idlSuperclass {
            font-style: italic;
            color: #005a9c
        }

        .idlDefaultValue,
        .idlParamName {
            font-style: italic
        }

        .extAttr {
            color: #666
        }

        .idlSectionComment {
            color: gray
        }

        .idlIncludes a {
            font-weight: 700
        }

        .respec-button-copy-paste:focus {
            text-decoration: none;
            border-color: #51a7e8;
            outline: 0;
            box-shadow: 0 0 5px rgba(81, 167, 232, .5)
        }

        .respec-button-copy-paste:is(:focus:hover, .selected:focus) {
            border-color: #51a7e8
        }

        .respec-button-copy-paste:is(:hover, :active, .zeroclipboard-is-hover, .zeroclipboard-is-active) {
            text-decoration: none;
            background-color: #ddd;
            background-image: linear-gradient(#eee, #ddd);
            border-color: #ccc
        }

        .respec-button-copy-paste:is(:active, .selected, .zeroclipboard-is-active) {
            background-color: #dcdcdc;
            background-image: none;
            border-color: #b5b5b5;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, .15)
        }

        .respec-button-copy-paste.selected:hover {
            background-color: #cfcfcf
        }

        .respec-button-copy-paste:is(:disabled, :disabled:hover, .disabled, .disabled:hover) {
            color: rgba(102, 102, 102, .5);
            cursor: default;
            background-color: rgba(229, 229, 229, .5);
            background-image: none;
            border-color: rgba(197, 197, 197, .5);
            box-shadow: none
        }

        @media print {
            .respec-button-copy-paste {
                visibility: hidden
            }
        }
    </style>
    <style>
        dfn {
            cursor: pointer
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            min-width: 300px;
            max-width: 500px;
            padding: .5em .75em;
            margin-top: .6em;
            font-family: "Helvetica Neue", sans-serif;
            font-size: small;
            background: #fff;
            background: var(--indextable-hover-bg, #fff);
            color: #000;
            color: var(--text, #000);
            box-shadow: 0 1em 3em -.4em rgba(0, 0, 0, .3), 0 0 1px 1px rgba(0, 0, 0, .05);
            box-shadow: 0 1em 3em -.4em var(--tocsidebar-shadow, rgba(0, 0, 0, .3)), 0 0 1px 1px var(--tocsidebar-shadow, rgba(0, 0, 0, .05));
            border-radius: 2px
        }

        .dfn-panel:not(.docked)>.caret {
            position: absolute;
            top: -9px
        }

        .dfn-panel:not(.docked)>.caret::after,
        .dfn-panel:not(.docked)>.caret::before {
            content: "";
            position: absolute;
            border: 10px solid transparent;
            border-top: 0;
            border-bottom: 10px solid #fff;
            border-bottom-color: var(--indextable-hover-bg, #fff);
            top: 0
        }

        .dfn-panel:not(.docked)>.caret::before {
            border-bottom: 9px solid #a2a9b1;
            border-bottom-color: var(--indextable-hover-bg, #a2a9b1)
        }

        .dfn-panel * {
            margin: 0
        }

        .dfn-panel b {
            display: block;
            color: #000;
            color: var(--text, #000);
            margin-top: .25em
        }

        .dfn-panel ul a[href] {
            color: #333;
            color: var(--text, #333)
        }

        .dfn-panel>div {
            display: flex
        }

        .dfn-panel a.self-link {
            font-weight: 700;
            margin-right: auto
        }

        .dfn-panel .marker {
            padding: .1em;
            margin-left: .5em;
            border-radius: .2em;
            text-align: center;
            white-space: nowrap;
            font-size: 90%;
            color: #040b1c
        }

        .dfn-panel .marker.dfn-exported {
            background: #d1edfd;
            box-shadow: 0 0 0 .125em #1ca5f940
        }

        .dfn-panel .marker.idl-block {
            background: #8ccbf2;
            box-shadow: 0 0 0 .125em #0670b161
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important
        }

        .dfn-panel a[href]:hover {
            border-bottom-width: 1px
        }

        .dfn-panel ul {
            padding: 0
        }

        .dfn-panel li {
            margin-left: 1em
        }

        .dfn-panel.docked {
            position: fixed;
            left: .5em;
            top: unset;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - .75em * 2 - .5em - .2em * 2);
            max-height: 30vh;
            overflow: auto
        }
    </style>


    <meta name="color-scheme" content="light dark">

    <title>地理定位</title>



    <style id="respec-mainstyle">
        @keyframes pop {
            0% {
                transform: scale(1, 1)
            }

            25% {
                transform: scale(1.25, 1.25);
                opacity: .75
            }

            100% {
                transform: scale(1, 1)
            }
        }

        a.internalDFN {
            color: inherit;
            border-bottom: 1px solid #99c;
            text-decoration: none
        }

        a.externalDFN {
            color: inherit;
            border-bottom: 1px dotted #ccc;
            text-decoration: none
        }

        a.bibref {
            text-decoration: none
        }

        .respec-offending-element:target {
            animation: pop .25s ease-in-out 0s 1
        }

        .respec-offending-element,
        a[href].respec-offending-element {
            text-decoration: red wavy underline
        }

        @supports not (text-decoration:red wavy underline) {
            .respec-offending-element:not(pre) {
                display: inline-block
            }

            .respec-offending-element {
                background: url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x
            }
        }

        #references :target {
            background: #eaf3ff;
            animation: pop .4s ease-in-out 0s 1
        }

        cite .bibref {
            font-style: normal
        }

        a[href].orcid {
            padding-left: 4px;
            padding-right: 4px
        }

        a[href].orcid>svg {
            margin-bottom: -2px
        }

        ol.tof,
        ul.tof {
            list-style: none outside none
        }

        .caption {
            margin-top: .5em;
            font-style: italic
        }

        #issue-summary>ul {
            column-count: 2
        }

        #issue-summary li {
            list-style: none;
            display: inline-block
        }

        details.respec-tests-details {
            margin-left: 1em;
            display: inline-block;
            vertical-align: top
        }

        details.respec-tests-details>* {
            padding-right: 2em
        }

        details.respec-tests-details[open] {
            z-index: 999999;
            position: absolute;
            border: thin solid #cad3e2;
            border-radius: .3em;
            background-color: #fff;
            padding-bottom: .5em
        }

        details.respec-tests-details[open]>summary {
            border-bottom: thin solid #cad3e2;
            padding-left: 1em;
            margin-bottom: 1em;
            line-height: 2em
        }

        details.respec-tests-details>ul {
            width: 100%;
            margin-top: -.3em
        }

        details.respec-tests-details>li {
            padding-left: 1em
        }

        .self-link:hover {
            opacity: 1;
            text-decoration: none;
            background-color: transparent
        }

        aside.example .marker>a.self-link {
            color: inherit
        }

        .header-wrapper {
            display: flex;
            align-items: baseline
        }

        :is(h2, h3, h4, h5, h6):not(#toc>h2, #abstract>h2, #sotd>h2, .head>h2) {
            position: relative;
            left: -.5em
        }

        :is(h2, h3, h4, h5, h6):not(#toch2)+a.self-link {
            color: inherit;
            order: -1;
            position: relative;
            left: -1.1em;
            font-size: 1rem;
            opacity: .5
        }

        :is(h2, h3, h4, h5, h6)+a.self-link::before {
            content: "§";
            text-decoration: none;
            color: var(--heading-text)
        }

        :is(h2, h3)+a.self-link {
            top: -.2em
        }

        :is(h4, h5, h6)+a.self-link::before {
            color: #000
        }

        @media (max-width:767px) {
            dd {
                margin-left: 0
            }
        }

        @media print {
            .removeOnSave {
                display: none
            }
        }
    </style>
    <style>
        ul.index {
            columns: 30ch;
            column-gap: 1.5em
        }

        ul.index li {
            list-style: inherit
        }

        ul.index li span {
            color: inherit;
            cursor: pointer;
            white-space: normal
        }

        #index-defined-here ul.index li {
            font-size: .9rem
        }

        ul.index code {
            color: inherit
        }

        #index-defined-here .print-only {
            display: none
        }

        @media print {
            #index-defined-here .print-only {
                display: initial
            }
        }
    </style>
    <style>
        .mdn {
            font-size: .75em;
            position: absolute;
            right: .3em;
            min-width: 0;
            margin-top: 3rem
        }

        .mdn details {
            width: 100%;
            margin: 1px 0;
            position: relative;
            z-index: 10;
            box-sizing: border-box;
            padding: .4em;
            padding-top: 0
        }

        .mdn details[open] {
            min-width: 25ch;
            max-width: 32ch;
            background: #fff;
            background: var(--indextable-hover-bg, #fff);
            color: #000;
            color: var(--indextable-hover-text, #000);
            box-shadow: 0 1em 3em -.4em rgba(0, 0, 0, .3), 0 0 1px 1px rgba(0, 0, 0, .05);
            box-shadow: 0 1em 3em -.4em var(--tocsidebar-shadow, rgba(0, 0, 0, .3)), 0 0 1px 1px var(--tocsidebar-shadow, rgba(0, 0, 0, .05));
            border-radius: 2px;
            z-index: 11;
            margin-bottom: .4em
        }

        .mdn summary {
            text-align: right;
            cursor: default;
            margin-right: -.4em
        }

        .mdn summary span {
            font-family: zillaslab, Palatino, "Palatino Linotype", serif;
            color: #fff;
            color: var(--bg, #fff);
            background-color: #000;
            background-color: var(--text, #000);
            display: inline-block;
            padding: 3px
        }

        .mdn a {
            display: inline-block;
            word-break: break-all
        }

        .mdn p {
            margin: 0
        }

        .mdn .engines-all {
            color: #058b00
        }

        .mdn .engines-some {
            color: #b00
        }

        .mdn table {
            width: 100%;
            font-size: .9em
        }

        .mdn td {
            border: none
        }

        .mdn td:nth-child(2) {
            text-align: right
        }

        .mdn .nosupportdata {
            font-style: italic;
            margin: 0
        }

        .mdn tr::before {
            content: "";
            display: table-cell;
            width: 1.5em;
            height: 1.5em;
            background: no-repeat center center/contain;
            font-size: .75em
        }

        .mdn .no,
        .mdn .unknown {
            color: #ccc;
            filter: grayscale(100%)
        }

        .mdn .no::before,
        .mdn .unknown::before {
            opacity: .5
        }

        .mdn .chrome::before,
        .mdn .chrome_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/chrome/chrome.svg)
        }

        .mdn .edge::before,
        .mdn .edge_mobile::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/edge/edge.svg)
        }

        .mdn .firefox::before,
        .mdn .firefox_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/firefox/firefox.svg)
        }

        .mdn .opera::before,
        .mdn .opera_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/opera/opera.svg)
        }

        .mdn .safari::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/safari/safari.svg)
        }

        .mdn .safari_ios::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/safari-ios/safari-ios.svg)
        }

        .mdn .samsunginternet_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/samsung-internet/samsung-internet.svg)
        }

        .mdn .webview_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/android-webview/android-webview.png)
        }
    </style>
    <meta name="revision" content="841f1c63b2739bbc828fe8323c169daa2c864bd5">
    <meta name="description" content="Geolocation provides access to geographical location information
            associated with the hosting device.">
    <link rel="canonical" href="https://www.w3.org/TR/geolocation/">
    <style>
        .hljs {
            --base: #fafafa;
            --mono-1: #383a42;
            --mono-2: #686b77;
            --mono-3: #717277;
            --hue-1: #0b76c5;
            --hue-2: #336ae3;
            --hue-3: #a626a4;
            --hue-4: #42803c;
            --hue-5: #ca4706;
            --hue-5-2: #c91243;
            --hue-6: #986801;
            --hue-6-2: #9a6a01
        }

        @media (prefers-color-scheme:dark) {
            .hljs {
                --base: #282c34;
                --mono-1: #abb2bf;
                --mono-2: #818896;
                --mono-3: #5c6370;
                --hue-1: #56b6c2;
                --hue-2: #61aeee;
                --hue-3: #c678dd;
                --hue-4: #98c379;
                --hue-5: #e06c75;
                --hue-5-2: #be5046;
                --hue-6: #d19a66;
                --hue-6-2: #e6c07b
            }
        }

        .hljs {
            display: block;
            overflow-x: auto;
            padding: .5em;
            color: #383a42;
            color: var(--mono-1, #383a42);
            background: #fafafa;
            background: var(--base, #fafafa)
        }

        .hljs-comment,
        .hljs-quote {
            color: #717277;
            color: var(--mono-3, #717277);
            font-style: italic
        }

        .hljs-doctag,
        .hljs-formula,
        .hljs-keyword {
            color: #a626a4;
            color: var(--hue-3, #a626a4)
        }

        .hljs-deletion,
        .hljs-name,
        .hljs-section,
        .hljs-selector-tag,
        .hljs-subst {
            color: #ca4706;
            color: var(--hue-5, #ca4706);
            font-weight: 700
        }

        .hljs-literal {
            color: #0b76c5;
            color: var(--hue-1, #0b76c5)
        }

        .hljs-addition,
        .hljs-attribute,
        .hljs-meta-string,
        .hljs-regexp,
        .hljs-string {
            color: #42803c;
            color: var(--hue-4, #42803c)
        }

        .hljs-built_in,
        .hljs-class .hljs-title {
            color: #9a6a01;
            color: var(--hue-6-2, #9a6a01)
        }

        .hljs-attr,
        .hljs-number,
        .hljs-selector-attr,
        .hljs-selector-class,
        .hljs-selector-pseudo,
        .hljs-template-variable,
        .hljs-type,
        .hljs-variable {
            color: #986801;
            color: var(--hue-6, #986801)
        }

        .hljs-bullet,
        .hljs-link,
        .hljs-meta,
        .hljs-selector-id,
        .hljs-symbol,
        .hljs-title {
            color: #336ae3;
            color: var(--hue-2, #336ae3)
        }

        .hljs-emphasis {
            font-style: italic
        }

        .hljs-strong {
            font-weight: 700
        }

        .hljs-link {
            text-decoration: underline
        }
    </style>
    <style>
        var {
            position: relative;
            cursor: pointer
        }

        var[data-type]::after,
        var[data-type]::before {
            position: absolute;
            left: 50%;
            top: -6px;
            opacity: 0;
            transition: opacity .4s;
            pointer-events: none
        }

        var[data-type]::before {
            content: "";
            transform: translateX(-50%);
            border-width: 4px 6px 0 6px;
            border-style: solid;
            border-color: transparent;
            border-top-color: #222
        }

        var[data-type]::after {
            content: attr(data-type);
            transform: translateX(-50%) translateY(-100%);
            background: #222;
            text-align: center;
            font-family: "Dank Mono", "Fira Code", monospace;
            font-style: normal;
            padding: 6px;
            border-radius: 3px;
            color: #daca88;
            text-indent: 0;
            font-weight: 400
        }

        var[data-type]:hover::after,
        var[data-type]:hover::before {
            opacity: 1
        }
    </style>
    <style>
        :root {
            --assertion-border: #aaa;
            --assertion-bg: #eee;
            --assertion-text: black
        }

        .assert {
            border-left: .5em solid #aaa;
            padding: .3em;
            border-color: #aaa;
            border-color: var(--assertion-border);
            background: #eee;
            background: var(--assertion-bg);
            color: #000;
            color: var(--assertion-text)
        }

        @media (prefers-color-scheme:dark) {
            :root {
                --assertion-border: #444;
                --assertion-bg: var(--borderedblock-bg);
                --assertion-text: var(--text)
            }
        }
    </style>
    <script id="initialUserConfig" type="application/json">{
      "shortName": "geolocation",
      "mdn": "geolocation-api",
      "specStatus": "REC",
      "editors": [
        {
          "name": "Marcos Cáceres",
          "company": "Apple Inc.",
          "companyURL": "https://apple.com",
          "w3cid": "39125"
        },
        {
          "name": "Reilly Grant",
          "company": "Google",
          "companyURL": "https://google.com",
          "w3cid": "83788"
        }
      ],
      "formerEditors": [
        {
          "name": "Andrei Popescu",
          "company": "Google Inc.",
          "companyURL": "https://google.com/"
        }
      ],
      "group": [
        "das",
        "webapps"
      ],
      "previousPublishDate": "2024-08-15",
      "crEnd": "2022-03-18",
      "previousMaturity": "REC",
      "github": "w3c/geolocation",
      "caniuse": "geolocation",
      "testSuiteURI": "https://wpt.live/geolocation/",
      "implementationReportURI": "https://w3c.github.io/geolocation/reports/implementation.html",
      "xref": "web-platform",
      "errata": "https://w3c.github.io/geolocation/errata.html",
      "latestVersion": "https://www.w3.org/TR/geolocation/",
      "gitRevision": "841f1c63b2739bbc828fe8323c169daa2c864bd5",
      "publishDate": "2024-09-16",
      "publishISODate": "2024-09-16T00:00:00.000Z",
      "generatedSubtitle": "W3C Recommendation 16 September 2024"
    }</script>
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2021/W3C-REC">
    <link rel="stylesheet" media="(prefers-color-scheme: dark)" href="https://www.w3.org/StyleSheets/TR/2021/dark.css">
</head>

<body data-cite="WEBIDL secure-contexts permissions-policy permissions hr-time html HTML INFRA URL WEBIDL DOM FETCH"
    class="h-entry">
    <div class="head">
        <p class="logos"><a class="logo" href="https://www.w3.org/"><img crossorigin="" alt="W3C" height="48"
                    src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72">
            </a></p>
        <h1 id="title" class="title">地理定位</h1>
        <p id="w3c-state"><a href="https://www.w3.org/standards/types#REC">W3C 推荐标准</a> <time class="dt-published"
                datetime="2024-09-16">2024年9月16日</time></p>
        <details open="">
            <summary>关于本文档的更多详细信息</summary>
            <dl>
                <dt>此版本：</dt>
                <dd>
                    <a class="u-url"
                        href="https://www.w3.org/TR/2024/REC-geolocation-20240916/">https://www.w3.org/TR/2024/REC-geolocation-20240916/</a>
                </dd>
                <dt>最新发布版本：</dt>
                <dd>
                    <a href="https://www.w3.org/TR/geolocation/">https://www.w3.org/TR/geolocation/</a>
                </dd>
                <dt>最新编辑草案：</dt>
                <dd><a href="https://w3c.github.io/geolocation/">https://w3c.github.io/geolocation/</a></dd>
                <dt>历史：</dt>
                <dd>
                    <a
                        href="https://www.w3.org/standards/history/geolocation/">https://www.w3.org/standards/history/geolocation/</a>
                </dd>
                <dd>
                    <a href="https://github.com/w3c/geolocation/commits/">提交历史</a>
                </dd>
                <dt>测试套件：</dt>
                <dd><a href="https://wpt.live/geolocation/">https://wpt.live/geolocation/</a></dd>
                <dt>实现报告：</dt>
                <dd>
                    <a
                        href="https://w3c.github.io/geolocation/reports/implementation.html">https://w3c.github.io/geolocation/reports/implementation.html</a>
                </dd>

                <dt>编辑：</dt>
                <dd class="editor p-author h-card vcard" data-editor-id="39125">
                    <span class="p-name fn">Marcos Cáceres</span> (<a class="p-org org h-org"
                        href="https://apple.com">苹果公司</a>)
                </dd>
                <dd class="editor p-author h-card vcard" data-editor-id="83788">
                    <span class="p-name fn">Reilly Grant</span> (<a class="p-org org h-org"
                        href="https://google.com">谷歌</a>)
                </dd>
                <dt>
                    前编辑：
                </dt>
                <dd class="editor p-author h-card vcard">
                    <span class="p-name fn">Andrei Popescu</span> (<a class="p-org org h-org"
                        href="https://google.com/">谷歌公司</a>)
                </dd>

                <dt>反馈：</dt>
                <dd>
                    <a href="https://github.com/w3c/geolocation/">GitHub w3c/geolocation</a>
                    (<a href="https://github.com/w3c/geolocation/pulls/">拉取请求</a>，
                    <a href="https://github.com/w3c/geolocation/issues/new/choose">新问题</a>，
                    <a href="https://github.com/w3c/geolocation/issues/">打开的问题</a>)
                </dd>
                <dt>勘误：</dt>
                <dd><a href="https://w3c.github.io/geolocation/errata.html">存在勘误</a>。</dd>

                <dt class="caniuse-title">浏览器支持：</dt>
                <dd class="caniuse-stats"><a href="https://caniuse.com/geolocation">caniuse.com</a></dd>
            </dl>
        </details>
        <p>
            另见
            <a href="https://www.w3.org/Translations/?technology=geolocation">
                <strong>翻译</strong></a>。
        </p>

        <p class="copyright">
            <a href="https://www.w3.org/policies/#copyright">版权</a>
            ©
            2024

            <a href="https://www.w3.org/">万维网联盟</a>。
            <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup>
            <a href="https://www.w3.org/policies/#Legal_Disclaimer">免责声明</a>，
            <a href="https://www.w3.org/policies/#W3C_Trademarks">商标</a> 和
            <a rel="license" href="https://www.w3.org/copyright/software-license-2023/"
                title="W3C 软件与文档通知和许可">许可文档</a>规则适用。
        </p>
        <hr title="Header 分隔符">
    </div>
    <section id="abstract" class="introductory">
        <h2>摘要</h2>
        <p>
            地理定位提供与托管设备相关的地理位置信息的访问。
        </p>
    </section>
    <section id="sotd" class="updateable-rec introductory">
        <h2>本文档状态</h2>
        <p><em>本节描述了本文档发布时的状态。当前的 <abbr title="World Wide Web Consortium">W3C</abbr>
                发布的列表以及此技术报告的最新修订可以在 <a href="https://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr>
                    技术报告索引</a> 中找到，
                地址是 https://www.w3.org/TR/。</em></p>

        <p>
            自从该规范在2022年9月1日成为 <abbr title="World Wide Web Consortium">W3C</abbr> 推荐标准以来，以下实质性的补充和/或修正已被提议：
        </p><rs-changelog from="REC-2022" filter="updateableRecFilter">
            <ul>
                <li><a href="https://github.com/w3c/geolocation/commit/9d5829e">修正：当处于静止状态时使用 null 而不是 NaN</a> (<a
                        href="https://github.com/w3c/geolocation/pull/173">#173</a>)</li>
                <li><a href="https://github.com/w3c/geolocation/commit/22ed7a4">修正：更新采集算法，定义数据类型和处理方式</a></li>
                <li><a href="https://github.com/w3c/geolocation/commit/a30d713">增加：定义精度的单位</a> (<a
                        href="https://github.com/w3c/geolocation/pull/162">#162</a>)</li>
                <li><a href="https://github.com/w3c/geolocation/commit/c2fdd74">修正：检查非安全环境</a> (<a
                        href="https://github.com/w3c/geolocation/pull/157">#157</a>)</li>
                <li><a href="https://github.com/w3c/geolocation/commit/09b48e6">增加：暴露 GeolocationCoordinates 和
                        GeolocationPosition 的 .toJSON() 方法</a></li>
                <li><a href="https://github.com/w3c/geolocation/commit/74b1dd0">修正：澄清纬度的单位和参考大地坐标系统</a></li>
            </ul>
        </rs-changelog>
        <p>
            更详细的变更列表可以在 <a href="#changelog" data-matched-text="[[[#changelog]]]" class="sec-ref"><bdi class="secno">D.
                </bdi>
                变更日志</a> 部分找到。文档的审阅者可以通过其独特的样式识别候选的补充和/或修正。
        </p>
        <p>
            本文档由 <a href="https://www.w3.org/groups/wg/das">设备和传感器工作组</a> 和 <a
                href="https://www.w3.org/groups/wg/webapps">Web应用工作组</a> 发布为推荐标准，采用
            <a href="https://www.w3.org/policies/process/20231103/#recs-and-notes">推荐流程</a>。它包含了
            <a href="https://www.w3.org/policies/process/20231103/#candidate-amendments">
                候选修订</a>，
            引入了自上次推荐以来的实质性更改和新特性。
        </p>
        <p>
            <abbr title="World Wide Web Consortium">W3C</abbr> 推荐将此规范广泛部署为 Web 标准。
        </p>
        <p>
            <abbr title="World Wide Web Consortium">W3C</abbr> 推荐标准是一种规范，经过广泛的共识构建后，由
            <abbr title="World Wide Web Consortium">W3C</abbr> 及其成员支持，并且
            工作组成员承诺为实现提供
            <a href="https://www.w3.org/policies/patent-policy/#sec-Requirements">免版税许可</a>。
            未来对该推荐的更新可能会包含
            <a href="https://www.w3.org/policies/process/20231103/#allow-new-features">新特性</a>。
        </p>
        <p class="addition">
            候选补充内容在文档中标记。
        </p>
        <p class="correction">
            候选修正内容在文档中标记。
        </p>
        <p>
            本文档是由
            <a href="https://www.w3.org/policies/patent-policy/"><abbr title="World Wide Web Consortium">W3C</abbr> 专利
                政策</a>下运作的各小组制作的。

            <abbr title="World Wide Web Consortium">W3C</abbr> 维护有一个
            <a rel="disclosure" href="https://www.w3.org/groups/wg/das/ipr">关于任何专利披露的公开列表
                (设备和传感器工作组)</a>，以及一个
            <a rel="disclosure" href="https://www.w3.org/groups/wg/webapps/ipr">关于任何专利披露的公开列表
                (Web应用工作组)</a>
            ，这些披露与每个小组的交付物有关；这些页面还包含
            披露专利的说明。如果某个个人知道某个专利，并认为该专利包含
            <a href="https://www.w3.org/policies/patent-policy/#def-essential">必要的专利声明</a>
            ，则必须根据
            <a href="https://www.w3.org/policies/patent-policy/#sec-Disclosure">W3C 专利政策第6条</a>进行披露。
        </p>
        <p>
            本文档受
            <a id="w3c_process_revision" href="https://www.w3.org/policies/process/20231103/">2023年11月3日的 <abbr
                    title="World Wide Web Consortium">W3C</abbr> 过程文件</a>约束。
        </p>
    </section>
    <nav id="toc">
        <h2 class="introductory" id="table-of-contents">目录</h2>
        <ol class="toc">
            <li class="tocline"><a class="tocxref" href="#abstract">摘要</a></li>
            <li class="tocline"><a class="tocxref" href="#sotd">文档状态</a></li>
            <li class="tocline"><a class="tocxref" href="#introduction"><bdi class="secno">1. </bdi>介绍</a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#scope"><bdi class="secno">1.1 </bdi>范围</a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#examples"><bdi class="secno">2. </bdi>示例</a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#get-current-position"><bdi class="secno">2.1
                            </bdi>获取当前位置</a></li>
                    <li class="tocline"><a class="tocxref" href="#watch-a-position"><bdi class="secno">2.2
                            </bdi>监控位置</a></li>
                    <li class="tocline"><a class="tocxref" href="#stop-watching-a-position"><bdi class="secno">2.3
                            </bdi>停止监控位置</a></li>
                    <li class="tocline"><a class="tocxref" href="#handling-errors"><bdi class="secno">2.4 </bdi>处理错误</a>
                    </li>
                    <li class="tocline"><a class="tocxref" href="#using-maximumage-as-cache-control"><bdi
                                class="secno">2.5 </bdi>使用 <code>maximumAge</code> 作为缓存控制</a></li>
                    <li class="tocline"><a class="tocxref" href="#using-timeout"><bdi class="secno">2.6 </bdi>使用
                            <code>timeout</code></a></li>
                    <li class="tocline"><a class="tocxref" href="#enabling-the-api-in-third-party-contexts"><bdi
                                class="secno">2.7 </bdi>在第三方上下文中启用 API</a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#privacy"><bdi class="secno">3. </bdi>隐私考虑</a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#user-consent"><bdi class="secno">3.1 </bdi>用户同意</a>
                    </li>
                    <li class="tocline"><a class="tocxref" href="#privacy_for_recipients"><bdi class="secno">3.2
                            </bdi>接收方的隐私考虑</a></li>
                    <li class="tocline"><a class="tocxref" href="#implementation_considerations"><bdi class="secno">3.3
                            </bdi>实现考虑</a></li>
                    <li class="tocline"><a class="tocxref" href="#check-permission"><bdi class="secno">3.4 </bdi>检查使用
                            API 的权限</a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#security"><bdi class="secno">4. </bdi>安全考虑</a></li>
            <li class="tocline"><a class="tocxref" href="#navigator_interface"><bdi class="secno">5. </bdi>对
                    <code>Navigator</code> 接口的扩展</a></li>
            <li class="tocline"><a class="tocxref" href="#geolocation_interface"><bdi class="secno">6.
                    </bdi><code>Geolocation</code> 接口及回调</a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#internal-slots"><bdi class="secno">6.1 </bdi>内部槽</a>
                    </li>
                    <li class="tocline"><a class="tocxref" href="#getcurrentposition-method"><bdi class="secno">6.2
                            </bdi><code>getCurrentPosition()</code> 方法</a></li>
                    <li class="tocline"><a class="tocxref" href="#watchposition-method"><bdi class="secno">6.3
                            </bdi><code>watchPosition()</code> 方法</a></li>
                    <li class="tocline"><a class="tocxref" href="#clearwatch-method"><bdi class="secno">6.4
                            </bdi><code>clearWatch()</code> 方法</a></li>
                    <li class="tocline"><a class="tocxref" href="#request-a-position"><bdi class="secno">6.5
                            </bdi>请求位置</a></li>
                    <li class="tocline"><a class="tocxref" href="#acquire-a-position"><bdi class="secno">6.6
                            </bdi>获取位置</a></li>
                    <li class="tocline"><a class="tocxref" href="#call-back-with-error"><bdi class="secno">6.7
                            </bdi>错误回调</a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#position_options_interface"><bdi class="secno">7. </bdi><span
                        data-export="" data-dfn-type="dictionary" data-idl="dictionary" data-title="PositionOptions"
                        data-dfn-for=""><code>PositionOptions</code></span> 字典</a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#enablehighaccuracy-member"><bdi class="secno">7.1
                            </bdi><code>enableHighAccuracy</code> 成员</a></li>
                    <li class="tocline"><a class="tocxref" href="#timeout-member"><bdi class="secno">7.2
                            </bdi><code>timeout</code> 成员</a></li>
                    <li class="tocline"><a class="tocxref" href="#maximumage-member"><bdi class="secno">7.3
                            </bdi><code>maximumAge</code> 成员</a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#position_interface"><bdi class="secno">8.
                    </bdi><code>GeolocationPosition</code> 接口</a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#coords-attribute"><bdi class="secno">8.1
                            </bdi><code>coords</code> 属性</a></li>
                    <li class="tocline"><a class="tocxref" href="#timestamp-attribute"><bdi class="secno">8.2
                            </bdi><code>timestamp</code> 属性</a></li>
                    <li class="tocline"><a class="tocxref" href="#tojson-method"><bdi class="secno">8.3
                            </bdi><code>toJSON()</code> 方法</a></li>
                    <li class="tocline"><a class="tocxref" href="#internal-slots-0"><bdi class="secno">8.4 </bdi>内部槽</a>
                    </li>
                    <li class="tocline"><a class="tocxref" href="#task-sources"><bdi class="secno">8.5 </bdi>任务源</a>
                    </li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#coordinates_interface"><bdi class="secno">9. </bdi><span
                        data-export="" data-dfn-type="interface" data-idl="interface"
                        data-title="GeolocationCoordinates" data-dfn-for=""><code>GeolocationCoordinates</code></span>
                    接口</a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#latitude-longitude-and-accuracy-attributes"><bdi
                                class="secno">9.1 </bdi><code>latitude</code>、<code>longitude</code> 和
                            <code>accuracy</code> 属性</a></li>
                    <li class="tocline"><a class="tocxref" href="#altitude-and-altitudeaccuracy-attributes"><bdi
                                class="secno">9.2 </bdi><code>altitude</code> 和 <code>altitudeAccuracy</code> 属性</a>
                    </li>
                    <li class="tocline"><a class="tocxref" href="#heading-attribute"><bdi class="secno">9.3
                            </bdi><code>heading</code> 属性</a></li>
                    <li class="tocline"><a class="tocxref" href="#speed-attribute"><bdi class="secno">9.4
                            </bdi><code>speed</code> 属性</a></li>
                    <li class="tocline"><a class="tocxref" href="#tojson-method-0"><bdi class="secno">9.5
                            </bdi><code>toJSON()</code> 方法</a></li>
                    <li class="tocline"><a class="tocxref" href="#constructing-a-geolocationposition"><bdi
                                class="secno">9.6 </bdi>构建 <code>GeolocationPosition</code></a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#position_error_interface"><bdi class="secno">10. </bdi><span
                        data-export="" data-dfn-type="interface" data-idl="interface"
                        data-title="GeolocationPositionError"
                        data-dfn-for=""><code>GeolocationPositionError</code></span> 接口</a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#constants"><bdi class="secno">10.1 </bdi>常量</a></li>
                    <li class="tocline"><a class="tocxref" href="#code-attribute"><bdi class="secno">10.2
                            </bdi><code>code</code> 属性</a></li>
                    <li class="tocline"><a class="tocxref" href="#message-attribute"><bdi class="secno">10.3
                            </bdi><code>message</code> 属性</a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#permissions-policy"><bdi class="secno">11. </bdi>权限策略</a></li>
            <li class="tocline"><a class="tocxref" href="#conformance"><bdi class="secno">12. </bdi>符合性</a></li>
            <li class="tocline"><a class="tocxref" href="#idl-index"><bdi class="secno">A. </bdi>IDl 索引</a></li>
            <li class="tocline"><a class="tocxref" href="#index"><bdi class="secno">B. </bdi>索引</a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#index-defined-here"><bdi class="secno">B.1
                            </bdi>本规范定义的术语</a></li>
                    <li class="tocline"><a class="tocxref" href="#index-defined-elsewhere"><bdi class="secno">B.2
                            </bdi>通过引用定义的术语</a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#acknowledgments"><bdi class="secno">C. </bdi>致谢</a></li>
            <li class="tocline"><a class="tocxref" href="#changelog"><bdi class="secno">D. </bdi>变更日志</a></li>
            <li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">E. </bdi>参考文献</a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#normative-references"><bdi class="secno">E.1
                            </bdi>规范性参考文献</a></li>
                </ol>
            </li>
        </ol>
    </nav>
    <section id="introduction" class="informative">
        <div class="header-wrapper">
            <h2 id="x1-introduction"><bdi class="secno">1. </bdi>
                介绍
            </h2><a class="self-link" href="#introduction" aria-label="Permalink for Section 1."></a>
        </div>
        <p><em>本节为非规范性内容。</em></p>

        <p>
            <cite>地理定位</cite> 定义了一个与仅主机设备相关的位置
            信息的高级接口。常见的位置来源包括全球定位
            系统（GPS）和从网络信号推断的位置，例如 IP
            地址、RFID、WiFi 和蓝牙 MAC 地址，以及 GSM/CDMA
            蜂窝 ID，还有用户输入。该 API 本身与底层位置
            信息源无关，并不保证返回设备的实际位置。
        </p>
        <p>
            如果最终用户 <a data-link-type="dfn|abstract-op" data-lt="check permission" href="#dfn-checking-permission"
                class="internalDFN" id="ref-for-dfn-checking-permission-1">授予权限</a>，
            <cite>地理定位</cite>：
        </p>
        <ul>
            <li>提供作为纬度、经度、海拔、高度、速度和
                方向的数据，以及获取位置数据的准确度和
                位置获取的大致时间，通过
                <a data-link-type="idl" data-lt="GeolocationPosition" href="#dom-geolocationposition"
                    class="internalDFN" id="ref-for-dom-geolocationposition-1"><code>GeolocationPosition</code></a>
                接口。
            </li>
            <li>支持通过
                <a data-link-type="idl" data-lt="getCurrentPosition()" href="#dom-geolocation-getcurrentposition"
                    class="internalDFN"
                    id="ref-for-dom-geolocation-getcurrentposition-1"><code>getCurrentPosition</code></a><code>()</code>
                方法进行“单次”位置更新，并能够通过
                <a data-link-type="idl" data-lt="watchPosition()" href="#dom-geolocation-watchposition"
                    class="internalDFN"
                    id="ref-for-dom-geolocation-watchposition-1"><code>watchPosition</code></a><code>()</code>
                方法接收主机设备位置显著变化时的更新。
            </li>
            <li>使用 <a data-link-type="idl" data-lt="PositionOptions" href="#dom-positionoptions" class="internalDFN"
                    id="ref-for-dom-positionoptions-1"><code>PositionOptions</code></a> 的 <a data-link-type="idl"
                    href="#dom-positionoptions-maximumage" class="internalDFN"
                    id="ref-for-dom-positionoptions-maximumage-1"><code>maximumAge</code></a>，
                允许应用程序请求一个缓存位置，其年龄不大于指定的值（仅缓存最后一个位置）。
            </li>
            <li>提供一种方法，允许应用程序接收错误更新，
                作为 <a data-link-type="idl" data-lt="GeolocationPositionError" href="#dom-geolocationpositionerror"
                    class="internalDFN"
                    id="ref-for-dom-geolocationpositionerror-1"><code>GeolocationPositionError</code></a>，用于
                处理在 <a data-link-type="dfn|abstract-op" href="#dfn-acquire-a-position" class="internalDFN"
                    id="ref-for-dfn-acquire-a-position-1">获取位置</a> 时发生的错误。
            </li>
            <li>通过 <a data-link-type="idl" href="#dom-positionoptions-enablehighaccuracy" class="internalDFN"
                    id="ref-for-dom-positionoptions-enablehighaccuracy-1"><code>enableHighAccuracy</code></a>，
                支持请求“高精度”位置数据，但该请求可以被用户代理忽略。
            </li>
        </ul>
        <section id="scope" class="informative">
            <div class="header-wrapper">
                <h3 id="x1-1-scope"><bdi class="secno">1.1 </bdi>
                    范围
                </h3><a class="self-link" href="#scope" aria-label="Permalink for Section 1.1"></a>
            </div>
            <p><em>本节为非规范性内容。</em></p>

            <p>
                本规范仅提供一个脚本 API 用于检索与主机设备相关的地理位置
                信息。地理位置数据以世界大地坐标系 [<cite><a class="bibref" data-link-type="biblio" href="#bib-wgs84"
                        title="World Geodetic System 1984 (WGS 84)">WGS84</a></cite>] 表示。它不包括
                提供任何形式的标记语言，也不包括
                定义一个新的 URL 方案来构建识别地理位置的 URL。
            </p>
        </section>
    </section>
    <section class="informative" id="examples">
        <div class="header-wrapper">
            <h2 id="x2-examples"><bdi class="secno">2. </bdi>
                示例
            </h2><a class="self-link" href="#examples" aria-label="Permalink for Section 2."></a>
        </div>
        <p><em>本节非规范性。</em></p>

        <p>
            该API旨在支持“单次”位置请求和重复的位置更新。以下示例展示了常见的使用案例。
        </p>

        <section class="informative" id="get-current-position">
            <div class="header-wrapper">
                <h3 id="x2-1-get-current-position"><bdi class="secno">2.1 </bdi>
                    获取当前位置
                </h3><a class="self-link" href="#get-current-position" aria-label="Permalink for Section 2.1"></a>
            </div>
            <p><em>本节非规范性。</em></p>

            <p>
                请求用户的当前位置。如果用户允许，您将获得一个位置对象。
            </p>
            <aside class="example" id="example-a-one-shot-position-request">
                <div class="marker">
                    <a class="self-link" href="#example-a-one-shot-position-request">示例<bdi> 1</bdi></a><span
                        class="example-title">: 一次性位置请求</span>
                </div>
                <pre aria-busy="false"><code class="hljs js">navigator.geolocation.getCurrentPosition(<span class="hljs-function"><span class="hljs-params">position</span> =&gt;</span> {
              <span class="hljs-keyword">const</span> { latitude, longitude } = position.coords;
              <span class="hljs-comment">// 显示以纬度/经度为中心的地图。</span>
            });</code></pre>
            </aside>
        </section>

        <section class="informative" id="watch-a-position">
            <div class="header-wrapper">
                <h3 id="x2-2-watch-a-position"><bdi class="secno">2.2 </bdi>
                    监视位置
                </h3><a class="self-link" href="#watch-a-position" aria-label="Permalink for Section 2.2"></a>
            </div>
            <p><em>本节非规范性。</em></p>

            <p>
                请求能够监视用户的当前位置。如果用户允许，您将获得用户位置的持续更新。
            </p>
            <aside class="example" id="example-watching-a-position-for-repeated-updates">
                <div class="marker">
                    <a class="self-link" href="#example-watching-a-position-for-repeated-updates">示例<bdi>
                            2</bdi></a><span class="example-title">: 监视位置以获得重复更新</span>
                </div>
                <pre aria-busy="false"><code class="hljs js"><span class="hljs-keyword">const</span> watchId = navigator.geolocation.watchPosition(<span class="hljs-function"><span class="hljs-params">position</span> =&gt;</span> {
      <span class="hljs-keyword">const</span> { latitude, longitude } = position.coords;
      <span class="hljs-comment">// 显示以纬度/经度为中心的地图。</span>
    });</code></pre>
            </aside>
        </section>

        <section class="informative" id="stop-watching-a-position">
            <div class="header-wrapper">
                <h3 id="x2-3-stop-watching-a-position"><bdi class="secno">2.3 </bdi>
                    停止监视位置
                </h3><a class="self-link" href="#stop-watching-a-position" aria-label="Permalink for Section 2.3"></a>
            </div>
            <p><em>本节非规范性。</em></p>

            <p>
                通过调用 <a data-link-type="idl" data-lt="clearWatch()" href="#dom-geolocation-clearwatch"
                    class="internalDFN"
                    id="ref-for-dom-geolocation-clearwatch-1"><code>clearWatch</code></a><code>()</code> 方法来停止监视位置变化。
            </p>
            <aside class="example" id="example-using-clearwatch">
                <div class="marker">
                    <a class="self-link" href="#example-using-clearwatch">示例<bdi> 3</bdi></a><span
                        class="example-title">: 使用 clearWatch()</span>
                </div>
                <pre aria-busy="false"><code class="hljs js"><span class="hljs-keyword">const</span> watchId = navigator.geolocation.watchPosition(
      <span class="hljs-function"><span class="hljs-params">position</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(position);
    );
    
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">buttonClickHandler</span>(<span class="hljs-params"></span>) </span> {
      <span class="hljs-comment">// 当用户点击按钮时取消更新。</span>
      navigator.geolocation.clearWatch(watchId);
    }</code></pre>
                <p>
                    还有一个 HTML <code>button</code>，按下时停止监视位置。
                </p>
                <pre aria-busy="false"><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"buttonClickHandler()"</span>&gt;</span>
      停止监视位置
    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></code></pre>
            </aside>
        </section>
        <section class="informative" id="handling-errors">
            <div class="header-wrapper">
                <h3 id="x2-4-handling-errors"><bdi class="secno">2.4 </bdi>
                    处理错误
                </h3><a class="self-link" href="#handling-errors" aria-label="Permalink for Section 2.4"></a>
            </div>
            <p><em>本节非规范性。</em></p>

            <p>
                当发生错误时，<a data-link-type="idl" data-lt="watchPosition()" href="#dom-geolocation-watchposition"
                    class="internalDFN"
                    id="ref-for-dom-geolocation-watchposition-2"><code>watchPosition</code></a><code>()</code> 或 <a
                    data-link-type="idl" data-lt="getCurrentPosition()" href="#dom-geolocation-getcurrentposition"
                    class="internalDFN"
                    id="ref-for-dom-geolocation-getcurrentposition-2"><code>getCurrentPosition</code></a><code>()</code>
                方法的第二个参数会返回一个 <a data-link-type="idl" data-lt="GeolocationPositionError"
                    href="#dom-geolocationpositionerror" class="internalDFN"
                    id="ref-for-dom-geolocationpositionerror-2"><code>GeolocationPositionError</code></a>
                错误对象，您可以根据它来找出可能出错的原因。
            </p>
            <aside class="example" id="example-handling-errors">
                <div class="marker">
                    <a class="self-link" href="#example-handling-errors">示例<bdi> 4</bdi></a><span
                        class="example-title">: 处理错误</span>
                </div>
                <pre aria-busy="false"><code class="hljs js"><span class="hljs-comment">// 请求重复更新。</span>
    <span class="hljs-keyword">const</span> watchId = navigator.geolocation.watchPosition(
      scrollMap, handleError
    );
    
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">scrollMap</span>(<span class="hljs-params">position</span>) </span> {
      <span class="hljs-keyword">const</span> { latitude, longitude } = position.coords;
      <span class="hljs-comment">// 将地图滚动到纬度/经度。</span>
    }
    
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handleError</span>(<span class="hljs-params">error</span>) </span> {
      <span class="hljs-comment">// 根据错误代码显示错误信息。</span>
      <span class="hljs-keyword">const</span> { code } = error;
      <span class="hljs-keyword">switch</span> (code) {
        <span class="hljs-keyword">case</span> GeolocationPositionError.TIMEOUT:
          <span class="hljs-comment">// 处理超时错误。</span>
          <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> GeolocationPositionError.PERMISSION_DENIED:
          <span class="hljs-comment">// 用户拒绝请求。</span>
          <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> GeolocationPositionError.POSITION_UNAVAILABLE:
          <span class="hljs-comment">// 位置不可用。</span>
          <span class="hljs-keyword">break</span>;
      }
    }</code></pre>
            </aside>
        </section>

        <section class="informative" id="using-maximumage-as-cache-control">
            <div class="header-wrapper">
                <h3 id="x2-5-using-maximumage-as-cache-control"><bdi class="secno">2.5 </bdi>
                    使用 <code>maximumAge</code> 作为缓存控制
                </h3><a class="self-link" href="#using-maximumage-as-cache-control"
                    aria-label="Permalink for Section 2.5"></a>
            </div>
            <p><em>本节非规范性。</em></p>

            <p>
                默认情况下，API 总是尝试返回缓存的位置信息，只要它之前获取过位置。在这个示例中，我们接受一个位置，其年龄不超过 10 分钟。如果用户代理没有足够新的缓存位置对象，它将自动获取一个新的位置。
            </p>
            <aside class="example" id="example-getting-cached-position">
                <div class="marker">
                    <a class="self-link" href="#example-getting-cached-position">示例<bdi> 5</bdi></a><span
                        class="example-title">: 获取缓存位置</span>
                </div>
                <pre aria-busy="false"><code class="hljs js">navigator.geolocation.getCurrentPosition(
      successCallback,
      <span class="hljs-built_in">console</span>.error,
      { <span class="hljs-attr">maximumAge</span>: <span class="hljs-number">600_000</span> }
    );
    
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">successCallback</span>(<span class="hljs-params">position</span>) </span> {
      <span class="hljs-comment">// 通过使用上面的 'maximumAge' 成员，位置</span>
      <span class="hljs-comment">// 对象保证最多不超过 10 分钟。</span>
    }</code></pre>
            </aside>
        </section>
        <section class="informative" id="using-timeout">
            <div class="header-wrapper">
                <h3 id="x2-6-using-timeout"><bdi class="secno">2.6 </bdi>
                    使用 <code>timeout</code>
                </h3><a class="self-link" href="#using-timeout" aria-label="Permalink for Section 2.6"></a>
            </div>
            <p><em>本节非规范性。</em></p>

            <p>
                如果您需要在时间敏感的情况下获取位置信息，可以使用 <a data-link-type="idl" data-lt="PositionOptions" href="#dom-positionoptions"
                    class="internalDFN" id="ref-for-dom-positionoptions-2"><code>PositionOptions</code></a> 的 <a
                    data-link-type="idl" href="#dom-positionoptions-timeout" class="internalDFN"
                    id="ref-for-dom-positionoptions-timeout-1"><code>timeout</code></a> 成员来限制您愿意等待获取位置的时间。
            </p>
            <aside class="example" id="example-timing-out-a-position-request">
                <div class="marker">
                    <a class="self-link" href="#example-timing-out-a-position-request">示例<bdi> 6</bdi></a><span
                        class="example-title">: 超时位置请求</span>
                </div>
                <pre
                    aria-busy="false"><code class="hljs js"><span class="hljs-comment">// 请求一个位置。我们只愿意等待 10</span>
    <span class="hljs-comment">// 秒钟。</span>
    navigator.geolocation.getCurrentPosition(
      successCallback,
      errorCallback,
      { <span class="hljs-attr">timeout</span>: <span class="hljs-number">10_000</span> }
    );
    
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">successCallback</span>(<span class="hljs-params">position</span>) </span> {
      <span class="hljs-comment">// 请求在 10 秒内完成...</span>
    }
    
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">errorCallback</span>(<span class="hljs-params">error</span>) </span> {
      <span class="hljs-keyword">switch</span> (error.code) {
        <span class="hljs-keyword">case</span> GeolocationPositionError.TIMEOUT:
          <span class="hljs-comment">// 我们没有及时获取位置。</span>
          doFallback();
          <span class="hljs-comment">// 获取一个新的位置对象，</span>
          <span class="hljs-comment">// 不论需要多长时间。</span>
          navigator.geolocation.getCurrentPosition(
            successCallback, errorCallback
          );
          <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">"..."</span>: <span class="hljs-comment">// 处理其他错误情况。</span>
      }
    }
    
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">doFallback</span>(<span class="hljs-params"></span>) </span>{}</code></pre>
            </aside>
        </section>

        <section class="informative" id="enabling-the-api-in-third-party-contexts">
            <div class="header-wrapper">
                <h3 id="x2-7-enabling-the-api-in-third-party-contexts"><bdi class="secno">2.7 </bdi>
                    在第三方上下文中启用 API
                </h3><a class="self-link" href="#enabling-the-api-in-third-party-contexts"
                    aria-label="Permalink for Section 2.7"></a>
            </div>
            <p><em>本节非规范性。</em></p>

            <p>
                <a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature-default-allowlist"
                    id="ref-for-index-term-default-allowlist-for-policy-controlled-feature-1">默认允许列表</a>中的
                <code>'self'</code>
                允许 API 在同源嵌套框架中使用，但禁止第三方内容使用该 API。
            </p>
            <p>
                可以通过向
                <code><a data-link-type="element-attr" data-type="element-attr" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-allow" id="ref-for-index-term-allow-attribute-for-iframe-element-1">allow</a></code><code>="geolocation"</code>
                属性添加到
                <code><a data-link-type="element" data-type="element" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element" id="ref-for-index-term-iframe-element-1">iframe</a></code>
                元素来选择性启用第三方使用：
            </p>
            <aside class="example" id="example-enabling-geolocation-in-an-iframe">
                <div class="marker">
                    <a class="self-link" href="#example-enabling-geolocation-in-an-iframe">示例<bdi> 7</bdi></a><span
                        class="example-title">: 在 iframe 中启用地理位置</span>
                </div>
                <pre aria-busy="false"><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">iframe</span>
              <span class="hljs-attr">src</span>=<span class="hljs-string">"https://third-party.com"</span>
              <span class="hljs-attr">allow</span>=<span class="hljs-string">"geolocation"</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">iframe</span>&gt;</span></code></pre>
            </aside>
            <p>
                另外，可以通过指定 HTTP 响应头来在第一方上下文中禁用 API：
            </p>
            <aside class="example" id="example-permissions-policy-over-http">
                <div class="marker">
                    <a class="self-link" href="#example-permissions-policy-over-http">示例<bdi> 8</bdi></a><span
                        class="example-title">: 通过 HTTP 设置权限策略</span>
                </div>
                <pre class="http" aria-busy="false"><code class="hljs">Permissions-Policy: geolocation=()</code></pre>
            </aside>
            <p>
                请参见 <cite><a data-matched-text="[[[permissions-policy]]]"
                        href="https://www.w3.org/TR/permissions-policy-1/">权限策略</a></cite> 了解更多有关
                <code>Permissions-Policy</code> HTTP 头的详细信息。
            </p>
        </section>
    </section>
    <section id="privacy" class="informative">
        <div class="header-wrapper">
            <h2 id="x3-privacy-considerations"><bdi class="secno">3. </bdi>
                隐私考虑
            </h2><a class="self-link" href="#privacy" aria-label="Permalink for Section 3."></a>
        </div>
        <p><em>本节非规范性。</em></p>

        <p>
            本规范中定义的 API 用于检索托管设备的地理位置。在几乎所有情况下，这些信息也揭示了设备用户的位置，从而可能侵犯用户的隐私。
        </p>
        <section class="informative" id="user-consent">
            <div class="header-wrapper">
                <h3 id="x3-1-user-consent"><bdi class="secno">3.1 </bdi>
                    用户同意
                </h3><a class="self-link" href="#user-consent" aria-label="Permalink for Section 3.1"></a>
            </div>
            <p><em>本节非规范性。</em></p>

            <p>
                <cite>地理位置</cite> 是一项 <a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://www.w3.org/TR/permissions/#dfn-powerful-feature"
                    id="ref-for-index-term-powerful-feature-1">强大功能</a>，在共享任何位置数据之前，必须获得终端用户的
                <a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://www.w3.org/TR/permissions/#dfn-express-permission"
                    id="ref-for-index-term-express-permission-1">明确许可</a>。这个要求通过 <a data-link-type="dfn|abstract-op"
                    href="#dfn-checking-permission" class="internalDFN" id="ref-for-dfn-checking-permission-2">检查权限</a>
                步骤强制执行，<code>getCurrentPosition</code><code>()</code>
                和 <code>watchPosition</code><code>()</code> 方法都依赖于这些步骤。
            </p>
            <p>
                终端用户通常通过用户界面给予 <a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://www.w3.org/TR/permissions/#dfn-express-permission"
                    id="ref-for-index-term-express-permission-2">明确许可</a>，该界面通常提供一系列的权限 <a
                    data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://www.w3.org/TR/permissions/#dfn-lifetime"
                    id="ref-for-index-term-lifetimes-for-permission-1">生命周期</a>，供终端用户选择。
                <br>
                权限的 <a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://www.w3.org/TR/permissions/#dfn-lifetime"
                    id="ref-for-index-term-lifetimes-for-permission-2">生命周期</a>
                在不同的用户代理之间有所不同，但通常是基于时间的（例如，“一天”），或者直到浏览器关闭，用户甚至可能被赋予永久授权的选择。权限的 <a data-link-type="dfn|abstract-op"
                    data-type="dfn" href="https://www.w3.org/TR/permissions/#dfn-lifetime"
                    id="ref-for-index-term-lifetimes-for-permission-3">生命周期</a> 决定了用户代理在多长时间内 <a
                    data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://www.w3.org/TR/permissions/#dfn-granted"
                    id="ref-for-index-term-grants-for-permission-1">授予</a> 权限，在该时间段后，权限将自动恢复为默认的 <a
                    data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://www.w3.org/TR/permissions/#dfn-permission-state"
                    id="ref-for-index-term-permission-state-1">权限状态</a>，并在后续使用时提示终端用户重新做出选择。
            </p>
            <p>
                尽管不同用户代理的权限 <a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://www.w3.org/TR/permissions/#dfn-lifetime"
                    id="ref-for-index-term-lifetimes-for-permission-4">生命周期</a>
                细节有所不同，但本规范建议默认情况下，用户代理应将生命周期限制为一个浏览会话（参见
                <a href="#check-permission" data-matched-text="[[[#check-permission]]]" class="sec-ref"><bdi
                        class="secno">3.4 </bdi>
                    检查使用 API 的权限</a>，以获得规范性要求）。
            </p>
        </section>
        <section id="privacy_for_recipients" class="informative">
            <div class="header-wrapper">
                <h3 id="x3-2-privacy-considerations-for-recipients-of-location-information"><bdi class="secno">3.2
                    </bdi>
                    接收位置数据的隐私考虑
                </h3><a class="self-link" href="#privacy_for_recipients" aria-label="Permalink for Section 3.2"></a>
            </div>
            <p><em>本节非规范性。</em></p>

            <div class="note" role="note" id="issue-container-generatedID">
                <div role="heading" class="note-title marker" id="h-note" aria-level="4"><span>注意</span><span
                        class="issue-label">：开发者对这些敏感数据的责任</span></div>
                <p class="">
                    本节适用于“接收者”，通常指使用 <cite>地理位置</cite>
                    的开发者。尽管用户代理或本规范无法强制执行这些要求，但开发者需要仔细阅读本节并尽力遵守以下建议。开发者还需要意识到，他们所在司法辖区可能有关于用户位置数据使用和访问的隐私法。
                </p>
            </div>
            <p>
                接收者应该仅在必要时请求位置信息，并且仅将该信息用于为其提供信息的任务。接收者应在任务完成后销毁位置信息，除非用户明确允许保留该信息。接收者还需要采取措施保护这些信息免受未经授权的访问。如果位置信息被存储，用户应当有权更新和删除该信息。
            </p>
            <p>
                位置数据的接收者应避免在未经用户明确同意的情况下转发位置数据。转发时应谨慎，并建议使用加密。
            </p>
            <p>
                接收者应明确且显著地披露他们正在收集位置信息、收集的目的、数据的保留时间、数据的安全性、数据是否被共享以及如何共享、用户如何访问、更新和删除数据，以及用户关于数据的任何其他选择。这些披露需要包括对上述指南的任何例外的解释。
            </p>
        </section>
        <section id="implementation_considerations" class="informative">
            <div class="header-wrapper">
                <h3 id="x3-3-implementation-considerations"><bdi class="secno">3.3 </bdi>
                    实施考虑
                </h3><a class="self-link" href="#implementation_considerations"
                    aria-label="Permalink for Section 3.3"></a>
            </div>
            <p><em>本节非规范性。</em></p>

            <p>
                实施者应考虑以下可能会对用户隐私产生负面影响的方面：在某些情况下，用户可能会无意中授权用户代理向网站公开他们的位置。在其他情况下，托管在某个 URL
                上的内容可能会发生变化，导致先前授予的位置权限不再适用，或者用户可能改变主意。
            </p>
            <p>
                预测或防止这些情况本质上是困难的。缓解和深入的防御措施是实施者的责任，而本规范并未对其做出规定。然而，在设计这些措施时，实施者应当使用户意识到位置共享，并提供可以撤销权限的用户界面。
            </p>
        </section>
        <aside class="mdn">
            <details>
                <summary aria-label="Expand MDN details for geolocation"><span>MDN</span><span
                        title="This feature has limited support.">🚫</span></summary>
                <a title="The HTTP Permissions-Policy header geolocation directive controls whether the current document is allowed to use the Geolocation Interface."
                    href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Feature-Policy/geolocation">Headers/Feature-Policy/geolocation</a>
                <p class="engines-some">此功能的支持有限。</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>60+</td>
                    </tr>
                    <tr class="chrome_android unknown">
                        <td>Chrome Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge unknown">
                        <td>Edge</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>74+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android unknown">
                        <td>Opera Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="safari no">
                        <td>Safari</td>
                        <td>不支持</td>
                    </tr>
                    <tr class="safari_ios unknown">
                        <td>Safari iOS</td>
                        <td>?</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android unknown">
                        <td>WebView Android</td>
                        <td>?</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section id="check-permission">
            <div class="header-wrapper">
                <h3 id="x3-4-checking-permission-to-use-the-api"><bdi class="secno">3.4 </bdi>
                    检查使用 API 的权限
                </h3><a class="self-link" href="#check-permission" aria-label="Permalink for Section 3.4"></a>
            </div>

            <p>
                <cite>地理位置</cite>是一个 <a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://www.w3.org/TR/permissions/#dfn-default-powerful-feature"
                    id="ref-for-index-term-default-powerful-feature-1">默认的强大特性</a>，由 <a data-link-type="dfn|abstract-op"
                    data-type="dfn" href="https://www.w3.org/TR/permissions/#dfn-name"
                    id="ref-for-index-term-name-for-powerful-feature-1">名称</a>
                <code><dfn class="permission" data-dfn-type="permission" id="dfn-geolocation" tabindex="0" aria-haspopup="dialog" data-export="">"geolocation"</dfn></code>
                标识。
            </p>
            <p>
                当 <dfn data-local-lt="check permission" data-lt="checking permission|check permission"
                    id="dfn-checking-permission" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">检查权限</dfn>
                使用该 API 时，用户代理 <em class="rfc2119">可以</em> 建议基于时间的 <a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://www.w3.org/TR/permissions/#dfn-permission" id="ref-for-index-term-permission-1">权限</a>
                <a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://www.w3.org/TR/permissions/#dfn-lifetime"
                    id="ref-for-index-term-lifetimes-for-permission-5">有效期</a>，例如 "24小时"、"1周"，或者选择
                永久记住该权限 <a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://www.w3.org/TR/permissions/#dfn-granted"
                    id="ref-for-index-term-grants-for-permission-2">授予</a> 权限。然而，<em class="rfc2119">推荐</em> 用户代理优先限制
                <a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://www.w3.org/TR/permissions/#dfn-permission" id="ref-for-index-term-permission-2">权限</a>
                <a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://www.w3.org/TR/permissions/#dfn-lifetime"
                    id="ref-for-index-term-lifetimes-for-permission-6">有效期</a> 限制为单个会话：例如，可以一直有效，直到 <a
                    data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object's-realm"
                    id="ref-for-index-term-realm-for-environment-settings-object-1">环境设置对象</a> 被销毁，最终用户 <a
                    data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate"
                    id="ref-for-index-term-navigates-1">离开</a> 当前 <a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin"
                    id="ref-for-index-term-origin-1">源</a>，或相关的浏览器标签页被关闭。
            </p>
        </section>
    </section>
    <section id="security">
        <div class="header-wrapper">
            <h2 id="x4-security-considerations"><bdi class="secno">4. </bdi>
                安全性考虑
            </h2><a class="self-link" href="#security" aria-label="Permalink for Section 4."></a>
        </div>

        <p>
            在发布时，地理位置功能没有与之相关的安全性考虑。然而，建议读者阅读
            <a href="#privacy" data-matched-text="[[[#privacy]]]" class="sec-ref"><bdi class="secno">3. </bdi>
                隐私性考虑</a>。
        </p>
    </section>
    <aside class="mdn">
        <details>
            <summary aria-label="展开 MDN 详细信息关于地理位置"><span>MDN</span><span title="该功能在所有主流引擎中都有支持。">✅</span></summary>
            <a title="Navigator.geolocation 只读属性返回一个 Geolocation 对象，该对象使 Web 内容能够访问设备的位置。这允许网站或应用程序根据用户的位置提供定制的结果。"
                href="https://developer.mozilla.org/en-US/docs/Web/API/Navigator/geolocation">Navigator/geolocation</a>
            <p class="engines-all">该功能在所有主流引擎中都有支持。</p>
            <table>
                <tr class="chrome yes">
                    <td>Chrome</td>
                    <td>5+</td>
                </tr>
                <tr class="chrome_android unknown">
                    <td>Chrome Android</td>
                    <td>?</td>
                </tr>
                <tr class="edge yes">
                    <td>Edge</td>
                    <td>12+</td>
                </tr>
                <tr class="edge_mobile unknown">
                    <td>Edge Mobile</td>
                    <td>?</td>
                </tr>
                <tr class="firefox yes">
                    <td>Firefox</td>
                    <td>3.5+</td>
                </tr>
                <tr class="firefox_android unknown">
                    <td>Firefox Android</td>
                    <td>?</td>
                </tr>
                <tr class="opera yes">
                    <td>Opera</td>
                    <td>10.6+</td>
                </tr>
                <tr class="opera_android yes">
                    <td>Opera Android</td>
                    <td>11+</td>
                </tr>
                <tr class="safari yes">
                    <td>Safari</td>
                    <td>5+</td>
                </tr>
                <tr class="safari_ios yes">
                    <td>Safari iOS</td>
                    <td>3+</td>
                </tr>
                <tr class="samsunginternet_android unknown">
                    <td>Samsung Internet</td>
                    <td>?</td>
                </tr>
                <tr class="webview_android yes">
                    <td>WebView Android</td>
                    <td>37+</td>
                </tr>
            </table>
        </details>
    </aside>
    <section id="navigator_interface" data-dfn-for="Navigator">
        <div class="header-wrapper">
            <h2 id="x5-extensions-to-the-navigator-interface"><bdi class="secno">5. </bdi>
                <code>Navigator</code> 接口的扩展
            </h2><a class="self-link" href="#navigator_interface" aria-label="Permalink for Section 5."></a>
        </div>

        <pre class="idl def" id="webidl-1776506972"><span class="idlHeader"><a class="self-link" href="#webidl-1776506972">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-navigator-partial-1" data-title="Navigator">partial interface <a data-idl="partial" data-link-type="interface" data-title="Navigator" class="idlID" data-dfn-for="Navigator" data-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator" id="ref-for-index-term-navigator-interface-1">Navigator</a> {<span data-idl="" class="idlAttribute" id="idl-def-navigator-geolocation" data-title="geolocation" data-dfn-for="Navigator">
          [<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-index-term-sameobject-extended-attribute-1">SameObject</a></span>] readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-geolocation" class="internalDFN" id="ref-for-dom-geolocation-1"><code>Geolocation</code></a></span> <dfn data-export="" data-dfn-type="attribute" id="dom-navigator-geolocation" data-idl="attribute" data-title="geolocation" data-dfn-for="Navigator" data-type="Geolocation" data-lt="geolocation" data-local-lt="Navigator.geolocation" class="idlName" tabindex="0" aria-haspopup="dialog"><code>geolocation</code></dfn>;</span>
        };</span></code></pre>
    </section>
    <aside class="mdn">
        <details>
            <summary aria-label="展开 MDN 详细信息关于地理位置"><span>MDN</span><span title="该功能在所有主流引擎中都有支持。">✅</span></summary>
            <a title="Geolocation 接口表示一个能够程序化获取设备位置的对象。它允许 Web 内容访问设备的位置。这允许网站或应用程序根据用户的位置提供定制的结果。"
                href="https://developer.mozilla.org/en-US/docs/Web/API/Geolocation">Geolocation</a>
            <p class="engines-all">该功能在所有主流引擎中都有支持。</p>
            <table>
                <tr class="chrome yes">
                    <td>Chrome</td>
                    <td>5+</td>
                </tr>
                <tr class="chrome_android unknown">
                    <td>Chrome Android</td>
                    <td>?</td>
                </tr>
                <tr class="edge yes">
                    <td>Edge</td>
                    <td>12+</td>
                </tr>
                <tr class="edge_mobile unknown">
                    <td>Edge Mobile</td>
                    <td>?</td>
                </tr>
                <tr class="firefox yes">
                    <td>Firefox</td>
                    <td>3.5+</td>
                </tr>
                <tr class="firefox_android yes">
                    <td>Firefox Android</td>
                    <td>4+</td>
                </tr>
                <tr class="opera yes">
                    <td>Opera</td>
                    <td>10.6+</td>
                </tr>
                <tr class="opera_android yes">
                    <td>Opera Android</td>
                    <td>11+</td>
                </tr>
                <tr class="safari yes">
                    <td>Safari</td>
                    <td>5+</td>
                </tr>
                <tr class="safari_ios yes">
                    <td>Safari iOS</td>
                    <td>3+</td>
                </tr>
                <tr class="samsunginternet_android unknown">
                    <td>Samsung Internet</td>
                    <td>?</td>
                </tr>
                <tr class="webview_android yes">
                    <td>WebView Android</td>
                    <td>37+</td>
                </tr>
            </table>
        </details>
    </aside>

    <section id="geolocation_interface" data-dfn-for="Geolocation">
        <div class="header-wrapper">
            <h2 id="x6-geolocation-interface-and-callbacks"><bdi class="secno">6. </bdi>
                <code>Geolocation</code> 接口和回调
            </h2><a class="self-link" href="#geolocation_interface" aria-label="Permalink for Section 6."></a>
        </div>

        <pre class="idl def" id="webidl-212590439"><span class="idlHeader"><a class="self-link" href="#webidl-212590439">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-geolocation" data-title="Geolocation">[<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-index-term-exposed-extended-attribute-1">Exposed</a>=Window</span>]
    interface <dfn data-export="" data-dfn-type="interface" id="dom-geolocation" data-idl="interface" data-title="Geolocation" data-dfn-for="" class="idlID" tabindex="0" aria-haspopup="dialog"><code>Geolocation</code></dfn> {<span data-idl="" class="idlMethod" id="idl-def-geolocation-getcurrentposition-successcallback-errorcallback-options" data-title="getCurrentPosition" data-dfn-for="Geolocation"><span class="idlType">
      <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-index-term-undefined-type-1">undefined</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-geolocation-getcurrentposition" id="ref-for-dom-geolocation-getcurrentposition-4"><code>getCurrentPosition</code></a> (<span class="idlType">
        <a data-link-type="idl" href="#dom-positioncallback" class="internalDFN" id="ref-for-dom-positioncallback-1"><code>PositionCallback</code></a></span> <span class="idlParamName">successCallback</span>,
        optional<span class="idlType"> <a data-link-type="idl" href="#dom-positionerrorcallback" class="internalDFN" id="ref-for-dom-positionerrorcallback-1"><code>PositionErrorCallback</code></a>?</span> <span class="idlParamName">errorCallback</span> = null,
        optional<span class="idlType"> <a data-link-type="idl" href="#dom-positionoptions" class="internalDFN" id="ref-for-dom-positionoptions-3"><code>PositionOptions</code></a></span> <span class="idlParamName">options</span> = {}
      );</span><span data-idl="" class="idlMethod" id="idl-def-geolocation-watchposition-successcallback-errorcallback-options" data-title="watchPosition" data-dfn-for="Geolocation"><span class="idlType">
    
      <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-long" id="ref-for-index-term-long-type-1">long</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-geolocation-watchposition" id="ref-for-dom-geolocation-watchposition-4"><code>watchPosition</code></a> (<span class="idlType">
        <a data-link-type="idl" href="#dom-positioncallback" class="internalDFN" id="ref-for-dom-positioncallback-2"><code>PositionCallback</code></a></span> <span class="idlParamName">successCallback</span>,
        optional<span class="idlType"> <a data-link-type="idl" href="#dom-positionerrorcallback" class="internalDFN" id="ref-for-dom-positionerrorcallback-2"><code>PositionErrorCallback</code></a>?</span> <span class="idlParamName">errorCallback</span> = null,
        optional<span class="idlType"> <a data-link-type="idl" href="#dom-positionoptions" class="internalDFN" id="ref-for-dom-positionoptions-4"><code>PositionOptions</code></a></span> <span class="idlParamName">options</span> = {}
      );</span><span data-idl="" class="idlMethod" id="idl-def-geolocation-clearwatch-watchid" data-title="clearWatch" data-dfn-for="Geolocation"><span class="idlType">
    
      <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-index-term-undefined-type-2">undefined</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-geolocation-clearwatch" id="ref-for-dom-geolocation-clearwatch-2"><code>clearWatch</code></a> (<span class="idlType"><a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-long" id="ref-for-index-term-long-type-2">long</a></span> <span class="idlParamName">watchId</span>);</span>
    };</span><span data-idl="" class="idlCallback" id="idl-def-positioncallback" data-title="PositionCallback">
    
    callback <dfn data-export="" data-dfn-type="callback" id="dom-positioncallback" data-idl="callback" data-title="PositionCallback" data-dfn-for="" class="idlID" tabindex="0" aria-haspopup="dialog"><code>PositionCallback</code></dfn> =<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-index-term-undefined-type-3">undefined</a></span> (<span class="idlType">
      <a data-link-type="idl" href="#dom-geolocationposition" class="internalDFN" id="ref-for-dom-geolocationposition-2"><code>GeolocationPosition</code></a></span> <span class="idlParamName">position</span>
    );</span><span data-idl="" class="idlCallback" id="idl-def-positionerrorcallback" data-title="PositionErrorCallback">
    
    callback <dfn data-export="" data-dfn-type="callback" id="dom-positionerrorcallback" data-idl="callback" data-title="PositionErrorCallback" data-dfn-for="" class="idlID" tabindex="0" aria-haspopup="dialog"><code>PositionErrorCallback</code></dfn> =<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-index-term-undefined-type-4">undefined</a></span> (<span class="idlType">
      <a data-link-type="idl" href="#dom-geolocationpositionerror" class="internalDFN" id="ref-for-dom-geolocationpositionerror-3"><code>GeolocationPositionError</code></a></span> <span class="idlParamName">positionError</span>
    );</span></code></pre>
        <section id="internal-slots">
            <div class="header-wrapper">
                <h3 id="x6-1-internal-slots"><bdi class="secno">6.1 </bdi>
                    内部插槽
                </h3><a class="self-link" href="#internal-slots" aria-label="Permalink for Section 6.1"></a>
            </div>

            <p>
                <a data-link-type="idl" data-lt="Geolocation" href="#dom-geolocation" class="internalDFN"
                    id="ref-for-dom-geolocation-2"><code>Geolocation</code></a> 的实例是使用以下表格中的内部插槽创建的：
            </p>
            <table class="data">
                <tbody>
                    <tr>
                        <th>
                            内部插槽
                        </th>
                        <th>
                            描述
                        </th>
                    </tr>
                    <tr>
                        <td>
                            <dfn data-dfn-for="Geolocation" data-idl="" data-noexport="" data-dfn-type="attribute"
                                id="dfn-cachedposition" tabindex="0" aria-haspopup="dialog">[[cachedPosition]]</dfn>
                        </td>
                        <td>
                            一个 <a data-link-type="idl" data-lt="GeolocationPosition" href="#dom-geolocationposition"
                                class="internalDFN"
                                id="ref-for-dom-geolocationposition-3"><code>GeolocationPosition</code></a>，初始化为 null。
                            它是对最后获得位置的引用，并充当缓存。用户代理 <em class="rfc2119">MAY</em> 随时将
                            <a data-link-type="attribute" data-lt="[[cachedPosition]]" href="#dfn-cachedposition"
                                class="internalDFN"
                                id="ref-for-dfn-cachedposition-1"><code>[[cachedPosition]]</code></a> 清除，方法是将其重置为 null，
                            无论出于何种原因。
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <dfn data-dfn-for="Geolocation" data-idl="" data-noexport="" data-dfn-type="attribute"
                                id="dfn-watchids" tabindex="0" aria-haspopup="dialog">[[watchIDs]]</dfn>
                        </td>
                        <td>
                            初始化为空的 <a data-link-type="dfn|abstract-op" data-type="dfn"
                                href="https://infra.spec.whatwg.org/#list" id="ref-for-index-term-list-1">列表</a>，
                            包含 <a data-link-type="idl" data-lt="unsigned long" data-type="interface"
                                href="https://webidl.spec.whatwg.org/#idl-unsigned-long"
                                id="ref-for-index-term-unsigned-long-type-1"><code>unsigned long</code></a>
                            <a data-link-type="dfn|abstract-op" data-lt="item" data-type="dfn"
                                href="https://infra.spec.whatwg.org/#list-item"
                                id="ref-for-index-term-item-for-list-1">项目</a>。
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>
        <aside class="mdn">
            <details>
                <summary aria-label="Expand MDN details for getCurrentPosition"><span>MDN</span><span
                        title="This feature is in all major engines.">✅</span></summary>
                <a title="The Geolocation.getCurrentPosition() method is used to get the current position of the device."
                    href="https://developer.mozilla.org/en-US/docs/Web/API/Geolocation/getCurrentPosition">Geolocation/getCurrentPosition</a>
                <p class="engines-all">此功能在所有主要浏览器引擎中均受支持。</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>5+</td>
                    </tr>
                    <tr class="chrome_android unknown">
                        <td>Chrome Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge yes">
                        <td>Edge</td>
                        <td>12+</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>3.5+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera yes">
                        <td>Opera</td>
                        <td>10.6+</td>
                    </tr>
                    <tr class="opera_android yes">
                        <td>Opera Android</td>
                        <td>11+</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>5+</td>
                    </tr>
                    <tr class="safari_ios yes">
                        <td>Safari iOS</td>
                        <td>3+</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android yes">
                        <td>WebView Android</td>
                        <td>37+</td>
                    </tr>
                </table>
            </details>
        </aside>

        <section id="getcurrentposition-method">
            <div class="header-wrapper">
                <h3 id="x6-2-getcurrentposition-method"><bdi class="secno">6.2 </bdi>
                    <code>getCurrentPosition()</code> 方法
                </h3><a class="self-link" href="#getcurrentposition-method" aria-label="Permalink for Section 6.2"></a>
            </div>

            <p data-tests="getCurrentPosition_IDL.https.html, getCurrentPosition_TypeError.html">
                <code>getCurrentPosition</code>（<var data-type="PositionCallback">successCallback</var>，
                <var data-type="PositionErrorCallback?">errorCallback</var>， <var
                    data-type="PositionOptions">options</var>）方法步骤如下：
            </p>
            <ol class="algorithm">
                <li>
                    <aside class="correction" id="c1">
                        <span class="marker">候选修正：</span> 更新对全局对象的引用，使用 <a data-link-type="dfn|abstract-op"
                            data-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-index-term-this-1">this</a>，
                        以便在地理位置获取的错误处理时保持一致。
                    </aside><del cite="#c1">如果 <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#current-settings-object"
                            id="ref-for-index-term-current-settings-object-1">当前设置对象</a>的
                        <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                            id="ref-for-index-term-relevant-global-object-1">相关全局对象</a>的
                        <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window"
                            id="ref-for-index-term-associated-document-1">关联的 <code>Document</code></a> 不是
                        <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active"
                            id="ref-for-index-term-fully-active-for-document-1">完全激活</a>：</del> <ins cite="#c1">如果 <a
                            data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-index-term-this-2">this</a>的
                        <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                            id="ref-for-index-term-relevant-global-object-2">相关全局对象</a>的
                        <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window"
                            id="ref-for-index-term-associated-document-2">关联的 <code>Document</code></a> 不是
                        <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active"
                            id="ref-for-index-term-fully-active-for-document-2">完全激活</a>：</ins>
                    <ol>
                        <li><a data-link-type="dfn|abstract-op" href="#dfn-call-back-with-error" class="internalDFN"
                                id="ref-for-dfn-call-back-with-error-1">调用错误回调</a> <var
                                data-type="PositionErrorCallback?">errorCallback</var> 和
                            <a data-link-type="idl" href="#dom-geolocationpositionerror-position_unavailable"
                                class="internalDFN"
                                id="ref-for-dom-geolocationpositionerror-position_unavailable-1"><code>POSITION_UNAVAILABLE</code></a>。
                        </li>
                        <li>终止此算法。
                        </li>
                    </ol>
                </li>
                <li><a data-link-type="dfn|abstract-op" href="#dfn-request-a-position" class="internalDFN"
                        id="ref-for-dfn-request-a-position-1">请求位置</a>，传入 <a data-link-type="dfn|abstract-op"
                        data-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                        id="ref-for-index-term-this-3">this</a>， <var
                        data-type="PositionCallback">successCallback</var>，
                    <var data-type="PositionErrorCallback?">errorCallback</var> 和 <var
                        data-type="PositionOptions">options</var>。
                </li>
            </ol>
        </section>
        <aside class="mdn">
            <details>
                <summary aria-label="Expand MDN details for watchPosition"><span>MDN</span><span
                        title="This feature is in all major engines.">✅</span></summary>
                <a title="The Geolocation method watchPosition() method is used to register a handler function that will be called automatically each time the position of the device changes. You can also, optionally, specify an error handling callback function."
                    href="https://developer.mozilla.org/en-US/docs/Web/API/Geolocation/watchPosition">Geolocation/watchPosition</a>
                <p class="engines-all">此功能在所有主要浏览器引擎中均受支持。</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>5+</td>
                    </tr>
                    <tr class="chrome_android unknown">
                        <td>Chrome Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge yes">
                        <td>Edge</td>
                        <td>12+</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>3.5+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera yes">
                        <td>Opera</td>
                        <td>10.6+</td>
                    </tr>
                    <tr class="opera_android yes">
                        <td>Opera Android</td>
                        <td>11+</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>5+</td>
                    </tr>
                    <tr class="safari_ios yes">
                        <td>Safari iOS</td>
                        <td>3+</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android yes">
                        <td>WebView Android</td>
                        <td>37+</td>
                    </tr>
                </table>
            </details>
        </aside>

        <section id="watchposition-method">
            <div class="header-wrapper">
                <h3 id="x6-3-watchposition-method"><bdi class="secno">6.3 </bdi>
                    <code>watchPosition()</code> 方法
                </h3><a class="self-link" href="#watchposition-method" aria-label="Permalink for Section 6.3"></a>
            </div>

            <p
                data-tests="getCurrentPosition_permission_allow.https.html, getCurrentPosition_permission_deny.https.html">
                <code>watchPosition</code>（<var data-type="PositionCallback">successCallback</var>，
                <var data-type="PositionErrorCallback?">errorCallback</var>， <var
                    data-type="PositionOptions">options</var>）方法步骤如下：
            </p>
            <ol class="algorithm">
                <li>
                    <aside class="correction" id="c2">
                        <span class="marker">候选修正：</span> 简化了在方法步骤中检查文档活动状态的全局对象引用。
                    </aside><del cite="#c2">如果 <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#current-settings-object"
                            id="ref-for-index-term-current-settings-object-2">当前设置对象</a>的
                        <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                            id="ref-for-index-term-relevant-global-object-3">相关全局对象</a>的
                        <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window"
                            id="ref-for-index-term-associated-document-3">关联的 <code>Document</code></a> 不是
                        <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active"
                            id="ref-for-index-term-fully-active-for-document-3">完全激活</a>：</del> <ins cite="#c2">如果 <a
                            data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-index-term-this-4">this</a>的
                        <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                            id="ref-for-index-term-relevant-global-object-4">相关全局对象</a>的
                        <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window"
                            id="ref-for-index-term-associated-document-4">关联的 <code>Document</code></a> 不是
                        <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active"
                            id="ref-for-index-term-fully-active-for-document-4">完全激活</a>：</ins>
                    <ol>
                        <li><a data-link-type="dfn|abstract-op" href="#dfn-call-back-with-error" class="internalDFN"
                                id="ref-for-dfn-call-back-with-error-2">调用错误回调</a>，传入 <var
                                data-type="PositionErrorCallback?">errorCallback</var> 和
                            <a data-link-type="idl" href="#dom-geolocationpositionerror-position_unavailable"
                                class="internalDFN"
                                id="ref-for-dom-geolocationpositionerror-position_unavailable-2"><code>POSITION_UNAVAILABLE</code></a>。
                        </li>
                        <li>返回 0。
                        </li>
                    </ol>
                </li>
                <li>令 <var data-type="unsigned long">watchId</var> 为一个 <a data-link-type="dfn|abstract-op"
                        data-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined"
                        id="ref-for-index-term-implementation-defined-1">实现定义的</a>
                    <a data-link-type="idl" data-lt="unsigned long" data-type="interface"
                        href="https://webidl.spec.whatwg.org/#idl-unsigned-long"
                        id="ref-for-index-term-unsigned-long-type-2"><code>unsigned long</code></a>，其值大于零。
                </li>
                <li><a data-link-type="dfn|abstract-op" href="#dfn-request-a-position" class="internalDFN"
                        id="ref-for-dfn-request-a-position-2">请求位置</a>，传入 <a data-link-type="dfn|abstract-op"
                        data-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                        id="ref-for-index-term-this-6">this</a>， <var
                        data-type="PositionCallback">successCallback</var>，
                    <var data-type="PositionErrorCallback?">errorCallback</var>， <var
                        data-type="PositionOptions">options</var>，
                    和 <var data-type="unsigned long">watchId</var>。
                </li>
                <li>返回 <var data-type="unsigned long">watchId</var>。
                </li>
            </ol>
        </section>
        <aside class="mdn">
            <details>
                <summary aria-label="Expand MDN details for clearWatch"><span>MDN</span><span
                        title="This feature is in all major engines.">✅</span></summary>
                <a title="The Geolocation.clearWatch() method is used to unregister location/error monitoring handlers previously installed using Geolocation.watchPosition()."
                    href="https://developer.mozilla.org/en-US/docs/Web/API/Geolocation/clearWatch">Geolocation/clearWatch</a>
                <p class="engines-all">此功能在所有主要浏览器引擎中均受支持。</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>5+</td>
                    </tr>
                    <tr class="chrome_android unknown">
                        <td>Chrome Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge yes">
                        <td>Edge</td>
                        <td>12+</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>3.5+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera yes">
                        <td>Opera</td>
                        <td>10.6+</td>
                    </tr>
                    <tr class="opera_android yes">
                        <td>Opera Android</td>
                        <td>11+</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>5+</td>
                    </tr>
                    <tr class="safari_ios yes">
                        <td>Safari iOS</td>
                        <td>3+</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android yes">
                        <td>WebView Android</td>
                        <td>37+</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section id="clearwatch-method">
            <div class="header-wrapper">
                <h3 id="x6-4-clearwatch-method"><bdi class="secno">6.4 </bdi>
                    <code>clearWatch()</code> 方法
                </h3><a class="self-link" href="#clearwatch-method" aria-label="第 6.4 节的永久链接"></a>
            </div>

            <p data-tests="clearWatch_TypeError.html">
                当调用 <dfn data-export="" data-dfn-type="method" id="dom-geolocation-clearwatch" data-idl="operation"
                    data-title="clearWatch()" data-dfn-for="Geolocation" data-type="undefined"
                    data-lt="clearWatch()|clearWatch(watchId)"
                    data-local-lt="Geolocation.clearWatch|Geolocation.clearWatch()|clearWatch" tabindex="0"
                    aria-haspopup="dialog"><code>clearWatch()</code></dfn> 时，用户代理 <em class="rfc2119">必须</em>：
            </p>
            <ol class="algorithm">
                <li><a data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://infra.spec.whatwg.org/#list-remove"
                        id="ref-for-index-term-remove-for-list-1">移除</a> <var>watchId</var> 从 <a
                        data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                        id="ref-for-index-term-this-7">此对象</a> 的
                    <a data-link-type="attribute" data-lt="[[watchIDs]]" href="#dfn-watchids" class="internalDFN"
                        id="ref-for-dfn-watchids-2"><code>[[watchIDs]]</code></a>。
                </li>
            </ol>
        </section>
        <section id="request-a-position">
            <div class="header-wrapper">
                <h3 id="x6-5-request-a-position"><bdi class="secno">6.5 </bdi>
                    请求位置
                </h3><a class="self-link" href="#request-a-position" aria-label="第 6.5 节的永久链接"></a>
            </div>

            <p>
                要<dfn id="dfn-request-a-position" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">请求位置</dfn>，传入一个 <a data-link-type="idl" data-lt="Geolocation"
                    href="#dom-geolocation" class="internalDFN"
                    id="ref-for-dom-geolocation-3"><code>Geolocation</code></a> <var
                    data-type="Geolocation">geolocation</var>，一个 <a data-link-type="idl" data-lt="PositionCallback"
                    href="#dom-positioncallback" class="internalDFN"
                    id="ref-for-dom-positioncallback-3"><code>PositionCallback</code></a> <var
                    data-type="PositionCallback">successCallback</var>，一个 <a data-link-type="idl"
                    data-lt="PositionErrorCallback" href="#dom-positionerrorcallback" class="internalDFN"
                    id="ref-for-dom-positionerrorcallback-3"><code>PositionErrorCallback?</code></a> <var
                    data-type="PositionErrorCallback?">errorCallback</var>，一个 <a data-link-type="idl"
                    data-lt="PositionOptions" href="#dom-positionoptions" class="internalDFN"
                    id="ref-for-dom-positionoptions-5"><code>PositionOptions</code></a> <var
                    data-type="PositionOptions">options</var>，以及一个可选的 <var data-type="unsigned long">watchId</var>：
            </p>
            <ol class="algorithm">
                <li>让 <var data-type="List">watchIDs</var> 为 <var data-type="Geolocation">geolocation</var> 的 <a
                        data-link-type="attribute" data-lt="[[watchIDs]]" href="#dfn-watchids" class="internalDFN"
                        id="ref-for-dfn-watchids-3"><code>[[watchIDs]]</code></a>。
                </li>
                <li>让 <var data-type="Document">document</var> 为 <var data-type="Geolocation">geolocation</var> 的 <a
                        data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                        id="ref-for-index-term-relevant-global-object-5">相关全局对象</a> 的 <a
                        data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window"
                        id="ref-for-index-term-associated-document-5">关联 <code>Document</code></a>。
                </li>
                <li data-tests="">如果 <var data-type="Document">document</var> 不被<a data-link-type="dfn|abstract-op"
                        data-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use"
                        id="ref-for-index-term-allowed-to-use-1">允许使用</a> "geolocation" 特性：
                    <ol>
                        <li>如果传入了 <var data-type="unsigned long">watchId</var>，<a data-link-type="dfn|abstract-op"
                                data-type="dfn" href="https://infra.spec.whatwg.org/#list-remove"
                                id="ref-for-index-term-remove-for-list-2">移除</a> <var
                                data-type="unsigned long">watchId</var> 从 <var data-type="List">watchIDs</var>。
                        </li>
                        <li><a data-link-type="dfn|abstract-op" href="#dfn-call-back-with-error" class="internalDFN"
                                id="ref-for-dfn-call-back-with-error-3">回调错误</a>，传入 <var
                                data-type="PositionErrorCallback?">errorCallback</var> 和 <a data-link-type="idl"
                                href="#dom-geolocationpositionerror-permission_denied" class="internalDFN"
                                id="ref-for-dom-geolocationpositionerror-permission_denied-1"><code>PERMISSION_DENIED</code></a>。
                        </li>
                        <li>终止此算法。
                        </li>
                    </ol>
                </li>
                <li>
                    <aside class="correction" id="c7">
                        <span class="marker">候选修正：</span> 添加缺失的步骤来处理<a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#non-secure-context"
                            id="ref-for-index-term-non-secure-contexts-1">非安全上下文</a>。
                    </aside><ins cite="#c7">如果 <var data-type="Geolocation">geolocation</var> 的 <a
                            data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                            id="ref-for-index-term-environment-settings-object-1">环境设置对象</a>是一个<a
                            data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#non-secure-context"
                            id="ref-for-index-term-non-secure-contexts-2">非安全上下文</a>：
                        <ol>
                            <li>如果传入了 <var data-type="unsigned long">watchId</var>，<a data-link-type="dfn|abstract-op"
                                    data-type="dfn" href="https://infra.spec.whatwg.org/#list-remove"
                                    id="ref-for-index-term-remove-for-list-3">移除</a> <var
                                    data-type="unsigned long">watchId</var> 从 <var data-type="List">watchIDs</var>。
                            </li>
                            <li><a data-link-type="dfn|abstract-op" href="#dfn-call-back-with-error" class="internalDFN"
                                    id="ref-for-dfn-call-back-with-error-4">回调错误</a>，传入 <var
                                    data-type="PositionErrorCallback?">errorCallback</var> 和 <a data-link-type="idl"
                                    href="#dom-geolocationpositionerror-permission_denied" class="internalDFN"
                                    id="ref-for-dom-geolocationpositionerror-permission_denied-2"><code>PERMISSION_DENIED</code></a>。
                            </li>
                            <li>终止此算法。
                            </li>
                        </ol>
                    </ins>
                </li>
                <li>如果 <var data-type="Document">document</var> 的<a data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/interaction.html#visibility-state"
                        id="ref-for-index-term-visibility-state-for-document-1">可见状态</a>是 "hidden"，则等待以下<a
                        data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/interaction.html#page-visibility-change-steps"
                        id="ref-for-index-term-page-visibility-change-steps-1">页面可见性更改步骤</a>运行：
                    <ol>
                        <li class="assert"><a href="https://infra.spec.whatwg.org/#assert">断言</a>：<var
                                data-type="Document">document</var> 的<a data-link-type="dfn|abstract-op" data-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/interaction.html#visibility-state"
                                id="ref-for-index-term-visibility-state-for-document-2">可见状态</a>是 "visible"。
                        </li>
                        <li>继续下面的步骤。
                        </li>
                    </ol>
                </li>
                <li>让 <var>descriptor</var> 成为一个新的 <a data-link-type="idl" data-lt="PermissionDescriptor"
                        data-type="dictionary" href="https://www.w3.org/TR/permissions/#dom-permissiondescriptor"
                        id="ref-for-index-term-permissiondescriptor-1"><code>PermissionDescriptor</code></a>，其<a
                        data-link-type="idl" data-type="dict-member"
                        href="https://www.w3.org/TR/permissions/#dom-permissiondescriptor-name"
                        id="ref-for-index-term-name-for-permissiondescriptor-1"><code>name</code></a> 为 <a
                        href="#dfn-geolocation" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-geolocation-1"><code>"geolocation"</code></a>。
                </li>
                <li><a data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                        id="ref-for-index-term-in-parallel-1">并行</a>：
                    <ol>
                        <li>设置 <var>permission</var> 为<a data-link-type="dfn|abstract-op" data-type="dfn"
                                href="https://www.w3.org/TR/permissions/#dfn-request-permission-to-use"
                                id="ref-for-index-term-request-permission-to-use-1">请求使用权限</a> <var>descriptor</var>。
                        </li>
                        <li
                            data-tests="getCurrentPosition_permission_allow.https.html, getCurrentPosition_permission_deny.https.html">
                            如果 <var>permission</var> 是 "denied"，则：
                            <ol>
                                <li>如果传入了 <var data-type="unsigned long">watchId</var>，<a
                                        data-link-type="dfn|abstract-op" data-type="dfn"
                                        href="https://infra.spec.whatwg.org/#list-remove"
                                        id="ref-for-index-term-remove-for-list-4">移除</a> <var
                                        data-type="unsigned long">watchId</var> 从 <var data-type="List">watchIDs</var>。
                                </li>
                                <li><a data-link-type="dfn|abstract-op" href="#dfn-call-back-with-error"
                                        class="internalDFN" id="ref-for-dfn-call-back-with-error-5">回调错误</a>，传入 <var
                                        data-type="PositionErrorCallback?">errorCallback</var> 和 <a data-link-type="idl"
                                        href="#dom-geolocationpositionerror-permission_denied" class="internalDFN"
                                        id="ref-for-dom-geolocationpositionerror-permission_denied-3"><code>PERMISSION_DENIED</code></a>。
                                </li>
                                <li>终止此算法。
                                </li>
                            </ol>
                        </li>
                        <li>等待<a data-link-type="dfn|abstract-op" href="#dfn-acquire-a-position" class="internalDFN"
                                id="ref-for-dfn-acquire-a-position-3">获取位置</a>，传入 <var
                                data-type="PositionCallback">successCallback</var>，<var
                                data-type="PositionErrorCallback?">errorCallback</var>，<var
                                data-type="PositionOptions">options</var>，以及 <var
                                data-type="unsigned long">watchId</var>。
                        </li>
                        <li>如果没有传入 <var data-type="unsigned long">watchId</var>，则终止此算法。
                        </li>
                        <li>当 <var data-type="List">watchIDs</var> <a data-link-type="dfn|abstract-op" data-type="dfn"
                                href="https://infra.spec.whatwg.org/#list-contain"
                                id="ref-for-index-term-contains-for-list-1">包含</a> <var
                                data-type="unsigned long">watchId</var> 时：
                            <ol>
                                <li>
                                    <span id="wait-for-change">等待地理位置的显著变化</span>。何为地理位置的显著变化由实现决定。用户代理 <em
                                        class="rfc2119">可以</em>对位置变化报告的频率施加限制。
                                </li>
                                <li>如果 <var data-type="Document">document</var> 不是<a data-link-type="dfn|abstract-op"
                                        data-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active"
                                        id="ref-for-index-term-fully-active-for-document-5">完全活动</a>的，或者<a
                                        data-link-type="dfn|abstract-op" data-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/interaction.html#visibility-state"
                                        id="ref-for-index-term-visibility-state-for-document-3">可见状态</a>不是
                                    "visible"，则返回到上一步并再次<a href="#wait-for-change">等待地理位置的显著变化</a>。
                                    <div class="note" role="note" id="issue-container-generatedID-0">
                                        <div role="heading" class="note-title marker" id="h-note-0" aria-level="4">
                                            <span>注意</span><span class="issue-label">：位置更新仅限于完全活动的可见文档</span>
                                        </div>
                                        <aside class="">
                                            <p>
                                                这里的预期效果是位置更新只传递给完全活动且可见的文档；否则，更新将被静默地
                                                "丢弃"。只有当文档再次变为完全活动和可见时（例如，<code><a data-link-type="element" data-type="element" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element" id="ref-for-index-term-iframe-element-2">iframe</a></code>
                                                重新附加到父文档），位置更新才会再次开始传递。
                                            </p>
                                        </aside>
                                    </div>
                                </li>
                                <li>等待<a data-link-type="dfn|abstract-op" href="#dfn-acquire-a-position"
                                        class="internalDFN" id="ref-for-dfn-acquire-a-position-4">获取位置</a>，传入 <var
                                        data-type="PositionCallback">successCallback</var>，<var
                                        data-type="PositionErrorCallback?">errorCallback</var>，<var
                                        data-type="PositionOptions">options</var>，以及 <var
                                        data-type="unsigned long">watchId</var>。
                                </li>
                            </ol>
                        </li>
                    </ol>
                </li>
            </ol>
        </section>
        <section id="acquire-a-position">
            <div class="header-wrapper">
                <h3 id="x6-6-acquire-a-position"><bdi class="secno">6.6 </bdi>
                    获取位置
                </h3><a class="self-link" href="#acquire-a-position" aria-label="第 6.6 节的永久链接"></a>
            </div>

            <p>
                要<dfn data-local-lt="获取位置|获取位置" data-lt="获取位置|获取位置" id="dfn-acquire-a-position" tabindex="0"
                    aria-haspopup="dialog" data-dfn-type="dfn">获取位置</dfn>，传入 <a data-link-type="idl"
                    data-lt="PositionCallback" href="#dom-positioncallback" class="internalDFN"
                    id="ref-for-dom-positioncallback-4"><code>PositionCallback</code></a> <var
                    data-type="PositionCallback">successCallback</var>，一个 <a data-link-type="idl"
                    data-lt="PositionErrorCallback" href="#dom-positionerrorcallback" class="internalDFN"
                    id="ref-for-dom-positionerrorcallback-4"><code>PositionErrorCallback?</code></a> <var
                    data-type="PositionErrorCallback?">errorCallback</var>，<a data-link-type="idl"
                    data-lt="PositionOptions" href="#dom-positionoptions" class="internalDFN"
                    id="ref-for-dom-positionoptions-6"><code>PositionOptions</code></a> <var
                    data-type="PositionOptions">options</var>，以及一个可选的 <var data-type="unsigned long">watchId</var>。
            </p>
            <ol class="algorithm">
                <li>如果传入了 <var data-type="unsigned long">watchId</var>，且 <a data-link-type="dfn|abstract-op"
                        data-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                        id="ref-for-index-term-this-8">this</a> 的 <a data-link-type="attribute" data-lt="[[watchIDs]]"
                        href="#dfn-watchids" class="internalDFN"
                        id="ref-for-dfn-watchids-4"><code>[[watchIDs]]</code></a> 不<a data-link-type="dfn|abstract-op"
                        data-type="dfn" href="https://infra.spec.whatwg.org/#list-contain"
                        id="ref-for-index-term-contains-for-list-2">包含</a> <var
                        data-type="unsigned long">watchId</var>，终止此算法。
                </li>
                <li>让 <var data-type="EpochTimeStamp">acquisitionTime</var> 成为一个新的 <a data-link-type="idl"
                        data-lt="EpochTimeStamp" data-type="typedef"
                        href="https://www.w3.org/TR/hr-time-3/#dom-epochtimestamp"
                        id="ref-for-index-term-epochtimestamp-1"><code>EpochTimeStamp</code></a>，表示当前时间。
                </li>
                <li>让 <var>timeoutTime</var> 为 <var data-type="EpochTimeStamp">acquisitionTime</var> 和 <var
                        data-type="PositionOptions">options</var>.<a data-link-type="idl"
                        href="#dom-positionoptions-timeout" class="internalDFN"
                        id="ref-for-dom-positionoptions-timeout-2"><code>timeout</code></a> 的和。
                </li>
                <li>让 <var data-type="GeolocationPosition">cachedPosition</var> 为 <a data-link-type="dfn|abstract-op"
                        data-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                        id="ref-for-index-term-this-9">this</a> 的 <a data-link-type="attribute"
                        data-lt="[[cachedPosition]]" href="#dfn-cachedposition" class="internalDFN"
                        id="ref-for-dfn-cachedposition-2"><code>[[cachedPosition]]</code></a>。
                </li>
                <li>创建一个实现特定的 <var>timeout</var> 任务，设置在 <var>timeoutTime</var> 过期时触发，期间尝试通过以下步骤获取设备的位置：
                    <ol>
                        <li>让 <var>permission</var> 为获取 <a data-link-type="dfn|abstract-op" data-type="dfn"
                                href="https://www.w3.org/TR/permissions/#dfn-getting-the-current-permission-state"
                                id="ref-for-index-term-get-the-current-permission-state-1">当前权限状态</a> <a
                                href="#dfn-geolocation" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-geolocation-2"><code>"geolocation"</code></a>。
                        </li>
                        <li>如果 <var>permission</var> 是 "denied"：
                            <ol>
                                <li>停止 <var>timeout</var>。
                                </li>
                                <li>执行 <a href="#permission-denied">用户或系统拒绝权限</a> 失败处理步骤。
                                </li>
                            </ol>
                        </li>
                        <li>如果 <var>permission</var> 是 "granted"：
                            <ol>
                                <li>让 <var>position</var> 为 null。
                                </li>
                                <li>如果 <var data-type="GeolocationPosition">cachedPosition</var> 不为 null，且 <var
                                        data-type="PositionOptions">options</var>.<a data-link-type="idl"
                                        href="#dom-positionoptions-maximumage" class="internalDFN"
                                        id="ref-for-dom-positionoptions-maximumage-2"><code>maximumAge</code></a> 大于 0：
                                    <ol>
                                        <li>让 <var data-type="long">cacheTime</var> 为 <var
                                                data-type="EpochTimeStamp">acquisitionTime</var> 减去 <var
                                                data-type="PositionOptions">options</var>.<a data-link-type="idl"
                                                href="#dom-positionoptions-maximumage" class="internalDFN"
                                                id="ref-for-dom-positionoptions-maximumage-3"><code>maximumAge</code></a>
                                            的值。
                                        </li>
                                        <li>
                                            <aside class="correction" id="c8">
                                                <span class="marker">候选修正：</span>
                                                更新算法确保如果使用了有效的缓存位置，则立即终止算法，避免不必要的步骤。
                                            </aside>如果 <var data-type="GeolocationPosition">cachedPosition</var> 的 <a
                                                data-link-type="idl" href="#dom-geolocationposition-timestamp"
                                                class="internalDFN"
                                                id="ref-for-dom-geolocationposition-timestamp-1"><code>timestamp</code></a>
                                            的值大于 <var data-type="long">cacheTime</var>，并且 <var
                                                data-type="GeolocationPosition">cachedPosition</var>.<a
                                                data-link-type="attribute" data-lt="[[isHighAccuracy]]"
                                                href="#dfn-ishighaccuracy" class="internalDFN"
                                                id="ref-for-dfn-ishighaccuracy-1"><code>[[isHighAccuracy]]</code></a> 等于
                                            <var data-type="PositionOptions">options</var>.<a data-link-type="idl"
                                                href="#dom-positionoptions-enablehighaccuracy" class="internalDFN"
                                                id="ref-for-dom-positionoptions-enablehighaccuracy-2"><code>enableHighAccuracy</code></a><ins
                                                cite="#c8">：
                                                <ol>
                                                    <li><a data-link-type="dfn|abstract-op" data-type="dfn"
                                                            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                                                            id="ref-for-index-term-queue-a-task-1">排队任务</a>到 <a
                                                            data-link-type="dfn|abstract-op"
                                                            href="#dfn-geolocation-task-source" class="internalDFN"
                                                            id="ref-for-dfn-geolocation-task-source-1">地理位置任务源</a>，步骤为<a
                                                            data-link-type="dfn|abstract-op" data-type="dfn"
                                                            href="https://webidl.spec.whatwg.org/#invoke-a-callback-function"
                                                            id="ref-for-index-term-invokes-1">调用</a> <var
                                                            data-type="PositionCallback">successCallback</var>，传入 « <var
                                                            data-type="GeolocationPosition">cachedPosition</var> » 和
                                                        "<code>report</code>"。
                                                    </li>
                                                    <li>终止此算法。
                                                    </li>
                                                </ol>
                                            </ins>
                                        </li>
                                    </ol>
                                </li>
                                <li>否则，如果 <var>position</var> 不是 <var
                                        data-type="GeolocationPosition">cachedPosition</var>，尝试从底层系统获取位置数据，在获取期间可以考虑
                                    <var data-type="PositionOptions">options</var>.<a data-link-type="idl"
                                        href="#dom-positionoptions-enablehighaccuracy" class="internalDFN"
                                        id="ref-for-dom-positionoptions-enablehighaccuracy-3"><code>enableHighAccuracy</code></a>
                                    的值。
                                </li>
                                <li>如果在获取期间 <var>timeout</var> 过期，或者获取设备位置失败：
                                    <ol>
                                        <li>停止 <var>timeout</var>。
                                        </li>
                                        <li>转到 <a href="#errors-reasons">处理失败</a>。
                                        </li>
                                        <li>终止此算法。
                                        </li>
                                    </ol>
                                </li>
                                <li data-cite="infra">如果从系统成功获取位置数据：
                                    <aside class="correction" id="c9">
                                        <span class="marker">候选修正：</span> 我们现在使用 <a data-link-type="dfn|abstract-op"
                                            data-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map"
                                            id="ref-for-index-term-map-1">有序映射</a>
                                        来表示位置数据。澄清了纬度、经度和高度的单位和参考系统，确保与更新的属性定义一致。更新了速度和方向的描述，指定了测量单位和为 null
                                        的条件，以与对属性精度和清晰度的总体增强保持一致。
                                    </aside><ins cite="#c9">
                                        <ol data-cite="infra">
                                            <li>让 <var>positionData</var> 为具有以下名称/值对的 <a
                                                    data-link-type="dfn|abstract-op" data-type="dfn"
                                                    href="https://infra.spec.whatwg.org/#ordered-map"
                                                    id="ref-for-index-term-map-2">映射</a>，基于获取的位置数据：
                                                <dl>
                                                    <dt>
                                                        "longitude"
                                                    </dt>
                                                    <dd>
                                                        表示地球表面经度坐标的 <a data-link-type="idl" data-lt="double"
                                                            data-type="interface"
                                                            href="https://webidl.spec.whatwg.org/#idl-double"
                                                            id="ref-for-index-term-double-type-1"><code>double</code></a>，使用
                                                        [<cite><a class="bibref" data-link-type="biblio"
                                                                href="#bib-wgs84"
                                                                title="World Geodetic System 1984 (WGS 84)">WGS84</a></cite>]
                                                        坐标系统。经度测量从本初子午线向东或向西的距离。
                                                    </dd>
                                                    <dt>
                                                        "altitude"
                                                    </dt>
                                                    <dd>
                                                        表示高度的 <a data-link-type="idl" data-lt="double"
                                                            data-type="interface"
                                                            href="https://webidl.spec.whatwg.org/#idl-double"
                                                            id="ref-for-index-term-double-type-2"><code>double?</code></a>，以米为单位，相对于
                                                        [<cite><a class="bibref" data-link-type="biblio"
                                                                href="#bib-wgs84"
                                                                title="World Geodetic System 1984 (WGS 84)">WGS84</a></cite>]
                                                        椭球体，或者为 <code>null</code> 如果不可用。高度测量距离海平面的高度。
                                                    </dd>
                                                    <dt>
                                                        "accuracy"
                                                    </dt>
                                                    <dd>
                                                        表示 95% 置信水平的非负值 <a data-link-type="idl" data-lt="double"
                                                            data-type="interface"
                                                            href="https://webidl.spec.whatwg.org/#idl-double"
                                                            id="ref-for-index-term-double-type-3"><code>double</code></a>，以米为单位。精度表示测量坐标与实际位置的接近程度。
                                                    </dd>
                                                    <dt>
                                                        "altitudeAccuracy"
                                                    </dt>
                                                    <dd>
                                                        表示高度精度的非负值 <a data-link-type="idl" data-lt="double"
                                                            data-type="interface"
                                                            href="https://webidl.spec.whatwg.org/#idl-double"
                                                            id="ref-for-index-term-double-type-4"><code>double?</code></a>，或者为
                                                        <code>null</code> 如果不可用，表示 95% 置信水平，以米为单位。高度精度表示测量的高度与实际高度的接近程度。
                                                    </dd>
                                                    <dt>
                                                        "speed"
                                                    </dt>
                                                    <dd>
                                                        表示速度的非负值 <a data-link-type="idl" data-lt="double"
                                                            data-type="interface"
                                                            href="https://webidl.spec.whatwg.org/#idl-double"
                                                            id="ref-for-index-term-double-type-5"><code>double?</code></a>，以米每秒为单位，或者为
                                                        <code>null</code> 如果不可用。速度表示设备的移动速度。
                                                    </dd>
                                                    <dt>
                                                        "heading"
                                                    </dt>
                                                    <dd>
                                                        表示方向的值 <a data-link-type="idl" data-lt="double"
                                                            data-type="interface"
                                                            href="https://webidl.spec.whatwg.org/#idl-double"
                                                            id="ref-for-index-term-double-type-6"><code>double?</code></a>，以度为单位，或者为
                                                        <code>null</code> 如果不可用或者设备静止。方向表示设备相对于真北的移动方向。
                                                    </dd>
                                                </dl>
                                            </li>
                                            <li>设置 <var>position</var> 为 <a data-link-type="dfn|abstract-op"
                                                    href="#dfn-a-new-geolocationposition" class="internalDFN"
                                                    id="ref-for-dfn-a-new-geolocationposition-1">一个新的
                                                    <code>GeolocationPosition</code></a>，传入 <var>positionData</var>，<var
                                                    data-type="EpochTimeStamp">acquisitionTime</var> 和 <var
                                                    data-type="PositionOptions">options</var>.<a data-link-type="idl"
                                                    href="#dom-positionoptions-enablehighaccuracy" class="internalDFN"
                                                    id="ref-for-dom-positionoptions-enablehighaccuracy-4"><code>enableHighAccuracy</code></a>。
                                            </li>
                                            <li>将 <a data-link-type="dfn|abstract-op" data-type="dfn"
                                                    href="https://webidl.spec.whatwg.org/#this"
                                                    id="ref-for-index-term-this-10">this</a> 的 <a
                                                    data-link-type="attribute" data-lt="[[cachedPosition]]"
                                                    href="#dfn-cachedposition" class="internalDFN"
                                                    id="ref-for-dfn-cachedposition-3"><code>[[cachedPosition]]</code></a>
                                                设置为 <var>position</var>。
                                            </li>
                                        </ol>
                                    </ins>
                                </li>
                                <li>停止 <var>timeout</var>。
                                </li>
                                <li><a data-link-type="dfn|abstract-op" data-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                                        id="ref-for-index-term-queue-a-task-2">排队任务</a>到 <a
                                        data-link-type="dfn|abstract-op" href="#dfn-geolocation-task-source"
                                        class="internalDFN" id="ref-for-dfn-geolocation-task-source-2">地理位置任务源</a>，步骤为<a
                                        data-link-type="dfn|abstract-op" data-type="dfn"
                                        href="https://webidl.spec.whatwg.org/#invoke-a-callback-function"
                                        id="ref-for-index-term-invokes-2">调用</a> <var
                                        data-type="PositionCallback">successCallback</var>，传入 « <var>position</var> » 和
                                    "<code>report</code>"。
                                </li>
                            </ol>
                        </li>
                    </ol>
                    <dl class="switch">
                        <dt id="errors-reasons">
                            处理失败：
                        </dt>
                        <dd>
                            <ul>
                                <li>如果获取位置失败，根据匹配失败的条件执行以下之一：
                                    <dl class="switch">
                                        <dt id="permission-denied">
                                            用户或系统拒绝权限：
                                        </dt>
                                        <dd>
                                            <p>
                                                <a data-link-type="dfn|abstract-op" href="#dfn-call-back-with-error"
                                                    class="internalDFN"
                                                    id="ref-for-dfn-call-back-with-error-6">回调错误</a>，传入 <var
                                                    data-type="PositionErrorCallback?">errorCallback</var> 和 <a
                                                    data-link-type="idl"
                                                    href="#dom-geolocationpositionerror-permission_denied"
                                                    class="internalDFN"
                                                    id="ref-for-dom-geolocationpositionerror-permission_denied-4"><code>PERMISSION_DENIED</code></a>。
                                            </p>
                                            <div class="note" role="note" id="issue-container-generatedID-1">
                                                <div role="heading" class="note-title marker" id="h-note-1"
                                                    aria-level="4"><span>注意</span><span
                                                        class="issue-label">：浏览器权限与操作系统权限</span></div>
                                                <aside class="">
                                                    <p>
                                                        在某些平台上，可能会出现用户在浏览器级别<a data-link-type="dfn|abstract-op"
                                                            data-type="dfn"
                                                            href="https://www.w3.org/TR/permissions/#dfn-granted"
                                                            id="ref-for-index-term-grants-for-permission-3">授予</a>用户代理使用地理位置的权限，但在操作系统级别拒绝访问位置服务的情况。
                                                    </p>
                                                </aside>
                                            </div>
                                        </dd>
                                        <dt>
                                            超时：
                                        </dt>
                                        <dd>
                                            <a data-link-type="dfn|abstract-op" href="#dfn-call-back-with-error"
                                                class="internalDFN" id="ref-for-dfn-call-back-with-error-7">回调错误</a>，传入
                                            <var data-type="PositionErrorCallback?">errorCallback</var> 和 <a
                                                data-link-type="idl" href="#dom-geolocationpositionerror-timeout"
                                                class="internalDFN"
                                                id="ref-for-dom-geolocationpositionerror-timeout-1"><code>TIMEOUT</code></a>。
                                        </dd>
                                        <dt>
                                            数据获取错误或其他原因：
                                        </dt>
                                        <dd>
                                            <a data-link-type="dfn|abstract-op" href="#dfn-call-back-with-error"
                                                class="internalDFN" id="ref-for-dfn-call-back-with-error-8">回调错误</a>，传入
                                            <var data-type="PositionErrorCallback?">errorCallback</var> 和 <a
                                                data-link-type="idl"
                                                href="#dom-geolocationpositionerror-position_unavailable"
                                                class="internalDFN"
                                                id="ref-for-dom-geolocationpositionerror-position_unavailable-3"><code>POSITION_UNAVAILABLE</code></a>。
                                        </dd>
                                    </dl>
                                </li>
                            </ul>
                        </dd>
                    </dl>
                </li>
            </ol>
        </section>

        <section id="call-back-with-error">
            <div class="header-wrapper">
                <h3 id="x6-7-call-back-with-error"><bdi class="secno">6.7 </bdi>
                    回调错误
                </h3><a class="self-link" href="#call-back-with-error" aria-label="第 6.7 节的永久链接"></a>
            </div>

            <p>
                当指示要<dfn id="dfn-call-back-with-error" tabindex="0" aria-haspopup="dialog"
                    data-dfn-type="dfn">回调错误</dfn>时，给定一个 <a data-link-type="idl" data-lt="PositionErrorCallback"
                    href="#dom-positionerrorcallback" class="internalDFN"
                    id="ref-for-dom-positionerrorcallback-5"><code>PositionErrorCallback?</code></a> <var
                    data-type="PositionErrorCallback?">callback</var> 和一个 <a data-link-type="idl"
                    data-lt="unsigned short" data-type="interface"
                    href="https://webidl.spec.whatwg.org/#idl-unsigned-short"
                    id="ref-for-index-term-unsigned-short-type-1"><code>unsigned short</code></a> <var
                    data-type="unsigned short">code</var>：
            </p>
            <ol class="algorithm">
                <li>如果 <var data-type="PositionErrorCallback?">callback</var> 为 null，则返回。
                </li>
                <li>让 <var data-type="GeolocationPositionError">error</var> 成为一个新创建的 <a data-link-type="idl"
                        data-lt="GeolocationPositionError" href="#dom-geolocationpositionerror" class="internalDFN"
                        id="ref-for-dom-geolocationpositionerror-4"><code>GeolocationPositionError</code></a> 实例，其 <a
                        data-link-type="idl" href="#dom-geolocationpositionerror-code" class="internalDFN"
                        id="ref-for-dom-geolocationpositionerror-code-1"><code>code</code></a> 属性初始化为 <var
                        data-type="unsigned short">code</var>。
                </li>
                <li><a data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                        id="ref-for-index-term-queue-a-task-3">排队任务</a>到 <a data-link-type="dfn|abstract-op"
                        href="#dfn-geolocation-task-source" class="internalDFN"
                        id="ref-for-dfn-geolocation-task-source-3">地理位置任务源</a>，步骤为<a data-link-type="dfn|abstract-op"
                        data-type="dfn" href="https://webidl.spec.whatwg.org/#invoke-a-callback-function"
                        id="ref-for-index-term-invokes-3">调用</a> <var
                        data-type="PositionErrorCallback?">callback</var>，传入 « <var
                        data-type="GeolocationPositionError">error</var> » 和 "<code>report</code>"。
                </li>
            </ol>
        </section>
    </section>
    <section id="position_options_interface" data-dfn-for="PositionOptions">
        <div class="header-wrapper">
            <h2 id="x7-positionoptions-dictionary"><bdi class="secno">7. </bdi>
                <dfn data-export="" data-dfn-type="dictionary" id="dom-positionoptions" data-idl="dictionary"
                    data-title="PositionOptions" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>PositionOptions</code></dfn> 字典
            </h2><a class="self-link" href="#position_options_interface" aria-label="第 7 节的永久链接"></a>
        </div>

        <pre class="idl def" id="webidl-1341144555"><span class="idlHeader"><a class="self-link" href="#webidl-1341144555">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-positionoptions" data-title="PositionOptions">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-positionoptions" id="ref-for-dom-positionoptions-7"><code>PositionOptions</code></a> {<span data-idl="" class="idlMember" id="idl-def-positionoptions-enablehighaccuracy" data-title="enableHighAccuracy" data-dfn-for="PositionOptions"><span class="idlType">
          <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-index-term-boolean-type-1">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-positionoptions-enablehighaccuracy" id="ref-for-dom-positionoptions-enablehighaccuracy-6"><code>enableHighAccuracy</code></a> = false;</span><span data-idl="" class="idlMember" id="idl-def-positionoptions-timeout" data-title="timeout" data-dfn-for="PositionOptions">
          [<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Clamp" id="ref-for-index-term-clamp-extended-attribute-1">Clamp</a></span>]<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long" id="ref-for-index-term-unsigned-long-type-3">unsigned long</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-positionoptions-timeout" id="ref-for-dom-positionoptions-timeout-3"><code>timeout</code></a> = 0xFFFFFFFF;</span><span data-idl="" class="idlMember" id="idl-def-positionoptions-maximumage" data-title="maximumAge" data-dfn-for="PositionOptions">
          [<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Clamp" id="ref-for-index-term-clamp-extended-attribute-2">Clamp</a></span>]<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long" id="ref-for-index-term-unsigned-long-type-4">unsigned long</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-positionoptions-maximumage" id="ref-for-dom-positionoptions-maximumage-4"><code>maximumAge</code></a> = 0;</span>
        };</span></code></pre>
        <section id="enablehighaccuracy-member">
            <div class="header-wrapper">
                <h3 id="x7-1-enablehighaccuracy-member"><bdi class="secno">7.1 </bdi>
                    <code>enableHighAccuracy</code> 成员
                </h3><a class="self-link" href="#enablehighaccuracy-member" aria-label="第 7.1 节的永久链接"></a>
            </div>

            <p data-tests="PositionOptions.https.html">
                <dfn data-export="" data-dfn-type="dict-member" id="dom-positionoptions-enablehighaccuracy"
                    data-idl="field" data-title="enableHighAccuracy" data-dfn-for="PositionOptions" data-type="boolean"
                    tabindex="0" aria-haspopup="dialog"><code>enableHighAccuracy</code></dfn> 成员提供了一个提示，
                表示应用程序希望接收最准确的位置信息。
                此成员的目的是允许应用程序通知实现它们不需要高精度的地理定位修正，因此实现<em class="rfc2119">可以</em>避免使用消耗大量电量的地理定位提供者（例如，GPS）。
            </p>
            <div class="note" role="note" id="issue-container-generatedID-2">
                <div role="heading" class="note-title marker" id="h-note-2" aria-level="4"><span>注意</span><span
                        class="issue-label">: 关于 enableHighAccuracy 的警告</span></div>
                <aside class="">
                    <p>
                        <code>enableHighAccuracy</code> 成员可能会导致响应时间变慢或电量消耗增加。用户可能会禁用此功能，或者设备可能无法提供比未指定此标志时更准确的结果。
                    </p>
                </aside>
            </div>
        </section>
        <section id="timeout-member">
            <div class="header-wrapper">
                <h3 id="x7-2-timeout-member"><bdi class="secno">7.2 </bdi>
                    <code>timeout</code> 成员
                </h3><a class="self-link" href="#timeout-member" aria-label="第 7.2 节的永久链接"></a>
            </div>

            <p data-tests="PositionOptions.https.html">
                <dfn data-export="" data-dfn-type="dict-member" id="dom-positionoptions-timeout" data-idl="field"
                    data-title="timeout" data-dfn-for="PositionOptions" data-type="unsigned long" tabindex="0"
                    aria-haspopup="dialog"><code>timeout</code></dfn> 成员表示获取位置的最大时间长度（以毫秒为单位），在此时间过后，<a
                    data-link-type="dfn|abstract-op" href="#dfn-acquire-a-position" class="internalDFN"
                    id="ref-for-dfn-acquire-a-position-5">获取位置</a>会超时。
            </p>
            <div class="note" role="note" id="issue-container-generatedID-3">
                <div role="heading" class="note-title marker" id="h-note-3" aria-level="4"><span>注意</span><span
                        class="issue-label">: 什么时候计算超时时间？</span></div>
                <p class="">
                    等待文档可见以及<a data-link-type="dfn|abstract-op" data-lt="check permission"
                        href="#dfn-checking-permission" class="internalDFN" id="ref-for-dfn-checking-permission-3">获取使用
                        API 的权限</a>的时间不包括在 <a data-link-type="idl" href="#dom-positionoptions-timeout"
                        class="internalDFN" id="ref-for-dom-positionoptions-timeout-4"><code>timeout</code></a>
                    成员所覆盖的时间内。<a data-link-type="idl" href="#dom-positionoptions-timeout" class="internalDFN"
                        id="ref-for-dom-positionoptions-timeout-5"><code>timeout</code></a> 成员仅在开始<a
                        data-link-type="dfn|abstract-op" href="#dfn-acquire-a-position" class="internalDFN"
                        id="ref-for-dfn-acquire-a-position-6">获取位置</a>时适用。
                </p>
            </div>
            <div class="note" role="note" id="issue-container-generatedID-4">
                <div role="heading" class="note-title marker" id="h-note-4" aria-level="4"><span>注意</span><span
                        class="issue-label">: 立即取消</span></div>
                <aside class="">
                    <p>
                        <var>options</var>.<a data-link-type="idl" href="#dom-positionoptions-timeout"
                            class="internalDFN" id="ref-for-dom-positionoptions-timeout-6"><code>timeout</code></a> 值为 0
                        可能导致立即失败。
                    </p>
                </aside>
            </div>
        </section>
        <section id="maximumage-member">
            <div class="header-wrapper">
                <h3 id="x7-3-maximumage-member"><bdi class="secno">7.3 </bdi>
                    <code>maximumAge</code> 成员
                </h3><a class="self-link" href="#maximumage-member" aria-label="第 7.3 节的永久链接"></a>
            </div>

            <p data-tests="PositionOptions.https.html">
                <dfn data-export="" data-dfn-type="dict-member" id="dom-positionoptions-maximumage" data-idl="field"
                    data-title="maximumAge" data-dfn-for="PositionOptions" data-type="unsigned long" tabindex="0"
                    aria-haspopup="dialog"><code>maximumAge</code></dfn> 成员指示 Web 应用程序愿意接受缓存的位置信息，其缓存时间不超过指定的时间（以毫秒为单位）。
            </p>
        </section>
    </section>
    <aside class="mdn">
        <details>
            <summary aria-label="展开 MDN 详细信息：GeolocationPosition"><span>MDN</span><span title="此功能在所有主要引擎中可用。">✅</span>
            </summary>
            <a title="GeolocationPosition 接口表示给定时间内相关设备的位置。该位置由 GeolocationCoordinates 对象表示，包括设备在地球椭球体上的 2D 位置，以及其海拔和速度。"
                href="https://developer.mozilla.org/en-US/docs/Web/API/GeolocationPosition">GeolocationPosition</a>
            <p class="engines-all">此功能在所有主要引擎中可用。</p>
            <table>
                <tr class="chrome unknown">
                    <td>Chrome</td>
                    <td>?</td>
                </tr>
                <tr class="chrome_android unknown">
                    <td>Chrome Android</td>
                    <td>?</td>
                </tr>
                <tr class="edge no">
                    <td>Edge</td>
                    <td>不支持</td>
                </tr>
                <tr class="edge_mobile unknown">
                    <td>Edge Mobile</td>
                    <td>?</td>
                </tr>
                <tr class="firefox unknown">
                    <td>Firefox</td>
                    <td>?</td>
                </tr>
                <tr class="firefox_android unknown">
                    <td>Firefox Android</td>
                    <td>?</td>
                </tr>
                <tr class="opera yes">
                    <td>Opera</td>
                    <td>16+</td>
                </tr>
                <tr class="opera_android yes">
                    <td>Opera Android</td>
                    <td>16+</td>
                </tr>
                <tr class="safari unknown">
                    <td>Safari</td>
                    <td>?</td>
                </tr>
                <tr class="safari_ios unknown">
                    <td>Safari iOS</td>
                    <td>?</td>
                </tr>
                <tr class="samsunginternet_android unknown">
                    <td>Samsung Internet</td>
                    <td>?</td>
                </tr>
                <tr class="webview_android unknown">
                    <td>WebView Android</td>
                    <td>?</td>
                </tr>
            </table>
        </details>
    </aside>

    <section id="position_interface" data-dfn-for="GeolocationPosition">
        <div class="header-wrapper">
            <h2 id="x8-geolocationposition-interface"><bdi class="secno">8. </bdi>
                <code>GeolocationPosition</code> 接口
            </h2><a class="self-link" href="#position_interface" aria-label="Permalink for Section 8."></a>
        </div>

        <pre class="idl def" id="webidl-876485373"><span class="idlHeader"><a class="self-link" href="#webidl-876485373">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-geolocationposition" data-title="GeolocationPosition">[<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-index-term-exposed-extended-attribute-2">Exposed</a>=Window</span>, <span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-index-term-securecontext-extended-attribute-1">SecureContext</a></span>]
        interface <dfn data-export="" data-dfn-type="interface" id="dom-geolocationposition" data-idl="interface" data-title="GeolocationPosition" data-dfn-for="" class="idlID" tabindex="0" aria-haspopup="dialog"><code>GeolocationPosition</code></dfn> {<span data-idl="" class="idlAttribute" id="idl-def-geolocationposition-coords" data-title="coords" data-dfn-for="GeolocationPosition">
          readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-geolocationcoordinates" class="internalDFN" id="ref-for-dom-geolocationcoordinates-1"><code>GeolocationCoordinates</code></a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-geolocationposition-coords" id="ref-for-dom-geolocationposition-coords-1"><code>coords</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-geolocationposition-timestamp" data-title="timestamp" data-dfn-for="GeolocationPosition">
          readonly attribute<span class="idlType"> <a data-link-type="idl" data-type="typedef" href="https://www.w3.org/TR/hr-time-3/#dom-epochtimestamp" id="ref-for-index-term-epochtimestamp-2">EpochTimeStamp</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-geolocationposition-timestamp" id="ref-for-dom-geolocationposition-timestamp-2"><code>timestamp</code></a>;</span><span data-idl="" class="idlMethod" id="idl-def-geolocationposition-tojson" data-title="toJSON" data-dfn-for="GeolocationPosition">
          [<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Default" id="ref-for-index-term-default-extended-attribute-1">Default</a></span>]<span class="idlType"> <a data-link-type="interface" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-object" id="ref-for-index-term-object-type-1">object</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-geolocationposition-tojson" id="ref-for-dom-geolocationposition-tojson-1"><code>toJSON</code></a>();</span>
        };</span></code></pre>
        <aside class="mdn">
            <details>
                <summary aria-label="Expand MDN details for coords"><span>MDN</span><span
                        title="This feature is in all major engines.">✅</span></summary>
                <a title="GeolocationPosition.coords 只读属性返回一个 GeolocationCoordinates 对象，表示地理位置。它包含物体的经度和纬度、海拔和速度，并且还包含这些值的精度信息。"
                    href="https://developer.mozilla.org/en-US/docs/Web/API/GeolocationPosition/coords">GeolocationPosition/coords</a>
                <p class="engines-all">此特性在所有主流浏览器引擎中可用。</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>5+</td>
                    </tr>
                    <tr class="chrome_android unknown">
                        <td>Chrome Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge yes">
                        <td>Edge</td>
                        <td>12+</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>3.5+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera yes">
                        <td>Opera</td>
                        <td>16+</td>
                    </tr>
                    <tr class="opera_android yes">
                        <td>Opera Android</td>
                        <td>16+</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>5+</td>
                    </tr>
                    <tr class="safari_ios yes">
                        <td>Safari iOS</td>
                        <td>3+</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android yes">
                        <td>WebView Android</td>
                        <td>37+</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section id="coords-attribute">
            <div class="header-wrapper">
                <h3 id="x8-1-coords-attribute"><bdi class="secno">8.1 </bdi>
                    <code>coords</code> 属性
                </h3><a class="self-link" href="#coords-attribute" aria-label="Permalink for Section 8.1"></a>
            </div>

            <p>
                <dfn data-export="" data-dfn-type="attribute" id="dom-geolocationposition-coords" data-idl="attribute"
                    data-title="coords" data-dfn-for="GeolocationPosition" data-type="GeolocationCoordinates"
                    data-lt="coords" data-local-lt="GeolocationPosition.coords" tabindex="0"
                    aria-haspopup="dialog"><code>coords</code></dfn> 属性包含地理坐标。
            </p>
        </section>
        <aside class="mdn">
            <details>
                <summary aria-label="Expand MDN details for timestamp"><span>MDN</span><span
                        title="This feature is in all major engines.">✅</span></summary>
                <a title="GeolocationPosition.timestamp 只读属性表示设备获取位置的日期和时间。"
                    href="https://developer.mozilla.org/en-US/docs/Web/API/GeolocationPosition/timestamp">GeolocationPosition/timestamp</a>
                <p class="engines-all">此特性在所有主流浏览器引擎中可用。</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>5+</td>
                    </tr>
                    <tr class="chrome_android unknown">
                        <td>Chrome Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge yes">
                        <td>Edge</td>
                        <td>12+</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>3.5+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera yes">
                        <td>Opera</td>
                        <td>16+</td>
                    </tr>
                    <tr class="opera_android yes">
                        <td>Opera Android</td>
                        <td>16+</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>5+</td>
                    </tr>
                    <tr class="safari_ios yes">
                        <td>Safari iOS</td>
                        <td>3+</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android yes">
                        <td>WebView Android</td>
                        <td>37+</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section id="timestamp-attribute">
            <div class="header-wrapper">
                <h3 id="x8-2-timestamp-attribute"><bdi class="secno">8.2 </bdi>
                    <code>timestamp</code> 属性
                </h3><a class="self-link" href="#timestamp-attribute" aria-label="Permalink for Section 8.2"></a>
            </div>

            <p>
                <dfn data-export="" data-dfn-type="attribute" id="dom-geolocationposition-timestamp"
                    data-idl="attribute" data-title="timestamp" data-dfn-for="GeolocationPosition"
                    data-type="EpochTimeStamp" data-lt="timestamp" data-local-lt="GeolocationPosition.timestamp"
                    tabindex="0" aria-haspopup="dialog"><code>timestamp</code></dfn> 属性表示获取位置信息时的时间。
            </p>
        </section>
        <section id="tojson-method">
            <div class="header-wrapper">
                <h3 id="x8-3-tojson-method"><bdi class="secno">8.3 </bdi>
                    <code>toJSON()</code> 方法
                </h3><a class="self-link" href="#tojson-method" aria-label="Permalink for Section 8.3"></a>
            </div>

            <aside class="addition" id="a1">
                <span class="marker">候选添加：</span> 引入
                <code>toJSON()</code> 方法，以便 <a data-link-type="idl" data-lt="GeolocationPosition"
                    href="#dom-geolocationposition" class="internalDFN"
                    id="ref-for-dom-geolocationposition-4"><code>GeolocationPosition</code></a> 对象可以
                轻松转换为 JSON 表示，促进网络应用程序的互操作性和易用性。
            </aside>
            <p>
                <ins cite="#a1"><dfn data-export="" data-dfn-type="method" id="dom-geolocationposition-tojson"
                        data-idl="operation" data-title="toJSON()" data-dfn-for="GeolocationPosition" data-type="object"
                        data-lt="toJSON()"
                        data-local-lt="GeolocationPosition.toJSON|GeolocationPosition.toJSON()|toJSON" tabindex="0"
                        aria-haspopup="dialog"><code>toJSON()</code></dfn> 方法返回
                    <a data-link-type="idl" data-lt="GeolocationPosition" href="#dom-geolocationposition"
                        class="internalDFN" id="ref-for-dom-geolocationposition-5"><code>GeolocationPosition</code></a>
                    对象的 JSON 表示。</ins>
            </p>
        </section>
        <section id="internal-slots-0">
            <div class="header-wrapper">
                <h3 id="x8-4-internal-slots"><bdi class="secno">8.4 </bdi>
                    内部槽
                </h3><a class="self-link" href="#internal-slots-0" aria-label="Permalink for Section 8.4"></a>
            </div>

            <p>
                <a data-link-type="idl" data-lt="GeolocationPositionError" href="#dom-geolocationpositionerror"
                    class="internalDFN"
                    id="ref-for-dom-geolocationpositionerror-5"><code>GeolocationPositionError</code></a> 的实例被创建时，
                包含以下表格中的内部槽：
            </p>
            <table class="data">
                <tbody>
                    <tr>
                        <th>
                            内部槽
                        </th>
                        <th>
                            描述
                        </th>
                    </tr>
                    <tr>
                        <td>
                            <dfn data-dfn-for="GeolocationPosition" data-idl="" data-noexport=""
                                data-dfn-type="attribute" id="dfn-ishighaccuracy" tabindex="0"
                                aria-haspopup="dialog">[[isHighAccuracy]]</dfn>
                        </td>
                        <td>
                            一个 <a data-link-type="idl" data-lt="boolean" data-type="interface"
                                href="https://webidl.spec.whatwg.org/#idl-boolean"
                                id="ref-for-index-term-boolean-type-2"><code>boolean</code></a> 值，用于记录
                            <a data-link-type="idl" href="#dom-positionoptions-enablehighaccuracy" class="internalDFN"
                                id="ref-for-dom-positionoptions-enablehighaccuracy-7"><code>enableHighAccuracy</code></a>
                            成员的值，当此
                            <a data-link-type="idl" data-lt="GeolocationPosition" href="#dom-geolocationposition"
                                class="internalDFN"
                                id="ref-for-dom-geolocationposition-6"><code>GeolocationPosition</code></a> 被
                            <a data-link-type="dfn|abstract-op" data-lt="a new GeolocationPosition"
                                href="#dfn-a-new-geolocationposition" class="internalDFN"
                                id="ref-for-dfn-a-new-geolocationposition-3">创建</a>时。
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>
        <section id="task-sources">
            <div class="header-wrapper">
                <h3 id="x8-5-task-sources"><bdi class="secno">8.5 </bdi>
                    任务来源
                </h3><a class="self-link" href="#task-sources" aria-label="Permalink for Section 8.5"></a>
            </div>

            <p>
                以下 <a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source"
                    id="ref-for-index-term-task-source-1">任务来源</a> 由本规范定义。
            </p>
            <dl>
                <dt>
                    <dfn id="dfn-geolocation-task-source" tabindex="0" aria-haspopup="dialog"
                        data-dfn-type="dfn">地理定位任务来源</dfn>
                </dt>
                <dd>
                    本规范使用它来排队非阻塞
                    <a data-link-type="idl" data-lt="PositionCallback" href="#dom-positioncallback" class="internalDFN"
                        id="ref-for-dom-positioncallback-5"><code>PositionCallback</code></a> 和 <a data-link-type="idl"
                        data-lt="PositionErrorCallback" href="#dom-positionerrorcallback" class="internalDFN"
                        id="ref-for-dom-positionerrorcallback-6"><code>PositionErrorCallback</code></a>，当执行
                    <a data-link-type="dfn|abstract-op" data-lt="request a position" href="#dfn-request-a-position"
                        class="internalDFN" id="ref-for-dfn-request-a-position-3">位置请求</a>时使用。
                </dd>
            </dl>
        </section>
    </section>
    <aside class="mdn">
        <details>
            <summary aria-label="展开 GeolocationCoordinates 的 MDN 详细信息"><span>MDN</span><span
                    title="此特性在所有主要引擎中均可用。">✅</span></summary>
            <a title="GeolocationCoordinates 接口表示设备在地球上的位置和海拔高度，以及这些属性的计算精度。"
                href="https://developer.mozilla.org/en-US/docs/Web/API/GeolocationCoordinates">GeolocationCoordinates</a>
            <p class="engines-all">此特性在所有主要引擎中均可用。</p>
            <table>
                <tr class="chrome unknown">
                    <td>Chrome</td>
                    <td>?</td>
                </tr>
                <tr class="chrome_android unknown">
                    <td>Chrome Android</td>
                    <td>?</td>
                </tr>
                <tr class="edge no">
                    <td>Edge</td>
                    <td>不支持</td>
                </tr>
                <tr class="edge_mobile unknown">
                    <td>Edge Mobile</td>
                    <td>?</td>
                </tr>
                <tr class="firefox unknown">
                    <td>Firefox</td>
                    <td>?</td>
                </tr>
                <tr class="firefox_android unknown">
                    <td>Firefox Android</td>
                    <td>?</td>
                </tr>
                <tr class="opera unknown">
                    <td>Opera</td>
                    <td>?</td>
                </tr>
                <tr class="opera_android unknown">
                    <td>Opera Android</td>
                    <td>?</td>
                </tr>
                <tr class="safari unknown">
                    <td>Safari</td>
                    <td>?</td>
                </tr>
                <tr class="safari_ios unknown">
                    <td>Safari iOS</td>
                    <td>?</td>
                </tr>
                <tr class="samsunginternet_android yes">
                    <td>三星互联网</td>
                    <td>1.0+</td>
                </tr>
                <tr class="webview_android unknown">
                    <td>WebView Android</td>
                    <td>?</td>
                </tr>
            </table>
        </details>
    </aside>
    <section id="coordinates_interface" data-dfn-for="GeolocationCoordinates">
        <div class="header-wrapper">
            <h2 id="x9-geolocationcoordinates-interface"><bdi class="secno">9. </bdi>
                <dfn data-export="" data-dfn-type="interface" id="dom-geolocationcoordinates" data-idl="interface"
                    data-title="GeolocationCoordinates" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>GeolocationCoordinates</code></dfn> 接口
            </h2><a class="self-link" href="#coordinates_interface" aria-label="第 9 节的永久链接"></a>
        </div>

        <pre class="idl def" id="webidl-412902343"><span class="idlHeader"><a class="self-link" href="#webidl-412902343">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-geolocationcoordinates" data-title="GeolocationCoordinates">[<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-index-term-exposed-extended-attribute-3">Exposed</a>=Window</span>, <span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-index-term-securecontext-extended-attribute-2">SecureContext</a></span>]
        interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-geolocationcoordinates" id="ref-for-dom-geolocationcoordinates-2"><code>GeolocationCoordinates</code></a> {<span data-idl="" class="idlAttribute" id="idl-def-geolocationcoordinates-accuracy" data-title="accuracy" data-dfn-for="GeolocationCoordinates">
          readonly attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-index-term-double-type-7">double</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-geolocationcoordinates-accuracy" id="ref-for-dom-geolocationcoordinates-accuracy-1"><code>accuracy</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-geolocationcoordinates-latitude" data-title="latitude" data-dfn-for="GeolocationCoordinates">
          readonly attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-index-term-double-type-8">double</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-geolocationcoordinates-latitude" id="ref-for-dom-geolocationcoordinates-latitude-1"><code>latitude</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-geolocationcoordinates-longitude" data-title="longitude" data-dfn-for="GeolocationCoordinates">
          readonly attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-index-term-double-type-9">double</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-geolocationcoordinates-longitude" id="ref-for-dom-geolocationcoordinates-longitude-1"><code>longitude</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-geolocationcoordinates-altitude" data-title="altitude" data-dfn-for="GeolocationCoordinates">
          readonly attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-index-term-double-type-10">double</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-geolocationcoordinates-altitude" id="ref-for-dom-geolocationcoordinates-altitude-1"><code>altitude</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-geolocationcoordinates-altitudeaccuracy" data-title="altitudeAccuracy" data-dfn-for="GeolocationCoordinates">
          readonly attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-index-term-double-type-11">double</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-geolocationcoordinates-altitudeaccuracy" id="ref-for-dom-geolocationcoordinates-altitudeaccuracy-1"><code>altitudeAccuracy</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-geolocationcoordinates-heading" data-title="heading" data-dfn-for="GeolocationCoordinates">
          readonly attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-index-term-double-type-12">double</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-geolocationcoordinates-heading" id="ref-for-dom-geolocationcoordinates-heading-1"><code>heading</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-geolocationcoordinates-speed" data-title="speed" data-dfn-for="GeolocationCoordinates">
          readonly attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-index-term-double-type-13">double</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-geolocationcoordinates-speed" id="ref-for-dom-geolocationcoordinates-speed-1"><code>speed</code></a>;</span><span data-idl="" class="idlMethod" id="idl-def-geolocationcoordinates-tojson" data-title="toJSON" data-dfn-for="GeolocationCoordinates">
          [<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Default" id="ref-for-index-term-default-extended-attribute-2">Default</a></span>]<span class="idlType"> <a data-link-type="interface" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-object" id="ref-for-index-term-object-type-2">object</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-geolocationcoordinates-tojson" id="ref-for-dom-geolocationcoordinates-tojson-1"><code>toJSON</code></a>();</span>
        };</span></code></pre>
        <aside class="mdn">
            <details>
                <summary aria-label="展开 GeolocationCoordinates 的 MDN 详细信息"><span>MDN</span><span
                        title="此特性在所有主要引擎中均可用。">✅</span></summary>
                <a title="GeolocationCoordinates.accuracy 只读属性是一个严格为正的 double，表示 GeolocationCoordinates.latitude 和 GeolocationCoordinates.longitude 属性的精度，置信度为 95%，单位为米。"
                    href="https://developer.mozilla.org/en-US/docs/Web/API/GeolocationCoordinates/accuracy">GeolocationCoordinates/accuracy</a>
                <p class="engines-all">此特性在所有主要引擎中均可用。</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>5+</td>
                    </tr>
                    <tr class="chrome_android unknown">
                        <td>Chrome Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge yes">
                        <td>Edge</td>
                        <td>12+</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>3.5+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android unknown">
                        <td>Opera Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>5+</td>
                    </tr>
                    <tr class="safari_ios yes">
                        <td>Safari iOS</td>
                        <td>3+</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android yes">
                        <td>WebView Android</td>
                        <td>37+</td>
                    </tr>
                </table>
            </details>
            <details>
                <summary aria-label="展开 MDN 详细信息（纬度）"><span>MDN</span><span title="此功能在所有主要引擎中均可用。">✅</span></summary>
                <a title="GeolocationCoordinates.latitude 是一个只读属性，表示位置的纬度，单位为十进制度。"
                    href="https://developer.mozilla.org/en-US/docs/Web/API/GeolocationCoordinates/latitude">GeolocationCoordinates/latitude</a>
                <p class="engines-all">此功能在所有主要引擎中均可用。</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>5+</td>
                    </tr>
                    <tr class="chrome_android unknown">
                        <td>Chrome Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge yes">
                        <td>Edge</td>
                        <td>12+</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>3.5+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android unknown">
                        <td>Opera Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>5+</td>
                    </tr>
                    <tr class="safari_ios yes">
                        <td>Safari iOS</td>
                        <td>3+</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android yes">
                        <td>WebView Android</td>
                        <td>37+</td>
                    </tr>
                </table>
            </details>
            <details>
                <summary aria-label="展开 MDN 详细信息（经度）"><span>MDN</span><span title="此功能在所有主要引擎中均可用。">✅</span></summary>
                <a title="GeolocationCoordinates 的 longitude 只读属性是一个表示地理位置经度的数值，单位为十进制度。GeolocationCoordinates 对象是 GeolocationPosition 接口的一部分，该接口是由获取和返回地理位置的 Geolocation API 函数返回的对象类型。"
                    href="https://developer.mozilla.org/en-US/docs/Web/API/GeolocationCoordinates/longitude">GeolocationCoordinates/longitude</a>
                <p class="engines-all">此功能在所有主要引擎中均可用。</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>5+</td>
                    </tr>
                    <tr class="chrome_android unknown">
                        <td>Chrome Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge yes">
                        <td>Edge</td>
                        <td>12+</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>3.5+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android unknown">
                        <td>Opera Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>5+</td>
                    </tr>
                    <tr class="safari_ios yes">
                        <td>Safari iOS</td>
                        <td>3+</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android yes">
                        <td>WebView Android</td>
                        <td>37+</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section id="latitude-longitude-and-accuracy-attributes">
            <div class="header-wrapper">
                <h3 id="x9-1-latitude-longitude-and-accuracy-attributes"><bdi class="secno">9.1 </bdi>
                    <code>latitude</code>、<code>longitude</code> 和 <code>accuracy</code> 属性
                </h3><a class="self-link" href="#latitude-longitude-and-accuracy-attributes"
                    aria-label="Permalink for Section 9.1"></a>
            </div>

            <aside class="correction" id="c3">
                <span class="marker">候选更正：</span> 为了提高清晰度和精确度，纬度和经度属性的描述已更新，明确指出这些是根据 [<cite><a class="bibref"
                        data-link-type="biblio" href="#bib-wgs84" title="世界地理坐标系统 1984 (WGS 84)">WGS84</a></cite>]
                地理坐标系统中的角度表示的实数，而不只是简单地说明为“十进制度”。
            </aside>
            <aside class="addition" id="a3">
                <span class="marker">候选添加：</span> 为了提高清晰度和精确度，添加了关于 accuracy 属性的描述，定义为半径为米的精确度。
            </aside>
            <p>
                <del cite="#c3"> <strong>latitude</strong> 和 <strong>longitude</strong> 属性是地理坐标，
                    以十进制度表示。</del> <ins cite="#c3"> <dfn data-export="" data-dfn-type="attribute"
                        id="dom-geolocationcoordinates-latitude" data-idl="attribute" data-title="latitude"
                        data-dfn-for="GeolocationCoordinates" data-type="double" data-lt="latitude"
                        data-local-lt="GeolocationCoordinates.latitude" tabindex="0"
                        aria-haspopup="dialog"><code>latitude</code></dfn> 和 <dfn data-export=""
                        data-dfn-type="attribute" id="dom-geolocationcoordinates-longitude" data-idl="attribute"
                        data-title="longitude" data-dfn-for="GeolocationCoordinates" data-type="double"
                        data-lt="longitude" data-local-lt="GeolocationCoordinates.longitude" tabindex="0"
                        aria-haspopup="dialog"><code>longitude</code></dfn> 属性表示位置，指定为 WGS84 坐标系统中的角度实数。</ins>
                <ins cite="#a3"> <dfn data-export="" data-dfn-type="attribute" id="dom-geolocationcoordinates-accuracy"
                        data-idl="attribute" data-title="accuracy" data-dfn-for="GeolocationCoordinates"
                        data-type="double" data-lt="accuracy" data-local-lt="GeolocationCoordinates.accuracy"
                        tabindex="0" aria-haspopup="dialog"><code>accuracy</code></dfn> 属性表示位置的精度半径，单位为米。</ins>
            </p>
        </section>
        <aside class="mdn">
            <details>
                <summary aria-label="展开 MDN 详情以查看 altitude"><span>MDN</span><span title="此功能在所有主要引擎中均可用。">✅</span>
                </summary>
                <a title="GeolocationCoordinates.altitude 只读属性是一个双精度浮点数，表示位置相对于 WGS84 椭球体（定义名义海平面）的高度（以米为单位）。如果实现无法提供此数据，则该值为 null。"
                    href="https://developer.mozilla.org/en-US/docs/Web/API/GeolocationCoordinates/altitude">GeolocationCoordinates/altitude</a>
                <p class="engines-all">此功能在所有主要引擎中均可用。</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>5+</td>
                    </tr>
                    <tr class="chrome_android unknown">
                        <td>Chrome Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge yes">
                        <td>Edge</td>
                        <td>12+</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>3.5+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android unknown">
                        <td>Opera Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>5+</td>
                    </tr>
                    <tr class="safari_ios yes">
                        <td>Safari iOS</td>
                        <td>3+</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android yes">
                        <td>WebView Android</td>
                        <td>37+</td>
                    </tr>
                </table>
            </details>
            <details>
                <summary aria-label="展开 MDN 详情以查看 altitudeAccuracy"><span>MDN</span><span
                        title="此功能在所有主要引擎中均可用。">✅</span></summary>
                <a title="GeolocationCoordinates.altitudeAccuracy 只读属性是一个严格为正的双精度浮点数，表示 95% 置信度的高度精度（以米为单位）。如果实现不支持测量高度，则该值为 null。"
                    href="https://developer.mozilla.org/en-US/docs/Web/API/GeolocationCoordinates/altitudeAccuracy">GeolocationCoordinates/altitudeAccuracy</a>
                <p class="engines-all">此功能在所有主要引擎中均可用。</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>5+</td>
                    </tr>
                    <tr class="chrome_android unknown">
                        <td>Chrome Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge yes">
                        <td>Edge</td>
                        <td>12+</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>3.5+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android unknown">
                        <td>Opera Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>5+</td>
                    </tr>
                    <tr class="safari_ios yes">
                        <td>Safari iOS</td>
                        <td>3+</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android yes">
                        <td>WebView Android</td>
                        <td>37+</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section id="altitude-and-altitudeaccuracy-attributes">
            <div class="header-wrapper">
                <h3 id="x9-2-altitude-and-altitudeaccuracy-attributes"><bdi class="secno">9.2 </bdi>
                    <code>altitude</code> 和 <code>altitudeAccuracy</code> 属性
                </h3><a class="self-link" href="#altitude-and-altitudeaccuracy-attributes"
                    aria-label="Permalink for Section 9.2"></a>
            </div>

            <p>
                <dfn data-export="" data-dfn-type="attribute" id="dom-geolocationcoordinates-altitude"
                    data-idl="attribute" data-title="altitude" data-dfn-for="GeolocationCoordinates" data-type="double"
                    data-lt="altitude" data-local-lt="GeolocationCoordinates.altitude" tabindex="0"
                    aria-haspopup="dialog"><code>altitude</code></dfn> 属性表示位置的高度，
                以 [<cite><a class="bibref" data-link-type="biblio" href="#bib-wgs84"
                        title="World Geodetic System 1984 (WGS 84)">WGS84</a></cite>] 椭球体为基准，以米为单位。
            </p>
            <p>
                <dfn data-export="" data-dfn-type="attribute" id="dom-geolocationcoordinates-altitudeaccuracy"
                    data-idl="attribute" data-title="altitudeAccuracy" data-dfn-for="GeolocationCoordinates"
                    data-type="double" data-lt="altitudeAccuracy"
                    data-local-lt="GeolocationCoordinates.altitudeAccuracy" tabindex="0"
                    aria-haspopup="dialog"><code>altitudeAccuracy</code></dfn> 属性表示高度精度，单位为米（例如，<code>10</code> 米）。
            </p>
        </section>
        <aside class="mdn">
            <details>
                <summary aria-label="展开 MDN 详情以查看 heading"><span>MDN</span><span title="此功能在所有主要引擎中均可用。">✅</span>
                </summary>
                <a title="GeolocationCoordinates.heading 只读属性是一个双精度浮点数，表示设备当前的行驶方向。该值以度为单位，表示设备相对于正北方向的偏离角度。0 度表示正北，方向按顺时针确定（这意味着东为 90 度，西为 270 度）。如果 GeolocationCoordinates.speed 为 0，则 heading 为 NaN。如果设备无法提供 heading 信息，则该值为 null。"
                    href="https://developer.mozilla.org/en-US/docs/Web/API/GeolocationCoordinates/heading">GeolocationCoordinates/heading</a>
                <p class="engines-all">此功能在所有主要引擎中均可用。</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>5+</td>
                    </tr>
                    <tr class="chrome_android unknown">
                        <td>Chrome Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge yes">
                        <td>Edge</td>
                        <td>12+</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>3.5+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android unknown">
                        <td>Opera Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>5+</td>
                    </tr>
                    <tr class="safari_ios yes">
                        <td>Safari iOS</td>
                        <td>3+</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android yes">
                        <td>WebView Android</td>
                        <td>37+</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section id="heading-attribute">
            <div class="header-wrapper">
                <h3 id="x9-3-heading-attribute"><bdi class="secno">9.3 </bdi>
                    <code>heading</code> 属性
                </h3><a class="self-link" href="#heading-attribute" aria-label="Permalink for Section 9.3"></a>
            </div>

            <p>
                <dfn data-export="" data-dfn-type="attribute" id="dom-geolocationcoordinates-heading"
                    data-idl="attribute" data-title="heading" data-dfn-for="GeolocationCoordinates" data-type="double"
                    data-lt="heading" data-local-lt="GeolocationCoordinates.heading" tabindex="0"
                    aria-haspopup="dialog"><code>heading</code></dfn> 属性表示设备的行驶方向，单位为度，范围是 0° ≤ heading
                &lt; 360°，相对于正北方向按顺时针方向计算。
            </p>
        </section>
        <aside class="mdn">
            <details>
                <summary aria-label="展开 MDN 详情以查看 speed"><span>MDN</span><span title="此功能在所有主要引擎中均可用。">✅</span>
                </summary>
                <a title="GeolocationCoordinates.speed 只读属性是一个双精度浮点数，表示设备的速度，单位是米每秒。如果实现无法测量速度，则该值为 null。"
                    href="https://developer.mozilla.org/en-US/docs/Web/API/GeolocationCoordinates/speed">GeolocationCoordinates/speed</a>
                <p class="engines-all">此功能在所有主要引擎中均可用。</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>5+</td>
                    </tr>
                    <tr class="chrome_android unknown">
                        <td>Chrome Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge yes">
                        <td>Edge</td>
                        <td>12+</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>3.5+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera unknown">
                        <td>Opera</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera_android unknown">
                        <td>Opera Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>5+</td>
                    </tr>
                    <tr class="safari_ios yes">
                        <td>Safari iOS</td>
                        <td>3+</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android yes">
                        <td>WebView Android</td>
                        <td>37+</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section id="speed-attribute">
            <div class="header-wrapper">
                <h3 id="x9-4-speed-attribute"><bdi class="secno">9.4 </bdi>
                    <code>speed</code> 属性
                </h3><a class="self-link" href="#speed-attribute" aria-label="Permalink for Section 9.4"></a>
            </div>

            <p>
                <dfn data-export="" data-dfn-type="attribute" id="dom-geolocationcoordinates-speed" data-idl="attribute"
                    data-title="speed" data-dfn-for="GeolocationCoordinates" data-type="double" data-lt="speed"
                    data-local-lt="GeolocationCoordinates.speed" tabindex="0"
                    aria-haspopup="dialog"><code>speed</code></dfn> 属性表示设备当前速度的水平分量的大小，单位是米每秒。
            </p>
        </section>
        <section id="tojson-method-0">
            <div class="header-wrapper">
                <h3 id="x9-5-tojson-method"><bdi class="secno">9.5 </bdi>
                    <code>toJSON()</code> 方法
                </h3><a class="self-link" href="#tojson-method-0" aria-label="Permalink for Section 9.5"></a>
            </div>

            <aside class="addition" id="a2">
                <span class="marker">候选新增:</span> 扩展 <code>toJSON()</code> 方法的功能到 <a data-link-type="idl"
                    data-lt="GeolocationCoordinates" href="#dom-geolocationcoordinates" class="internalDFN"
                    id="ref-for-dom-geolocationcoordinates-3"><code>GeolocationCoordinates</code></a> 对象，
                允许它序列化为 JSON 格式，从而增强数据处理和在 web 应用程序中的集成功能。
            </aside>
            <p>
                <ins cite="#a2"> <dfn data-export="" data-dfn-type="method" id="dom-geolocationcoordinates-tojson"
                        data-idl="operation" data-title="toJSON()" data-dfn-for="GeolocationCoordinates"
                        data-type="object" data-lt="toJSON()"
                        data-local-lt="GeolocationCoordinates.toJSON|GeolocationCoordinates.toJSON()|toJSON"
                        tabindex="0" aria-haspopup="dialog"><code>toJSON()</code></dfn> 方法返回 <a data-link-type="idl"
                        data-lt="GeolocationCoordinates" href="#dom-geolocationcoordinates" class="internalDFN"
                        id="ref-for-dom-geolocationcoordinates-4"><code>GeolocationCoordinates</code></a> 对象的 JSON
                    表示形式。</ins>
            </p>
        </section>
        <section data-cite="infra" id="constructing-a-geolocationposition">
            <div class="header-wrapper">
                <h3 id="x9-6-constructing-a-geolocationposition"><bdi class="secno">9.6 </bdi>
                    构造一个 <code>GeolocationPosition</code>
                </h3><a class="self-link" href="#constructing-a-geolocationposition"
                    aria-label="Permalink for Section 9.6"></a>
            </div>

            <aside class="correction" id="c4">
                <span class="marker">候选修改:</span> 构造函数现在接受一个包含位置数据的 <a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-index-term-map-3">map</a>，时间戳，
                和一个布尔值，表示高精度。我们遍历这个 map 来设置 <a data-link-type="idl" data-lt="GeolocationCoordinates"
                    href="#dom-geolocationcoordinates" class="internalDFN"
                    id="ref-for-dom-geolocationcoordinates-5"><code>GeolocationCoordinates</code></a> 的属性。
            </aside><ins cite="#c4">
                <p>
                    <dfn id="dfn-a-new-geolocationposition" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">一个新的
                        <code>GeolocationPosition</code></dfn>
                    是通过以下步骤使用一个 <a data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-index-term-map-4">map</a>
                    <var>positionData</var>，<a data-link-type="idl" data-lt="EpochTimeStamp" data-type="typedef"
                        href="https://www.w3.org/TR/hr-time-3/#dom-epochtimestamp"
                        id="ref-for-index-term-epochtimestamp-3"><code>EpochTimeStamp</code></a> <var
                        data-type="EpochTimeStamp">timestamp</var> 和布尔值 <var>isHighAccuracy</var> 构建的:
                </p>
                <ol class="algorithm">
                    <li>让 <var data-type="GeolocationCoordinates">coords</var> 成为一个新创建的
                        <a data-link-type="idl" data-lt="GeolocationCoordinates" href="#dom-geolocationcoordinates"
                            class="internalDFN"
                            id="ref-for-dom-geolocationcoordinates-6"><code>GeolocationCoordinates</code></a> 实例。
                    </li>
                    <li><a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://infra.spec.whatwg.org/#map-iterate"
                            id="ref-for-index-term-for-each-for-map-1">对于每个</a> <var>key</var> → <var>value</var> 在
                        <var>positionData</var> 中:
                        <ol>
                            <li>将 <var data-type="GeolocationCoordinates">coords</var> 的名为 <var>key</var> 的属性设置为
                                <var>value</var>。
                            </li>
                        </ol>
                    </li>
                    <li>返回一个新创建的 <a data-link-type="idl" data-lt="GeolocationPosition" href="#dom-geolocationposition"
                            class="internalDFN"
                            id="ref-for-dom-geolocationposition-7"><code>GeolocationPosition</code></a> 实例，
                        其 <a data-link-type="idl" href="#dom-geolocationposition-coords" class="internalDFN"
                            id="ref-for-dom-geolocationposition-coords-2"><code>coords</code></a> 属性初始化为
                        <var data-type="GeolocationCoordinates">coords</var>，<a data-link-type="idl"
                            href="#dom-geolocationposition-timestamp" class="internalDFN"
                            id="ref-for-dom-geolocationposition-timestamp-3"><code>timestamp</code></a> 属性初始化为
                        <var data-type="EpochTimeStamp">timestamp</var>，其 <a data-link-type="attribute"
                            data-lt="[[isHighAccuracy]]" href="#dfn-ishighaccuracy" class="internalDFN"
                            id="ref-for-dfn-ishighaccuracy-2"><code>[[isHighAccuracy]]</code></a>
                        内部槽位设置为 <var>isHighAccuracy</var>。
                    </li>
                </ol>
            </ins> <del cite="#c4">
                <p>
                    <strong>一个新的 <code>GeolocationPosition</code></strong> 是通过以下步骤使用
                    <a data-link-type="idl" data-lt="EpochTimeStamp" data-type="typedef"
                        href="https://www.w3.org/TR/hr-time-3/#dom-epochtimestamp"
                        id="ref-for-index-term-epochtimestamp-4"><code>EpochTimeStamp</code></a> <var
                        data-type="EpochTimeStamp">timestamp</var> 和布尔值
                    <var>isHighAccuracy</var> 构建的:
                </p>
                <ol class="algorithm">
                    <li>让 <var data-type="GeolocationCoordinates">coords</var> 成为一个新创建的
                        <a data-link-type="idl" data-lt="GeolocationCoordinates" href="#dom-geolocationcoordinates"
                            class="internalDFN"
                            id="ref-for-dom-geolocationcoordinates-7"><code>GeolocationCoordinates</code></a> 实例:
                        <ol>
                            <li>初始化 <var>coord</var> 的 <a data-link-type="idl"
                                    href="#dom-geolocationcoordinates-latitude" class="internalDFN"
                                    id="ref-for-dom-geolocationcoordinates-latitude-2"><code>latitude</code></a>
                                属性为十进制度数的地理坐标。
                            </li>
                            <li>初始化 <var>coord</var> 的 <a data-link-type="idl"
                                    href="#dom-geolocationcoordinates-longitude" class="internalDFN"
                                    id="ref-for-dom-geolocationcoordinates-longitude-2"><code>longitude</code></a>
                                属性为十进制度数的地理坐标。
                            </li>
                            <li>初始化 <var>coord</var> 的 <a data-link-type="idl"
                                    href="#dom-geolocationcoordinates-accuracy" class="internalDFN"
                                    id="ref-for-dom-geolocationcoordinates-accuracy-2"><code>accuracy</code></a>
                                属性为非负实数。该值 <em class="rfc2119">应当</em> 对应于纬度和经度值的 95% 置信水平。
                            </li>
                            <li>初始化 <var>coord</var> 的 <a data-link-type="idl"
                                    href="#dom-geolocationcoordinates-altitude" class="internalDFN"
                                    id="ref-for-dom-geolocationcoordinates-altitude-2"><code>altitude</code></a>
                                属性为大于 [<cite><a class="bibref" data-link-type="biblio" href="#bib-wgs84"
                                        title="World Geodetic System 1984 (WGS 84)">WGS84</a></cite>]
                                椭球体的高度，或如果实现无法提供高度信息则为 <code>null</code>。
                            </li>
                            <li>初始化 <var>coord</var> 的
                                <a data-link-type="idl" href="#dom-geolocationcoordinates-altitudeaccuracy"
                                    class="internalDFN"
                                    id="ref-for-dom-geolocationcoordinates-altitudeaccuracy-2"><code>altitudeAccuracy</code></a>
                                属性为非负实数，或者如果实现无法提供高度信息则为 <code>null</code>。
                                如果提供了高度精度信息，则 <em class="rfc2119">应当</em> 对应于 95% 置信水平。
                            </li>
                            <li>初始化 <var>coord</var> 的 <a data-link-type="idl" href="#dom-geolocationcoordinates-speed"
                                    class="internalDFN"
                                    id="ref-for-dom-geolocationcoordinates-speed-2"><code>speed</code></a>
                                属性为非负实数，或者如果实现无法提供速度信息则为 <code>null</code>。
                            </li>
                            <li>初始化 <var>coord</var> 的 <a data-link-type="idl"
                                    href="#dom-geolocationcoordinates-heading" class="internalDFN"
                                    id="ref-for-dom-geolocationcoordinates-heading-2"><code>heading</code></a>
                                属性为角度值，或者如果实现无法提供航向信息则为 <code>null</code>。
                                如果设备静止（即 <a data-link-type="idl" href="#dom-geolocationcoordinates-speed"
                                    class="internalDFN"
                                    id="ref-for-dom-geolocationcoordinates-speed-3"><code>speed</code></a> 属性为 0），
                                则将 <a data-link-type="idl" href="#dom-geolocationcoordinates-heading"
                                    class="internalDFN"
                                    id="ref-for-dom-geolocationcoordinates-heading-3"><code>heading</code></a> 初始化为
                                <code>NaN</code>。
                            </li>
                        </ol>
                    </li>
                    <li>返回一个新创建的 <a data-link-type="idl" data-lt="GeolocationPosition" href="#dom-geolocationposition"
                            class="internalDFN"
                            id="ref-for-dom-geolocationposition-8"><code>GeolocationPosition</code></a> 实例，
                        其 <a data-link-type="idl" href="#dom-geolocationposition-coords" class="internalDFN"
                            id="ref-for-dom-geolocationposition-coords-3"><code>coords</code></a> 属性初始化为
                        <var data-type="GeolocationCoordinates">coords</var>，<a data-link-type="idl"
                            href="#dom-geolocationposition-timestamp" class="internalDFN"
                            id="ref-for-dom-geolocationposition-timestamp-4"><code>timestamp</code></a> 属性
                        初始化为 <var data-type="EpochTimeStamp">timestamp</var>，其 <a data-link-type="attribute"
                            data-lt="[[isHighAccuracy]]" href="#dfn-ishighaccuracy" class="internalDFN"
                            id="ref-for-dfn-ishighaccuracy-3"><code>[[isHighAccuracy]]</code></a>
                        内部槽位设置为 <var>isHighAccuracy</var>。
                    </li>
                </ol>
            </del>
        </section>
    </section>
    <aside class="mdn">
        <details>
            <summary aria-label="展开MDN详细信息，关于 GeolocationPositionError"><span>MDN</span><span
                    title="此功能在所有主要浏览器引擎中均可用。">✅</span></summary>
            <a title="GeolocationPositionError 接口表示在使用定位设备时发生错误的原因。"
                href="https://developer.mozilla.org/en-US/docs/Web/API/GeolocationPositionError">GeolocationPositionError</a>
            <p class="engines-all">此功能在所有主要浏览器引擎中均可用。</p>
            <table>
                <tr class="chrome unknown">
                    <td>Chrome</td>
                    <td>?</td>
                </tr>
                <tr class="chrome_android unknown">
                    <td>Chrome Android</td>
                    <td>?</td>
                </tr>
                <tr class="edge no">
                    <td>Edge</td>
                    <td>不支持</td>
                </tr>
                <tr class="edge_mobile unknown">
                    <td>Edge 移动版</td>
                    <td>?</td>
                </tr>
                <tr class="firefox unknown">
                    <td>Firefox</td>
                    <td>?</td>
                </tr>
                <tr class="firefox_android unknown">
                    <td>Firefox Android</td>
                    <td>?</td>
                </tr>
                <tr class="opera yes">
                    <td>Opera</td>
                    <td>16+</td>
                </tr>
                <tr class="opera_android yes">
                    <td>Opera Android</td>
                    <td>16+</td>
                </tr>
                <tr class="safari unknown">
                    <td>Safari</td>
                    <td>?</td>
                </tr>
                <tr class="safari_ios unknown">
                    <td>Safari iOS</td>
                    <td>?</td>
                </tr>
                <tr class="samsunginternet_android unknown">
                    <td>Samsung Internet</td>
                    <td>?</td>
                </tr>
                <tr class="webview_android unknown">
                    <td>WebView Android</td>
                    <td>?</td>
                </tr>
            </table>
        </details>
    </aside>
    <section id="position_error_interface" data-dfn-for="GeolocationPositionError">
        <div class="header-wrapper">
            <h2 id="x10-geolocationpositionerror-interface"><bdi class="secno">10. </bdi>
                <dfn data-export="" data-dfn-type="interface" id="dom-geolocationpositionerror" data-idl="interface"
                    data-title="GeolocationPositionError" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>GeolocationPositionError</code></dfn> 接口
            </h2><a class="self-link" href="#position_error_interface" aria-label="第10节的永久链接"></a>
        </div>

        <pre class="idl def" id="webidl-1281871320"><span class="idlHeader"><a class="self-link" href="#webidl-1281871320">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-geolocationpositionerror" data-title="GeolocationPositionError">[<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-index-term-exposed-extended-attribute-4">Exposed</a>=Window</span>]
        interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-geolocationpositionerror" id="ref-for-dom-geolocationpositionerror-6"><code>GeolocationPositionError</code></a> {<span data-idl="" class="idlConst" id="idl-def-geolocationpositionerror-permission_denied" data-title="PERMISSION_DENIED" data-dfn-for="GeolocationPositionError">
          const<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short" id="ref-for-index-term-unsigned-short-type-2">unsigned short</a></span> <a class="internalDFN idlName" data-link-type="const" href="#dom-geolocationpositionerror-permission_denied" id="ref-for-dom-geolocationpositionerror-permission_denied-5"><code>PERMISSION_DENIED</code></a> = 1;</span><span data-idl="" class="idlConst" id="idl-def-geolocationpositionerror-position_unavailable" data-title="POSITION_UNAVAILABLE" data-dfn-for="GeolocationPositionError">
          const<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short" id="ref-for-index-term-unsigned-short-type-3">unsigned short</a></span> <a class="internalDFN idlName" data-link-type="const" href="#dom-geolocationpositionerror-position_unavailable" id="ref-for-dom-geolocationpositionerror-position_unavailable-4"><code>POSITION_UNAVAILABLE</code></a> = 2;</span><span data-idl="" class="idlConst" id="idl-def-geolocationpositionerror-timeout" data-title="TIMEOUT" data-dfn-for="GeolocationPositionError">
          const<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short" id="ref-for-index-term-unsigned-short-type-4">unsigned short</a></span> <a class="internalDFN idlName" data-link-type="const" href="#dom-geolocationpositionerror-timeout" id="ref-for-dom-geolocationpositionerror-timeout-2"><code>TIMEOUT</code></a> = 3;</span><span data-idl="" class="idlAttribute" id="idl-def-geolocationpositionerror-code" data-title="code" data-dfn-for="GeolocationPositionError">
          readonly attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short" id="ref-for-index-term-unsigned-short-type-5">unsigned short</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-geolocationpositionerror-code" id="ref-for-dom-geolocationpositionerror-code-2"><code>code</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-geolocationpositionerror-message" data-title="message" data-dfn-for="GeolocationPositionError">
          readonly attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-index-term-domstring-interface-1">DOMString</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-geolocationpositionerror-message" id="ref-for-dom-geolocationpositionerror-message-1"><code>message</code></a>;</span>
        };</span></code></pre>
        <section id="constants">
            <div class="header-wrapper">
                <h3 id="x10-1-constants"><bdi class="secno">10.1 </bdi>
                    常量
                </h3><a class="self-link" href="#constants" aria-label="第10.1节的永久链接"></a>
            </div>

            <dl>
                <dt>
                    <dfn data-export="" data-dfn-type="const" id="dom-geolocationpositionerror-permission_denied"
                        data-idl="const" data-title="PERMISSION_DENIED" data-dfn-for="GeolocationPositionError"
                        tabindex="0" aria-haspopup="dialog"><code>PERMISSION_DENIED</code></dfn>（数值 1）
                </dt>
                <dd>
                    <aside class="correction" id="c6">
                        <span class="marker">候选修正：</span> 更新了<code>PERMISSION_DENIED</code>常量的描述，明确了权限拒绝的原因，包括 <a
                            data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#non-secure-context"
                            id="ref-for-index-term-non-secure-contexts-3">非安全上下文</a>和用户拒绝。
                    </aside><a data-link-type="dfn|abstract-op" href="#dfn-request-a-position" class="internalDFN"
                        id="ref-for-dfn-request-a-position-4">请求位置</a>失败，因为用户拒绝使用API的权限<ins cite="#c6">或者请求是在
                        <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#non-secure-context"
                            id="ref-for-index-term-non-secure-contexts-4">非安全上下文</a>中发出的</ins>。
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="const" id="dom-geolocationpositionerror-position_unavailable"
                        data-idl="const" data-title="POSITION_UNAVAILABLE" data-dfn-for="GeolocationPositionError"
                        tabindex="0" aria-haspopup="dialog"><code>POSITION_UNAVAILABLE</code></dfn>（数值 2）
                </dt>
                <dd>
                    <a data-link-type="dfn|abstract-op" href="#dfn-acquire-a-position" class="internalDFN"
                        id="ref-for-dfn-acquire-a-position-7">获取位置</a>失败。
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="const" id="dom-geolocationpositionerror-timeout" data-idl="const"
                        data-title="TIMEOUT" data-dfn-for="GeolocationPositionError" tabindex="0"
                        aria-haspopup="dialog"><code>TIMEOUT</code></dfn>（数值 3）
                </dt>
                <dd>
                    用户代理在指定的 <a data-link-type="idl" href="#dom-positionoptions-timeout" class="internalDFN"
                        id="ref-for-dom-positionoptions-timeout-7"><code>timeout</code></a> 时间内未能成功
                    <a data-link-type="dfn|abstract-op" href="#dfn-acquire-a-position" class="internalDFN"
                        id="ref-for-dfn-acquire-a-position-8">获取位置</a>。
                </dd>
            </dl>
        </section>
        <aside class="mdn">
            <details>
                <summary aria-label="展开MDN详细信息，关于 code"><span>MDN</span><span title="此功能在所有主要浏览器引擎中均可用。">✅</span>
                </summary>
                <a title="GeolocationPositionError.code 只读属性表示错误代码。"
                    href="https://developer.mozilla.org/en-US/docs/Web/API/GeolocationPositionError/code">GeolocationPositionError/code</a>
                <p class="engines-all">此功能在所有主要浏览器引擎中均可用。</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>5+</td>
                    </tr>
                    <tr class="chrome_android unknown">
                        <td>Chrome Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge yes">
                        <td>Edge</td>
                        <td>12+</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge 移动版</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>3.5+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera yes">
                        <td>Opera</td>
                        <td>16+</td>
                    </tr>
                    <tr class="opera_android yes">
                        <td>Opera Android</td>
                        <td>16+</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>5+</td>
                    </tr>
                    <tr class="safari_ios unknown">
                        <td>Safari iOS</td>
                        <td>?</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android yes">
                        <td>WebView Android</td>
                        <td>37+</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section id="code-attribute">
            <div class="header-wrapper">
                <h3 id="x10-2-code-attribute"><bdi class="secno">10.2 </bdi>
                    <code>code</code> 属性
                </h3><a class="self-link" href="#code-attribute" aria-label="Permalink for Section 10.2"></a>
            </div>

            <p>
                <dfn data-export="" data-dfn-type="attribute" id="dom-geolocationpositionerror-code"
                    data-idl="attribute" data-title="code" data-dfn-for="GeolocationPositionError"
                    data-type="unsigned short" data-lt="code" data-local-lt="GeolocationPositionError.code" tabindex="0"
                    aria-haspopup="dialog"><code>code</code></dfn> 属性返回它被 <a data-link-type="dfn|abstract-op"
                    data-lt="call back with error" href="#dfn-call-back-with-error" class="internalDFN"
                    id="ref-for-dfn-call-back-with-error-9">初始化为</a> 的值（请参阅 <a href="#constants"
                    data-matched-text="[[[#constants]]]" class="sec-ref"><bdi class="secno">10.1
                    </bdi> 常量</a> 以了解可能的值）。
            </p>
        </section>
        <aside class="mdn">
            <details>
                <summary aria-label="Expand MDN details for message"><span>MDN</span><span
                        title="This feature is in all major engines.">✅</span></summary>
                <a title="The GeolocationPositionError.message read-only property returns a human-readable string describing the details of the error."
                    href="https://developer.mozilla.org/en-US/docs/Web/API/GeolocationPositionError/message">GeolocationPositionError/message</a>
                <p class="engines-all">此功能在所有主要引擎中均可用。</p>
                <table>
                    <tr class="chrome yes">
                        <td>Chrome</td>
                        <td>5+</td>
                    </tr>
                    <tr class="chrome_android unknown">
                        <td>Chrome Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="edge yes">
                        <td>Edge</td>
                        <td>12+</td>
                    </tr>
                    <tr class="edge_mobile unknown">
                        <td>Edge Mobile</td>
                        <td>?</td>
                    </tr>
                    <tr class="firefox yes">
                        <td>Firefox</td>
                        <td>3.5+</td>
                    </tr>
                    <tr class="firefox_android unknown">
                        <td>Firefox Android</td>
                        <td>?</td>
                    </tr>
                    <tr class="opera yes">
                        <td>Opera</td>
                        <td>16+</td>
                    </tr>
                    <tr class="opera_android yes">
                        <td>Opera Android</td>
                        <td>16+</td>
                    </tr>
                    <tr class="safari yes">
                        <td>Safari</td>
                        <td>5+</td>
                    </tr>
                    <tr class="safari_ios unknown">
                        <td>Safari iOS</td>
                        <td>?</td>
                    </tr>
                    <tr class="samsunginternet_android unknown">
                        <td>Samsung Internet</td>
                        <td>?</td>
                    </tr>
                    <tr class="webview_android yes">
                        <td>WebView Android</td>
                        <td>37+</td>
                    </tr>
                </table>
            </details>
        </aside>
        <section id="message-attribute">
            <div class="header-wrapper">
                <h3 id="x10-3-message-attribute"><bdi class="secno">10.3 </bdi>
                    <code>message</code> 属性
                </h3><a class="self-link" href="#message-attribute" aria-label="Permalink for Section 10.3"></a>
            </div>

            <p>
                <dfn data-export="" data-dfn-type="attribute" id="dom-geolocationpositionerror-message"
                    data-idl="attribute" data-title="message" data-dfn-for="GeolocationPositionError"
                    data-type="DOMString" data-lt="message" data-local-lt="GeolocationPositionError.message"
                    tabindex="0" aria-haspopup="dialog"><code>message</code></dfn> 属性是一个面向开发者的文本描述，用于描述 <a
                    data-link-type="idl" href="#dom-geolocationpositionerror-code" class="internalDFN"
                    id="ref-for-dom-geolocationpositionerror-code-3"><code>code</code></a> 属性。
            </p>
            <div class="note" role="note" id="issue-container-generatedID-5">
                <div role="heading" class="note-title marker" id="h-note-5" aria-level="4"><span>注意</span><span
                        class="issue-label">: 不要将 .message 显示给用户！</span></div>
                <aside class="">
                    <p>
                        <a data-link-type="idl" data-lt="GeolocationPositionError" href="#dom-geolocationpositionerror"
                            class="internalDFN"
                            id="ref-for-dom-geolocationpositionerror-7"><code>GeolocationPositionError</code></a> 的 <a
                            data-link-type="idl" href="#dom-geolocationpositionerror-message" class="internalDFN"
                            id="ref-for-dom-geolocationpositionerror-message-2"><code>message</code></a>
                        属性的目的是帮助开发人员进行调试。
                        出于历史原因，该属性不提供语言或基础方向的元数据，并且仅以英语本地化。建议开发人员使用 <a data-link-type="idl"
                            data-lt="GeolocationPositionError" href="#dom-geolocationpositionerror" class="internalDFN"
                            id="ref-for-dom-geolocationpositionerror-8"><code>GeolocationPositionError</code></a> 的 <a
                            data-link-type="idl" href="#dom-geolocationpositionerror-code" class="internalDFN"
                            id="ref-for-dom-geolocationpositionerror-code-4"><code>code</code></a> 属性来创建本地化体验。
                    </p>
                </aside>
            </div>
        </section>
    </section>
    <aside class="mdn">
        <details>
            <summary aria-label="展开 MDN 详细信息关于地理位置"><span>MDN</span><span title="此功能的支持有限。">🚫</span></summary>
            <a title="HTTP Permissions-Policy 头部的 geolocation 指令控制当前文档是否允许使用 Geolocation 接口。"
                href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Permissions-Policy/geolocation">Headers/Permissions-Policy/geolocation</a>
            <p class="engines-some">此功能的支持有限。</p>
            <table>
                <tr class="chrome unknown">
                    <td>Chrome</td>
                    <td>?</td>
                </tr>
                <tr class="chrome_android unknown">
                    <td>Chrome Android</td>
                    <td>?</td>
                </tr>
                <tr class="edge unknown">
                    <td>Edge</td>
                    <td>?</td>
                </tr>
                <tr class="edge_mobile unknown">
                    <td>Edge Mobile</td>
                    <td>?</td>
                </tr>
                <tr class="firefox yes">
                    <td>Firefox</td>
                    <td>74+</td>
                </tr>
                <tr class="firefox_android unknown">
                    <td>Firefox Android</td>
                    <td>?</td>
                </tr>
                <tr class="opera unknown">
                    <td>Opera</td>
                    <td>?</td>
                </tr>
                <tr class="opera_android unknown">
                    <td>Opera Android</td>
                    <td>?</td>
                </tr>
                <tr class="safari no">
                    <td>Safari</td>
                    <td>不支持</td>
                </tr>
                <tr class="safari_ios unknown">
                    <td>Safari iOS</td>
                    <td>?</td>
                </tr>
                <tr class="samsunginternet_android unknown">
                    <td>Samsung Internet</td>
                    <td>?</td>
                </tr>
                <tr class="webview_android unknown">
                    <td>WebView Android</td>
                    <td>?</td>
                </tr>
            </table>
        </details>
    </aside>
    <section id="permissions-policy">
        <div class="header-wrapper">
            <h2 id="x11-permissions-policy"><bdi class="secno">11. </bdi>
                权限政策
            </h2><a class="self-link" href="#permissions-policy" aria-label="第11节的永久链接"></a>
        </div>

        <p>
            本规范定义了一个由标记字符串 <a href="#dfn-geolocation" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-geolocation-3"><code>"geolocation"</code></a> 识别的 <a data-link-type="dfn|abstract-op"
                data-type="dfn" href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature"
                id="ref-for-index-term-policy-controlled-feature-1">受政策控制的功能</a>。它的 <a data-link-type="dfn|abstract-op"
                data-type="dfn"
                href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature-default-allowlist"
                id="ref-for-index-term-default-allowlist-for-policy-controlled-feature-2">默认允许列表</a> 是 <a
                data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://www.w3.org/TR/permissions-policy-1/#default-allowlist-self"
                id="ref-for-index-term-self-for-default-allowlist-1">“self”</a>。
        </p>
    </section>
    <section id="conformance">
        <div class="header-wrapper">
            <h2 id="x12-conformance"><bdi class="secno">12. </bdi>一致性</h2><a class="self-link" href="#conformance"
                aria-label="第12节的永久链接"></a>
        </div>
        <p>标记为非规范性部分的部分，以及本规范中的所有编写指南、图表、示例和注释，都是非规范性的。本规范中的其他所有内容均为规范性的。</p>
        <p>
            本文档中的关键字 <em class="rfc2119">MAY（可能）</em>、<em class="rfc2119">MUST（必须）</em>、<em
                class="rfc2119">RECOMMENDED（推荐）</em> 和 <em class="rfc2119">SHOULD（应该）</em> 应按
            <a href="https://datatracker.ietf.org/doc/html/bcp14">BCP 14</a>
            [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2119"
                    title="RFC中用于指示需求级别的关键词">RFC2119</a></cite>] [<cite><a class="bibref" data-link-type="biblio"
                    href="#bib-rfc8174" title="RFC 2119关键字中的大小写歧义">RFC8174</a></cite>]
            中所述进行解释，仅在它们完全以大写形式出现时，如此处所示。
        </p>
    </section>
    <section id="idl-index" class="appendix">
        <div class="header-wrapper">
            <h2 id="a-idl-index"><bdi class="secno">A. </bdi>IDL 索引</h2><a class="self-link" href="#idl-index"
                aria-label="附录A的永久链接"></a>
        </div>

        <pre class="idl def" id="actual-idl-index"><span class="idlHeader"><a class="self-link" href="#actual-idl-index">WebIDL</a></span><code><span data-idl="" class="idlInterface" data-title="Navigator">partial interface <a data-idl="partial" data-link-type="interface" data-title="Navigator" class="idlID" data-dfn-for="Navigator" data-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator" id="ref-for-index-term-navigator-interface-2">Navigator</a> {<span data-idl="" class="idlAttribute" data-title="geolocation" data-dfn-for="Navigator">
      [<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-index-term-sameobject-extended-attribute-2">SameObject</a></span>] readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-geolocation" class="internalDFN" id="ref-for-dom-geolocation-4"><code>Geolocation</code></a></span> <dfn data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="geolocation" data-dfn-for="Navigator" data-type="Geolocation" data-lt="geolocation" data-local-lt="Navigator.geolocation" class="idlName"><code>geolocation</code></dfn>;</span>
    };</span>
    
    <span data-idl="" class="idlInterface" data-title="Geolocation">[<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-index-term-exposed-extended-attribute-5">Exposed</a>=Window</span>]
    interface <dfn data-export="" data-dfn-type="interface" data-idl="interface" data-title="Geolocation" data-dfn-for="" class="idlID"><code>Geolocation</code></dfn> {<span data-idl="" class="idlMethod" data-title="getCurrentPosition" data-dfn-for="Geolocation"><span class="idlType">
      <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-index-term-undefined-type-5">undefined</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-geolocation-getcurrentposition" id="ref-for-dom-geolocation-getcurrentposition-5"><code>getCurrentPosition</code></a> (<span class="idlType">
        <a data-link-type="idl" href="#dom-positioncallback" class="internalDFN" id="ref-for-dom-positioncallback-6"><code>PositionCallback</code></a></span> <span class="idlParamName">successCallback</span>,
        optional<span class="idlType"> <a data-link-type="idl" href="#dom-positionerrorcallback" class="internalDFN" id="ref-for-dom-positionerrorcallback-7"><code>PositionErrorCallback</code></a>?</span> <span class="idlParamName">errorCallback</span> = null,
        optional<span class="idlType"> <a data-link-type="idl" href="#dom-positionoptions" class="internalDFN" id="ref-for-dom-positionoptions-8"><code>PositionOptions</code></a></span> <span class="idlParamName">options</span> = {}
      );</span><span data-idl="" class="idlMethod" data-title="watchPosition" data-dfn-for="Geolocation"><span class="idlType">
    
      <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-long" id="ref-for-index-term-long-type-3">long</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-geolocation-watchposition" id="ref-for-dom-geolocation-watchposition-5"><code>watchPosition</code></a> (<span class="idlType">
        <a data-link-type="idl" href="#dom-positioncallback" class="internalDFN" id="ref-for-dom-positioncallback-7"><code>PositionCallback</code></a></span> <span class="idlParamName">successCallback</span>,
        optional<span class="idlType"> <a data-link-type="idl" href="#dom-positionerrorcallback" class="internalDFN" id="ref-for-dom-positionerrorcallback-8"><code>PositionErrorCallback</code></a>?</span> <span class="idlParamName">errorCallback</span> = null,
        optional<span class="idlType"> <a data-link-type="idl" href="#dom-positionoptions" class="internalDFN" id="ref-for-dom-positionoptions-9"><code>PositionOptions</code></a></span> <span class="idlParamName">options</span> = {}
      );</span><span data-idl="" class="idlMethod" data-title="clearWatch" data-dfn-for="Geolocation"><span class="idlType">
    
      <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-index-term-undefined-type-6">undefined</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-geolocation-clearwatch" id="ref-for-dom-geolocation-clearwatch-3"><code>clearWatch</code></a> (<span class="idlType"><a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-long" id="ref-for-index-term-long-type-4">long</a></span> <span class="idlParamName">watchId</span>);</span>
    };</span><span data-idl="" class="idlCallback" data-title="PositionCallback">
    
    callback <dfn data-export="" data-dfn-type="callback" data-idl="callback" data-title="PositionCallback" data-dfn-for="" class="idlID"><code>PositionCallback</code></dfn> =<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-index-term-undefined-type-7">undefined</a></span> (<span class="idlType">
      <a data-link-type="idl" href="#dom-geolocationposition" class="internalDFN" id="ref-for-dom-geolocationposition-9"><code>GeolocationPosition</code></a></span> <span class="idlParamName">position</span>
    );</span><span data-idl="" class="idlCallback" data-title="PositionErrorCallback">
    
    callback <dfn data-export="" data-dfn-type="callback" data-idl="callback" data-title="PositionErrorCallback" data-dfn-for="" class="idlID"><code>PositionErrorCallback</code></dfn> =<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-index-term-undefined-type-8">undefined</a></span> (<span class="idlType">
      <a data-link-type="idl" href="#dom-geolocationpositionerror" class="internalDFN" id="ref-for-dom-geolocationpositionerror-9"><code>GeolocationPositionError</code></a></span> <span class="idlParamName">positionError</span>
    );</span>
    
    <span data-idl="" class="idlDictionary" data-title="PositionOptions">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-positionoptions" id="ref-for-dom-positionoptions-10"><code>PositionOptions</code></a> {<span data-idl="" class="idlMember" data-title="enableHighAccuracy" data-dfn-for="PositionOptions"><span class="idlType">
      <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-index-term-boolean-type-3">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-positionoptions-enablehighaccuracy" id="ref-for-dom-positionoptions-enablehighaccuracy-8"><code>enableHighAccuracy</code></a> = false;</span><span data-idl="" class="idlMember" data-title="timeout" data-dfn-for="PositionOptions">
      [<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Clamp" id="ref-for-index-term-clamp-extended-attribute-3">Clamp</a></span>]<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long" id="ref-for-index-term-unsigned-long-type-5">unsigned long</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-positionoptions-timeout" id="ref-for-dom-positionoptions-timeout-8"><code>timeout</code></a> = 0xFFFFFFFF;</span><span data-idl="" class="idlMember" data-title="maximumAge" data-dfn-for="PositionOptions">
      [<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Clamp" id="ref-for-index-term-clamp-extended-attribute-4">Clamp</a></span>]<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long" id="ref-for-index-term-unsigned-long-type-6">unsigned long</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-positionoptions-maximumage" id="ref-for-dom-positionoptions-maximumage-5"><code>maximumAge</code></a> = 0;</span>
    };</span>
    
    <span data-idl="" class="idlInterface" data-title="GeolocationPosition">[<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-index-term-exposed-extended-attribute-6">Exposed</a>=Window</span>, <span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-index-term-securecontext-extended-attribute-3">SecureContext</a></span>]
    interface <dfn data-export="" data-dfn-type="interface" data-idl="interface" data-title="GeolocationPosition" data-dfn-for="" class="idlID"><code>GeolocationPosition</code></dfn> {<span data-idl="" class="idlAttribute" data-title="coords" data-dfn-for="GeolocationPosition">
      readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-geolocationcoordinates" class="internalDFN" id="ref-for-dom-geolocationcoordinates-8"><code>GeolocationCoordinates</code></a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-geolocationposition-coords" id="ref-for-dom-geolocationposition-coords-4"><code>coords</code></a>;</span><span data-idl="" class="idlAttribute" data-title="timestamp" data-dfn-for="GeolocationPosition">
      readonly attribute<span class="idlType"> <a data-link-type="idl" data-type="typedef" href="https://www.w3.org/TR/hr-time-3/#dom-epochtimestamp" id="ref-for-index-term-epochtimestamp-5">EpochTimeStamp</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-geolocationposition-timestamp" id="ref-for-dom-geolocationposition-timestamp-5"><code>timestamp</code></a>;</span><span data-idl="" class="idlMethod" data-title="toJSON" data-dfn-for="GeolocationPosition">
      [<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Default" id="ref-for-index-term-default-extended-attribute-3">Default</a></span>]<span class="idlType"> <a data-link-type="interface" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-object" id="ref-for-index-term-object-type-3">object</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-geolocationposition-tojson" id="ref-for-dom-geolocationposition-tojson-2"><code>toJSON</code></a>();</span>
    };</span>
    
    <span data-idl="" class="idlInterface" data-title="GeolocationCoordinates">[<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-index-term-exposed-extended-attribute-7">Exposed</a>=Window</span>, <span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-index-term-securecontext-extended-attribute-4">SecureContext</a></span>]
    interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-geolocationcoordinates" id="ref-for-dom-geolocationcoordinates-9"><code>GeolocationCoordinates</code></a> {<span data-idl="" class="idlAttribute" data-title="accuracy" data-dfn-for="GeolocationCoordinates">
      readonly attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-index-term-double-type-14">double</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-geolocationcoordinates-accuracy" id="ref-for-dom-geolocationcoordinates-accuracy-3"><code>accuracy</code></a>;</span><span data-idl="" class="idlAttribute" data-title="latitude" data-dfn-for="GeolocationCoordinates">
      readonly attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-index-term-double-type-15">double</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-geolocationcoordinates-latitude" id="ref-for-dom-geolocationcoordinates-latitude-3"><code>latitude</code></a>;</span><span data-idl="" class="idlAttribute" data-title="longitude" data-dfn-for="GeolocationCoordinates">
      readonly attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-index-term-double-type-16">double</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-geolocationcoordinates-longitude" id="ref-for-dom-geolocationcoordinates-longitude-3"><code>longitude</code></a>;</span><span data-idl="" class="idlAttribute" data-title="altitude" data-dfn-for="GeolocationCoordinates">
      readonly attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-index-term-double-type-17">double</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-geolocationcoordinates-altitude" id="ref-for-dom-geolocationcoordinates-altitude-3"><code>altitude</code></a>;</span><span data-idl="" class="idlAttribute" data-title="altitudeAccuracy" data-dfn-for="GeolocationCoordinates">
      readonly attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-index-term-double-type-18">double</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-geolocationcoordinates-altitudeaccuracy" id="ref-for-dom-geolocationcoordinates-altitudeaccuracy-3"><code>altitudeAccuracy</code></a>;</span><span data-idl="" class="idlAttribute" data-title="heading" data-dfn-for="GeolocationCoordinates">
      readonly attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-index-term-double-type-19">double</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-geolocationcoordinates-heading" id="ref-for-dom-geolocationcoordinates-heading-4"><code>heading</code></a>;</span><span data-idl="" class="idlAttribute" data-title="speed" data-dfn-for="GeolocationCoordinates">
      readonly attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-index-term-double-type-20">double</a>?</span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-geolocationcoordinates-speed" id="ref-for-dom-geolocationcoordinates-speed-4"><code>speed</code></a>;</span><span data-idl="" class="idlMethod" data-title="toJSON" data-dfn-for="GeolocationCoordinates">
      [<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Default" id="ref-for-index-term-default-extended-attribute-4">Default</a></span>]<span class="idlType"> <a data-link-type="interface" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-object" id="ref-for-index-term-object-type-4">object</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-geolocationcoordinates-tojson" id="ref-for-dom-geolocationcoordinates-tojson-2"><code>toJSON</code></a>();</span>
    };</span>
    
    <span data-idl="" class="idlInterface" data-title="GeolocationPositionError">[<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-index-term-exposed-extended-attribute-8">Exposed</a>=Window</span>]
    interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-geolocationpositionerror" id="ref-for-dom-geolocationpositionerror-10"><code>GeolocationPositionError</code></a> {<span data-idl="" class="idlConst" data-title="PERMISSION_DENIED" data-dfn-for="GeolocationPositionError">
      const<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short" id="ref-for-index-term-unsigned-short-type-6">unsigned short</a></span> <a class="internalDFN idlName" data-link-type="const" href="#dom-geolocationpositionerror-permission_denied" id="ref-for-dom-geolocationpositionerror-permission_denied-6"><code>PERMISSION_DENIED</code></a> = 1;</span><span data-idl="" class="idlConst" data-title="POSITION_UNAVAILABLE" data-dfn-for="GeolocationPositionError">
      const<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short" id="ref-for-index-term-unsigned-short-type-7">unsigned short</a></span> <a class="internalDFN idlName" data-link-type="const" href="#dom-geolocationpositionerror-position_unavailable" id="ref-for-dom-geolocationpositionerror-position_unavailable-5"><code>POSITION_UNAVAILABLE</code></a> = 2;</span><span data-idl="" class="idlConst" data-title="TIMEOUT" data-dfn-for="GeolocationPositionError">
      const<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short" id="ref-for-index-term-unsigned-short-type-8">unsigned short</a></span> <a class="internalDFN idlName" data-link-type="const" href="#dom-geolocationpositionerror-timeout" id="ref-for-dom-geolocationpositionerror-timeout-3"><code>TIMEOUT</code></a> = 3;</span><span data-idl="" class="idlAttribute" data-title="code" data-dfn-for="GeolocationPositionError">
      readonly attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short" id="ref-for-index-term-unsigned-short-type-9">unsigned short</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-geolocationpositionerror-code" id="ref-for-dom-geolocationpositionerror-code-5"><code>code</code></a>;</span><span data-idl="" class="idlAttribute" data-title="message" data-dfn-for="GeolocationPositionError">
      readonly attribute<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-index-term-domstring-interface-2">DOMString</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-geolocationpositionerror-message" id="ref-for-dom-geolocationpositionerror-message-3"><code>message</code></a>;</span>
    };</span></code></pre>
    </section>
    <section class="appendix" id="index">
        <div class="header-wrapper">
            <h2 id="b-index"><bdi class="secno">B. </bdi>索引</h2><a class="self-link" href="#index"
                aria-label="附录B的永久链接"></a>
        </div>
        <section id="index-defined-here">
            <div class="header-wrapper">
                <h3 id="b-1-terms-defined-by-this-specification"><bdi class="secno">B.1 </bdi>本规范定义的术语</h3><a
                    class="self-link" href="#index-defined-here" aria-label="附录B.1的永久链接"></a>
            </div>

            <ul class="index">
                <li>
                    <a class="index-term" href="#dfn-a-new-geolocationposition">A new GeolocationPosition</a>
                    <span class="print-only">§9.6</span>
                </li>
                <li>
                    <a class="index-term" href="#dom-geolocationcoordinates-accuracy"><code>accuracy</code></a>
                    attribute for <code>GeolocationCoordinates</code>
                    <span class="print-only">§9.1</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-acquire-a-position">acquire a position</a>
                    <span class="print-only">§6.6</span>
                </li>
                <li>
                    <a class="index-term" href="#dom-geolocationcoordinates-altitude"><code>altitude</code></a>
                    attribute for <code>GeolocationCoordinates</code>
                    <span class="print-only">§9.2</span>
                </li>
                <li>
                    <a class="index-term"
                        href="#dom-geolocationcoordinates-altitudeaccuracy"><code>altitudeAccuracy</code></a> attribute
                    for <code>GeolocationCoordinates</code>
                    <span class="print-only">§9.2</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-cachedposition"><code>[[cachedPosition]]</code></a> internal slot
                    for <code>Geolocation</code>
                    <span class="print-only">§6.1</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-call-back-with-error">call back with error</a>
                    <span class="print-only">§6.7</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-checking-permission">checking permission</a>
                    <span class="print-only">§3.4</span>
                </li>
                <li>
                    <a class="index-term" href="#dom-geolocation-clearwatch"><code>clearWatch()</code></a> method for
                    <code>Geolocation</code>
                    <span class="print-only">§6.4</span>
                </li>
                <li>
                    <a class="index-term" href="#dom-geolocationpositionerror-code"><code>code</code></a> attribute for
                    <code>GeolocationPositionError</code>
                    <span class="print-only">§10.2</span>
                </li>
                <li>
                    <a class="index-term" href="#dom-geolocationposition-coords"><code>coords</code></a> attribute for
                    <code>GeolocationPosition</code>
                    <span class="print-only">§8.1</span>
                </li>
                <li>
                    <a class="index-term"
                        href="#dom-positionoptions-enablehighaccuracy"><code>enableHighAccuracy</code></a> member for
                    <code>PositionOptions</code>
                    <span class="print-only">§7.1</span>
                </li>
                <li>
                    <a class="index-term" href="#dom-navigator-geolocation"><code>geolocation</code></a> attribute for
                    <code>Navigator</code>
                    <span class="print-only">§5.</span>
                </li>
                <li>
                    <a class="index-term" href="#dom-geolocation"><code>Geolocation</code></a> interface
                    <span class="print-only">§6.</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-geolocation-task-source">geolocation task source</a>
                    <span class="print-only">§8.5</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-geolocation"><code>"geolocation"</code></a>
                    <span class="print-only">§3.4</span>
                </li>
                <li>
                    <a class="index-term" href="#dom-geolocationcoordinates"><code>GeolocationCoordinates</code></a>
                    interface
                    <span class="print-only">§9.</span>
                </li>
                <li>
                    <a class="index-term" href="#dom-geolocationposition"><code>GeolocationPosition</code></a> interface
                    <span class="print-only">§8.</span>
                </li>
                <li>
                    <a class="index-term" href="#dom-geolocationpositionerror"><code>GeolocationPositionError</code></a>
                    interface
                    <span class="print-only">§10.</span>
                </li>
                <li>
                    <a class="index-term" href="#dom-geolocation-getcurrentposition"><code>getCurrentPosition</code></a>
                    method for <code>Geolocation</code>
                    <span class="print-only">§6.2</span>
                </li>
                <li>
                    <a class="index-term" href="#dom-geolocationcoordinates-heading"><code>heading</code></a> attribute
                    for <code>GeolocationCoordinates</code>
                    <span class="print-only">§9.3</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-ishighaccuracy"><code>[[isHighAccuracy]]</code></a> internal slot
                    for <code>GeolocationPosition</code>
                    <span class="print-only">§8.4</span>
                </li>
                <li>
                    <a class="index-term" href="#dom-geolocationcoordinates-latitude"><code>latitude</code></a>
                    attribute for <code>GeolocationCoordinates</code>
                    <span class="print-only">§9.1</span>
                </li>
                <li>
                    <a class="index-term" href="#dom-geolocationcoordinates-longitude"><code>longitude</code></a>
                    attribute for <code>GeolocationCoordinates</code>
                    <span class="print-only">§9.1</span>
                </li>
                <li>
                    <a class="index-term" href="#dom-positionoptions-maximumage"><code>maximumAge</code></a> member for
                    <code>PositionOptions</code>
                    <span class="print-only">§7.3</span>
                </li>
                <li>
                    <a class="index-term" href="#dom-geolocationpositionerror-message"><code>message</code></a>
                    attribute for <code>GeolocationPositionError</code>
                    <span class="print-only">§10.3</span>
                </li>
                <li>
                    <a class="index-term"
                        href="#dom-geolocationpositionerror-permission_denied"><code>PERMISSION_DENIED</code></a>
                    <span class="print-only">§10.1</span>
                </li>
                <li>
                    <a class="index-term"
                        href="#dom-geolocationpositionerror-position_unavailable"><code>POSITION_UNAVAILABLE</code></a>
                    <span class="print-only">§10.1</span>
                </li>
                <li>
                    <a class="index-term" href="#dom-positioncallback"><code>PositionCallback</code></a>
                    <span class="print-only">§6.</span>
                </li>
                <li>
                    <a class="index-term" href="#dom-positionerrorcallback"><code>PositionErrorCallback</code></a>
                    <span class="print-only">§6.</span>
                </li>
                <li>
                    <a class="index-term" href="#dom-positionoptions"><code>PositionOptions</code></a> 字典
                    <span class="print-only">§7.</span>
                </li>
                <li>
                    <a class="index-term" href="#dfn-request-a-position">request a position</a>
                    <span class="print-only">§6.5</span>
                </li>
                <li>
                    <a class="index-term" href="#dom-geolocationcoordinates-speed"><code>speed</code></a> attribute for
                    <code>GeolocationCoordinates</code>
                    <span class="print-only">§9.4</span>
                </li>
                <li>
                    <a class="index-term" href="#dom-positionoptions-timeout"><code>timeout</code></a> member for
                    <code>PositionOptions</code>
                    <span class="print-only">§7.2</span>
                </li>
                <li>
                    <a class="index-term" href="#dom-geolocationpositionerror-timeout"><code>TIMEOUT</code></a>
                    <span class="print-only">§10.1</span>
                </li>
                <li>
                    <a class="index-term" href="#dom-geolocationposition-timestamp"><code>timestamp</code></a> attribute
                    for <code>GeolocationPosition</code>
                    <span class="print-only">§8.2</span>
                </li>
                <li>
                    toJSON()
                    <ul>
                        <li>
                            <a class="index-term" href="#dom-geolocationposition-tojson">method for
                                <code>GeolocationPosition</code></a>
                            <span class="print-only">§8.3</span>
                        </li>
                        <li>
                            <a class="index-term" href="#dom-geolocationcoordinates-tojson">method for
                                <code>GeolocationCoordinates</code></a>
                            <span class="print-only">§9.5</span>
                        </li>
                    </ul>
                </li>
                <li>
                    <a class="index-term" href="#dfn-watchids"><code>[[watchIDs]]</code></a> internal slot for
                    <code>Geolocation</code>
                    <span class="print-only">§6.1</span>
                </li>
                <li>
                    <a class="index-term" href="#dom-geolocation-watchposition"><code>watchPosition</code></a> method
                    for <code>Geolocation</code>
                    <span class="print-only">§6.3</span>
                </li>
            </ul>
        </section>
        <section id="index-defined-elsewhere">
            <div class="header-wrapper">
                <h3 id="b-2-terms-defined-by-reference"><bdi class="secno">B.2 </bdi>通过引用定义的术语</h3><a class="self-link"
                    href="#index-defined-elsewhere" aria-label="附录B.2的永久链接"></a>
            </div>

            <ul class="index">
                <li>
                    [<cite><a class="bibref" data-link-type="biblio" href="#bib-hr-time">HR-TIME</a></cite>] 定义以下内容：
                    <ul>
                        <li>
                            <span class="index-term" data-href="https://www.w3.org/TR/hr-time-3/#dom-epochtimestamp"
                                id="index-term-epochtimestamp" tabindex="0"
                                aria-haspopup="dialog"><code>EpochTimeStamp</code></span>
                        </li>
                    </ul>
                </li>
                <li>
                    [<cite><a class="bibref" data-link-type="biblio" href="#bib-html">HTML</a></cite>] 定义以下内容：
                    <ul>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-allow"
                                id="index-term-allow-attribute-for-iframe-element" tabindex="0"
                                aria-haspopup="dialog"><code>allow</code> 属性（用于 <code>iframe</code> 元素）</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use"
                                id="index-term-allowed-to-use" tabindex="0" aria-haspopup="dialog">允许使用</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window"
                                id="index-term-associated-document" tabindex="0" aria-haspopup="dialog">关联文档</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/webappapis.html#current-settings-object"
                                id="index-term-current-settings-object" tabindex="0"
                                aria-haspopup="dialog">当前设置对象</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                                id="index-term-environment-settings-object" tabindex="0"
                                aria-haspopup="dialog">环境设置对象</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active"
                                id="index-term-fully-active-for-document" tabindex="0" aria-haspopup="dialog">完全激活（对于
                                <code>Document</code>）</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element"
                                id="index-term-iframe-element" tabindex="0" aria-haspopup="dialog"><code>iframe</code>
                                元素</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                                id="index-term-in-parallel" tabindex="0" aria-haspopup="dialog">并行</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate"
                                id="index-term-navigates" tabindex="0" aria-haspopup="dialog">导航</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/system-state.html#navigator"
                                id="index-term-navigator-interface" tabindex="0"
                                aria-haspopup="dialog"><code>Navigator</code> 接口</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/webappapis.html#non-secure-context"
                                id="index-term-non-secure-contexts" tabindex="0" aria-haspopup="dialog">非安全上下文</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin"
                                id="index-term-origin" tabindex="0" aria-haspopup="dialog">来源</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/interaction.html#page-visibility-change-steps"
                                id="index-term-page-visibility-change-steps" tabindex="0"
                                aria-haspopup="dialog">页面可见性更改步骤</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                                id="index-term-queue-a-task" tabindex="0" aria-haspopup="dialog">排队任务</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object's-realm"
                                id="index-term-realm-for-environment-settings-object" tabindex="0"
                                aria-haspopup="dialog">realm（对于环境设置对象）</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                                id="index-term-relevant-global-object" tabindex="0" aria-haspopup="dialog">相关全局对象</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source"
                                id="index-term-task-source" tabindex="0" aria-haspopup="dialog">任务源</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://html.spec.whatwg.org/multipage/interaction.html#visibility-state"
                                id="index-term-visibility-state-for-document" tabindex="0"
                                aria-haspopup="dialog">可见状态（对于 <code>Document</code>）</span>
                        </li>
                    </ul>
                </li>
                <li>
                    [<cite><a class="bibref" data-link-type="biblio" href="#bib-infra">INFRA</a></cite>] 定义以下内容：
                    <ul>
                        <li>
                            <span class="index-term" data-href="https://infra.spec.whatwg.org/#list-append"
                                id="index-term-append-for-list" tabindex="0" aria-haspopup="dialog">附加（对于
                                <code>list</code>）</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://infra.spec.whatwg.org/#list-contain"
                                id="index-term-contains-for-list" tabindex="0" aria-haspopup="dialog">包含（对于
                                <code>list</code>）</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://infra.spec.whatwg.org/#map-iterate"
                                id="index-term-for-each-for-map" tabindex="0" aria-haspopup="dialog">每个（对于
                                <code>map</code>）</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://infra.spec.whatwg.org/#implementation-defined"
                                id="index-term-implementation-defined" tabindex="0" aria-haspopup="dialog">实现定义的</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://infra.spec.whatwg.org/#list-item"
                                id="index-term-item-for-list" tabindex="0" aria-haspopup="dialog">项（对于
                                <code>list</code>）</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://infra.spec.whatwg.org/#list"
                                id="index-term-list" tabindex="0" aria-haspopup="dialog">列表</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://infra.spec.whatwg.org/#ordered-map"
                                id="index-term-map" tabindex="0" aria-haspopup="dialog">映射</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://infra.spec.whatwg.org/#list-remove"
                                id="index-term-remove-for-list" tabindex="0" aria-haspopup="dialog">移除（对于
                                <code>list</code>）</span>
                        </li>
                    </ul>
                </li>
                <li>
                    [<cite><a class="bibref" data-link-type="biblio" href="#bib-permissions">PERMISSIONS</a></cite>]
                    定义以下内容：
                    <ul>
                        <li>
                            <span class="index-term"
                                data-href="https://www.w3.org/TR/permissions/#dfn-default-powerful-feature"
                                id="index-term-default-powerful-feature" tabindex="0"
                                aria-haspopup="dialog">默认强大功能</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://www.w3.org/TR/permissions/#dfn-express-permission"
                                id="index-term-express-permission" tabindex="0" aria-haspopup="dialog">明确权限</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://www.w3.org/TR/permissions/#dfn-getting-the-current-permission-state"
                                id="index-term-get-the-current-permission-state" tabindex="0"
                                aria-haspopup="dialog">获取当前权限状态</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://www.w3.org/TR/permissions/#dfn-granted"
                                id="index-term-grants-for-permission" tabindex="0" aria-haspopup="dialog">授予（用于
                                <code>permission</code>）</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://www.w3.org/TR/permissions/#dfn-lifetime"
                                id="index-term-lifetimes-for-permission" tabindex="0" aria-haspopup="dialog">生命周期（用于
                                <code>permission</code>）</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://www.w3.org/TR/permissions/#dfn-name"
                                id="index-term-name-for-powerful-feature" tabindex="0"
                                aria-haspopup="dialog">名称（用于强大功能）</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://www.w3.org/TR/permissions/#dom-permissiondescriptor-name"
                                id="index-term-name-for-permissiondescriptor" tabindex="0"
                                aria-haspopup="dialog"><code>name</code>（用于 <code>PermissionDescriptor</code>）</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://www.w3.org/TR/permissions/#dfn-permission"
                                id="index-term-permission" tabindex="0" aria-haspopup="dialog">权限</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://www.w3.org/TR/permissions/#dfn-permission-state"
                                id="index-term-permission-state" tabindex="0" aria-haspopup="dialog">权限状态</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://www.w3.org/TR/permissions/#dom-permissiondescriptor"
                                id="index-term-permissiondescriptor" tabindex="0"
                                aria-haspopup="dialog"><code>PermissionDescriptor</code></span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://www.w3.org/TR/permissions/#dfn-powerful-feature"
                                id="index-term-powerful-feature" tabindex="0" aria-haspopup="dialog">强大功能</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://www.w3.org/TR/permissions/#dfn-request-permission-to-use"
                                id="index-term-request-permission-to-use" tabindex="0"
                                aria-haspopup="dialog">请求使用权限</span>
                        </li>
                    </ul>
                </li>
                <li>
                    [<cite><a class="bibref" data-link-type="biblio"
                            href="#bib-permissions-policy">PERMISSIONS-POLICY</a></cite>] 定义以下内容：
                    <ul>
                        <li>
                            <span class="index-term"
                                data-href="https://www.w3.org/TR/permissions-policy-1/#default-allowlist-self"
                                id="index-term-self-for-default-allowlist" tabindex="0"
                                aria-haspopup="dialog">'self'（用于默认允许列表）</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature-default-allowlist"
                                id="index-term-default-allowlist-for-policy-controlled-feature" tabindex="0"
                                aria-haspopup="dialog">默认允许列表（用于策略控制的功能）</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature"
                                id="index-term-policy-controlled-feature" tabindex="0"
                                aria-haspopup="dialog">策略控制的功能</span>
                        </li>
                    </ul>
                </li>
                <li>
                    [<cite><a class="bibref" data-link-type="biblio" href="#bib-webidl">WEBIDL</a></cite>] 定义以下内容：
                    <ul>
                        <li>
                            <span class="index-term" data-href="https://webidl.spec.whatwg.org/#idl-boolean"
                                id="index-term-boolean-type" tabindex="0" aria-haspopup="dialog"><code>boolean</code>
                                类型</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://webidl.spec.whatwg.org/#Clamp"
                                id="index-term-clamp-extended-attribute" tabindex="0"
                                aria-haspopup="dialog"><code>[Clamp]</code> 扩展属性</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://webidl.spec.whatwg.org/#Default"
                                id="index-term-default-extended-attribute" tabindex="0"
                                aria-haspopup="dialog"><code>[Default]</code> 扩展属性</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://webidl.spec.whatwg.org/#idl-DOMString"
                                id="index-term-domstring-interface" tabindex="0"
                                aria-haspopup="dialog"><code>DOMString</code> 接口</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://webidl.spec.whatwg.org/#idl-double"
                                id="index-term-double-type" tabindex="0" aria-haspopup="dialog"><code>double</code>
                                类型</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://webidl.spec.whatwg.org/#Exposed"
                                id="index-term-exposed-extended-attribute" tabindex="0"
                                aria-haspopup="dialog"><code>[Exposed]</code> 扩展属性</span>
                        </li>
                        <li>
                            <span class="index-term"
                                data-href="https://webidl.spec.whatwg.org/#invoke-a-callback-function"
                                id="index-term-invokes" tabindex="0" aria-haspopup="dialog">调用</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://webidl.spec.whatwg.org/#idl-long"
                                id="index-term-long-type" tabindex="0" aria-haspopup="dialog"><code>long</code>
                                类型</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://webidl.spec.whatwg.org/#idl-object"
                                id="index-term-object-type" tabindex="0" aria-haspopup="dialog"><code>object</code>
                                类型</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://webidl.spec.whatwg.org/#SameObject"
                                id="index-term-sameobject-extended-attribute" tabindex="0"
                                aria-haspopup="dialog"><code>[SameObject]</code> 扩展属性</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://webidl.spec.whatwg.org/#SecureContext"
                                id="index-term-securecontext-extended-attribute" tabindex="0"
                                aria-haspopup="dialog"><code>[SecureContext]</code> 扩展属性</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://webidl.spec.whatwg.org/#this"
                                id="index-term-this" tabindex="0" aria-haspopup="dialog">this</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://webidl.spec.whatwg.org/#idl-undefined"
                                id="index-term-undefined-type" tabindex="0"
                                aria-haspopup="dialog"><code>undefined</code> 类型</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://webidl.spec.whatwg.org/#idl-unsigned-long"
                                id="index-term-unsigned-long-type" tabindex="0"
                                aria-haspopup="dialog"><code>unsigned long</code> 类型</span>
                        </li>
                        <li>
                            <span class="index-term" data-href="https://webidl.spec.whatwg.org/#idl-unsigned-short"
                                id="index-term-unsigned-short-type" tabindex="0"
                                aria-haspopup="dialog"><code>unsigned short</code> 类型</span>
                        </li>
                    </ul>
                </li>
            </ul>
        </section>
    </section>
    <section class="appendix informative" id="acknowledgments">
        <div class="header-wrapper">
            <h2 id="c-acknowledgments"><bdi class="secno">C. </bdi> 致谢</h2><a class="self-link" href="#acknowledgments"
                aria-label="Permalink for Appendix C."></a>
        </div>
        <p><em>本节为非规范性内容。</em></p>

        <p>
            本规范基于行业内的早期工作，包括Aza Raskin的研究、Google Gears地理定位API和LocationAware.org。
        </p>
        <p>
            还要感谢Alec Berntson、Alissa Cooper、Steve Block、Greg Bolsinga、Lars Erik Bolstad、Aaron Boodman、Dave Burke、Chris
            Butler、Max Froumentin、Shyam Habarakada、Marcin Hanclik、Ian Hickson、Brad Lassey、Angel Machin、Cameron
            McCormack、Daniel Park、Stuart Parmenter、Olli Pettay、Chris Prince、Arun Ranganathan、Carl Reed、Thomas
            Roessler、Dirk Segers、Allan Thomson、Martin Thomson、Doug Turner、Erik Wilde、Matt Womer和Mohamed Zergaoui。
        </p>
    </section>

    <section class="informative" id="changelog">
        <div class="header-wrapper">
            <h2 id="d-change-log"><bdi class="secno">D. </bdi> 更新日志</h2><a class="self-link" href="#changelog"
                aria-label="Permalink for Section D."></a>
        </div>
        <p><em>本节为非规范性内容。</em></p>

        <p>
            自2021年首次公开工作草案以来，<cite>地理定位</cite>已进行以下规范性更改：
        </p>
        <rs-changelog from="FPWD" filter="removeCommits">
            <ul>
                <li><a href="https://github.com/w3c/geolocation/commit/9d5829e">修正：在静止时使用null代替NaN</a> (<a
                        href="https://github.com/w3c/geolocation/pull/173">#173</a>)</li>
                <li><a href="https://github.com/w3c/geolocation/commit/22ed7a4">修正：更新获取算法，定义数据类型和处理…</a></li>
                <li><a href="https://github.com/w3c/geolocation/commit/a30d713">增加：定义精度单位</a> (<a
                        href="https://github.com/w3c/geolocation/pull/162">#162</a>)</li>
                <li><a href="https://github.com/w3c/geolocation/commit/c2fdd74">修正：检查非安全上下文</a> (<a
                        href="https://github.com/w3c/geolocation/pull/157">#157</a>)</li>
                <li><a href="https://github.com/w3c/geolocation/commit/09b48e6">增加：暴露 .toJSON() 在 GeolocationCoordinates
                        + GeolocationPos…</a></li>
                <li><a href="https://github.com/w3c/geolocation/commit/74b1dd0">修正：澄清纬度的单位和参考地理系统 …</a></li>
                <li><a href="https://github.com/w3c/geolocation/commit/f8b930f">增加 webapps 作为组</a> (<a
                        href="https://github.com/w3c/geolocation/pull/144">#144</a>)</li>
                <li><a href="https://github.com/w3c/geolocation/commit/7082b4e">修正引用“默认允许列表”</a> (<a
                        href="https://github.com/w3c/geolocation/pull/133">#133</a>)</li>
                <li><a href="https://github.com/w3c/geolocation/commit/514f15b">修正“排队任务”/“并行”使用</a> (<a
                        href="https://github.com/w3c/geolocation/pull/118">#118</a>)</li>
                <li><a href="https://github.com/w3c/geolocation/commit/a1531cb">建议权限生命周期</a> (<a
                        href="https://github.com/w3c/geolocation/pull/108">#108</a>)</li>
                <li><a href="https://github.com/w3c/geolocation/commit/0c378d9">处理操作系统级别的权限变更</a> (<a
                        href="https://github.com/w3c/geolocation/pull/109">#109</a>)</li>
                <li><a href="https://github.com/w3c/geolocation/commit/2a116d7">将DOMTimeStamp更改为EpochTimeStamp</a> (<a
                        href="https://github.com/w3c/geolocation/pull/104">#104</a>)</li>
                <li><a href="https://github.com/w3c/geolocation/commit/2c0c516">当 watchPosition() 出错时返回0</a> (<a
                        href="https://github.com/w3c/geolocation/pull/100">#100</a>)</li>
                <li><a href="https://github.com/w3c/geolocation/commit/de05002">如果文档未完全激活，则回调错误</a> (<a
                        href="https://github.com/w3c/geolocation/pull/97">#97</a>)</li>
                <li><a href="https://github.com/w3c/geolocation/commit/f4605e5">优雅地处理未完全激活的文档</a> (<a
                        href="https://github.com/w3c/geolocation/pull/90">#90</a>)</li>
                <li><a href="https://github.com/w3c/geolocation/commit/41d7945">增加“地理定位任务队列”</a> (<a
                        href="https://github.com/w3c/geolocation/pull/87">#87</a>)</li>
            </ul>
        </rs-changelog>
        <p>
            自2016年第二版发布以来，本规范已进行以下实质性更改：
        </p>
        <ul>
            <li><a data-link-type="dfn|abstract-op" href="#dfn-request-a-position" class="internalDFN"
                    id="ref-for-dfn-request-a-position-5">请求位置</a> 仅在文档可见时才继续，或文档变为可见时继续。
            </li>
            <li>澄清了如何作为获取位置的一部分进行缓存：仅缓存最后位置，且随时可以驱逐。</li>
            <li>现在依赖于 <cite><a data-matched-text="[[[Permissions]]]"
                        href="https://www.w3.org/TR/permissions/">权限</a></cite> 规范来处理权限授予和用户界面要求。</li>
            <li><code>errorCallback</code> 现在可以为空。</li>
            <li>该API现在可以通过 <cite><a data-matched-text="[[[Permissions-Policy]]]"
                        href="https://www.w3.org/TR/permissions-policy-1/">权限策略</a></cite> 来控制，限制API如何/在哪里暴露给网页。</li>
            <li><code>callbacks</code> 不再作为“事件处理程序”对象处理（即，不再是具有 <code>.handleEvent()</code> 方法的对象），而是作为IDL回调函数处理。</li>
            <li>该API现在仅在安全上下文中暴露（即仅在HTTPS中可用）。</li>
            <li>接口不再使用 [<cite><a class="bibref" data-link-type="biblio" href="#bib-webidl"
                        title="Web IDL标准">WebIDL</a></cite>] 的传统 <code>[NoInterfaceObject]</code>，因此
                <code>Geolocation</code> 和本规范中的其他接口现在位于全局作用域中。此外，接口名称从 <code>NavigatorGeolocation*</code> 更改为仅
                <code>Geolocation*</code>。
            </li>
        </ul>
        <p>
            查看 <a href="https://github.com/w3c/geolocation/commits/gh-pages">提交历史</a> 获取完整的更改列表。
        </p>
    </section>

    <section id="references" class="appendix">
        <div class="header-wrapper">
            <h2 id="e-references"><bdi class="secno">E. </bdi>参考文献</h2><a class="self-link" href="#references"
                aria-label="Permalink for Appendix E."></a>
        </div>
        <section id="normative-references">
            <div class="header-wrapper">
                <h3 id="e-1-normative-references"><bdi class="secno">E.1 </bdi>规范性参考文献</h3><a class="self-link"
                    href="#normative-references" aria-label="Permalink for Appendix E.1"></a>
            </div>

            <dl class="bibliography">
                <dt id="bib-hr-time">[hr-time]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/hr-time-3/"><cite>高分辨率时间</cite></a>。Yoav
                    Weiss。W3C。2023年7月19日。W3C工作草案。URL: <a
                        href="https://www.w3.org/TR/hr-time-3/">https://www.w3.org/TR/hr-time-3/</a>
                </dd>
                <dt id="bib-html">[html]</dt>
                <dd>
                    <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML标准</cite></a>。Anne van Kesteren；Domenic
                    Denicola；Ian Hickson；Philip Jägenstedt；Simon Pieters。WHATWG。Living Standard。URL: <a
                        href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
                </dd>
                <dt id="bib-infra">[infra]</dt>
                <dd>
                    <a href="https://infra.spec.whatwg.org/"><cite>Infra标准</cite></a>。Anne van Kesteren；Domenic
                    Denicola。WHATWG。Living Standard。URL: <a
                        href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-permissions">[Permissions]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/permissions/"><cite>权限</cite></a>。Marcos Caceres；Mike
                    Taylor。W3C。2024年3月19日。W3C工作草案。URL: <a
                        href="https://www.w3.org/TR/permissions/">https://www.w3.org/TR/permissions/</a>
                </dd>
                <dt id="bib-permissions-policy">[permissions-policy]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/permissions-policy-1/"><cite>权限政策</cite></a>。Ian
                    Clelland。W3C。2024年7月24日。W3C工作草案。URL: <a
                        href="https://www.w3.org/TR/permissions-policy-1/">https://www.w3.org/TR/permissions-policy-1/</a>
                </dd>
                <dt id="bib-rfc2119">[RFC2119]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc2119"><cite>RFC中指示要求级别的关键词</cite></a>。S.
                    Bradner。IETF。1997年3月。最佳当前实践。URL: <a
                        href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>
                </dd>
                <dt id="bib-rfc8174">[RFC8174]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc8174"><cite>RFC2119关键词的大小写歧义</cite></a>。B.
                    Leiba。IETF。2017年5月。最佳当前实践。URL: <a
                        href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>
                </dd>
                <dt id="bib-webidl">[webidl]</dt>
                <dd>
                    <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL标准</cite></a>。Edgar Chen；Timothy
                    Gu。WHATWG。Living Standard。URL: <a
                        href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-wgs84">[WGS84]</dt>
                <dd>
                    <a href="https://earth-info.nga.mil/index.php?dir=wgs84&amp;action=wgs84"><cite>1984年世界大地坐标系统（WGS
                            84）</cite></a>。国家地理空间情报局（Office of Geomatics）。2008年。URL: <a
                        href="https://earth-info.nga.mil/index.php?dir=wgs84&amp;action=wgs84">https://earth-info.nga.mil/index.php?dir=wgs84&amp;action=wgs84</a>
                </dd>
            </dl>
        </section>
    </section>
    <p role="navigation" id="back-to-top">
        <a href="#title"><abbr title="Back to Top">↑</abbr></a>
    </p>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-geolocation"
        aria-label="Links in this document to definition: &quot;geolocation&quot;">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-geolocation"
                aria-label="Permalink for definition: &quot;geolocation&quot;. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-geolocation-1" title="§ 6.5 Request a position">§ 6.5 Request a position</a>
            </li>
            <li>
                <a href="#ref-for-dfn-geolocation-2" title="§ 6.6 Acquire a position">§ 6.6 Acquire a position</a>
            </li>
            <li>
                <a href="#ref-for-dfn-geolocation-3" title="§ 11. Permissions policy">§ 11. Permissions policy</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-checking-permission"
        aria-label="Links in this document to definition: checking permission">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-checking-permission"
                aria-label="Permalink for definition: checking permission. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-checking-permission-1" title="§ 1. Introduction">§ 1. Introduction</a>
            </li>
            <li>
                <a href="#ref-for-dfn-checking-permission-2" title="§ 3.1 User consent">§ 3.1 User consent</a>
            </li>
            <li>
                <a href="#ref-for-dfn-checking-permission-3" title="§ 7.2 timeout member">§ 7.2 timeout member</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-navigator-geolocation"
        aria-label="Links in this document to definition: geolocation">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-navigator-geolocation"
                aria-label="Permalink for definition: geolocation. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-geolocation"
        aria-label="Links in this document to definition: Geolocation">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-geolocation"
                aria-label="Permalink for definition: Geolocation. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-geolocation-1" title="§ 5. Extensions to the Navigator interface">§ 5. Extensions
                    to the Navigator interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocation-2" title="§ 6.1 Internal slots">§ 6.1 Internal slots</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocation-3" title="§ 6.5 Request a position">§ 6.5 Request a position</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocation-4" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-positioncallback"
        aria-label="Links in this document to definition: PositionCallback">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-positioncallback"
                aria-label="Permalink for definition: PositionCallback. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-positioncallback-1" title="§ 6. Geolocation interface and callbacks">§ 6.
                    Geolocation interface and callbacks</a> <a href="#ref-for-dom-positioncallback-2"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-positioncallback-3" title="§ 6.5 Request a position">§ 6.5 Request a position</a>
            </li>
            <li>
                <a href="#ref-for-dom-positioncallback-4" title="§ 6.6 Acquire a position">§ 6.6 Acquire a position</a>
            </li>
            <li>
                <a href="#ref-for-dom-positioncallback-5" title="§ 8.5 Task sources">§ 8.5 Task sources</a>
            </li>
            <li>
                <a href="#ref-for-dom-positioncallback-6" title="§ A. IDL Index">§ A. IDL Index</a> <a
                    href="#ref-for-dom-positioncallback-7" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-positionerrorcallback"
        aria-label="Links in this document to definition: PositionErrorCallback">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-positionerrorcallback"
                aria-label="Permalink for definition: PositionErrorCallback. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-positionerrorcallback-1" title="§ 6. Geolocation interface and callbacks">§ 6.
                    Geolocation interface and callbacks</a> <a href="#ref-for-dom-positionerrorcallback-2"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-positionerrorcallback-3" title="§ 6.5 Request a position">§ 6.5 Request a
                    position</a>
            </li>
            <li>
                <a href="#ref-for-dom-positionerrorcallback-4" title="§ 6.6 Acquire a position">§ 6.6 Acquire a
                    position</a>
            </li>
            <li>
                <a href="#ref-for-dom-positionerrorcallback-5" title="§ 6.7 Call back with error">§ 6.7 Call back with
                    error</a>
            </li>
            <li>
                <a href="#ref-for-dom-positionerrorcallback-6" title="§ 8.5 Task sources">§ 8.5 Task sources</a>
            </li>
            <li>
                <a href="#ref-for-dom-positionerrorcallback-7" title="§ A. IDL Index">§ A. IDL Index</a> <a
                    href="#ref-for-dom-positionerrorcallback-8" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-cachedposition"
        aria-label="Links in this document to definition: [[cachedPosition]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-cachedposition"
                aria-label="Permalink for definition: [[cachedPosition]]. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-cachedposition-1" title="§ 6.1 Internal slots">§ 6.1 Internal slots</a>
            </li>
            <li>
                <a href="#ref-for-dfn-cachedposition-2" title="§ 6.6 Acquire a position">§ 6.6 Acquire a position</a> <a
                    href="#ref-for-dfn-cachedposition-3" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-cachedposition-4" title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-watchids"
        aria-label="Links in this document to definition: [[watchIDs]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-watchids"
                aria-label="Permalink for definition: [[watchIDs]]. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-watchids-1" title="§ 6.3 watchPosition() method">§ 6.3 watchPosition() method</a>
            </li>
            <li>
                <a href="#ref-for-dfn-watchids-2" title="§ 6.4 clearWatch() method">§ 6.4 clearWatch() method</a>
            </li>
            <li>
                <a href="#ref-for-dfn-watchids-3" title="§ 6.5 Request a position">§ 6.5 Request a position</a>
            </li>
            <li>
                <a href="#ref-for-dfn-watchids-4" title="§ 6.6 Acquire a position">§ 6.6 Acquire a position</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-geolocation-getcurrentposition"
        aria-label="Links in this document to definition: getCurrentPosition">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-geolocation-getcurrentposition"
                aria-label="Permalink for definition: getCurrentPosition. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-212590439">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-geolocation-getcurrentposition-1" title="§ 1. Introduction">§ 1. Introduction</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocation-getcurrentposition-2" title="§ 2.4 Handling errors">§ 2.4 Handling
                    errors</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocation-getcurrentposition-3" title="§ 3.1 User consent">§ 3.1 User
                    consent</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocation-getcurrentposition-4"
                    title="§ 6. Geolocation interface and callbacks">§ 6. Geolocation interface and callbacks</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocation-getcurrentposition-5" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-geolocation-watchposition"
        aria-label="Links in this document to definition: watchPosition">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-geolocation-watchposition"
                aria-label="Permalink for definition: watchPosition. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-212590439">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-geolocation-watchposition-1" title="§ 1. Introduction">§ 1. Introduction</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocation-watchposition-2" title="§ 2.4 Handling errors">§ 2.4 Handling
                    errors</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocation-watchposition-3" title="§ 3.1 User consent">§ 3.1 User consent</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocation-watchposition-4" title="§ 6. Geolocation interface and callbacks">§ 6.
                    Geolocation interface and callbacks</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocation-watchposition-5" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-geolocation-clearwatch"
        aria-label="Links in this document to definition: clearWatch()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-geolocation-clearwatch"
                aria-label="Permalink for definition: clearWatch(). Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-212590439">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-geolocation-clearwatch-1" title="§ 2.3 Stop watching a position">§ 2.3 Stop
                    watching a position</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocation-clearwatch-2" title="§ 6. Geolocation interface and callbacks">§ 6.
                    Geolocation interface and callbacks</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocation-clearwatch-3" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-request-a-position"
        aria-label="Links in this document to definition: request a position">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-request-a-position"
                aria-label="Permalink for definition: request a position. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-request-a-position-1" title="§ 6.2 getCurrentPosition() method">§ 6.2
                    getCurrentPosition() method</a>
            </li>
            <li>
                <a href="#ref-for-dfn-request-a-position-2" title="§ 6.3 watchPosition() method">§ 6.3 watchPosition()
                    method</a>
            </li>
            <li>
                <a href="#ref-for-dfn-request-a-position-3" title="§ 8.5 Task sources">§ 8.5 Task sources</a>
            </li>
            <li>
                <a href="#ref-for-dfn-request-a-position-4" title="§ 10.1 Constants">§ 10.1 Constants</a>
            </li>
            <li>
                <a href="#ref-for-dfn-request-a-position-5" title="§ D. Change log">§ D. Change log</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-acquire-a-position"
        aria-label="Links in this document to definition: acquire a position">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-acquire-a-position"
                aria-label="Permalink for definition: acquire a position. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-acquire-a-position-1" title="§ 1. Introduction">§ 1. Introduction</a>
            </li>
            <li>
                <a href="#ref-for-dfn-acquire-a-position-2" title="§ 2.6 Using timeout">§ 2.6 Using timeout</a>
            </li>
            <li>
                <a href="#ref-for-dfn-acquire-a-position-3" title="§ 6.5 Request a position">§ 6.5 Request a
                    position</a> <a href="#ref-for-dfn-acquire-a-position-4" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-acquire-a-position-5" title="§ 7.2 timeout member">§ 7.2 timeout member</a> <a
                    href="#ref-for-dfn-acquire-a-position-6" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-acquire-a-position-7" title="§ 10.1 Constants">§ 10.1 Constants</a> <a
                    href="#ref-for-dfn-acquire-a-position-8" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-acquire-a-position-9" title="§ D. Change log">§ D. Change log</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-call-back-with-error"
        aria-label="Links in this document to definition: call back with error">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-call-back-with-error"
                aria-label="Permalink for definition: call back with error. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-call-back-with-error-1" title="§ 6.2 getCurrentPosition() method">§ 6.2
                    getCurrentPosition() method</a>
            </li>
            <li>
                <a href="#ref-for-dfn-call-back-with-error-2" title="§ 6.3 watchPosition() method">§ 6.3 watchPosition()
                    method</a>
            </li>
            <li>
                <a href="#ref-for-dfn-call-back-with-error-3" title="§ 6.5 Request a position">§ 6.5 Request a
                    position</a> <a href="#ref-for-dfn-call-back-with-error-4" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-call-back-with-error-5" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-call-back-with-error-6" title="§ 6.6 Acquire a position">§ 6.6 Acquire a
                    position</a> <a href="#ref-for-dfn-call-back-with-error-7" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-call-back-with-error-8" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-call-back-with-error-9" title="§ 10.2 code attribute">§ 10.2 code attribute</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-positionoptions"
        aria-label="Links in this document to definition: PositionOptions">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-positionoptions"
                aria-label="Permalink for definition: PositionOptions. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1341144555">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-positionoptions-1" title="§ 1. Introduction">§ 1. Introduction</a>
            </li>
            <li>
                <a href="#ref-for-dom-positionoptions-2" title="§ 2.6 Using timeout">§ 2.6 Using timeout</a>
            </li>
            <li>
                <a href="#ref-for-dom-positionoptions-3" title="§ 6. Geolocation interface and callbacks">§ 6.
                    Geolocation interface and callbacks</a> <a href="#ref-for-dom-positionoptions-4"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-positionoptions-5" title="§ 6.5 Request a position">§ 6.5 Request a position</a>
            </li>
            <li>
                <a href="#ref-for-dom-positionoptions-6" title="§ 6.6 Acquire a position">§ 6.6 Acquire a position</a>
            </li>
            <li>
                <a href="#ref-for-dom-positionoptions-7" title="§ 7. PositionOptions dictionary">§ 7. PositionOptions
                    dictionary</a>
            </li>
            <li>
                <a href="#ref-for-dom-positionoptions-8" title="§ A. IDL Index">§ A. IDL Index</a> <a
                    href="#ref-for-dom-positionoptions-9" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-positionoptions-10" title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-positionoptions-enablehighaccuracy"
        aria-label="Links in this document to definition: enableHighAccuracy">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-positionoptions-enablehighaccuracy"
                aria-label="Permalink for definition: enableHighAccuracy. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1341144555">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-positionoptions-enablehighaccuracy-1" title="§ 1. Introduction">§ 1.
                    Introduction</a>
            </li>
            <li>
                <a href="#ref-for-dom-positionoptions-enablehighaccuracy-2" title="§ 6.6 Acquire a position">§ 6.6
                    Acquire a position</a> <a href="#ref-for-dom-positionoptions-enablehighaccuracy-3"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-positionoptions-enablehighaccuracy-4"
                    title="Reference 3">(3)</a> <a href="#ref-for-dom-positionoptions-enablehighaccuracy-5"
                    title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dom-positionoptions-enablehighaccuracy-6" title="§ 7. PositionOptions dictionary">§ 7.
                    PositionOptions dictionary</a>
            </li>
            <li>
                <a href="#ref-for-dom-positionoptions-enablehighaccuracy-7" title="§ 8.4 Internal slots">§ 8.4 Internal
                    slots</a>
            </li>
            <li>
                <a href="#ref-for-dom-positionoptions-enablehighaccuracy-8" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-positionoptions-timeout"
        aria-label="Links in this document to definition: timeout">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-positionoptions-timeout"
                aria-label="Permalink for definition: timeout. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1341144555">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-positionoptions-timeout-1" title="§ 2.6 Using timeout">§ 2.6 Using timeout</a>
            </li>
            <li>
                <a href="#ref-for-dom-positionoptions-timeout-2" title="§ 6.6 Acquire a position">§ 6.6 Acquire a
                    position</a>
            </li>
            <li>
                <a href="#ref-for-dom-positionoptions-timeout-3" title="§ 7. PositionOptions dictionary">§ 7.
                    PositionOptions dictionary</a>
            </li>
            <li>
                <a href="#ref-for-dom-positionoptions-timeout-4" title="§ 7.2 timeout member">§ 7.2 timeout member</a>
                <a href="#ref-for-dom-positionoptions-timeout-5" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-positionoptions-timeout-6" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-positionoptions-timeout-7" title="§ 10.1 Constants">§ 10.1 Constants</a>
            </li>
            <li>
                <a href="#ref-for-dom-positionoptions-timeout-8" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-positionoptions-maximumage"
        aria-label="Links in this document to definition: maximumAge">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-positionoptions-maximumage"
                aria-label="Permalink for definition: maximumAge. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1341144555">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-positionoptions-maximumage-1" title="§ 1. Introduction">§ 1. Introduction</a>
            </li>
            <li>
                <a href="#ref-for-dom-positionoptions-maximumage-2" title="§ 6.6 Acquire a position">§ 6.6 Acquire a
                    position</a> <a href="#ref-for-dom-positionoptions-maximumage-3" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-positionoptions-maximumage-4" title="§ 7. PositionOptions dictionary">§ 7.
                    PositionOptions dictionary</a>
            </li>
            <li>
                <a href="#ref-for-dom-positionoptions-maximumage-5" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-geolocationposition"
        aria-label="Links in this document to definition: GeolocationPosition">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-geolocationposition"
                aria-label="Permalink for definition: GeolocationPosition. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-geolocationposition-1" title="§ 1. Introduction">§ 1. Introduction</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationposition-2" title="§ 6. Geolocation interface and callbacks">§ 6.
                    Geolocation interface and callbacks</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationposition-3" title="§ 6.1 Internal slots">§ 6.1 Internal slots</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationposition-4" title="§ 8.3 toJSON() method">§ 8.3 toJSON() method</a> <a
                    href="#ref-for-dom-geolocationposition-5" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationposition-6" title="§ 8.4 Internal slots">§ 8.4 Internal slots</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationposition-7" title="§ 9.6 Constructing a GeolocationPosition">§ 9.6
                    Constructing a GeolocationPosition</a> <a href="#ref-for-dom-geolocationposition-8"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationposition-9" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-geolocationposition-coords"
        aria-label="Links in this document to definition: coords">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-geolocationposition-coords"
                aria-label="Permalink for definition: coords. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-876485373">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-geolocationposition-coords-1" title="§ 8. GeolocationPosition interface">§ 8.
                    GeolocationPosition interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationposition-coords-2" title="§ 9.6 Constructing a GeolocationPosition">§
                    9.6 Constructing a GeolocationPosition</a> <a href="#ref-for-dom-geolocationposition-coords-3"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationposition-coords-4" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-geolocationposition-timestamp"
        aria-label="Links in this document to definition: timestamp">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-geolocationposition-timestamp"
                aria-label="Permalink for definition: timestamp. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-876485373">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-geolocationposition-timestamp-1" title="§ 6.6 Acquire a position">§ 6.6 Acquire a
                    position</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationposition-timestamp-2" title="§ 8. GeolocationPosition interface">§ 8.
                    GeolocationPosition interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationposition-timestamp-3"
                    title="§ 9.6 Constructing a GeolocationPosition">§ 9.6 Constructing a GeolocationPosition</a> <a
                    href="#ref-for-dom-geolocationposition-timestamp-4" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationposition-timestamp-5" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-geolocationposition-tojson"
        aria-label="Links in this document to definition: toJSON()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-geolocationposition-tojson"
                aria-label="Permalink for definition: toJSON(). Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-876485373">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-geolocationposition-tojson-1" title="§ 8. GeolocationPosition interface">§ 8.
                    GeolocationPosition interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationposition-tojson-2" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-ishighaccuracy"
        aria-label="Links in this document to definition: [[isHighAccuracy]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-ishighaccuracy"
                aria-label="Permalink for definition: [[isHighAccuracy]]. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-ishighaccuracy-1" title="§ 6.6 Acquire a position">§ 6.6 Acquire a position</a>
            </li>
            <li>
                <a href="#ref-for-dfn-ishighaccuracy-2" title="§ 9.6 Constructing a GeolocationPosition">§ 9.6
                    Constructing a GeolocationPosition</a> <a href="#ref-for-dfn-ishighaccuracy-3"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-geolocation-task-source"
        aria-label="Links in this document to definition: geolocation task source">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-geolocation-task-source"
                aria-label="Permalink for definition: geolocation task source. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-geolocation-task-source-1" title="§ 6.6 Acquire a position">§ 6.6 Acquire a
                    position</a> <a href="#ref-for-dfn-geolocation-task-source-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-geolocation-task-source-3" title="§ 6.7 Call back with error">§ 6.7 Call back with
                    error</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-geolocationcoordinates"
        aria-label="Links in this document to definition: GeolocationCoordinates">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-geolocationcoordinates"
                aria-label="Permalink for definition: GeolocationCoordinates. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-412902343">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-geolocationcoordinates-1" title="§ 8. GeolocationPosition interface">§ 8.
                    GeolocationPosition interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationcoordinates-2" title="§ 9. GeolocationCoordinates interface">§ 9.
                    GeolocationCoordinates interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationcoordinates-3" title="§ 9.5 toJSON() method">§ 9.5 toJSON() method</a>
                <a href="#ref-for-dom-geolocationcoordinates-4" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationcoordinates-5" title="§ 9.6 Constructing a GeolocationPosition">§ 9.6
                    Constructing a GeolocationPosition</a> <a href="#ref-for-dom-geolocationcoordinates-6"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-geolocationcoordinates-7"
                    title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationcoordinates-8" title="§ A. IDL Index">§ A. IDL Index</a> <a
                    href="#ref-for-dom-geolocationcoordinates-9" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-geolocationcoordinates-latitude"
        aria-label="Links in this document to definition: latitude">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-geolocationcoordinates-latitude"
                aria-label="Permalink for definition: latitude. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-412902343">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-geolocationcoordinates-latitude-1" title="§ 9. GeolocationCoordinates interface">§
                    9. GeolocationCoordinates interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationcoordinates-latitude-2"
                    title="§ 9.6 Constructing a GeolocationPosition">§ 9.6 Constructing a GeolocationPosition</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationcoordinates-latitude-3" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-geolocationcoordinates-longitude"
        aria-label="Links in this document to definition: longitude">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-geolocationcoordinates-longitude"
                aria-label="Permalink for definition: longitude. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-412902343">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-geolocationcoordinates-longitude-1"
                    title="§ 9. GeolocationCoordinates interface">§ 9. GeolocationCoordinates interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationcoordinates-longitude-2"
                    title="§ 9.6 Constructing a GeolocationPosition">§ 9.6 Constructing a GeolocationPosition</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationcoordinates-longitude-3" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-geolocationcoordinates-accuracy"
        aria-label="Links in this document to definition: accuracy">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-geolocationcoordinates-accuracy"
                aria-label="Permalink for definition: accuracy. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-412902343">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-geolocationcoordinates-accuracy-1" title="§ 9. GeolocationCoordinates interface">§
                    9. GeolocationCoordinates interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationcoordinates-accuracy-2"
                    title="§ 9.6 Constructing a GeolocationPosition">§ 9.6 Constructing a GeolocationPosition</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationcoordinates-accuracy-3" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-geolocationcoordinates-altitude"
        aria-label="Links in this document to definition: altitude">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-geolocationcoordinates-altitude"
                aria-label="Permalink for definition: altitude. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-412902343">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-geolocationcoordinates-altitude-1" title="§ 9. GeolocationCoordinates interface">§
                    9. GeolocationCoordinates interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationcoordinates-altitude-2"
                    title="§ 9.6 Constructing a GeolocationPosition">§ 9.6 Constructing a GeolocationPosition</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationcoordinates-altitude-3" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-geolocationcoordinates-altitudeaccuracy"
        aria-label="Links in this document to definition: altitudeAccuracy">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-geolocationcoordinates-altitudeaccuracy"
                aria-label="Permalink for definition: altitudeAccuracy. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-412902343">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-geolocationcoordinates-altitudeaccuracy-1"
                    title="§ 9. GeolocationCoordinates interface">§ 9. GeolocationCoordinates interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationcoordinates-altitudeaccuracy-2"
                    title="§ 9.6 Constructing a GeolocationPosition">§ 9.6 Constructing a GeolocationPosition</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationcoordinates-altitudeaccuracy-3" title="§ A. IDL Index">§ A. IDL
                    Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-geolocationcoordinates-heading"
        aria-label="Links in this document to definition: heading">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-geolocationcoordinates-heading"
                aria-label="Permalink for definition: heading. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-412902343">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-geolocationcoordinates-heading-1" title="§ 9. GeolocationCoordinates interface">§
                    9. GeolocationCoordinates interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationcoordinates-heading-2"
                    title="§ 9.6 Constructing a GeolocationPosition">§ 9.6 Constructing a GeolocationPosition</a> <a
                    href="#ref-for-dom-geolocationcoordinates-heading-3" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationcoordinates-heading-4" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-geolocationcoordinates-speed"
        aria-label="Links in this document to definition: speed">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-geolocationcoordinates-speed"
                aria-label="Permalink for definition: speed. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-412902343">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-geolocationcoordinates-speed-1" title="§ 9. GeolocationCoordinates interface">§ 9.
                    GeolocationCoordinates interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationcoordinates-speed-2" title="§ 9.6 Constructing a GeolocationPosition">§
                    9.6 Constructing a GeolocationPosition</a> <a href="#ref-for-dom-geolocationcoordinates-speed-3"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationcoordinates-speed-4" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-geolocationcoordinates-tojson"
        aria-label="Links in this document to definition: toJSON()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-geolocationcoordinates-tojson"
                aria-label="Permalink for definition: toJSON(). Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-412902343">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-geolocationcoordinates-tojson-1" title="§ 9. GeolocationCoordinates interface">§
                    9. GeolocationCoordinates interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationcoordinates-tojson-2" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-a-new-geolocationposition"
        aria-label="Links in this document to definition: A new GeolocationPosition">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-a-new-geolocationposition"
                aria-label="Permalink for definition: A new GeolocationPosition. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-a-new-geolocationposition-1" title="§ 6.6 Acquire a position">§ 6.6 Acquire a
                    position</a> <a href="#ref-for-dfn-a-new-geolocationposition-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-a-new-geolocationposition-3" title="§ 8.4 Internal slots">§ 8.4 Internal slots</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-geolocationpositionerror"
        aria-label="Links in this document to definition: GeolocationPositionError">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-geolocationpositionerror"
                aria-label="Permalink for definition: GeolocationPositionError. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1281871320">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-geolocationpositionerror-1" title="§ 1. Introduction">§ 1. Introduction</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationpositionerror-2" title="§ 2.4 Handling errors">§ 2.4 Handling
                    errors</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationpositionerror-3" title="§ 6. Geolocation interface and callbacks">§ 6.
                    Geolocation interface and callbacks</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationpositionerror-4" title="§ 6.7 Call back with error">§ 6.7 Call back
                    with error</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationpositionerror-5" title="§ 8.4 Internal slots">§ 8.4 Internal slots</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationpositionerror-6" title="§ 10. GeolocationPositionError interface">§ 10.
                    GeolocationPositionError interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationpositionerror-7" title="§ 10.3 message attribute">§ 10.3 message
                    attribute</a> <a href="#ref-for-dom-geolocationpositionerror-8" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationpositionerror-9" title="§ A. IDL Index">§ A. IDL Index</a> <a
                    href="#ref-for-dom-geolocationpositionerror-10" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-geolocationpositionerror-permission_denied"
        aria-label="Links in this document to definition: PERMISSION_DENIED">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-geolocationpositionerror-permission_denied"
                aria-label="Permalink for definition: PERMISSION_DENIED. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1281871320">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-geolocationpositionerror-permission_denied-1" title="§ 6.5 Request a position">§
                    6.5 Request a position</a> <a href="#ref-for-dom-geolocationpositionerror-permission_denied-2"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-geolocationpositionerror-permission_denied-3"
                    title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationpositionerror-permission_denied-4" title="§ 6.6 Acquire a position">§
                    6.6 Acquire a position</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationpositionerror-permission_denied-5"
                    title="§ 10. GeolocationPositionError interface">§ 10. GeolocationPositionError interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationpositionerror-permission_denied-6" title="§ A. IDL Index">§ A. IDL
                    Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-geolocationpositionerror-position_unavailable"
        aria-label="Links in this document to definition: POSITION_UNAVAILABLE">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-geolocationpositionerror-position_unavailable"
                aria-label="Permalink for definition: POSITION_UNAVAILABLE. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1281871320">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-geolocationpositionerror-position_unavailable-1"
                    title="§ 6.2 getCurrentPosition() method">§ 6.2 getCurrentPosition() method</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationpositionerror-position_unavailable-2"
                    title="§ 6.3 watchPosition() method">§ 6.3 watchPosition() method</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationpositionerror-position_unavailable-3"
                    title="§ 6.6 Acquire a position">§ 6.6 Acquire a position</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationpositionerror-position_unavailable-4"
                    title="§ 10. GeolocationPositionError interface">§ 10. GeolocationPositionError interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationpositionerror-position_unavailable-5" title="§ A. IDL Index">§ A. IDL
                    Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-geolocationpositionerror-timeout"
        aria-label="Links in this document to definition: TIMEOUT">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-geolocationpositionerror-timeout"
                aria-label="Permalink for definition: TIMEOUT. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1281871320">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-geolocationpositionerror-timeout-1" title="§ 6.6 Acquire a position">§ 6.6 Acquire
                    a position</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationpositionerror-timeout-2"
                    title="§ 10. GeolocationPositionError interface">§ 10. GeolocationPositionError interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationpositionerror-timeout-3" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-geolocationpositionerror-code" aria-label="Links in this document to definition: code">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-geolocationpositionerror-code"
                aria-label="Permalink for definition: code. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1281871320">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-geolocationpositionerror-code-1" title="§ 6.7 Call back with error">§ 6.7 Call
                    back with error</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationpositionerror-code-2"
                    title="§ 10. GeolocationPositionError interface">§ 10. GeolocationPositionError interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationpositionerror-code-3" title="§ 10.3 message attribute">§ 10.3 message
                    attribute</a> <a href="#ref-for-dom-geolocationpositionerror-code-4" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationpositionerror-code-5" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-geolocationpositionerror-message"
        aria-label="Links in this document to definition: message">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-geolocationpositionerror-message"
                aria-label="Permalink for definition: message. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1281871320">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-geolocationpositionerror-message-1"
                    title="§ 10. GeolocationPositionError interface">§ 10. GeolocationPositionError interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationpositionerror-message-2" title="§ 10.3 message attribute">§ 10.3
                    message attribute</a>
            </li>
            <li>
                <a href="#ref-for-dom-geolocationpositionerror-message-3" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-epochtimestamp"
        aria-label="Links in this document to definition: EpochTimeStamp">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://www.w3.org/TR/hr-time-3/#dom-epochtimestamp"
                aria-label="Permalink for definition: EpochTimeStamp. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-epochtimestamp-1" title="§ 6.6 Acquire a position">§ 6.6 Acquire a
                    position</a>
            </li>
            <li>
                <a href="#ref-for-index-term-epochtimestamp-2" title="§ 8. GeolocationPosition interface">§ 8.
                    GeolocationPosition interface</a>
            </li>
            <li>
                <a href="#ref-for-index-term-epochtimestamp-3" title="§ 9.6 Constructing a GeolocationPosition">§ 9.6
                    Constructing a GeolocationPosition</a> <a href="#ref-for-index-term-epochtimestamp-4"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-index-term-epochtimestamp-5" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-allow-attribute-for-iframe-element"
        aria-label="Links in this document to definition: allow attribute (for iframe element)">
        <span class="caret"></span>
        <div>
            <a class="self-link"
                href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-allow"
                aria-label="Permalink for definition: allow attribute (for iframe element). Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-allow-attribute-for-iframe-element-1"
                    title="§ 2.7 Enabling the API in third-party contexts">§ 2.7 Enabling the API in third-party
                    contexts</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-allowed-to-use"
        aria-label="Links in this document to definition: allowed to use">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use"
                aria-label="Permalink for definition: allowed to use. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-allowed-to-use-1" title="§ 6.5 Request a position">§ 6.5 Request a
                    position</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-associated-document"
        aria-label="Links in this document to definition: associated Document">
        <span class="caret"></span>
        <div>
            <a class="self-link"
                href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window"
                aria-label="Permalink for definition: associated Document. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-associated-document-1" title="§ 6.2 getCurrentPosition() method">§ 6.2
                    getCurrentPosition() method</a> <a href="#ref-for-index-term-associated-document-2"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-index-term-associated-document-3" title="§ 6.3 watchPosition() method">§ 6.3
                    watchPosition() method</a> <a href="#ref-for-index-term-associated-document-4"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-index-term-associated-document-5" title="§ 6.5 Request a position">§ 6.5 Request a
                    position</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-current-settings-object"
        aria-label="Links in this document to definition: current settings object">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/webappapis.html#current-settings-object"
                aria-label="Permalink for definition: current settings object. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-current-settings-object-1" title="§ 6.2 getCurrentPosition() method">§ 6.2
                    getCurrentPosition() method</a>
            </li>
            <li>
                <a href="#ref-for-index-term-current-settings-object-2" title="§ 6.3 watchPosition() method">§ 6.3
                    watchPosition() method</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-environment-settings-object"
        aria-label="Links in this document to definition: environment settings object">
        <span class="caret"></span>
        <div>
            <a class="self-link"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                aria-label="Permalink for definition: environment settings object. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-environment-settings-object-1" title="§ 6.5 Request a position">§ 6.5
                    Request a position</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-fully-active-for-document"
        aria-label="Links in this document to definition: fully active (for Document)">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active"
                aria-label="Permalink for definition: fully active (for Document). Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-fully-active-for-document-1" title="§ 6.2 getCurrentPosition() method">§
                    6.2 getCurrentPosition() method</a> <a href="#ref-for-index-term-fully-active-for-document-2"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-index-term-fully-active-for-document-3" title="§ 6.3 watchPosition() method">§ 6.3
                    watchPosition() method</a> <a href="#ref-for-index-term-fully-active-for-document-4"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-index-term-fully-active-for-document-5" title="§ 6.5 Request a position">§ 6.5 Request
                    a position</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-iframe-element"
        aria-label="Links in this document to definition: iframe element">
        <span class="caret"></span>
        <div>
            <a class="self-link"
                href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element"
                aria-label="Permalink for definition: iframe element. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-iframe-element-1" title="§ 2.7 Enabling the API in third-party contexts">§
                    2.7 Enabling the API in third-party contexts</a>
            </li>
            <li>
                <a href="#ref-for-index-term-iframe-element-2" title="§ 6.5 Request a position">§ 6.5 Request a
                    position</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-in-parallel"
        aria-label="Links in this document to definition: In parallel">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                aria-label="Permalink for definition: In parallel. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-in-parallel-1" title="§ 6.5 Request a position">§ 6.5 Request a
                    position</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-navigates"
        aria-label="Links in this document to definition: navigates">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate"
                aria-label="Permalink for definition: navigates. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-navigates-1" title="§ 3.4 Checking permission to use the API">§ 3.4
                    Checking permission to use the API</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-navigator-interface"
        aria-label="Links in this document to definition: Navigator interface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator"
                aria-label="Permalink for definition: Navigator interface. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-navigator-interface-1" title="§ 5. Extensions to the Navigator interface">§
                    5. Extensions to the Navigator interface</a>
            </li>
            <li>
                <a href="#ref-for-index-term-navigator-interface-2" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-non-secure-contexts"
        aria-label="Links in this document to definition: non-secure contexts">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/webappapis.html#non-secure-context"
                aria-label="Permalink for definition: non-secure contexts. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-non-secure-contexts-1" title="§ 6.5 Request a position">§ 6.5 Request a
                    position</a> <a href="#ref-for-index-term-non-secure-contexts-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-index-term-non-secure-contexts-3" title="§ 10.1 Constants">§ 10.1 Constants</a> <a
                    href="#ref-for-index-term-non-secure-contexts-4" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-origin"
        aria-label="Links in this document to definition: origin">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin"
                aria-label="Permalink for definition: origin. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-origin-1" title="§ 3.4 Checking permission to use the API">§ 3.4 Checking
                    permission to use the API</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-page-visibility-change-steps"
        aria-label="Links in this document to definition: page visibility change steps">
        <span class="caret"></span>
        <div>
            <a class="self-link"
                href="https://html.spec.whatwg.org/multipage/interaction.html#page-visibility-change-steps"
                aria-label="Permalink for definition: page visibility change steps. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-page-visibility-change-steps-1" title="§ 6.5 Request a position">§ 6.5
                    Request a position</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-queue-a-task"
        aria-label="Links in this document to definition: Queue a task">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                aria-label="Permalink for definition: Queue a task. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-queue-a-task-1" title="§ 6.6 Acquire a position">§ 6.6 Acquire a
                    position</a> <a href="#ref-for-index-term-queue-a-task-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-index-term-queue-a-task-3" title="§ 6.7 Call back with error">§ 6.7 Call back with
                    error</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-realm-for-environment-settings-object"
        aria-label="Links in this document to definition: realm (for environment settings object)">
        <span class="caret"></span>
        <div>
            <a class="self-link"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object's-realm"
                aria-label="Permalink for definition: realm (for environment settings object). Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-realm-for-environment-settings-object-1"
                    title="§ 3.4 Checking permission to use the API">§ 3.4 Checking permission to use the API</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-relevant-global-object"
        aria-label="Links in this document to definition: relevant global object">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                aria-label="Permalink for definition: relevant global object. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-relevant-global-object-1" title="§ 6.2 getCurrentPosition() method">§ 6.2
                    getCurrentPosition() method</a> <a href="#ref-for-index-term-relevant-global-object-2"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-index-term-relevant-global-object-3" title="§ 6.3 watchPosition() method">§ 6.3
                    watchPosition() method</a> <a href="#ref-for-index-term-relevant-global-object-4"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-index-term-relevant-global-object-5" title="§ 6.5 Request a position">§ 6.5 Request a
                    position</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-task-source"
        aria-label="Links in this document to definition: task source">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source"
                aria-label="Permalink for definition: task source. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-task-source-1" title="§ 8.5 Task sources">§ 8.5 Task sources</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-visibility-state-for-document"
        aria-label="Links in this document to definition: visibility state (for Document)">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://html.spec.whatwg.org/multipage/interaction.html#visibility-state"
                aria-label="Permalink for definition: visibility state (for Document). Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-visibility-state-for-document-1" title="§ 6.5 Request a position">§ 6.5
                    Request a position</a> <a href="#ref-for-index-term-visibility-state-for-document-2"
                    title="Reference 2">(2)</a> <a href="#ref-for-index-term-visibility-state-for-document-3"
                    title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-append-for-list"
        aria-label="Links in this document to definition: Append (for list)">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://infra.spec.whatwg.org/#list-append"
                aria-label="Permalink for definition: Append (for list). Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-append-for-list-1" title="§ 6.3 watchPosition() method">§ 6.3
                    watchPosition() method</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-contains-for-list"
        aria-label="Links in this document to definition: contains (for list)">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://infra.spec.whatwg.org/#list-contain"
                aria-label="Permalink for definition: contains (for list). Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-contains-for-list-1" title="§ 6.5 Request a position">§ 6.5 Request a
                    position</a>
            </li>
            <li>
                <a href="#ref-for-index-term-contains-for-list-2" title="§ 6.6 Acquire a position">§ 6.6 Acquire a
                    position</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-for-each-for-map"
        aria-label="Links in this document to definition: For each (for map)">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://infra.spec.whatwg.org/#map-iterate"
                aria-label="Permalink for definition: For each (for map). Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-for-each-for-map-1" title="§ 9.6 Constructing a GeolocationPosition">§ 9.6
                    Constructing a GeolocationPosition</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-implementation-defined"
        aria-label="Links in this document to definition: implementation-defined">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://infra.spec.whatwg.org/#implementation-defined"
                aria-label="Permalink for definition: implementation-defined. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-implementation-defined-1" title="§ 6.3 watchPosition() method">§ 6.3
                    watchPosition() method</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-item-for-list"
        aria-label="Links in this document to definition: item (for list)">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://infra.spec.whatwg.org/#list-item"
                aria-label="Permalink for definition: item (for list). Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-item-for-list-1" title="§ 6.1 Internal slots">§ 6.1 Internal slots</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-list"
        aria-label="Links in this document to definition: list">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://infra.spec.whatwg.org/#list"
                aria-label="Permalink for definition: list. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-list-1" title="§ 6.1 Internal slots">§ 6.1 Internal slots</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-map"
        aria-label="Links in this document to definition: map">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://infra.spec.whatwg.org/#ordered-map"
                aria-label="Permalink for definition: map. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-map-1" title="§ 6.6 Acquire a position">§ 6.6 Acquire a position</a> <a
                    href="#ref-for-index-term-map-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-index-term-map-3" title="§ 9.6 Constructing a GeolocationPosition">§ 9.6 Constructing
                    a GeolocationPosition</a> <a href="#ref-for-index-term-map-4" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-remove-for-list"
        aria-label="Links in this document to definition: Remove (for list)">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://infra.spec.whatwg.org/#list-remove"
                aria-label="Permalink for definition: Remove (for list). Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-remove-for-list-1" title="§ 6.4 clearWatch() method">§ 6.4 clearWatch()
                    method</a>
            </li>
            <li>
                <a href="#ref-for-index-term-remove-for-list-2" title="§ 6.5 Request a position">§ 6.5 Request a
                    position</a> <a href="#ref-for-index-term-remove-for-list-3" title="Reference 2">(2)</a> <a
                    href="#ref-for-index-term-remove-for-list-4" title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-default-powerful-feature"
        aria-label="Links in this document to definition: default powerful feature">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://www.w3.org/TR/permissions/#dfn-default-powerful-feature"
                aria-label="Permalink for definition: default powerful feature. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-default-powerful-feature-1"
                    title="§ 3.4 Checking permission to use the API">§ 3.4 Checking permission to use the API</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-express-permission"
        aria-label="Links in this document to definition: express permission">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://www.w3.org/TR/permissions/#dfn-express-permission"
                aria-label="Permalink for definition: express permission. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-express-permission-1" title="§ 3.1 User consent">§ 3.1 User consent</a> <a
                    href="#ref-for-index-term-express-permission-2" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-get-the-current-permission-state"
        aria-label="Links in this document to definition: get the current permission state">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://www.w3.org/TR/permissions/#dfn-getting-the-current-permission-state"
                aria-label="Permalink for definition: get the current permission state. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-get-the-current-permission-state-1" title="§ 6.6 Acquire a position">§ 6.6
                    Acquire a position</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-grants-for-permission"
        aria-label="Links in this document to definition: grants (for permission)">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://www.w3.org/TR/permissions/#dfn-granted"
                aria-label="Permalink for definition: grants (for permission). Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-grants-for-permission-1" title="§ 3.1 User consent">§ 3.1 User consent</a>
            </li>
            <li>
                <a href="#ref-for-index-term-grants-for-permission-2" title="§ 3.4 Checking permission to use the API">§
                    3.4 Checking permission to use the API</a>
            </li>
            <li>
                <a href="#ref-for-index-term-grants-for-permission-3" title="§ 6.6 Acquire a position">§ 6.6 Acquire a
                    position</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-lifetimes-for-permission"
        aria-label="Links in this document to definition: lifetimes (for permission)">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://www.w3.org/TR/permissions/#dfn-lifetime"
                aria-label="Permalink for definition: lifetimes (for permission). Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-lifetimes-for-permission-1" title="§ 3.1 User consent">§ 3.1 User
                    consent</a> <a href="#ref-for-index-term-lifetimes-for-permission-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-index-term-lifetimes-for-permission-3" title="Reference 3">(3)</a> <a
                    href="#ref-for-index-term-lifetimes-for-permission-4" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-index-term-lifetimes-for-permission-5"
                    title="§ 3.4 Checking permission to use the API">§ 3.4 Checking permission to use the API</a> <a
                    href="#ref-for-index-term-lifetimes-for-permission-6" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-name-for-powerful-feature"
        aria-label="Links in this document to definition: name (for powerful feature)">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://www.w3.org/TR/permissions/#dfn-name"
                aria-label="Permalink for definition: name (for powerful feature). Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-name-for-powerful-feature-1"
                    title="§ 3.4 Checking permission to use the API">§ 3.4 Checking permission to use the API</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-name-for-permissiondescriptor"
        aria-label="Links in this document to definition: name (for PermissionDescriptor)">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://www.w3.org/TR/permissions/#dom-permissiondescriptor-name"
                aria-label="Permalink for definition: name (for PermissionDescriptor). Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-name-for-permissiondescriptor-1" title="§ 6.5 Request a position">§ 6.5
                    Request a position</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-permission"
        aria-label="Links in this document to definition: permission">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://www.w3.org/TR/permissions/#dfn-permission"
                aria-label="Permalink for definition: permission. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-permission-1" title="§ 3.4 Checking permission to use the API">§ 3.4
                    Checking permission to use the API</a> <a href="#ref-for-index-term-permission-2"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-permission-state"
        aria-label="Links in this document to definition: permission state">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://www.w3.org/TR/permissions/#dfn-permission-state"
                aria-label="Permalink for definition: permission state. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-permission-state-1" title="§ 3.1 User consent">§ 3.1 User consent</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-permissiondescriptor"
        aria-label="Links in this document to definition: PermissionDescriptor">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://www.w3.org/TR/permissions/#dom-permissiondescriptor"
                aria-label="Permalink for definition: PermissionDescriptor. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-permissiondescriptor-1" title="§ 6.5 Request a position">§ 6.5 Request a
                    position</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-powerful-feature"
        aria-label="Links in this document to definition: powerful feature">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://www.w3.org/TR/permissions/#dfn-powerful-feature"
                aria-label="Permalink for definition: powerful feature. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-powerful-feature-1" title="§ 3.1 User consent">§ 3.1 User consent</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-request-permission-to-use"
        aria-label="Links in this document to definition: request permission to use">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://www.w3.org/TR/permissions/#dfn-request-permission-to-use"
                aria-label="Permalink for definition: request permission to use. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-request-permission-to-use-1" title="§ 6.5 Request a position">§ 6.5 Request
                    a position</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-self-for-default-allowlist"
        aria-label="Links in this document to definition: 'self' (for default allowlist)">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://www.w3.org/TR/permissions-policy-1/#default-allowlist-self"
                aria-label="Permalink for definition: 'self' (for default allowlist). Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-self-for-default-allowlist-1" title="§ 11. Permissions policy">§ 11.
                    Permissions policy</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-default-allowlist-for-policy-controlled-feature"
        aria-label="Links in this document to definition: default allowlist (for policy-controlled feature)">
        <span class="caret"></span>
        <div>
            <a class="self-link"
                href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature-default-allowlist"
                aria-label="Permalink for definition: default allowlist (for policy-controlled feature). Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-default-allowlist-for-policy-controlled-feature-1"
                    title="§ 2.7 Enabling the API in third-party contexts">§ 2.7 Enabling the API in third-party
                    contexts</a>
            </li>
            <li>
                <a href="#ref-for-index-term-default-allowlist-for-policy-controlled-feature-2"
                    title="§ 11. Permissions policy">§ 11. Permissions policy</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-policy-controlled-feature"
        aria-label="Links in this document to definition: policy-controlled feature">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature"
                aria-label="Permalink for definition: policy-controlled feature. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-policy-controlled-feature-1" title="§ 11. Permissions policy">§ 11.
                    Permissions policy</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-boolean-type"
        aria-label="Links in this document to definition: boolean type">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://webidl.spec.whatwg.org/#idl-boolean"
                aria-label="Permalink for definition: boolean type. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-boolean-type-1" title="§ 7. PositionOptions dictionary">§ 7.
                    PositionOptions dictionary</a>
            </li>
            <li>
                <a href="#ref-for-index-term-boolean-type-2" title="§ 8.4 Internal slots">§ 8.4 Internal slots</a>
            </li>
            <li>
                <a href="#ref-for-index-term-boolean-type-3" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-clamp-extended-attribute"
        aria-label="Links in this document to definition: [Clamp] extended attribute">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://webidl.spec.whatwg.org/#Clamp"
                aria-label="Permalink for definition: [Clamp] extended attribute. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-clamp-extended-attribute-1" title="§ 7. PositionOptions dictionary">§ 7.
                    PositionOptions dictionary</a> <a href="#ref-for-index-term-clamp-extended-attribute-2"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-index-term-clamp-extended-attribute-3" title="§ A. IDL Index">§ A. IDL Index</a> <a
                    href="#ref-for-index-term-clamp-extended-attribute-4" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-default-extended-attribute"
        aria-label="Links in this document to definition: [Default] extended attribute">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://webidl.spec.whatwg.org/#Default"
                aria-label="Permalink for definition: [Default] extended attribute. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-default-extended-attribute-1" title="§ 8. GeolocationPosition interface">§
                    8. GeolocationPosition interface</a>
            </li>
            <li>
                <a href="#ref-for-index-term-default-extended-attribute-2"
                    title="§ 9. GeolocationCoordinates interface">§ 9. GeolocationCoordinates interface</a>
            </li>
            <li>
                <a href="#ref-for-index-term-default-extended-attribute-3" title="§ A. IDL Index">§ A. IDL Index</a> <a
                    href="#ref-for-index-term-default-extended-attribute-4" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-domstring-interface"
        aria-label="Links in this document to definition: DOMString interface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://webidl.spec.whatwg.org/#idl-DOMString"
                aria-label="Permalink for definition: DOMString interface. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-domstring-interface-1" title="§ 10. GeolocationPositionError interface">§
                    10. GeolocationPositionError interface</a>
            </li>
            <li>
                <a href="#ref-for-index-term-domstring-interface-2" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-double-type"
        aria-label="Links in this document to definition: double type">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://webidl.spec.whatwg.org/#idl-double"
                aria-label="Permalink for definition: double type. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-double-type-1" title="§ 6.6 Acquire a position">§ 6.6 Acquire a
                    position</a> <a href="#ref-for-index-term-double-type-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-index-term-double-type-3" title="Reference 3">(3)</a> <a
                    href="#ref-for-index-term-double-type-4" title="Reference 4">(4)</a> <a
                    href="#ref-for-index-term-double-type-5" title="Reference 5">(5)</a> <a
                    href="#ref-for-index-term-double-type-6" title="Reference 6">(6)</a>
            </li>
            <li>
                <a href="#ref-for-index-term-double-type-7" title="§ 9. GeolocationCoordinates interface">§ 9.
                    GeolocationCoordinates interface</a> <a href="#ref-for-index-term-double-type-8"
                    title="Reference 2">(2)</a> <a href="#ref-for-index-term-double-type-9" title="Reference 3">(3)</a>
                <a href="#ref-for-index-term-double-type-10" title="Reference 4">(4)</a> <a
                    href="#ref-for-index-term-double-type-11" title="Reference 5">(5)</a> <a
                    href="#ref-for-index-term-double-type-12" title="Reference 6">(6)</a> <a
                    href="#ref-for-index-term-double-type-13" title="Reference 7">(7)</a>
            </li>
            <li>
                <a href="#ref-for-index-term-double-type-14" title="§ A. IDL Index">§ A. IDL Index</a> <a
                    href="#ref-for-index-term-double-type-15" title="Reference 2">(2)</a> <a
                    href="#ref-for-index-term-double-type-16" title="Reference 3">(3)</a> <a
                    href="#ref-for-index-term-double-type-17" title="Reference 4">(4)</a> <a
                    href="#ref-for-index-term-double-type-18" title="Reference 5">(5)</a> <a
                    href="#ref-for-index-term-double-type-19" title="Reference 6">(6)</a> <a
                    href="#ref-for-index-term-double-type-20" title="Reference 7">(7)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-exposed-extended-attribute"
        aria-label="Links in this document to definition: [Exposed] extended attribute">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://webidl.spec.whatwg.org/#Exposed"
                aria-label="Permalink for definition: [Exposed] extended attribute. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-exposed-extended-attribute-1"
                    title="§ 6. Geolocation interface and callbacks">§ 6. Geolocation interface and callbacks</a>
            </li>
            <li>
                <a href="#ref-for-index-term-exposed-extended-attribute-2" title="§ 8. GeolocationPosition interface">§
                    8. GeolocationPosition interface</a>
            </li>
            <li>
                <a href="#ref-for-index-term-exposed-extended-attribute-3"
                    title="§ 9. GeolocationCoordinates interface">§ 9. GeolocationCoordinates interface</a>
            </li>
            <li>
                <a href="#ref-for-index-term-exposed-extended-attribute-4"
                    title="§ 10. GeolocationPositionError interface">§ 10. GeolocationPositionError interface</a>
            </li>
            <li>
                <a href="#ref-for-index-term-exposed-extended-attribute-5" title="§ A. IDL Index">§ A. IDL Index</a> <a
                    href="#ref-for-index-term-exposed-extended-attribute-6" title="Reference 2">(2)</a> <a
                    href="#ref-for-index-term-exposed-extended-attribute-7" title="Reference 3">(3)</a> <a
                    href="#ref-for-index-term-exposed-extended-attribute-8" title="Reference 4">(4)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-invokes"
        aria-label="Links in this document to definition: invokes">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://webidl.spec.whatwg.org/#invoke-a-callback-function"
                aria-label="Permalink for definition: invokes. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-invokes-1" title="§ 6.6 Acquire a position">§ 6.6 Acquire a position</a> <a
                    href="#ref-for-index-term-invokes-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-index-term-invokes-3" title="§ 6.7 Call back with error">§ 6.7 Call back with
                    error</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-long-type"
        aria-label="Links in this document to definition: long type">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://webidl.spec.whatwg.org/#idl-long"
                aria-label="Permalink for definition: long type. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-long-type-1" title="§ 6. Geolocation interface and callbacks">§ 6.
                    Geolocation interface and callbacks</a> <a href="#ref-for-index-term-long-type-2"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-index-term-long-type-3" title="§ A. IDL Index">§ A. IDL Index</a> <a
                    href="#ref-for-index-term-long-type-4" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-object-type"
        aria-label="Links in this document to definition: object type">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://webidl.spec.whatwg.org/#idl-object"
                aria-label="Permalink for definition: object type. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-object-type-1" title="§ 8. GeolocationPosition interface">§ 8.
                    GeolocationPosition interface</a>
            </li>
            <li>
                <a href="#ref-for-index-term-object-type-2" title="§ 9. GeolocationCoordinates interface">§ 9.
                    GeolocationCoordinates interface</a>
            </li>
            <li>
                <a href="#ref-for-index-term-object-type-3" title="§ A. IDL Index">§ A. IDL Index</a> <a
                    href="#ref-for-index-term-object-type-4" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-sameobject-extended-attribute"
        aria-label="Links in this document to definition: [SameObject] extended attribute">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://webidl.spec.whatwg.org/#SameObject"
                aria-label="Permalink for definition: [SameObject] extended attribute. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-sameobject-extended-attribute-1"
                    title="§ 5. Extensions to the Navigator interface">§ 5. Extensions to the Navigator interface</a>
            </li>
            <li>
                <a href="#ref-for-index-term-sameobject-extended-attribute-2" title="§ A. IDL Index">§ A. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-index-term-securecontext-extended-attribute"
        aria-label="Links in this document to definition: [SecureContext] extended attribute">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://webidl.spec.whatwg.org/#SecureContext"
                aria-label="Permalink for definition: [SecureContext] extended attribute. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-securecontext-extended-attribute-1"
                    title="§ 8. GeolocationPosition interface">§ 8. GeolocationPosition interface</a>
            </li>
            <li>
                <a href="#ref-for-index-term-securecontext-extended-attribute-2"
                    title="§ 9. GeolocationCoordinates interface">§ 9. GeolocationCoordinates interface</a>
            </li>
            <li>
                <a href="#ref-for-index-term-securecontext-extended-attribute-3" title="§ A. IDL Index">§ A. IDL
                    Index</a> <a href="#ref-for-index-term-securecontext-extended-attribute-4"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-this"
        aria-label="Links in this document to definition: this">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://webidl.spec.whatwg.org/#this"
                aria-label="Permalink for definition: this. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-this-1" title="§ 6.2 getCurrentPosition() method">§ 6.2
                    getCurrentPosition() method</a> <a href="#ref-for-index-term-this-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-index-term-this-3" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-index-term-this-4" title="§ 6.3 watchPosition() method">§ 6.3 watchPosition()
                    method</a> <a href="#ref-for-index-term-this-5" title="Reference 2">(2)</a> <a
                    href="#ref-for-index-term-this-6" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-index-term-this-7" title="§ 6.4 clearWatch() method">§ 6.4 clearWatch() method</a>
            </li>
            <li>
                <a href="#ref-for-index-term-this-8" title="§ 6.6 Acquire a position">§ 6.6 Acquire a position</a> <a
                    href="#ref-for-index-term-this-9" title="Reference 2">(2)</a> <a href="#ref-for-index-term-this-10"
                    title="Reference 3">(3)</a> <a href="#ref-for-index-term-this-11" title="Reference 4">(4)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-undefined-type"
        aria-label="Links in this document to definition: undefined type">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://webidl.spec.whatwg.org/#idl-undefined"
                aria-label="Permalink for definition: undefined type. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-undefined-type-1" title="§ 6. Geolocation interface and callbacks">§ 6.
                    Geolocation interface and callbacks</a> <a href="#ref-for-index-term-undefined-type-2"
                    title="Reference 2">(2)</a> <a href="#ref-for-index-term-undefined-type-3"
                    title="Reference 3">(3)</a> <a href="#ref-for-index-term-undefined-type-4"
                    title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-index-term-undefined-type-5" title="§ A. IDL Index">§ A. IDL Index</a> <a
                    href="#ref-for-index-term-undefined-type-6" title="Reference 2">(2)</a> <a
                    href="#ref-for-index-term-undefined-type-7" title="Reference 3">(3)</a> <a
                    href="#ref-for-index-term-undefined-type-8" title="Reference 4">(4)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-unsigned-long-type"
        aria-label="Links in this document to definition: unsigned long type">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://webidl.spec.whatwg.org/#idl-unsigned-long"
                aria-label="Permalink for definition: unsigned long type. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-unsigned-long-type-1" title="§ 6.1 Internal slots">§ 6.1 Internal slots</a>
            </li>
            <li>
                <a href="#ref-for-index-term-unsigned-long-type-2" title="§ 6.3 watchPosition() method">§ 6.3
                    watchPosition() method</a>
            </li>
            <li>
                <a href="#ref-for-index-term-unsigned-long-type-3" title="§ 7. PositionOptions dictionary">§ 7.
                    PositionOptions dictionary</a> <a href="#ref-for-index-term-unsigned-long-type-4"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-index-term-unsigned-long-type-5" title="§ A. IDL Index">§ A. IDL Index</a> <a
                    href="#ref-for-index-term-unsigned-long-type-6" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-index-term-unsigned-short-type"
        aria-label="Links in this document to definition: unsigned short type">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="https://webidl.spec.whatwg.org/#idl-unsigned-short"
                aria-label="Permalink for definition: unsigned short type. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-index-term-unsigned-short-type-1" title="§ 6.7 Call back with error">§ 6.7 Call back
                    with error</a>
            </li>
            <li>
                <a href="#ref-for-index-term-unsigned-short-type-2" title="§ 10. GeolocationPositionError interface">§
                    10. GeolocationPositionError interface</a> <a href="#ref-for-index-term-unsigned-short-type-3"
                    title="Reference 2">(2)</a> <a href="#ref-for-index-term-unsigned-short-type-4"
                    title="Reference 3">(3)</a> <a href="#ref-for-index-term-unsigned-short-type-5"
                    title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-index-term-unsigned-short-type-6" title="§ A. IDL Index">§ A. IDL Index</a> <a
                    href="#ref-for-index-term-unsigned-short-type-7" title="Reference 2">(2)</a> <a
                    href="#ref-for-index-term-unsigned-short-type-8" title="Reference 3">(3)</a> <a
                    href="#ref-for-index-term-unsigned-short-type-9" title="Reference 4">(4)</a>
            </li>
        </ul>
    </div>
    <script id="respec-dfn-panel">(() => {
            // @ts-check
            if (document.respec) {
                document.respec.ready.then(setupPanel);
            } else {
                setupPanel();
            }

            function setupPanel() {
                const listener = panelListener();
                document.body.addEventListener("keydown", listener);
                document.body.addEventListener("click", listener);
            }

            function panelListener() {
                /** @type {HTMLElement} */
                let panel = null;
                return event => {
                    const { target, type } = event;

                    if (!(target instanceof HTMLElement)) return;

                    // For keys, we only care about Enter key to activate the panel
                    // otherwise it's activated via a click.
                    if (type === "keydown" && event.key !== "Enter") return;

                    const action = deriveAction(event);

                    switch (action) {
                        case "show": {
                            hidePanel(panel);
                            /** @type {HTMLElement} */
                            const dfn = target.closest("dfn, .index-term");
                            panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
                            const coords = deriveCoordinates(event);
                            displayPanel(dfn, panel, coords);
                            break;
                        }
                        case "dock": {
                            panel.style.left = null;
                            panel.style.top = null;
                            panel.classList.add("docked");
                            break;
                        }
                        case "hide": {
                            hidePanel(panel);
                            panel = null;
                            break;
                        }
                    }
                };
            }

            /**
             * @param {MouseEvent|KeyboardEvent} event
             */
            function deriveCoordinates(event) {
                const target = /** @type HTMLElement */ (event.target);

                // We prevent synthetic AT clicks from putting
                // the dialog in a weird place. The AT events sometimes
                // lack coordinates, so they have clientX/Y = 0
                const rect = target.getBoundingClientRect();
                if (
                    event instanceof MouseEvent &&
                    event.clientX >= rect.left &&
                    event.clientY >= rect.top
                ) {
                    // The event probably happened inside the bounding rect...
                    return { x: event.clientX, y: event.clientY };
                }

                // Offset to the middle of the element
                const x = rect.x + rect.width / 2;
                // Placed at the bottom of the element
                const y = rect.y + rect.height;
                return { x, y };
            }

            /**
             * @param {Event} event
             */
            function deriveAction(event) {
                const target = /** @type {HTMLElement} */ (event.target);
                const hitALink = !!target.closest("a");
                if (target.closest("dfn:not([data-cite]), .index-term")) {
                    return hitALink ? "none" : "show";
                }
                if (target.closest(".dfn-panel")) {
                    if (hitALink) {
                        return target.classList.contains("self-link") ? "hide" : "dock";
                    }
                    const panel = target.closest(".dfn-panel");
                    return panel.classList.contains("docked") ? "hide" : "none";
                }
                if (document.querySelector(".dfn-panel:not([hidden])")) {
                    return "hide";
                }
                return "none";
            }

            /**
             * @param {HTMLElement} dfn
             * @param {HTMLElement} panel
             * @param {{ x: number, y: number }} clickPosition
             */
            function displayPanel(dfn, panel, { x, y }) {
                panel.hidden = false;
                // distance (px) between edge of panel and the pointing triangle (caret)
                const MARGIN = 20;

                const dfnRects = dfn.getClientRects();
                // Find the `top` offset when the `dfn` can be spread across multiple lines
                let closestTop = 0;
                let minDiff = Infinity;
                for (const rect of dfnRects) {
                    const { top, bottom } = rect;
                    const diffFromClickY = Math.abs((top + bottom) / 2 - y);
                    if (diffFromClickY < minDiff) {
                        minDiff = diffFromClickY;
                        closestTop = top;
                    }
                }

                const top = window.scrollY + closestTop + dfnRects[0].height;
                const left = x - MARGIN;
                panel.style.left = `${left}px`;
                panel.style.top = `${top}px`;

                // Find if the panel is flowing out of the window
                const panelRect = panel.getBoundingClientRect();
                const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
                if (panelRect.right > SCREEN_WIDTH) {
                    const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
                    const newCaretOffset = left - newLeft;
                    panel.style.left = `${newLeft}px`;
                    /** @type {HTMLElement} */
                    const caret = panel.querySelector(".caret");
                    caret.style.left = `${newCaretOffset}px`;
                }

                // As it's a dialog, we trap focus.
                // TODO: when <dialog> becomes a implemented, we should really
                // use that.
                trapFocus(panel, dfn);
            }

            /**
             * @param {HTMLElement} panel
             * @param {HTMLElement} dfn
             * @returns
             */
            function trapFocus(panel, dfn) {
                /** @type NodeListOf<HTMLAnchorElement> elements */
                const anchors = panel.querySelectorAll("a[href]");
                // No need to trap focus
                if (!anchors.length) return;

                // Move focus to first anchor element
                const first = anchors.item(0);
                first.focus();

                const trapListener = createTrapListener(anchors, panel, dfn);
                panel.addEventListener("keydown", trapListener);

                // Hiding the panel releases the trap
                const mo = new MutationObserver(records => {
                    const [record] = records;
                    const target = /** @type HTMLElement */ (record.target);
                    if (target.hidden) {
                        panel.removeEventListener("keydown", trapListener);
                        mo.disconnect();
                    }
                });
                mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });
            }

            /**
             *
             * @param {NodeListOf<HTMLAnchorElement>} anchors
             * @param {HTMLElement} panel
             * @param {HTMLElement} dfn
             * @returns
             */
            function createTrapListener(anchors, panel, dfn) {
                const lastIndex = anchors.length - 1;
                let currentIndex = 0;
                return event => {
                    switch (event.key) {
                        // Hitting "Tab" traps us in a nice loop around elements.
                        case "Tab": {
                            event.preventDefault();
                            currentIndex += event.shiftKey ? -1 : +1;
                            if (currentIndex < 0) {
                                currentIndex = lastIndex;
                            } else if (currentIndex > lastIndex) {
                                currentIndex = 0;
                            }
                            anchors.item(currentIndex).focus();
                            break;
                        }

                        // Hitting "Enter" on an anchor releases the trap.
                        case "Enter":
                            hidePanel(panel);
                            break;

                        // Hitting "Escape" returns focus to dfn.
                        case "Escape":
                            hidePanel(panel);
                            dfn.focus();
                            return;
                    }
                };
            }

            /** @param {HTMLElement} panel */
            function hidePanel(panel) {
                if (!panel) return;
                panel.hidden = true;
                panel.classList.remove("docked");
            }
        })()</script>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
</body>

</html>