<!doctype html>
<html lang="zh-hans">

<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <title>交叉观察者</title>
    <meta content="WD" name="w3c-status">
    <meta content="Bikeshed version 82ce88815, updated Thu Sep 7 16:33:55 2023 -0700" name="generator">
    <link href="https://www.w3.org/TR/intersection-observer/" rel="canonical">
    <meta content="ef83cd25ec091f25420a0b487c23210b64c9cfff" name="document-revision">
    <style>
        /* Boilerplate: style-autolinks */
        .css.css,
        .property.property,
        .descriptor.descriptor {
            color: var(--a-normal-text);
            font-size: inherit;
            font-family: inherit;
        }

        .css::before,
        .property::before,
        .descriptor::before {
            content: "‘";
        }

        .css::after,
        .property::after,
        .descriptor::after {
            content: "’";
        }

        .property,
        .descriptor {
            /* Don't wrap property and descriptor names */
            white-space: nowrap;
        }

        .type {
            /* CSS value <type> */
            font-style: italic;
        }

        pre .property::before,
        pre .property::after {
            content: "";
        }

        [data-link-type="property"]::before,
        [data-link-type="propdesc"]::before,
        [data-link-type="descriptor"]::before,
        [data-link-type="value"]::before,
        [data-link-type="function"]::before,
        [data-link-type="at-rule"]::before,
        [data-link-type="selector"]::before,
        [data-link-type="maybe"]::before {
            content: "‘";
        }

        [data-link-type="property"]::after,
        [data-link-type="propdesc"]::after,
        [data-link-type="descriptor"]::after,
        [data-link-type="value"]::after,
        [data-link-type="function"]::after,
        [data-link-type="at-rule"]::after,
        [data-link-type="selector"]::after,
        [data-link-type="maybe"]::after {
            content: "’";
        }

        [data-link-type].production::before,
        [data-link-type].production::after,
        .prod [data-link-type]::before,
        .prod [data-link-type]::after {
            content: "";
        }

        [data-link-type=element],
        [data-link-type=element-attr] {
            font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
            font-size: .9em;
        }

        [data-link-type=element]::before {
            content: "<"
        }

        [data-link-type=element]::after {
            content: ">"
        }

        [data-link-type=biblio] {
            white-space: pre;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --selflink-text: black;
                --selflink-bg: silver;
                --selflink-hover-text: white;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-colors */

        /* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
        :root {
            color-scheme: light dark;

            --text: black;
            --bg: white;

            --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

            --logo-bg: #1a5e9a;
            --logo-active-bg: #c00;
            --logo-text: white;

            --tocnav-normal-text: #707070;
            --tocnav-normal-bg: var(--bg);
            --tocnav-hover-text: var(--tocnav-normal-text);
            --tocnav-hover-bg: #f8f8f8;
            --tocnav-active-text: #c00;
            --tocnav-active-bg: var(--tocnav-normal-bg);

            --tocsidebar-text: var(--text);
            --tocsidebar-bg: #f7f8f9;
            --tocsidebar-shadow: rgba(0, 0, 0, .1);
            --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

            --toclink-text: var(--text);
            --toclink-underline: #3980b5;
            --toclink-visited-text: var(--toclink-text);
            --toclink-visited-underline: #054572;

            --heading-text: #005a9c;

            --hr-text: var(--text);

            --algo-border: #def;

            --del-text: red;
            --del-bg: transparent;
            --ins-text: #080;
            --ins-bg: transparent;

            --a-normal-text: #034575;
            --a-normal-underline: #bbb;
            --a-visited-text: var(--a-normal-text);
            --a-visited-underline: #707070;
            --a-hover-bg: rgba(75%, 75%, 75%, .25);
            --a-active-text: #c00;
            --a-active-underline: #c00;

            --blockquote-border: silver;
            --blockquote-bg: transparent;
            --blockquote-text: currentcolor;

            --issue-border: #e05252;
            --issue-bg: #fbe9e9;
            --issue-text: var(--text);
            --issueheading-text: #831616;

            --example-border: #e0cb52;
            --example-bg: #fcfaee;
            --example-text: var(--text);
            --exampleheading-text: #574b0f;

            --note-border: #52e052;
            --note-bg: #e9fbe9;
            --note-text: var(--text);
            --noteheading-text: hsl(120, 70%, 30%);
            --notesummary-underline: silver;

            --assertion-border: #aaa;
            --assertion-bg: #eee;
            --assertion-text: black;

            --advisement-border: orange;
            --advisement-bg: #fec;
            --advisement-text: var(--text);
            --advisementheading-text: #b35f00;

            --warning-border: red;
            --warning-bg: hsla(40, 100%, 50%, 0.95);
            --warning-text: var(--text);

            --amendment-border: #330099;
            --amendment-bg: #F5F0FF;
            --amendment-text: var(--text);
            --amendmentheading-text: #220066;

            --def-border: #8ccbf2;
            --def-bg: #def;
            --def-text: var(--text);
            --defrow-border: #bbd7e9;

            --datacell-border: silver;

            --indexinfo-text: #707070;

            --indextable-hover-text: black;
            --indextable-hover-bg: #f7f8f9;

            --outdatedspec-bg: rgba(0, 0, 0, .5);
            --outdatedspec-text: black;
            --outdated-bg: maroon;
            --outdated-text: white;
            --outdated-shadow: red;

            --editedrec-bg: darkorange;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --text: #ddd;
                --bg: black;

                --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

                --logo-bg: #1a5e9a;
                --logo-active-bg: #c00;
                --logo-text: white;

                --tocnav-normal-text: #999;
                --tocnav-normal-bg: var(--bg);
                --tocnav-hover-text: var(--tocnav-normal-text);
                --tocnav-hover-bg: #080808;
                --tocnav-active-text: #f44;
                --tocnav-active-bg: var(--tocnav-normal-bg);

                --tocsidebar-text: var(--text);
                --tocsidebar-bg: #080808;
                --tocsidebar-shadow: rgba(255, 255, 255, .1);
                --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

                --toclink-text: var(--text);
                --toclink-underline: #6af;
                --toclink-visited-text: var(--toclink-text);
                --toclink-visited-underline: #054572;

                --heading-text: #8af;

                --hr-text: var(--text);

                --algo-border: #456;

                --del-text: #f44;
                --del-bg: transparent;
                --ins-text: #4a4;
                --ins-bg: transparent;

                --a-normal-text: #6af;
                --a-normal-underline: #555;
                --a-visited-text: var(--a-normal-text);
                --a-visited-underline: var(--a-normal-underline);
                --a-hover-bg: rgba(25%, 25%, 25%, .2);
                --a-active-text: #f44;
                --a-active-underline: var(--a-active-text);

                --borderedblock-bg: rgba(255, 255, 255, .05);

                --blockquote-border: silver;
                --blockquote-bg: var(--borderedblock-bg);
                --blockquote-text: currentcolor;

                --issue-border: #e05252;
                --issue-bg: var(--borderedblock-bg);
                --issue-text: var(--text);
                --issueheading-text: hsl(0deg, 70%, 70%);

                --example-border: hsl(50deg, 90%, 60%);
                --example-bg: var(--borderedblock-bg);
                --example-text: var(--text);
                --exampleheading-text: hsl(50deg, 70%, 70%);

                --note-border: hsl(120deg, 100%, 35%);
                --note-bg: var(--borderedblock-bg);
                --note-text: var(--text);
                --noteheading-text: hsl(120, 70%, 70%);
                --notesummary-underline: silver;

                --assertion-border: #444;
                --assertion-bg: var(--borderedblock-bg);
                --assertion-text: var(--text);

                --advisement-border: orange;
                --advisement-bg: #222218;
                --advisement-text: var(--text);
                --advisementheading-text: #f84;

                --warning-border: red;
                --warning-bg: hsla(40, 100%, 20%, 0.95);
                --warning-text: var(--text);

                --amendment-border: #330099;
                --amendment-bg: #080010;
                --amendment-text: var(--text);
                --amendmentheading-text: #cc00ff;

                --def-border: #8ccbf2;
                --def-bg: #080818;
                --def-text: var(--text);
                --defrow-border: #136;

                --datacell-border: silver;

                --indexinfo-text: #aaa;

                --indextable-hover-text: var(--text);
                --indextable-hover-bg: #181818;

                --outdatedspec-bg: rgba(255, 255, 255, .5);
                --outdatedspec-text: black;
                --outdated-bg: maroon;
                --outdated-text: white;
                --outdated-shadow: red;

                --editedrec-bg: darkorange;
            }

            /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
            img {
                background: white;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-counters */
        body {
            counter-reset: example figure issue;
        }

        .issue {
            counter-increment: issue;
        }

        .issue:not(.no-marker)::before {
            content: "Issue " counter(issue);
        }

        .example {
            counter-increment: example;
        }

        .example:not(.no-marker)::before {
            content: "Example " counter(example);
        }

        .invalid.example:not(.no-marker)::before,
        .illegal.example:not(.no-marker)::before {
            content: "Invalid Example" counter(example);
        }

        figcaption {
            counter-increment: figure;
        }

        figcaption:not(.no-marker)::before {
            content: "Figure " counter(figure) " ";
        }
    </style>
    <style>
        /* Boilerplate: style-dfn-panel */
        :root {
            --dfnpanel-bg: #ddd;
            --dfnpanel-text: var(--text);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --dfnpanel-bg: #222;
                --dfnpanel-text: var(--text);
            }
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--dfnpanel-bg);
            color: var(--dfnpanel-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .dfn-panel:not(.on) {
            display: none;
        }

        .dfn-panel * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .dfn-panel>b {
            display: block;
        }

        .dfn-panel a {
            color: var(--dfnpanel-text);
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important;
        }

        .dfn-panel>b+b {
            margin-top: 0.25em;
        }

        .dfn-panel ul {
            padding: 0 0 0 1em;
            list-style: none;
        }

        .dfn-panel li a {
            white-space: pre;
            display: inline-block;
            max-width: calc(300px - 1.5em - 1em);
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: .5em;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
        }

        .dfn-paneled[role="button"] {
            cursor: pointer;
        }
    </style>
    <style>
        /* Boilerplate: style-dfn-panel */
        :root {
            --dfnpanel-bg: #ddd;
            --dfnpanel-text: var(--text);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --dfnpanel-bg: #222;
                --dfnpanel-text: var(--text);
            }
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--dfnpanel-bg);
            color: var(--dfnpanel-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .dfn-panel:not(.on) {
            display: none;
        }

        .dfn-panel * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .dfn-panel>b {
            display: block;
        }

        .dfn-panel a {
            color: var(--dfnpanel-text);
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important;
        }

        .dfn-panel>b+b {
            margin-top: 0.25em;
        }

        .dfn-panel ul {
            padding: 0 0 0 1em;
            list-style: none;
        }

        .dfn-panel li a {
            white-space: pre;
            display: inline-block;
            max-width: calc(300px - 1.5em - 1em);
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: .5em;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
        }

        .dfn-paneled[role="button"] {
            cursor: pointer;
        }
    </style>
    <style>
        /* Boilerplate: style-issues */
        a[href].issue-return {
            float: right;
            float: inline-end;
            color: var(--issueheading-text);
            font-weight: bold;
            text-decoration: none;
        }
    </style>
    <style>
        /* Boilerplate: style-md-lists */
        /* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
        [data-md]> :first-child {
            margin-top: 0;
        }

        [data-md]> :last-child {
            margin-bottom: 0;
        }
    </style>
    <style>
        /* Boilerplate: style-mdn-anno */
        :root {
            --mdn-bg: #EEE;
            --mdn-shadow: #999;
            --mdn-nosupport-text: #ccc;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --mdn-bg: #222;
                --mdn-shadow: #444;
                --mdn-nosupport-text: #666;
            }
        }

        .mdn-anno {
            background: var(--mdn-bg, #EEE);
            border-radius: .25em;
            box-shadow: 0 0 3px var(--mdn-shadow, #999);
            color: var(--text, black);
            font: 1em sans-serif;
            hyphens: none;
            max-width: min-content;
            overflow: hidden;
            padding: 0.2em;
            position: absolute;
            right: 0.3em;
            top: auto;
            white-space: nowrap;
            word-wrap: normal;
            z-index: 8;
        }

        .mdn-anno.unpositioned {
            display: none;
        }

        .mdn-anno.overlapping-main {
            opacity: .2;
            transition: opacity .1s;
        }

        .mdn-anno[open] {
            opacity: 1;
            z-index: 9;
            min-width: 9em;
        }

        .mdn-anno:hover {
            opacity: 1;
            outline: var(--text, black) 1px solid;
        }

        .mdn-anno>summary {
            font-weight: normal;
            text-align: right;
            cursor: pointer;
            display: block;
        }

        .mdn-anno>summary>.less-than-two-engines-flag {
            color: red;
            padding-right: 2px;
        }

        .mdn-anno>summary>.all-engines-flag {
            color: green;
            padding-right: 2px;
        }

        .mdn-anno>summary>span {
            color: #fff;
            background-color: #000;
            font-weight: normal;
            font-family: zillaslab, Palatino, "Palatino Linotype", serif;
            padding: 2px 3px 0px 3px;
            line-height: 1.3em;
            vertical-align: top;
        }

        .mdn-anno>.feature {
            margin-top: 20px;
        }

        .mdn-anno>.feature:not(:first-of-type) {
            border-top: 1px solid #999;
            margin-top: 6px;
            padding-top: 2px;
        }

        .mdn-anno>.feature>.less-than-two-engines-text {
            color: red;
        }

        .mdn-anno>.feature>.all-engines-text {
            color: green;
        }

        .mdn-anno>.feature>p {
            font-size: .75em;
            margin-top: 6px;
            margin-bottom: 0;
        }

        .mdn-anno>.feature>p+p {
            margin-top: 3px;
        }

        .mdn-anno>.feature>.support {
            display: block;
            font-size: 0.6em;
            margin: 0;
            padding: 0;
            margin-top: 2px;
        }

        .mdn-anno>.feature>.support+div {
            padding-top: 0.5em;
        }

        .mdn-anno>.feature>.support>hr {
            display: block;
            border: none;
            border-top: 1px dotted #999;
            padding: 3px 0px 0px 0px;
            margin: 2px 3px 0px 3px;
        }

        .mdn-anno>.feature>.support>hr::before {
            content: "";
        }

        .mdn-anno>.feature>.support>span {
            padding: 0.2em 0;
            display: block;
            display: table;
        }

        .mdn-anno>.feature>.support>span.no {
            color: var(--mdn-nosupport-text);
            filter: grayscale(100%);
        }

        .mdn-anno>.feature>.support>span.no::before {
            opacity: 0.5;
        }

        .mdn-anno>.feature>.support>span:first-of-type {
            padding-top: 0.5em;
        }

        .mdn-anno>.feature>.support>span>span {
            padding: 0 0.5em;
            display: table-cell;
        }

        .mdn-anno>.feature>.support>span>span:first-child {
            width: 100%;
        }

        .mdn-anno>.feature>.support>span>span:last-child {
            width: 100%;
            white-space: pre;
            padding: 0;
        }

        .mdn-anno>.feature>.support>span::before {
            content: ' ';
            display: table-cell;
            min-width: 1.5em;
            height: 1.5em;
            background: no-repeat center center;
            background-size: contain;
            text-align: right;
            font-size: 0.75em;
            font-weight: bold;
        }

        .mdn-anno>.feature>.support>.chrome_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
        }

        .mdn-anno>.feature>.support>.firefox_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
        }

        .mdn-anno>.feature>.support>.chrome::before {
            background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
        }

        .mdn-anno>.feature>.support>.edge_blink::before {
            background-image: url(https://resources.whatwg.org/browser-logos/edge.svg);
        }

        .mdn-anno>.feature>.support>.edge::before {
            background-image: url(https://resources.whatwg.org/browser-logos/edge_legacy.svg);
        }

        .mdn-anno>.feature>.support>.firefox::before {
            background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
        }

        .mdn-anno>.feature>.support>.ie::before {
            background-image: url(https://resources.whatwg.org/browser-logos/ie.png);
        }

        .mdn-anno>.feature>.support>.safari_ios::before {
            background-image: url(https://resources.whatwg.org/browser-logos/safari-ios.svg);
        }

        .mdn-anno>.feature>.support>.nodejs::before {
            background-image: url(https://nodejs.org/static/images/favicons/favicon.ico);
        }

        .mdn-anno>.feature>.support>.opera_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
        }

        .mdn-anno>.feature>.support>.opera::before {
            background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
        }

        .mdn-anno>.feature>.support>.safari::before {
            background-image: url(https://resources.whatwg.org/browser-logos/safari.png);
        }

        .mdn-anno>.feature>.support>.samsunginternet_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/samsung.svg);
        }

        .mdn-anno>.feature>.support>.webview_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/android-webview.png);
        }

        .name-slug-mismatch {
            color: red;
        }

        .caniuse-status:hover {
            z-index: 9;
        }

        /* dt, li, .issue, .note, and .example are "position: relative", so to put annotation at right margin, must move to right of containing block */
        ;

        .h-entry:not(.status-LS) dt>.mdn-anno,
        .h-entry:not(.status-LS) li>.mdn-anno,
        .h-entry:not(.status-LS) .issue>.mdn-anno,
        .h-entry:not(.status-LS) .note>.mdn-anno,
        .h-entry:not(.status-LS) .example>.mdn-anno {
            right: -6.7em;
        }

        .h-entry p+.mdn-anno {
            margin-top: 0;
        }

        h2+.mdn-anno.after {
            margin: -48px 0 0 0;
        }

        h3+.mdn-anno.after {
            margin: -46px 0 0 0;
        }

        h4+.mdn-anno.after {
            margin: -42px 0 0 0;
        }

        h5+.mdn-anno.after {
            margin: -40px 0 0 0;
        }

        h6+.mdn-anno.after {
            margin: -40px 0 0 0;
        }
    </style>
    <style>
        /* Boilerplate: style-selflinks */

        :root {
            --selflink-text: white;
            --selflink-bg: gray;
            --selflink-hover-text: black;
        }

        .heading,
        .issue,
        .note,
        .example,
        li,
        dt {
            position: relative;
        }

        a.self-link {
            position: absolute;
            top: 0;
            left: calc(-1 * (3.5rem - 26px));
            width: calc(3.5rem - 26px);
            height: 2em;
            text-align: center;
            border: none;
            transition: opacity .2s;
            opacity: .5;
        }

        a.self-link:hover {
            opacity: 1;
        }

        .heading>a.self-link {
            font-size: 83%;
        }

        .example>a.self-link,
        .note>a.self-link,
        .issue>a.self-link {
            /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
            left: auto;
            right: 0;
        }

        li>a.self-link {
            left: calc(-1 * (3.5rem - 26px) - 2em);
        }

        dfn>a.self-link {
            top: auto;
            left: auto;
            opacity: 0;
            width: 1.5em;
            height: 1.5em;
            background: var(--selflink-bg);
            color: var(--selflink-text);
            font-style: normal;
            transition: opacity .2s, background-color .2s, color .2s;
        }

        dfn:hover>a.self-link {
            opacity: 1;
        }

        dfn>a.self-link:hover {
            color: var(--selflink-hover-text);
        }

        a.self-link::before {
            content: "¶";
        }

        .heading>a.self-link::before {
            content: "§";
        }

        dfn>a.self-link::before {
            content: "#";
        }
    </style>
    <style>
        /* Boilerplate: style-syntax-highlighting */

        pre.idl.highlight {
            background: var(--borderedblock-bg, var(--def-bg));
        }
    </style>
    <style>
        /* Boilerplate: style-syntax-highlighting */

        code.highlight {
            padding: .1em;
            border-radius: .3em;
        }

        pre.highlight,
        pre>code.highlight {
            display: block;
            padding: 1em;
            margin: .5em 0;
            overflow: auto;
            border-radius: 0;
        }

        .highlight:not(.idl) {
            background: rgba(0, 0, 0, .03);
        }

        c-[a] {
            color: #990055
        }

        /* Keyword.Declaration */
        c-[b] {
            color: #990055
        }

        /* Keyword.Type */
        c-[c] {
            color: #708090
        }

        /* Comment */
        c-[d] {
            color: #708090
        }

        /* Comment.Multiline */
        c-[e] {
            color: #0077aa
        }

        /* Name.Attribute */
        c-[f] {
            color: #669900
        }

        /* Name.Tag */
        c-[g] {
            color: #222222
        }

        /* Name.Variable */
        c-[k] {
            color: #990055
        }

        /* Keyword */
        c-[l] {
            color: #000000
        }

        /* Literal */
        c-[m] {
            color: #000000
        }

        /* Literal.Number */
        c-[n] {
            color: #0077aa
        }

        /* Name */
        c-[o] {
            color: #999999
        }

        /* Operator */
        c-[p] {
            color: #999999
        }

        /* Punctuation */
        c-[s] {
            color: #a67f59
        }

        /* Literal.String */
        c-[t] {
            color: #a67f59
        }

        /* Literal.String.Single */
        c-[u] {
            color: #a67f59
        }

        /* Literal.String.Double */
        c-[cp] {
            color: #708090
        }

        /* Comment.Preproc */
        c-[c1] {
            color: #708090
        }

        /* Comment.Single */
        c-[cs] {
            color: #708090
        }

        /* Comment.Special */
        c-[kc] {
            color: #990055
        }

        /* Keyword.Constant */
        c-[kn] {
            color: #990055
        }

        /* Keyword.Namespace */
        c-[kp] {
            color: #990055
        }

        /* Keyword.Pseudo */
        c-[kr] {
            color: #990055
        }

        /* Keyword.Reserved */
        c-[ld] {
            color: #000000
        }

        /* Literal.Date */
        c-[nc] {
            color: #0077aa
        }

        /* Name.Class */
        c-[no] {
            color: #0077aa
        }

        /* Name.Constant */
        c-[nd] {
            color: #0077aa
        }

        /* Name.Decorator */
        c-[ni] {
            color: #0077aa
        }

        /* Name.Entity */
        c-[ne] {
            color: #0077aa
        }

        /* Name.Exception */
        c-[nf] {
            color: #0077aa
        }

        /* Name.Function */
        c-[nl] {
            color: #0077aa
        }

        /* Name.Label */
        c-[nn] {
            color: #0077aa
        }

        /* Name.Namespace */
        c-[py] {
            color: #0077aa
        }

        /* Name.Property */
        c-[ow] {
            color: #999999
        }

        /* Operator.Word */
        c-[mb] {
            color: #000000
        }

        /* Literal.Number.Bin */
        c-[mf] {
            color: #000000
        }

        /* Literal.Number.Float */
        c-[mh] {
            color: #000000
        }

        /* Literal.Number.Hex */
        c-[mi] {
            color: #000000
        }

        /* Literal.Number.Integer */
        c-[mo] {
            color: #000000
        }

        /* Literal.Number.Oct */
        c-[sb] {
            color: #a67f59
        }

        /* Literal.String.Backtick */
        c-[sc] {
            color: #a67f59
        }

        /* Literal.String.Char */
        c-[sd] {
            color: #a67f59
        }

        /* Literal.String.Doc */
        c-[se] {
            color: #a67f59
        }

        /* Literal.String.Escape */
        c-[sh] {
            color: #a67f59
        }

        /* Literal.String.Heredoc */
        c-[si] {
            color: #a67f59
        }

        /* Literal.String.Interpol */
        c-[sx] {
            color: #a67f59
        }

        /* Literal.String.Other */
        c-[sr] {
            color: #a67f59
        }

        /* Literal.String.Regex */
        c-[ss] {
            color: #a67f59
        }

        /* Literal.String.Symbol */
        c-[vc] {
            color: #0077aa
        }

        /* Name.Variable.Class */
        c-[vg] {
            color: #0077aa
        }

        /* Name.Variable.Global */
        c-[vi] {
            color: #0077aa
        }

        /* Name.Variable.Instance */
        c-[il] {
            color: #000000
        }

        /* Literal.Number.Integer.Long */


        @media (prefers-color-scheme: dark) {
            .highlight:not(.idl) {
                background: rgba(255, 255, 255, .05);
            }

            c-[a] {
                color: #d33682
            }

            /* Keyword.Declaration */
            c-[b] {
                color: #d33682
            }

            /* Keyword.Type */
            c-[c] {
                color: #2aa198
            }

            /* Comment */
            c-[d] {
                color: #2aa198
            }

            /* Comment.Multiline */
            c-[e] {
                color: #268bd2
            }

            /* Name.Attribute */
            c-[f] {
                color: #b58900
            }

            /* Name.Tag */
            c-[g] {
                color: #cb4b16
            }

            /* Name.Variable */
            c-[k] {
                color: #d33682
            }

            /* Keyword */
            c-[l] {
                color: #657b83
            }

            /* Literal */
            c-[m] {
                color: #657b83
            }

            /* Literal.Number */
            c-[n] {
                color: #268bd2
            }

            /* Name */
            c-[o] {
                color: #657b83
            }

            /* Operator */
            c-[p] {
                color: #657b83
            }

            /* Punctuation */
            c-[s] {
                color: #6c71c4
            }

            /* Literal.String */
            c-[t] {
                color: #6c71c4
            }

            /* Literal.String.Single */
            c-[u] {
                color: #6c71c4
            }

            /* Literal.String.Double */
            c-[ch] {
                color: #2aa198
            }

            /* Comment.Hashbang */
            c-[cp] {
                color: #2aa198
            }

            /* Comment.Preproc */
            c-[cpf] {
                color: #2aa198
            }

            /* Comment.PreprocFile */
            c-[c1] {
                color: #2aa198
            }

            /* Comment.Single */
            c-[cs] {
                color: #2aa198
            }

            /* Comment.Special */
            c-[kc] {
                color: #d33682
            }

            /* Keyword.Constant */
            c-[kn] {
                color: #d33682
            }

            /* Keyword.Namespace */
            c-[kp] {
                color: #d33682
            }

            /* Keyword.Pseudo */
            c-[kr] {
                color: #d33682
            }

            /* Keyword.Reserved */
            c-[ld] {
                color: #657b83
            }

            /* Literal.Date */
            c-[nc] {
                color: #268bd2
            }

            /* Name.Class */
            c-[no] {
                color: #268bd2
            }

            /* Name.Constant */
            c-[nd] {
                color: #268bd2
            }

            /* Name.Decorator */
            c-[ni] {
                color: #268bd2
            }

            /* Name.Entity */
            c-[ne] {
                color: #268bd2
            }

            /* Name.Exception */
            c-[nf] {
                color: #268bd2
            }

            /* Name.Function */
            c-[nl] {
                color: #268bd2
            }

            /* Name.Label */
            c-[nn] {
                color: #268bd2
            }

            /* Name.Namespace */
            c-[py] {
                color: #268bd2
            }

            /* Name.Property */
            c-[ow] {
                color: #657b83
            }

            /* Operator.Word */
            c-[mb] {
                color: #657b83
            }

            /* Literal.Number.Bin */
            c-[mf] {
                color: #657b83
            }

            /* Literal.Number.Float */
            c-[mh] {
                color: #657b83
            }

            /* Literal.Number.Hex */
            c-[mi] {
                color: #657b83
            }

            /* Literal.Number.Integer */
            c-[mo] {
                color: #657b83
            }

            /* Literal.Number.Oct */
            c-[sa] {
                color: #6c71c4
            }

            /* Literal.String.Affix */
            c-[sb] {
                color: #6c71c4
            }

            /* Literal.String.Backtick */
            c-[sc] {
                color: #6c71c4
            }

            /* Literal.String.Char */
            c-[dl] {
                color: #6c71c4
            }

            /* Literal.String.Delimiter */
            c-[sd] {
                color: #6c71c4
            }

            /* Literal.String.Doc */
            c-[se] {
                color: #6c71c4
            }

            /* Literal.String.Escape */
            c-[sh] {
                color: #6c71c4
            }

            /* Literal.String.Heredoc */
            c-[si] {
                color: #6c71c4
            }

            /* Literal.String.Interpol */
            c-[sx] {
                color: #6c71c4
            }

            /* Literal.String.Other */
            c-[sr] {
                color: #6c71c4
            }

            /* Literal.String.Regex */
            c-[ss] {
                color: #6c71c4
            }

            /* Literal.String.Symbol */
            c-[fm] {
                color: #268bd2
            }

            /* Name.Function.Magic */
            c-[vc] {
                color: #cb4b16
            }

            /* Name.Variable.Class */
            c-[vg] {
                color: #cb4b16
            }

            /* Name.Variable.Global */
            c-[vi] {
                color: #cb4b16
            }

            /* Name.Variable.Instance */
            c-[vm] {
                color: #cb4b16
            }

            /* Name.Variable.Magic */
            c-[il] {
                color: #657b83
            }

            /* Literal.Number.Integer.Long */
        }
    </style>
    <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-WD" rel="stylesheet">

<body class="h-entry">
    <div class="head">
        <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48"
                    src="https://www.w3.org/StyleSheets/TR/2016/logos/W3C" width="72"> </a> </p>
        <h1 class="p-name no-ref" id="title">交叉观察者</h1>
        <p id="w3c-state"><a href="https://www.w3.org/standards/types#WD">W3C 工作草案</a>，<time class="dt-updated"
                datetime="2023-10-18">2023年10月18日</time></p>
        <details open>
            <summary>关于本文档的更多信息</summary>
            <div data-fill-with="spec-metadata">
                <dl>
                    <dt>当前版本：
                    <dd><a class="u-url"
                            href="https://www.w3.org/TR/2023/WD-intersection-observer-20231018/">https://www.w3.org/TR/2023/WD-intersection-observer-20231018/</a>
                    <dt>最新发布版本：
                    <dd><a
                            href="https://www.w3.org/TR/intersection-observer/">https://www.w3.org/TR/intersection-observer/</a>
                    <dt>编辑草案：
                    <dd><a
                            href="https://w3c.github.io/IntersectionObserver/">https://w3c.github.io/IntersectionObserver/</a>
                    <dt>之前的版本：
                    <dd><a href="https://www.w3.org/TR/2023/WD-intersection-observer-20231003/"
                            rel="prev">https://www.w3.org/TR/2023/WD-intersection-observer-20231003/</a>
                    <dd><a href="https://www.w3.org/TR/2023/WD-intersection-observer-20231003/"
                            rel="prev">https://www.w3.org/TR/2023/WD-intersection-observer-20231003/</a>
                    <dt>历史记录：
                    <dd><a class="u-url"
                            href="https://www.w3.org/standards/history/intersection-observer/">https://www.w3.org/standards/history/intersection-observer/</a>
                    <dt>测试套件：
                    <dd><a
                            href="http://w3c-test.org/intersection-observer/">http://w3c-test.org/intersection-observer/</a>
                    <dt>反馈：
                    <dd><a href="https://github.com/W3C/IntersectionObserver/issues/">GitHub</a>
                    <dt class="editor">编辑：
                    <dd class="editor p-author h-card vcard" data-editor-id="91208"><a class="p-name fn u-email email"
                            href="mailto:szager@google.com">Stefan Zager</a> (<span class="p-org org">Google</span>)
                    <dd class="editor p-author h-card vcard" data-editor-id="106537"><a class="p-name fn u-email email"
                            href="mailto:emilio@mozilla.com">Emilio Cobos Álvarez</a> (<span
                            class="p-org org">Mozilla</span>)
                    <dd class="editor p-author h-card vcard" data-editor-id="137959"><a class="p-name fn u-email email"
                            href="mailto:tcaptan@google.com">Traian Captan</a> (<span class="p-org org">Google</span>)
                    <dt class="editor">前任编辑：
                    <dd class="editor p-author h-card vcard" data-editor-id="73819"><a class="p-name fn u-email email"
                            href="mailto:mpb@google.com">Michael Blain</a> (<span class="p-org org">Google</span>)
                </dl>
            </div>
        </details>
        <div data-fill-with="warning"></div>
        <p class="copyright" data-fill-with="copyright"><a
                href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2023 <a
                href="https://www.w3.org/">World Wide Web Consortium</a>. <abbr
                title="World Wide Web Consortium">W3C</abbr><sup>®</sup> <a
                href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a
                href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a
                href="https://www.w3.org/Consortium/Legal/copyright-software" rel="license"
                title="W3C Software and Document License">permissive document license</a> rules apply. </p>
        <hr title="标题分隔符">
    </div>
    <div class="p-summary" data-fill-with="abstract">
        <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">摘要</span></h2>
        <p>本规范描述了一个API，用于理解DOM元素（“目标”）相对于包含元素或顶级视口（“根”）的可见性和位置。位置信息是异步传递的，对于理解元素的可见性以及实现DOM内容的预加载和延迟加载非常有用。</p>
    </div>
    <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">本文档的状态</span></h2>
    <div data-fill-with="status">
        <p> <em>本节描述了本文档在发布时的状态。当前<abbr title="World Wide Web Consortium">W3C</abbr>出版物列表和本技术报告的最新修订版可以在<abbr
                    title="World Wide Web Consortium">W3C</abbr>技术报告索引中找到，网址为：https://www.w3.org/TR/。</em> </p>
        <p> 本文档由<a href="https://www.w3.org/groups/wg/webapps">Web 应用工作组</a>作为工作草案发布。本文件旨在成为<abbr
                title="World Wide Web Consortium">W3C</abbr>推荐标准。 </p>
        <p></p>
        <p> 本文档由<a href="https://www.w3.org/groups/wg/webapps">Web 应用工作组</a>根据<a
                href="https://www.w3.org/2023/Process-20230612/#recs-and-notes">推荐轨道</a>发布为工作草案。

            欢迎对本规范的反馈和评论。请使用<a href="https://github.com/W3C/IntersectionObserver/issues">GitHub问题</a>。历史讨论可以在<a
                href="https://lists.w3.org/Archives/Public/public-webapps/">public-webapps@w3.org</a>存档中找到。 </p>
        <p> 作为工作草案发布不意味着<abbr
                title="World Wide Web Consortium">W3C</abbr>及其成员的认可。这是一个草案文档，可能会随时更新、替换或被其他文档取代。引用本文档为工作进展中的内容是不恰当的。
        </p>
        <p> 本文档由在<a href="https://www.w3.org/Consortium/Patent-Policy-20200915/"><abbr
                    title="World Wide Web Consortium">W3C</abbr> 专利政策</a>下运作的小组制作。<abbr
                title="World Wide Web Consortium">W3C</abbr>维护<a href="https://www.w3.org/2004/01/pp-impl/114929/status"
                rel="disclosure">所有与小组交付物相关的专利披露的公共列表</a>；该页面还包括披露专利的说明。拥有专利实际知识的个人认为该专利包含<a
                href="https://www.w3.org/Consortium/Patent-Policy-20200915/#def-essential">基本要求</a>的必须根据<a
                href="https://www.w3.org/Consortium/Patent-Policy-20200915/#sec-Disclosure">W3C专利政策第6节</a>披露信息。 </p>
        <p>本文件受<a href="https://www.w3.org/2023/Process-20230612/" id="w3c_process_revision">2023年6月12日W3C流程文件</a>管理。
        </p>
    </div>

    <div data-fill-with="at-risk"></div>
    <nav data-fill-with="table-of-contents" id="toc">
        <h2 class="no-num no-toc no-ref" id="contents">目录</h2>
        <ol class="toc" role="directory">
            <li><a href="#introduction"><span class="secno">1</span> <span class="content">介绍</span></a>
            <li>
                <a href="#intersection-observer-api"><span class="secno">2</span> <span class="content">Intersection
                        Observer</span></a>
                <ol class="toc">
                    <li><a href="#intersection-observer-callback"><span class="secno">2.1</span> <span class="content">
                                IntersectionObserverCallback</span></a>
                    <li><a href="#intersection-observer-interface"><span class="secno">2.2</span> <span class="content">
                                IntersectionObserver 接口</span></a>
                    <li><a href="#intersection-observer-entry"><span class="secno">2.3</span> <span class="content">
                                IntersectionObserverEntry 接口</span></a>
                    <li><a href="#intersection-observer-init"><span class="secno">2.4</span> <span class="content">
                                IntersectionObserverInit 字典</span></a>
                </ol>
            <li>
                <a href="#intersection-observer-processing-model"><span class="secno">3</span> <span class="content">
                        处理模型</span></a>
                <ol class="toc">
                    <li>
                        <a href="#defines"><span class="secno">3.1</span> <span class="content"> 内部槽定义</span></a>
                        <ol class="toc">
                            <li><a href="#document-defines"><span class="secno">3.1.1</span> <span class="content">
                                        文档</span></a>
                            <li><a href="#element-private-slots"><span class="secno">3.1.2</span> <span class="content">
                                        元素</span></a>
                            <li><a href="#intersection-observer-private-slots"><span class="secno">3.1.3</span> <span
                                        class="content"> IntersectionObserver</span></a>
                        </ol>
                    <li>
                        <a href="#algorithms"><span class="secno">3.2</span> <span class="content">
                                算法</span></a>
                        <ol class="toc">
                            <li><a href="#initialize-new-intersection-observer"><span class="secno">3.2.1</span> <span
                                        class="content">初始化新的 IntersectionObserver</span></a>
                            <li><a href="#observe-target-element"><span class="secno">3.2.2</span> <span
                                        class="content">观察目标元素</span></a>
                            <li><a href="#unobserve-target-element"><span class="secno">3.2.3</span> <span
                                        class="content">取消观察目标元素</span></a>
                            <li><a href="#queue-intersection-observer-task"><span class="secno">3.2.4</span> <span
                                        class="content">队列一个 Intersection Observer 任务</span></a>
                            <li><a href="#notify-intersection-observers-algo"><span class="secno">3.2.5</span> <span
                                        class="content">通知 Intersection Observer</span></a>
                            <li><a href="#queue-intersection-observer-entry-algo"><span class="secno">3.2.6</span> <span
                                        class="content">队列一个 IntersectionObserverEntry</span></a>
                            <li><a href="#calculate-intersection-rect-algo"><span class="secno">3.2.7</span> <span
                                        class="content">计算目标元素与根的交集</span></a>
                            <li><a href="#update-intersection-observations-algo"><span class="secno">3.2.8</span> <span
                                        class="content">运行更新交叉观察步骤</span></a>
                        </ol>
                    <li><a href="#lifetime"><span class="secno">3.3</span> <span class="content">IntersectionObserver
                                的生命周期</span></a>
                    <li>
                        <a href="#external-spec-integrations"><span class="secno">3.4</span> <span class="content">
                                外部规范集成</span></a>
                        <ol class="toc">
                            <li><a href="#event-loop"><span class="secno">3.4.1</span> <span class="content"> HTML
                                        处理模型：事件循环</span></a>
                            <li><a href="#pending-initial-observation"><span class="secno">3.4.2</span> <span
                                        class="content">待定初始 IntersectionObserver 目标</span></a>
                        </ol>
                </ol>
            <li><a href="#accessibility"><span class="secno">4</span> <span class="content">可访问性考虑</span></a>
            <li><a href="#privacy"><span class="secno">5</span> <span class="content">隐私和安全</span></a>
            <li><a href="#internationalization"><span class="secno">6</span> <span class="content">国际化</span></a>
            <li><a href="#acknowledgements"><span class="secno">7</span> <span class="content">致谢</span></a>
            <li>
                <a href="#w3c-conformance"><span class="secno"></span> <span class="content">符合性</span></a>
                <ol class="toc">
                    <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content">文档约定</span></a>
                    <li><a href="#w3c-conformant-algorithms"><span class="secno"></span> <span
                                class="content">符合性算法</span></a>
                </ol>
            <li>
                <a href="#index"><span class="secno"></span> <span class="content">索引</span></a>
                <ol class="toc">
                    <li><a href="#index-defined-here"><span class="secno"></span> <span
                                class="content">本规范定义的术语</span></a>
                    <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span
                                class="content">引用中定义的术语</span></a>
                </ol>
            <li>
                <a href="#references"><span class="secno"></span> <span class="content">参考文献</span></a>
                <ol class="toc">
                    <li><a href="#normative"><span class="secno"></span> <span class="content">规范性参考文献</span></a>
                </ol>
            <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL 索引</span></a>
        </ol>
    </nav>

    <main>
        <h2 class="heading settled" data-level="1" id="introduction"><span class="secno">1. </span><span
                class="content">介绍</span><a class="self-link" href="#introduction"></a></h2>
        <p>Web 的传统位置计算机制依赖于对 DOM 状态的显式查询，而这些查询已知会导致（昂贵的）样式重新计算和布局，并且经常因为持续轮询这些信息而成为显著性能开销的来源。</p>
        <p>一个依赖这些行为的常见实践体系已经发展起来，包括（但不限于）：</p>
        <ul>
            <li data-md>
                <p>构建自定义的 DOM 和数据的预加载和延迟加载。</p>
            <li data-md>
                <p>实现数据绑定的高性能滚动列表，这些列表加载并渲染数据集的子集。这些列表是移动交互的核心习惯用法。</p>
            <li data-md>
                <p>计算元素的可见性。特别是，<a
                        href="http://www.iab.net/iablog/2014/03/viewability-has-arrived-what-you-need-to-know-to-see-through-this-sea-change.html">广告网络现在要求报告广告的“可见性”以货币化展示次数</a>。这导致许多网站滥用滚动处理程序（导致滚动时卡顿），<a
                        href="http://gent.ilcore.com/2011/03/how-not-to-trigger-layout-in-webkit.html">同步布局调用回读</a>（在
                    rAF 循环中导致不必要的关键工作），并且诉诸于计算“真正”元素可见性的奇异插件解决方案（伴随着插件架构的所有相关开销）。</p>
        </ul>
        <p>这些用例有几个共同点：</p>
        <ol>
            <li data-md>
                <p>它们可以表示为关于单个元素相对于某些其他元素（或全局<a data-link-type="dfn"
                        href="https://drafts.csswg.org/css2/visuren.html#viewport"
                        id="ref-for-viewport">视口</a>）状态的被动“查询”。</p>
            <li data-md>
                <p>它们不施加严格的延迟要求；也就是说，信息可以异步交付（例如，从另一个线程）而不会产生惩罚。</p>
            <li data-md>
                <p>几乎所有现有 Web 平台功能组合对它们的支持都很差，尽管它们被广泛使用，但仍需开发者付出额外的努力。</p>
        </ol>
        <p>一个显著的非目标是像素精确的关于实际显示内容的信息（在某些浏览器架构中，面对滤镜、WebGL
            和其他功能时，获取这些信息可能相当困难）。在所有这些场景中，即使信息在稍微延迟的情况下交付，并且没有完美的合成结果数据，该信息仍然是有用的。</p>
        <p>Intersection Observer API 通过为开发者提供一种新的方法来异步查询元素相对于其他元素或全局<a data-link-type="dfn"
                href="https://drafts.csswg.org/css2/visuren.html#viewport"
                id="ref-for-viewport①">视口</a>的位置，解决了上述问题。异步交付消除了昂贵的 DOM 和样式查询、持续轮询以及使用自定义插件的需求。通过消除这些方法的需求，它允许应用程序显著降低
            CPU、GPU 和能量成本。</p>
        <div class="example" id="example-ffe37088">
            <a class="self-link" href="#example-ffe37088"></a>
            <pre class="highlight"><c- a>var</c-> observer <c- o>=</c-> <c- ow>new</c-> IntersectionObserver<c- p>(</c->changes <c- p>=></c-> <c- p>{</c->
<c- k>for</c-> <c- p>(</c-><c- a>const</c-> change <c- k>of</c-> changes<c- p>)</c-> <c- p>{</c->
console<c- p>.</c->log<c- p>(</c->change<c- p>.</c->time<c- p>);</c->               <c- c1>// 变更发生的时间戳</c->
console<c- p>.</c->log<c- p>(</c->change<c- p>.</c->rootBounds<c- p>);</c->         <c- c1>// 根的未剪裁区域</c->
console<c- p>.</c->log<c- p>(</c->change<c- p>.</c->boundingClientRect<c- p>);</c-> <c- c1>// target.getBoundingClientRect()</c->
console<c- p>.</c->log<c- p>(</c->change<c- p>.</c->intersectionRect<c- p>);</c->   <c- c1>// boundingClientRect，由其包含块祖先剪裁并与 rootBounds 相交</c->
console<c- p>.</c->log<c- p>(</c->change<c- p>.</c->intersectionRatio<c- p>);</c->  <c- c1>// intersectionRect 面积与 boundingClientRect 面积的比率</c->
console<c- p>.</c->log<c- p>(</c->change<c- p>.</c->target<c- p>);</c->             <c- c1>// 元素 target</c->
<c- p>}</c->
<c- p>},</c-> <c- p>{});</c->

<c- c1>// 观察特定目标元素的交集事件。</c->
observer<c- p>.</c->observe<c- p>(</c->target<c- p>);</c->

<c- c1>// 停止观察特定目标元素的交集事件。</c->
observer<c- p>.</c->unobserve<c- p>(</c->target<c- p>);</c->

<c- c1>// 停止观察所有目标元素的阈值事件。</c->
observer<c- p>.</c->disconnect<c- p>();</c->
</pre>
        </div>

        <h2 class="heading settled" data-level="2" id="intersection-observer-api"><span class="secno">2. </span><span
                class="content">Intersection Observer</span><a class="self-link" href="#intersection-observer-api"></a>
        </h2>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="intersection-observer">Intersection
                Observer</dfn> API 使开发者能够理解 <dfn class="dfn-paneled" data-dfn-for="IntersectionObserver"
                data-dfn-type="dfn" data-noexport id="intersectionobserver-target">目标</dfn> DOM 元素相对于 <a
                data-link-type="dfn" href="#intersectionobserver-intersection-root"
                id="ref-for-intersectionobserver-intersection-root">交叉根</a> 的可见性和位置。</p>
        <h3 class="heading settled" data-level="2.1" id="intersection-observer-callback"><span class="secno">2.1.
            </span><span class="content"> IntersectionObserverCallback</span><a class="self-link"
                href="#intersection-observer-callback"></a></h3>
        <pre class="idl highlight def"><c- b>callback</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="callback" data-export id="callbackdef-intersectionobservercallback"><code><c- g>IntersectionObserverCallback</c-></code></dfn> = <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-undefined" id="ref-for-idl-undefined"><c- b>undefined</c-></a> (<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#intersectionobserverentry" id="ref-for-intersectionobserverentry"><c- n>IntersectionObserverEntry</c-></a>> <dfn class="idl-code" data-dfn-for="IntersectionObserverCallback" data-dfn-type="argument" data-export id="dom-intersectionobservercallback-entries"><code><c- g>entries</c-></code><a class="self-link" href="#dom-intersectionobservercallback-entries"></a></dfn>, <a data-link-type="idl-name" href="#intersectionobserver" id="ref-for-intersectionobserver"><c- n>IntersectionObserver</c-></a> <dfn class="idl-code" data-dfn-for="IntersectionObserverCallback" data-dfn-type="argument" data-export id="dom-intersectionobservercallback-observer"><code><c- g>observer</c-></code><a class="self-link" href="#dom-intersectionobservercallback-observer"></a></dfn>);
</pre>
        <p>当 <a data-link-type="dfn" href="#intersectionobserver-target" id="ref-for-intersectionobserver-target">目标</a>
            的与 <a data-link-type="dfn" href="#intersectionobserver-intersection-root"
                id="ref-for-intersectionobserver-intersection-root①">交叉根</a> 的交集发生变化时，将调用此回调，如 <a data-link-type="dfn"
                href="#intersection-observer-processing-model"
                id="ref-for-intersection-observer-processing-model">处理模型</a> 所述。</p>
        <h3 class="heading settled" data-level="2.2" id="intersection-observer-interface"><span class="secno">2.2.
            </span><span class="content"> IntersectionObserver 接口</span><a class="self-link"
                href="#intersection-observer-interface"></a></h3>
        <p><code
                class="idl"><a data-link-type="idl" href="#intersectionobserver" id="ref-for-intersectionobserver①">IntersectionObserver</a></code>
            接口可用于观察 <a data-link-type="dfn" href="#intersectionobserver-intersection-root"
                id="ref-for-intersectionobserver-intersection-root②">交叉根</a> 和一个或多个 <a data-link-type="dfn"
                href="#intersectionobserver-target" id="ref-for-intersectionobserver-target①">目标</a> <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element">Element</a></code>
            之间交集的变化。</p>
        <p><dfn class="dfn-paneled" data-dfn-for="IntersectionObserver" data-dfn-type="dfn" data-noexport
                id="intersectionobserver-intersection-root">交叉根</dfn> 对于 <code
                class="idl"><a data-link-type="idl" href="#intersectionobserver" id="ref-for-intersectionobserver②">IntersectionObserver</a></code>
            来说，是其 <code
                class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-root" id="ref-for-dom-intersectionobserver-root">root</a></code>
            属性的值，如果属性为非 <code>null</code>；否则，它是 <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context"
                id="ref-for-top-level-browsing-context">顶级浏览上下文</a> 的 <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-document-2" id="ref-for-dom-document-2">document</a></code>
            节点，称为 <dfn class="dfn-paneled" data-dfn-for="IntersectionObserver" data-dfn-type="dfn" data-noexport
                id="intersectionobserver-implicit-root">隐式根</dfn>。</p>
        <p>具有非 <code>null</code> 的 <code
                class="idl"><a data-link-type="idl" href="#intersectionobserver" id="ref-for-intersectionobserver③">IntersectionObserver</a></code>
            被称为 <dfn class="dfn-paneled" data-dfn-for="IntersectionObserver" data-dfn-type="dfn" data-noexport
                id="intersectionobserver-explicit-root-observer">显式根观察者</dfn>，并且它可以观察任何在 <a data-link-type="dfn"
                href="https://drafts.csswg.org/css-display/#containing-block-chain"
                id="ref-for-containing-block-chain">包含块链</a> 中属于 <code
                class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-root" id="ref-for-dom-intersectionobserver-root②">root</a></code>
            的后代的 <a data-link-type="dfn" href="#intersectionobserver-target"
                id="ref-for-intersectionobserver-target②">目标</a> <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element①">Element</a></code>。具有
            <code>null</code> <code
                class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-root" id="ref-for-dom-intersectionobserver-root③">root</a></code>
            的 <code
                class="idl"><a data-link-type="idl" href="#intersectionobserver" id="ref-for-intersectionobserver④">IntersectionObserver</a></code>
            被称为 <dfn class="dfn-paneled" data-dfn-for="IntersectionObserver" data-dfn-type="dfn" data-noexport
                id="intersectionobserver-implicit-root-observer">隐式根观察者</dfn>。隐式根观察者的有效 <a data-link-type="dfn"
                href="#intersectionobserver-target" id="ref-for-intersectionobserver-target③">目标</a> 包括在 <a
                data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context"
                id="ref-for-top-level-browsing-context①">顶级浏览上下文</a> 中的任何 <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element②">Element</a></code>，以及在属于
            <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context"
                id="ref-for-top-level-browsing-context②">顶级浏览上下文</a> 的 <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/browsers.html#list-of-the-descendant-browsing-contexts"
                id="ref-for-list-of-the-descendant-browsing-contexts">后代浏览上下文列表</a> 的任何 <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/browsers.html#nested-browsing-context"
                id="ref-for-nested-browsing-context">嵌套浏览上下文</a> 中的任何 <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element③">Element</a></code>。
        </p>
        <p>当处理 <a data-link-type="dfn" href="#intersectionobserver-implicit-root-observer"
                id="ref-for-intersectionobserver-implicit-root-observer①">隐式根观察者</a> 时，API 对目标的 <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                id="ref-for-relevant-settings-object">相关设置对象</a> 的 <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/origin.html#origin" id="ref-for-origin">origin</a> 是否与顶级
            origin 是 <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin-domain"
                id="ref-for-same-origin-domain">同源域</a> 进行了区分，称为 <dfn class="dfn-paneled"
                data-dfn-for="IntersectionObserver" data-dfn-type="dfn" data-noexport
                id="intersectionobserver-same-origin-domain-target">同源域目标</dfn>；而与 <dfn class="dfn-paneled"
                data-dfn-for="IntersectionObserver" data-dfn-type="dfn" data-noexport
                id="intersectionobserver-cross-origin-domain-target">跨源域目标</dfn> 相反。<a data-link-type="dfn"
                href="#intersectionobserver-explicit-root-observer"
                id="ref-for-intersectionobserver-explicit-root-observer">显式根观察者</a> 的任何 <a data-link-type="dfn"
                href="#intersectionobserver-target" id="ref-for-intersectionobserver-target⑤">目标</a> 也是 <a
                data-link-type="dfn" href="#intersectionobserver-same-origin-domain-target"
                id="ref-for-intersectionobserver-same-origin-domain-target">同源域目标</a>，因为 <a data-link-type="dfn"
                href="#intersectionobserver-target" id="ref-for-intersectionobserver-target⑥">目标</a> 必须与 <a
                data-link-type="dfn" href="#intersectionobserver-intersection-root"
                id="ref-for-intersectionobserver-intersection-root③">交叉根</a> 位于相同的 <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/dom.html#document" id="ref-for-document">文档</a> 中。</p>
        <p class="note" role="note"><span class="marker">注意:</span> 在 <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#mutationobserver" id="ref-for-mutationobserver">MutationObserver</a></code>
            中，<code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dictdef-mutationobserverinit" id="ref-for-dictdef-mutationobserverinit">MutationObserverInit</a></code>
            选项传递给 <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-mutationobserver-observe" id="ref-for-dom-mutationobserver-observe">observe()</a></code>
            方法，而在 <code
                class="idl"><a data-link-type="idl" href="#intersectionobserver" id="ref-for-intersectionobserver⑤">IntersectionObserver</a></code>
            中，选项传递给构造函数。这是因为对于 MutationObserver，每个被观察的 <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#node" id="ref-for-node">Node</a></code>
            可能有不同的一组属性进行过滤。对于 <code
                class="idl"><a data-link-type="idl" href="#intersectionobserver" id="ref-for-intersectionobserver⑥">IntersectionObserver</a></code>，开发者可以选择使用一个观察者来使用相同的选项集跟踪多个目标；或者，他们可以为每个跟踪的目标使用不同的观察者。对于每个
            <a data-link-type="dfn" href="#intersectionobserver-target" id="ref-for-intersectionobserver-target⑦">目标</a>
            提供 <code
                class="idl"><a data-link-type="idl" href="#dom-intersectionobserverinit-rootmargin" id="ref-for-dom-intersectionobserverinit-rootmargin">rootMargin</a></code>
            或 <code
                class="idl"><a data-link-type="idl" href="#dom-intersectionobserverinit-threshold" id="ref-for-dom-intersectionobserverinit-threshold">threshold</a></code>
            值似乎会引入更多的复杂性，而不会解决额外的用例。如果需要，将来可以提供每个 <code
                class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-observe" id="ref-for-dom-intersectionobserver-observe">observe()</a></code>
            的选项。
        </p>

        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="intersectionobserver"><code><c- g>IntersectionObserver</c-></code></dfn> {
  <dfn class="dfn-paneled idl-code" data-dfn-for="IntersectionObserver" data-dfn-type="constructor" data-export data-lt="IntersectionObserver(callback, options)|constructor(callback, options)|IntersectionObserver(callback)|constructor(callback)" id="dom-intersectionobserver-intersectionobserver"><code><c- g>constructor</c-></code></dfn>(<a data-link-type="idl-name" href="#callbackdef-intersectionobservercallback" id="ref-for-callbackdef-intersectionobservercallback"><c- n>IntersectionObserverCallback</c-></a> <dfn class="idl-code" data-dfn-for="IntersectionObserver/IntersectionObserver(callback, options), IntersectionObserver/constructor(callback, options), IntersectionObserver/IntersectionObserver(callback), IntersectionObserver/constructor(callback)" data-dfn-type="argument" data-export id="dom-intersectionobserver-intersectionobserver-callback-options-callback"><code><c- g>callback</c-></code><a class="self-link" href="#dom-intersectionobserver-intersectionobserver-callback-options-callback"></a></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-intersectionobserverinit" id="ref-for-dictdef-intersectionobserverinit"><c- n>IntersectionObserverInit</c-></a> <dfn class="idl-code" data-dfn-for="IntersectionObserver/IntersectionObserver(callback, options), IntersectionObserver/constructor(callback, options), IntersectionObserver/IntersectionObserver(callback), IntersectionObserver/constructor(callback)" data-dfn-type="argument" data-export id="dom-intersectionobserver-intersectionobserver-callback-options-options"><code><c- g>options</c-></code><a class="self-link" href="#dom-intersectionobserver-intersectionobserver-callback-options-options"></a></dfn> = {});
  <c- b>readonly</c-> <c- b>attribute</c-> (<a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element" id="ref-for-element④"><c- n>Element</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#document" id="ref-for-document①"><c- n>Document</c-></a>)? <a class="idl-code" data-link-type="attribute" data-readonly data-type="(Element or Document)?" href="#dom-intersectionobserver-root" id="ref-for-dom-intersectionobserver-root④"><c- g>root</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString" href="#dom-intersectionobserver-rootmargin" id="ref-for-dom-intersectionobserver-rootmargin"><c- g>rootMargin</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString" href="#dom-intersectionobserver-scrollmargin" id="ref-for-dom-intersectionobserver-scrollmargin"><c- g>scrollMargin</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-double" id="ref-for-idl-double"><c- b>double</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="FrozenArray<double>" href="#dom-intersectionobserver-thresholds" id="ref-for-dom-intersectionobserver-thresholds"><c- g>thresholds</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-undefined" id="ref-for-idl-undefined①"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-intersectionobserver-observe" id="ref-for-dom-intersectionobserver-observe①"><c- g>observe</c-></a>(<a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element" id="ref-for-element⑤"><c- n>Element</c-></a> <dfn class="idl-code" data-dfn-for="IntersectionObserver/observe(target)" data-dfn-type="argument" data-export id="dom-intersectionobserver-observe-target-target"><code><c- g>target</c-></code><a class="self-link" href="#dom-intersectionobserver-observe-target-target"></a></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-undefined" id="ref-for-idl-undefined②"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-intersectionobserver-unobserve" id="ref-for-dom-intersectionobserver-unobserve"><c- g>unobserve</c-></a>(<a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element" id="ref-for-element⑥"><c- n>Element</c-></a> <dfn class="idl-code" data-dfn-for="IntersectionObserver/unobserve(target)" data-dfn-type="argument" data-export id="dom-intersectionobserver-unobserve-target-target"><code><c- g>target</c-></code><a class="self-link" href="#dom-intersectionobserver-unobserve-target-target"></a></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-undefined" id="ref-for-idl-undefined③"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-intersectionobserver-disconnect" id="ref-for-dom-intersectionobserver-disconnect"><c- g>disconnect</c-></a>();
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence①"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#intersectionobserverentry" id="ref-for-intersectionobserverentry①"><c- n>IntersectionObserverEntry</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-intersectionobserver-takerecords" id="ref-for-dom-intersectionobserver-takerecords"><c- g>takeRecords</c-></a>();
};
</pre>
        <div>
            <dl>
                <dt data-md><dfn class="idl-code" data-dfn-for="IntersectionObserver" data-dfn-type="constructor"
                        data-export data-lt="IntersectionObserver(callback, options = {})"
                        id="dom-intersectionobserver-intersectionobserver-callback-options"><code> new IntersectionObserver(callback, options)</code><a
                            class="self-link"
                            href="#dom-intersectionobserver-intersectionobserver-callback-options"></a></dfn>
                <dd data-md>
                    <p>返回运行 <a data-link-type="dfn" href="#initialize-a-new-intersectionobserver"
                            id="ref-for-initialize-a-new-intersectionobserver">初始化一个新的 IntersectionObserver</a>
                        算法的结果，并提供 <var>callback</var> 和 <var>options</var>。</p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="IntersectionObserver" data-dfn-type="method"
                        data-export id="dom-intersectionobserver-observe"><code>observe(target)</code></dfn>
                <dd data-md>
                    <p>运行 <a data-link-type="dfn" href="#observe-a-target-element"
                            id="ref-for-observe-a-target-element">观察一个目标元素</a> 算法，并提供 <var>this</var> 和
                        <var>target</var>。
                    </p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="IntersectionObserver" data-dfn-type="method"
                        data-export id="dom-intersectionobserver-unobserve"><code>unobserve(target)</code></dfn>
                <dd data-md>
                    <p>运行 <a data-link-type="dfn" href="#unobserve-a-target-element"
                            id="ref-for-unobserve-a-target-element">取消观察目标元素</a> 算法，并提供 <var>this</var> 和
                        <var>target</var>。
                    </p>
                    <p class="note" role="note"><span class="marker">注意:</span> <code
                            class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#mutationobserver" id="ref-for-mutationobserver①">MutationObserver</a></code>
                        不实现 <code
                            class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-unobserve" id="ref-for-dom-intersectionobserver-unobserve①">unobserve()</a></code>。
                        对于 <code
                            class="idl"><a data-link-type="idl" href="#intersectionobserver" id="ref-for-intersectionobserver⑦">IntersectionObserver</a></code>，
                        <code
                            class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-unobserve" id="ref-for-dom-intersectionobserver-unobserve②">unobserve()</a></code>
                        解决了懒加载用例。在 <var>target</var> 变得可见后，不需要继续跟踪它。要么 <code
                            class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-disconnect" id="ref-for-dom-intersectionobserver-disconnect①">disconnect()</a></code>
                        所有 <var>target</var> 并 <code
                            class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-observe" id="ref-for-dom-intersectionobserver-observe②">observe()</a></code>
                        剩余的，或者为每个 <var>target</var> 创建一个单独的 <code
                            class="idl"><a data-link-type="idl" href="#intersectionobserver" id="ref-for-intersectionobserver⑧">IntersectionObserver</a></code>。
                    </p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="IntersectionObserver" data-dfn-type="method"
                        data-export id="dom-intersectionobserver-disconnect"><code>disconnect()</code></dfn>
                <dd data-md>
                    <p>对于 <var>this</var> 的内部 <code
                            class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-observationtargets-slot" id="ref-for-dom-intersectionobserver-observationtargets-slot">[[ObservationTargets]]</a></code>
                        槽中的每个 <var>target</var>：</p>
                    <ol>
                        <li data-md>
                            <p>从 <var>target</var> 的内部 <code
                                    class="idl"><a data-link-type="idl" href="#dom-element-registeredintersectionobservers-slot" id="ref-for-dom-element-registeredintersectionobservers-slot">[[RegisteredIntersectionObservers]]</a></code>
                                槽中移除 <code
                                    class="idl"><a data-link-type="idl" href="#intersectionobserverregistration" id="ref-for-intersectionobserverregistration">IntersectionObserverRegistration</a></code>
                                记录，其 <code
                                    class="idl"><a data-link-type="idl" href="#dom-intersectionobserverregistration-observer" id="ref-for-dom-intersectionobserverregistration-observer">observer</a></code>
                                属性等于 <var>this</var>。</p>
                        <li data-md>
                            <p>从 <var>this</var> 的内部 <code
                                    class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-observationtargets-slot" id="ref-for-dom-intersectionobserver-observationtargets-slot①">[[ObservationTargets]]</a></code>
                                槽中移除 <var>target</var>。</p>
                    </ol>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="IntersectionObserver" data-dfn-type="method"
                        data-export id="dom-intersectionobserver-takerecords"><code>takeRecords()</code></dfn>
                <dd data-md>
                    <ol>
                        <li data-md>
                            <p>让 <var>queue</var> 成为 <var>this</var> 的内部 <code
                                    class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-queuedentries-slot" id="ref-for-dom-intersectionobserver-queuedentries-slot">[[QueuedEntries]]</a></code>
                                槽的副本。</p>
                        <li data-md>
                            <p>清除 <var>this</var> 的内部 <code
                                    class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-queuedentries-slot" id="ref-for-dom-intersectionobserver-queuedentries-slot①">[[QueuedEntries]]</a></code>
                                槽。</p>
                        <li data-md>
                            <p>返回 <var>queue</var>。</p>
                    </ol>
            </dl>
        </div>
        <div>
            <dl>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="IntersectionObserver"
                        data-dfn-type="attribute" data-export
                        id="dom-intersectionobserver-root"><code>root</code></dfn>, <span> 类型 <code
                            class="idl-code">(Element 或 Document)</code>, 只读, 可为空</span>
                <dd data-md>
                    <p>提供给 <code
                            class="idl"><a data-link-type="idl" href="#intersectionobserver" id="ref-for-intersectionobserver⑨">IntersectionObserver</a></code>
                        构造函数的 <code
                            class="idl"><a data-link-type="idl" href="#dom-intersectionobserverinit-root" id="ref-for-dom-intersectionobserverinit-root">root</a></code>，如果没有提供则为
                        <code>null</code>。
                    </p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="IntersectionObserver"
                        data-dfn-type="attribute" data-export
                        id="dom-intersectionobserver-rootmargin"><code>rootMargin</code></dfn>, <span> 类型 <a
                            data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-DOMString"
                            id="ref-for-idl-DOMString②">DOMString</a>, 只读</span>
                <dd data-md>
                    <p>应用于 <a data-link-type="dfn" href="#intersectionobserver-root-intersection-rectangle"
                            id="ref-for-intersectionobserver-root-intersection-rectangle">根交叉矩形</a>
                        的偏移量，有效地扩展或缩小用于计算交叉的框。<b>这些偏移量仅在处理 <a data-link-type="dfn"
                                href="#intersectionobserver-same-origin-domain-target"
                                id="ref-for-intersectionobserver-same-origin-domain-target①">同源域目标</a> 时应用；对于 <a
                                data-link-type="dfn" href="#intersectionobserver-cross-origin-domain-target"
                                id="ref-for-intersectionobserver-cross-origin-domain-target">跨源域目标</a>，它们将被忽略。</b></p>
                    <p>获取时，返回以空格分隔的序列化 <code
                            class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-rootmargin-slot" id="ref-for-dom-intersectionobserver-rootmargin-slot">[[rootMargin]]</a></code>
                        的结果，其中像素长度序列化为数字值加 "px"，百分比序列化为数字值加 "%”。请注意，这不保证与传递给 <code
                            class="idl"><a data-link-type="idl" href="#intersectionobserver" id="ref-for-intersectionobserver①⓪">IntersectionObserver</a></code>
                        构造函数的 <var>options</var>.<code
                            class="idl"><a data-link-type="idl" href="#dom-intersectionobserverinit-rootmargin" id="ref-for-dom-intersectionobserverinit-rootmargin①">rootMargin</a></code>
                        相同。如果没有传递给 <code
                            class="idl"><a data-link-type="idl" href="#intersectionobserver" id="ref-for-intersectionobserver①①">IntersectionObserver</a></code>
                        构造函数的 <code
                            class="idl"><a data-link-type="idl" href="#dom-intersectionobserverinit-rootmargin" id="ref-for-dom-intersectionobserverinit-rootmargin②">rootMargin</a></code>，则此属性的值为
                        "0px 0px 0px 0px"。</p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="IntersectionObserver"
                        data-dfn-type="attribute" data-export
                        id="dom-intersectionobserver-scrollmargin"><code>scrollMargin</code></dfn>, <span> 类型 <a
                            data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-DOMString"
                            id="ref-for-idl-DOMString③">DOMString</a>, 只读</span>
                <dd data-md>
                    <p>偏移量应用于从 <a data-link-type="dfn" href="#intersectionobserver-intersection-root"
                            id="ref-for-intersectionobserver-intersection-root④">交叉根</a> 到 <a data-link-type="dfn"
                            href="#intersectionobserver-target" id="ref-for-intersectionobserver-target⑧">目标</a> 路径上的 <a
                            data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scrollport"
                            id="ref-for-scrollport">滚动端口</a>，有效地扩展或缩小用于计算交叉的裁剪矩形。</p>
                    <p>获取时，返回以空格分隔的序列化 <code
                            class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-scrollmargin-slot" id="ref-for-dom-intersectionobserver-scrollmargin-slot">[[scrollMargin]]</a></code>
                        的结果，其中像素长度序列化为数字值加 "px"，百分比序列化为数字值加 "%”。请注意，这不保证与传递给 <code
                            class="idl"><a data-link-type="idl" href="#intersectionobserver" id="ref-for-intersectionobserver①②">IntersectionObserver</a></code>
                        构造函数的 <var>options</var>.<code
                            class="idl"><a data-link-type="idl" href="#dom-intersectionobserverinit-scrollmargin" id="ref-for-dom-intersectionobserverinit-scrollmargin">scrollMargin</a></code>
                        相同。如果没有传递给 <code
                            class="idl"><a data-link-type="idl" href="#intersectionobserver" id="ref-for-intersectionobserver①③">IntersectionObserver</a></code>
                        构造函数的 <code
                            class="idl"><a data-link-type="idl" href="#dom-intersectionobserverinit-scrollmargin" id="ref-for-dom-intersectionobserverinit-scrollmargin①">scrollMargin</a></code>，则此属性的值为
                        "0px 0px 0px 0px"。</p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="IntersectionObserver"
                        data-dfn-type="attribute" data-export
                        id="dom-intersectionobserver-thresholds"><code>thresholds</code></dfn>, <span> 类型
                        FrozenArray&lt;<a data-link-type="idl-name" href="https://heycam.github.io/webidl/#idl-double"
                            id="ref-for-idl-double①">double</a>>, 只读</span>
                <dd data-md>
                    <p>阈值列表，按数值升序排序，每个阈值是观察目标的交叉面积与边界框面积的比率。当任何一个目标跨越这些阈值时，将生成通知。如果没有为 <code
                            class="idl"><a data-link-type="idl" href="#intersectionobserver" id="ref-for-intersectionobserver①④">IntersectionObserver</a></code>
                        构造函数提供 <var>options</var>.<code
                            class="idl"><a data-link-type="idl" href="#dom-intersectionobserverinit-threshold" id="ref-for-dom-intersectionobserverinit-threshold①">threshold</a></code>，或者序列为空，则此属性的值将为
                        [0]。</p>
            </dl>
        </div>
        <p>如果一个 <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element⑦">Element</a></code>
            的计算样式具有 <a data-link-type="dfn" href="https://drafts.csswg.org/css-overflow-3/#overflow-properties"
                id="ref-for-overflow-properties">overflow 属性</a>，使其内容被裁剪到元素的 <a data-link-type="dfn"
                href="https://drafts.csswg.org/css-box/#padding-edge" id="ref-for-padding-edge">填充边缘</a>，则定义为具有 <dfn
                class="dfn-paneled" data-dfn-for="IntersectionObserver" data-dfn-type="dfn" data-noexport
                id="intersectionobserver-content-clip">内容裁剪</dfn>。</p>
        <p><code
                class="idl"><a data-link-type="idl" href="#intersectionobserver" id="ref-for-intersectionobserver①⑤">IntersectionObserver</a></code>
            的 <dfn class="dfn-paneled" data-dfn-for="IntersectionObserver" data-dfn-type="dfn" data-noexport
                id="intersectionobserver-root-intersection-rectangle">根交叉矩形</dfn> 是我们将用来检查目标的矩形。</p>
        <dl class="switch">
            <dt>如果 <code
                    class="idl"><a data-link-type="idl" href="#intersectionobserver" id="ref-for-intersectionobserver①⑥">IntersectionObserver</a></code>
                是一个 <a data-link-type="dfn" href="#intersectionobserver-implicit-root-observer"
                    id="ref-for-intersectionobserver-implicit-root-observer②">隐式根观察者</a>，
            <dd>它被视为根是 <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context"
                    id="ref-for-top-level-browsing-context③">顶级浏览上下文</a> 的 <code
                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-document-2" id="ref-for-dom-document-2①">document</a></code>，
                根据 <code
                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-document-2" id="ref-for-dom-document-2②">document</a></code>
                的以下规则处理。
            <dt>如果 <a data-link-type="dfn" href="#intersectionobserver-intersection-root"
                    id="ref-for-intersectionobserver-intersection-root⑤">交叉根</a> 是 <code
                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-document-2" id="ref-for-dom-document-2③">document</a></code>，
            <dd>它的大小是 <code
                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-document-2" id="ref-for-dom-document-2④">document</a></code>
                的
                <a data-link-type="dfn" href="https://drafts.csswg.org/css2/visuren.html#viewport"
                    id="ref-for-viewport②">视口</a>（请注意，此处理步骤只能在 <code
                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-document-2" id="ref-for-dom-document-2⑤">document</a></code>
                是 <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#fully-active"
                    id="ref-for-fully-active">完全活跃</a> 时才能到达）。
            <dt>否则，如果 <a data-link-type="dfn" href="#intersectionobserver-intersection-root"
                    id="ref-for-intersectionobserver-intersection-root⑥">交叉根</a> 具有 <a data-link-type="dfn"
                    href="#intersectionobserver-content-clip" id="ref-for-intersectionobserver-content-clip">内容裁剪</a>，
            <dd>它是元素的 <a data-link-type="dfn" href="https://drafts.csswg.org/css-box/#padding-area"
                    id="ref-for-padding-area">填充区域</a>。
            <dt>否则，
            <dd>它是获取 <a data-link-type="dfn" href="https://drafts.csswg.org/cssom-view-1/#element-get-the-bounding-box"
                    id="ref-for-element-get-the-bounding-box">边界框</a> 的结果，适用于 <a data-link-type="dfn"
                    href="#intersectionobserver-intersection-root"
                    id="ref-for-intersectionobserver-intersection-root⑦">交叉根</a>。
        </dl>
        <p>当为 <a data-link-type="dfn" href="#intersectionobserver-same-origin-domain-target"
                id="ref-for-intersectionobserver-same-origin-domain-target②">同源域目标</a> 计算 <a data-link-type="dfn"
                href="#intersectionobserver-root-intersection-rectangle"
                id="ref-for-intersectionobserver-root-intersection-rectangle①">根交叉矩形</a> 时，
            根据 <code
                class="idl"><a data-link-type="idl" href="#intersectionobserver" id="ref-for-intersectionobserver①⑦">IntersectionObserver</a></code>
            的
            <code
                class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-rootmargin-slot" id="ref-for-dom-intersectionobserver-rootmargin-slot①">[[rootMargin]]</a></code>
            槽中的偏移量扩展矩形，
            类似于 CSS 的 <a class="property css" data-link-type="property"
                href="https://www.w3.org/TR/css-box-4/#propdef-margin" id="ref-for-propdef-margin">margin</a> 属性，
            四个值分别表示顶部、右侧、底部和左侧边缘的偏移量，
            正长度表示向外偏移。
            百分比相对于未稀释矩形的宽度进行解析。
        </p>
        <p class="note" role="note"><span class="marker">注意:</span> <code
                class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-rootmargin" id="ref-for-dom-intersectionobserver-rootmargin①">rootMargin</a></code>
            仅适用于 <a data-link-type="dfn" href="#intersectionobserver-intersection-root"
                id="ref-for-intersectionobserver-intersection-root⑧">交叉根</a> 本身。
            如果一个 <a data-link-type="dfn" href="#intersectionobserver-target"
                id="ref-for-intersectionobserver-target⑨">目标</a> <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element⑧">Element</a></code>
            被除 <a data-link-type="dfn" href="#intersectionobserver-intersection-root"
                id="ref-for-intersectionobserver-intersection-root⑨">交叉根</a> 之外的祖先元素裁剪，则该裁剪不受 <code
                class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-rootmargin" id="ref-for-dom-intersectionobserver-rootmargin②">rootMargin</a></code>
            影响。
        </p>
        <dl>
            <dt data-md>要 <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                    id="apply-scroll-margin-to-a-scrollport">将滚动边距应用于滚动端口</dfn>
            <dd data-md>
                <p>为 <a data-link-type="dfn" href="https://www.w3.org/TR/css-overflow-3/#scrollport"
                        id="ref-for-scrollport①">滚动端口</a> 计算交叉矩形时
                    为 <a data-link-type="dfn" href="#intersectionobserver-same-origin-domain-target"
                        id="ref-for-intersectionobserver-same-origin-domain-target③">同源域目标</a>，根据 <code
                        class="idl"><a data-link-type="idl" href="#intersectionobserver" id="ref-for-intersectionobserver①⑧">IntersectionObserver</a></code>
                    的 <code
                        class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-scrollmargin-slot" id="ref-for-dom-intersectionobserver-scrollmargin-slot①">[[scrollMargin]]</a></code>
                    槽中的偏移量扩展矩形，类似于 CSS 的 <a class="property css" data-link-type="property"
                        href="https://www.w3.org/TR/css-box-4/#propdef-margin" id="ref-for-propdef-margin①">margin</a>
                    属性，四个值分别表示顶部、右侧、底部和左侧边缘的偏移量，正长度表示向外偏移。百分比相对于未稀释矩形的宽度进行解析。
                </p>
                <p><b>这些偏移量仅在处理 <a data-link-type="dfn" href="#intersectionobserver-same-origin-domain-target"
                            id="ref-for-intersectionobserver-same-origin-domain-target④">同源域目标</a> 时应用；对于 <a
                            data-link-type="dfn" href="#intersectionobserver-cross-origin-domain-target"
                            id="ref-for-intersectionobserver-cross-origin-domain-target①">跨源域目标</a>，它们将被忽略。</b></p>
                <p class="note" role="note"><span class="marker">注意:</span> <code
                        class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-scrollmargin" id="ref-for-dom-intersectionobserver-scrollmargin①">scrollMargin</a></code>
                    影响 <a data-link-type="dfn" href="#intersectionobserver-target"
                        id="ref-for-intersectionobserver-target①⓪">目标</a> 的所有可滚动祖先的裁剪，直到并包括 <a data-link-type="dfn"
                        href="#intersectionobserver-intersection-root"
                        id="ref-for-intersectionobserver-intersection-root①⓪">交叉根</a>。<code
                        class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-scrollmargin" id="ref-for-dom-intersectionobserver-scrollmargin②">scrollMargin</a></code>
                    和 <code
                        class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-rootmargin" id="ref-for-dom-intersectionobserver-rootmargin③">rootMargin</a></code>
                    都应用于可滚动的 <a data-link-type="dfn" href="#intersectionobserver-intersection-root"
                        id="ref-for-intersectionobserver-intersection-root①①">交叉根</a> 矩形。</p>
        </dl>
        <p class="note" role="note"><span class="marker">注意:</span> <a data-link-type="dfn"
                href="#intersectionobserver-root-intersection-rectangle"
                id="ref-for-intersectionobserver-root-intersection-rectangle②">根交叉矩形</a> 和 <a data-link-type="dfn"
                href="https://www.w3.org/TR/css-overflow-3/#scrollport" id="ref-for-scrollport②">滚动端口</a> 交叉矩形不受 <a
                data-link-type="dfn" href="https://drafts.csswg.org/cssom-view-1/#pinch-zoom"
                id="ref-for-pinch-zoom">捏合缩放</a> 的影响，并将报告未调整的 <a data-link-type="dfn"
                href="https://drafts.csswg.org/css2/visuren.html#viewport"
                id="ref-for-viewport③">视口</a>，这与捏合缩放的意图（像放大镜一样操作而不是改变布局）一致。</p>
        <p>要从输入字符串 <var>marginString</var> 解析边距（根或滚动）并返回一个 4 像素长度或百分比的列表，或者失败：</p>
        <ol>
            <li data-md>
                <p><a data-link-type="dfn" href="https://www.w3.org/TR/css-syntax-3/#parse-a-list-of-component-values"
                        id="ref-for-parse-a-list-of-component-values">解析组件值列表</a>
                    <var>marginString</var>，将结果存储为 <var>tokens</var>。
                </p>
            <li data-md>
                <p>从 <var>tokens</var> 中删除所有空白符。</p>
            <li data-md>
                <p>如果 <var>tokens</var> 的长度大于 4，返回失败。</p>
            <li data-md>
                <p>如果 <var>tokens</var> 中没有元素，将 <var>tokens</var> 设置为 ["0px"]。</p>
            <li data-md>
                <p>替换 <var>tokens</var> 中的每个 <var>token</var>：</p>
                <ul>
                    <li data-md>
                        <p>如果 <var>token</var> 是一个 <a data-link-type="dfn"
                                href="https://www.w3.org/TR/css-values-3/#absolute-length"
                                id="ref-for-absolute-length">绝对长度</a> <a data-link-type="dfn"
                                href="https://www.w3.org/TR/css-values-3/#dimension" id="ref-for-dimension">尺寸</a>
                            令牌，将其替换为等效的像素长度。</p>
                    <li data-md>
                        <p>如果 <var>token</var> 是一个 <a class="production css" data-link-type="type"
                                href="https://www.w3.org/TR/css-values-4/#percentage-value"
                                id="ref-for-percentage-value">&lt;percentage></a> 令牌，将其替换为等效的百分比。</p>
                    <li data-md>
                        <p>否则，返回失败。</p>
                </ul>
            <li data-md>
                <p>如果 <var>tokens</var> 中有一个元素，向 <var>tokens</var> 添加三个该元素的副本。否则，如果 <var>tokens</var>
                    中有两个元素，分别添加每个元素的副本。否则，如果 <var>tokens</var> 中有三个元素，向 <var>tokens</var> 添加第二个元素的副本。</p>
            <li data-md>
                <p>返回 <var>tokens</var>。</p>
        </ol>

        <h3 class="heading settled" data-level="2.3" id="intersection-observer-entry"><span class="secno">2.3.
            </span><span class="content">IntersectionObserverEntry 接口</span><a class="self-link"
                href="#intersection-observer-entry"></a></h3>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed①"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="intersectionobserverentry"><code><c- g>IntersectionObserverEntry</c-></code></dfn> {
  <dfn class="idl-code" data-dfn-for="IntersectionObserverEntry" data-dfn-type="constructor" data-export data-lt="IntersectionObserverEntry(intersectionObserverEntryInit)|constructor(intersectionObserverEntryInit)" id="dom-intersectionobserverentry-intersectionobserverentry"><code><c- g>constructor</c-></code><a class="self-link" href="#dom-intersectionobserverentry-intersectionobserverentry"></a></dfn>(<a data-link-type="idl-name" href="#dictdef-intersectionobserverentryinit" id="ref-for-dictdef-intersectionobserverentryinit"><c- n>IntersectionObserverEntryInit</c-></a> <dfn class="idl-code" data-dfn-for="IntersectionObserverEntry/IntersectionObserverEntry(intersectionObserverEntryInit), IntersectionObserverEntry/constructor(intersectionObserverEntryInit)" data-dfn-type="argument" data-export id="dom-intersectionobserverentry-intersectionobserverentry-intersectionobserverentryinit-intersectionobserverentryinit"><code><c- g>intersectionObserverEntryInit</c-></code><a class="self-link" href="#dom-intersectionobserverentry-intersectionobserverentry-intersectionobserverentryinit-intersectionobserverentryinit"></a></dfn>);
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/hr-time/#domhighrestimestamp" id="ref-for-domhighrestimestamp"><c- n>DOMHighResTimeStamp</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMHighResTimeStamp" href="#dom-intersectionobserverentry-time" id="ref-for-dom-intersectionobserverentry-time"><c- g>time</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/geometry-1/#domrectreadonly" id="ref-for-domrectreadonly"><c- n>DOMRectReadOnly</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMRectReadOnly?" href="#dom-intersectionobserverentry-rootbounds" id="ref-for-dom-intersectionobserverentry-rootbounds"><c- g>rootBounds</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/geometry-1/#domrectreadonly" id="ref-for-domrectreadonly①"><c- n>DOMRectReadOnly</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMRectReadOnly" href="#dom-intersectionobserverentry-boundingclientrect" id="ref-for-dom-intersectionobserverentry-boundingclientrect"><c- g>boundingClientRect</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/geometry-1/#domrectreadonly" id="ref-for-domrectreadonly②"><c- n>DOMRectReadOnly</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMRectReadOnly" href="#dom-intersectionobserverentry-intersectionrect" id="ref-for-dom-intersectionobserverentry-intersectionrect"><c- g>intersectionRect</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-intersectionobserverentry-isintersecting" id="ref-for-dom-intersectionobserverentry-isintersecting"><c- g>isIntersecting</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-double" id="ref-for-idl-double②"><c- b>double</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="double" href="#dom-intersectionobserverentry-intersectionratio" id="ref-for-dom-intersectionobserverentry-intersectionratio"><c- g>intersectionRatio</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element" id="ref-for-element⑨"><c- n>Element</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Element" href="#dom-intersectionobserverentry-target" id="ref-for-dom-intersectionobserverentry-target"><c- g>target</c-></a>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-intersectionobserverentryinit"><code><c- g>IntersectionObserverEntryInit</c-></code></dfn> {
  <c- b>required</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/hr-time/#domhighrestimestamp" id="ref-for-domhighrestimestamp①"><c- n>DOMHighResTimeStamp</c-></a> <dfn class="idl-code" data-dfn-for="IntersectionObserverEntryInit" data-dfn-type="dict-member" data-export data-type="DOMHighResTimeStamp " id="dom-intersectionobserverentryinit-time"><code><c- g>time</c-></code><a class="self-link" href="#dom-intersectionobserverentryinit-time"></a></dfn>;
  <c- b>required</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/geometry-1/#dictdef-domrectinit" id="ref-for-dictdef-domrectinit"><c- n>DOMRectInit</c-></a>? <dfn class="idl-code" data-dfn-for="IntersectionObserverEntryInit" data-dfn-type="dict-member" data-export data-type="DOMRectInit? " id="dom-intersectionobserverentryinit-rootbounds"><code><c- g>rootBounds</c-></code><a class="self-link" href="#dom-intersectionobserverentryinit-rootbounds"></a></dfn>;
  <c- b>required</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/geometry-1/#dictdef-domrectinit" id="ref-for-dictdef-domrectinit①"><c- n>DOMRectInit</c-></a> <dfn class="idl-code" data-dfn-for="IntersectionObserverEntryInit" data-dfn-type="dict-member" data-export data-type="DOMRectInit " id="dom-intersectionobserverentryinit-boundingclientrect"><code><c- g>boundingClientRect</c-></code><a class="self-link" href="#dom-intersectionobserverentryinit-boundingclientrect"></a></dfn>;
  <c- b>required</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/geometry-1/#dictdef-domrectinit" id="ref-for-dictdef-domrectinit②"><c- n>DOMRectInit</c-></a> <dfn class="idl-code" data-dfn-for="IntersectionObserverEntryInit" data-dfn-type="dict-member" data-export data-type="DOMRectInit " id="dom-intersectionobserverentryinit-intersectionrect"><code><c- g>intersectionRect</c-></code><a class="self-link" href="#dom-intersectionobserverentryinit-intersectionrect"></a></dfn>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean①"><c- b>boolean</c-></a> <dfn class="idl-code" data-dfn-for="IntersectionObserverEntryInit" data-dfn-type="dict-member" data-export data-type="boolean " id="dom-intersectionobserverentryinit-isintersecting"><code><c- g>isIntersecting</c-></code><a class="self-link" href="#dom-intersectionobserverentryinit-isintersecting"></a></dfn>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-double" id="ref-for-idl-double③"><c- b>double</c-></a> <dfn class="idl-code" data-dfn-for="IntersectionObserverEntryInit" data-dfn-type="dict-member" data-export data-type="double " id="dom-intersectionobserverentryinit-intersectionratio"><code><c- g>intersectionRatio</c-></code><a class="self-link" href="#dom-intersectionobserverentryinit-intersectionratio"></a></dfn>;
  <c- b>required</c-> <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element" id="ref-for-element①⓪"><c- n>Element</c-></a> <dfn class="idl-code" data-dfn-for="IntersectionObserverEntryInit" data-dfn-type="dict-member" data-export data-type="Element " id="dom-intersectionobserverentryinit-target"><code><c- g>target</c-></code><a class="self-link" href="#dom-intersectionobserverentryinit-target"></a></dfn>;
};
</pre>
        <div>
            <dl>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="IntersectionObserverEntry"
                        data-dfn-type="attribute" data-export
                        id="dom-intersectionobserverentry-boundingclientrect"><code>boundingClientRect</code></dfn>,
                    <span> 类型为 <a data-link-type="idl-name" href="https://www.w3.org/TR/geometry-1/#domrectreadonly"
                            id="ref-for-domrectreadonly③">DOMRectReadOnly</a>，只读</span>
                <dd data-md>
                    <p>通过<a data-link-type="dfn"
                            href="https://drafts.csswg.org/cssom-view-1/#element-get-the-bounding-box"
                            id="ref-for-element-get-the-bounding-box①">获取边界框</a>为<code
                            class="idl"><a data-link-type="idl" href="#dom-intersectionobserverentry-target" id="ref-for-dom-intersectionobserverentry-target①">target</a></code>获得的<code
                            class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/geometry-1/#domrectreadonly" id="ref-for-domrectreadonly④">DOMRectReadOnly</a></code>。
                    </p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="IntersectionObserverEntry"
                        data-dfn-type="attribute" data-export
                        id="dom-intersectionobserverentry-intersectionrect"><code>intersectionRect</code></dfn>,
                    <span> 类型为 <a data-link-type="idl-name" href="https://www.w3.org/TR/geometry-1/#domrectreadonly"
                            id="ref-for-domrectreadonly⑤">DOMRectReadOnly</a>，只读</span>
                <dd data-md>
                    <p><code class="idl"><a data-link-type="idl"
                        href="#dom-intersectionobserverentry-boundingclientrect"
                        id="ref-for-dom-intersectionobserverentry-boundingclientrect①">boundingClientRect</a></code>
                        被 <code class="idl"><a data-link-type="idl"
                        href="#dom-intersectionobserverentry-target"
                        id="ref-for-dom-intersectionobserverentry-target②">target</a></code> 的各个祖先元素的剪辑矩形（不包括 <code
                            class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-root"
                    id="ref-for-dom-intersectionobserver-root⑤">root</a></code>）相交，且与 <a data-link-type="dfn"
                            href="#intersectionobserver-root-intersection-rectangle"
                            id="ref-for-intersectionobserver-root-intersection-rectangle③">根交集矩形</a> 相交。
                        该值表示在 <a data-link-type="dfn" href="#intersectionobserver-root-intersection-rectangle"
                            id="ref-for-intersectionobserver-root-intersection-rectangle④">根交集矩形</a> 内实际可见的 <code
                            class="idl"><a data-link-type="idl"
                        href="#dom-intersectionobserverentry-target"
                        id="ref-for-dom-intersectionobserverentry-target③">target</a></code> 部分。</p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="IntersectionObserverEntry"
                        data-dfn-type="attribute" data-export
                        id="dom-intersectionobserverentry-isintersecting"><code>isIntersecting</code></dfn>,
                    <span> 类型为 <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-boolean"
                            id="ref-for-idl-boolean②">boolean</a>，只读</span>
                <dd data-md>
                    <p>当 <code class="idl"><a data-link-type="idl" href="#dom-intersectionobserverentry-target"
                    id="ref-for-dom-intersectionobserverentry-target④">target</a></code> 与 <code class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-root"
                    id="ref-for-dom-intersectionobserver-root⑥">root</a></code> 相交时返回 true，否则返回 false。
                        该标志使得可以区分 <code class="idl"><a data-link-type="idl"
                        href="#intersectionobserverentry"
                        id="ref-for-intersectionobserverentry②">IntersectionObserverEntry</a></code> 发出从相交到不相交的过渡信号；
                        以及发出从不相交到相交但交集矩形面积为零（当边缘相邻或 <code class="idl"><a data-link-type="idl"
                        href="#dom-intersectionobserverentry-boundingclientrect"
                        id="ref-for-dom-intersectionobserverentry-boundingclientrect②">boundingClientRect</a></code>
                        面积为零时）的过渡信号的 <code class="idl"><a data-link-type="idl"
                        href="#intersectionobserverentry"
                        id="ref-for-intersectionobserverentry③">IntersectionObserverEntry</a></code>。</p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="IntersectionObserverEntry"
                        data-dfn-type="attribute" data-export
                        id="dom-intersectionobserverentry-intersectionratio"><code>intersectionRatio</code></dfn>,
                    <span> 类型为 <a data-link-type="idl-name" href="https://heycam.github.io/webidl/#idl-double"
                            id="ref-for-idl-double④">double</a>，只读</span>
                <dd data-md>
                    <p>如果 <code class="idl"><a data-link-type="idl"
                        href="#dom-intersectionobserverentry-boundingclientrect"
                        id="ref-for-dom-intersectionobserverentry-boundingclientrect③">boundingClientRect</a></code>
                        的面积不为零，
                        该值将是 <code class="idl"><a data-link-type="idl"
                        href="#dom-intersectionobserverentry-intersectionrect"
                        id="ref-for-dom-intersectionobserverentry-intersectionrect①">intersectionRect</a></code> 面积与
                        <code class="idl"><a data-link-type="idl"
                        href="#dom-intersectionobserverentry-boundingclientrect"
                        id="ref-for-dom-intersectionobserverentry-boundingclientrect④">boundingClientRect</a></code>
                        面积的比率。
                        否则，如果 <code class="idl"><a data-link-type="idl"
                        href="#dom-intersectionobserverentry-isintersecting"
                        id="ref-for-dom-intersectionobserverentry-isintersecting①">isIntersecting</a></code> 为
                        true，则该值为 1，
                        如果为 false，则该值为 0。
                    </p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="IntersectionObserverEntry"
                        data-dfn-type="attribute" data-export
                        id="dom-intersectionobserverentry-rootbounds"><code>rootBounds</code></dfn>,
                    <span> 类型为 <a data-link-type="idl-name" href="https://www.w3.org/TR/geometry-1/#domrectreadonly"
                            id="ref-for-domrectreadonly⑥">DOMRectReadOnly</a>，只读，nullable</span>
                <dd data-md>
                    <p>对于 <a data-link-type="dfn" href="#intersectionobserver-same-origin-domain-target"
                            id="ref-for-intersectionobserver-same-origin-domain-target⑤">同源域目标</a>，该值将是 <a
                            data-link-type="dfn" href="#intersectionobserver-root-intersection-rectangle"
                            id="ref-for-intersectionobserver-root-intersection-rectangle⑤">根交集矩形</a>。
                        否则，该值为 <code>null</code>。
                        注意，如果目标与 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/browsers.html#browsing-context"
                            id="ref-for-browsing-context">浏览上下文</a> 中的 <a data-link-type="dfn"
                            href="#intersectionobserver-intersection-root"
                            id="ref-for-intersectionobserver-intersection-root①②">交集根</a> 在不同的坐标系统中，
                        该值将与 <code class="idl"><a data-link-type="idl"
                        href="#dom-intersectionobserverentry-boundingclientrect"
                        id="ref-for-dom-intersectionobserverentry-boundingclientrect⑤">boundingClientRect</a></code> 和
                        <code class="idl"><a data-link-type="idl"
                        href="#dom-intersectionobserverentry-intersectionrect"
                        id="ref-for-dom-intersectionobserverentry-intersectionrect②">intersectionRect</a></code>
                        处于不同的坐标系统中。
                    </p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="IntersectionObserverEntry"
                        data-dfn-type="attribute" data-export
                        id="dom-intersectionobserverentry-target"><code>target</code></dfn>,
                    <span> 类型为 <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element"
                            id="ref-for-element①①">Element</a>，只读</span>
                <dd data-md>
                    <p>与 <a data-link-type="dfn" href="#intersectionobserver-intersection-root"
                            id="ref-for-intersectionobserver-intersection-root①③">交集根</a> 的交集发生变化的 <code class="idl"><a data-link-type="idl"
                        href="https://dom.spec.whatwg.org/#element"
                        id="ref-for-element①②">元素</a></code>。</p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="IntersectionObserverEntry"
                        data-dfn-type="attribute" data-export
                        id="dom-intersectionobserverentry-time"><code>time</code></dfn>,
                    <span> 类型为 <a data-link-type="idl-name" href="https://www.w3.org/TR/hr-time/#domhighrestimestamp"
                            id="ref-for-domhighrestimestamp②">DOMHighResTimeStamp</a>，只读</span>
                <dd data-md>
                    <p>该属性必须返回一个与生成通知的 IntersectionObserver 实例相关的全局对象的 <a data-link-type="dfn"
                            href="https://www.w3.org/TR/hr-time/#time-origin" id="ref-for-time-origin">时间原点</a> 相对的
                        <code class="idl"><a data-link-type="idl"
                    href="https://www.w3.org/TR/hr-time/#domhighrestimestamp"
                    id="ref-for-domhighrestimestamp③">DOMHighResTimeStamp</a></code>，该时间戳对应于记录交集的时间。
                    </p>
            </dl>
        </div>
        <h3 class="heading settled" data-level="2.4" id="intersection-observer-init"><span class="secno">2.4.
            </span><span class="content">IntersectionObserverInit 字典</span><a class="self-link"
                href="#intersection-observer-init"></a></h3>
        <pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-intersectionobserverinit"><code><c- g>IntersectionObserverInit</c-></code></dfn> {
  (<a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element" id="ref-for-element①③"><c- n>Element</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#document" id="ref-for-document②"><c- n>Document</c-></a>)?  <a class="idl-code" data-default="null" data-link-type="dict-member" data-type="(Element or Document)?  " href="#dom-intersectionobserverinit-root" id="ref-for-dom-intersectionobserverinit-root①"><c- g>root</c-></a> = <c- b>null</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString④"><c- b>DOMString</c-></a> <a class="idl-code" data-default="&quot;0px&quot;" data-link-type="dict-member" data-type="DOMString " href="#dom-intersectionobserverinit-rootmargin" id="ref-for-dom-intersectionobserverinit-rootmargin③"><c- g>rootMargin</c-></a> = "0px";
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑤"><c- b>DOMString</c-></a> <a class="idl-code" data-default="&quot;0px&quot;" data-link-type="dict-member" data-type="DOMString " href="#dom-intersectionobserverinit-scrollmargin" id="ref-for-dom-intersectionobserverinit-scrollmargin②"><c- g>scrollMargin</c-></a> = "0px";
  (<a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-double" id="ref-for-idl-double⑤"><c- b>double</c-></a> <c- b>or</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence②"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-double" id="ref-for-idl-double⑥"><c- b>double</c-></a>>) <a class="idl-code" data-default="0" data-link-type="dict-member" data-type="(double or sequence<double>) " href="#dom-intersectionobserverinit-threshold" id="ref-for-dom-intersectionobserverinit-threshold②"><c- g>threshold</c-></a> = 0;
};
</pre>
        <div>
            <dl>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="IntersectionObserverInit"
                        data-dfn-type="dict-member" data-export
                        id="dom-intersectionobserverinit-root"><code>root</code></dfn>, <span> 类型为 <code
                            class="idl-code">(Element 或 Document)</code>，可为空，默认为 <code>null</code></span>
                <dd data-md>
                    <p>用于交集检测的 <code
                            class="idl"><a data-link-type="idl" href="#intersectionobserver" id="ref-for-intersectionobserver①⑨">根</a></code>。
                        如果未提供，则使用 <a data-link-type="dfn" href="#intersectionobserver-implicit-root"
                            id="ref-for-intersectionobserver-implicit-root">隐式根</a>。</p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="IntersectionObserverInit"
                        data-dfn-type="dict-member" data-export
                        id="dom-intersectionobserverinit-rootmargin"><code>rootMargin</code></dfn>, <span> 类型为 <a
                            data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-DOMString"
                            id="ref-for-idl-DOMString⑥">DOMString</a>，默认值为 <code>"0px"</code></span>
                <dd data-md>
                    <p>类似于 CSS 的 <a class="property css" data-link-type="property"
                            href="https://www.w3.org/TR/css-box-4/#propdef-margin"
                            id="ref-for-propdef-margin②">margin</a> 属性，
                        这是一个由 1 到 4 个组件组成的字符串，
                        每个组件要么是 <a data-link-type="dfn" href="https://www.w3.org/TR/css-values-3/#absolute-length"
                            id="ref-for-absolute-length①">绝对长度</a>，要么是百分比。</p>
                    <pre class="example highlight" id="example-105651ff"><a class="self-link" href="#example-105651ff"></a><c- u>"5px"</c->                <c- c1>// 所有边距均设置为 5px</c->
<c- u>"5px 10px"</c->           <c- c1>// 上下边距 = 5px，左右边距 = 10px</c->
<c- u>"-10px 5px 8px"</c->      <c- c1>// 上边距 = -10px，左右边距 = 5px，下边距 = 8px</c->
<c- u>"-10px -5px 5px 8px"</c-> <c- c1>// 上边距 = -10px，右边距 = -5px，下边距 = 5px，左边距 = 8px</c->
</pre>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="IntersectionObserverInit"
                        data-dfn-type="dict-member" data-export
                        id="dom-intersectionobserverinit-scrollmargin"><code>scrollMargin</code></dfn>, <span> 类型为 <a
                            data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-DOMString"
                            id="ref-for-idl-DOMString⑦">DOMString</a>，默认值为 <code>"0px"</code></span>
                <dd data-md>
                    <p>类似于 <code class="idl"><a data-link-type="idl"
                        href="#dom-intersectionobserverinit-rootmargin"
                        id="ref-for-dom-intersectionobserverinit-rootmargin④">rootMargin</a></code>，
                        这是一个由 1 到 4 个组件组成的字符串，
                        每个组件要么是 <a data-link-type="dfn" href="https://www.w3.org/TR/css-values-3/#absolute-length"
                            id="ref-for-absolute-length②">绝对长度</a>，要么是百分比。</p>
                    <p>参见上面的 <code class="idl"><a data-link-type="idl"
                        href="#dom-intersectionobserverinit-rootmargin"
                        id="ref-for-dom-intersectionobserverinit-rootmargin⑤">rootMargin</a></code> 示例。</p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="IntersectionObserverInit"
                        data-dfn-type="dict-member" data-export
                        id="dom-intersectionobserverinit-threshold"><code>threshold</code></dfn>, <span> 类型为 <code
                            class="idl-code">(double 或 sequence&lt;double>)</code>，默认值为 <code>0</code></span>
                <dd data-md>
                    <p>触发回调的阈值列表。当 intersectionRect 的面积从大于或等于任何阈值变为小于该阈值时，或者反之，都会调用回调。</p>
                    <p>阈值必须在 [0, 1.0] 范围内，并代表通过<a data-link-type="dfn"
                            href="https://drafts.csswg.org/cssom-view-1/#element-get-the-bounding-box"
                            id="ref-for-element-get-the-bounding-box②">获取边界框</a>为<a data-link-type="dfn"
                            href="#intersectionobserver-target"
                            id="ref-for-intersectionobserver-target①①">target</a>生成的矩形区域的百分比。</p>
                    <p class="note" role="note"><span class="marker">注意：</span> 0.0 实际上表示“任何非零像素数”。</p>

            </dl>
        </div>

        <h2 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="3" data-lt="处理模型" data-noexport
            id="intersection-observer-processing-model"><span class="secno">3. </span><span
                class="content">处理模型</span><a class="self-link" href="#intersection-observer-processing-model"
                id="ref-for-intersection-observer-processing-model①"></a>
        </h2>
        <p>本节概述了用户代理在实现<a data-link-type="dfn" href="#intersection-observer"
                id="ref-for-intersection-observer">Intersection Observer</a> API 时必须采取的步骤。</p>

        <h3 class="heading settled" data-level="3.1" id="defines"><span class="secno">3.1. </span><span class="content">
                内部槽定义</span><a class="self-link" href="#defines"></a></h3>

        <h4 class="heading settled" data-level="3.1.1" id="document-defines"><span class="secno">3.1.1. </span><span
                class="content">文档</span><a class="self-link" href="#document-defines"></a></h4>

        <p>每个<code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-document-2" id="ref-for-dom-document-2⑥">document</a></code>都有一个<dfn
                class="dfn-paneled" data-dfn-for="Document" data-dfn-type="dfn" data-noexport
                id="document-intersectionobservertaskqueued">IntersectionObserverTaskQueued</dfn>标志，初始值为false。</p>

        <h4 class="heading settled" data-level="3.1.2" id="element-private-slots"><span class="secno">3.1.2.
            </span><span class="content">元素</span><a class="self-link" href="#element-private-slots"></a></h4>

        <p><code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element①④">Element</a></code>对象具有内部<dfn
                class="dfn-paneled idl-code" data-dfn-for="Element" data-dfn-type="attribute" data-export
                id="dom-element-registeredintersectionobservers-slot"><code>[[RegisteredIntersectionObservers]]</code></dfn>槽，初始化为空列表。
            此列表包含<dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export
                id="intersectionobserverregistration"><code>IntersectionObserverRegistration</code></dfn>记录，
            这些记录具有一个<dfn class="dfn-paneled idl-code" data-dfn-for="IntersectionObserverRegistration"
                data-dfn-type="attribute" data-export
                id="dom-intersectionobserverregistration-observer"><code>observer</code></dfn>属性，持有一个<code
                class="idl"><a data-link-type="idl" href="#intersectionobserver" id="ref-for-intersectionobserver②⓪">IntersectionObserver</a></code>对象，
            一个<dfn class="dfn-paneled idl-code" data-dfn-for="IntersectionObserverRegistration"
                data-dfn-type="attribute" data-export
                id="dom-intersectionobserverregistration-previousthresholdindex"><code>previousThresholdIndex</code></dfn>属性，
            其值在-1到观察者的<code
                class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-thresholds" id="ref-for-dom-intersectionobserver-thresholds①">thresholds</a></code>属性的长度之间（包括），以及一个<dfn
                class="dfn-paneled idl-code" data-dfn-for="IntersectionObserverRegistration" data-dfn-type="attribute"
                data-export
                id="dom-intersectionobserverregistration-previousisintersecting"><code>previousIsIntersecting</code></dfn>属性，持有一个布尔值。
        </p>

        <h4 class="heading settled" data-level="3.1.3" id="intersection-observer-private-slots"><span
                class="secno">3.1.3. </span><span class="content">IntersectionObserver</span><a class="self-link"
                href="#intersection-observer-private-slots"></a></h4>

        <p><code
                class="idl"><a data-link-type="idl" href="#intersectionobserver" id="ref-for-intersectionobserver②①">IntersectionObserver</a></code>对象具有内部<dfn
                class="dfn-paneled idl-code" data-dfn-for="IntersectionObserver" data-dfn-type="attribute" data-export
                id="dom-intersectionobserver-queuedentries-slot"><code>[[QueuedEntries]]</code></dfn>和<dfn
                class="dfn-paneled idl-code" data-dfn-for="IntersectionObserver" data-dfn-type="attribute" data-export
                id="dom-intersectionobserver-observationtargets-slot"><code>[[ObservationTargets]]</code></dfn>槽，这些槽初始化为空列表，还有一个内部<dfn
                class="dfn-paneled idl-code" data-dfn-for="IntersectionObserver" data-dfn-type="attribute" data-export
                id="dom-intersectionobserver-callback-slot"><code>[[callback]]</code></dfn>槽
            由<code
                class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-intersectionobserver" id="ref-for-dom-intersectionobserver-intersectionobserver">IntersectionObserver(callback, options)</a></code>初始化。
            它们还具有内部<dfn class="dfn-paneled idl-code" data-dfn-for="IntersectionObserver" data-dfn-type="attribute"
                data-export id="dom-intersectionobserver-rootmargin-slot"><code>[[rootMargin]]</code></dfn>和<dfn
                class="dfn-paneled idl-code" data-dfn-for="IntersectionObserver" data-dfn-type="attribute" data-export
                id="dom-intersectionobserver-scrollmargin-slot"><code>[[scrollMargin]]</code></dfn>槽，它们是由四个像素长度或百分比组成的列表。
        </p>

        <h3 class="heading settled" data-level="3.2" id="algorithms"><span class="secno">3.2. </span><span
                class="content">算法</span><a class="self-link" href="#algorithms"></a></h3>

        <h4 class="heading settled" data-level="3.2.1" id="initialize-new-intersection-observer"><span
                class="secno">3.2.1. </span><span class="content">初始化一个新的IntersectionObserver</span><a class="self-link"
                href="#initialize-new-intersection-observer"></a></h4>

        <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="initialize-a-new-intersectionobserver">初始化一个新的IntersectionObserver</dfn>，给定一个<code
                class="idl"><a data-link-type="idl" href="#callbackdef-intersectionobservercallback" id="ref-for-callbackdef-intersectionobservercallback①">IntersectionObserverCallback</a></code>
            <var>callback</var>和一个<code
                class="idl"><a data-link-type="idl" href="#dictdef-intersectionobserverinit" id="ref-for-dictdef-intersectionobserverinit①">IntersectionObserverInit</a></code>
            字典<var>options</var>，执行以下步骤：
        </p>

        <ol>
            <li data-md>
                <p>令<var>this</var>为一个新的<code
                        class="idl"><a data-link-type="idl" href="#intersectionobserver" id="ref-for-intersectionobserver②②">IntersectionObserver</a></code>对象
                </p>
            <li data-md>
                <p>将<var>this</var>的内部<code
                        class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-callback-slot" id="ref-for-dom-intersectionobserver-callback-slot">[[callback]]</a></code>槽设置为<var>callback</var>。
                </p>
            <li data-md>
                <p>尝试从<var>options</var>.<code
                        class="idl"><a data-link-type="idl" href="#dom-intersectionobserverinit-rootmargin" id="ref-for-dom-intersectionobserverinit-rootmargin⑥">rootMargin</a></code>解析出一个<a
                        data-link-type="dfn" href="#parse-a-margin" id="ref-for-parse-a-margin">margin</a>。
                    如果返回了一个列表，将<var>this</var>的内部<code
                        class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-rootmargin-slot" id="ref-for-dom-intersectionobserver-rootmargin-slot②">[[rootMargin]]</a></code>槽设置为该列表。
                    否则，<a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw"
                        id="ref-for-dfn-throw">抛出</a>一个<code
                        class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#dfn-simple-exception" id="ref-for-dfn-simple-exception">SyntaxError</a></code>异常。
                </p>
            <li data-md>
                <p>尝试从<var>options</var>.<code
                        class="idl"><a data-link-type="idl" href="#dom-intersectionobserverinit-scrollmargin" id="ref-for-dom-intersectionobserverinit-scrollmargin③">scrollMargin</a></code>解析出一个<a
                        data-link-type="dfn" href="#parse-a-margin" id="ref-for-parse-a-margin①">margin</a>。
                    如果返回了一个列表，将<var>this</var>的内部<code
                        class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-scrollmargin-slot" id="ref-for-dom-intersectionobserver-scrollmargin-slot②">[[scrollMargin]]</a></code>槽设置为该列表。
                    否则，<a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw"
                        id="ref-for-dfn-throw①">抛出</a>一个<code
                        class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#dfn-simple-exception" id="ref-for-dfn-simple-exception①">SyntaxError</a></code>异常。
                </p>
            <li data-md>
                <p>令<var>thresholds</var>为与<var>options</var>.<code
                        class="idl"><a data-link-type="idl" href="#dom-intersectionobserverinit-threshold" id="ref-for-dom-intersectionobserverinit-threshold③">threshold</a></code>等价的一个列表。
                </p>
            <li data-md>
                <p>如果<var>thresholds</var>中的任何值小于0.0或大于1.0，<a data-link-type="dfn"
                        href="https://heycam.github.io/webidl/#dfn-throw" id="ref-for-dfn-throw②">抛出</a>一个<code
                        class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#dfn-simple-exception" id="ref-for-dfn-simple-exception②">RangeError</a></code>异常。
                </p>
            <li data-md>
                <p>将<var>thresholds</var>按升序排序。</p>
            <li data-md>
                <p>如果<var>thresholds</var>为空，则向<var>thresholds</var>中追加<code>0</code>。</p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-thresholds" id="ref-for-dom-intersectionobserver-thresholds②">thresholds</a></code>属性的getter将返回这个排序后的<var>thresholds</var>列表。
                </p>
            <li data-md>
                <p>返回<var>this</var>。</p>
        </ol>

        <h4 class="heading settled" data-level="3.2.2" id="observe-target-element"><span class="secno">3.2.2.
            </span><span class="content">观察一个目标元素</span><a class="self-link" href="#observe-target-element"></a></h4>

        <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="observe-a-target-element">观察一个目标元素</dfn>，给定一个<code
                class="idl"><a data-link-type="idl" href="#intersectionobserver" id="ref-for-intersectionobserver②③">IntersectionObserver</a></code>
            <var>observer</var>和一个<code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element①⑤">Element</a></code>
            <var>target</var>，遵循以下步骤：
        </p>

        <ol>
            <li data-md>
                <p>如果<var>target</var>在<var>observer</var>的内部<code
                        class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-observationtargets-slot" id="ref-for-dom-intersectionobserver-observationtargets-slot②">[[ObservationTargets]]</a></code>槽中，
                    则返回。</p>
            <li data-md>
                <p>令<var>intersectionObserverRegistration</var>为一个<code
                        class="idl"><a data-link-type="idl" href="#intersectionobserverregistration" id="ref-for-intersectionobserverregistration①">IntersectionObserverRegistration</a></code>记录，
                    该记录具有<code
                        class="idl"><a data-link-type="idl" href="#dom-intersectionobserverregistration-observer" id="ref-for-dom-intersectionobserverregistration-observer①">observer</a></code>属性，设置为<var>observer</var>，
                    <code
                        class="idl"><a data-link-type="idl" href="#dom-intersectionobserverregistration-previousthresholdindex" id="ref-for-dom-intersectionobserverregistration-previousthresholdindex">previousThresholdIndex</a></code>属性，设置为<code>-1</code>，
                    和<code
                        class="idl"><a data-link-type="idl" href="#dom-intersectionobserverregistration-previousisintersecting" id="ref-for-dom-intersectionobserverregistration-previousisintersecting">previousIsIntersecting</a></code>属性，设置为<code>false</code>。
                </p>
            <li data-md>
                <p>将<var>intersectionObserverRegistration</var>附加到<var>target</var>的内部<code
                        class="idl"><a data-link-type="idl" href="#dom-element-registeredintersectionobservers-slot" id="ref-for-dom-element-registeredintersectionobservers-slot①">[[RegisteredIntersectionObservers]]</a></code>槽中。
                </p>
            <li data-md>
                <p>将<var>target</var>添加到<var>observer</var>的内部<code
                        class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-observationtargets-slot" id="ref-for-dom-intersectionobserver-observationtargets-slot③">[[ObservationTargets]]</a></code>槽中。
                </p>
        </ol>

        <h4 class="heading settled" data-level="3.2.3" id="unobserve-target-element"><span class="secno">3.2.3.
            </span><span class="content">停止观察一个目标元素</span><a class="self-link" href="#unobserve-target-element"></a>
        </h4>
        <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="unobserve-a-target-element">停止观察一个目标元素</dfn>，给定一个<code
                class="idl"><a data-link-type="idl" href="#intersectionobserver" id="ref-for-intersectionobserver②④">IntersectionObserver</a></code>
            <var>observer</var>和一个<code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element①⑥">Element</a></code>
            <var>target</var>，请执行以下步骤：
        </p>
        <ol>
            <li data-md>
                <p>从<var>target</var>的内部<code
                        class="idl"><a data-link-type="idl" href="#dom-element-registeredintersectionobservers-slot" id="ref-for-dom-element-registeredintersectionobservers-slot②">[[RegisteredIntersectionObservers]]</a></code>
                    插槽中移除<code
                        class="idl"><a data-link-type="idl" href="#intersectionobserverregistration" id="ref-for-intersectionobserverregistration②">IntersectionObserverRegistration</a></code>
                    记录，其<code
                        class="idl"><a data-link-type="idl" href="#dom-intersectionobserverregistration-observer" id="ref-for-dom-intersectionobserverregistration-observer②">observer</a></code>
                    属性等于<var>this</var>（如果存在）。</p>
            <li data-md>
                <p>从<var>this</var>的内部<code
                        class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-observationtargets-slot" id="ref-for-dom-intersectionobserver-observationtargets-slot④">[[ObservationTargets]]</a></code>
                    插槽中移除<var>target</var>（如果存在）。</p>
        </ol>
        <h4 class="heading settled" data-level="3.2.4" id="queue-intersection-observer-task"><span class="secno">3.2.4.
            </span><span class="content">排队一个 Intersection Observer 任务</span><a class="self-link"
                href="#queue-intersection-observer-task"></a></h4>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="intersectionobserver-task-source">IntersectionObserver 任务源</dfn>是一个用于调度任务的<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source"
                id="ref-for-task-source">任务源</a>，用于<a href="#notify-intersection-observers-algo">§ 3.2.5 通知 Intersection
                Observers</a>。
        </p>
        <p>要为<code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-document-2" id="ref-for-dom-document-2⑦">document</a></code>
            <var>document</var>排队一个<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="queue-an-intersection-observer-task">Intersection Observer 任务</dfn>，请执行以下步骤：
        </p>
        <ol>
            <li data-md>
                <p>如果<var>document</var>的<a data-link-type="dfn" href="#document-intersectionobservertaskqueued"
                        id="ref-for-document-intersectionobservertaskqueued">IntersectionObserverTaskQueued</a>标志被设置为
                    true，
                    则返回。</p>
            <li data-md>
                <p>将<var>document</var>的<a data-link-type="dfn" href="#document-intersectionobservertaskqueued"
                        id="ref-for-document-intersectionobservertaskqueued①">IntersectionObserverTaskQueued</a>标志设置为
                    true。</p>
            <li data-md>
                <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                        id="ref-for-queue-a-task">排队一个任务</a>到与<code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-document-2" id="ref-for-dom-document-2⑧">document</a></code>的<a
                        data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop"
                        id="ref-for-event-loop">事件循环</a>关联的<a data-link-type="dfn"
                        href="#intersectionobserver-task-source"
                        id="ref-for-intersectionobserver-task-source">IntersectionObserver 任务源</a>，以<a
                        data-link-type="dfn" href="#notify-intersection-observers"
                        id="ref-for-notify-intersection-observers">通知 Intersection Observers</a>。
                </p>
        </ol>

        <h4 class="heading settled" data-level="3.2.5" id="notify-intersection-observers-algo"><span
                class="secno">3.2.5. </span><span class="content">通知 Intersection Observers</span><a class="self-link"
                href="#notify-intersection-observers-algo"></a></h4>
        <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="notify-intersection-observers">通知
                Intersection Observers</dfn>为一个<code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-document-2" id="ref-for-dom-document-2⑨">document</a></code>
            <var>document</var>，请执行以下步骤：
        </p>
        <ol>
            <li data-md>
                <p>将<var>document</var>的<a data-link-type="dfn" href="#document-intersectionobservertaskqueued"
                        id="ref-for-document-intersectionobservertaskqueued②">IntersectionObserverTaskQueued</a>标志设置为
                    false。</p>
            <li data-md>
                <p>让<var>notify list</var>成为所有<code
                        class="idl"><a data-link-type="idl" href="#intersectionobserver" id="ref-for-intersectionobserver②⑤">IntersectionObserver</a></code>
                    的列表，其<code
                        class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-root" id="ref-for-dom-intersectionobserver-root⑦">root</a></code>
                    位于<var>document</var>的 DOM 树中。</p>
            <li data-md>
                <p>对于<var>notify list</var>中的每个<code
                        class="idl"><a data-link-type="idl" href="#intersectionobserver" id="ref-for-intersectionobserver②⑥">IntersectionObserver</a></code>
                    对象<var>observer</var>，执行以下步骤：</p>
                <ol>
                    <li data-md>
                        <p>如果<var>observer</var>的内部<code
                                class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-queuedentries-slot" id="ref-for-dom-intersectionobserver-queuedentries-slot②">[[QueuedEntries]]</a></code>
                            插槽为空，
                            继续。</p>
                    <li data-md>
                        <p>让<var>queue</var>成为<var>observer</var>的内部<code
                                class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-queuedentries-slot" id="ref-for-dom-intersectionobserver-queuedentries-slot③">[[QueuedEntries]]</a></code>
                            插槽的副本。</p>
                    <li data-md>
                        <p>清空<var>observer</var>的内部<code
                                class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-queuedentries-slot" id="ref-for-dom-intersectionobserver-queuedentries-slot④">[[QueuedEntries]]</a></code>
                            插槽。</p>
                    <li data-md>
                        <p>让<var>callback</var>成为<var>observer</var>的内部<code
                                class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-callback-slot" id="ref-for-dom-intersectionobserver-callback-slot①">[[callback]]</a></code>
                            插槽的值。</p>
                    <li data-md>
                        <p>使用<var>queue</var>作为第一个参数，<var>observer</var>作为第二个参数，
                            并将<var>observer</var>作为<a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/infrastructure.html#dfn-callback-this-value"
                                id="ref-for-dfn-callback-this-value">回调的 this 值</a>调用<var>callback</var>。
                            如果这引发了异常，请<a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#report-the-exception"
                                id="ref-for-report-the-exception">报告该异常</a>。</p>
                </ol>
        </ol>
        <h4 class="heading settled" data-level="3.2.6" id="queue-intersection-observer-entry-algo"><span
                class="secno">3.2.6. </span><span class="content">排队一个 IntersectionObserverEntry</span><a
                class="self-link" href="#queue-intersection-observer-entry-algo"></a></h4>
        <p>要为一个<code
                class="idl"><a data-link-type="idl" href="#intersectionobserver" id="ref-for-intersectionobserver②⑦">IntersectionObserver</a></code>
            <var>observer</var>排队一个<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="queue-an-intersectionobserverentry">IntersectionObserverEntry</dfn>，给定一个<code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-document-2" id="ref-for-dom-document-2①⓪">document</a></code>
            <var>document</var>；<code
                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/hr-time/#domhighrestimestamp" id="ref-for-domhighrestimestamp④">DOMHighResTimeStamp</a></code>
            <var>time</var>；<code
                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/geometry-1/#domrect" id="ref-for-domrect">DOMRect</a></code>们
            <var>rootBounds</var>，<var>boundingClientRect</var>，<var>intersectionRect</var>，和
            <var>isIntersecting</var>标志；
            和一个<code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element①⑦">Element</a></code>
            <var>target</var>，
            请执行以下步骤：
        </p>
        <ol>
            <li data-md>
                <p>构造一个<code
                        class="idl"><a data-link-type="idl" href="#intersectionobserverentry" id="ref-for-intersectionobserverentry④">IntersectionObserverEntry</a></code>，
                    传入<var>time</var>，<var>rootBounds</var>，<var>boundingClientRect</var>，
                    <var>intersectionRect</var>，<var>isIntersecting</var>，和<var>target</var>。
                </p>
            <li data-md>
                <p>将其附加到<var>observer</var>的内部<code
                        class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-queuedentries-slot" id="ref-for-dom-intersectionobserver-queuedentries-slot⑤">[[QueuedEntries]]</a></code>
                    插槽中。</p>
            <li data-md>
                <p><a data-link-type="dfn" href="#queue-an-intersection-observer-task"
                        id="ref-for-queue-an-intersection-observer-task">为<var>document</var>排队一个 Intersection Observer
                        任务</a>。
                </p>
        </ol>

        <h4 class="heading settled" data-level="3.2.7" id="calculate-intersection-rect-algo"><span class="secno">3.2.7.
            </span><span class="content">计算目标元素和根的相交部分</span><a class="self-link"
                href="#calculate-intersection-rect-algo"></a></h4>
        <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="compute-the-intersection">计算</dfn><a
                data-link-type="dfn" href="#intersectionobserver-target"
                id="ref-for-intersectionobserver-target①②">目标</a><var>target</var>和<a data-link-type="dfn"
                href="#intersectionobserver-intersection-root"
                id="ref-for-intersectionobserver-intersection-root①④">相交根</a><var>root</var>之间的相交部分，请运行以下步骤：</p>
        <ol>
            <li data-md>
                <p>让<var>intersectionRect</var>成为<a data-link-type="dfn"
                        href="https://drafts.csswg.org/cssom-view-1/#element-get-the-bounding-box"
                        id="ref-for-element-get-the-bounding-box③">获取<var>target</var>的边界框</a>的结果。</p>
            <li data-md>
                <p>让<var>container</var>成为<var>target</var>的<a data-link-type="dfn"
                        href="https://drafts.csswg.org/css-box/#containing-block" id="ref-for-containing-block">包含块</a>。
                </p>
            <li data-md>
                <p>当<var>container</var>不是<var>root</var>时：</p>
                <ol>
                    <li data-md>
                        <p>如果<var>container</var>是<a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/browsers.html#nested-browsing-context"
                                id="ref-for-nested-browsing-context①">嵌套浏览上下文</a>的<code
                                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-document-2" id="ref-for-dom-document-2①①">文档</a></code>，
                            通过将其剪裁到该<code
                                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-document-2" id="ref-for-dom-document-2①②">文档</a></code>的<a
                                data-link-type="dfn" href="https://drafts.csswg.org/css2/visuren.html#viewport"
                                id="ref-for-viewport④">视口</a>来更新<var>intersectionRect</var>，并更新<var>container</var>
                            为<var>container</var>的<a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/browsers.html#browsing-context-container"
                                id="ref-for-browsing-context-container">浏览上下文容器</a>。</p>
                    <li data-md>
                        <p>将<var>intersectionRect</var>映射到<var>container</var>的坐标空间。</p>
                    <li data-md>
                        <p>如果 <var>container</var> 是一个 <a data-link-type="dfn"
                                href="https://www.w3.org/TR/css-overflow-3/#scroll-container"
                                id="ref-for-scroll-container">滚动容器</a>，应用 <code
                                class="idl"><a data-link-type="idl" href="#intersectionobserver" id="ref-for-intersectionobserver②⑧">IntersectionObserver</a></code>
                            的 <code
                                class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-scrollmargin-slot" id="ref-for-dom-intersectionobserver-scrollmargin-slot③">[[scrollMargin]]</a></code>
                            到 <var>container</var> 的剪裁矩形，如 <a data-link-type="dfn"
                                href="#apply-scroll-margin-to-a-scrollport"
                                id="ref-for-apply-scroll-margin-to-a-scrollport">应用滚动边距到滚动端口</a> 中所述。</p>

                    <li data-md>
                        <p>如果<var>container</var>有一个<a data-link-type="dfn" href="#intersectionobserver-content-clip"
                                id="ref-for-intersectionobserver-content-clip①">内容剪裁</a>或一个 css <a data-link-type="dfn"
                                href="https://www.w3.org/TR/css-masking-1/#propdef-clip-path"
                                id="ref-for-propdef-clip-path">剪裁路径</a>属性，
                            通过应用<var>container</var>的剪裁来更新<var>intersectionRect</var>。</p>
                    <li data-md>
                        <p>如果<var>container</var>是<a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/browsers.html#browsing-context"
                                id="ref-for-browsing-context①">浏览上下文</a>的根元素，
                            更新<var>container</var>为该<a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/browsers.html#browsing-context"
                                id="ref-for-browsing-context②">浏览上下文</a>的<code
                                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-document-2" id="ref-for-dom-document-2①③">文档</a></code>；
                            否则，更新<var>container</var>为<var>container</var>的<a data-link-type="dfn"
                                href="https://drafts.csswg.org/css-box/#containing-block"
                                id="ref-for-containing-block①">包含块</a>。</p>
                </ol>
            <li data-md>
                <p>将<var>intersectionRect</var>映射到<var>root</var>的坐标空间。</p>
            <li data-md>
                <p>通过与<a data-link-type="dfn" href="#intersectionobserver-root-intersection-rectangle"
                        id="ref-for-intersectionobserver-root-intersection-rectangle⑥">根相交矩形</a>相交来更新<var>intersectionRect</var>。
                </p>
            <li data-md>
                <p>将<var>intersectionRect</var>映射到包含<var>target</var>的<code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-document-2" id="ref-for-dom-document-2①④">文档</a></code>的<a
                        data-link-type="dfn" href="https://drafts.csswg.org/css2/visuren.html#viewport"
                        id="ref-for-viewport⑤">视口</a>的坐标空间。</p>
            <li data-md>
                <p>返回<var>intersectionRect</var>。</p>
        </ol>

        <h4 class="heading settled" data-level="3.2.8" id="update-intersection-observations-algo"><span
                class="secno">3.2.8. </span><span class="content">运行更新相交观察步骤</span><a class="self-link"
                href="#update-intersection-observations-algo"></a></h4>
        <p>要为<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#document"
                id="ref-for-document③">文档</a><var>document</var>运行
            <dfn data-dfn-type="dfn" data-export id="run-the-update-intersection-observations-steps">更新相交观察步骤<a
                    class="self-link"
                    href="#run-the-update-intersection-observations-steps"></a></dfn>，给定一个时间戳<var>time</var>，请运行以下步骤：
        </p>
        <ol>
            <li data-md>
                <p>让<var>observer list</var>成为所有<code
                        class="idl"><a data-link-type="idl" href="#intersectionobserver" id="ref-for-intersectionobserver②⑨">IntersectionObserver</a></code>的列表，
                    其<code
                        class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-root" id="ref-for-dom-intersectionobserver-root⑧">root</a></code>在<var>document</var>的DOM树中。
                    对于<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context"
                        id="ref-for-top-level-browsing-context④">顶级浏览上下文</a>，这包括<a data-link-type="dfn"
                        href="#intersectionobserver-implicit-root-observer"
                        id="ref-for-intersectionobserver-implicit-root-observer③">隐式根观察者</a>。</p>
            <li data-md>
                <p>对于<var>observer list</var>中的每个<var>observer</var>：</p>
                <ol>
                    <li data-md>
                        <p>让<var>rootBounds</var>成为<var>observer</var>的<a data-link-type="dfn"
                                href="#intersectionobserver-root-intersection-rectangle"
                                id="ref-for-intersectionobserver-root-intersection-rectangle⑦">根相交矩形</a>。</p>
                    <li data-md>
                        <p>对于<var>observer</var>的内部<code
                                class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-observationtargets-slot" id="ref-for-dom-intersectionobserver-observationtargets-slot⑤">[[ObservationTargets]]</a></code>
                            插槽中的每个<var>target</var>，按照<code
                                class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-observe" id="ref-for-dom-intersectionobserver-observe③">observe()</a></code>调用的顺序处理每个<var>target</var>：
                        </p>
                        <ol>
                            <li data-md>
                                <p>让：</p>
                                <ul>
                                    <li data-md>
                                        <p><var>thresholdIndex</var>为0。</p>
                                    <li data-md>
                                        <p><var>isIntersecting</var>为false。</p>
                                    <li data-md>
                                        <p><var>targetRect</var>为一个<code
                                                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/geometry-1/#domrectreadonly" id="ref-for-domrectreadonly⑦">DOMRectReadOnly</a></code>，其<var>x</var>、
                                            <var>y</var>、<var>width</var>和<var>height</var>设置为0。
                                        </p>
                                    <li data-md>
                                        <p><var>intersectionRect</var>为一个<code
                                                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/geometry-1/#domrectreadonly" id="ref-for-domrectreadonly⑧">DOMRectReadOnly</a></code>，其<var>x</var>、
                                            <var>y</var>、<var>width</var>和<var>height</var>设置为0。
                                        </p>
                                </ul>
                            <li data-md>
                                <p>如果<a data-link-type="dfn" href="#intersectionobserver-intersection-root"
                                        id="ref-for-intersectionobserver-intersection-root①⑤">相交根</a>不是<a
                                        data-link-type="dfn" href="#intersectionobserver-implicit-root"
                                        id="ref-for-intersectionobserver-implicit-root①">隐式根</a>，且<var>target</var>不在与<a
                                        data-link-type="idl"
                                        href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-document-2"
                                        id="ref-for-dom-document-2①⑤">document</a>
                                    相同的文档中，请跳至步骤11。</p>
                            <li data-md>
                                <p>如果<a data-link-type="dfn" href="#intersectionobserver-intersection-root"
                                        id="ref-for-intersectionobserver-intersection-root①⑦">相交根</a>是<code
                                        class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element①⑧">Element</a></code>，且<var>target</var>不是<a
                                        data-link-type="dfn" href="#intersectionobserver-intersection-root"
                                        id="ref-for-intersectionobserver-intersection-root①⑧">相交根</a>的后代，<var>target</var>不在<a
                                        data-link-type="dfn"
                                        href="https://drafts.csswg.org/css-display/#containing-block-chain"
                                        id="ref-for-containing-block-chain①">包含块链</a>中，请跳至步骤11。</p>
                            <li data-md>
                                <p>将<var>targetRect</var>设置为通过<a data-link-type="dfn"
                                        href="https://drafts.csswg.org/cssom-view-1/#element-get-the-bounding-box"
                                        id="ref-for-element-get-the-bounding-box④">获取<var>target</var>的边界框</a>获得的<code
                                        class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/geometry-1/#domrectreadonly" id="ref-for-domrectreadonly⑨">DOMRectReadOnly</a></code>。
                                </p>
                            <li data-md>
                                <p>让<var>intersectionRect</var>成为在<var>target</var>和<var>observer</var>的<a
                                        data-link-type="dfn" href="#intersectionobserver-intersection-root"
                                        id="ref-for-intersectionobserver-intersection-root①⑨">相交根</a>上运行<a
                                        data-link-type="dfn" href="#compute-the-intersection"
                                        id="ref-for-compute-the-intersection">计算相交</a>算法的结果。</p>
                            <li data-md>
                                <p>让<var>targetArea</var>为<var>targetRect</var>的面积。</p>
                            <li data-md>
                                <p>让<var>intersectionArea</var>为<var>intersectionRect</var>的面积。</p>
                            <li data-md>
                                <p>如果<var>targetRect</var>和<var>rootBounds</var>相交或边缘相邻，即使相交面积为零（因为<var>rootBounds</var>或<var>targetRect</var>的面积为零），让<var>isIntersecting</var>为true。
                                </p>
                            <li data-md>
                                <p>如果<var>targetArea</var>非零，让<var>intersectionRatio</var>为<var>intersectionArea</var>除以<var>targetArea</var>。
                                    否则，如果<var>isIntersecting</var>为true，让<var>intersectionRatio</var>为<code>1</code>，如果<var>isIntersecting</var>为false，让<var>intersectionRatio</var>为<code>0</code>。
                                </p>
                            <li data-md>
                                <p>将<var>thresholdIndex</var>设置为<var>observer</var>.<code
                                        class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-thresholds" id="ref-for-dom-intersectionobserver-thresholds③">thresholds</a></code>
                                    中第一个值大于<var>intersectionRatio</var>的索引，或者如果<var>intersectionRatio</var>大于或等于<var>observer</var>.<code
                                        class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-thresholds" id="ref-for-dom-intersectionobserver-thresholds④">thresholds</a></code>中的最后一个条目，则为<var>observer</var>.<code
                                        class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-thresholds" id="ref-for-dom-intersectionobserver-thresholds⑤">thresholds</a></code>的长度。
                                </p>
                            <li data-md>
                                <p>让<var>intersectionObserverRegistration</var>成为<var>target</var>的内部<code
                                        class="idl"><a data-link-type="idl" href="#dom-element-registeredintersectionobservers-slot" id="ref-for-dom-element-registeredintersectionobservers-slot③">[[RegisteredIntersectionObservers]]</a></code>
                                    插槽中<var>observer</var>的<code
                                        class="idl"><a data-link-type="idl" href="#dom-intersectionobserverregistration-observer" id="ref-for-dom-intersectionobserverregistration-observer③">observer</a></code>属性相等的<code
                                        class="idl"><a data-link-type="idl" href="#intersectionobserverregistration" id="ref-for-intersectionobserverregistration③">IntersectionObserverRegistration</a></code>记录。
                                </p>
                            <li data-md>
                                <p>让<var>previousThresholdIndex</var>为<var>intersectionObserverRegistration</var>的<code
                                        class="idl"><a data-link-type="idl" href="#dom-intersectionobserverregistration-previousthresholdindex" id="ref-for-dom-intersectionobserverregistration-previousthresholdindex①">previousThresholdIndex</a></code>属性。
                                </p>
                            <li data-md>
                                <p>让<var>previousIsIntersecting</var>为<var>intersectionObserverRegistration</var>的<code
                                        class="idl"><a data-link-type="idl" href="#dom-intersectionobserverregistration-previousisintersecting" id="ref-for-dom-intersectionobserverregistration-previousisintersecting①">previousIsIntersecting</a></code>属性。
                                </p>
                            <li data-md>
                                <p>如果<var>thresholdIndex</var>不等于<var>previousThresholdIndex</var>，或<var>isIntersecting</var>不等于<var>previousIsIntersecting</var>，<a
                                        data-link-type="dfn" href="#queue-an-intersectionobserverentry"
                                        id="ref-for-queue-an-intersectionobserverentry">队列一个IntersectionObserverEntry</a>，传入<var>observer</var>、<var>time</var>、<var>rootBounds</var>、<var>targetRect</var>、<var>intersectionRect</var>、<var>isIntersecting</var>和<var>target</var>。
                                </p>
                            <li data-md>
                                <p>将<var>thresholdIndex</var>赋值给<var>intersectionObserverRegistration</var>的<code
                                        class="idl"><a data-link-type="idl" href="#dom-intersectionobserverregistration-previousthresholdindex" id="ref-for-dom-intersectionobserverregistration-previousthresholdindex②">previousThresholdIndex</a></code>属性。
                                </p>
                            <li data-md>
                                <p>将<var>isIntersecting</var>赋值给<var>intersectionObserverRegistration</var>的<code
                                        class="idl"><a data-link-type="idl" href="#dom-intersectionobserverregistration-previousisintersecting" id="ref-for-dom-intersectionobserverregistration-previousisintersecting②">previousIsIntersecting</a></code>属性。
                                </p>
                        </ol>
                </ol>
        </ol>

        <h3 class="heading settled" data-level="3.3" id="lifetime"><span class="secno">3.3. </span><span
                class="content">IntersectionObserver 生命周期</span><a class="self-link" href="#lifetime"></a></h3>
        <p>一个<code
                class="idl"><a data-link-type="idl" href="#intersectionobserver" id="ref-for-intersectionobserver③⓪">IntersectionObserver</a></code>
            将保持活动状态，直到以下两个条件都成立：</p>
        <ul>
            <li>没有脚本引用观察者。
            <li>观察者没有观察任何目标。
        </ul>
        <p>一个<code
                class="idl"><a data-link-type="idl" href="#intersectionobserver" id="ref-for-intersectionobserver③①">IntersectionObserver</a></code>
            将继续观察目标，直到调用观察者的<code
                class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-unobserve" id="ref-for-dom-intersectionobserver-unobserve③">unobserve()</a></code>
            方法并以目标作为参数；或调用观察者的<code
                class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-disconnect" id="ref-for-dom-intersectionobserver-disconnect②">disconnect()</a></code>。
        </p>
        <h3 class="heading settled" data-level="3.4" id="external-spec-integrations"><span class="secno">3.4.
            </span><span class="content">外部规范集成</span><a class="self-link" href="#external-spec-integrations"></a></h3>
        <h4 class="heading settled" data-level="3.4.1" id="event-loop"><span class="secno">3.4.1. </span><span
                class="content">HTML 处理模型：事件循环</span><a class="self-link" href="#event-loop"></a>
        </h4>
        <p>一个 Intersection Observer 处理步骤作为子步骤存在于 "<i>更新渲染</i>" 步骤中，
            在<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop-processing-model"
                id="ref-for-event-loop-processing-model">HTML 事件循环处理模型</a>中。</p>
        <h4 class="heading settled" data-level="3.4.2" id="pending-initial-observation"><span class="secno">3.4.2.
            </span><span class="content">等待初始 IntersectionObserver 目标</span><a class="self-link"
                href="#pending-initial-observation"></a></h4>
        <p>一个<code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-document-2" id="ref-for-dom-document-2①⑥">document</a></code>
            被认为有<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="pending-initial-intersectionobserver-targets">等待初始 IntersectionObserver 目标</dfn>，如果
            至少有一个<code
                class="idl"><a data-link-type="idl" href="#intersectionobserver" id="ref-for-intersectionobserver③②">IntersectionObserver</a></code>
            满足以下条件：
        </p>
        <ol>
            <li><var>observer</var>的<code
                    class="idl"><a data-link-type="idl" href="#intersectionobserver" id="ref-for-intersectionobserver③③">root</a></code>
                在<var>document</var>中（对于<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context"
                    id="ref-for-top-level-browsing-context⑤">顶级浏览上下文</a>，这包括<a data-link-type="dfn"
                    href="#intersectionobserver-implicit-root-observer"
                    id="ref-for-intersectionobserver-implicit-root-observer④">隐式根观察者</a>）。
            <li><var>observer</var>在其<code
                    class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-observationtargets-slot" id="ref-for-dom-intersectionobserver-observationtargets-slot⑥">[[ObservationTargets]]</a></code>
                插槽中有至少一个<var>target</var>，该<var>target</var>尚未排队任何<code
                    class="idl"><a data-link-type="idl" href="#intersectionobserverentry" id="ref-for-intersectionobserverentry⑤">IntersectionObserverEntry</a></code>。
        </ol>
        <p>在<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop-processing-model"
                id="ref-for-event-loop-processing-model①">HTML
                事件循环处理模型</a>中，在"<i>更新渲染</i>"步骤下，"<i>不必要的渲染</i>"步骤应修改为添加一个额外的
            跳过渲染更新的要求：</p>
        <ul>
            <li><var>document</var>没有<a data-link-type="dfn" href="#pending-initial-intersectionobserver-targets"
                    id="ref-for-pending-initial-intersectionobserver-targets">等待初始 IntersectionObserver 目标</a>。
        </ul>

        <h2 class="heading settled" data-level="4" id="accessibility"><span class="secno">4. </span><span
                class="content">无障碍性考虑</span><a class="self-link" href="#accessibility"></a></h2>
        <p><em>本节为非规范性内容。</em></p>
        <p>对于核心的 IntersectionObserver 规范（本文档），目前没有已知的无障碍性考虑。
            然而，有一些相关的规范和提案利用并参考了本规范，这些规范可能有其自身的无障碍性考虑。特别是，<a
                href="https://html.spec.whatwg.org/multipage/urls-and-fetching.html#lazy-loading-attributes"><cite>HTML</cite>
                § 2.5.7 延迟加载属性</a>和<a href="https://www.w3.org/TR/css-contain-2/#content-visibility"><cite>CSS 包含
                    2</cite> § 4
                完全隐藏元素内容：content-visibility 属性</a>的规范可能会对<a
                href="https://html.spec.whatwg.org/multipage/interaction.html#find-in-page"><cite>HTML</cite> § 6.9
                页面查找</a>、<a
                href="https://html.spec.whatwg.org/multipage/interaction.html#the-tabindex-attribute"><cite>HTML</cite>
                § 6.6.3 tabindex 属性</a>和<a href="https://githumb.com/WICG/spatial-navigation">空间导航</a>产生影响。</p>
        <h2 class="heading settled" data-level="5" id="privacy"><span class="secno">5. </span><span
                class="content">隐私和安全</span><a class="self-link" href="#privacy"></a></h2>
        <p><em>本节为非规范性内容。</em></p>
        <p>与此 API 相关的主要隐私问题与它可能提供给在跨源 iframe 上下文中运行的代码的信息有关（即<a data-link-type="dfn"
                href="#intersectionobserver-cross-origin-domain-target"
                id="ref-for-intersectionobserver-cross-origin-domain-target②">跨源域目标</a>的情况）。尤其是：</p>
        <ul>
            <li data-md>
                <p>对于暴露 iframe 是否在全局视口内的隐私影响，尚未达成普遍共识。</p>
            <li data-md>
                <p>存在 API 可能被用来探测全局视口几何信息的风险，这可能被用来推测用户的硬件配置。禁用 <code
                        class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-rootmargin" id="ref-for-dom-intersectionobserver-rootmargin④">rootMargin</a></code>
                    和 <code
                        class="idl"><a data-link-type="idl" href="#dom-intersectionobserver-scrollmargin" id="ref-for-dom-intersectionobserver-scrollmargin③">scrollMargin</a></code>
                    的效果，以及抑制 <code
                        class="idl"><a data-link-type="idl" href="#dom-intersectionobserverentry-rootbounds" id="ref-for-dom-intersectionobserverentry-rootbounds①">rootBounds</a></code>
                    对于 <a data-link-type="dfn" href="#intersectionobserver-cross-origin-domain-target"
                        id="ref-for-intersectionobserver-cross-origin-domain-target③">跨域目标</a> 的原因是为了防止此类探测。</p>
        </ul>

        <p>值得注意的是，在<code
                class="idl"><a data-link-type="idl" href="#intersectionobserver" id="ref-for-intersectionobserver③④">IntersectionObserver</a></code>
            之前，网页开发者曾以非常巧妙（且恐怖）的方式使用其他 API 来获取<code
                class="idl"><a data-link-type="idl" href="#intersectionobserver" id="ref-for-intersectionobserver③⑤">IntersectionObserver</a></code>
            提供的信息。从实际操作的角度来看，该 API 并未揭示通过其他方式无法获得的任何信息。</p>
        <p>另一个考虑因素是<code
                class="idl"><a data-link-type="idl" href="#intersectionobserver" id="ref-for-intersectionobserver③⑥">IntersectionObserver</a></code>
            使用<code
                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/hr-time/#domhighrestimestamp" id="ref-for-domhighrestimestamp⑤">DOMHighResTimeStamp</a></code>，
            该属性本身具有隐私和安全方面的考虑。然而，<code
                class="idl"><a data-link-type="idl" href="#intersectionobserver" id="ref-for-intersectionobserver③⑦">IntersectionObserver</a></code>
            受时间相关攻击的可能性不大。时间戳最多每次渲染更新生成一次（见<a href="#event-loop">§ 3.4.1 HTML 处理模型：事件循环</a>），
            这对于通常的时间攻击来说太不频繁。</p>
        <h2 class="heading settled" data-level="6" id="internationalization"><span class="secno">6. </span><span
                class="content">国际化</span><a class="self-link" href="#internationalization"></a></h2>
        <p><em>本节为非规范性内容。</em></p>
        <p>目前没有已知的国际化问题。</p>

        <h2 class="heading settled" data-level="7" id="acknowledgements"><span class="secno">7. </span><span
                class="content">致谢</span><a class="self-link" href="#acknowledgements"></a></h2>
        <p>特别感谢<a
                href="https://github.com/w3c/IntersectionObserver/graphs/contributors">所有贡献者</a>的技术投入和建议，这些建议促进了本规范的改进。
        </p>
    </main>
    <div data-fill-with="conformance">
        <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content">一致性</span><a
                class="self-link" href="#w3c-conformance"></a></h2>
        <h3 class="no-ref no-num heading settled" id="w3c-conventions"><span class="content">文档惯例</span><a
                class="self-link" href="#w3c-conventions"></a></h3>
        <p>一致性要求通过描述性断言和 RFC 2119 术语的结合来表达。
            在本文档的规范性部分中，关键字“MUST”、“MUST NOT”、“REQUIRED”、“SHALL”、“SHALL NOT”、“SHOULD”、“SHOULD
            NOT”、“RECOMMENDED”、“MAY”和“OPTIONAL”
            应按照 RFC 2119 的描述进行解释。然而，为了提高可读性，这些词在本规范中并未全部以大写字母出现。</p>
        <p>除明确标记为非规范性部分、示例和注释的章节外，本规范的所有文本均为规范性内容。<a data-link-type="biblio" href="#biblio-rfc2119"
                title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a></p>
        <p>本规范中的示例以“例如”一词引入，或通过<code>class="example"</code>与规范性文本分开，例如：</p>
        <div class="example" id="w3c-example">
            <a class="self-link" href="#w3c-example"></a>
            <p>这是一个说明性示例的示例。</p>
        </div>
        <p>说明性注释以“注”一词开头，并通过<code>class="note"</code>与规范性文本分开，例如：</p>
        <p class="note" role="note">注，这是一个说明性注释。</p>
        <section>
            <h3 class="no-ref no-num heading settled" id="w3c-conformant-algorithms"><span
                    class="content">一致性算法</span><a class="self-link" href="#w3c-conformant-algorithms"></a></h3>
            <p>在算法中以命令式措辞表达的要求（例如“删除任何前导空格字符”或“返回 false 并中止这些步骤”）应根据引入算法时使用的关键字（“必须”、“应该”、“可以”等）的含义来解释。</p>
            <p>以算法或具体步骤表达的一致性要求可以以任何方式实现，只要最终结果是等效的即可。特别是，本规范中定义的算法旨在易于理解，并非旨在具有高性能。我们鼓励实现者进行优化。</p>
        </section>

    </div>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
    <h2 class="no-num no-ref heading settled" id="index"><span class="content">索引</span><a class="self-link"
            href="#index"></a></h2>
    <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">本规范定义的术语</span><a
            class="self-link" href="#index-defined-here"></a></h3>
    <ul class="index">
        <li><a href="#apply-scroll-margin-to-a-scrollport">应用滚动边距到滚动端口</a><span>，在§ 2.2</span>
        <li>
            boundingClientRect
            <ul>
                <li><a href="#dom-intersectionobserverentry-boundingclientrect">IntersectionObserverEntry
                        的属性</a><span>，在§ 2.3</span>
                <li><a href="#dom-intersectionobserverentryinit-boundingclientrect">IntersectionObserverEntryInit
                        的字典成员</a><span>，在§ 2.3</span>
            </ul>
        <li><a href="#dom-intersectionobserver-callback-slot">[[callback]]</a><span>，在§ 3.1.3</span>
        <li><a href="#compute-the-intersection">计算交集</a><span>，在§ 3.2.7</span>
        <li><a href="#dom-intersectionobserver-intersectionobserver">构造函数(callback)</a><span>，在§ 2.2</span>
        <li><a href="#dom-intersectionobserver-intersectionobserver">构造函数(callback, options)</a><span>，在§ 2.2</span>
        <li><a
                href="#dom-intersectionobserverentry-intersectionobserverentry">构造函数(intersectionObserverEntryInit)</a><span>，在§ 2.3</span>
        <li><a href="#intersectionobserver-content-clip">内容剪裁</a><span>，在§ 2.2</span>
        <li><a href="#intersectionobserver-cross-origin-domain-target">跨域目标</a><span>，在§ 2.2</span>
        <li><a href="#dom-intersectionobserver-disconnect">断开连接()</a><span>，在§ 2.2</span>
        <li><a href="#intersectionobserver-explicit-root-observer">显式根观察者</a><span>，在§ 2.2</span>
        <li><a href="#intersectionobserver-implicit-root">隐式根</a><span>，在§ 2.2</span>
        <li><a href="#intersectionobserver-implicit-root-observer">隐式根观察者</a><span>，在§ 2.2</span>
        <li><a href="#initialize-a-new-intersectionobserver">初始化一个新的 IntersectionObserver</a><span>，在§ 3.2.1</span>
        <li><a href="#intersection-observer">Intersection Observer</a><span>，在§ 2</span>
        <li><a href="#intersectionobserver">IntersectionObserver</a><span>，在§ 2.2</span>
        <li><a
                href="#dom-intersectionobserver-intersectionobserver">IntersectionObserver(callback)</a><span>，在§ 2.2</span>
        <li><a href="#callbackdef-intersectionobservercallback">IntersectionObserverCallback</a><span>，在§ 2.1</span>
        <li><a href="#dom-intersectionobserver-intersectionobserver-callback-options">IntersectionObserver(callback,
                options = {})</a><span>，在§ 2.2</span>
        <li><a href="#dom-intersectionobserver-intersectionobserver">IntersectionObserver(callback,
                options)</a><span>，在§ 2.2</span>
        <li><a href="#intersectionobserverentry">IntersectionObserverEntry</a><span>，在§ 2.3</span>
        <li><a href="#dictdef-intersectionobserverentryinit">IntersectionObserverEntryInit</a><span>，在§ 2.3</span>
        <li><a
                href="#dom-intersectionobserverentry-intersectionobserverentry">IntersectionObserverEntry(intersectionObserverEntryInit)</a><span>，在§ 2.3</span>
        <li><a href="#dictdef-intersectionobserverinit">IntersectionObserverInit</a><span>，在§ 2.4</span>
        <li><a href="#intersectionobserverregistration">IntersectionObserverRegistration</a><span>，在§ 3.1.2</span>
        <li><a href="#document-intersectionobservertaskqueued">IntersectionObserverTaskQueued</a><span>，在§ 3.1.1</span>
        <li><a href="#intersectionobserver-task-source">IntersectionObserver 任务来源</a><span>，在§ 3.2.4</span>
        <li>
            intersectionRatio
            <ul>
                <li><a href="#dom-intersectionobserverentry-intersectionratio">IntersectionObserverEntry
                        的属性</a><span>，在§ 2.3</span>
                <li><a href="#dom-intersectionobserverentryinit-intersectionratio">IntersectionObserverEntryInit
                        的字典成员</a><span>，在§ 2.3</span>
            </ul>
        <li>
            intersectionRect
            <ul>
                <li><a href="#dom-intersectionobserverentry-intersectionrect">IntersectionObserverEntry
                        的属性</a><span>，在§ 2.3</span>
                <li><a href="#dom-intersectionobserverentryinit-intersectionrect">IntersectionObserverEntryInit
                        的字典成员</a><span>，在§ 2.3</span>
            </ul>
        <li><a href="#intersectionobserver-intersection-root">交叉根</a><span>，在§ 2.2</span>
        <li>
            isIntersecting
            <ul>
                <li><a href="#dom-intersectionobserverentry-isintersecting">IntersectionObserverEntry
                        的属性</a><span>，在§ 2.3</span>
                <li><a href="#dom-intersectionobserverentryinit-isintersecting">IntersectionObserverEntryInit
                        的字典成员</a><span>，在§ 2.3</span>
            </ul>
        <li><a href="#notify-intersection-observers">通知交叉观察者</a><span>，在§ 3.2.5</span>
        <li><a href="#dom-intersectionobserver-observationtargets-slot">[[ObservationTargets]]</a><span>，在§ 3.1.3</span>
        <li><a href="#observe-a-target-element">观察一个目标元素</a><span>，在§ 3.2.2</span>
        <li><a href="#dom-intersectionobserverregistration-observer">观察者</a><span>，在§ 3.1.2</span>
        <li><a href="#dom-intersectionobserver-observe">observe(target)</a><span>，在§ 2.2</span>
        <li><a href="#parse-a-margin">解析边距</a><span>，在§ 2.2</span>
        <li><a href="#pending-initial-intersectionobserver-targets">待处理的初始 IntersectionObserver
                目标</a><span>，在§ 3.4.2</span>
        <li><a
                href="#dom-intersectionobserverregistration-previousisintersecting">previousIsIntersecting</a><span>，在§ 3.1.2</span>
        <li><a
                href="#dom-intersectionobserverregistration-previousthresholdindex">previousThresholdIndex</a><span>，在§ 3.1.2</span>
        <li><a href="#intersection-observer-processing-model">处理模型</a><span>，在§ 2.4</span>
        <li><a href="#queue-an-intersectionobserverentry">排队一个 IntersectionObserverEntry</a><span>，在§ 3.2.6</span>
        <li><a href="#queue-an-intersection-observer-task">排队一个 IntersectionObserver 任务</a><span>，在§ 3.2.4</span>
        <li><a href="#dom-intersectionobserver-queuedentries-slot">[[QueuedEntries]]</a><span>，在§ 3.1.3</span>
        <li><a
                href="#dom-element-registeredintersectionobservers-slot">[[RegisteredIntersectionObservers]]</a><span>，在§ 3.1.2</span>
        <li>
            root
            <ul>
                <li><a href="#dom-intersectionobserver-root">IntersectionObserver 的属性</a><span>，在§ 2.2</span>
                <li><a href="#dom-intersectionobserverinit-root">IntersectionObserverInit
                        的字典成员</a><span>，在§ 2.4</span>
            </ul>
        <li>
            rootBounds
            <ul>
                <li><a href="#dom-intersectionobserverentry-rootbounds">IntersectionObserverEntry
                        的属性</a><span>，在§ 2.3</span>
                <li><a href="#dom-intersectionobserverentryinit-rootbounds">IntersectionObserverEntryInit
                        的字典成员</a><span>，在§ 2.3</span>
            </ul>
        <li><a href="#intersectionobserver-root-intersection-rectangle">根交叉矩形</a><span>，在§ 2.2</span>
        <li><a href="#dom-intersectionobserver-rootmargin-slot">[[rootMargin]]</a><span>，在§ 3.1.3</span>
        <li>
            rootMargin
            <ul>
                <li><a href="#dom-intersectionobserver-rootmargin">IntersectionObserver 的属性</a><span>，在§ 2.2</span>
                <li><a href="#dom-intersectionobserverinit-rootmargin">IntersectionObserverInit
                        的字典成员</a><span>，在§ 2.4</span>
            </ul>
        <li><a href="#run-the-update-intersection-observations-steps">运行更新交叉观察步骤</a><span>，在§ 3.2.8</span>
        <li><a href="#intersectionobserver-same-origin-domain-target">同源域目标</a><span>，在§ 2.2</span>
        <li><a href="#dom-intersectionobserver-scrollmargin-slot">[[scrollMargin]]</a><span>，在§ 3.1.3</span>
        <li>
            scrollMargin
            <ul>
                <li><a href="#dom-intersectionobserver-scrollmargin">IntersectionObserver
                        的属性</a><span>，在§ 2.2</span>
                <li><a href="#dom-intersectionobserverinit-scrollmargin">IntersectionObserverInit
                        的字典成员</a><span>，在§ 2.4</span>
            </ul>
        <li><a href="#dom-intersectionobserver-takerecords">takeRecords()</a><span>，在§ 2.2</span>
        <li>
            target
            <ul>
                <li><a href="#dom-intersectionobserverentry-target">IntersectionObserverEntry
                        的属性</a><span>，在§ 2.3</span>
                <li><a href="#intersectionobserver-target">IntersectionObserver 的定义</a><span>，在§ 2</span>
                <li><a href="#dom-intersectionobserverentryinit-target">IntersectionObserverEntryInit
                        的字典成员</a><span>，在§ 2.3</span>
            </ul>
        <li><a href="#dom-intersectionobserverinit-threshold">阈值</a><span>，在§ 2.4</span>
        <li><a href="#dom-intersectionobserver-thresholds">阈值</a><span>，在§ 2.2</span>
        <li>
            time
            <ul>
                <li><a href="#dom-intersectionobserverentry-time">IntersectionObserverEntry
                        的属性</a><span>，在§ 2.3</span>
                <li><a href="#dom-intersectionobserverentryinit-time">IntersectionObserverEntryInit
                        的字典成员</a><span>，在§ 2.3</span>
            </ul>
        <li><a href="#unobserve-a-target-element">停止观察目标元素</a><span>，在§ 3.2.3</span>
        <li><a href="#dom-intersectionobserver-unobserve">unobserve(target)</a><span>，在§ 2.2</span>
    </ul>
    <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">引用定义的术语</span><a
            class="self-link" href="#index-defined-elsewhere"></a></h3>
    <ul class="index">
        <li>
            <a data-link-type="biblio">[]</a>定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="3b11702b">DOMHighResTimeStamp</span>
                <li><span class="dfn-paneled" id="097f5617">RangeError</span>
                <li><span class="dfn-paneled" id="90867675">SyntaxError</span>
                <li><span class="dfn-paneled" id="faf954d6">浏览上下文</span>
                <li><span class="dfn-paneled" id="7939ecaf">浏览上下文容器</span>
                <li><span class="dfn-paneled" id="382d14c8">回调此值</span>
                <li><span class="dfn-paneled" id="7e97fcbf">剪裁路径</span>
                <li><span class="dfn-paneled" id="23ef900a">包含块</span>
                <li><span class="dfn-paneled" id="e0c5f84d">包含块链</span>
                <li><span class="dfn-paneled" id="fd0b4a9a">document</span>
                <li><span class="dfn-paneled" id="8ac02c3e">double</span>
                <li><span class="dfn-paneled" id="c6d19e56">事件循环</span>
                <li><span class="dfn-paneled" id="a192c757">完全活动</span>
                <li><span class="dfn-paneled" id="b3778518">html 事件循环处理模型</span>
                <li><span class="dfn-paneled" id="10e56401">后代浏览上下文列表</span>
                <li><span class="dfn-paneled" id="25d33108">嵌套浏览上下文</span>
                <li><span class="dfn-paneled" id="73317570">origin</span>
                <li><span class="dfn-paneled" id="1a3d4de6">溢出属性</span>
                <li><span class="dfn-paneled" id="2c543ae5">内边距区域</span>
                <li><span class="dfn-paneled" id="b1242144">内边距边缘</span>
                <li><span class="dfn-paneled" id="dddc4776">捏合缩放</span>
                <li><span class="dfn-paneled" id="9a517a7d">排队任务</span>
                <li><span class="dfn-paneled" id="9c4c1e66">相关设置对象</span>
                <li><span class="dfn-paneled" id="04e154c5">报告异常</span>
                <li><span class="dfn-paneled" id="604e2d49">抛出</span>
                <li><span class="dfn-paneled" id="4ce01aab">时间原点</span>
                <li><span class="dfn-paneled" id="90f31f6c">顶级浏览上下文</span>
                <li><span class="dfn-paneled" id="c63519ed">顶级来源</span>
                <li><span class="dfn-paneled" id="db6ab50a">未定义</span>
                <li><span class="dfn-paneled" id="f3aafb20">视口</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-BOX-4]</a>定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="253362bb">边距</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-OVERFLOW-3]</a>定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="a3cabdb1">滚动容器</span>
                <li><span class="dfn-paneled" id="700ea31d">滚动端口</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-SYNTAX-3]</a>定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="4b48ffac">解析组件值列表</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-VALUES-3]</a>定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="ceb467df">绝对长度</span>
                <li><span class="dfn-paneled" id="c57f62f7">维度</span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSS-VALUES-4]</a>定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="128295ac">&lt;百分比></span>
            </ul>
        <li>
            <a data-link-type="biblio">[CSSOM-VIEW-1]</a>定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="04e2fe80">获取边界框</span>
            </ul>
        <li>
            <a data-link-type="biblio">[DOM]</a>定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="85394472">文档</span>
                <li><span class="dfn-paneled" id="296f3551">元素</span>
                <li><span class="dfn-paneled" id="83c7a70f">突变观察者</span>
                <li><span class="dfn-paneled" id="76092226">MutationObserverInit</span>
                <li><span class="dfn-paneled" id="96c16e60">节点</span>
                <li><span class="dfn-paneled" id="ceeffc75">observe(target)</span>
            </ul>
        <li>
            <a data-link-type="biblio">[GEOMETRY-1]</a>定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="d11c73d6">DOMRect</span>
                <li><span class="dfn-paneled" id="5a9ab3ba">DOMRectInit</span>
                <li><span class="dfn-paneled" id="224fa1d7">DOMRectReadOnly</span>
            </ul>
        <li>
            <a data-link-type="biblio">[HTML]</a>定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="04e0443f">文档</span>
                <li><span class="dfn-paneled" id="521818b9">同源域</span>
                <li><span class="dfn-paneled" id="c3b2d08c">任务来源</span>
            </ul>
        <li>
            <a data-link-type="biblio">[WEBIDL]</a>定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="8855a9aa">DOMString</span>
                <li><span class="dfn-paneled" id="889e932f">暴露的</span>
                <li><span class="dfn-paneled" id="dcf5fafa">FrozenArray</span>
                <li><span class="dfn-paneled" id="5372cca8">boolean</span>
                <li><span class="dfn-paneled" id="9cce47fd">序列</span>
            </ul>
    </ul>

    <h2 class="no-num no-ref heading settled" id="references"><span class="content">参考文献</span><a class="self-link"
            href="#references"></a></h2>
    <h3 class="no-num no-ref heading settled" id="normative"><span class="content">规范性引用</span><a class="self-link"
            href="#normative"></a></h3>
    <dl>
        <dt id="biblio-css-box-4">[CSS-BOX-4]
        <dd>Elika Etemad. <a href="https://www.w3.org/TR/css-box-4/"><cite>CSS 盒模型模块 第4级</cite></a>. 2022年11月3日. WD.
            URL: <a href="https://www.w3.org/TR/css-box-4/">https://www.w3.org/TR/css-box-4/</a>
        <dt id="biblio-css-contain-2">[CSS-CONTAIN-2]
        <dd>Tab Atkins Jr.; Florian Rivoal; Vladimir Levin. <a href="https://www.w3.org/TR/css-contain-2/"><cite>CSS
                    包含模块 第2级</cite></a>. 2022年9月17日. WD. URL: <a
                href="https://www.w3.org/TR/css-contain-2/">https://www.w3.org/TR/css-contain-2/</a>
        <dt id="biblio-css-overflow-3">[CSS-OVERFLOW-3]
        <dd>Elika Etemad; Florian Rivoal. <a href="https://www.w3.org/TR/css-overflow-3/"><cite>CSS 溢出模块
                    第3级</cite></a>. 2023年3月29日. WD. URL: <a
                href="https://www.w3.org/TR/css-overflow-3/">https://www.w3.org/TR/css-overflow-3/</a>
        <dt id="biblio-css-syntax-3">[CSS-SYNTAX-3]
        <dd>Tab Atkins Jr.; Simon Sapin. <a href="https://www.w3.org/TR/css-syntax-3/"><cite>CSS 语法模块
                    第3级</cite></a>. 2021年12月24日. CR. URL: <a
                href="https://www.w3.org/TR/css-syntax-3/">https://www.w3.org/TR/css-syntax-3/</a>
        <dt id="biblio-css-values-3">[CSS-VALUES-3]
        <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://www.w3.org/TR/css-values-3/"><cite>CSS 值与单位模块
                    第3级</cite></a>. 2022年12月1日. CR. URL: <a
                href="https://www.w3.org/TR/css-values-3/">https://www.w3.org/TR/css-values-3/</a>
        <dt id="biblio-css-values-4">[CSS-VALUES-4]
        <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://www.w3.org/TR/css-values-4/"><cite>CSS 值与单位模块
                    第4级</cite></a>. 2023年4月6日. WD. URL: <a
                href="https://www.w3.org/TR/css-values-4/">https://www.w3.org/TR/css-values-4/</a>
        <dt id="biblio-cssom-view-1">[CSSOM-VIEW-1]
        <dd>Simon Pieters. <a href="https://www.w3.org/TR/cssom-view-1/"><cite>CSSOM 视图模块</cite></a>. 2016年3月17日.
            WD. URL: <a href="https://www.w3.org/TR/cssom-view-1/">https://www.w3.org/TR/cssom-view-1/</a>
        <dt id="biblio-dom">[DOM]
        <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM 标准</cite></a>. 现行标准. URL: <a
                href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
        <dt id="biblio-geometry-1">[GEOMETRY-1]
        <dd>Simon Pieters; Chris Harrelson. <a href="https://www.w3.org/TR/geometry-1/"><cite>几何接口模块 第1级</cite></a>.
            2018年12月4日. CR. URL: <a href="https://www.w3.org/TR/geometry-1/">https://www.w3.org/TR/geometry-1/</a>
        <dt id="biblio-html">[HTML]
        <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML 标准</cite></a>.
            现行标准. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
        <dt id="biblio-rfc2119">[RFC2119]
        <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>RFC
                    中使用的关键字，以指示要求级别</cite></a>. 1997年3月. 最佳现行实践. URL: <a
                href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
        <dt id="biblio-webidl">[WEBIDL]
        <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL 标准</cite></a>. 现行标准.
            URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
    </dl>
    <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL 索引</span><a class="self-link"
            href="#idl-index"></a></h2>

    <pre class="idl highlight def"><c- b>callback</c-> <a href="#callbackdef-intersectionobservercallback"><code><c- g>IntersectionObserverCallback</c-></code></a> = <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-undefined"><c- b>undefined</c-></a> (<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#intersectionobserverentry"><c- n>IntersectionObserverEntry</c-></a>> <a href="#dom-intersectionobservercallback-entries"><code><c- g>entries</c-></code></a>, <a data-link-type="idl-name" href="#intersectionobserver"><c- n>IntersectionObserver</c-></a> <a href="#dom-intersectionobservercallback-observer"><code><c- g>observer</c-></code></a>);

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#intersectionobserver"><code><c- g>IntersectionObserver</c-></code></a> {
  <a href="#dom-intersectionobserver-intersectionobserver"><code><c- g>constructor</c-></code></a>(<a data-link-type="idl-name" href="#callbackdef-intersectionobservercallback"><c- n>IntersectionObserverCallback</c-></a> <a href="#dom-intersectionobserver-intersectionobserver-callback-options-callback"><code><c- g>callback</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-intersectionobserverinit"><c- n>IntersectionObserverInit</c-></a> <a href="#dom-intersectionobserver-intersectionobserver-callback-options-options"><code><c- g>options</c-></code></a> = {});
  <c- b>readonly</c-> <c- b>attribute</c-> (<a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element"><c- n>Element</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#document"><c- n>Document</c-></a>)? <a class="idl-code" data-link-type="attribute" data-readonly data-type="(Element or Document)?" href="#dom-intersectionobserver-root"><c- g>root</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString" href="#dom-intersectionobserver-rootmargin"><c- g>rootMargin</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString" href="#dom-intersectionobserver-scrollmargin"><c- g>scrollMargin</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-double"><c- b>double</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="FrozenArray<double>" href="#dom-intersectionobserver-thresholds"><c- g>thresholds</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-intersectionobserver-observe"><c- g>observe</c-></a>(<a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element"><c- n>Element</c-></a> <a href="#dom-intersectionobserver-observe-target-target"><code><c- g>target</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-intersectionobserver-unobserve"><c- g>unobserve</c-></a>(<a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element"><c- n>Element</c-></a> <a href="#dom-intersectionobserver-unobserve-target-target"><code><c- g>target</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-intersectionobserver-disconnect"><c- g>disconnect</c-></a>();
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#intersectionobserverentry"><c- n>IntersectionObserverEntry</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-intersectionobserver-takerecords"><c- g>takeRecords</c-></a>();
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#intersectionobserverentry"><code><c- g>IntersectionObserverEntry</c-></code></a> {
  <a href="#dom-intersectionobserverentry-intersectionobserverentry"><code><c- g>constructor</c-></code></a>(<a data-link-type="idl-name" href="#dictdef-intersectionobserverentryinit"><c- n>IntersectionObserverEntryInit</c-></a> <a href="#dom-intersectionobserverentry-intersectionobserverentry-intersectionobserverentryinit-intersectionobserverentryinit"><code><c- g>intersectionObserverEntryInit</c-></code></a>);
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/hr-time/#domhighrestimestamp"><c- n>DOMHighResTimeStamp</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMHighResTimeStamp" href="#dom-intersectionobserverentry-time"><c- g>time</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/geometry-1/#domrectreadonly"><c- n>DOMRectReadOnly</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMRectReadOnly?" href="#dom-intersectionobserverentry-rootbounds"><c- g>rootBounds</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/geometry-1/#domrectreadonly"><c- n>DOMRectReadOnly</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMRectReadOnly" href="#dom-intersectionobserverentry-boundingclientrect"><c- g>boundingClientRect</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/geometry-1/#domrectreadonly"><c- n>DOMRectReadOnly</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMRectReadOnly" href="#dom-intersectionobserverentry-intersectionrect"><c- g>intersectionRect</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-intersectionobserverentry-isintersecting"><c- g>isIntersecting</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-double"><c- b>double</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="double" href="#dom-intersectionobserverentry-intersectionratio"><c- g>intersectionRatio</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element"><c- n>Element</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Element" href="#dom-intersectionobserverentry-target"><c- g>target</c-></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-intersectionobserverentryinit"><code><c- g>IntersectionObserverEntryInit</c-></code></a> {
  <c- b>required</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/hr-time/#domhighrestimestamp"><c- n>DOMHighResTimeStamp</c-></a> <a data-type="DOMHighResTimeStamp " href="#dom-intersectionobserverentryinit-time"><code><c- g>time</c-></code></a>;
  <c- b>required</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/geometry-1/#dictdef-domrectinit"><c- n>DOMRectInit</c-></a>? <a data-type="DOMRectInit? " href="#dom-intersectionobserverentryinit-rootbounds"><code><c- g>rootBounds</c-></code></a>;
  <c- b>required</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/geometry-1/#dictdef-domrectinit"><c- n>DOMRectInit</c-></a> <a data-type="DOMRectInit " href="#dom-intersectionobserverentryinit-boundingclientrect"><code><c- g>boundingClientRect</c-></code></a>;
  <c- b>required</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/geometry-1/#dictdef-domrectinit"><c- n>DOMRectInit</c-></a> <a data-type="DOMRectInit " href="#dom-intersectionobserverentryinit-intersectionrect"><code><c- g>intersectionRect</c-></code></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-type="boolean " href="#dom-intersectionobserverentryinit-isintersecting"><code><c- g>isIntersecting</c-></code></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-double"><c- b>double</c-></a> <a data-type="double " href="#dom-intersectionobserverentryinit-intersectionratio"><code><c- g>intersectionRatio</c-></code></a>;
  <c- b>required</c-> <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element"><c- n>Element</c-></a> <a data-type="Element " href="#dom-intersectionobserverentryinit-target"><code><c- g>target</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-intersectionobserverinit"><code><c- g>IntersectionObserverInit</c-></code></a> {
  (<a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element"><c- n>Element</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#document"><c- n>Document</c-></a>)?  <a class="idl-code" data-default="null" data-link-type="dict-member" data-type="(Element or Document)?  " href="#dom-intersectionobserverinit-root"><c- g>root</c-></a> = <c- b>null</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-default="&quot;0px&quot;" data-link-type="dict-member" data-type="DOMString " href="#dom-intersectionobserverinit-rootmargin"><c- g>rootMargin</c-></a> = "0px";
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-default="&quot;0px&quot;" data-link-type="dict-member" data-type="DOMString " href="#dom-intersectionobserverinit-scrollmargin"><c- g>scrollMargin</c-></a> = "0px";
  (<a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-double"><c- b>double</c-></a> <c- b>or</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-double"><c- b>double</c-></a>>) <a class="idl-code" data-default="0" data-link-type="dict-member" data-type="(double or sequence<double>) " href="#dom-intersectionobserverinit-threshold"><c- g>threshold</c-></a> = 0;
};

</pre>
    <details class="mdn-anno unpositioned" data-anno-for="dom-intersectionobserver-intersectionobserver">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserver/IntersectionObserver"
                    title="The IntersectionObserver() constructor creates and returns a new IntersectionObserver object.">IntersectionObserver/IntersectionObserver</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>55+</span></span><span
                    class="safari yes"><span>Safari</span><span>12.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>51+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>15+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android yes"><span>Firefox for Android</span><span>55+</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-intersectionobserver-disconnect">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserver/disconnect"
                    title="The IntersectionObserver method disconnect() stops watching all of its target elements for visibility changes.">IntersectionObserver/disconnect</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>55+</span></span><span
                    class="safari yes"><span>Safari</span><span>12.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>51+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>15+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-intersectionobserver-observe">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserver/observe"
                    title="The IntersectionObserver method observe() adds an element to the set of target elements being watched by the IntersectionObserver. One observer has one set of thresholds and one root, but can watch multiple target elements for visibility changes in keeping with those.">IntersectionObserver/observe</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>55+</span></span><span
                    class="safari yes"><span>Safari</span><span>12.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>51+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>15+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-intersectionobserver-root">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserver/root"
                    title="The IntersectionObserver interface&apos;s read-only root property identifies the Element or Document whose bounds are treated as the bounding box of the viewport for the element which is the observer&apos;s target.">IntersectionObserver/root</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>55+</span></span><span
                    class="safari yes"><span>Safari</span><span>12.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>51+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>15+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-intersectionobserver-rootmargin">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserver/rootMargin"
                    title="The IntersectionObserver interface&apos;s read-only rootMargin property is a string with syntax similar to that of the CSS margin property. Each side of the rectangle represented by rootMargin is added to the corresponding side in the root element&apos;s bounding box before the intersection test is performed. This lets you, for example, adjust the bounds outward so that the target element is considered 100% visible even if a certain number of pixels worth of width or height is clipped away, or treat the target as partially hidden if an edge is too close to the edge of the root&apos;s bounding box.">IntersectionObserver/rootMargin</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>55+</span></span><span
                    class="safari yes"><span>Safari</span><span>12.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>51+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>15+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-intersectionobserver-takerecords">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserver/takeRecords"
                    title="The IntersectionObserver method takeRecords() returns an array of IntersectionObserverEntry objects, one for each targeted element which has experienced an intersection change since the last time the intersections were checked, either explicitly through a call to this method or implicitly by an automatic call to the observer&apos;s callback.">IntersectionObserver/takeRecords</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>55+</span></span><span
                    class="safari yes"><span>Safari</span><span>12.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>51+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>15+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-intersectionobserver-thresholds">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserver/thresholds"
                    title="The IntersectionObserver interface&apos;s read-only thresholds property returns the list of intersection thresholds that was specified when the observer was instantiated with IntersectionObserver(). If only one threshold ratio was provided when instantiating the object, this will be an array containing that single value.">IntersectionObserver/thresholds</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>55+</span></span><span
                    class="safari yes"><span>Safari</span><span>12.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>52+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>15+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-intersectionobserver-unobserve">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserver/unobserve"
                    title="The IntersectionObserver method unobserve() instructs the IntersectionObserver to stop observing the specified target element.">IntersectionObserver/unobserve</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>55+</span></span><span
                    class="safari yes"><span>Safari</span><span>12.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>51+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>15+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="intersection-observer-interface">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserver"
                    title="The IntersectionObserver interface of the Intersection Observer API provides a way to asynchronously observe changes in the intersection of a target element with an ancestor element or with a top-level document&apos;s viewport. The ancestor element or viewport is referred to as the root.">IntersectionObserver</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>55+</span></span><span
                    class="safari yes"><span>Safari</span><span>12.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>51+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>15+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-intersectionobserverentry-boundingclientrect">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserverEntry/boundingClientRect"
                    title="The IntersectionObserverEntry interface&apos;s read-only boundingClientRect property returns a DOMRectReadOnly which in essence describes a rectangle describing the smallest rectangle that contains the entire target element.">IntersectionObserverEntry/boundingClientRect</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>55+</span></span><span
                    class="safari yes"><span>Safari</span><span>12.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>51+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>15+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-intersectionobserverentry-intersectionratio">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserverEntry/intersectionRatio"
                    title="The IntersectionObserverEntry interface&apos;s read-only intersectionRatio property tells you how much of the target element is currently visible within the root&apos;s intersection ratio, as a value between 0.0 and 1.0.">IntersectionObserverEntry/intersectionRatio</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>55+</span></span><span
                    class="safari yes"><span>Safari</span><span>12.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>51+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>15+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-intersectionobserverentry-intersectionrect">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserverEntry/intersectionRect"
                    title="The IntersectionObserverEntry interface&apos;s read-only intersectionRect property is a DOMRectReadOnly object which describes the smallest rectangle that contains the entire portion of the target element which is currently visible within the intersection root.">IntersectionObserverEntry/intersectionRect</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>55+</span></span><span
                    class="safari yes"><span>Safari</span><span>12.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>51+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>15+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-intersectionobserverentry-isintersecting">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserverEntry/isIntersecting"
                    title="The IntersectionObserverEntry interface&apos;s read-only isIntersecting property is a Boolean value which is true if the target element intersects with the intersection observer&apos;s root. If this is true, then, the IntersectionObserverEntry describes a transition into a state of intersection; if it&apos;s false, then you know the transition is from intersecting to not-intersecting.">IntersectionObserverEntry/isIntersecting</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>55+</span></span><span
                    class="safari yes"><span>Safari</span><span>12.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>58+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-intersectionobserverentry-rootbounds">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserverEntry/rootBounds"
                    title="The IntersectionObserverEntry interface&apos;s read-only rootBounds property is a DOMRectReadOnly corresponding to the target&apos;s root intersection rectangle, offset by the IntersectionObserver.rootMargin if one is specified.">IntersectionObserverEntry/rootBounds</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>55+</span></span><span
                    class="safari yes"><span>Safari</span><span>12.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>51+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>15+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-intersectionobserverentry-target">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserverEntry/target"
                    title="The IntersectionObserverEntry interface&apos;s read-only target property indicates which targeted Element has changed its amount of intersection with the intersection root.">IntersectionObserverEntry/target</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>55+</span></span><span
                    class="safari yes"><span>Safari</span><span>12.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>51+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>15+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-intersectionobserverentry-time">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserverEntry/time"
                    title="The IntersectionObserverEntry interface&apos;s read-only time property is a DOMHighResTimeStamp that indicates the time at which the intersection change occurred relative to the time at which the document was created.">IntersectionObserverEntry/time</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>55+</span></span><span
                    class="safari yes"><span>Safari</span><span>12.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>51+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>15+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="intersection-observer-entry">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserverEntry"
                    title="The IntersectionObserverEntry interface of the Intersection Observer API describes the intersection between the target element and its root container at a specific moment of transition.">IntersectionObserverEntry</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>55+</span></span><span
                    class="safari yes"><span>Safari</span><span>12.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>51+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>15+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <script>/* Boilerplate: script-dfn-panel */
        "use strict";
        {
            const dfnsJson = window.dfnsJson || {};

            function genDfnPanel({ dfnID, url, dfnText, refSections, external }) {
                return mk.aside({
                    class: "dfn-panel",
                    id: `infopanel-for-${dfnID}`,
                    "data-for": dfnID,
                    "aria-labelled-by": `infopaneltitle-for-${dfnID}`,
                },
                    mk.span({ id: `infopaneltitle-for-${dfnID}`, style: "display:none" },
                        `Info about the '${dfnText}' ${external ? "external" : ""} reference.`),
                    mk.a({ href: url }, url),
                    mk.b({}, "Referenced in:"),
                    mk.ul({},
                        ...refSections.map(section =>
                            mk.li({},
                                ...section.refs.map((ref, refI) =>
                                    [
                                        mk.a({
                                            href: `#${ref.id}`
                                        },
                                            (refI == 0) ? section.title : `(${refI + 1})`
                                        ),
                                        " ",
                                    ]
                                ),
                            ),
                        ),
                    ),
                );
            }

            function genAllDfnPanels() {
                for (const panelData of Object.values(window.dfnpanelData)) {
                    const dfnID = panelData.dfnID;
                    const dfn = document.getElementById(dfnID);
                    if (!dfn) {
                        console.log(`Can't find dfn#${dfnID}.`, panelData);
                    } else {
                        const panel = genDfnPanel(panelData);
                        append(document.body, panel);
                        insertDfnPopupAction(dfn, panel)
                    }
                }
            }

            document.addEventListener("DOMContentLoaded", () => {
                genAllDfnPanels();

                // Add popup behavior to all dfns to show the corresponding dfn-panel.
                var dfns = queryAll('.dfn-paneled');
                for (let dfn of dfns) { ; }

                document.body.addEventListener("click", (e) => {
                    // If not handled already, just hide all dfn panels.
                    hideAllDfnPanels();
                });
            })


            function hideAllDfnPanels() {
                // Turn off any currently "on" or "activated" panels.
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el => hideDfnPanel(el));
            }

            function showDfnPanel(dfnPanel, dfn) {
                hideAllDfnPanels(); // Only display one at this time.
                dfn.setAttribute("aria-expanded", "true");
                dfnPanel.classList.add("on");
                dfnPanel.style.left = "5px";
                dfnPanel.style.top = "0px";
                const panelRect = dfnPanel.getBoundingClientRect();
                const panelWidth = panelRect.right - panelRect.left;
                if (panelRect.right > document.body.scrollWidth) {
                    // Panel's overflowing the screen.
                    // Just drop it below the dfn and flip it rightward instead.
                    // This still wont' fix things if the screen is *really* wide,
                    // but fixing that's a lot harder without 'anchor()'.
                    dfnPanel.style.top = "1.5em";
                    dfnPanel.style.left = "auto";
                    dfnPanel.style.right = "0px";
                }
            }

            function pinDfnPanel(dfnPanel) {
                // Switch it to "activated" state, which pins it.
                dfnPanel.classList.add("activated");
                dfnPanel.style.left = null;
                dfnPanel.style.top = null;
            }

            function hideDfnPanel(dfnPanel, dfn) {
                if (!dfn) {
                    dfn = document.getElementById(dfnPanel.getAttribute("data-for"));
                }
                dfn.setAttribute("aria-expanded", "false")
                dfnPanel.classList.remove("on");
                dfnPanel.classList.remove("activated");
            }

            function toggleDfnPanel(dfnPanel, dfn) {
                if (dfnPanel.classList.contains("on")) {
                    hideDfnPanel(dfnPanel, dfn);
                } else {
                    showDfnPanel(dfnPanel, dfn);
                }
            }

            function insertDfnPopupAction(dfn, dfnPanel) {
                // Find dfn panel
                const panelWrapper = document.createElement('span');
                panelWrapper.appendChild(dfnPanel);
                panelWrapper.style.position = "relative";
                panelWrapper.style.height = "0px";
                dfn.insertAdjacentElement("afterend", panelWrapper);
                dfn.setAttribute('role', 'button');
                dfn.setAttribute('aria-expanded', 'false')
                dfn.tabIndex = 0;
                dfn.classList.add('has-dfn-panel');
                dfn.addEventListener('click', (event) => {
                    showDfnPanel(dfnPanel, dfn);
                    event.stopPropagation();
                });
                dfn.addEventListener('keypress', (event) => {
                    const kc = event.keyCode;
                    // 32->Space, 13->Enter
                    if (kc == 32 || kc == 13) {
                        toggleDfnPanel(dfnPanel, dfn);
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });

                dfnPanel.addEventListener('click', (event) => {
                    if (event.target.nodeName == 'A') {
                        pinDfnPanel(dfnPanel);
                    }
                    event.stopPropagation();
                });

                dfnPanel.addEventListener('keydown', (event) => {
                    if (event.keyCode == 27) { // Escape key
                        hideDfnPanel(dfnPanel, dfn);
                        event.stopPropagation();
                        event.preventDefault();
                    }
                })
            }
        }
    </script>
    <script>/* Boilerplate: script-dfn-panel */
        "use strict";
        {
            const dfnsJson = window.dfnsJson || {};

            function genDfnPanel({ dfnID, url, dfnText, refSections, external }) {
                return mk.aside({
                    class: "dfn-panel",
                    id: `infopanel-for-${dfnID}`,
                    "data-for": dfnID,
                    "aria-labelled-by": `infopaneltitle-for-${dfnID}`,
                },
                    mk.span({ id: `infopaneltitle-for-${dfnID}`, style: "display:none" },
                        `Info about the '${dfnText}' ${external ? "external" : ""} reference.`),
                    mk.a({ href: url }, url),
                    mk.b({}, "Referenced in:"),
                    mk.ul({},
                        ...refSections.map(section =>
                            mk.li({},
                                ...section.refs.map((ref, refI) =>
                                    [
                                        mk.a({
                                            href: `#${ref.id}`
                                        },
                                            (refI == 0) ? section.title : `(${refI + 1})`
                                        ),
                                        " ",
                                    ]
                                ),
                            ),
                        ),
                    ),
                );
            }

            function genAllDfnPanels() {
                for (const panelData of Object.values(window.dfnpanelData)) {
                    const dfnID = panelData.dfnID;
                    const dfn = document.getElementById(dfnID);
                    if (!dfn) {
                        console.log(`Can't find dfn#${dfnID}.`, panelData);
                    } else {
                        const panel = genDfnPanel(panelData);
                        append(document.body, panel);
                        insertDfnPopupAction(dfn, panel)
                    }
                }
            }

            document.addEventListener("DOMContentLoaded", () => {
                genAllDfnPanels();

                // Add popup behavior to all dfns to show the corresponding dfn-panel.
                var dfns = queryAll('.dfn-paneled');
                for (let dfn of dfns) { ; }

                document.body.addEventListener("click", (e) => {
                    // If not handled already, just hide all dfn panels.
                    hideAllDfnPanels();
                });
            })


            function hideAllDfnPanels() {
                // Turn off any currently "on" or "activated" panels.
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el => hideDfnPanel(el));
            }

            function showDfnPanel(dfnPanel, dfn) {
                hideAllDfnPanels(); // Only display one at this time.
                dfn.setAttribute("aria-expanded", "true");
                dfnPanel.classList.add("on");
                dfnPanel.style.left = "5px";
                dfnPanel.style.top = "0px";
                const panelRect = dfnPanel.getBoundingClientRect();
                const panelWidth = panelRect.right - panelRect.left;
                if (panelRect.right > document.body.scrollWidth) {
                    // Panel's overflowing the screen.
                    // Just drop it below the dfn and flip it rightward instead.
                    // This still wont' fix things if the screen is *really* wide,
                    // but fixing that's a lot harder without 'anchor()'.
                    dfnPanel.style.top = "1.5em";
                    dfnPanel.style.left = "auto";
                    dfnPanel.style.right = "0px";
                }
            }

            function pinDfnPanel(dfnPanel) {
                // Switch it to "activated" state, which pins it.
                dfnPanel.classList.add("activated");
                dfnPanel.style.left = null;
                dfnPanel.style.top = null;
            }

            function hideDfnPanel(dfnPanel, dfn) {
                if (!dfn) {
                    dfn = document.getElementById(dfnPanel.getAttribute("data-for"));
                }
                dfn.setAttribute("aria-expanded", "false")
                dfnPanel.classList.remove("on");
                dfnPanel.classList.remove("activated");
            }

            function toggleDfnPanel(dfnPanel, dfn) {
                if (dfnPanel.classList.contains("on")) {
                    hideDfnPanel(dfnPanel, dfn);
                } else {
                    showDfnPanel(dfnPanel, dfn);
                }
            }

            function insertDfnPopupAction(dfn, dfnPanel) {
                // Find dfn panel
                const panelWrapper = document.createElement('span');
                panelWrapper.appendChild(dfnPanel);
                panelWrapper.style.position = "relative";
                panelWrapper.style.height = "0px";
                dfn.insertAdjacentElement("afterend", panelWrapper);
                dfn.setAttribute('role', 'button');
                dfn.setAttribute('aria-expanded', 'false')
                dfn.tabIndex = 0;
                dfn.classList.add('has-dfn-panel');
                dfn.addEventListener('click', (event) => {
                    showDfnPanel(dfnPanel, dfn);
                    event.stopPropagation();
                });
                dfn.addEventListener('keypress', (event) => {
                    const kc = event.keyCode;
                    // 32->Space, 13->Enter
                    if (kc == 32 || kc == 13) {
                        toggleDfnPanel(dfnPanel, dfn);
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });

                dfnPanel.addEventListener('click', (event) => {
                    if (event.target.nodeName == 'A') {
                        pinDfnPanel(dfnPanel);
                    }
                    event.stopPropagation();
                });

                dfnPanel.addEventListener('keydown', (event) => {
                    if (event.keyCode == 27) { // Escape key
                        hideDfnPanel(dfnPanel, dfn);
                        event.stopPropagation();
                        event.preventDefault();
                    }
                })
            }
        }
    </script>
    <script>/* Boilerplate: script-dfn-panel-json */
        window.dfnpanelData = {};
        window.dfnpanelData['3b11702b'] = { "dfnID": "3b11702b", "url": "http://www.w3.org/TR/hr-time/#domhighrestimestamp", "dfnText": "DOMHighResTimeStamp", "refSections": [{ "refs": [{ "id": "ref-for-domhighrestimestamp" }, { "id": "ref-for-domhighrestimestamp\u2460" }, { "id": "ref-for-domhighrestimestamp\u2461" }, { "id": "ref-for-domhighrestimestamp\u2462" }], "title": "2.3. \nThe IntersectionObserverEntry interface" }, { "refs": [{ "id": "ref-for-domhighrestimestamp\u2463" }], "title": "3.2.6. \nQueue an IntersectionObserverEntry" }, { "refs": [{ "id": "ref-for-domhighrestimestamp\u2464" }], "title": "5. Privacy and Security" }], "external": true };
        window.dfnpanelData['097f5617'] = { "dfnID": "097f5617", "url": "https://heycam.github.io/webidl/#dfn-simple-exception", "dfnText": "RangeError", "refSections": [{ "refs": [{ "id": "ref-for-dfn-simple-exception" }, { "id": "ref-for-dfn-simple-exception\u2460" }, { "id": "ref-for-dfn-simple-exception\u2461" }], "title": "3.2.1. Initialize a new IntersectionObserver" }], "external": true };
        window.dfnpanelData['90867675'] = { "dfnID": "90867675", "url": "https://heycam.github.io/webidl/#dfn-simple-exception", "dfnText": "SyntaxError", "refSections": [{ "refs": [{ "id": "ref-for-dfn-simple-exception" }, { "id": "ref-for-dfn-simple-exception\u2460" }, { "id": "ref-for-dfn-simple-exception\u2461" }], "title": "3.2.1. Initialize a new IntersectionObserver" }], "external": true };
        window.dfnpanelData['faf954d6'] = { "dfnID": "faf954d6", "url": "https://html.spec.whatwg.org/multipage/browsers.html#browsing-context", "dfnText": "browsing context", "refSections": [{ "refs": [{ "id": "ref-for-browsing-context" }], "title": "2.3. \nThe IntersectionObserverEntry interface" }, { "refs": [{ "id": "ref-for-browsing-context\u2460" }, { "id": "ref-for-browsing-context\u2461" }], "title": "3.2.7. \nCompute the Intersection of a Target Element and the Root" }], "external": true };
        window.dfnpanelData['7939ecaf'] = { "dfnID": "7939ecaf", "url": "https://html.spec.whatwg.org/multipage/browsers.html#browsing-context-container", "dfnText": "browsing context container", "refSections": [{ "refs": [{ "id": "ref-for-browsing-context-container" }], "title": "3.2.7. \nCompute the Intersection of a Target Element and the Root" }], "external": true };
        window.dfnpanelData['382d14c8'] = { "dfnID": "382d14c8", "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#dfn-callback-this-value", "dfnText": "callback this value", "refSections": [{ "refs": [{ "id": "ref-for-dfn-callback-this-value" }], "title": "3.2.5. \nNotify Intersection Observers" }], "external": true };
        window.dfnpanelData['7e97fcbf'] = { "dfnID": "7e97fcbf", "url": "http://www.w3.org/TR/css-masking-1/#propdef-clip-path", "dfnText": "clip-path", "refSections": [{ "refs": [{ "id": "ref-for-propdef-clip-path" }], "title": "3.2.7. \nCompute the Intersection of a Target Element and the Root" }], "external": true };
        window.dfnpanelData['23ef900a'] = { "dfnID": "23ef900a", "url": "https://drafts.csswg.org/css-box/#containing-block", "dfnText": "containing block", "refSections": [{ "refs": [{ "id": "ref-for-containing-block" }, { "id": "ref-for-containing-block\u2460" }], "title": "3.2.7. \nCompute the Intersection of a Target Element and the Root" }], "external": true };
        window.dfnpanelData['e0c5f84d'] = { "dfnID": "e0c5f84d", "url": "https://drafts.csswg.org/css-display/#containing-block-chain", "dfnText": "containing block chain", "refSections": [{ "refs": [{ "id": "ref-for-containing-block-chain" }], "title": "2.2. \nThe IntersectionObserver interface" }, { "refs": [{ "id": "ref-for-containing-block-chain\u2460" }], "title": "3.2.8. \nRun the Update Intersection Observations Steps" }], "external": true };
        window.dfnpanelData['fd0b4a9a'] = { "dfnID": "fd0b4a9a", "url": "https://html.spec.whatwg.org/multipage/dom.html#document", "dfnText": "document", "refSections": [{ "refs": [{ "id": "ref-for-document" }], "title": "2.2. \nThe IntersectionObserver interface" }, { "refs": [{ "id": "ref-for-document\u2462" }], "title": "3.2.8. \nRun the Update Intersection Observations Steps" }], "external": true };
        window.dfnpanelData['8ac02c3e'] = { "dfnID": "8ac02c3e", "url": "https://heycam.github.io/webidl/#idl-double", "dfnText": "double", "refSections": [{ "refs": [{ "id": "ref-for-idl-double" }, { "id": "ref-for-idl-double\u2460" }], "title": "2.2. \nThe IntersectionObserver interface" }, { "refs": [{ "id": "ref-for-idl-double\u2461" }, { "id": "ref-for-idl-double\u2462" }, { "id": "ref-for-idl-double\u2463" }], "title": "2.3. \nThe IntersectionObserverEntry interface" }, { "refs": [{ "id": "ref-for-idl-double\u2464" }, { "id": "ref-for-idl-double\u2465" }], "title": "2.4. \nThe IntersectionObserverInit dictionary" }], "external": true };
        window.dfnpanelData['c6d19e56'] = { "dfnID": "c6d19e56", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#event-loop", "dfnText": "event loop", "refSections": [{ "refs": [{ "id": "ref-for-event-loop" }], "title": "3.2.4. \nQueue an Intersection Observer Task" }], "external": true };
        window.dfnpanelData['a192c757'] = { "dfnID": "a192c757", "url": "https://html.spec.whatwg.org/multipage/browsers.html#fully-active", "dfnText": "fully active", "refSections": [{ "refs": [{ "id": "ref-for-fully-active" }], "title": "2.2. \nThe IntersectionObserver interface" }], "external": true };
        window.dfnpanelData['b3778518'] = { "dfnID": "b3778518", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#event-loop-processing-model", "dfnText": "html event loops processing model", "refSections": [{ "refs": [{ "id": "ref-for-event-loop-processing-model" }], "title": "3.4.1. \nHTML Processing Model: Event Loop" }, { "refs": [{ "id": "ref-for-event-loop-processing-model\u2460" }], "title": "3.4.2. Pending initial IntersectionObserver targets" }], "external": true };
        window.dfnpanelData['10e56401'] = { "dfnID": "10e56401", "url": "https://html.spec.whatwg.org/multipage/browsers.html#list-of-the-descendant-browsing-contexts", "dfnText": "list of the descendant browsing contexts", "refSections": [{ "refs": [{ "id": "ref-for-list-of-the-descendant-browsing-contexts" }], "title": "2.2. \nThe IntersectionObserver interface" }], "external": true };
        window.dfnpanelData['25d33108'] = { "dfnID": "25d33108", "url": "https://html.spec.whatwg.org/multipage/browsers.html#nested-browsing-context", "dfnText": "nested browsing context", "refSections": [{ "refs": [{ "id": "ref-for-nested-browsing-context" }], "title": "2.2. \nThe IntersectionObserver interface" }, { "refs": [{ "id": "ref-for-nested-browsing-context\u2460" }], "title": "3.2.7. \nCompute the Intersection of a Target Element and the Root" }], "external": true };
        window.dfnpanelData['73317570'] = { "dfnID": "73317570", "url": "https://html.spec.whatwg.org/multipage/origin.html#origin", "dfnText": "origin", "refSections": [{ "refs": [{ "id": "ref-for-origin" }], "title": "2.2. \nThe IntersectionObserver interface" }], "external": true };
        window.dfnpanelData['1a3d4de6'] = { "dfnID": "1a3d4de6", "url": "https://drafts.csswg.org/css-overflow-3/#overflow-properties", "dfnText": "overflow properties", "refSections": [{ "refs": [{ "id": "ref-for-overflow-properties" }], "title": "2.2. \nThe IntersectionObserver interface" }], "external": true };
        window.dfnpanelData['2c543ae5'] = { "dfnID": "2c543ae5", "url": "https://drafts.csswg.org/css-box/#padding-area", "dfnText": "padding area", "refSections": [{ "refs": [{ "id": "ref-for-padding-area" }], "title": "2.2. \nThe IntersectionObserver interface" }], "external": true };
        window.dfnpanelData['b1242144'] = { "dfnID": "b1242144", "url": "https://drafts.csswg.org/css-box/#padding-edge", "dfnText": "padding edge", "refSections": [{ "refs": [{ "id": "ref-for-padding-edge" }], "title": "2.2. \nThe IntersectionObserver interface" }], "external": true };
        window.dfnpanelData['dddc4776'] = { "dfnID": "dddc4776", "url": "https://drafts.csswg.org/cssom-view-1/#pinch-zoom", "dfnText": "pinch zoom", "refSections": [{ "refs": [{ "id": "ref-for-pinch-zoom" }], "title": "2.2. \nThe IntersectionObserver interface" }], "external": true };
        window.dfnpanelData['9a517a7d'] = { "dfnID": "9a517a7d", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task", "dfnText": "queue a task", "refSections": [{ "refs": [{ "id": "ref-for-queue-a-task" }], "title": "3.2.4. \nQueue an Intersection Observer Task" }], "external": true };
        window.dfnpanelData['9c4c1e66'] = { "dfnID": "9c4c1e66", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object", "dfnText": "relevant settings object", "refSections": [{ "refs": [{ "id": "ref-for-relevant-settings-object" }], "title": "2.2. \nThe IntersectionObserver interface" }], "external": true };
        window.dfnpanelData['04e154c5'] = { "dfnID": "04e154c5", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#report-the-exception", "dfnText": "report the exception", "refSections": [{ "refs": [{ "id": "ref-for-report-the-exception" }], "title": "3.2.5. \nNotify Intersection Observers" }], "external": true };
        window.dfnpanelData['604e2d49'] = { "dfnID": "604e2d49", "url": "https://heycam.github.io/webidl/#dfn-throw", "dfnText": "throw", "refSections": [{ "refs": [{ "id": "ref-for-dfn-throw" }, { "id": "ref-for-dfn-throw\u2460" }, { "id": "ref-for-dfn-throw\u2461" }], "title": "3.2.1. Initialize a new IntersectionObserver" }], "external": true };
        window.dfnpanelData['4ce01aab'] = { "dfnID": "4ce01aab", "url": "http://www.w3.org/TR/hr-time/#time-origin", "dfnText": "time origin", "refSections": [{ "refs": [{ "id": "ref-for-time-origin" }], "title": "2.3. \nThe IntersectionObserverEntry interface" }], "external": true };
        window.dfnpanelData['90f31f6c'] = { "dfnID": "90f31f6c", "url": "https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context", "dfnText": "top-level browsing context", "refSections": [{ "refs": [{ "id": "ref-for-top-level-browsing-context" }, { "id": "ref-for-top-level-browsing-context\u2460" }, { "id": "ref-for-top-level-browsing-context\u2461" }, { "id": "ref-for-top-level-browsing-context\u2462" }], "title": "2.2. \nThe IntersectionObserver interface" }, { "refs": [{ "id": "ref-for-top-level-browsing-context\u2463" }], "title": "3.2.8. \nRun the Update Intersection Observations Steps" }, { "refs": [{ "id": "ref-for-top-level-browsing-context\u2464" }], "title": "3.4.2. Pending initial IntersectionObserver targets" }], "external": true };
        window.dfnpanelData['c63519ed'] = { "dfnID": "c63519ed", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-origin", "dfnText": "top-level origin", "refSections": [{ "refs": [{ "id": "ref-for-concept-environment-top-level-origin" }], "title": "2.2. \nThe IntersectionObserver interface" }], "external": true };
        window.dfnpanelData['db6ab50a'] = { "dfnID": "db6ab50a", "url": "https://heycam.github.io/webidl/#idl-undefined", "dfnText": "undefined", "refSections": [{ "refs": [{ "id": "ref-for-idl-undefined" }], "title": "2.1. \nThe IntersectionObserverCallback" }, { "refs": [{ "id": "ref-for-idl-undefined\u2460" }, { "id": "ref-for-idl-undefined\u2461" }, { "id": "ref-for-idl-undefined\u2462" }], "title": "2.2. \nThe IntersectionObserver interface" }], "external": true };
        window.dfnpanelData['f3aafb20'] = { "dfnID": "f3aafb20", "url": "https://drafts.csswg.org/css2/visuren.html#viewport", "dfnText": "viewport", "refSections": [{ "refs": [{ "id": "ref-for-viewport" }, { "id": "ref-for-viewport\u2460" }], "title": "1. Introduction" }, { "refs": [{ "id": "ref-for-viewport\u2461" }, { "id": "ref-for-viewport\u2462" }], "title": "2.2. \nThe IntersectionObserver interface" }, { "refs": [{ "id": "ref-for-viewport\u2463" }, { "id": "ref-for-viewport\u2464" }], "title": "3.2.7. \nCompute the Intersection of a Target Element and the Root" }], "external": true };
        window.dfnpanelData['253362bb'] = { "dfnID": "253362bb", "url": "https://www.w3.org/TR/css-box-4/#propdef-margin", "dfnText": "margin", "refSections": [{ "refs": [{ "id": "ref-for-propdef-margin" }, { "id": "ref-for-propdef-margin\u2460" }], "title": "2.2. \nThe IntersectionObserver interface" }, { "refs": [{ "id": "ref-for-propdef-margin\u2461" }], "title": "2.4. \nThe IntersectionObserverInit dictionary" }], "external": true };
        window.dfnpanelData['a3cabdb1'] = { "dfnID": "a3cabdb1", "url": "https://www.w3.org/TR/css-overflow-3/#scroll-container", "dfnText": "scroll container", "refSections": [{ "refs": [{ "id": "ref-for-scroll-container" }], "title": "3.2.7. \nCompute the Intersection of a Target Element and the Root" }], "external": true };
        window.dfnpanelData['700ea31d'] = { "dfnID": "700ea31d", "url": "https://www.w3.org/TR/css-overflow-3/#scrollport", "dfnText": "scrollport", "refSections": [{ "refs": [{ "id": "ref-for-scrollport" }, { "id": "ref-for-scrollport\u2460" }, { "id": "ref-for-scrollport\u2461" }], "title": "2.2. \nThe IntersectionObserver interface" }], "external": true };
        window.dfnpanelData['4b48ffac'] = { "dfnID": "4b48ffac", "url": "https://www.w3.org/TR/css-syntax-3/#parse-a-list-of-component-values", "dfnText": "parse a list of component values", "refSections": [{ "refs": [{ "id": "ref-for-parse-a-list-of-component-values" }], "title": "2.2. \nThe IntersectionObserver interface" }], "external": true };
        window.dfnpanelData['ceb467df'] = { "dfnID": "ceb467df", "url": "https://www.w3.org/TR/css-values-3/#absolute-length", "dfnText": "absolute length", "refSections": [{ "refs": [{ "id": "ref-for-absolute-length" }], "title": "2.2. \nThe IntersectionObserver interface" }, { "refs": [{ "id": "ref-for-absolute-length\u2460" }, { "id": "ref-for-absolute-length\u2461" }], "title": "2.4. \nThe IntersectionObserverInit dictionary" }], "external": true };
        window.dfnpanelData['c57f62f7'] = { "dfnID": "c57f62f7", "url": "https://www.w3.org/TR/css-values-3/#dimension", "dfnText": "dimension", "refSections": [{ "refs": [{ "id": "ref-for-dimension" }], "title": "2.2. \nThe IntersectionObserver interface" }], "external": true };
        window.dfnpanelData['128295ac'] = { "dfnID": "128295ac", "url": "https://www.w3.org/TR/css-values-4/#percentage-value", "dfnText": "<percentage>", "refSections": [{ "refs": [{ "id": "ref-for-percentage-value" }], "title": "2.2. \nThe IntersectionObserver interface" }], "external": true };
        window.dfnpanelData['04e2fe80'] = { "dfnID": "04e2fe80", "url": "https://drafts.csswg.org/cssom-view-1/#element-get-the-bounding-box", "dfnText": "get the bounding box", "refSections": [{ "refs": [{ "id": "ref-for-element-get-the-bounding-box" }], "title": "2.2. \nThe IntersectionObserver interface" }, { "refs": [{ "id": "ref-for-element-get-the-bounding-box\u2460" }], "title": "2.3. \nThe IntersectionObserverEntry interface" }, { "refs": [{ "id": "ref-for-element-get-the-bounding-box\u2461" }], "title": "2.4. \nThe IntersectionObserverInit dictionary" }, { "refs": [{ "id": "ref-for-element-get-the-bounding-box\u2462" }], "title": "3.2.7. \nCompute the Intersection of a Target Element and the Root" }, { "refs": [{ "id": "ref-for-element-get-the-bounding-box\u2463" }], "title": "3.2.8. \nRun the Update Intersection Observations Steps" }], "external": true };
        window.dfnpanelData['85394472'] = { "dfnID": "85394472", "url": "https://dom.spec.whatwg.org/#document", "dfnText": "Document", "refSections": [{ "refs": [{ "id": "ref-for-document\u2460" }], "title": "2.2. \nThe IntersectionObserver interface" }, { "refs": [{ "id": "ref-for-document\u2461" }], "title": "2.4. \nThe IntersectionObserverInit dictionary" }], "external": true };
        window.dfnpanelData['296f3551'] = { "dfnID": "296f3551", "url": "https://dom.spec.whatwg.org/#element", "dfnText": "Element", "refSections": [{ "refs": [{ "id": "ref-for-element" }, { "id": "ref-for-element\u2460" }, { "id": "ref-for-element\u2461" }, { "id": "ref-for-element\u2462" }, { "id": "ref-for-element\u2463" }, { "id": "ref-for-element\u2464" }, { "id": "ref-for-element\u2465" }, { "id": "ref-for-element\u2466" }, { "id": "ref-for-element\u2467" }], "title": "2.2. \nThe IntersectionObserver interface" }, { "refs": [{ "id": "ref-for-element\u2468" }, { "id": "ref-for-element\u2460\u24ea" }, { "id": "ref-for-element\u2460\u2460" }, { "id": "ref-for-element\u2460\u2461" }], "title": "2.3. \nThe IntersectionObserverEntry interface" }, { "refs": [{ "id": "ref-for-element\u2460\u2462" }], "title": "2.4. \nThe IntersectionObserverInit dictionary" }, { "refs": [{ "id": "ref-for-element\u2460\u2463" }], "title": "3.1.2. \nElement" }, { "refs": [{ "id": "ref-for-element\u2460\u2464" }], "title": "3.2.2. Observe a target Element" }, { "refs": [{ "id": "ref-for-element\u2460\u2465" }], "title": "3.2.3. Unobserve a target Element" }, { "refs": [{ "id": "ref-for-element\u2460\u2466" }], "title": "3.2.6. \nQueue an IntersectionObserverEntry" }, { "refs": [{ "id": "ref-for-element\u2460\u2467" }], "title": "3.2.8. \nRun the Update Intersection Observations Steps" }], "external": true };
        window.dfnpanelData['83c7a70f'] = { "dfnID": "83c7a70f", "url": "https://dom.spec.whatwg.org/#mutationobserver", "dfnText": "MutationObserver", "refSections": [{ "refs": [{ "id": "ref-for-mutationobserver" }, { "id": "ref-for-mutationobserver\u2460" }], "title": "2.2. \nThe IntersectionObserver interface" }], "external": true };
        window.dfnpanelData['76092226'] = { "dfnID": "76092226", "url": "https://dom.spec.whatwg.org/#dictdef-mutationobserverinit", "dfnText": "MutationObserverInit", "refSections": [{ "refs": [{ "id": "ref-for-dictdef-mutationobserverinit" }], "title": "2.2. \nThe IntersectionObserver interface" }], "external": true };
        window.dfnpanelData['96c16e60'] = { "dfnID": "96c16e60", "url": "https://dom.spec.whatwg.org/#node", "dfnText": "Node", "refSections": [{ "refs": [{ "id": "ref-for-node" }], "title": "2.2. \nThe IntersectionObserver interface" }], "external": true };
        window.dfnpanelData['ceeffc75'] = { "dfnID": "ceeffc75", "url": "https://dom.spec.whatwg.org/#dom-mutationobserver-observe", "dfnText": "observe(target)", "refSections": [{ "refs": [{ "id": "ref-for-dom-mutationobserver-observe" }], "title": "2.2. \nThe IntersectionObserver interface" }], "external": true };
        window.dfnpanelData['d11c73d6'] = { "dfnID": "d11c73d6", "url": "https://www.w3.org/TR/geometry-1/#domrect", "dfnText": "DOMRect", "refSections": [{ "refs": [{ "id": "ref-for-domrect" }], "title": "3.2.6. \nQueue an IntersectionObserverEntry" }], "external": true };
        window.dfnpanelData['5a9ab3ba'] = { "dfnID": "5a9ab3ba", "url": "https://www.w3.org/TR/geometry-1/#dictdef-domrectinit", "dfnText": "DOMRectInit", "refSections": [{ "refs": [{ "id": "ref-for-dictdef-domrectinit" }, { "id": "ref-for-dictdef-domrectinit\u2460" }, { "id": "ref-for-dictdef-domrectinit\u2461" }], "title": "2.3. \nThe IntersectionObserverEntry interface" }], "external": true };
        window.dfnpanelData['224fa1d7'] = { "dfnID": "224fa1d7", "url": "https://www.w3.org/TR/geometry-1/#domrectreadonly", "dfnText": "DOMRectReadOnly", "refSections": [{ "refs": [{ "id": "ref-for-domrectreadonly" }, { "id": "ref-for-domrectreadonly\u2460" }, { "id": "ref-for-domrectreadonly\u2461" }, { "id": "ref-for-domrectreadonly\u2462" }, { "id": "ref-for-domrectreadonly\u2463" }, { "id": "ref-for-domrectreadonly\u2464" }, { "id": "ref-for-domrectreadonly\u2465" }], "title": "2.3. \nThe IntersectionObserverEntry interface" }, { "refs": [{ "id": "ref-for-domrectreadonly\u2466" }, { "id": "ref-for-domrectreadonly\u2467" }, { "id": "ref-for-domrectreadonly\u2468" }], "title": "3.2.8. \nRun the Update Intersection Observations Steps" }], "external": true };
        window.dfnpanelData['04e0443f'] = { "dfnID": "04e0443f", "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-document-2", "dfnText": "document", "refSections": [{ "refs": [{ "id": "ref-for-dom-document-2" }, { "id": "ref-for-dom-document-2\u2460" }, { "id": "ref-for-dom-document-2\u2461" }, { "id": "ref-for-dom-document-2\u2462" }, { "id": "ref-for-dom-document-2\u2463" }, { "id": "ref-for-dom-document-2\u2464" }], "title": "2.2. \nThe IntersectionObserver interface" }, { "refs": [{ "id": "ref-for-dom-document-2\u2465" }], "title": "3.1.1. \nDocument" }, { "refs": [{ "id": "ref-for-dom-document-2\u2466" }, { "id": "ref-for-dom-document-2\u2467" }], "title": "3.2.4. \nQueue an Intersection Observer Task" }, { "refs": [{ "id": "ref-for-dom-document-2\u2468" }], "title": "3.2.5. \nNotify Intersection Observers" }, { "refs": [{ "id": "ref-for-dom-document-2\u2460\u24ea" }], "title": "3.2.6. \nQueue an IntersectionObserverEntry" }, { "refs": [{ "id": "ref-for-dom-document-2\u2460\u2460" }, { "id": "ref-for-dom-document-2\u2460\u2461" }, { "id": "ref-for-dom-document-2\u2460\u2462" }, { "id": "ref-for-dom-document-2\u2460\u2463" }], "title": "3.2.7. \nCompute the Intersection of a Target Element and the Root" }, { "refs": [{ "id": "ref-for-dom-document-2\u2460\u2464" }], "title": "3.2.8. \nRun the Update Intersection Observations Steps" }, { "refs": [{ "id": "ref-for-dom-document-2\u2460\u2465" }], "title": "3.4.2. Pending initial IntersectionObserver targets" }], "external": true };
        window.dfnpanelData['521818b9'] = { "dfnID": "521818b9", "url": "https://html.spec.whatwg.org/multipage/browsers.html#same-origin-domain", "dfnText": "same origin-domain", "refSections": [{ "refs": [{ "id": "ref-for-same-origin-domain" }], "title": "2.2. \nThe IntersectionObserver interface" }], "external": true };
        window.dfnpanelData['c3b2d08c'] = { "dfnID": "c3b2d08c", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#task-source", "dfnText": "task source", "refSections": [{ "refs": [{ "id": "ref-for-task-source" }], "title": "3.2.4. \nQueue an Intersection Observer Task" }], "external": true };
        window.dfnpanelData['8855a9aa'] = { "dfnID": "8855a9aa", "url": "https://webidl.spec.whatwg.org/#idl-DOMString", "dfnText": "DOMString", "refSections": [{ "refs": [{ "id": "ref-for-idl-DOMString" }, { "id": "ref-for-idl-DOMString\u2460" }, { "id": "ref-for-idl-DOMString\u2461" }, { "id": "ref-for-idl-DOMString\u2462" }], "title": "2.2. \nThe IntersectionObserver interface" }, { "refs": [{ "id": "ref-for-idl-DOMString\u2463" }, { "id": "ref-for-idl-DOMString\u2464" }, { "id": "ref-for-idl-DOMString\u2465" }, { "id": "ref-for-idl-DOMString\u2466" }], "title": "2.4. \nThe IntersectionObserverInit dictionary" }], "external": true };
        window.dfnpanelData['889e932f'] = { "dfnID": "889e932f", "url": "https://webidl.spec.whatwg.org/#Exposed", "dfnText": "Exposed", "refSections": [{ "refs": [{ "id": "ref-for-Exposed" }], "title": "2.2. \nThe IntersectionObserver interface" }, { "refs": [{ "id": "ref-for-Exposed\u2460" }], "title": "2.3. \nThe IntersectionObserverEntry interface" }], "external": true };
        window.dfnpanelData['dcf5fafa'] = { "dfnID": "dcf5fafa", "url": "https://webidl.spec.whatwg.org/#idl-frozen-array", "dfnText": "FrozenArray", "refSections": [{ "refs": [{ "id": "ref-for-idl-frozen-array" }], "title": "2.2. \nThe IntersectionObserver interface" }], "external": true };
        window.dfnpanelData['5372cca8'] = { "dfnID": "5372cca8", "url": "https://webidl.spec.whatwg.org/#idl-boolean", "dfnText": "boolean", "refSections": [{ "refs": [{ "id": "ref-for-idl-boolean" }, { "id": "ref-for-idl-boolean\u2460" }, { "id": "ref-for-idl-boolean\u2461" }], "title": "2.3. \nThe IntersectionObserverEntry interface" }], "external": true };
        window.dfnpanelData['9cce47fd'] = { "dfnID": "9cce47fd", "url": "https://webidl.spec.whatwg.org/#idl-sequence", "dfnText": "sequence", "refSections": [{ "refs": [{ "id": "ref-for-idl-sequence" }], "title": "2.1. \nThe IntersectionObserverCallback" }, { "refs": [{ "id": "ref-for-idl-sequence\u2460" }], "title": "2.2. \nThe IntersectionObserver interface" }, { "refs": [{ "id": "ref-for-idl-sequence\u2461" }], "title": "2.4. \nThe IntersectionObserverInit dictionary" }], "external": true };
        window.dfnpanelData['intersection-observer'] = { "dfnID": "intersection-observer", "url": "#intersection-observer", "dfnText": "Intersection Observer", "refSections": [{ "refs": [{ "id": "ref-for-intersection-observer" }], "title": "3. \nProcessing Model" }], "external": false };
        window.dfnpanelData['intersectionobserver-target'] = { "dfnID": "intersectionobserver-target", "url": "#intersectionobserver-target", "dfnText": "target", "refSections": [{ "refs": [{ "id": "ref-for-intersectionobserver-target" }], "title": "2.1. \nThe IntersectionObserverCallback" }, { "refs": [{ "id": "ref-for-intersectionobserver-target\u2460" }, { "id": "ref-for-intersectionobserver-target\u2461" }, { "id": "ref-for-intersectionobserver-target\u2462" }, { "id": "ref-for-intersectionobserver-target\u2463" }, { "id": "ref-for-intersectionobserver-target\u2464" }, { "id": "ref-for-intersectionobserver-target\u2465" }, { "id": "ref-for-intersectionobserver-target\u2466" }, { "id": "ref-for-intersectionobserver-target\u2467" }, { "id": "ref-for-intersectionobserver-target\u2468" }, { "id": "ref-for-intersectionobserver-target\u2460\u24ea" }], "title": "2.2. \nThe IntersectionObserver interface" }, { "refs": [{ "id": "ref-for-intersectionobserver-target\u2460\u2460" }], "title": "2.4. \nThe IntersectionObserverInit dictionary" }, { "refs": [{ "id": "ref-for-intersectionobserver-target\u2460\u2461" }], "title": "3.2.7. \nCompute the Intersection of a Target Element and the Root" }], "external": false };
        window.dfnpanelData['callbackdef-intersectionobservercallback'] = { "dfnID": "callbackdef-intersectionobservercallback", "url": "#callbackdef-intersectionobservercallback", "dfnText": "IntersectionObserverCallback", "refSections": [{ "refs": [{ "id": "ref-for-callbackdef-intersectionobservercallback" }], "title": "2.2. \nThe IntersectionObserver interface" }, { "refs": [{ "id": "ref-for-callbackdef-intersectionobservercallback\u2460" }], "title": "3.2.1. Initialize a new IntersectionObserver" }], "external": false };
        window.dfnpanelData['intersectionobserver-intersection-root'] = { "dfnID": "intersectionobserver-intersection-root", "url": "#intersectionobserver-intersection-root", "dfnText": "intersection root", "refSections": [{ "refs": [{ "id": "ref-for-intersectionobserver-intersection-root" }], "title": "2. Intersection Observer" }, { "refs": [{ "id": "ref-for-intersectionobserver-intersection-root\u2460" }], "title": "2.1. \nThe IntersectionObserverCallback" }, { "refs": [{ "id": "ref-for-intersectionobserver-intersection-root\u2461" }, { "id": "ref-for-intersectionobserver-intersection-root\u2462" }, { "id": "ref-for-intersectionobserver-intersection-root\u2463" }, { "id": "ref-for-intersectionobserver-intersection-root\u2464" }, { "id": "ref-for-intersectionobserver-intersection-root\u2465" }, { "id": "ref-for-intersectionobserver-intersection-root\u2466" }, { "id": "ref-for-intersectionobserver-intersection-root\u2467" }, { "id": "ref-for-intersectionobserver-intersection-root\u2468" }, { "id": "ref-for-intersectionobserver-intersection-root\u2460\u24ea" }, { "id": "ref-for-intersectionobserver-intersection-root\u2460\u2460" }], "title": "2.2. \nThe IntersectionObserver interface" }, { "refs": [{ "id": "ref-for-intersectionobserver-intersection-root\u2460\u2461" }, { "id": "ref-for-intersectionobserver-intersection-root\u2460\u2462" }], "title": "2.3. \nThe IntersectionObserverEntry interface" }, { "refs": [{ "id": "ref-for-intersectionobserver-intersection-root\u2460\u2463" }], "title": "3.2.7. \nCompute the Intersection of a Target Element and the Root" }, { "refs": [{ "id": "ref-for-intersectionobserver-intersection-root\u2460\u2464" }, { "id": "ref-for-intersectionobserver-intersection-root\u2460\u2465" }, { "id": "ref-for-intersectionobserver-intersection-root\u2460\u2466" }, { "id": "ref-for-intersectionobserver-intersection-root\u2460\u2467" }, { "id": "ref-for-intersectionobserver-intersection-root\u2460\u2468" }], "title": "3.2.8. \nRun the Update Intersection Observations Steps" }], "external": false };
        window.dfnpanelData['intersectionobserver-implicit-root'] = { "dfnID": "intersectionobserver-implicit-root", "url": "#intersectionobserver-implicit-root", "dfnText": "implicit root", "refSections": [{ "refs": [{ "id": "ref-for-intersectionobserver-implicit-root" }], "title": "2.4. \nThe IntersectionObserverInit dictionary" }, { "refs": [{ "id": "ref-for-intersectionobserver-implicit-root\u2460" }], "title": "3.2.8. \nRun the Update Intersection Observations Steps" }], "external": false };
        window.dfnpanelData['intersectionobserver-explicit-root-observer'] = { "dfnID": "intersectionobserver-explicit-root-observer", "url": "#intersectionobserver-explicit-root-observer", "dfnText": "explicit root observer", "refSections": [{ "refs": [{ "id": "ref-for-intersectionobserver-explicit-root-observer" }], "title": "2.2. \nThe IntersectionObserver interface" }], "external": false };
        window.dfnpanelData['intersectionobserver-implicit-root-observer'] = { "dfnID": "intersectionobserver-implicit-root-observer", "url": "#intersectionobserver-implicit-root-observer", "dfnText": "implicit root observer", "refSections": [{ "refs": [{ "id": "ref-for-intersectionobserver-implicit-root-observer" }, { "id": "ref-for-intersectionobserver-implicit-root-observer\u2460" }, { "id": "ref-for-intersectionobserver-implicit-root-observer\u2461" }], "title": "2.2. \nThe IntersectionObserver interface" }, { "refs": [{ "id": "ref-for-intersectionobserver-implicit-root-observer\u2462" }], "title": "3.2.8. \nRun the Update Intersection Observations Steps" }, { "refs": [{ "id": "ref-for-intersectionobserver-implicit-root-observer\u2463" }], "title": "3.4.2. Pending initial IntersectionObserver targets" }], "external": false };
        window.dfnpanelData['intersectionobserver-same-origin-domain-target'] = { "dfnID": "intersectionobserver-same-origin-domain-target", "url": "#intersectionobserver-same-origin-domain-target", "dfnText": "same-origin-domain target", "refSections": [{ "refs": [{ "id": "ref-for-intersectionobserver-same-origin-domain-target" }, { "id": "ref-for-intersectionobserver-same-origin-domain-target\u2460" }, { "id": "ref-for-intersectionobserver-same-origin-domain-target\u2461" }, { "id": "ref-for-intersectionobserver-same-origin-domain-target\u2462" }, { "id": "ref-for-intersectionobserver-same-origin-domain-target\u2463" }], "title": "2.2. \nThe IntersectionObserver interface" }, { "refs": [{ "id": "ref-for-intersectionobserver-same-origin-domain-target\u2464" }], "title": "2.3. \nThe IntersectionObserverEntry interface" }], "external": false };
        window.dfnpanelData['intersectionobserver-cross-origin-domain-target'] = { "dfnID": "intersectionobserver-cross-origin-domain-target", "url": "#intersectionobserver-cross-origin-domain-target", "dfnText": "cross-origin-domain target", "refSections": [{ "refs": [{ "id": "ref-for-intersectionobserver-cross-origin-domain-target" }, { "id": "ref-for-intersectionobserver-cross-origin-domain-target\u2460" }], "title": "2.2. \nThe IntersectionObserver interface" }, { "refs": [{ "id": "ref-for-intersectionobserver-cross-origin-domain-target\u2461" }, { "id": "ref-for-intersectionobserver-cross-origin-domain-target\u2462" }], "title": "5. Privacy and Security" }], "external": false };
        window.dfnpanelData['intersectionobserver'] = { "dfnID": "intersectionobserver", "url": "#intersectionobserver", "dfnText": "IntersectionObserver", "refSections": [{ "refs": [{ "id": "ref-for-intersectionobserver" }], "title": "2.1. \nThe IntersectionObserverCallback" }, { "refs": [{ "id": "ref-for-intersectionobserver\u2460" }, { "id": "ref-for-intersectionobserver\u2461" }, { "id": "ref-for-intersectionobserver\u2462" }, { "id": "ref-for-intersectionobserver\u2463" }, { "id": "ref-for-intersectionobserver\u2464" }, { "id": "ref-for-intersectionobserver\u2465" }, { "id": "ref-for-intersectionobserver\u2466" }, { "id": "ref-for-intersectionobserver\u2467" }, { "id": "ref-for-intersectionobserver\u2468" }, { "id": "ref-for-intersectionobserver\u2460\u24ea" }, { "id": "ref-for-intersectionobserver\u2460\u2460" }, { "id": "ref-for-intersectionobserver\u2460\u2461" }, { "id": "ref-for-intersectionobserver\u2460\u2462" }, { "id": "ref-for-intersectionobserver\u2460\u2463" }, { "id": "ref-for-intersectionobserver\u2460\u2464" }, { "id": "ref-for-intersectionobserver\u2460\u2465" }, { "id": "ref-for-intersectionobserver\u2460\u2466" }, { "id": "ref-for-intersectionobserver\u2460\u2467" }], "title": "2.2. \nThe IntersectionObserver interface" }, { "refs": [{ "id": "ref-for-intersectionobserver\u2460\u2468" }], "title": "2.4. \nThe IntersectionObserverInit dictionary" }, { "refs": [{ "id": "ref-for-intersectionobserver\u2461\u24ea" }], "title": "3.1.2. \nElement" }, { "refs": [{ "id": "ref-for-intersectionobserver\u2461\u2460" }], "title": "3.1.3. \nIntersectionObserver" }, { "refs": [{ "id": "ref-for-intersectionobserver\u2461\u2461" }], "title": "3.2.1. Initialize a new IntersectionObserver" }, { "refs": [{ "id": "ref-for-intersectionobserver\u2461\u2462" }], "title": "3.2.2. Observe a target Element" }, { "refs": [{ "id": "ref-for-intersectionobserver\u2461\u2463" }], "title": "3.2.3. Unobserve a target Element" }, { "refs": [{ "id": "ref-for-intersectionobserver\u2461\u2464" }, { "id": "ref-for-intersectionobserver\u2461\u2465" }], "title": "3.2.5. \nNotify Intersection Observers" }, { "refs": [{ "id": "ref-for-intersectionobserver\u2461\u2466" }], "title": "3.2.6. \nQueue an IntersectionObserverEntry" }, { "refs": [{ "id": "ref-for-intersectionobserver\u2461\u2467" }], "title": "3.2.7. \nCompute the Intersection of a Target Element and the Root" }, { "refs": [{ "id": "ref-for-intersectionobserver\u2461\u2468" }], "title": "3.2.8. \nRun the Update Intersection Observations Steps" }, { "refs": [{ "id": "ref-for-intersectionobserver\u2462\u24ea" }, { "id": "ref-for-intersectionobserver\u2462\u2460" }], "title": "3.3. \nIntersectionObserver Lifetime" }, { "refs": [{ "id": "ref-for-intersectionobserver\u2462\u2461" }, { "id": "ref-for-intersectionobserver\u2462\u2462" }], "title": "3.4.2. Pending initial IntersectionObserver targets" }, { "refs": [{ "id": "ref-for-intersectionobserver\u2462\u2463" }, { "id": "ref-for-intersectionobserver\u2462\u2464" }, { "id": "ref-for-intersectionobserver\u2462\u2465" }, { "id": "ref-for-intersectionobserver\u2462\u2466" }], "title": "5. Privacy and Security" }], "external": false };
        window.dfnpanelData['dom-intersectionobserver-intersectionobserver'] = { "dfnID": "dom-intersectionobserver-intersectionobserver", "url": "#dom-intersectionobserver-intersectionobserver", "dfnText": "constructor", "refSections": [{ "refs": [{ "id": "ref-for-dom-intersectionobserver-intersectionobserver" }], "title": "3.1.3. \nIntersectionObserver" }], "external": false };
        window.dfnpanelData['dom-intersectionobserver-observe'] = { "dfnID": "dom-intersectionobserver-observe", "url": "#dom-intersectionobserver-observe", "dfnText": "observe(target)", "refSections": [{ "refs": [{ "id": "ref-for-dom-intersectionobserver-observe" }, { "id": "ref-for-dom-intersectionobserver-observe\u2460" }, { "id": "ref-for-dom-intersectionobserver-observe\u2461" }], "title": "2.2. \nThe IntersectionObserver interface" }, { "refs": [{ "id": "ref-for-dom-intersectionobserver-observe\u2462" }], "title": "3.2.8. \nRun the Update Intersection Observations Steps" }], "external": false };
        window.dfnpanelData['dom-intersectionobserver-unobserve'] = { "dfnID": "dom-intersectionobserver-unobserve", "url": "#dom-intersectionobserver-unobserve", "dfnText": "unobserve(target)", "refSections": [{ "refs": [{ "id": "ref-for-dom-intersectionobserver-unobserve" }, { "id": "ref-for-dom-intersectionobserver-unobserve\u2460" }, { "id": "ref-for-dom-intersectionobserver-unobserve\u2461" }], "title": "2.2. \nThe IntersectionObserver interface" }, { "refs": [{ "id": "ref-for-dom-intersectionobserver-unobserve\u2462" }], "title": "3.3. \nIntersectionObserver Lifetime" }], "external": false };
        window.dfnpanelData['dom-intersectionobserver-disconnect'] = { "dfnID": "dom-intersectionobserver-disconnect", "url": "#dom-intersectionobserver-disconnect", "dfnText": "disconnect()", "refSections": [{ "refs": [{ "id": "ref-for-dom-intersectionobserver-disconnect" }, { "id": "ref-for-dom-intersectionobserver-disconnect\u2460" }], "title": "2.2. \nThe IntersectionObserver interface" }, { "refs": [{ "id": "ref-for-dom-intersectionobserver-disconnect\u2461" }], "title": "3.3. \nIntersectionObserver Lifetime" }], "external": false };
        window.dfnpanelData['dom-intersectionobserver-takerecords'] = { "dfnID": "dom-intersectionobserver-takerecords", "url": "#dom-intersectionobserver-takerecords", "dfnText": "takeRecords()", "refSections": [{ "refs": [{ "id": "ref-for-dom-intersectionobserver-takerecords" }], "title": "2.2. \nThe IntersectionObserver interface" }], "external": false };
        window.dfnpanelData['dom-intersectionobserver-root'] = { "dfnID": "dom-intersectionobserver-root", "url": "#dom-intersectionobserver-root", "dfnText": "root", "refSections": [{ "refs": [{ "id": "ref-for-dom-intersectionobserver-root" }, { "id": "ref-for-dom-intersectionobserver-root\u2460" }, { "id": "ref-for-dom-intersectionobserver-root\u2461" }, { "id": "ref-for-dom-intersectionobserver-root\u2462" }, { "id": "ref-for-dom-intersectionobserver-root\u2463" }], "title": "2.2. \nThe IntersectionObserver interface" }, { "refs": [{ "id": "ref-for-dom-intersectionobserver-root\u2464" }, { "id": "ref-for-dom-intersectionobserver-root\u2465" }], "title": "2.3. \nThe IntersectionObserverEntry interface" }, { "refs": [{ "id": "ref-for-dom-intersectionobserver-root\u2466" }], "title": "3.2.5. \nNotify Intersection Observers" }, { "refs": [{ "id": "ref-for-dom-intersectionobserver-root\u2467" }], "title": "3.2.8. \nRun the Update Intersection Observations Steps" }], "external": false };
        window.dfnpanelData['dom-intersectionobserver-rootmargin'] = { "dfnID": "dom-intersectionobserver-rootmargin", "url": "#dom-intersectionobserver-rootmargin", "dfnText": "rootMargin", "refSections": [{ "refs": [{ "id": "ref-for-dom-intersectionobserver-rootmargin" }, { "id": "ref-for-dom-intersectionobserver-rootmargin\u2460" }, { "id": "ref-for-dom-intersectionobserver-rootmargin\u2461" }, { "id": "ref-for-dom-intersectionobserver-rootmargin\u2462" }], "title": "2.2. \nThe IntersectionObserver interface" }, { "refs": [{ "id": "ref-for-dom-intersectionobserver-rootmargin\u2463" }], "title": "5. Privacy and Security" }], "external": false };
        window.dfnpanelData['dom-intersectionobserver-scrollmargin'] = { "dfnID": "dom-intersectionobserver-scrollmargin", "url": "#dom-intersectionobserver-scrollmargin", "dfnText": "scrollMargin", "refSections": [{ "refs": [{ "id": "ref-for-dom-intersectionobserver-scrollmargin" }, { "id": "ref-for-dom-intersectionobserver-scrollmargin\u2460" }, { "id": "ref-for-dom-intersectionobserver-scrollmargin\u2461" }], "title": "2.2. \nThe IntersectionObserver interface" }, { "refs": [{ "id": "ref-for-dom-intersectionobserver-scrollmargin\u2462" }], "title": "5. Privacy and Security" }], "external": false };
        window.dfnpanelData['dom-intersectionobserver-thresholds'] = { "dfnID": "dom-intersectionobserver-thresholds", "url": "#dom-intersectionobserver-thresholds", "dfnText": "thresholds", "refSections": [{ "refs": [{ "id": "ref-for-dom-intersectionobserver-thresholds" }], "title": "2.2. \nThe IntersectionObserver interface" }, { "refs": [{ "id": "ref-for-dom-intersectionobserver-thresholds\u2460" }], "title": "3.1.2. \nElement" }, { "refs": [{ "id": "ref-for-dom-intersectionobserver-thresholds\u2461" }], "title": "3.2.1. Initialize a new IntersectionObserver" }, { "refs": [{ "id": "ref-for-dom-intersectionobserver-thresholds\u2462" }, { "id": "ref-for-dom-intersectionobserver-thresholds\u2463" }, { "id": "ref-for-dom-intersectionobserver-thresholds\u2464" }], "title": "3.2.8. \nRun the Update Intersection Observations Steps" }], "external": false };
        window.dfnpanelData['intersectionobserver-content-clip'] = { "dfnID": "intersectionobserver-content-clip", "url": "#intersectionobserver-content-clip", "dfnText": "content clip", "refSections": [{ "refs": [{ "id": "ref-for-intersectionobserver-content-clip" }], "title": "2.2. \nThe IntersectionObserver interface" }, { "refs": [{ "id": "ref-for-intersectionobserver-content-clip\u2460" }], "title": "3.2.7. \nCompute the Intersection of a Target Element and the Root" }], "external": false };
        window.dfnpanelData['intersectionobserver-root-intersection-rectangle'] = { "dfnID": "intersectionobserver-root-intersection-rectangle", "url": "#intersectionobserver-root-intersection-rectangle", "dfnText": "root intersection rectangle", "refSections": [{ "refs": [{ "id": "ref-for-intersectionobserver-root-intersection-rectangle" }, { "id": "ref-for-intersectionobserver-root-intersection-rectangle\u2460" }, { "id": "ref-for-intersectionobserver-root-intersection-rectangle\u2461" }], "title": "2.2. \nThe IntersectionObserver interface" }, { "refs": [{ "id": "ref-for-intersectionobserver-root-intersection-rectangle\u2462" }, { "id": "ref-for-intersectionobserver-root-intersection-rectangle\u2463" }, { "id": "ref-for-intersectionobserver-root-intersection-rectangle\u2464" }], "title": "2.3. \nThe IntersectionObserverEntry interface" }, { "refs": [{ "id": "ref-for-intersectionobserver-root-intersection-rectangle\u2465" }], "title": "3.2.7. \nCompute the Intersection of a Target Element and the Root" }, { "refs": [{ "id": "ref-for-intersectionobserver-root-intersection-rectangle\u2466" }], "title": "3.2.8. \nRun the Update Intersection Observations Steps" }], "external": false };
        window.dfnpanelData['apply-scroll-margin-to-a-scrollport'] = { "dfnID": "apply-scroll-margin-to-a-scrollport", "url": "#apply-scroll-margin-to-a-scrollport", "dfnText": "apply scroll margin to a scrollport", "refSections": [{ "refs": [{ "id": "ref-for-apply-scroll-margin-to-a-scrollport" }], "title": "3.2.7. \nCompute the Intersection of a Target Element and the Root" }], "external": false };
        window.dfnpanelData['parse-a-margin'] = { "dfnID": "parse-a-margin", "url": "#parse-a-margin", "dfnText": "parse a margin", "refSections": [{ "refs": [{ "id": "ref-for-parse-a-margin" }, { "id": "ref-for-parse-a-margin\u2460" }], "title": "3.2.1. Initialize a new IntersectionObserver" }], "external": false };
        window.dfnpanelData['intersectionobserverentry'] = { "dfnID": "intersectionobserverentry", "url": "#intersectionobserverentry", "dfnText": "IntersectionObserverEntry", "refSections": [{ "refs": [{ "id": "ref-for-intersectionobserverentry" }], "title": "2.1. \nThe IntersectionObserverCallback" }, { "refs": [{ "id": "ref-for-intersectionobserverentry\u2460" }], "title": "2.2. \nThe IntersectionObserver interface" }, { "refs": [{ "id": "ref-for-intersectionobserverentry\u2461" }, { "id": "ref-for-intersectionobserverentry\u2462" }], "title": "2.3. \nThe IntersectionObserverEntry interface" }, { "refs": [{ "id": "ref-for-intersectionobserverentry\u2463" }], "title": "3.2.6. \nQueue an IntersectionObserverEntry" }, { "refs": [{ "id": "ref-for-intersectionobserverentry\u2464" }], "title": "3.4.2. Pending initial IntersectionObserver targets" }], "external": false };
        window.dfnpanelData['dictdef-intersectionobserverentryinit'] = { "dfnID": "dictdef-intersectionobserverentryinit", "url": "#dictdef-intersectionobserverentryinit", "dfnText": "IntersectionObserverEntryInit", "refSections": [{ "refs": [{ "id": "ref-for-dictdef-intersectionobserverentryinit" }], "title": "2.3. \nThe IntersectionObserverEntry interface" }], "external": false };
        window.dfnpanelData['dom-intersectionobserverentry-boundingclientrect'] = { "dfnID": "dom-intersectionobserverentry-boundingclientrect", "url": "#dom-intersectionobserverentry-boundingclientrect", "dfnText": "boundingClientRect", "refSections": [{ "refs": [{ "id": "ref-for-dom-intersectionobserverentry-boundingclientrect" }, { "id": "ref-for-dom-intersectionobserverentry-boundingclientrect\u2460" }, { "id": "ref-for-dom-intersectionobserverentry-boundingclientrect\u2461" }, { "id": "ref-for-dom-intersectionobserverentry-boundingclientrect\u2462" }, { "id": "ref-for-dom-intersectionobserverentry-boundingclientrect\u2463" }, { "id": "ref-for-dom-intersectionobserverentry-boundingclientrect\u2464" }], "title": "2.3. \nThe IntersectionObserverEntry interface" }], "external": false };
        window.dfnpanelData['dom-intersectionobserverentry-intersectionrect'] = { "dfnID": "dom-intersectionobserverentry-intersectionrect", "url": "#dom-intersectionobserverentry-intersectionrect", "dfnText": "intersectionRect", "refSections": [{ "refs": [{ "id": "ref-for-dom-intersectionobserverentry-intersectionrect" }, { "id": "ref-for-dom-intersectionobserverentry-intersectionrect\u2460" }, { "id": "ref-for-dom-intersectionobserverentry-intersectionrect\u2461" }], "title": "2.3. \nThe IntersectionObserverEntry interface" }], "external": false };
        window.dfnpanelData['dom-intersectionobserverentry-isintersecting'] = { "dfnID": "dom-intersectionobserverentry-isintersecting", "url": "#dom-intersectionobserverentry-isintersecting", "dfnText": "isIntersecting", "refSections": [{ "refs": [{ "id": "ref-for-dom-intersectionobserverentry-isintersecting" }, { "id": "ref-for-dom-intersectionobserverentry-isintersecting\u2460" }], "title": "2.3. \nThe IntersectionObserverEntry interface" }], "external": false };
        window.dfnpanelData['dom-intersectionobserverentry-intersectionratio'] = { "dfnID": "dom-intersectionobserverentry-intersectionratio", "url": "#dom-intersectionobserverentry-intersectionratio", "dfnText": "intersectionRatio", "refSections": [{ "refs": [{ "id": "ref-for-dom-intersectionobserverentry-intersectionratio" }], "title": "2.3. \nThe IntersectionObserverEntry interface" }], "external": false };
        window.dfnpanelData['dom-intersectionobserverentry-rootbounds'] = { "dfnID": "dom-intersectionobserverentry-rootbounds", "url": "#dom-intersectionobserverentry-rootbounds", "dfnText": "rootBounds", "refSections": [{ "refs": [{ "id": "ref-for-dom-intersectionobserverentry-rootbounds" }], "title": "2.3. \nThe IntersectionObserverEntry interface" }, { "refs": [{ "id": "ref-for-dom-intersectionobserverentry-rootbounds\u2460" }], "title": "5. Privacy and Security" }], "external": false };
        window.dfnpanelData['dom-intersectionobserverentry-target'] = { "dfnID": "dom-intersectionobserverentry-target", "url": "#dom-intersectionobserverentry-target", "dfnText": "target", "refSections": [{ "refs": [{ "id": "ref-for-dom-intersectionobserverentry-target" }, { "id": "ref-for-dom-intersectionobserverentry-target\u2460" }, { "id": "ref-for-dom-intersectionobserverentry-target\u2461" }, { "id": "ref-for-dom-intersectionobserverentry-target\u2462" }, { "id": "ref-for-dom-intersectionobserverentry-target\u2463" }], "title": "2.3. \nThe IntersectionObserverEntry interface" }], "external": false };
        window.dfnpanelData['dom-intersectionobserverentry-time'] = { "dfnID": "dom-intersectionobserverentry-time", "url": "#dom-intersectionobserverentry-time", "dfnText": "time", "refSections": [{ "refs": [{ "id": "ref-for-dom-intersectionobserverentry-time" }], "title": "2.3. \nThe IntersectionObserverEntry interface" }], "external": false };
        window.dfnpanelData['dictdef-intersectionobserverinit'] = { "dfnID": "dictdef-intersectionobserverinit", "url": "#dictdef-intersectionobserverinit", "dfnText": "IntersectionObserverInit", "refSections": [{ "refs": [{ "id": "ref-for-dictdef-intersectionobserverinit" }], "title": "2.2. \nThe IntersectionObserver interface" }, { "refs": [{ "id": "ref-for-dictdef-intersectionobserverinit\u2460" }], "title": "3.2.1. Initialize a new IntersectionObserver" }], "external": false };
        window.dfnpanelData['dom-intersectionobserverinit-root'] = { "dfnID": "dom-intersectionobserverinit-root", "url": "#dom-intersectionobserverinit-root", "dfnText": "root", "refSections": [{ "refs": [{ "id": "ref-for-dom-intersectionobserverinit-root" }], "title": "2.2. \nThe IntersectionObserver interface" }, { "refs": [{ "id": "ref-for-dom-intersectionobserverinit-root\u2460" }], "title": "2.4. \nThe IntersectionObserverInit dictionary" }], "external": false };
        window.dfnpanelData['dom-intersectionobserverinit-rootmargin'] = { "dfnID": "dom-intersectionobserverinit-rootmargin", "url": "#dom-intersectionobserverinit-rootmargin", "dfnText": "rootMargin", "refSections": [{ "refs": [{ "id": "ref-for-dom-intersectionobserverinit-rootmargin" }, { "id": "ref-for-dom-intersectionobserverinit-rootmargin\u2460" }, { "id": "ref-for-dom-intersectionobserverinit-rootmargin\u2461" }], "title": "2.2. \nThe IntersectionObserver interface" }, { "refs": [{ "id": "ref-for-dom-intersectionobserverinit-rootmargin\u2462" }, { "id": "ref-for-dom-intersectionobserverinit-rootmargin\u2463" }, { "id": "ref-for-dom-intersectionobserverinit-rootmargin\u2464" }], "title": "2.4. \nThe IntersectionObserverInit dictionary" }, { "refs": [{ "id": "ref-for-dom-intersectionobserverinit-rootmargin\u2465" }], "title": "3.2.1. Initialize a new IntersectionObserver" }], "external": false };
        window.dfnpanelData['dom-intersectionobserverinit-scrollmargin'] = { "dfnID": "dom-intersectionobserverinit-scrollmargin", "url": "#dom-intersectionobserverinit-scrollmargin", "dfnText": "scrollMargin", "refSections": [{ "refs": [{ "id": "ref-for-dom-intersectionobserverinit-scrollmargin" }, { "id": "ref-for-dom-intersectionobserverinit-scrollmargin\u2460" }], "title": "2.2. \nThe IntersectionObserver interface" }, { "refs": [{ "id": "ref-for-dom-intersectionobserverinit-scrollmargin\u2461" }], "title": "2.4. \nThe IntersectionObserverInit dictionary" }, { "refs": [{ "id": "ref-for-dom-intersectionobserverinit-scrollmargin\u2462" }], "title": "3.2.1. Initialize a new IntersectionObserver" }], "external": false };
        window.dfnpanelData['dom-intersectionobserverinit-threshold'] = { "dfnID": "dom-intersectionobserverinit-threshold", "url": "#dom-intersectionobserverinit-threshold", "dfnText": "threshold", "refSections": [{ "refs": [{ "id": "ref-for-dom-intersectionobserverinit-threshold" }, { "id": "ref-for-dom-intersectionobserverinit-threshold\u2460" }], "title": "2.2. \nThe IntersectionObserver interface" }, { "refs": [{ "id": "ref-for-dom-intersectionobserverinit-threshold\u2461" }], "title": "2.4. \nThe IntersectionObserverInit dictionary" }, { "refs": [{ "id": "ref-for-dom-intersectionobserverinit-threshold\u2462" }], "title": "3.2.1. Initialize a new IntersectionObserver" }], "external": false };
        window.dfnpanelData['intersection-observer-processing-model'] = { "dfnID": "intersection-observer-processing-model", "url": "#intersection-observer-processing-model", "dfnText": "3. \nProcessing Model", "refSections": [{ "refs": [{ "id": "ref-for-intersection-observer-processing-model" }], "title": "2.1. \nThe IntersectionObserverCallback" }, { "refs": [{ "id": "ref-for-intersection-observer-processing-model" }], "title": "3. \nProcessing Model" }], "external": false };
        window.dfnpanelData['document-intersectionobservertaskqueued'] = { "dfnID": "document-intersectionobservertaskqueued", "url": "#document-intersectionobservertaskqueued", "dfnText": "IntersectionObserverTaskQueued", "refSections": [{ "refs": [{ "id": "ref-for-document-intersectionobservertaskqueued" }, { "id": "ref-for-document-intersectionobservertaskqueued\u2460" }], "title": "3.2.4. \nQueue an Intersection Observer Task" }, { "refs": [{ "id": "ref-for-document-intersectionobservertaskqueued\u2461" }], "title": "3.2.5. \nNotify Intersection Observers" }], "external": false };
        window.dfnpanelData['dom-element-registeredintersectionobservers-slot'] = { "dfnID": "dom-element-registeredintersectionobservers-slot", "url": "#dom-element-registeredintersectionobservers-slot", "dfnText": "[[RegisteredIntersectionObservers]]", "refSections": [{ "refs": [{ "id": "ref-for-dom-element-registeredintersectionobservers-slot" }], "title": "2.2. \nThe IntersectionObserver interface" }, { "refs": [{ "id": "ref-for-dom-element-registeredintersectionobservers-slot\u2460" }], "title": "3.2.2. Observe a target Element" }, { "refs": [{ "id": "ref-for-dom-element-registeredintersectionobservers-slot\u2461" }], "title": "3.2.3. Unobserve a target Element" }, { "refs": [{ "id": "ref-for-dom-element-registeredintersectionobservers-slot\u2462" }], "title": "3.2.8. \nRun the Update Intersection Observations Steps" }], "external": false };
        window.dfnpanelData['intersectionobserverregistration'] = { "dfnID": "intersectionobserverregistration", "url": "#intersectionobserverregistration", "dfnText": "IntersectionObserverRegistration", "refSections": [{ "refs": [{ "id": "ref-for-intersectionobserverregistration" }], "title": "2.2. \nThe IntersectionObserver interface" }, { "refs": [{ "id": "ref-for-intersectionobserverregistration\u2460" }], "title": "3.2.2. Observe a target Element" }, { "refs": [{ "id": "ref-for-intersectionobserverregistration\u2461" }], "title": "3.2.3. Unobserve a target Element" }, { "refs": [{ "id": "ref-for-intersectionobserverregistration\u2462" }], "title": "3.2.8. \nRun the Update Intersection Observations Steps" }], "external": false };
        window.dfnpanelData['dom-intersectionobserverregistration-observer'] = { "dfnID": "dom-intersectionobserverregistration-observer", "url": "#dom-intersectionobserverregistration-observer", "dfnText": "observer", "refSections": [{ "refs": [{ "id": "ref-for-dom-intersectionobserverregistration-observer" }], "title": "2.2. \nThe IntersectionObserver interface" }, { "refs": [{ "id": "ref-for-dom-intersectionobserverregistration-observer\u2460" }], "title": "3.2.2. Observe a target Element" }, { "refs": [{ "id": "ref-for-dom-intersectionobserverregistration-observer\u2461" }], "title": "3.2.3. Unobserve a target Element" }, { "refs": [{ "id": "ref-for-dom-intersectionobserverregistration-observer\u2462" }], "title": "3.2.8. \nRun the Update Intersection Observations Steps" }], "external": false };
        window.dfnpanelData['dom-intersectionobserverregistration-previousthresholdindex'] = { "dfnID": "dom-intersectionobserverregistration-previousthresholdindex", "url": "#dom-intersectionobserverregistration-previousthresholdindex", "dfnText": "previousThresholdIndex", "refSections": [{ "refs": [{ "id": "ref-for-dom-intersectionobserverregistration-previousthresholdindex" }], "title": "3.2.2. Observe a target Element" }, { "refs": [{ "id": "ref-for-dom-intersectionobserverregistration-previousthresholdindex\u2460" }, { "id": "ref-for-dom-intersectionobserverregistration-previousthresholdindex\u2461" }], "title": "3.2.8. \nRun the Update Intersection Observations Steps" }], "external": false };
        window.dfnpanelData['dom-intersectionobserverregistration-previousisintersecting'] = { "dfnID": "dom-intersectionobserverregistration-previousisintersecting", "url": "#dom-intersectionobserverregistration-previousisintersecting", "dfnText": "previousIsIntersecting", "refSections": [{ "refs": [{ "id": "ref-for-dom-intersectionobserverregistration-previousisintersecting" }], "title": "3.2.2. Observe a target Element" }, { "refs": [{ "id": "ref-for-dom-intersectionobserverregistration-previousisintersecting\u2460" }, { "id": "ref-for-dom-intersectionobserverregistration-previousisintersecting\u2461" }], "title": "3.2.8. \nRun the Update Intersection Observations Steps" }], "external": false };
        window.dfnpanelData['dom-intersectionobserver-queuedentries-slot'] = { "dfnID": "dom-intersectionobserver-queuedentries-slot", "url": "#dom-intersectionobserver-queuedentries-slot", "dfnText": "[[QueuedEntries]]", "refSections": [{ "refs": [{ "id": "ref-for-dom-intersectionobserver-queuedentries-slot" }, { "id": "ref-for-dom-intersectionobserver-queuedentries-slot\u2460" }], "title": "2.2. \nThe IntersectionObserver interface" }, { "refs": [{ "id": "ref-for-dom-intersectionobserver-queuedentries-slot\u2461" }, { "id": "ref-for-dom-intersectionobserver-queuedentries-slot\u2462" }, { "id": "ref-for-dom-intersectionobserver-queuedentries-slot\u2463" }], "title": "3.2.5. \nNotify Intersection Observers" }, { "refs": [{ "id": "ref-for-dom-intersectionobserver-queuedentries-slot\u2464" }], "title": "3.2.6. \nQueue an IntersectionObserverEntry" }], "external": false };
        window.dfnpanelData['dom-intersectionobserver-observationtargets-slot'] = { "dfnID": "dom-intersectionobserver-observationtargets-slot", "url": "#dom-intersectionobserver-observationtargets-slot", "dfnText": "[[ObservationTargets]]", "refSections": [{ "refs": [{ "id": "ref-for-dom-intersectionobserver-observationtargets-slot" }, { "id": "ref-for-dom-intersectionobserver-observationtargets-slot\u2460" }], "title": "2.2. \nThe IntersectionObserver interface" }, { "refs": [{ "id": "ref-for-dom-intersectionobserver-observationtargets-slot\u2461" }, { "id": "ref-for-dom-intersectionobserver-observationtargets-slot\u2462" }], "title": "3.2.2. Observe a target Element" }, { "refs": [{ "id": "ref-for-dom-intersectionobserver-observationtargets-slot\u2463" }], "title": "3.2.3. Unobserve a target Element" }, { "refs": [{ "id": "ref-for-dom-intersectionobserver-observationtargets-slot\u2464" }], "title": "3.2.8. \nRun the Update Intersection Observations Steps" }, { "refs": [{ "id": "ref-for-dom-intersectionobserver-observationtargets-slot\u2465" }], "title": "3.4.2. Pending initial IntersectionObserver targets" }], "external": false };
        window.dfnpanelData['dom-intersectionobserver-callback-slot'] = { "dfnID": "dom-intersectionobserver-callback-slot", "url": "#dom-intersectionobserver-callback-slot", "dfnText": "[[callback]]", "refSections": [{ "refs": [{ "id": "ref-for-dom-intersectionobserver-callback-slot" }], "title": "3.2.1. Initialize a new IntersectionObserver" }, { "refs": [{ "id": "ref-for-dom-intersectionobserver-callback-slot\u2460" }], "title": "3.2.5. \nNotify Intersection Observers" }], "external": false };
        window.dfnpanelData['dom-intersectionobserver-rootmargin-slot'] = { "dfnID": "dom-intersectionobserver-rootmargin-slot", "url": "#dom-intersectionobserver-rootmargin-slot", "dfnText": "[[rootMargin]]", "refSections": [{ "refs": [{ "id": "ref-for-dom-intersectionobserver-rootmargin-slot" }, { "id": "ref-for-dom-intersectionobserver-rootmargin-slot\u2460" }], "title": "2.2. \nThe IntersectionObserver interface" }, { "refs": [{ "id": "ref-for-dom-intersectionobserver-rootmargin-slot\u2461" }], "title": "3.2.1. Initialize a new IntersectionObserver" }], "external": false };
        window.dfnpanelData['dom-intersectionobserver-scrollmargin-slot'] = { "dfnID": "dom-intersectionobserver-scrollmargin-slot", "url": "#dom-intersectionobserver-scrollmargin-slot", "dfnText": "[[scrollMargin]]", "refSections": [{ "refs": [{ "id": "ref-for-dom-intersectionobserver-scrollmargin-slot" }, { "id": "ref-for-dom-intersectionobserver-scrollmargin-slot\u2460" }], "title": "2.2. \nThe IntersectionObserver interface" }, { "refs": [{ "id": "ref-for-dom-intersectionobserver-scrollmargin-slot\u2461" }], "title": "3.2.1. Initialize a new IntersectionObserver" }, { "refs": [{ "id": "ref-for-dom-intersectionobserver-scrollmargin-slot\u2462" }], "title": "3.2.7. \nCompute the Intersection of a Target Element and the Root" }], "external": false };
        window.dfnpanelData['initialize-a-new-intersectionobserver'] = { "dfnID": "initialize-a-new-intersectionobserver", "url": "#initialize-a-new-intersectionobserver", "dfnText": "initialize a new IntersectionObserver", "refSections": [{ "refs": [{ "id": "ref-for-initialize-a-new-intersectionobserver" }], "title": "2.2. \nThe IntersectionObserver interface" }], "external": false };
        window.dfnpanelData['observe-a-target-element'] = { "dfnID": "observe-a-target-element", "url": "#observe-a-target-element", "dfnText": "observe a target Element", "refSections": [{ "refs": [{ "id": "ref-for-observe-a-target-element" }], "title": "2.2. \nThe IntersectionObserver interface" }], "external": false };
        window.dfnpanelData['unobserve-a-target-element'] = { "dfnID": "unobserve-a-target-element", "url": "#unobserve-a-target-element", "dfnText": "unobserve a target Element", "refSections": [{ "refs": [{ "id": "ref-for-unobserve-a-target-element" }], "title": "2.2. \nThe IntersectionObserver interface" }], "external": false };
        window.dfnpanelData['intersectionobserver-task-source'] = { "dfnID": "intersectionobserver-task-source", "url": "#intersectionobserver-task-source", "dfnText": "IntersectionObserver task source", "refSections": [{ "refs": [{ "id": "ref-for-intersectionobserver-task-source" }], "title": "3.2.4. \nQueue an Intersection Observer Task" }], "external": false };
        window.dfnpanelData['queue-an-intersection-observer-task'] = { "dfnID": "queue-an-intersection-observer-task", "url": "#queue-an-intersection-observer-task", "dfnText": "queue an intersection observer task", "refSections": [{ "refs": [{ "id": "ref-for-queue-an-intersection-observer-task" }], "title": "3.2.6. \nQueue an IntersectionObserverEntry" }], "external": false };
        window.dfnpanelData['notify-intersection-observers'] = { "dfnID": "notify-intersection-observers", "url": "#notify-intersection-observers", "dfnText": "notify intersection observers", "refSections": [{ "refs": [{ "id": "ref-for-notify-intersection-observers" }], "title": "3.2.4. \nQueue an Intersection Observer Task" }], "external": false };
        window.dfnpanelData['queue-an-intersectionobserverentry'] = { "dfnID": "queue-an-intersectionobserverentry", "url": "#queue-an-intersectionobserverentry", "dfnText": "queue an IntersectionObserverEntry", "refSections": [{ "refs": [{ "id": "ref-for-queue-an-intersectionobserverentry" }], "title": "3.2.8. \nRun the Update Intersection Observations Steps" }], "external": false };
        window.dfnpanelData['compute-the-intersection'] = { "dfnID": "compute-the-intersection", "url": "#compute-the-intersection", "dfnText": "compute the intersection", "refSections": [{ "refs": [{ "id": "ref-for-compute-the-intersection" }], "title": "3.2.8. \nRun the Update Intersection Observations Steps" }], "external": false };
        window.dfnpanelData['pending-initial-intersectionobserver-targets'] = { "dfnID": "pending-initial-intersectionobserver-targets", "url": "#pending-initial-intersectionobserver-targets", "dfnText": "pending initial IntersectionObserver targets", "refSections": [{ "refs": [{ "id": "ref-for-pending-initial-intersectionobserver-targets" }], "title": "3.4.2. Pending initial IntersectionObserver targets" }], "external": false };
    </script>
    <script>/* Boilerplate: script-dom-helper */
        function query(sel) { return document.querySelector(sel); }

        function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

        function iter(obj) {
            if (!obj) return [];
            var it = obj[Symbol.iterator];
            if (it) return it;
            return Object.entries(obj);
        }

        function mk(tagname, attrs, ...children) {
            const el = document.createElement(tagname);
            for (const [k, v] of iter(attrs)) {
                if (k.slice(0, 3) == "_on") {
                    const eventName = k.slice(3);
                    el.addEventListener(eventName, v);
                } else if (k[0] == "_") {
                    // property, not attribute
                    el[k.slice(1)] = v;
                } else {
                    if (v === false || v == null) {
                        continue;
                    } else if (v === true) {
                        el.setAttribute(k, "");
                        continue;
                    } else {
                        el.setAttribute(k, v);
                    }
                }
            }
            append(el, children);
            return el;
        }

        /* Create shortcuts for every known HTML element */
        [
            "a",
            "abbr",
            "acronym",
            "address",
            "applet",
            "area",
            "article",
            "aside",
            "audio",
            "b",
            "base",
            "basefont",
            "bdo",
            "big",
            "blockquote",
            "body",
            "br",
            "button",
            "canvas",
            "caption",
            "center",
            "cite",
            "code",
            "col",
            "colgroup",
            "datalist",
            "dd",
            "del",
            "details",
            "dfn",
            "dialog",
            "div",
            "dl",
            "dt",
            "em",
            "embed",
            "fieldset",
            "figcaption",
            "figure",
            "font",
            "footer",
            "form",
            "frame",
            "frameset",
            "head",
            "header",
            "h1",
            "h2",
            "h3",
            "h4",
            "h5",
            "h6",
            "hr",
            "html",
            "i",
            "iframe",
            "img",
            "input",
            "ins",
            "kbd",
            "label",
            "legend",
            "li",
            "link",
            "main",
            "map",
            "mark",
            "meta",
            "meter",
            "nav",
            "nobr",
            "noscript",
            "object",
            "ol",
            "optgroup",
            "option",
            "output",
            "p",
            "param",
            "pre",
            "progress",
            "q",
            "s",
            "samp",
            "script",
            "section",
            "select",
            "small",
            "source",
            "span",
            "strike",
            "strong",
            "style",
            "sub",
            "summary",
            "sup",
            "table",
            "tbody",
            "td",
            "template",
            "textarea",
            "tfoot",
            "th",
            "thead",
            "time",
            "title",
            "tr",
            "u",
            "ul",
            "var",
            "video",
            "wbr",
            "xmp",
        ].forEach(tagname => {
            mk[tagname] = (...args) => mk(tagname, ...args);
        });

        function* nodesFromChildList(children) {
            for (const child of children.flat(Infinity)) {
                if (child instanceof Node) {
                    yield child;
                } else {
                    yield new Text(child);
                }
            }
        }
        function append(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                if (el instanceof Node) el.appendChild(child);
                else el.push(child);
            }
            return el;
        }

        function insertAfter(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                el.parentNode.insertBefore(child, el.nextSibling);
            }
            return el;
        }

        function clearContents(el) {
            el.innerHTML = "";
            return el;
        }

        function parseHTML(markup) {
            if (markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
                const doc = document.implementation.createHTMLDocument("");
                doc.documentElement.innerHTML = markup;
                return doc;
            } else {
                const el = mk.template({});
                el.innerHTML = markup;
                return el.content;
            }
        }
    </script>
    <script>/* Boilerplate: script-position-annos */
        "use strict";
        {

            function repositionAnnoPanels() {
                const panels = [...document.querySelectorAll("[data-anno-for]")];
                const main = document.querySelector("main");
                let mainRect;
                if (main) mainRect = main.getBoundingClientRect();
                for (const panel of panels) {
                    const dfn = document.getElementById(panel.getAttribute("data-anno-for"));
                    if (!dfn) {
                        console.log("Can't find the annotation panel target:", panel);
                        continue;
                    }
                    const rect = dfn.getBoundingClientRect();
                    const top = window.scrollY + rect.top
                    panel.style.top = top + "px";
                    panel.top = top;
                    panel.height = rect.height;
                    panel.classList.remove("unpositioned");
                    const panelRect = panel.getBoundingClientRect()
                    if (main) {
                        panel.classList.toggle("overlapping-main", panelRect.left < mainRect.right)
                    }
                }
                let vSoFar = 0;
                for (const panel of panels.sort(cmpTops)) {
                    if (panel.top < vSoFar) {
                        panel.top = vSoFar;
                        panel.style.top = vSoFar + "px";
                    }
                    vSoFar = panel.top + panel.height + 15;
                }
            }

            function cmpTops(a, b) {
                return a.top - b.top;
            }

            window.addEventListener("load", repositionAnnoPanels);
            window.addEventListener("resize", repositionAnnoPanels);
        }
    </script>
    <script src="/dropdown.js"></script>